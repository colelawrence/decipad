var Rh=Object.create;var jt=Object.defineProperty,Mh=Object.defineProperties,Ph=Object.getOwnPropertyDescriptor,Ch=Object.getOwnPropertyDescriptors,kh=Object.getOwnPropertyNames,Tn=Object.getOwnPropertySymbols,Ah=Object.getPrototypeOf,vs=Object.prototype.hasOwnProperty,_c=Object.prototype.propertyIsEnumerable;var hc=(t,e,r)=>e in t?jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ee=(t,e)=>{for(var r in e||(e={}))vs.call(e,r)&&hc(t,r,e[r]);if(Tn)for(var r of Tn(e))_c.call(e,r)&&hc(t,r,e[r]);return t},gc=(t,e)=>Mh(t,Ch(e)),vc=t=>jt(t,"__esModule",{value:!0}),o=(t,e)=>jt(t,"name",{value:e,configurable:!0});var mc=(t,e)=>{var r={};for(var n in t)vs.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Tn)for(var n of Tn(t))e.indexOf(n)<0&&_c.call(t,n)&&(r[n]=t[n]);return r};var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Nh=(t,e)=>{vc(t);for(var r in e)jt(t,r,{get:e[r],enumerable:!0})},jh=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of kh(e))!vs.call(t,n)&&n!=="default"&&jt(t,n,{get:()=>e[n],enumerable:!(r=Ph(e,n))||r.enumerable});return t},On=t=>jh(vc(jt(t!=null?Rh(Ah(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var P=p((k1,qn)=>{var yc,bc,Sc,Ec,Tc,Oc,wc,qc,Ic,wn,ms,xc,Rc,Dt,Mc,Pc,Cc,kc,Ac,Nc,jc,Dc,Fc;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof qn=="object"&&typeof qn.exports=="object"?t(r(e,r(qn.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}o(r,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};yc=o(function(r,n){e(r,n);function i(){this.constructor=r}o(i,"__"),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},"__extends"),bc=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Sc=o(function(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i},"__rest"),Ec=o(function(r,n,i,s){var a=arguments.length,u=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,s);else for(var l=r.length-1;l>=0;l--)(c=r[l])&&(u=(a<3?c(u):a>3?c(n,i,u):c(n,i))||u);return a>3&&u&&Object.defineProperty(n,i,u),u},"__decorate"),Tc=o(function(r,n){return function(i,s){n(i,s,r)}},"__param"),Oc=o(function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},"__metadata"),wc=o(function(r,n,i,s){function a(u){return u instanceof i?u:new i(function(c){c(u)})}return o(a,"adopt"),new(i||(i=Promise))(function(u,c){function l(_){try{d(s.next(_))}catch(h){c(h)}}o(l,"fulfilled");function f(_){try{d(s.throw(_))}catch(h){c(h)}}o(f,"rejected");function d(_){_.done?u(_.value):a(_.value).then(l,f)}o(d,"step"),d((s=s.apply(r,n||[])).next())})},"__awaiter"),qc=o(function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(d){return function(_){return f([d,_])}}function f(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,a&&(u=d[0]&2?a.return:d[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,d[1])).done)return u;switch(a=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,a=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){i.label=d[1];break}if(d[0]===6&&i.label<u[1]){i.label=u[1],u=d;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(d);break}u[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(r,i)}catch(_){d=[6,_],a=0}finally{s=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},"__generator"),Fc=o(function(r,n,i,s){s===void 0&&(s=i),r[s]=n[i]},"__createBinding"),Ic=o(function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},"__exportStar"),wn=o(function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),ms=o(function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),a,u=[],c;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(l){c={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(c)throw c.error}}return u},"__read"),xc=o(function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(ms(arguments[n]));return r},"__spread"),Rc=o(function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var s=Array(r),a=0,n=0;n<i;n++)for(var u=arguments[n],c=0,l=u.length;c<l;c++,a++)s[a]=u[c];return s},"__spreadArrays"),Dt=o(function(r){return this instanceof Dt?(this.v=r,this):new Dt(r)},"__await"),Mc=o(function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,n||[]),a,u=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(g){s[g]&&(a[g]=function(v){return new Promise(function(m,S){u.push([g,v,m,S])>1||l(g,v)})})}function l(g,v){try{f(s[g](v))}catch(m){h(u[0][3],m)}}function f(g){g.value instanceof Dt?Promise.resolve(g.value.v).then(d,_):h(u[0][2],g)}function d(g){l("next",g)}function _(g){l("throw",g)}function h(g,v){g(v),u.shift(),u.length&&l(u[0][0],u[0][1])}},"__asyncGenerator"),Pc=o(function(r){var n,i;return n={},s("next"),s("throw",function(a){throw a}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(a,u){n[a]=r[a]?function(c){return(i=!i)?{value:Dt(r[a](c)),done:a==="return"}:u?u(c):c}:u}},"__asyncDelegator"),Cc=o(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof wn=="function"?wn(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=r[u]&&function(c){return new Promise(function(l,f){c=r[u](c),a(l,f,c.done,c.value)})}}function a(u,c,l,f){Promise.resolve(f).then(function(d){u({value:d,done:l})},c)}},"__asyncValues"),kc=o(function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},"__makeTemplateObject"),Ac=o(function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},"__importStar"),Nc=o(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),jc=o(function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},"__classPrivateFieldGet"),Dc=o(function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},"__classPrivateFieldSet"),t("__extends",yc),t("__assign",bc),t("__rest",Sc),t("__decorate",Ec),t("__param",Tc),t("__metadata",Oc),t("__awaiter",wc),t("__generator",qc),t("__exportStar",Ic),t("__createBinding",Fc),t("__values",wn),t("__read",ms),t("__spread",xc),t("__spreadArrays",Rc),t("__await",Dt),t("__asyncGenerator",Mc),t("__asyncDelegator",Pc),t("__asyncValues",Cc),t("__makeTemplateObject",kc),t("__importStar",Ac),t("__importDefault",Nc),t("__classPrivateFieldGet",jc),t("__classPrivateFieldSet",Dc)})});var T=p((A1,xn)=>{var Hc,Uc,Lc,Bc,Gc,Wc,zc,Yc,Vc,In,ys,Kc,$c,Ft,Jc,Xc,Zc,Qc,el,tl,rl,nl,il;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof xn=="object"&&typeof xn.exports=="object"?t(r(e,r(xn.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}o(r,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};Hc=o(function(r,n){e(r,n);function i(){this.constructor=r}o(i,"__"),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},"__extends"),Uc=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Lc=o(function(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i},"__rest"),Bc=o(function(r,n,i,s){var a=arguments.length,u=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,s);else for(var l=r.length-1;l>=0;l--)(c=r[l])&&(u=(a<3?c(u):a>3?c(n,i,u):c(n,i))||u);return a>3&&u&&Object.defineProperty(n,i,u),u},"__decorate"),Gc=o(function(r,n){return function(i,s){n(i,s,r)}},"__param"),Wc=o(function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},"__metadata"),zc=o(function(r,n,i,s){function a(u){return u instanceof i?u:new i(function(c){c(u)})}return o(a,"adopt"),new(i||(i=Promise))(function(u,c){function l(_){try{d(s.next(_))}catch(h){c(h)}}o(l,"fulfilled");function f(_){try{d(s.throw(_))}catch(h){c(h)}}o(f,"rejected");function d(_){_.done?u(_.value):a(_.value).then(l,f)}o(d,"step"),d((s=s.apply(r,n||[])).next())})},"__awaiter"),Yc=o(function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(d){return function(_){return f([d,_])}}function f(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,a&&(u=d[0]&2?a.return:d[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,d[1])).done)return u;switch(a=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,a=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){i.label=d[1];break}if(d[0]===6&&i.label<u[1]){i.label=u[1],u=d;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(d);break}u[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(r,i)}catch(_){d=[6,_],a=0}finally{s=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},"__generator"),il=o(function(r,n,i,s){s===void 0&&(s=i),r[s]=n[i]},"__createBinding"),Vc=o(function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},"__exportStar"),In=o(function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),ys=o(function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),a,u=[],c;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(l){c={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(c)throw c.error}}return u},"__read"),Kc=o(function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(ys(arguments[n]));return r},"__spread"),$c=o(function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var s=Array(r),a=0,n=0;n<i;n++)for(var u=arguments[n],c=0,l=u.length;c<l;c++,a++)s[a]=u[c];return s},"__spreadArrays"),Ft=o(function(r){return this instanceof Ft?(this.v=r,this):new Ft(r)},"__await"),Jc=o(function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,n||[]),a,u=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(g){s[g]&&(a[g]=function(v){return new Promise(function(m,S){u.push([g,v,m,S])>1||l(g,v)})})}function l(g,v){try{f(s[g](v))}catch(m){h(u[0][3],m)}}function f(g){g.value instanceof Ft?Promise.resolve(g.value.v).then(d,_):h(u[0][2],g)}function d(g){l("next",g)}function _(g){l("throw",g)}function h(g,v){g(v),u.shift(),u.length&&l(u[0][0],u[0][1])}},"__asyncGenerator"),Xc=o(function(r){var n,i;return n={},s("next"),s("throw",function(a){throw a}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(a,u){n[a]=r[a]?function(c){return(i=!i)?{value:Ft(r[a](c)),done:a==="return"}:u?u(c):c}:u}},"__asyncDelegator"),Zc=o(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof In=="function"?In(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=r[u]&&function(c){return new Promise(function(l,f){c=r[u](c),a(l,f,c.done,c.value)})}}function a(u,c,l,f){Promise.resolve(f).then(function(d){u({value:d,done:l})},c)}},"__asyncValues"),Qc=o(function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},"__makeTemplateObject"),el=o(function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},"__importStar"),tl=o(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),rl=o(function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},"__classPrivateFieldGet"),nl=o(function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},"__classPrivateFieldSet"),t("__extends",Hc),t("__assign",Uc),t("__rest",Lc),t("__decorate",Bc),t("__param",Gc),t("__metadata",Wc),t("__awaiter",zc),t("__generator",Yc),t("__exportStar",Vc),t("__createBinding",il),t("__values",In),t("__read",ys),t("__spread",Kc),t("__spreadArrays",$c),t("__await",Ft),t("__asyncGenerator",Jc),t("__asyncDelegator",Xc),t("__asyncValues",Zc),t("__makeTemplateObject",Qc),t("__importStar",el),t("__importDefault",tl),t("__classPrivateFieldGet",rl),t("__classPrivateFieldSet",nl)})});var sl=p(Rn=>{Object.defineProperty(Rn,"__esModule",{value:!0});var Dh;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"})(Dh=Rn.LogLevel||(Rn.LogLevel={}))});var al=p(Ht=>{Object.defineProperty(Ht,"__esModule",{value:!0});var Fh;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(Fh=Ht.SessionStatus||(Ht.SessionStatus={}));var Hh;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})(Hh=Ht.RequestSessionStatus||(Ht.RequestSessionStatus={}))});var ul=p(Ut=>{Object.defineProperty(Ut,"__esModule",{value:!0});var ol;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(ol=Ut.Severity||(Ut.Severity={}));(function(t){function e(r){switch(r){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}o(e,"fromString"),t.fromString=e})(ol=Ut.Severity||(Ut.Severity={}))});var ll=p(Lt=>{Object.defineProperty(Lt,"__esModule",{value:!0});var cl;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(cl=Lt.Status||(Lt.Status={}));(function(t){function e(r){return r>=200&&r<300?t.Success:r===429?t.RateLimit:r>=400&&r<500?t.Invalid:r>=500?t.Failed:t.Unknown}o(e,"fromHttpCode"),t.fromHttpCode=e})(cl=Lt.Status||(Lt.Status={}))});var fl=p(Mn=>{Object.defineProperty(Mn,"__esModule",{value:!0});var Uh;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(Uh=Mn.TransactionSamplingMethod||(Mn.TransactionSamplingMethod={}))});var J=p(tt=>{Object.defineProperty(tt,"__esModule",{value:!0});var Lh=sl();tt.LogLevel=Lh.LogLevel;var dl=al();tt.SessionStatus=dl.SessionStatus;tt.RequestSessionStatus=dl.RequestSessionStatus;var Bh=ul();tt.Severity=Bh.Severity;var Gh=ll();tt.Status=Gh.Status;var Wh=fl();tt.TransactionSamplingMethod=Wh.TransactionSamplingMethod});var pl=p(bs=>{Object.defineProperty(bs,"__esModule",{value:!0});function zh(t){t.then(null,function(e){console.error(e)})}o(zh,"forget");bs.forget=zh});var yt=p(X=>{Object.defineProperty(X,"__esModule",{value:!0});function Yh(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return Pn(t,Error)}}o(Yh,"isError");X.isError=Yh;function Vh(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}o(Vh,"isErrorEvent");X.isErrorEvent=Vh;function Kh(t){return Object.prototype.toString.call(t)==="[object DOMError]"}o(Kh,"isDOMError");X.isDOMError=Kh;function $h(t){return Object.prototype.toString.call(t)==="[object DOMException]"}o($h,"isDOMException");X.isDOMException=$h;function Jh(t){return Object.prototype.toString.call(t)==="[object String]"}o(Jh,"isString");X.isString=Jh;function Xh(t){return t===null||typeof t!="object"&&typeof t!="function"}o(Xh,"isPrimitive");X.isPrimitive=Xh;function _l(t){return Object.prototype.toString.call(t)==="[object Object]"}o(_l,"isPlainObject");X.isPlainObject=_l;function Zh(t){return typeof Event!="undefined"&&Pn(t,Event)}o(Zh,"isEvent");X.isEvent=Zh;function Qh(t){return typeof Element!="undefined"&&Pn(t,Element)}o(Qh,"isElement");X.isElement=Qh;function eg(t){return Object.prototype.toString.call(t)==="[object RegExp]"}o(eg,"isRegExp");X.isRegExp=eg;function tg(t){return Boolean(t&&t.then&&typeof t.then=="function")}o(tg,"isThenable");X.isThenable=tg;function rg(t){return _l(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(rg,"isSyntheticEvent");X.isSyntheticEvent=rg;function Pn(t,e){try{return t instanceof e}catch(r){return!1}}o(Pn,"isInstanceOf");X.isInstanceOf=Pn});var Es=p(Ss=>{Object.defineProperty(Ss,"__esModule",{value:!0});var ng=yt();function ig(t,e){try{for(var r=t,n=5,i=80,s=[],a=0,u=0,c=" > ",l=c.length,f=void 0;r&&a++<n&&(f=sg(r,e),!(f==="html"||a>1&&u+s.length*l+f.length>=i));)s.push(f),u+=f.length,r=r.parentNode;return s.reverse().join(c)}catch(d){return"<unknown>"}}o(ig,"htmlTreeAsString");Ss.htmlTreeAsString=ig;function sg(t,e){var r,n,i=t,s=[],a,u,c,l,f;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var d=((r=e)===null||r===void 0?void 0:r.length)?e.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((n=d)===null||n===void 0?void 0:n.length)d.forEach(function(h){s.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&s.push("#"+i.id),a=i.className,a&&ng.isString(a))for(u=a.split(/\s+/),f=0;f<u.length;f++)s.push("."+u[f]);var _=["type","name","title","alt"];for(f=0;f<_.length;f++)c=_[f],l=i.getAttribute(c),l&&s.push("["+c+'="'+l+'"]');return s.join("")}o(sg,"_htmlElementAsString")});var hl=p(Ts=>{Object.defineProperty(Ts,"__esModule",{value:!0});Ts.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?ag:og);function ag(t,e){return t.__proto__=e,t}o(ag,"setProtoOf");function og(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}o(og,"mixinProperties")});var Cn=p(Os=>{Object.defineProperty(Os,"__esModule",{value:!0});var ug=T(),cg=hl(),lg=function(t){ug.__extends(e,t);function e(r){var n=this.constructor,i=t.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,cg.setPrototypeOf(i,n.prototype),i}return o(e,"SentryError"),e}(Error);Os.SentryError=lg});var gl=p(ws=>{Object.defineProperty(ws,"__esModule",{value:!0});var fg=T(),Cr=Cn(),dg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,kr="Invalid Dsn",pg=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return o(t,"Dsn"),t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this,n=r.host,i=r.path,s=r.pass,a=r.port,u=r.projectId,c=r.protocol,l=r.publicKey;return c+"://"+l+(e&&s?":"+s:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+u)},t.prototype._fromString=function(e){var r=dg.exec(e);if(!r)throw new Cr.SentryError(kr);var n=fg.__read(r.slice(1),6),i=n[0],s=n[1],a=n[2],u=a===void 0?"":a,c=n[3],l=n[4],f=l===void 0?"":l,d=n[5],_="",h=d,g=h.split("/");if(g.length>1&&(_=g.slice(0,-1).join("/"),h=g.pop()),h){var v=h.match(/^\d+/);v&&(h=v[0])}this._fromComponents({host:c,pass:u,path:_,projectId:h,port:f,protocol:i,publicKey:s})},t.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!e[r])throw new Cr.SentryError(kr+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new Cr.SentryError(kr+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new Cr.SentryError(kr+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Cr.SentryError(kr+": Invalid port "+this.port)},t}();ws.Dsn=pg});var Nn=p((Ar,An)=>{Object.defineProperty(Ar,"__esModule",{value:!0});function _g(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}o(_g,"isNodeEnv");Ar.isNodeEnv=_g;function kn(t,e){return t.require(e)}o(kn,"dynamicRequire");Ar.dynamicRequire=kn;function hg(t){var e;try{e=kn(An,t)}catch(n){}try{var r=kn(An,"process").cwd;e=kn(An,r()+"/node_modules/"+t)}catch(n){}return e}o(hg,"loadModule");Ar.loadModule=hg});var jn=p(Bt=>{Object.defineProperty(Bt,"__esModule",{value:!0});var vl=yt();function gg(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}o(gg,"truncate");Bt.truncate=gg;function vg(t,e){var r=t,n=r.length;if(n<=150)return r;e>n&&(e=n);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}o(vg,"snipLine");Bt.snipLine=vg;function mg(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch(s){r.push("[value cannot be serialized]")}}return r.join(e)}o(mg,"safeJoin");Bt.safeJoin=mg;function yg(t,e){return vl.isString(t)?vl.isRegExp(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}o(yg,"isMatchingPattern");Bt.isMatchingPattern=yg});var Gt=p(te=>{Object.defineProperty(te,"__esModule",{value:!0});var bg=Nn(),qs=jn(),Sg={};function Is(){return bg.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:Sg}o(Is,"getGlobalObject");te.getGlobalObject=Is;function Eg(){var t=Is(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=o(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,a=i==="x"?s:s&3|8;return a.toString(16)})}o(Eg,"uuid4");te.uuid4=Eg;function Tg(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}o(Tg,"parseUrl");te.parseUrl=Tg;function Og(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}o(Og,"getEventDescription");te.getEventDescription=Og;function wg(t){var e=Is(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach(function(a){a in e.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var s=t();return Object.keys(i).forEach(function(a){n[a]=i[a]}),s}o(wg,"consoleSandbox");te.consoleSandbox=wg;function qg(t,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||r||"Error"}o(qg,"addExceptionTypeValue");te.addExceptionTypeValue=qg;function Ig(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(r){t.exception.values[0].mechanism[r]=e[r]})}catch(r){}}o(Ig,"addExceptionMechanism");te.addExceptionMechanism=Ig;function xg(){try{return document.location.href}catch(t){return""}}o(xg,"getLocationHref");te.getLocationHref=xg;var Rg=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function Mg(t){var e=t.match(Rg)||[],r=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:e[4]}}o(Mg,"parseSemver");te.parseSemver=Mg;var ml=60*1e3;function Pg(t,e){if(!e)return ml;var r=parseInt(""+e,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+e);return isNaN(n)?ml:n-t}o(Pg,"parseRetryAfterHeader");te.parseRetryAfterHeader=Pg;function Cg(t,e,r){r===void 0&&(r=5);var n=e.lineno||0,i=t.length,s=Math.max(Math.min(i,n-1),0);e.pre_context=t.slice(Math.max(0,s-r),s).map(function(a){return qs.snipLine(a,0)}),e.context_line=qs.snipLine(t[Math.min(i-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,i),s+1+r).map(function(a){return qs.snipLine(a,0)})}o(Cg,"addContextToFrame");te.addContextToFrame=Cg;function kg(t){return t.split(/[\?#]/,1)[0]}o(kg,"stripUrlQueryAndFragment");te.stripUrlQueryAndFragment=kg});var Fn=p(Rs=>{Object.defineProperty(Rs,"__esModule",{value:!0});var Dn=Gt(),bt=Dn.getGlobalObject(),xs="Sentry Logger ",Ag=function(){function t(){this._enabled=!1}return o(t,"Logger"),t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Dn.consoleSandbox(function(){bt.console.log(xs+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Dn.consoleSandbox(function(){bt.console.warn(xs+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Dn.consoleSandbox(function(){bt.console.error(xs+"[Error]: "+e.join(" "))})},t}();bt.__SENTRY__=bt.__SENTRY__||{};var Ng=bt.__SENTRY__.logger||(bt.__SENTRY__.logger=new Ag);Rs.logger=Ng});var Ps=p(Ms=>{Object.defineProperty(Ms,"__esModule",{value:!0});var jg=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return o(t,"Memo"),t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===e){this._inner.splice(r,1);break}},t}();Ms.Memo=jg});var Hn=p(ks=>{Object.defineProperty(ks,"__esModule",{value:!0});var Cs="<anonymous>";function Dg(t){try{return!t||typeof t!="function"?Cs:t.name||Cs}catch(e){return Cs}}o(Dg,"getFunctionName");ks.getFunctionName=Dg});var js=p(je=>{Object.defineProperty(je,"__esModule",{value:!0});var Fg=T(),yl=Es(),Ne=yt(),Hg=Ps(),Ug=Hn(),bl=jn();function Lg(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(s){}t[e]=i}}o(Lg,"fill");je.fill=Lg;function Bg(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}o(Bg,"urlEncode");je.urlEncode=Bg;function Sl(t){if(Ne.isError(t)){var e=t,r={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}if(Ne.isEvent(t)){var i=t,s={};s.type=i.type;try{s.target=Ne.isElement(i.target)?yl.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(a){s.target="<unknown>"}try{s.currentTarget=Ne.isElement(i.currentTarget)?yl.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(a){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&Ne.isInstanceOf(t,CustomEvent)&&(s.detail=i.detail);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i);return s}return t}o(Sl,"getWalkSource");function Gg(t){return~-encodeURI(t).split(/%..|./).length}o(Gg,"utf8Length");function Wg(t){return Gg(JSON.stringify(t))}o(Wg,"jsonSize");function El(t,e,r){e===void 0&&(e=3),r===void 0&&(r=100*1024);var n=Ol(t,e);return Wg(n)>r?El(t,e-1,r):n}o(El,"normalizeToSize");je.normalizeToSize=El;function zg(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var r=Tl(t);return Ne.isPrimitive(r)?r:e}o(zg,"serializeValue");function Tl(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":Ne.isSyntheticEvent(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+Ug.getFunctionName(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}o(Tl,"normalizeValue");function As(t,e,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new Hg.Memo),r===0)return zg(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var i=Tl(e,t);if(Ne.isPrimitive(i))return i;var s=Sl(e),a=Array.isArray(e)?[]:{};if(n.memoize(e))return"[Circular ~]";for(var u in s)!Object.prototype.hasOwnProperty.call(s,u)||(a[u]=As(u,s[u],r-1,n));return n.unmemoize(e),a}o(As,"walk");je.walk=As;function Ol(t,e){try{return JSON.parse(JSON.stringify(t,function(r,n){return As(r,n,e)}))}catch(r){return"**non-serializable**"}}o(Ol,"normalize");je.normalize=Ol;function Yg(t,e){e===void 0&&(e=40);var r=Object.keys(Sl(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return bl.truncate(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:bl.truncate(i,e)}return""}o(Yg,"extractExceptionKeysForMessage");je.extractExceptionKeysForMessage=Yg;function Ns(t){var e,r;if(Ne.isPlainObject(t)){var n=t,i={};try{for(var s=Fg.__values(Object.keys(n)),a=s.next();!a.done;a=s.next()){var u=a.value;typeof n[u]!="undefined"&&(i[u]=Ns(n[u]))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(Ns):t}o(Ns,"dropUndefinedKeys");je.dropUndefinedKeys=Ns});var Hs=p(be=>{Object.defineProperty(be,"__esModule",{value:!0});var Vg=Fn(),Un=Gt();function Kg(){try{return new ErrorEvent(""),!0}catch(t){return!1}}o(Kg,"supportsErrorEvent");be.supportsErrorEvent=Kg;function $g(){try{return new DOMError(""),!0}catch(t){return!1}}o($g,"supportsDOMError");be.supportsDOMError=$g;function Jg(){try{return new DOMException(""),!0}catch(t){return!1}}o(Jg,"supportsDOMException");be.supportsDOMException=Jg;function Ds(){if(!("fetch"in Un.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}o(Ds,"supportsFetch");be.supportsFetch=Ds;function Fs(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(Fs,"isNativeFetch");be.isNativeFetch=Fs;function Xg(){if(!Ds())return!1;var t=Un.getGlobalObject();if(Fs(t.fetch))return!0;var e=!1,r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Fs(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){Vg.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}o(Xg,"supportsNativeFetch");be.supportsNativeFetch=Xg;function Zg(){return"ReportingObserver"in Un.getGlobalObject()}o(Zg,"supportsReportingObserver");be.supportsReportingObserver=Zg;function Qg(){if(!Ds())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}o(Qg,"supportsReferrerPolicy");be.supportsReferrerPolicy=Qg;function ev(){var t=Un.getGlobalObject(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}o(ev,"supportsHistory");be.supportsHistory=ev});var Rl=p(Bs=>{Object.defineProperty(Bs,"__esModule",{value:!0});var Wt=T(),Ln=yt(),wl=Fn(),tv=Gt(),De=js(),rv=Hn(),ql=Hs(),R=tv.getGlobalObject(),Nr={},Il={};function nv(t){if(!Il[t])switch(Il[t]=!0,t){case"console":sv();break;case"dom":_v();break;case"xhr":cv();break;case"fetch":av();break;case"history":lv();break;case"error":hv();break;case"unhandledrejection":gv();break;default:wl.logger.warn("unknown instrumentation type:",t)}}o(nv,"instrument");function iv(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(Nr[t.type]=Nr[t.type]||[],Nr[t.type].push(t.callback),nv(t.type))}o(iv,"addInstrumentationHandler");Bs.addInstrumentationHandler=iv;function Se(t,e){var r,n;if(!(!t||!Nr[t]))try{for(var i=Wt.__values(Nr[t]||[]),s=i.next();!s.done;s=i.next()){var a=s.value;try{a(e)}catch(u){wl.logger.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+rv.getFunctionName(a)+`
Error: `+u)}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}o(Se,"triggerHandlers");function sv(){"console"in R&&["debug","info","warn","error","log","assert"].forEach(function(t){t in R.console&&De.fill(R.console,t,function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Se("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,R.console,r)}})})}o(sv,"instrumentConsole");function av(){!ql.supportsNativeFetch()||De.fill(R,"fetch",function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:ov(e),url:uv(e)},startTimestamp:Date.now()};return Se("fetch",Wt.__assign({},n)),t.apply(R,e).then(function(i){return Se("fetch",Wt.__assign(Wt.__assign({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw Se("fetch",Wt.__assign(Wt.__assign({},n),{endTimestamp:Date.now(),error:i})),i})}})}o(av,"instrumentFetch");function ov(t){return t===void 0&&(t=[]),"Request"in R&&Ln.isInstanceOf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}o(ov,"getFetchMethod");function uv(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in R&&Ln.isInstanceOf(t[0],Request)?t[0].url:String(t[0])}o(uv,"getFetchUrl");function cv(){if("XMLHttpRequest"in R){var t=[],e=[],r=XMLHttpRequest.prototype;De.fill(r,"open",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=this,u=i[1];a.__sentry_xhr__={method:Ln.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},Ln.isString(u)&&a.__sentry_xhr__.method==="POST"&&u.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=o(function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(d){}try{var l=t.indexOf(a);if(l!==-1){t.splice(l);var f=e.splice(l)[0];a.__sentry_xhr__&&f[0]!==void 0&&(a.__sentry_xhr__.body=f[0])}}catch(d){}Se("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}},"onreadystatechangeHandler");return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?De.fill(a,"onreadystatechange",function(l){return function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return c(),l.apply(a,f)}}):a.addEventListener("readystatechange",c),n.apply(a,i)}}),De.fill(r,"send",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return t.push(this),e.push(i),Se("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}o(cv,"instrumentXHR");var Bn;function lv(){if(!ql.supportsHistory())return;var t=R.onpopstate;R.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=R.location.href,s=Bn;if(Bn=i,Se("history",{from:s,to:i}),t)try{return t.apply(this,r)}catch(a){}};function e(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var a=Bn,u=String(s);Bn=u,Se("history",{from:a,to:u})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),De.fill(R.history,"pushState",e),De.fill(R.history,"replaceState",e)}o(lv,"instrumentHistory");var fv=1e3,Gn,Wn;function dv(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(r){}return!1}o(dv,"shouldShortcircuitPreviousDebounce");function pv(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(r){}return!0}o(pv,"shouldSkipDOMEvent");function xl(t,e){return e===void 0&&(e=!1),function(r){if(!(!r||Wn===r)&&!pv(r)){var n=r.type==="keypress"?"input":r.type;Gn===void 0?(t({event:r,name:n,global:e}),Wn=r):dv(Wn,r)&&(t({event:r,name:n,global:e}),Wn=r),clearTimeout(Gn),Gn=R.setTimeout(function(){Gn=void 0},fv)}}}o(xl,"makeDOMEventHandler");function _v(){if("document"in R){var t=Se.bind(null,"dom"),e=xl(t,!0);R.document.addEventListener("click",e,!1),R.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(r){var n=R[r]&&R[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(De.fill(n,"addEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=l[s]=l[s]||{refCount:0};if(!f.handler){var d=xl(t);f.handler=d,i.call(this,s,d,u)}f.refCount+=1}catch(_){}return i.call(this,s,a,u)}}),De.fill(n,"removeEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__||{},f=l[s];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,s,f.handler,u),f.handler=void 0,delete l[s]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(d){}return i.call(this,s,a,u)}}))})}}o(_v,"instrumentDOM");var Us=null;function hv(){Us=R.onerror,R.onerror=function(t,e,r,n,i){return Se("error",{column:n,error:i,line:r,msg:t,url:e}),Us?Us.apply(this,arguments):!1}}o(hv,"instrumentError");var Ls=null;function gv(){Ls=R.onunhandledrejection,R.onunhandledrejection=function(t){return Se("unhandledrejection",t),Ls?Ls.apply(this,arguments):!0}}o(gv,"instrumentUnhandledRejection")});var Nl=p(Fe=>{Object.defineProperty(Fe,"__esModule",{value:!0});function Ml(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];i==="."?t.splice(n,1):i===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}o(Ml,"normalizeArray");var vv=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function Pl(t){var e=vv.exec(t);return e?e.slice(1):[]}o(Pl,"splitPath");function Gs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r="",n=!1,i=t.length-1;i>=-1&&!n;i--){var s=i>=0?t[i]:"/";!s||(r=s+"/"+r,n=s.charAt(0)==="/")}return r=Ml(r.split("/").filter(function(a){return!!a}),!n).join("/"),(n?"/":"")+r||"."}o(Gs,"resolve");Fe.resolve=Gs;function Cl(t){for(var e=0;e<t.length&&t[e]==="";e++);for(var r=t.length-1;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}o(Cl,"trim");function mv(t,e){t=Gs(t).substr(1),e=Gs(e).substr(1);for(var r=Cl(t.split("/")),n=Cl(e.split("/")),i=Math.min(r.length,n.length),s=i,a=0;a<i;a++)if(r[a]!==n[a]){s=a;break}for(var u=[],a=s;a<r.length;a++)u.push("..");return u=u.concat(n.slice(s)),u.join("/")}o(mv,"relative");Fe.relative=mv;function kl(t){var e=Al(t),r=t.substr(-1)==="/",n=Ml(t.split("/").filter(function(i){return!!i}),!e).join("/");return!n&&!e&&(n="."),n&&r&&(n+="/"),(e?"/":"")+n}o(kl,"normalizePath");Fe.normalizePath=kl;function Al(t){return t.charAt(0)==="/"}o(Al,"isAbsolute");Fe.isAbsolute=Al;function yv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return kl(t.join("/"))}o(yv,"join");Fe.join=yv;function bv(t){var e=Pl(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}o(bv,"dirname");Fe.dirname=bv;function Sv(t,e){var r=Pl(t)[2];return e&&r.substr(e.length*-1)===e&&(r=r.substr(0,r.length-e.length)),r}o(Sv,"basename");Fe.basename=Sv});var zs=p(Ws=>{Object.defineProperty(Ws,"__esModule",{value:!0});var Ev=yt(),He;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(He||(He={}));var Tv=function(){function t(e){var r=this;this._state=He.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(He.RESOLVED,n)},this._reject=function(n){r._setResult(He.REJECTED,n)},this._setResult=function(n,i){if(r._state===He.PENDING){if(Ev.isThenable(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==He.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===He.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===He.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return o(t,"SyncPromise"),t.resolve=function(e){return new t(function(r){r(e)})},t.reject=function(e){return new t(function(r,n){n(e)})},t.all=function(e){return new t(function(r,n){if(!Array.isArray(e)){n(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){r([]);return}var i=e.length,s=[];e.forEach(function(a,u){t.resolve(a).then(function(c){s[u]=c,i-=1,i===0&&r(s)}).then(null,n)})})},t.prototype.then=function(e,r){var n=this;return new t(function(i,s){n._attachHandler({done:!1,onfulfilled:function(a){if(!e){i(a);return}try{i(e(a));return}catch(u){s(u);return}},onrejected:function(a){if(!r){s(a);return}try{i(r(a));return}catch(u){s(u);return}}})})},t.prototype.catch=function(e){return this.then(function(r){return r},e)},t.prototype.finally=function(e){var r=this;return new t(function(n,i){var s,a;return r.then(function(u){a=!1,s=u,e&&e()},function(u){a=!0,s=u,e&&e()}).then(function(){if(a){i(s);return}n(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}();Ws.SyncPromise=Tv});var jl=p(Vs=>{Object.defineProperty(Vs,"__esModule",{value:!0});var Ov=Cn(),Ys=zs(),wv=function(){function t(e){this._limit=e,this._buffer=[]}return o(t,"PromiseBuffer"),t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var r=this;if(!this.isReady())return Ys.SyncPromise.reject(new Ov.SentryError("Not adding Promise due to buffer limit reached."));var n=e();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},t.prototype.remove=function(e){var r=this._buffer.splice(this._buffer.indexOf(e),1)[0];return r},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var r=this;return new Ys.SyncPromise(function(n){var i=setTimeout(function(){e&&e>0&&n(!1)},e);Ys.SyncPromise.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}();Vs.PromiseBuffer=wv});var Ll=p((_e,Ul)=>{Object.defineProperty(_e,"__esModule",{value:!0});var Dl=Gt(),Fl=Nn(),Ks={nowSeconds:function(){return Date.now()/1e3}};function qv(){var t=Dl.getGlobalObject().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}o(qv,"getBrowserPerformance");function Iv(){try{var t=Fl.dynamicRequire(Ul,"perf_hooks");return t.performance}catch(e){return}}o(Iv,"getNodePerformance");var zn=Fl.isNodeEnv()?Iv():qv(),Hl=zn===void 0?Ks:{nowSeconds:function(){return(zn.timeOrigin+zn.now())/1e3}};_e.dateTimestampInSeconds=Ks.nowSeconds.bind(Ks);_e.timestampInSeconds=Hl.nowSeconds.bind(Hl);_e.timestampWithMs=_e.timestampInSeconds;_e.usingPerformanceAPI=zn!==void 0;_e.browserPerformanceTimeOrigin=function(){var t=Dl.getGlobalObject().performance;if(!t||!t.now){_e._browserPerformanceTimeOriginMode="none";return}var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number",c=u?Math.abs(a+r-n):e,l=c<e;return s||l?i<=c?(_e._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(_e._browserPerformanceTimeOriginMode="navigationStart",a):(_e._browserPerformanceTimeOriginMode="dateNow",n)}()});var E=p(k=>{Object.defineProperty(k,"__esModule",{value:!0});var F=T();F.__exportStar(pl(),k);F.__exportStar(Es(),k);F.__exportStar(gl(),k);F.__exportStar(Cn(),k);F.__exportStar(Rl(),k);F.__exportStar(yt(),k);F.__exportStar(Fn(),k);F.__exportStar(Ps(),k);F.__exportStar(Gt(),k);F.__exportStar(Nn(),k);F.__exportStar(js(),k);F.__exportStar(Nl(),k);F.__exportStar(jl(),k);F.__exportStar(Hn(),k);F.__exportStar(jn(),k);F.__exportStar(Hs(),k);F.__exportStar(zs(),k);F.__exportStar(Ll(),k)});var $s=p(Yn=>{Object.defineProperty(Yn,"__esModule",{value:!0});var y=T(),jr=E(),Bl=100,xv=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return o(t,"Scope"),t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=y.__spread(e._breadcrumbs),r._tags=y.__assign({},e._tags),r._extra=y.__assign({},e._extra),r._contexts=y.__assign({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=y.__spread(e._eventProcessors),r._requestSession=e._requestSession),r},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=y.__assign(y.__assign({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,r){var n;return this._tags=y.__assign(y.__assign({},this._tags),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=y.__assign(y.__assign({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,r){var n;return this._extra=y.__assign(y.__assign({},this._extra),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,r){var n;return r===null?delete this._contexts[e]:this._contexts=y.__assign(y.__assign({},this._contexts),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,r,n,i,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(r=s)===null||r===void 0?void 0:r.transaction;if((i=(n=s)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=y.__assign(y.__assign({},this._tags),e._tags),this._extra=y.__assign(y.__assign({},this._extra),e._extra),this._contexts=y.__assign(y.__assign({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):jr.isPlainObject(e)&&(e=e,this._tags=y.__assign(y.__assign({},this._tags),e.tags),this._extra=y.__assign(y.__assign({},this._extra),e.extra),this._contexts=y.__assign(y.__assign({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,r){var n=typeof r=="number"?Math.min(r,Bl):Bl;if(n<=0)return this;var i=y.__assign({timestamp:jr.dateTimestampInSeconds()},e);return this._breadcrumbs=y.__spread(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,r){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=y.__assign(y.__assign({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=y.__assign(y.__assign({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=y.__assign(y.__assign({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=y.__assign(y.__assign({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=y.__assign({trace:this._span.getTraceContext()},e.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(e.tags=y.__assign({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=y.__spread(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(y.__spread(Gl(),this._eventProcessors),e,r)},t.prototype._notifyEventProcessors=function(e,r,n,i){var s=this;return i===void 0&&(i=0),new jr.SyncPromise(function(a,u){var c=e[i];if(r===null||typeof c!="function")a(r);else{var l=c(y.__assign({},r),n);jr.isThenable(l)?l.then(function(f){return s._notifyEventProcessors(e,f,n,i+1).then(a)}).then(null,u):s._notifyEventProcessors(e,l,n,i+1).then(a).then(null,u)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();Yn.Scope=xv;function Gl(){var t=jr.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}o(Gl,"getGlobalEventProcessors");function Rv(t){Gl().push(t)}o(Rv,"addGlobalEventProcessor");Yn.addGlobalEventProcessor=Rv});var Zs=p(Xs=>{Object.defineProperty(Xs,"__esModule",{value:!0});var Js=J(),zt=E(),Mv=function(){function t(e){this.errors=0,this.sid=zt.uuid4(),this.duration=0,this.status=Js.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var r=zt.timestampInSeconds();this.timestamp=r,this.started=r,e&&this.update(e)}return o(t,"Session"),t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||zt.timestampInSeconds(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:zt.uuid4()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===Js.SessionStatus.Ok?this.update({status:Js.SessionStatus.Exited}):this.update()},t.prototype.toJSON=function(){return zt.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:zt.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}();Xs.Session=Mv});var ta=p(ie=>{Object.defineProperty(ie,"__esModule",{value:!0});var Ee=T(),Wl=J(),Te=E(),Qs=$s(),Pv=Zs();ie.API_VERSION=4;var Cv=100,Vn=function(){function t(e,r,n){r===void 0&&(r=new Qs.Scope),n===void 0&&(n=ie.API_VERSION),this._version=n,this._stack=[{}],this.getStackTop().scope=r,this.bindClient(e)}return o(t,"Hub"),t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=Qs.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,r){var n=this._lastEventId=Te.uuid4(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,Ee.__assign(Ee.__assign({},i),{event_id:n})),n},t.prototype.captureMessage=function(e,r,n){var i=this._lastEventId=Te.uuid4(),s=n;if(!n){var a=void 0;try{throw new Error(e)}catch(u){a=u}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,r,Ee.__assign(Ee.__assign({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,r){var n=this._lastEventId=Te.uuid4();return this._invokeClient("captureEvent",e,Ee.__assign(Ee.__assign({},r),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var a=s.getOptions&&s.getOptions()||{},u=a.beforeBreadcrumb,c=u===void 0?null:u,l=a.maxBreadcrumbs,f=l===void 0?Cv:l;if(!(f<=0)){var d=Te.dateTimestampInSeconds(),_=Ee.__assign({timestamp:d},e),h=c?Te.consoleSandbox(function(){return c(_,r)}):_;h!==null&&i.addBreadcrumb(h,f)}}},t.prototype.setUser=function(e){var r=this.getScope();r&&r.setUser(e)},t.prototype.setTags=function(e){var r=this.getScope();r&&r.setTags(e)},t.prototype.setExtras=function(e){var r=this.getScope();r&&r.setExtras(e)},t.prototype.setTag=function(e,r){var n=this.getScope();n&&n.setTag(e,r)},t.prototype.setExtra=function(e,r){var n=this.getScope();n&&n.setExtra(e,r)},t.prototype.setContext=function(e,r){var n=this.getScope();n&&n.setContext(e,r)},t.prototype.configureScope=function(e){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&e(n)},t.prototype.run=function(e){var r=ea(this);try{e(this)}finally{ea(r)}},t.prototype.getIntegration=function(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch(n){return Te.logger.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,r){return this._callExtensionMethod("startTransaction",e,r)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,r,n,i,s;(n=(r=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},t.prototype.startSession=function(e){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},a=s.release,u=s.environment,c=Te.getGlobalObject(),l=(c.navigator||{}).userAgent,f=new Pv.Session(Ee.__assign(Ee.__assign(Ee.__assign({release:a,environment:u},n&&{user:n.getUser()}),l&&{userAgent:l}),e));if(n){var d=n.getSession&&n.getSession();d&&d.status===Wl.SessionStatus.Ok&&d.update({status:Wl.SessionStatus.Exited}),this.endSession(),n.setSession(f)}return f},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),r=e.scope,n=e.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,u=s.client;u&&u[e]&&(r=u)[e].apply(r,Ee.__spread(n,[a]))},t.prototype._callExtensionMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Yt(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);Te.logger.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();ie.Hub=Vn;function Yt(){var t=Te.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}o(Yt,"getMainCarrier");ie.getMainCarrier=Yt;function ea(t){var e=Yt(),r=Ue(e);return Kn(e,t),r}o(ea,"makeMain");ie.makeMain=ea;function kv(){var t=Yt();return(!zl(t)||Ue(t).isOlderThan(ie.API_VERSION))&&Kn(t,new Vn),Te.isNodeEnv()?Nv(t):Ue(t)}o(kv,"getCurrentHub");ie.getCurrentHub=kv;function Av(){Te.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var t=Yt().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}o(Av,"getActiveDomain");ie.getActiveDomain=Av;function Nv(t){var e,r,n;try{var i=(n=(r=(e=Yt().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return Ue(t);if(!zl(i)||Ue(i).isOlderThan(ie.API_VERSION)){var s=Ue(t).getStackTop();Kn(i,new Vn(s.client,Qs.Scope.clone(s.scope)))}return Ue(i)}catch(a){return Ue(t)}}o(Nv,"getHubFromActiveDomain");function zl(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}o(zl,"hasHubOnCarrier");function Ue(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new Vn),t.__SENTRY__.hub}o(Ue,"getHubFromCarrier");ie.getHubFromCarrier=Ue;function Kn(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}o(Kn,"setHubOnCarrier");ie.setHubOnCarrier=Kn});var Yl=p(ia=>{Object.defineProperty(ia,"__esModule",{value:!0});var ra=J(),na=E(),jv=ta(),Dv=function(){function t(e,r){var n=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=e,this._intervalId=setInterval(function(){return n.flush()},this.flushTimeout*1e3),this._sessionAttrs=r}return o(t,"SessionFlusher"),t.prototype.sendSessionAggregates=function(e){if(!this._transport.sendSession){na.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){na.logger.error("Error while sending session: "+r)})},t.prototype.flush=function(){var e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(e))},t.prototype.getSessionAggregates=function(){var e=this,r=Object.keys(this._pendingAggregates).map(function(i){return e._pendingAggregates[parseInt(i)]}),n={attrs:this._sessionAttrs,aggregates:r};return na.dropUndefinedKeys(n)},t.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},t.prototype.incrementSessionStatusCount=function(){var e,r;if(!!this._isEnabled){var n=jv.getCurrentHub().getScope(),i=(e=n)===null||e===void 0?void 0:e.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(r=n)===null||r===void 0||r.setRequestSession(void 0))}},t.prototype._incrementSessionStatusCount=function(e,r){var n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var i=this._pendingAggregates[n];switch(i.started||(i.started=new Date(n).toISOString()),e){case ra.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case ra.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case ra.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},t}();ia.SessionFlusher=Dv});var ae=p(se=>{Object.defineProperty(se,"__esModule",{value:!0});var Vl=$s();se.addGlobalEventProcessor=Vl.addGlobalEventProcessor;se.Scope=Vl.Scope;var Fv=Zs();se.Session=Fv.Session;var Hv=Yl();se.SessionFlusher=Hv.SessionFlusher;var St=ta();se.getActiveDomain=St.getActiveDomain;se.getCurrentHub=St.getCurrentHub;se.getHubFromCarrier=St.getHubFromCarrier;se.getMainCarrier=St.getMainCarrier;se.Hub=St.Hub;se.makeMain=St.makeMain;se.setHubOnCarrier=St.setHubOnCarrier});var Kl=p(W=>{Object.defineProperty(W,"__esModule",{value:!0});var $n=T(),Uv=ae();function re(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Uv.getCurrentHub();if(n&&n[t])return n[t].apply(n,$n.__spread(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}o(re,"callOnHub");function Lv(t,e){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return re("captureException",t,{captureContext:e,originalException:t,syntheticException:r})}o(Lv,"captureException");W.captureException=Lv;function Bv(t,e){var r;try{throw new Error(t)}catch(s){r=s}var n=typeof e=="string"?e:void 0,i=typeof e!="string"?{captureContext:e}:void 0;return re("captureMessage",t,n,$n.__assign({originalException:t,syntheticException:r},i))}o(Bv,"captureMessage");W.captureMessage=Bv;function Gv(t){return re("captureEvent",t)}o(Gv,"captureEvent");W.captureEvent=Gv;function Wv(t){re("configureScope",t)}o(Wv,"configureScope");W.configureScope=Wv;function zv(t){re("addBreadcrumb",t)}o(zv,"addBreadcrumb");W.addBreadcrumb=zv;function Yv(t,e){re("setContext",t,e)}o(Yv,"setContext");W.setContext=Yv;function Vv(t){re("setExtras",t)}o(Vv,"setExtras");W.setExtras=Vv;function Kv(t){re("setTags",t)}o(Kv,"setTags");W.setTags=Kv;function $v(t,e){re("setExtra",t,e)}o($v,"setExtra");W.setExtra=$v;function Jv(t,e){re("setTag",t,e)}o(Jv,"setTag");W.setTag=Jv;function Xv(t){re("setUser",t)}o(Xv,"setUser");W.setUser=Xv;function Zv(t){re("withScope",t)}o(Zv,"withScope");W.withScope=Zv;function Qv(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];re.apply(void 0,$n.__spread(["_invokeClient",t],e))}o(Qv,"_callOnClient");W._callOnClient=Qv;function em(t,e){return re("startTransaction",$n.__assign({},t),e)}o(em,"startTransaction");W.startTransaction=em});var Xl=p(sa=>{Object.defineProperty(sa,"__esModule",{value:!0});var $l=E(),Jl="7",tm=function(){function t(e,r,n){r===void 0&&(r={}),this.dsn=e,this._dsnObject=new $l.Dsn(e),this.metadata=r,this._tunnel=n}return o(t,"API"),t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){var e=this.getDsn(),r=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return r+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var e=this.getDsn();return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},t.prototype.getRequestHeaders=function(e,r){var n=this.getDsn(),i=["Sentry sentry_version="+Jl];return i.push("sentry_client="+e+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(e){e===void 0&&(e={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var s in e)if(s!=="dsn")if(s==="user"){if(!e.user)continue;e.user.name&&i.push("name="+encodeURIComponent(e.user.name)),e.user.email&&i.push("email="+encodeURIComponent(e.user.email))}else i.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return i.length?n+"?"+i.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(e){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+e+"/"},t.prototype._encodedAuth=function(){var e=this.getDsn(),r={sentry_key:e.publicKey,sentry_version:Jl};return $l.urlEncode(r)},t}();sa.API=tm});var rf=p(rt=>{Object.defineProperty(rt,"__esModule",{value:!0});var Jn=T(),Zl=ae(),rm=E();rt.installedIntegrations=[];function Ql(t){return t.reduce(function(e,r){return e.every(function(n){return r.name!==n.name})&&e.push(r),e},[])}o(Ql,"filterDuplicates");function ef(t){var e=t.defaultIntegrations&&Jn.__spread(t.defaultIntegrations)||[],r=t.integrations,n=Jn.__spread(Ql(e));Array.isArray(r)?n=Jn.__spread(n.filter(function(a){return r.every(function(u){return u.name!==a.name})}),Ql(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),s="Debug";return i.indexOf(s)!==-1&&n.push.apply(n,Jn.__spread(n.splice(i.indexOf(s),1))),n}o(ef,"getIntegrationsToSetup");rt.getIntegrationsToSetup=ef;function tf(t){rt.installedIntegrations.indexOf(t.name)===-1&&(t.setupOnce(Zl.addGlobalEventProcessor,Zl.getCurrentHub),rt.installedIntegrations.push(t.name),rm.logger.log("Integration installed: "+t.name))}o(tf,"setupIntegration");rt.setupIntegration=tf;function nm(t){var e={};return ef(t).forEach(function(r){e[r.name]=r,tf(r)}),e}o(nm,"setupIntegrations");rt.setupIntegrations=nm});var sf=p(aa=>{Object.defineProperty(aa,"__esModule",{value:!0});var oe=T(),im=ae(),nf=J(),w=E(),sm=rf(),am=function(){function t(e,r){this._integrations={},this._numProcessing=0,this._backend=new e(r),this._options=r,r.dsn&&(this._dsn=new w.Dsn(r.dsn))}return o(t,"BaseClient"),t.prototype.captureException=function(e,r,n){var i=this,s=r&&r.event_id;return this._process(this._getBackend().eventFromException(e,r).then(function(a){return i._captureEvent(a,r,n)}).then(function(a){s=a})),s},t.prototype.captureMessage=function(e,r,n,i){var s=this,a=n&&n.event_id,u=w.isPrimitive(e)?this._getBackend().eventFromMessage(String(e),r,n):this._getBackend().eventFromException(e,n);return this._process(u.then(function(c){return s._captureEvent(c,n,i)}).then(function(c){a=c})),a},t.prototype.captureEvent=function(e,r,n){var i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(function(s){i=s})),i},t.prototype.captureSession=function(e){if(!this._isEnabled()){w.logger.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?w.logger.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(e){var r=this;return this._isClientDoneProcessing(e).then(function(n){return r._getBackend().getTransport().close(e).then(function(i){return n&&i})})},t.prototype.close=function(e){var r=this;return this.flush(e).then(function(n){return r.getOptions().enabled=!1,n})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=sm.setupIntegrations(this._options))},t.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(r){return w.logger.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(e,r){var n,i,s=!1,a=!1,u=r.exception&&r.exception.values;if(u){a=!0;try{for(var c=oe.__values(u),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.mechanism;if(d&&d.handled===!1){s=!0;break}}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}var _=e.status===nf.SessionStatus.Ok,h=_&&e.errors===0||_&&s;h&&(e.update(oe.__assign(oe.__assign({},s&&{status:nf.SessionStatus.Crashed}),{errors:e.errors||Number(a||s)})),this.captureSession(e))},t.prototype._sendSession=function(e){this._getBackend().sendSession(e)},t.prototype._isClientDoneProcessing=function(e){var r=this;return new w.SyncPromise(function(n){var i=0,s=1,a=setInterval(function(){r._numProcessing==0?(clearInterval(a),n(!0)):(i+=s,e&&i>=e&&(clearInterval(a),n(!1)))},s)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(e,r,n){var i=this,s=this.getOptions().normalizeDepth,a=s===void 0?3:s,u=oe.__assign(oe.__assign({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:w.uuid4()),timestamp:e.timestamp||w.dateTimestampInSeconds()});this._applyClientOptions(u),this._applyIntegrationsMetadata(u);var c=r;n&&n.captureContext&&(c=im.Scope.clone(c).update(n.captureContext));var l=w.SyncPromise.resolve(u);return c&&(l=c.applyToEvent(u,n)),l.then(function(f){return typeof a=="number"&&a>0?i._normalizeEvent(f,a):f})},t.prototype._normalizeEvent=function(e,r){if(!e)return null;var n=oe.__assign(oe.__assign(oe.__assign(oe.__assign(oe.__assign({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(a){return oe.__assign(oe.__assign({},a),a.data&&{data:w.normalize(a.data,r)})})}),e.user&&{user:w.normalize(e.user,r)}),e.contexts&&{contexts:w.normalize(e.contexts,r)}),e.extra&&{extra:w.normalize(e.extra,r)});e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace);var i=this.getOptions()._experiments,s=i===void 0?{}:i;return s.ensureNoCircularStructures?w.normalize(n):n},t.prototype._applyClientOptions=function(e){var r=this.getOptions(),n=r.environment,i=r.release,s=r.dist,a=r.maxValueLength,u=a===void 0?250:a;"environment"in e||(e.environment="environment"in r?n:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=w.truncate(e.message,u));var c=e.exception&&e.exception.values&&e.exception.values[0];c&&c.value&&(c.value=w.truncate(c.value,u));var l=e.request;l&&l.url&&(l.url=w.truncate(l.url,u))},t.prototype._applyIntegrationsMetadata=function(e){var r=Object.keys(this._integrations);r.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=oe.__spread(e.sdk.integrations||[],r))},t.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},t.prototype._captureEvent=function(e,r,n){return this._processEvent(e,r,n).then(function(i){return i.event_id},function(i){w.logger.error(i)})},t.prototype._processEvent=function(e,r,n){var i=this,s=this.getOptions(),a=s.beforeSend,u=s.sampleRate;if(!this._isEnabled())return w.SyncPromise.reject(new w.SentryError("SDK not enabled, will not capture event."));var c=e.type==="transaction";return!c&&typeof u=="number"&&Math.random()>u?w.SyncPromise.reject(new w.SentryError("Discarding event because it's not included in the random sample (sampling rate = "+u+")")):this._prepareEvent(e,n,r).then(function(l){if(l===null)throw new w.SentryError("An event processor returned null, will not send event.");var f=r&&r.data&&r.data.__sentry__===!0;if(f||c||!a)return l;var d=a(l,r);return i._ensureBeforeSendRv(d)}).then(function(l){if(l===null)throw new w.SentryError("`beforeSend` returned `null`, will not send event.");var f=n&&n.getSession&&n.getSession();return!c&&f&&i._updateSessionFromEvent(f,l),i._sendEvent(l),l}).then(null,function(l){throw l instanceof w.SentryError?l:(i.captureException(l,{data:{__sentry__:!0},originalException:l}),new w.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+l))})},t.prototype._process=function(e){var r=this;this._numProcessing+=1,e.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},t.prototype._ensureBeforeSendRv=function(e){var r="`beforeSend` method has to return `null` or a valid event.";if(w.isThenable(e))return e.then(function(n){if(!(w.isPlainObject(n)||n===null))throw new w.SentryError(r);return n},function(n){throw new w.SentryError("beforeSend rejected with "+n)});if(!(w.isPlainObject(e)||e===null))throw new w.SentryError(r);return e},t}();aa.BaseClient=am});var ua=p(oa=>{Object.defineProperty(oa,"__esModule",{value:!0});var om=J(),af=E(),um=function(){function t(){}return o(t,"NoopTransport"),t.prototype.sendEvent=function(e){return af.SyncPromise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:om.Status.Skipped})},t.prototype.close=function(e){return af.SyncPromise.resolve(!0)},t}();oa.NoopTransport=um});var of=p(ca=>{Object.defineProperty(ca,"__esModule",{value:!0});var Vt=E(),cm=ua(),lm=function(){function t(e){this._options=e,this._options.dsn||Vt.logger.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return o(t,"BaseBackend"),t.prototype.eventFromException=function(e,r){throw new Vt.SentryError("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(e,r,n){throw new Vt.SentryError("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(r){Vt.logger.error("Error while sending event: "+r)})},t.prototype.sendSession=function(e){if(!this._transport.sendSession){Vt.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){Vt.logger.error("Error while sending session: "+r)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new cm.NoopTransport},t}();ca.BaseBackend=lm});var cf=p(Xn=>{Object.defineProperty(Xn,"__esModule",{value:!0});var Et=T();function uf(t){if(!(!t.metadata||!t.metadata.sdk)){var e=t.metadata.sdk,r=e.name,n=e.version;return{name:r,version:n}}}o(uf,"getSdkMetadataForEnvelopeHeader");function fm(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=Et.__spread(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=Et.__spread(t.sdk.packages||[],e.packages||[])),t}o(fm,"enhanceEventWithSdkInfo");function dm(t,e){var r=uf(e),n=JSON.stringify(Et.__assign(Et.__assign({sent_at:new Date().toISOString()},r&&{sdk:r}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),i="aggregates"in t?"sessions":"session",s=JSON.stringify({type:i});return{body:n+`
`+s+`
`+JSON.stringify(t),type:i,url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}o(dm,"sessionToSentryRequest");Xn.sessionToSentryRequest=dm;function pm(t,e){var r=uf(e),n=t.type||"event",i=n==="transaction"||e.forceEnvelope(),s=t.debug_meta||{},a=s.transactionSampling,u=Et.__rest(s,["transactionSampling"]),c=a||{},l=c.method,f=c.rate;Object.keys(u).length===0?delete t.debug_meta:t.debug_meta=u;var d={body:JSON.stringify(r?fm(t,e.metadata.sdk):t),type:n,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var _=JSON.stringify(Et.__assign(Et.__assign({event_id:t.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),h=JSON.stringify({type:n,sample_rates:[{id:l,rate:f}]}),g=_+`
`+h+`
`+d.body;d.body=g}return d}o(pm,"eventToSentryRequest");Xn.eventToSentryRequest=pm});var lf=p(la=>{Object.defineProperty(la,"__esModule",{value:!0});var _m=ae(),hm=E();function gm(t,e){var r;e.debug===!0&&hm.logger.enable();var n=_m.getCurrentHub();(r=n.getScope())===null||r===void 0||r.update(e.initialScope);var i=new t(e);n.bindClient(i)}o(gm,"initAndBind");la.initAndBind=gm});var ff=p(fa=>{Object.defineProperty(fa,"__esModule",{value:!0});fa.SDK_VERSION="6.9.0"});var pf=p(da=>{Object.defineProperty(da,"__esModule",{value:!0});var df,vm=function(){function t(){this.name=t.id}return o(t,"FunctionToString"),t.prototype.setupOnce=function(){df=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.__sentry_original__||this;return df.apply(n,e)}},t.id="FunctionToString",t}();da.FunctionToString=vm});var hf=p(_a=>{Object.defineProperty(_a,"__esModule",{value:!0});var pa=T(),_f=ae(),Z=E(),mm=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ym=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id}return o(t,"InboundFilters"),t.prototype.setupOnce=function(){_f.addGlobalEventProcessor(function(e){var r=_f.getCurrentHub();if(!r)return e;var n=r.getIntegration(t);if(n){var i=r.getClient(),s=i?i.getOptions():{},a=typeof n._mergeOptions=="function"?n._mergeOptions(s):{};return typeof n._shouldDropEvent!="function"?e:n._shouldDropEvent(e,a)?null:e}return e})},t.prototype._shouldDropEvent=function(e,r){return this._isSentryError(e,r)?(Z.logger.warn(`Event dropped due to being internal Sentry Error.
Event: `+Z.getEventDescription(e)),!0):this._isIgnoredError(e,r)?(Z.logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Z.getEventDescription(e)),!0):this._isDeniedUrl(e,r)?(Z.logger.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Z.getEventDescription(e)+`.
Url: `+this._getEventFilterUrl(e)),!0):this._isAllowedUrl(e,r)?!1:(Z.logger.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Z.getEventDescription(e)+`.
Url: `+this._getEventFilterUrl(e)),!0)},t.prototype._isSentryError=function(e,r){if(!r.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].type==="SentryError"||!1}catch(n){return!1}},t.prototype._isIgnoredError=function(e,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(e).some(function(n){return r.ignoreErrors.some(function(i){return Z.isMatchingPattern(n,i)})})},t.prototype._isDeniedUrl=function(e,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return n?r.denyUrls.some(function(i){return Z.isMatchingPattern(n,i)}):!1},t.prototype._isAllowedUrl=function(e,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return n?r.allowUrls.some(function(i){return Z.isMatchingPattern(n,i)}):!0},t.prototype._mergeOptions=function(e){return e===void 0&&(e={}),{allowUrls:pa.__spread(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:pa.__spread(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:pa.__spread(this._options.ignoreErrors||[],e.ignoreErrors||[],mm),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},t.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var r=e.exception.values&&e.exception.values[0]||{},n=r.type,i=n===void 0?"":n,s=r.value,a=s===void 0?"":s;return[""+a,i+": "+a]}catch(u){return Z.logger.error("Cannot extract message for event "+Z.getEventDescription(e)),[]}return[]},t.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var r=e.stacktrace.frames;return r&&r[r.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(i){return Z.logger.error("Cannot extract url for event "+Z.getEventDescription(e)),null}},t.id="InboundFilters",t}();_a.InboundFilters=ym});var gf=p(Zn=>{Object.defineProperty(Zn,"__esModule",{value:!0});var bm=pf();Zn.FunctionToString=bm.FunctionToString;var Sm=hf();Zn.InboundFilters=Sm.InboundFilters});var B=p(q=>{Object.defineProperty(q,"__esModule",{value:!0});var ue=Kl();q.addBreadcrumb=ue.addBreadcrumb;q.captureException=ue.captureException;q.captureEvent=ue.captureEvent;q.captureMessage=ue.captureMessage;q.configureScope=ue.configureScope;q.startTransaction=ue.startTransaction;q.setContext=ue.setContext;q.setExtra=ue.setExtra;q.setExtras=ue.setExtras;q.setTag=ue.setTag;q.setTags=ue.setTags;q.setUser=ue.setUser;q.withScope=ue.withScope;var Kt=ae();q.addGlobalEventProcessor=Kt.addGlobalEventProcessor;q.getCurrentHub=Kt.getCurrentHub;q.getHubFromCarrier=Kt.getHubFromCarrier;q.Hub=Kt.Hub;q.makeMain=Kt.makeMain;q.Scope=Kt.Scope;var Em=Xl();q.API=Em.API;var Tm=sf();q.BaseClient=Tm.BaseClient;var Om=of();q.BaseBackend=Om.BaseBackend;var vf=cf();q.eventToSentryRequest=vf.eventToSentryRequest;q.sessionToSentryRequest=vf.sessionToSentryRequest;var wm=lf();q.initAndBind=wm.initAndBind;var qm=ua();q.NoopTransport=qm.NoopTransport;var Im=ff();q.SDK_VERSION=Im.SDK_VERSION;var xm=gf();q.Integrations=xm});var mf=p(Qn=>{(function(t,e){let r=typeof Qn=="object"?Qn:typeof t=="object"?t:{};e(r),typeof define=="function"&&define.amd&&define("lru",r)})(Qn,function(t){let e=Symbol("newer"),r=Symbol("older");function n(c,l){typeof c!="number"&&(l=c,c=0),this.size=0,this.limit=c,this.oldest=this.newest=void 0,this._keymap=new Map,l&&(this.assign(l),c<1&&(this.limit=this.size))}o(n,"LRUMap"),t.LRUMap=n;function i(c,l){this.key=c,this.value=l,this[e]=void 0,this[r]=void 0}o(i,"Entry"),n.prototype._markEntryAsUsed=function(c){c!==this.newest&&(c[e]&&(c===this.oldest&&(this.oldest=c[e]),c[e][r]=c[r]),c[r]&&(c[r][e]=c[e]),c[e]=void 0,c[r]=this.newest,this.newest&&(this.newest[e]=c),this.newest=c)},n.prototype.assign=function(c){let l,f=this.limit||Number.MAX_VALUE;this._keymap.clear();let d=c[Symbol.iterator]();for(let _=d.next();!_.done;_=d.next()){let h=new i(_.value[0],_.value[1]);if(this._keymap.set(h.key,h),l?(l[e]=h,h[r]=l):this.oldest=h,l=h,f--==0)throw new Error("overflow")}this.newest=l,this.size=this._keymap.size},n.prototype.get=function(c){var l=this._keymap.get(c);if(!!l)return this._markEntryAsUsed(l),l.value},n.prototype.set=function(c,l){var f=this._keymap.get(c);return f?(f.value=l,this._markEntryAsUsed(f),this):(this._keymap.set(c,f=new i(c,l)),this.newest?(this.newest[e]=f,f[r]=this.newest):this.oldest=f,this.newest=f,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var c=this.oldest;if(c)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),c[e]=c[r]=void 0,this._keymap.delete(c.key),--this.size,[c.key,c.value]},n.prototype.find=function(c){let l=this._keymap.get(c);return l?l.value:void 0},n.prototype.has=function(c){return this._keymap.has(c)},n.prototype.delete=function(c){var l=this._keymap.get(c);if(!!l)return this._keymap.delete(l.key),l[e]&&l[r]?(l[r][e]=l[e],l[e][r]=l[r]):l[e]?(l[e][r]=void 0,this.oldest=l[e]):l[r]?(l[r][e]=void 0,this.newest=l[r]):this.oldest=this.newest=void 0,this.size--,l.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()};function s(c){this.entry=c}o(s,"EntryIterator"),s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let c=this.entry;return c?(this.entry=c[e],{done:!1,value:[c.key,c.value]}):{done:!0,value:void 0}};function a(c){this.entry=c}o(a,"KeyIterator"),a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let c=this.entry;return c?(this.entry=c[e],{done:!1,value:c.key}):{done:!0,value:void 0}};function u(c){this.entry=c}o(u,"ValueIterator"),u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){let c=this.entry;return c?(this.entry=c[e],{done:!1,value:c.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new u(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(c,l){typeof l!="object"&&(l=this);let f=this.oldest;for(;f;)c.call(l,f.value,f.key,this),f=f[e]},n.prototype.toJSON=function(){for(var c=new Array(this.size),l=0,f=this.oldest;f;)c[l++]={key:f.key,value:f.value},f=f[e];return c},n.prototype.toString=function(){for(var c="",l=this.oldest;l;)c+=String(l.key)+":"+l.value,l=l[e],l&&(c+=" < ");return c}})});var yf=p(ha=>{Object.defineProperty(ha,"__esModule",{value:!0});function Rm(t){if(!t.stack)return[];var e=t.stack.split(`
`).slice(1);return e.map(function(r){if(r.match(/^\s*[-]{4,}$/))return{columnNumber:null,fileName:r,functionName:null,lineNumber:null,methodName:null,native:null,typeName:null};var n=r.match(/at (?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!!n){var i=null,s=null,a=null,u=null,c=null,l=n[5]==="native";if(n[1]){a=n[1];var f=a.lastIndexOf(".");if(a[f-1]==="."&&f--,f>0){i=a.substr(0,f),s=a.substr(f+1);var d=i.indexOf(".Module");d>0&&(a=a.substr(d+1),i=i.substr(0,d))}u=null}s&&(u=i,c=s),s==="<anonymous>"&&(c=null,a=null);var _={columnNumber:parseInt(n[4],10)||null,fileName:n[2]||null,functionName:a,lineNumber:parseInt(n[3],10)||null,methodName:c,native:l,typeName:u};return _}}).filter(function(r){return!!r})}o(Rm,"parse");ha.parse=Rm});var va=p(nt=>{Object.defineProperty(nt,"__esModule",{value:!0});var Oe=E(),Mm=require("fs"),Pm=mf(),Cm=yf(),km=7,ga=new Pm.LRUMap(100);function Am(){ga.clear()}o(Am,"resetFileContentCache");nt.resetFileContentCache=Am;function Nm(t){try{return t.functionName||t.typeName+"."+(t.methodName||"<anonymous>")}catch(e){return"<anonymous>"}}o(Nm,"getFunction");var jm=(require.main&&require.main.filename&&Oe.dirname(require.main.filename)||global.process.cwd())+"/";function Dm(t,e){e||(e=jm);var r=Oe.basename(t,".js");t=Oe.dirname(t);var n=t.lastIndexOf("/node_modules/");if(n>-1)return t.substr(n+14).replace(/\//g,".")+":"+r;if(n=(t+"/").lastIndexOf(e,0),n===0){var i=t.substr(e.length).replace(/\//g,".");return i&&(i+=":"),i+=r,i}return r}o(Dm,"getModule");function Fm(t){return t.length===0?Oe.SyncPromise.resolve({}):new Oe.SyncPromise(function(e){for(var r={},n=0,i=o(function(a){var u=t[a],c=ga.get(u);if(c!==void 0)return c!==null&&(r[u]=c),n++,n===t.length&&e(r),"continue";Mm.readFile(u,function(l,f){var d=l?null:f.toString();r[u]=d,ga.set(u,d),n++,n===t.length&&e(r)})},"_loop_1"),s=0;s<t.length;s++)i(s)})}o(Fm,"readSourceFiles");function bf(t){var e=Cm.parse(t);return e||[]}o(bf,"extractStackFromError");nt.extractStackFromError=bf;function Sf(t,e){var r=[],n=e&&e.frameContextLines!==void 0?e.frameContextLines:km,i=t.map(function(s){var a,u={colno:s.columnNumber,filename:((a=s.fileName)===null||a===void 0?void 0:a.startsWith("file://"))?s.fileName.substr(7):s.fileName||"",function:Nm(s),lineno:s.lineNumber},c=s.native||u.filename&&!u.filename.startsWith("/")&&!u.filename.startsWith(".")&&u.filename.indexOf(":\\")!==1;return u.in_app=!c&&u.filename!==void 0&&u.filename.indexOf("node_modules/")===-1,u.filename&&(u.module=Dm(u.filename),!c&&n>0&&r.indexOf(u.filename)===-1&&r.push(u.filename)),u});if(n<=0)return Oe.SyncPromise.resolve(i);try{return Hm(r,i,n)}catch(s){return Oe.SyncPromise.resolve(i)}}o(Sf,"parseStack");nt.parseStack=Sf;function Hm(t,e,r){return new Oe.SyncPromise(function(n){return Fm(t).then(function(i){var s=e.map(function(a){if(a.filename&&i[a.filename])try{var u=i[a.filename].split(`
`);Oe.addContextToFrame(u,a,r)}catch(c){}return a});n(s)})})}o(Hm,"addPrePostContext");function Ef(t,e){var r=t.name||t.constructor.name,n=bf(t);return new Oe.SyncPromise(function(i){return Sf(n,e).then(function(s){var a={stacktrace:{frames:Tf(s)},type:r,value:t.message};i(a)})})}o(Ef,"getExceptionFromError");nt.getExceptionFromError=Ef;function Um(t,e){return new Oe.SyncPromise(function(r){return Ef(t,e).then(function(n){r({exception:{values:[n]}})})})}o(Um,"parseError");nt.parseError=Um;function Tf(t){if(!t||!t.length)return[];var e=t,r=e[0].function||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(e=e.slice(1)),e.reverse()}o(Tf,"prepareFramesForEvent");nt.prepareFramesForEvent=Tf});var ya=p(ma=>{Object.defineProperty(ma,"__esModule",{value:!0});ma.SDK_NAME="sentry.javascript.node"});var ei=p(Sa=>{Object.defineProperty(Sa,"__esModule",{value:!0});var Le=T(),Of=B(),wf=J(),it=E(),Lm=require("fs"),Bm=require("url"),Gm=ya(),ba={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},Wm=function(){function t(e){this.options=e,this._buffer=new it.PromiseBuffer(30),this._rateLimits={},this.urlParser=function(r){return new Bm.URL(r)},this._api=new Of.API(e.dsn,e._metadata,e.tunnel)}return o(t,"BaseTransport"),t.prototype.sendEvent=function(e){throw new it.SentryError("Transport Class has to implement `sendEvent` method.")},t.prototype.close=function(e){return this._buffer.drain(e)},t.prototype._getProxy=function(e){var r,n,i=process.env,s=i.no_proxy,a=i.http_proxy,u=i.https_proxy,c=this.options,l=c.httpProxy,f=c.httpsProxy,d=e==="http"?l||a:f||l||u||a;if(!s)return d;var _=this._api.getDsn(),h=_.host,g=_.port;try{for(var v=Le.__values(s.split(",")),m=v.next();!m.done;m=v.next()){var S=m.value;if(h.endsWith(S)||(h+":"+g).endsWith(S))return}}catch(x){r={error:x}}finally{try{m&&!m.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}return d},t.prototype._getRequestOptions=function(e){var r=Le.__assign(Le.__assign({},this._api.getRequestHeaders(Gm.SDK_NAME,Of.SDK_VERSION)),this.options.headers),n=e.hostname,i=e.pathname,s=e.port,a=e.protocol,u=""+i;return Le.__assign({agent:this.client,headers:r,hostname:n,method:"POST",path:u,port:s,protocol:a},this.options.caCerts&&{ca:Lm.readFileSync(this.options.caCerts)})},t.prototype._disabledUntil=function(e){var r=ba[e];return this._rateLimits[r]||this._rateLimits.all},t.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},t.prototype._handleRateLimit=function(e){var r,n,i,s,a=Date.now(),u=e["x-sentry-rate-limits"],c=e["retry-after"];if(u){try{for(var l=Le.__values(u.trim().split(",")),f=l.next();!f.done;f=l.next()){var d=f.value,_=d.split(":",2),h=parseInt(_[0],10),g=(isNaN(h)?60:h)*1e3;try{for(var v=(i=void 0,Le.__values(_[1]&&_[1].split(";")||["all"])),m=v.next();!m.done;m=v.next()){var S=m.value,x=Le.__spread(Object.keys(ba).map(function(C){return ba[C]}),["all"]);x.includes(S)&&(this._rateLimits[S]=new Date(a+g))}}catch(C){i={error:C}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}}}catch(C){r={error:C}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!0}else if(c)return this._rateLimits.all=new Date(a+it.parseRetryAfterHeader(a,c)),!0;return!1},t.prototype._send=function(e,r){return Le.__awaiter(this,void 0,void 0,function(){var n=this;return Le.__generator(this,function(i){if(!this.module)throw new it.SentryError("No module available");return r&&this._isRateLimited(e.type)?[2,Promise.reject({payload:r,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})]:this._buffer.isReady()?[2,this._buffer.add(function(){return new Promise(function(s,a){if(!n.module)throw new it.SentryError("No module available");var u=n._getRequestOptions(n.urlParser(e.url)),c=n.module.request(u,function(l){var f=l.statusCode||500,d=wf.Status.fromHttpCode(f);l.setEncoding("utf8");var _=l.headers?l.headers["retry-after"]:"";_=Array.isArray(_)?_[0]:_;var h=l.headers?l.headers["x-sentry-rate-limits"]:"";h=Array.isArray(h)?h[0]:h;var g={"x-sentry-rate-limits":h,"retry-after":_},v=n._handleRateLimit(g);if(v&&it.logger.warn("Too many "+e.type+" requests, backing off until: "+n._disabledUntil(e.type)),d===wf.Status.Success)s({status:d});else{var m="HTTP Error ("+f+")";l.headers&&l.headers["x-sentry-error"]&&(m+=": "+l.headers["x-sentry-error"]),a(new it.SentryError(m))}l.on("data",function(){}),l.on("end",function(){})});c.on("error",a),c.end(e.body)})})]:[2,Promise.reject(new it.SentryError("Not adding Promise due to buffer limit reached."))]})})},t}();Sa.BaseTransport=Wm});var If=p((xq,qf)=>{var $t=1e3,Jt=$t*60,Xt=Jt*60,Tt=Xt*24,zm=Tt*7,Ym=Tt*365.25;qf.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Vm(t);if(r==="number"&&isFinite(t))return e.long?$m(t):Km(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Vm(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Ym;case"weeks":case"week":case"w":return r*zm;case"days":case"day":case"d":return r*Tt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Xt;case"minutes":case"minute":case"mins":case"min":case"m":return r*Jt;case"seconds":case"second":case"secs":case"sec":case"s":return r*$t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(Vm,"parse");function Km(t){var e=Math.abs(t);return e>=Tt?Math.round(t/Tt)+"d":e>=Xt?Math.round(t/Xt)+"h":e>=Jt?Math.round(t/Jt)+"m":e>=$t?Math.round(t/$t)+"s":t+"ms"}o(Km,"fmtShort");function $m(t){var e=Math.abs(t);return e>=Tt?ti(t,e,Tt,"day"):e>=Xt?ti(t,e,Xt,"hour"):e>=Jt?ti(t,e,Jt,"minute"):e>=$t?ti(t,e,$t,"second"):t+" ms"}o($m,"fmtLong");function ti(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}o(ti,"plural")});var Ea=p((Rq,xf)=>{function Jm(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=If(),r.destroy=l,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let d=0;for(let _=0;_<f.length;_++)d=(d<<5)-d+f.charCodeAt(_),d|=0;return r.colors[Math.abs(d)%r.colors.length]}o(e,"selectColor"),r.selectColor=e;function r(f){let d,_=null;function h(...g){if(!h.enabled)return;let v=h,m=Number(new Date),S=m-(d||m);v.diff=S,v.prev=d,v.curr=m,d=m,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let x=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(ye,Ih)=>{if(ye==="%%")return"%";x++;let pc=r.formatters[Ih];if(typeof pc=="function"){let xh=g[x];ye=pc.call(v,xh),g.splice(x,1),x--}return ye}),r.formatArgs.call(v,g),(v.log||r.log).apply(v,g)}return o(h,"debug"),h.namespace=f,h.useColors=r.useColors(),h.color=r.selectColor(f),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>_===null?r.enabled(f):_,set:g=>{_=g}}),typeof r.init=="function"&&r.init(h),h}o(r,"createDebug");function n(f,d){let _=r(this.namespace+(typeof d=="undefined"?":":d)+f);return _.log=this.log,_}o(n,"extend");function i(f){r.save(f),r.names=[],r.skips=[];let d,_=(typeof f=="string"?f:"").split(/[\s,]+/),h=_.length;for(d=0;d<h;d++)!_[d]||(f=_[d].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.substr(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}o(i,"enable");function s(){let f=[...r.names.map(u),...r.skips.map(u).map(d=>"-"+d)].join(",");return r.enable(""),f}o(s,"disable");function a(f){if(f[f.length-1]==="*")return!0;let d,_;for(d=0,_=r.skips.length;d<_;d++)if(r.skips[d].test(f))return!1;for(d=0,_=r.names.length;d<_;d++)if(r.names[d].test(f))return!0;return!1}o(a,"enabled");function u(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}o(u,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(l,"destroy"),r.enable(r.load()),r}o(Jm,"setup");xf.exports=Jm});var Rf=p((ce,ri)=>{ce.formatArgs=Zm;ce.save=Qm;ce.load=ey;ce.useColors=Xm;ce.storage=ty();ce.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ce.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Xm(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(Xm,"useColors");function Zm(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ri.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}o(Zm,"formatArgs");ce.log=console.debug||console.log||(()=>{});function Qm(t){try{t?ce.storage.setItem("debug",t):ce.storage.removeItem("debug")}catch(e){}}o(Qm,"save");function ey(){let t;try{t=ce.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}o(ey,"load");function ty(){try{return localStorage}catch(t){}}o(ty,"localstorage");ri.exports=Ea()(ce);var{formatters:ry}=ri.exports;ry.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Pf=p((Mq,Mf)=>{"use strict";Mf.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var kf=p((Pq,Cf)=>{"use strict";var ny=require("os"),we=Pf(),z=process.env,Zt;we("no-color")||we("no-colors")||we("color=false")?Zt=!1:(we("color")||we("colors")||we("color=true")||we("color=always"))&&(Zt=!0);"FORCE_COLOR"in z&&(Zt=z.FORCE_COLOR.length===0||parseInt(z.FORCE_COLOR,10)!==0);function iy(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}o(iy,"translateLevel");function sy(t){if(Zt===!1)return 0;if(we("color=16m")||we("color=full")||we("color=truecolor"))return 3;if(we("color=256"))return 2;if(t&&!t.isTTY&&Zt!==!0)return 0;let e=Zt?1:0;if(process.platform==="win32"){let r=ny.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in z)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in z)||z.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in z)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(z.TEAMCITY_VERSION)?1:0;if(z.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in z){let r=parseInt((z.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(z.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(z.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(z.TERM)||"COLORTERM"in z?1:(z.TERM==="dumb",e)}o(sy,"supportsColor");function Ta(t){let e=sy(t);return iy(e)}o(Ta,"getSupportLevel");Cf.exports={supportsColor:Ta,stdout:Ta(process.stdout),stderr:Ta(process.stderr)}});var Nf=p((G,ii)=>{var ay=require("tty"),ni=require("util");G.init=py;G.log=ly;G.formatArgs=uy;G.save=fy;G.load=dy;G.useColors=oy;G.destroy=ni.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");G.colors=[6,2,3,4,5,1];try{let t=kf();t&&(t.stderr||t).level>=2&&(G.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}G.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function oy(){return"colors"in G.inspectOpts?Boolean(G.inspectOpts.colors):ay.isatty(process.stderr.fd)}o(oy,"useColors");function uy(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} [0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+ii.exports.humanize(this.diff)+"[0m")}else t[0]=cy()+e+" "+t[0]}o(uy,"formatArgs");function cy(){return G.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(cy,"getDate");function ly(...t){return process.stderr.write(ni.format(...t)+`
`)}o(ly,"log");function fy(t){t?process.env.DEBUG=t:delete process.env.DEBUG}o(fy,"save");function dy(){return process.env.DEBUG}o(dy,"load");function py(t){t.inspectOpts={};let e=Object.keys(G.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=G.inspectOpts[e[r]]}o(py,"init");ii.exports=Ea()(G);var{formatters:Af}=ii.exports;Af.o=function(t){return this.inspectOpts.colors=this.useColors,ni.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Af.O=function(t){return this.inspectOpts.colors=this.useColors,ni.inspect(t,this.inspectOpts)}});var si=p((Cq,Oa)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Oa.exports=Rf():Oa.exports=Nf()});var jf=p(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});function _y(t){return function(e,r){return new Promise((n,i)=>{t.call(this,e,r,(s,a)=>{s?i(s):n(a)})})}}o(_y,"promisify");wa.default=_y});var Hf=p((Ia,Ff)=>{"use strict";var Df=Ia&&Ia.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},hy=require("events"),gy=Df(si()),vy=Df(jf()),Dr=gy.default("agent-base");function my(t){return Boolean(t)&&typeof t.addRequest=="function"}o(my,"isAgent");function qa(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}o(qa,"isSecureEndpoint");function ai(t,e){return new ai.Agent(t,e)}o(ai,"createAgent");(function(t){class e extends hy.EventEmitter{constructor(n,i){super();let s=i;typeof n=="function"?this.callback=n:n&&(s=n),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:qa()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:qa()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let s=Object.assign({},i);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=qa()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,n._last=!0,n.shouldKeepAlive=!1;let a=!1,u=null,c=s.timeout||this.timeout,l=o(h=>{n._hadError||(n.emit("error",h),n._hadError=!0)},"onerror"),f=o(()=>{u=null,a=!0;let h=new Error(`A "socket" was not created for HTTP request before ${c}ms`);h.code="ETIMEOUT",l(h)},"ontimeout"),d=o(h=>{a||(u!==null&&(clearTimeout(u),u=null),l(h))},"callbackError"),_=o(h=>{if(a)return;if(u!=null&&(clearTimeout(u),u=null),my(h)){Dr("Callback returned another Agent instance %o",h.constructor.name),h.addRequest(n,s);return}if(h){h.once("free",()=>{this.freeSocket(h,s)}),n.onSocket(h);return}let g=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);l(g)},"onsocket");if(typeof this.callback!="function"){l(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Dr("Converting legacy callback function to promise"),this.promisifiedCallback=vy.default(this.callback)):this.promisifiedCallback=this.callback),typeof c=="number"&&c>0&&(u=setTimeout(f,c)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{Dr("Resolving socket for %o request: %o",s.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,s)).then(_,d)}catch(h){Promise.reject(h).catch(d)}}freeSocket(n,i){Dr("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){Dr("Destroying agent %o",this.constructor.name)}}o(e,"Agent"),t.Agent=e,t.prototype=t.Agent.prototype})(ai||(ai={}));Ff.exports=ai});var Uf=p(Hr=>{"use strict";var yy=Hr&&Hr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});var by=yy(si()),Fr=by.default("https-proxy-agent:parse-proxy-response");function Sy(t){return new Promise((e,r)=>{let n=0,i=[];function s(){let d=t.read();d?f(d):t.once("readable",s)}o(s,"read");function a(){t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",u),t.removeListener("readable",s)}o(a,"cleanup");function u(d){Fr("onclose had error %o",d)}o(u,"onclose");function c(){Fr("onend")}o(c,"onend");function l(d){a(),Fr("onerror %o",d),r(d)}o(l,"onerror");function f(d){i.push(d),n+=d.length;let _=Buffer.concat(i,n);if(_.indexOf(`\r
\r
`)===-1){Fr("have not received end of HTTP headers yet..."),s();return}let g=_.toString("ascii",0,_.indexOf(`\r
`)),v=+g.split(" ")[1];Fr("got proxy server response: %o",g),e({statusCode:v,buffered:_})}o(f,"ondata"),t.on("error",l),t.on("close",u),t.on("end",c),s()})}o(Sy,"parseProxyResponse");Hr.default=Sy});var Gf=p(Ot=>{"use strict";var Ey=Ot&&Ot.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function u(f){try{l(n.next(f))}catch(d){a(d)}}o(u,"fulfilled");function c(f){try{l(n.throw(f))}catch(d){a(d)}}o(c,"rejected");function l(f){f.done?s(f.value):i(f.value).then(u,c)}o(l,"step"),l((n=n.apply(t,e||[])).next())})},Qt=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ot,"__esModule",{value:!0});var Lf=Qt(require("net")),Bf=Qt(require("tls")),Ty=Qt(require("url")),Oy=Qt(require("assert")),wy=Qt(si()),qy=Hf(),Iy=Qt(Uf()),Ur=wy.default("https-proxy-agent:agent"),xa=class extends qy.Agent{constructor(e){let r;if(typeof e=="string"?r=Ty.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Ur("creating new HttpsProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||My(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,r){return Ey(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,s;i?(Ur("Creating `tls.Socket`: %o",n),s=Bf.default.connect(n)):(Ur("Creating `net.Socket`: %o",n),s=Lf.default.connect(n));let a=Object.assign({},n.headers),c=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:l,port:f,secureEndpoint:d}=r;Ry(f,d)||(l+=`:${f}`),a.Host=l,a.Connection="close";for(let m of Object.keys(a))c+=`${m}: ${a[m]}\r
`;let _=Iy.default(s);s.write(`${c}\r
`);let{statusCode:h,buffered:g}=yield _;if(h===200){if(e.once("socket",xy),r.secureEndpoint){let m=r.servername||r.host;if(!m)throw new Error('Could not determine "servername"');return Ur("Upgrading socket connection to TLS"),Bf.default.connect(Object.assign(Object.assign({},Py(r,"host","hostname","path","port")),{socket:s,servername:m}))}return s}s.destroy();let v=new Lf.default.Socket;return v.readable=!0,e.once("socket",m=>{Ur("replaying proxy buffer for failed request"),Oy.default(m.listenerCount("data")>0),m.push(g),m.push(null)}),v})}};o(xa,"HttpsProxyAgent");Ot.default=xa;function xy(t){t.resume()}o(xy,"resume");function Ry(t,e){return Boolean(!e&&t===80||e&&t===443)}o(Ry,"isDefaultPort");function My(t){return typeof t=="string"?/^https:?$/i.test(t):!1}o(My,"isHTTPS");function Py(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}o(Py,"omit")});var Ca=p((Pa,Wf)=>{"use strict";var Cy=Pa&&Pa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ra=Cy(Gf());function Ma(t){return new Ra.default(t)}o(Ma,"createHttpsProxyAgent");(function(t){t.HttpsProxyAgent=Ra.default,t.prototype=Ra.default.prototype})(Ma||(Ma={}));Wf.exports=Ma});var Vf=p(ka=>{Object.defineProperty(ka,"__esModule",{value:!0});var ky=T(),zf=B(),Yf=require("http"),Ay=ei(),Ny=function(t){ky.__extends(e,t);function e(r){var n=t.call(this,r)||this;n.options=r;var i=n._getProxy("http");return n.module=Yf,n.client=i?new(Ca())(i):new Yf.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return o(e,"HTTPTransport"),e.prototype.sendEvent=function(r){return this._send(zf.eventToSentryRequest(r,this._api),r)},e.prototype.sendSession=function(r){return this._send(zf.sessionToSentryRequest(r,this._api),r)},e}(Ay.BaseTransport);ka.HTTPTransport=Ny});var Jf=p(Aa=>{Object.defineProperty(Aa,"__esModule",{value:!0});var jy=T(),Kf=B(),$f=require("https"),Dy=ei(),Fy=function(t){jy.__extends(e,t);function e(r){var n=t.call(this,r)||this;n.options=r;var i=n._getProxy("https");return n.module=$f,n.client=i?new(Ca())(i):new $f.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return o(e,"HTTPSTransport"),e.prototype.sendEvent=function(r){return this._send(Kf.eventToSentryRequest(r,this._api),r)},e.prototype.sendSession=function(r){return this._send(Kf.sessionToSentryRequest(r,this._api),r)},e}(Dy.BaseTransport);Aa.HTTPSTransport=Fy});var Na=p(Lr=>{Object.defineProperty(Lr,"__esModule",{value:!0});var Hy=ei();Lr.BaseTransport=Hy.BaseTransport;var Uy=Vf();Lr.HTTPTransport=Uy.HTTPTransport;var Ly=Jf();Lr.HTTPSTransport=Ly.HTTPSTransport});var Da=p(ja=>{Object.defineProperty(ja,"__esModule",{value:!0});var st=T(),Xf=B(),By=J(),Be=E(),oi=va(),Zf=Na(),Gy=function(t){st.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return o(e,"NodeBackend"),e.prototype.eventFromException=function(r,n){var i=this,s=r,a=n&&n.data&&n.data.mechanism,u=a||{handled:!0,type:"generic"};if(!Be.isError(r)){if(Be.isPlainObject(r)){var c="Non-Error exception captured with keys: "+Be.extractExceptionKeysForMessage(r);Xf.getCurrentHub().configureScope(function(l){l.setExtra("__serialized__",Be.normalizeToSize(r))}),s=n&&n.syntheticException||new Error(c),s.message=c}else s=n&&n.syntheticException||new Error(r),s.message=r;u.synthetic=!0}return new Be.SyncPromise(function(l,f){return oi.parseError(s,i._options).then(function(d){Be.addExceptionTypeValue(d,void 0,void 0),Be.addExceptionMechanism(d,u),l(st.__assign(st.__assign({},d),{event_id:n&&n.event_id}))}).then(null,f)})},e.prototype.eventFromMessage=function(r,n,i){var s=this;n===void 0&&(n=By.Severity.Info);var a={event_id:i&&i.event_id,level:n,message:r};return new Be.SyncPromise(function(u){if(s._options.attachStacktrace&&i&&i.syntheticException){var c=i.syntheticException?oi.extractStackFromError(i.syntheticException):[];oi.parseStack(c,s._options).then(function(l){a.stacktrace={frames:oi.prepareFramesForEvent(l)},u(a)}).then(null,function(){u(a)})}else u(a)})},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var r=new Be.Dsn(this._options.dsn),n=st.__assign(st.__assign(st.__assign(st.__assign(st.__assign({},this._options.transportOptions),this._options.httpProxy&&{httpProxy:this._options.httpProxy}),this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy}),this._options.caCerts&&{caCerts:this._options.caCerts}),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(n):r.protocol==="http"?new Zf.HTTPTransport(n):new Zf.HTTPSTransport(n)},e}(Xf.BaseBackend);ja.NodeBackend=Gy});var Ua=p(Ha=>{Object.defineProperty(Ha,"__esModule",{value:!0});var Wy=T(),Fa=B(),zy=ae(),ui=J(),Qf=E(),Yy=Da(),Vy=function(t){Wy.__extends(e,t);function e(r){var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:Fa.SDK_VERSION}],version:Fa.SDK_VERSION},n=t.call(this,Yy.NodeBackend,r)||this,n}return o(e,"NodeClient"),e.prototype.captureException=function(r,n,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=i.getRequestSession();s&&s.status===ui.RequestSessionStatus.Ok&&(s.status=ui.RequestSessionStatus.Errored)}return t.prototype.captureException.call(this,r,n,i)},e.prototype.captureEvent=function(r,n,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=r.type||"exception",a=s==="exception"&&r.exception&&r.exception.values&&r.exception.values.length>0;if(a){var u=i.getRequestSession();u&&u.status===ui.RequestSessionStatus.Ok&&(u.status=ui.RequestSessionStatus.Errored)}}return t.prototype.captureEvent.call(this,r,n,i)},e.prototype.close=function(r){var n;return(n=this._sessionFlusher)===null||n===void 0||n.close(),t.prototype.close.call(this,r)},e.prototype.initSessionFlusher=function(){var r=this._options,n=r.release,i=r.environment;n?this._sessionFlusher=new zy.SessionFlusher(this._backend.getTransport(),{release:n,environment:i}):Qf.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")},e.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"node",this.getOptions().serverName&&(r.server_name=this.getOptions().serverName),t.prototype._prepareEvent.call(this,r,n,i)},e.prototype._captureRequestSession=function(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():Qf.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")},e}(Fa.BaseClient);Ha.NodeClient=Vy});var nd=p(La=>{Object.defineProperty(La,"__esModule",{value:!0});var ed=T(),td=B(),Br=J(),Ky=E(),$y=require("util"),rd=function(){function t(){this.name=t.id}return o(t,"Console"),t.prototype.setupOnce=function(){var e,r;try{for(var n=ed.__values(["debug","info","warn","error","log"]),i=n.next();!i.done;i=n.next()){var s=i.value;Ky.fill(console,s,Jy(s))}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.id="Console",t}();La.Console=rd;function Jy(t){return o(function(r){var n;switch(t){case"debug":n=Br.Severity.Debug;break;case"error":n=Br.Severity.Error;break;case"info":n=Br.Severity.Info;break;case"warn":n=Br.Severity.Warning;break;default:n=Br.Severity.Log}return function(){td.getCurrentHub().getIntegration(rd)&&td.getCurrentHub().addBreadcrumb({category:"console",level:n,message:$y.format.apply(void 0,arguments)},{input:ed.__spread(arguments),level:t}),r.apply(this,arguments)}},"consoleWrapper")}o(Jy,"createConsoleWrapper")});var ad=p(wt=>{Object.defineProperty(wt,"__esModule",{value:!0});var Ba=T(),Xy=B(),id=require("url");function Zy(t){var e,r=(e=Xy.getCurrentHub().getClient())===null||e===void 0?void 0:e.getDsn();return r?t.includes(r.host):!1}o(Zy,"isSentryRequest");wt.isSentryRequest=Zy;function sd(t){var e=t.protocol||"",r=t.hostname||t.host||"",n=!t.port||t.port===80||t.port===443?"":":"+t.port,i=t.path?t.path:"/";return e+"//"+r+n+i}o(sd,"extractUrl");wt.extractUrl=sd;function Qy(t,e,r){var n,i,s;if(!t)return t;var a=Ba.__read(t.split(" "),2),u=a[0],c=a[1];return e.host&&!e.protocol&&(e.protocol=(i=(n=r)===null||n===void 0?void 0:n.agent)===null||i===void 0?void 0:i.protocol,c=sd(e)),((s=c)===null||s===void 0?void 0:s.startsWith("///"))&&(c=c.slice(2)),u+" "+c}o(Qy,"cleanSpanDescription");wt.cleanSpanDescription=Qy;function Ga(t){var e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:""+(t.pathname||"")+(t.search||""),href:t.href};return t.port!==""&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=t.username+":"+t.password),e}o(Ga,"urlToOptions");wt.urlToOptions=Ga;function eb(t){var e,r;return typeof t[t.length-1]=="function"&&(e=t.pop()),typeof t[0]=="string"?r=Ga(new id.URL(t[0])):t[0]instanceof id.URL?r=Ga(t[0]):r=t[0],t.length===2&&(r=Ba.__assign(Ba.__assign({},r),t[1])),e?[r,e]:[r]}o(eb,"normalizeRequestArgs");wt.normalizeRequestArgs=eb});var fd=p(za=>{Object.defineProperty(za,"__esModule",{value:!0});var od=T(),Wa=B(),er=E(),Gr=ad(),ud=er.parseSemver(process.versions.node),cd=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._breadcrumbs=typeof e.breadcrumbs=="undefined"?!0:e.breadcrumbs,this._tracing=typeof e.tracing=="undefined"?!1:e.tracing}return o(t,"Http"),t.prototype.setupOnce=function(){if(!(!this._breadcrumbs&&!this._tracing)){var e=tb(this._breadcrumbs,this._tracing),r=require("http");if(er.fill(r,"get",e),er.fill(r,"request",e),ud.major&&ud.major>8){var n=require("https");er.fill(n,"get",e),er.fill(n,"request",e)}}},t.id="Http",t}();za.Http=cd;function tb(t,e){return o(function(n){return o(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=this,c=Gr.normalizeRequestArgs(s),l=c[0],f=Gr.extractUrl(l);if(Gr.isSentryRequest(f))return n.apply(u,c);var d,_,h=Wa.getCurrentHub().getScope();if(h&&e&&(_=h.getSpan(),_)){d=_.startChild({description:(l.method||"GET")+" "+f,op:"request"});var g=d.toTraceparent();er.logger.log("[Tracing] Adding sentry-trace header "+g+" to outgoing request to "+f+": "),l.headers=od.__assign(od.__assign({},l.headers),{"sentry-trace":g})}return n.apply(u,c).once("response",function(v){var m=this;t&&ld("response",f,m,v),e&&d&&(v.statusCode&&d.setHttpStatus(v.statusCode),d.description=Gr.cleanSpanDescription(d.description,l,m),d.finish())}).once("error",function(){var v=this;t&&ld("error",f,v),e&&d&&(d.setHttpStatus(500),d.description=Gr.cleanSpanDescription(d.description,l,v),d.finish())})},"wrappedMethod")},"wrappedRequestMethodFactory")}o(tb,"_createWrappedRequestMethodFactory");function ld(t,e,r,n){!Wa.getCurrentHub().getIntegration(cd)||Wa.getCurrentHub().addBreadcrumb({category:"http",data:{method:r.method,status_code:n&&n.statusCode,url:e},type:"http"},{event:t,request:r,response:n})}o(ld,"addRequestBreadcrumb")});var Ka=p(Va=>{Object.defineProperty(Va,"__esModule",{value:!0});var rb=B(),Ya=E(),nb=2e3;function ib(t){console.error(t&&t.stack?t.stack:t);var e=rb.getCurrentHub().getClient();if(e===void 0){Ya.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);return}var r=e.getOptions(),n=r&&r.shutdownTimeout&&r.shutdownTimeout>0&&r.shutdownTimeout||nb;Ya.forget(e.close(n).then(function(i){i||Ya.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}))}o(ib,"logAndExitProcess");Va.logAndExitProcess=ib});var _d=p($a=>{Object.defineProperty($a,"__esModule",{value:!0});var dd=B(),sb=J(),ab=E(),pd=Ka(),ob=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id,this.handler=this._makeErrorHandler()}return o(t,"OnUncaughtException"),t.prototype.setupOnce=function(){global.process.on("uncaughtException",this.handler.bind(this))},t.prototype._makeErrorHandler=function(){var e=this,r=2e3,n=!1,i=!1,s=!1,a;return function(u){var c=pd.logAndExitProcess,l=dd.getCurrentHub().getClient();if(e._options.onFatalError?c=e._options.onFatalError:l&&l.getOptions().onFatalError&&(c=l.getOptions().onFatalError),n)s?(ab.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),pd.logAndExitProcess(u)):i||(i=!0,setTimeout(function(){s||(s=!0,c(a,u))},r));else{var f=dd.getCurrentHub();a=u,n=!0,f.getIntegration(t)?f.withScope(function(d){d.setLevel(sb.Severity.Fatal),f.captureException(u,{originalException:u,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),s||(s=!0,c(u))}):s||(s=!0,c(u))}}},t.id="OnUncaughtException",t}();$a.OnUncaughtException=ob});var gd=p(Ja=>{Object.defineProperty(Ja,"__esModule",{value:!0});var ub=B(),hd=E(),cb=Ka(),lb=function(){function t(e){e===void 0&&(e={mode:"warn"}),this._options=e,this.name=t.id}return o(t,"OnUnhandledRejection"),t.prototype.setupOnce=function(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))},t.prototype.sendUnhandledPromise=function(e,r){var n=ub.getCurrentHub();if(!n.getIntegration(t)){this._handleRejection(e);return}var i=r.domain&&r.domain.sentryContext||{};n.withScope(function(s){s.setExtra("unhandledPromiseRejection",!0),i.user&&s.setUser(i.user),i.tags&&s.setTags(i.tags),i.extra&&s.setExtras(i.extra),n.captureException(e,{originalException:r,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})}),this._handleRejection(e)},t.prototype._handleRejection=function(e){var r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";this._options.mode==="warn"?hd.consoleSandbox(function(){console.warn(r),console.error(e&&e.stack?e.stack:e)}):this._options.mode==="strict"&&(hd.consoleSandbox(function(){console.warn(r)}),cb.logAndExitProcess(e))},t.id="OnUnhandledRejection",t}();Ja.OnUnhandledRejection=lb});var yd=p(Xa=>{Object.defineProperty(Xa,"__esModule",{value:!0});var vd=T(),md=B(),tr=E(),fb=va(),db="cause",pb=5,_b=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._key=e.key||db,this._limit=e.limit||pb}return o(t,"LinkedErrors"),t.prototype.setupOnce=function(){md.addGlobalEventProcessor(function(e,r){var n=md.getCurrentHub().getIntegration(t);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(e,r):e}return e})},t.prototype._handler=function(e,r){var n=this;return!e.exception||!e.exception.values||!r||!tr.isInstanceOf(r.originalException,Error)?tr.SyncPromise.resolve(e):new tr.SyncPromise(function(i){n._walkErrorTree(r.originalException,n._key).then(function(s){e&&e.exception&&e.exception.values&&(e.exception.values=vd.__spread(s,e.exception.values)),i(e)}).then(null,function(){i(e)})})},t.prototype._walkErrorTree=function(e,r,n){var i=this;return n===void 0&&(n=[]),!tr.isInstanceOf(e[r],Error)||n.length+1>=this._limit?tr.SyncPromise.resolve(n):new tr.SyncPromise(function(s,a){fb.getExceptionFromError(e[r]).then(function(u){i._walkErrorTree(e[r],r,vd.__spread([u],n)).then(s).then(null,function(){a()})}).then(null,function(){a()})})},t.id="LinkedErrors",t}();Xa.LinkedErrors=_b});var Td=p(Qa=>{Object.defineProperty(Qa,"__esModule",{value:!0});var bd=T(),Sd=require("fs"),Ed=require("path"),Za;function hb(){try{return require.cache?Object.keys(require.cache):[]}catch(t){return[]}}o(hb,"getPaths");function gb(){var t=require.main&&require.main.paths||[],e=hb(),r={},n={};return e.forEach(function(i){var s=i,a=o(function(){var u=s;if(s=Ed.dirname(u),!(!s||u===s||n[u])){if(t.indexOf(s)<0)return a();var c=Ed.join(u,"package.json");if(n[u]=!0,!Sd.existsSync(c))return a();try{var l=JSON.parse(Sd.readFileSync(c,"utf8"));r[l.name]=l.version}catch(f){}}},"updir");a()}),r}o(gb,"collectModules");var vb=function(){function t(){this.name=t.id}return o(t,"Modules"),t.prototype.setupOnce=function(e,r){var n=this;e(function(i){return r().getIntegration(t)?bd.__assign(bd.__assign({},i),{modules:n._getModules()}):i})},t.prototype._getModules=function(){return Za||(Za=gb()),Za},t.id="Modules",t}();Qa.Modules=vb});var eo=p(at=>{Object.defineProperty(at,"__esModule",{value:!0});var mb=nd();at.Console=mb.Console;var yb=fd();at.Http=yb.Http;var bb=_d();at.OnUncaughtException=bb.OnUncaughtException;var Sb=gd();at.OnUnhandledRejection=Sb.OnUnhandledRejection;var Eb=yd();at.LinkedErrors=Eb.LinkedErrors;var Tb=Td();at.Modules=Tb.Modules});var to=p(Me=>{Object.defineProperty(Me,"__esModule",{value:!0});var Wr=T(),ot=B(),Od=ae(),wd=J(),Ob=E(),wb=require("domain"),qb=Ua(),zr=eo();Me.defaultIntegrations=[new ot.Integrations.InboundFilters,new ot.Integrations.FunctionToString,new zr.Console,new zr.Http,new zr.OnUncaughtException,new zr.OnUnhandledRejection,new zr.LinkedErrors];function Ib(t){t===void 0&&(t={});var e,r=Od.getMainCarrier(),n=((e=r.__SENTRY__)===null||e===void 0?void 0:e.integrations)||[];if(t.defaultIntegrations=t.defaultIntegrations===!1?[]:Wr.__spread(Array.isArray(t.defaultIntegrations)?t.defaultIntegrations:Me.defaultIntegrations,n),t.dsn===void 0&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN),t.tracesSampleRate===void 0&&process.env.SENTRY_TRACES_SAMPLE_RATE){var i=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(i)&&(t.tracesSampleRate=i)}if(t.release===void 0){var s=qd();s!==void 0?t.release=s:t.autoSessionTracking=!1}t.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),wb.active&&Od.setHubOnCarrier(r,ot.getCurrentHub()),ot.initAndBind(qb.NodeClient,t),t.autoSessionTracking&&Cb()}o(Ib,"init");Me.init=Ib;function xb(){return ot.getCurrentHub().lastEventId()}o(xb,"lastEventId");Me.lastEventId=xb;function Rb(t){return Wr.__awaiter(this,void 0,void 0,function(){var e;return Wr.__generator(this,function(r){return e=ot.getCurrentHub().getClient(),e?[2,e.flush(t)]:[2,Promise.reject(!1)]})})}o(Rb,"flush");Me.flush=Rb;function Mb(t){return Wr.__awaiter(this,void 0,void 0,function(){var e;return Wr.__generator(this,function(r){return e=ot.getCurrentHub().getClient(),e?[2,e.close(t)]:[2,Promise.reject(!1)]})})}o(Mb,"close");Me.close=Mb;function Pb(t){if(t===void 0)return!1;var e=t&&t.getOptions();return e&&e.autoSessionTracking!==void 0?e.autoSessionTracking:!1}o(Pb,"isAutoSessionTrackingEnabled");Me.isAutoSessionTrackingEnabled=Pb;function qd(t){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;var e=Ob.getGlobalObject();return e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id?e.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||t}o(qd,"getSentryRelease");Me.getSentryRelease=qd;function Cb(){var t=ot.getCurrentHub();t.startSession(),process.on("beforeExit",function(){var e,r=(e=t.getScope())===null||e===void 0?void 0:e.getSession(),n=[wd.SessionStatus.Exited,wd.SessionStatus.Crashed];r&&!n.includes(r.status)&&t.endSession()})}o(Cb,"startSessionTracking")});var xd=p(no=>{Object.defineProperty(no,"__esModule",{value:!0});var Id=T(),ci=require("fs"),ro=require("path");function kb(t){var e=ro.resolve(t);if(!ci.existsSync(e))throw new Error("Cannot read contents of "+e+". Directory does not exist.");if(!ci.statSync(e).isDirectory())throw new Error("Cannot read contents of "+e+", because it is not a directory.");var r=o(function(n){return ci.readdirSync(n).reduce(function(i,s){var a=ro.join(n,s);return ci.statSync(a).isDirectory()?Id.__spread(i,r(a)):Id.__spread(i,[a])},[])},"deepReadCurrentDir");return r(e).map(function(n){return ro.relative(e,n)})}o(kb,"deepReadDirSync");no.deepReadDirSync=kb});var ut=p(rr=>{Object.defineProperty(rr,"__esModule",{value:!0});var Rd;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(Rd=rr.SpanStatus||(rr.SpanStatus={}));(function(t){function e(r){if(r<400)return t.Ok;if(r>=400&&r<500)switch(r){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}o(e,"fromHttpCode"),t.fromHttpCode=e})(Rd=rr.SpanStatus||(rr.SpanStatus={}))});var ct=p(Pe=>{Object.defineProperty(Pe,"__esModule",{value:!0});var Md=ae();Pe.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ab(t){t===void 0&&(t=(e=Md.getCurrentHub().getClient())===null||e===void 0?void 0:e.getOptions());var e;return t?"tracesSampleRate"in t||"tracesSampler"in t:!1}o(Ab,"hasTracingEnabled");Pe.hasTracingEnabled=Ab;function Nb(t){var e=t.match(Pe.TRACEPARENT_REGEXP);if(e){var r=void 0;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}}o(Nb,"extractTraceparentData");Pe.extractTraceparentData=Nb;function jb(t){t===void 0&&(t=Md.getCurrentHub());var e,r;return(r=(e=t)===null||e===void 0?void 0:e.getScope())===null||r===void 0?void 0:r.getTransaction()}o(jb,"getActiveTransaction");Pe.getActiveTransaction=jb;function Db(t){return t/1e3}o(Db,"msToSec");Pe.msToSec=Db;function Fb(t){return t*1e3}o(Fb,"secToMs");Pe.secToMs=Fb;var Hb=E();Pe.stripUrlQueryAndFragment=Hb.stripUrlQueryAndFragment});var kd=p(so=>{Object.defineProperty(so,"__esModule",{value:!0});var io=E(),Pd=ut(),Ub=ct();function Lb(){io.addInstrumentationHandler({callback:Cd,type:"error"}),io.addInstrumentationHandler({callback:Cd,type:"unhandledrejection"})}o(Lb,"registerErrorInstrumentation");so.registerErrorInstrumentation=Lb;function Cd(){var t=Ub.getActiveTransaction();t&&(io.logger.log("[Tracing] Transaction: "+Pd.SpanStatus.InternalError+" -> Global error occured"),t.setStatus(Pd.SpanStatus.InternalError))}o(Cd,"errorCallback")});var fi=p(li=>{Object.defineProperty(li,"__esModule",{value:!0});var nr=T(),qt=E(),ao=ut(),Bb=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return o(t,"SpanRecorder"),t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}();li.SpanRecorder=Bb;var Gb=function(){function t(e){if(this.traceId=qt.uuid4(),this.spanId=qt.uuid4().substring(16),this.startTimestamp=qt.timestampWithMs(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return o(t,"Span"),t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var r=new t(nr.__assign(nr.__assign({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},t.prototype.setTag=function(e,r){var n;return this.tags=nr.__assign(nr.__assign({},this.tags),(n={},n[e]=r,n)),this},t.prototype.setData=function(e,r){var n;return this.data=nr.__assign(nr.__assign({},this.data),(n={},n[e]=r,n)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var r=ao.SpanStatus.fromHttpCode(e);return r!==ao.SpanStatus.UnknownError&&this.setStatus(r),this},t.prototype.isSuccess=function(){return this.status===ao.SpanStatus.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:qt.timestampWithMs()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return qt.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var r,n,i,s,a;return this.data=(r=e.data,r!=null?r:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(n=e.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(a=e.traceId,a!=null?a:this.traceId),this},t.prototype.getTraceContext=function(){return qt.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return qt.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();li.Span=Gb});var di=p(oo=>{Object.defineProperty(oo,"__esModule",{value:!0});var ir=T(),Ad=ae(),sr=E(),Nd=fi(),Wb=function(t){ir.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._measurements={},i._hub=Ad.getCurrentHub(),sr.isInstanceOf(n,Ad.Hub)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return o(e,"Transaction"),e.prototype.setName=function(r){this.name=r},e.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new Nd.SpanRecorder(r)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(r){this._measurements=ir.__assign({},r)},e.prototype.setMetadata=function(r){this.metadata=ir.__assign(ir.__assign({},this.metadata),r)},e.prototype.finish=function(r){var n=this;if(this.endTimestamp===void 0){if(this.name||(sr.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,r),this.sampled!==!0){sr.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(u){return u!==n&&u.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(u,c){return u.endTimestamp&&c.endTimestamp?u.endTimestamp>c.endTimestamp?u:c:u}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},a=Object.keys(this._measurements).length>0;return a&&(sr.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),sr.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},e.prototype.toContext=function(){var r=t.prototype.toContext.call(this);return sr.dropUndefinedKeys(ir.__assign(ir.__assign({},r),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(r){var n;return t.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},e}(Nd.Span);oo.Transaction=Wb});var pi=p(ar=>{Object.defineProperty(ar,"__esModule",{value:!0});var uo=T(),Y=E(),zb=fi(),jd=ut(),Yb=di();ar.DEFAULT_IDLE_TIMEOUT=1e3;var Dd=function(t){uo.__extends(e,t);function e(r,n,i,s){i===void 0&&(i="");var a=t.call(this,s)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return o(e,"IdleTransactionSpanRecorder"),e.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:Y.timestampWithMs(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),t.prototype.add.call(this,r)},e}(zb.SpanRecorder);ar.IdleTransactionSpanRecorder=Dd;var Vb=function(t){uo.__extends(e,t);function e(r,n,i,s){i===void 0&&(i=ar.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var a=t.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=s,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&s&&(Fd(n),Y.logger.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(u){return u.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return o(e,"IdleTransaction"),e.prototype.finish=function(r){var n,i,s=this;if(r===void 0&&(r=Y.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){Y.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=uo.__values(this._beforeFinishCallbacks),u=a.next();!u.done;u=a.next()){var c=u.value;c(this,r)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(l){if(l.spanId===s.spanId)return!0;l.endTimestamp||(l.endTimestamp=r,l.setStatus(jd.SpanStatus.Cancelled),Y.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(l,void 0,2)));var f=l.startTimestamp<r;return f||Y.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(l,void 0,2)),f}),Y.logger.log("[Tracing] flushing IdleTransaction")}else Y.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&Fd(this._idleHub),t.prototype.finish.call(this,r)},e.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},e.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=o(function(a){n._finished||n._pushActivity(a)},"pushActivity"),s=o(function(a){n._finished||n._popActivity(a)},"popActivity");this.spanRecorder=new Dd(i,s,this.spanId,r),Y.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),Y.logger.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,Y.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(Y.logger.log("[Tracing] popActivity "+r),delete this.activities[r],Y.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=Y.timestampWithMs()+i/1e3;setTimeout(function(){n._finished||n.finish(s)},i)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,s){return i+s}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(Y.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(jd.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var r=this;Y.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},e}(Yb.Transaction);ar.IdleTransaction=Vb;function Fd(t){if(t){var e=t.getScope();if(e){var r=e.getTransaction();r&&e.setSpan(void 0)}}}o(Fd,"clearActiveTransaction")});var hi=p((Yr,Vr)=>{Object.defineProperty(Yr,"__esModule",{value:!0});var co=T(),Hd=ae(),_i=J(),he=E(),Kb=kd(),$b=pi(),Jb=di(),Xb=ct();function Zb(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}o(Zb,"traceHeaders");function Ud(t,e,r){if(!Xb.hasTracingEnabled())return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:_i.TransactionSamplingMethod.Explicit}}),t;var n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({transactionSampling:{method:_i.TransactionSamplingMethod.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,t.setMetadata({transactionSampling:{method:_i.TransactionSamplingMethod.Inheritance}})):(n=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:_i.TransactionSamplingMethod.Rate,rate:Number(n)}})),Qb(n)?n?(t.sampled=Math.random()<n,t.sampled?(he.logger.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(he.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),t)):(he.logger.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(he.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}o(Ud,"sample");function Qb(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(he.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(he.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}o(Qb,"isValidSampleRate");function eS(t,e){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},s=new Jb.Transaction(t,this);return s=Ud(s,i,co.__assign({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),s}o(eS,"_startTransaction");function tS(t,e,r,n,i){var s,a,u=((s=t.getClient())===null||s===void 0?void 0:s.getOptions())||{},c=new $b.IdleTransaction(e,t,r,n);return c=Ud(c,u,co.__assign({parentSampled:e.parentSampled,transactionContext:e},i)),c.sampled&&c.initSpanRecorder((a=u._experiments)===null||a===void 0?void 0:a.maxSpans),c}o(tS,"startIdleTransaction");Yr.startIdleTransaction=tS;function Ld(){var t=Hd.getMainCarrier();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=eS),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=Zb))}o(Ld,"_addTracingExtensions");Yr._addTracingExtensions=Ld;function rS(){var t=Hd.getMainCarrier();if(!!t.__SENTRY__){var e={mongodb:function(){var n=he.dynamicRequire(Vr,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=he.dynamicRequire(Vr,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=he.dynamicRequire(Vr,"./integrations/mysql");return new n.Mysql},pg:function(){var n=he.dynamicRequire(Vr,"./integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(function(n){return!!he.loadModule(n)}).map(function(n){try{return e[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(t.__SENTRY__.integrations=co.__spread(t.__SENTRY__.integrations||[],r))}}o(rS,"_autoloadDatabaseIntegrations");function nS(){Ld(),he.isNodeEnv()&&rS(),Kb.registerErrorInstrumentation()}o(nS,"addExtensionMethods");Yr.addExtensionMethods=nS});var Gd=p(fo=>{Object.defineProperty(fo,"__esModule",{value:!0});var lo=E(),Bd=ut(),iS=ct(),gi=lo.getGlobalObject();function sS(){gi&&gi.document?gi.document.addEventListener("visibilitychange",function(){var t=iS.getActiveTransaction();gi.document.hidden&&t&&(lo.logger.log("[Tracing] Transaction: "+Bd.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(Bd.SpanStatus.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):lo.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(sS,"registerBackgroundTabDetection");fo.registerBackgroundTabDetection=sS});var vi=p(po=>{Object.defineProperty(po,"__esModule",{value:!0});po.bindReporter=function(t,e,r,n){var i;return function(){r&&e.isFinal&&r.disconnect(),e.value>=0&&(n||e.isFinal||document.visibilityState==="hidden")&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||i===void 0)&&(t(e),i=e.value))}}});var Wd=p(_o=>{Object.defineProperty(_o,"__esModule",{value:!0});_o.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var mi=p(ho=>{Object.defineProperty(ho,"__esModule",{value:!0});var aS=Wd();ho.initMetric=function(t,e){return e===void 0&&(e=-1),{name:t,value:e,delta:0,entries:[],id:aS.generateUniqueID(),isFinal:!1}}});var yi=p(go=>{Object.defineProperty(go,"__esModule",{value:!0});go.observe=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(n){return n.getEntries().map(e)});return r.observe({type:t,buffered:!0}),r}}catch(n){}}});var Kr=p(vo=>{Object.defineProperty(vo,"__esModule",{value:!0});var zd=!1,Yd=!1,oS=o(function(t){zd=!t.persisted},"onPageHide"),uS=o(function(){addEventListener("pagehide",oS),addEventListener("beforeunload",function(){})},"addListeners");vo.onHidden=function(t,e){e===void 0&&(e=!1),Yd||(uS(),Yd=!0),addEventListener("visibilitychange",function(r){var n=r.timeStamp;document.visibilityState==="hidden"&&t({timeStamp:n,isUnloading:zd})},{capture:!0,once:e})}});var Vd=p(mo=>{Object.defineProperty(mo,"__esModule",{value:!0});var cS=vi(),lS=mi(),fS=yi(),dS=Kr();mo.getCLS=function(t,e){e===void 0&&(e=!1);var r=lS.initMetric("CLS",0),n,i=o(function(a){a.hadRecentInput||(r.value+=a.value,r.entries.push(a),n())},"entryHandler"),s=fS.observe("layout-shift",i);s&&(n=cS.bindReporter(t,r,s,e),dS.onHidden(function(a){var u=a.isUnloading;s.takeRecords().map(i),u&&(r.isFinal=!0),n()}))}});var Si=p(yo=>{Object.defineProperty(yo,"__esModule",{value:!0});var pS=Kr(),bi;yo.getFirstHidden=function(){return bi===void 0&&(bi=document.visibilityState==="hidden"?0:Infinity,pS.onHidden(function(t){var e=t.timeStamp;return bi=e},!0)),{get timeStamp(){return bi}}}});var Kd=p(bo=>{Object.defineProperty(bo,"__esModule",{value:!0});var _S=vi(),hS=Si(),gS=mi(),vS=yi(),mS=Kr();bo.getFID=function(t){var e=gS.initMetric("FID"),r=hS.getFirstHidden(),n=o(function(a){a.startTime<r.timeStamp&&(e.value=a.processingStart-a.startTime,e.entries.push(a),e.isFinal=!0,s())},"entryHandler"),i=vS.observe("first-input",n),s=_S.bindReporter(t,e,i);i?mS.onHidden(function(){i.takeRecords().map(n),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(a,u){u.timeStamp<r.timeStamp&&(e.value=a,e.isFinal=!0,e.entries=[{entryType:"first-input",name:u.type,target:u.target,cancelable:u.cancelable,startTime:u.timeStamp,processingStart:u.timeStamp+a}],s())})}});var $d=p(Eo=>{Object.defineProperty(Eo,"__esModule",{value:!0});var So;Eo.whenInput=function(){return So||(So=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),So}});var Jd=p(To=>{Object.defineProperty(To,"__esModule",{value:!0});var yS=vi(),bS=Si(),SS=mi(),ES=yi(),TS=Kr(),OS=$d();To.getLCP=function(t,e){e===void 0&&(e=!1);var r=SS.initMetric("LCP"),n=bS.getFirstHidden(),i,s=o(function(c){var l=c.startTime;l<n.timeStamp?(r.value=l,r.entries.push(c)):r.isFinal=!0,i()},"entryHandler"),a=ES.observe("largest-contentful-paint",s);if(a){i=yS.bindReporter(t,r,a,e);var u=o(function(){r.isFinal||(a.takeRecords().map(s),r.isFinal=!0,i())},"onFinal");OS.whenInput().then(u),TS.onHidden(u,!0)}}});var Qd=p($r=>{Object.defineProperty($r,"__esModule",{value:!0});var Xd=T(),j=E(),H=ct(),wS=Vd(),qS=Kd(),IS=Jd(),xS=Si(),le=j.getGlobalObject(),RS=function(){function t(){var e;this._measurements={},this._performanceCursor=0,!j.isNodeEnv()&&((e=le)===null||e===void 0?void 0:e.performance)&&(le.performance.mark&&le.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return o(t,"MetricsInstrumentation"),t.prototype.addPerformanceEntries=function(e){var r=this;if(!(!le||!le.performance||!le.performance.getEntries||!j.browserPerformanceTimeOrigin)){j.logger.log("[Tracing] Adding & adjusting spans using Performance API");var n=H.msToSec(j.browserPerformanceTimeOrigin),i;if(le.document&&le.document.scripts){for(var s=0;s<le.document.scripts.length;s++)if(le.document.scripts[s].dataset.entry==="true"){i=le.document.scripts[s].src;break}}var a,u,c,l;if(le.performance.getEntries().slice(this._performanceCursor).forEach(function(d){var _=H.msToSec(d.startTime),h=H.msToSec(d.duration);if(!(e.op==="navigation"&&n+_<e.startTimestamp))switch(d.entryType){case"navigation":{MS(e,d,n),c=n+H.msToSec(d.responseStart),l=n+H.msToSec(d.requestStart);break}case"mark":case"paint":case"measure":{var g=PS(e,d,_,h,n);u===void 0&&d.name==="sentry-tracing-init"&&(u=g);var v=xS.getFirstHidden(),m=d.startTime<v.timeStamp;d.name==="first-paint"&&m&&(j.logger.log("[Measurements] Adding FP"),r._measurements.fp={value:d.startTime},r._measurements["mark.fp"]={value:g}),d.name==="first-contentful-paint"&&m&&(j.logger.log("[Measurements] Adding FCP"),r._measurements.fcp={value:d.startTime},r._measurements["mark.fcp"]={value:g});break}case"resource":{var S=d.name.replace(window.location.origin,""),x=Zd(e,d,S,_,h,n);a===void 0&&(i||"").indexOf(S)>-1&&(a=x);break}default:}}),a!==void 0&&u!==void 0&&ft(e,{description:"evaluation",endTimestamp:u,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var f=H.msToSec(j.browserPerformanceTimeOrigin);typeof c=="number"&&(j.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(c-e.startTimestamp)*1e3},typeof l=="number"&&l<=c&&(this._measurements["ttfb.requestTime"]={value:(c-l)*1e3})),["fcp","fp","lcp"].forEach(function(d){if(!(!r._measurements[d]||f>=e.startTimestamp)){var _=r._measurements[d].value,h=f+H.msToSec(_),g=Math.abs((h-e.startTimestamp)*1e3),v=g-_;j.logger.log("[Measurements] Normalized "+d+" from "+_+" to "+g+" ("+v+")"),r._measurements[d].value=g}}),this._measurements["mark.fid"]&&this._measurements.fid&&ft(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+H.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},t.prototype._tagMetricInfo=function(e){this._lcpEntry&&(j.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",j.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(j.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(r,n){return e.setTag("cls.source."+(n+1),j.htmlTreeAsString(r.node))}))},t.prototype._trackCLS=function(){var e=this;wS.getCLS(function(r){var n=r.entries.pop();!n||(j.logger.log("[Measurements] Adding CLS"),e._measurements.cls={value:r.value},e._clsEntry=n)})},t.prototype._trackNavigator=function(e){var r=le.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Ei(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Ei(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Ei(r.deviceMemory)&&e.setTag("deviceMemory",String(r.deviceMemory)),Ei(r.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},t.prototype._trackLCP=function(){var e=this;IS.getLCP(function(r){var n=r.entries.pop();if(!!n){var i=H.msToSec(j.browserPerformanceTimeOrigin),s=H.msToSec(n.startTime);j.logger.log("[Measurements] Adding LCP"),e._measurements.lcp={value:r.value},e._measurements["mark.lcp"]={value:i+s},e._lcpEntry=n}})},t.prototype._trackFID=function(){var e=this;qS.getFID(function(r){var n=r.entries.pop();if(!!n){var i=H.msToSec(j.browserPerformanceTimeOrigin),s=H.msToSec(n.startTime);j.logger.log("[Measurements] Adding FID"),e._measurements.fid={value:r.value},e._measurements["mark.fid"]={value:i+s}}})},t}();$r.MetricsInstrumentation=RS;function MS(t,e,r){lt({transaction:t,entry:e,event:"unloadEvent",timeOrigin:r}),lt({transaction:t,entry:e,event:"redirect",timeOrigin:r}),lt({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:r}),lt({transaction:t,entry:e,event:"loadEvent",timeOrigin:r}),lt({transaction:t,entry:e,event:"connect",timeOrigin:r}),lt({transaction:t,entry:e,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),lt({transaction:t,entry:e,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),lt({transaction:t,entry:e,event:"domainLookup",timeOrigin:r,description:"DNS"}),CS(t,e,r)}o(MS,"addNavigationSpans");function PS(t,e,r,n,i){var s=i+r,a=s+n;return ft(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:s}),s}o(PS,"addMeasureSpans");function Zd(t,e,r,n,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var u=s+n,c=u+i;return ft(t,{description:r,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:u,data:a}),c}}o(Zd,"addResourceSpans");$r.addResourceSpans=Zd;function lt(t){var e=t.transaction,r=t.entry,n=t.event,i=t.timeOrigin,s=t.eventEnd,a=t.description,u=s?r[s]:r[n+"End"],c=r[n+"Start"];!c||!u||ft(e,{op:"browser",description:a!=null?a:n,startTimestamp:i+H.msToSec(c),endTimestamp:i+H.msToSec(u)})}o(lt,"addPerformanceNavigationTiming");function CS(t,e,r){ft(t,{op:"browser",description:"request",startTimestamp:r+H.msToSec(e.requestStart),endTimestamp:r+H.msToSec(e.responseEnd)}),ft(t,{op:"browser",description:"response",startTimestamp:r+H.msToSec(e.responseStart),endTimestamp:r+H.msToSec(e.responseEnd)})}o(CS,"addRequest");function ft(t,e){var r=e.startTimestamp,n=Xd.__rest(e,["startTimestamp"]);return r&&t.startTimestamp>r&&(t.startTimestamp=r),t.startChild(Xd.__assign({startTimestamp:r},n))}o(ft,"_startChild");$r._startChild=ft;function Ei(t){return typeof t=="number"&&isFinite(t)}o(Ei,"isMeasurementValue")});var Oo=p(We=>{Object.defineProperty(We,"__esModule",{value:!0});var Ge=T(),Jr=E(),kS=ut(),Ti=ct();We.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];We.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:We.DEFAULT_TRACING_ORIGINS};function AS(t){var e=Ge.__assign(Ge.__assign({},We.defaultRequestInstrumentationOptions),t),r=e.traceFetch,n=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,a={},u=o(function(f){if(a[f])return a[f];var d=i;return a[f]=d.some(function(_){return Jr.isMatchingPattern(f,_)})&&!Jr.isMatchingPattern(f,"sentry_key"),a[f]},"defaultShouldCreateSpan"),c=u;typeof s=="function"&&(c=o(function(f){return u(f)&&s(f)},"shouldCreateSpan"));var l={};r&&Jr.addInstrumentationHandler({callback:function(f){ep(f,c,l)},type:"fetch"}),n&&Jr.addInstrumentationHandler({callback:function(f){tp(f,c,l)},type:"xhr"})}o(AS,"instrumentOutgoingRequests");We.instrumentOutgoingRequests=AS;function ep(t,e,r){if(!(!Ti.hasTracingEnabled()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp&&t.fetchData.__span){var n=r[t.fetchData.__span];n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus(kS.SpanStatus.InternalError),n.finish(),delete r[t.fetchData.__span]);return}var i=Ti.getActiveTransaction();if(i){var n=i.startChild({data:Ge.__assign(Ge.__assign({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=n.spanId,r[n.spanId]=n;var s=t.args[0]=t.args[0],a=t.args[1]=t.args[1]||{},u=a.headers;Jr.isInstanceOf(s,Request)&&(u=s.headers),u?typeof u.append=="function"?u.append("sentry-trace",n.toTraceparent()):Array.isArray(u)?u=Ge.__spread(u,[["sentry-trace",n.toTraceparent()]]):u=Ge.__assign(Ge.__assign({},u),{"sentry-trace":n.toTraceparent()}):u={"sentry-trace":n.toTraceparent()},a.headers=u}}}o(ep,"fetchCallback");We.fetchCallback=ep;function tp(t,e,r){var n,i;if(!(!Ti.hasTracingEnabled()||((n=t.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=t.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&e(t.xhr.__sentry_xhr__.url)))){var s=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){var a=r[t.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(s.status_code),a.finish(),delete r[t.xhr.__sentry_xhr_span_id__]);return}var u=Ti.getActiveTransaction();if(u){var a=u.startChild({data:Ge.__assign(Ge.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,r[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(l){}}}}o(tp,"xhrCallback");We.xhrCallback=tp});var rp=p(wo=>{Object.defineProperty(wo,"__esModule",{value:!0});var Oi=E(),Xr=Oi.getGlobalObject();function NS(t,e,r){if(e===void 0&&(e=!0),r===void 0&&(r=!0),!Xr||!Xr.location){Oi.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var n=Xr.location.href,i;e&&(i=t({name:Xr.location.pathname,op:"pageload"})),r&&Oi.addInstrumentationHandler({callback:function(s){var a=s.to,u=s.from;if(u===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}u!==a&&(n=void 0,i&&(Oi.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:Xr.location.pathname,op:"navigation"}))},type:"history"})}o(NS,"instrumentRoutingWithDefaults");wo.instrumentRoutingWithDefaults=NS});var ap=p(It=>{Object.defineProperty(It,"__esModule",{value:!0});var ze=T(),or=E(),jS=hi(),DS=pi(),FS=ut(),np=ct(),HS=Gd(),US=Qd(),wi=Oo(),LS=rp();It.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var BS=ze.__assign({idleTimeout:DS.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:It.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:LS.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},wi.defaultRequestInstrumentationOptions),GS=function(){function t(e){this.name=t.id,this._metrics=new US.MetricsInstrumentation,this._emitOptionsWarning=!1;var r=wi.defaultRequestInstrumentationOptions.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?r=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=ze.__assign(ze.__assign(ze.__assign({},BS),e),{tracingOrigins:r})}return o(t,"BrowserTracing"),t.prototype.setupOnce=function(e,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(or.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),or.logger.warn("[Tracing] We added a reasonable default for you: "+wi.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,a=i.startTransactionOnLocationChange,u=i.startTransactionOnPageLoad,c=i.markBackgroundTransactions,l=i.traceFetch,f=i.traceXHR,d=i.tracingOrigins,_=i.shouldCreateSpanForRequest;s(function(h){return n._createRouteTransaction(h)},u,a),c&&HS.registerBackgroundTabDetection(),wi.instrumentOutgoingRequests({traceFetch:l,traceXHR:f,tracingOrigins:d,shouldCreateSpanForRequest:_})},t.prototype._createRouteTransaction=function(e){var r=this;if(!this._getCurrentHub){or.logger.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,s=n.idleTimeout,a=n.maxTransactionDuration,u=e.op==="pageload"?ip():void 0,c=ze.__assign(ze.__assign(ze.__assign({},e),u),{trimEnd:!0}),l=typeof i=="function"?i(c):c,f=l===void 0?ze.__assign(ze.__assign({},c),{sampled:!1}):l;f.sampled===!1&&or.logger.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),or.logger.log("[Tracing] Starting "+f.op+" transaction on scope");var d=this._getCurrentHub(),_=or.getGlobalObject().location,h=jS.startIdleTransaction(d,f,s,!0,{location:_});return h.registerBeforeFinishCallback(function(g,v){r._metrics.addPerformanceEntries(g),WS(np.secToMs(a),g,v)}),h},t.id="BrowserTracing",t}();It.BrowserTracing=GS;function ip(){var t=sp("sentry-trace");if(t)return np.extractTraceparentData(t)}o(ip,"getHeaderContext");It.getHeaderContext=ip;function sp(t){var e=document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}o(sp,"getMetaContent");It.getMetaContent=sp;function WS(t,e,r){var n=r-e.startTimestamp,i=r&&(n>t||n<0);i&&(e.setStatus(FS.SpanStatus.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}o(WS,"adjustTransactionDuration")});var qo=p(Zr=>{Object.defineProperty(Zr,"__esModule",{value:!0});var zS=ap();Zr.BrowserTracing=zS.BrowserTracing;var op=Oo();Zr.instrumentOutgoingRequests=op.instrumentOutgoingRequests;Zr.defaultRequestInstrumentationOptions=op.defaultRequestInstrumentationOptions});var cp=p(xo=>{Object.defineProperty(xo,"__esModule",{value:!0});var Io=T(),YS=E(),VS=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return o(t,"Express"),t.prototype.setupOnce=function(){if(!this._router){YS.logger.error("ExpressIntegration is missing an Express instance");return}JS(this._router,this._methods)},t.id="Express",t}();xo.Express=VS;function up(t,e){var r=t.length;switch(r){case 2:return function(n,i){var s=i.__sentry_transaction;if(s){var a=s.startChild({description:t.name,op:"middleware."+e});i.once("finish",function(){a.finish()})}return t.call(this,n,i)};case 3:return function(n,i,s){var a,u=i.__sentry_transaction,c=(a=u)===null||a===void 0?void 0:a.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var d;(d=c)===null||d===void 0||d.finish(),s.call.apply(s,Io.__spread([this],l))})};case 4:return function(n,i,s,a){var u,c=s.__sentry_transaction,l=(u=c)===null||u===void 0?void 0:u.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,s,function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var _;(_=l)===null||_===void 0||_.finish(),a.call.apply(a,Io.__spread([this],f))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}o(up,"wrap");function KS(t,e){return t.map(function(r){return typeof r=="function"?up(r,e):Array.isArray(r)?r.map(function(n){return typeof n=="function"?up(n,e):n}):r})}o(KS,"wrapMiddlewareArgs");function $S(t,e){var r=t[e];return t[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,Io.__spread([this],KS(n,e)))},t}o($S,"patchMiddleware");function JS(t,e){e===void 0&&(e=[]),e.forEach(function(r){return $S(t,r)})}o(JS,"instrumentMiddlewares")});var lp=p(Ro=>{Object.defineProperty(Ro,"__esModule",{value:!0});var qi=E(),XS=function(){function t(){this.name=t.id}return o(t,"Postgres"),t.prototype.setupOnce=function(e,r){var n=qi.loadModule("pg");if(!n){qi.logger.error("Postgres Integration was unable to require `pg` package.");return}qi.fill(n.Client.prototype,"query",function(i){return function(s,a,u){var c,l,f,d=r().getScope(),_=(c=d)===null||c===void 0?void 0:c.getSpan(),h=(l=_)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof u=="function")return i.call(this,s,a,function(v,m){var S;(S=h)===null||S===void 0||S.finish(),u(v,m)});if(typeof a=="function")return i.call(this,s,function(v,m){var S;(S=h)===null||S===void 0||S.finish(),a(v,m)});var g=typeof a!="undefined"?i.call(this,s,a):i.call(this,s);return qi.isThenable(g)?g.then(function(v){var m;return(m=h)===null||m===void 0||m.finish(),v}):((f=h)===null||f===void 0||f.finish(),g)}})},t.id="Postgres",t}();Ro.Postgres=XS});var fp=p(Po=>{Object.defineProperty(Po,"__esModule",{value:!0});var Mo=E(),ZS=function(){function t(){this.name=t.id}return o(t,"Mysql"),t.prototype.setupOnce=function(e,r){var n=Mo.loadModule("mysql/lib/Connection.js");if(!n){Mo.logger.error("Mysql Integration was unable to require `mysql` package.");return}Mo.fill(n,"createQuery",function(i){return function(s,a,u){var c,l,f=r().getScope(),d=(c=f)===null||c===void 0?void 0:c.getSpan(),_=(l=d)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof u=="function"?i.call(this,s,a,function(h,g,v){var m;(m=_)===null||m===void 0||m.finish(),u(h,g,v)}):typeof a=="function"?i.call(this,s,function(h,g,v){var m;(m=_)===null||m===void 0||m.finish(),a(h,g,v)}):i.call(this,s,a,u)}})},t.id="Mysql",t}();Po.Mysql=ZS});var dp=p(ko=>{Object.defineProperty(ko,"__esModule",{value:!0});var Co=T(),Ii=E(),QS=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],eE={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},tE=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:QS,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}return o(t,"Mongo"),t.prototype.setupOnce=function(e,r){var n=this._useMongoose?"mongoose":"mongodb",i=Ii.loadModule(n);if(!i){Ii.logger.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},t.prototype._instrumentOperations=function(e,r,n){var i=this;r.forEach(function(s){return i._patchOperation(e,s,n)})},t.prototype._patchOperation=function(e,r,n){if(r in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);Ii.fill(e.prototype,r,function(s){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c,l,f,d,_=a[a.length-1],h=n().getScope(),g=(c=h)===null||c===void 0?void 0:c.getSpan();if(typeof _!="function"||r==="mapReduce"&&a.length===2){var v=(l=g)===null||l===void 0?void 0:l.startChild(i(this,r,a)),m=s.call.apply(s,Co.__spread([this],a));return Ii.isThenable(m)?m.then(function(x){var C;return(C=v)===null||C===void 0||C.finish(),x}):((f=v)===null||f===void 0||f.finish(),m)}var S=(d=g)===null||d===void 0?void 0:d.startChild(i(this,r,a.slice(0,-1)));return s.call.apply(s,Co.__spread([this],a.slice(0,-1),[function(x,C){var ye;(ye=S)===null||ye===void 0||ye.finish(),_(x,C)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,r,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:r,data:i},a=eE[r],u=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!u)return s;try{if(r==="mapReduce"){var c=Co.__read(n,2),l=c[0],f=c[1];i[a[0]]=typeof l=="string"?l:l.name||"<anonymous>",i[a[1]]=typeof f=="string"?f:f.name||"<anonymous>"}else for(var d=0;d<a.length;d++)i[a[d]]=JSON.stringify(n[d])}catch(_){}return s},t.id="Mongo",t}();ko.Mongo=tE});var pp=p(ur=>{Object.defineProperty(ur,"__esModule",{value:!0});var rE=cp();ur.Express=rE.Express;var nE=lp();ur.Postgres=nE.Postgres;var iE=fp();ur.Mysql=iE.Mysql;var sE=dp();ur.Mongo=sE.Mongo});var vp=p(V=>{Object.defineProperty(V,"__esModule",{value:!0});var _p=T(),aE=qo(),hp=hi();V.addExtensionMethods=hp.addExtensionMethods;var oE=pp(),uE=_p.__assign(_p.__assign({},oE),{BrowserTracing:aE.BrowserTracing});V.Integrations=uE;var cE=fi();V.Span=cE.Span;var lE=di();V.Transaction=lE.Transaction;var gp=qo();V.registerRequestInstrumentation=gp.instrumentOutgoingRequests;V.defaultRequestInstrumentationOptions=gp.defaultRequestInstrumentationOptions;var fE=ut();V.SpanStatus=fE.SpanStatus;var dE=pi();V.IdleTransaction=dE.IdleTransaction;var pE=hi();V.startIdleTransaction=pE.startIdleTransaction;hp.addExtensionMethods();var Qr=ct();V.extractTraceparentData=Qr.extractTraceparentData;V.getActiveTransaction=Qr.getActiveTransaction;V.hasTracingEnabled=Qr.hasTracingEnabled;V.stripUrlQueryAndFragment=Qr.stripUrlQueryAndFragment;V.TRACEPARENT_REGEXP=Qr.TRACEPARENT_REGEXP});var mp=p(Ao=>{"use strict";Ao.parse=vE;Ao.serialize=mE;var _E=decodeURIComponent,hE=encodeURIComponent,gE=/; */,xi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function vE(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},i=t.split(gE),s=n.decode||_E,a=0;a<i.length;a++){var u=i[a],c=u.indexOf("=");if(!(c<0)){var l=u.substr(0,c).trim(),f=u.substr(++c,u.length).trim();f[0]=='"'&&(f=f.slice(1,-1)),r[l]==null&&(r[l]=yE(f,s))}}return r}o(vE,"parse");function mE(t,e,r){var n=r||{},i=n.encode||hE;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!xi.test(t))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!xi.test(s))throw new TypeError("argument val is invalid");var a=t+"="+s;if(n.maxAge!=null){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(u)}if(n.domain){if(!xi.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!xi.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var c=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}o(mE,"serialize");function yE(t,e){try{return e(t)}catch(r){return t}}o(yE,"tryDecode")});var Sp=p(Rt=>{Object.defineProperty(Rt,"__esModule",{value:!0});var Ce=T(),xt=B(),bE=vp(),yp=J(),cr=E(),SE=mp(),EE=require("domain"),TE=require("os"),OE=require("url"),en=to();function wE(){return o(function(e,r,n){var i;e.headers&&cr.isString(e.headers["sentry-trace"])&&(i=bE.extractTraceparentData(e.headers["sentry-trace"]));var s=xt.startTransaction(Ce.__assign({name:Ri(e,{path:!0,method:!0}),op:"http.server"},i),{request:Mi(e)});xt.getCurrentHub().configureScope(function(a){a.setSpan(s)}),r.__sentry_transaction=s,r.once("finish",function(){setImmediate(function(){qE(s,e),s.setHttpStatus(r.statusCode),s.finish()})}),n()},"sentryTracingMiddleware")}o(wE,"tracingHandler");Rt.tracingHandler=wE;function qE(t,e){!t||(t.name=Ri(e,{path:!0,method:!0}),t.setData("url",e.originalUrl),t.setData("baseUrl",e.baseUrl),t.setData("query",e.query))}o(qE,"addExpressReqToTransaction");function Ri(t,e){e===void 0&&(e={});var r,n=(r=t.method)===null||r===void 0?void 0:r.toUpperCase(),i="";t.route?i=""+(t.baseUrl||"")+t.route.path:(t.originalUrl||t.url)&&(i=cr.stripUrlQueryAndFragment(t.originalUrl||t.url||""));var s="";return e.method&&n&&(s+=n),e.method&&e.path&&(s+=" "),e.path&&i&&(s+=i),s}o(Ri,"extractExpressTransactionName");function IE(t,e){var r;switch(e){case"path":return Ri(t,{path:!0});case"handler":return((r=t.route)===null||r===void 0?void 0:r.stack[0].name)||"<anonymous>";case"methodPath":default:return Ri(t,{path:!0,method:!0})}}o(IE,"extractTransaction");var xE=["id","username","email"];function RE(t,e){var r={},n=Array.isArray(e)?e:xE;return n.forEach(function(i){t&&i in t&&(r[i]=t[i])}),r}o(RE,"extractUserData");var ME=["cookies","data","headers","method","query_string","url"];function Mi(t,e){e===void 0&&(e=ME);var r={},n=t.headers||t.header||{},i=t.method,s=t.hostname||t.host||n.host||"<no host>",a=t.protocol==="https"||t.secure||(t.socket||{}).encrypted?"https":"http",u=t.originalUrl||t.url||"",c=a+"://"+s+u;return e.forEach(function(l){switch(l){case"headers":r.headers=n;break;case"method":r.method=i;break;case"url":r.url=c;break;case"cookies":r.cookies=t.cookies||SE.parse(n.cookie||"");break;case"query_string":r.query_string=t.query||OE.parse(u||"",!1).query;break;case"data":if(i==="GET"||i==="HEAD")break;t.body!==void 0&&(r.data=cr.isString(t.body)?t.body:JSON.stringify(cr.normalize(t.body)));break;default:({}).hasOwnProperty.call(t,l)&&(r[l]=t[l])}}),r}o(Mi,"extractRequestData");Rt.extractRequestData=Mi;function bp(t,e,r){if(r=Ce.__assign({ip:!1,request:!0,serverName:!0,transaction:!0,user:!0,version:!0},r),r.version&&(t.contexts=Ce.__assign(Ce.__assign({},t.contexts),{runtime:{name:"node",version:global.process.version}})),r.request){var n=Array.isArray(r.request)?Mi(e,r.request):Mi(e);t.request=Ce.__assign(Ce.__assign({},t.request),n)}if(r.serverName&&!t.server_name&&(t.server_name=global.process.env.SENTRY_NAME||TE.hostname()),r.user){var i=e.user&&cr.isPlainObject(e.user)?RE(e.user,r.user):{};Object.keys(i)&&(t.user=Ce.__assign(Ce.__assign({},t.user),i))}if(r.ip){var s=e.ip||e.connection&&e.connection.remoteAddress;s&&(t.user=Ce.__assign(Ce.__assign({},t.user),{ip_address:s}))}return r.transaction&&!t.transaction&&(t.transaction=IE(e,r.transaction)),t}o(bp,"parseRequest");Rt.parseRequest=bp;function PE(t){var e=xt.getCurrentHub(),r=e.getClient();if(r&&en.isAutoSessionTrackingEnabled(r)){r.initSessionFlusher();var n=e.getScope();n&&n.getSession()&&n.setSession()}return o(function(s,a,u){if(t&&t.flushTimeout&&t.flushTimeout>0){var c=a.end;a.end=function(f,d,_){var h=this;en.flush(t.flushTimeout).then(function(){c.call(h,f,d,_)}).then(null,function(g){cr.logger.error(g)})}}var l=EE.create();l.add(s),l.add(a),l.on("error",u),l.run(function(){var f=xt.getCurrentHub();f.configureScope(function(d){d.addEventProcessor(function(g){return bp(g,s,t)});var _=f.getClient();if(en.isAutoSessionTrackingEnabled(_)){var h=f.getScope();h&&h.setRequestSession({status:yp.RequestSessionStatus.Ok})}}),a.once("finish",function(){var d=f.getClient();en.isAutoSessionTrackingEnabled(d)&&setImmediate(function(){d&&d._captureRequestSession&&d._captureRequestSession()})}),u()})},"sentryRequestMiddleware")}o(PE,"requestHandler");Rt.requestHandler=PE;function CE(t){var e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}o(CE,"getStatusCodeFromResponse");function kE(t){var e=CE(t);return e>=500}o(kE,"defaultShouldHandleError");function AE(t){return o(function(r,n,i,s){var a=t&&t.shouldHandleError||kE;if(a(r)){xt.withScope(function(u){var c=i.__sentry_transaction;c&&u.getSpan()===void 0&&u.setSpan(c);var l=xt.getCurrentHub().getClient();if(l&&en.isAutoSessionTrackingEnabled(l)){var f=l._sessionFlusher!==void 0;if(f){var d=u.getRequestSession();d&&d.status!==void 0&&(d.status=yp.RequestSessionStatus.Crashed)}}var _=xt.captureException(r);i.sentry=_,s(r)});return}s(r)},"sentryErrorMiddleware")}o(AE,"errorHandler");Rt.errorHandler=AE});var ge=p(O=>{Object.defineProperty(O,"__esModule",{value:!0});var Ep=T(),Tp=J();O.Severity=Tp.Severity;O.Status=Tp.Status;var A=B();O.addGlobalEventProcessor=A.addGlobalEventProcessor;O.addBreadcrumb=A.addBreadcrumb;O.captureException=A.captureException;O.captureEvent=A.captureEvent;O.captureMessage=A.captureMessage;O.configureScope=A.configureScope;O.getHubFromCarrier=A.getHubFromCarrier;O.getCurrentHub=A.getCurrentHub;O.Hub=A.Hub;O.makeMain=A.makeMain;O.Scope=A.Scope;O.startTransaction=A.startTransaction;O.SDK_VERSION=A.SDK_VERSION;O.setContext=A.setContext;O.setExtra=A.setExtra;O.setExtras=A.setExtras;O.setTag=A.setTag;O.setTags=A.setTags;O.setUser=A.setUser;O.withScope=A.withScope;var NE=Da();O.NodeBackend=NE.NodeBackend;var jE=Ua();O.NodeClient=jE.NodeClient;var lr=to();O.defaultIntegrations=lr.defaultIntegrations;O.init=lr.init;O.lastEventId=lr.lastEventId;O.flush=lr.flush;O.close=lr.close;O.getSentryRelease=lr.getSentryRelease;var DE=xd();O.deepReadDirSync=DE.deepReadDirSync;var FE=ya();O.SDK_NAME=FE.SDK_NAME;var HE=B(),UE=ae(),LE=require("domain"),BE=Sp();O.Handlers=BE;var GE=eo(),WE=Na();O.Transports=WE;var zE=Ep.__assign(Ep.__assign({},HE.Integrations),GE);O.Integrations=zE;var tn=UE.getMainCarrier();tn.__SENTRY__&&(tn.__SENTRY__.extensions=tn.__SENTRY__.extensions||{},tn.__SENTRY__.extensions.domain=tn.__SENTRY__.extensions.domain||LE)});var Op=p(No=>{Object.defineProperty(No,"__esModule",{value:!0});function YE(t){t.then(null,function(e){console.error(e)})}o(YE,"forget");No.forget=YE});var Mt=p(Q=>{Object.defineProperty(Q,"__esModule",{value:!0});function VE(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return Pi(t,Error)}}o(VE,"isError");Q.isError=VE;function KE(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}o(KE,"isErrorEvent");Q.isErrorEvent=KE;function $E(t){return Object.prototype.toString.call(t)==="[object DOMError]"}o($E,"isDOMError");Q.isDOMError=$E;function JE(t){return Object.prototype.toString.call(t)==="[object DOMException]"}o(JE,"isDOMException");Q.isDOMException=JE;function XE(t){return Object.prototype.toString.call(t)==="[object String]"}o(XE,"isString");Q.isString=XE;function ZE(t){return t===null||typeof t!="object"&&typeof t!="function"}o(ZE,"isPrimitive");Q.isPrimitive=ZE;function wp(t){return Object.prototype.toString.call(t)==="[object Object]"}o(wp,"isPlainObject");Q.isPlainObject=wp;function QE(t){return typeof Event!="undefined"&&Pi(t,Event)}o(QE,"isEvent");Q.isEvent=QE;function e0(t){return typeof Element!="undefined"&&Pi(t,Element)}o(e0,"isElement");Q.isElement=e0;function t0(t){return Object.prototype.toString.call(t)==="[object RegExp]"}o(t0,"isRegExp");Q.isRegExp=t0;function r0(t){return Boolean(t&&t.then&&typeof t.then=="function")}o(r0,"isThenable");Q.isThenable=r0;function n0(t){return wp(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(n0,"isSyntheticEvent");Q.isSyntheticEvent=n0;function Pi(t,e){try{return t instanceof e}catch(r){return!1}}o(Pi,"isInstanceOf");Q.isInstanceOf=Pi});var Do=p(jo=>{Object.defineProperty(jo,"__esModule",{value:!0});var i0=Mt();function s0(t,e){try{for(var r=t,n=5,i=80,s=[],a=0,u=0,c=" > ",l=c.length,f=void 0;r&&a++<n&&(f=a0(r,e),!(f==="html"||a>1&&u+s.length*l+f.length>=i));)s.push(f),u+=f.length,r=r.parentNode;return s.reverse().join(c)}catch(d){return"<unknown>"}}o(s0,"htmlTreeAsString");jo.htmlTreeAsString=s0;function a0(t,e){var r,n,i=t,s=[],a,u,c,l,f;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var d=((r=e)===null||r===void 0?void 0:r.length)?e.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((n=d)===null||n===void 0?void 0:n.length)d.forEach(function(h){s.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&s.push("#"+i.id),a=i.className,a&&i0.isString(a))for(u=a.split(/\s+/),f=0;f<u.length;f++)s.push("."+u[f]);var _=["type","name","title","alt"];for(f=0;f<_.length;f++)c=_[f],l=i.getAttribute(c),l&&s.push("["+c+'="'+l+'"]');return s.join("")}o(a0,"_htmlElementAsString")});var qp=p(Fo=>{Object.defineProperty(Fo,"__esModule",{value:!0});Fo.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?o0:u0);function o0(t,e){return t.__proto__=e,t}o(o0,"setProtoOf");function u0(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}o(u0,"mixinProperties")});var Ci=p(Ho=>{Object.defineProperty(Ho,"__esModule",{value:!0});var c0=P(),l0=qp(),f0=function(t){c0.__extends(e,t);function e(r){var n=this.constructor,i=t.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,l0.setPrototypeOf(i,n.prototype),i}return o(e,"SentryError"),e}(Error);Ho.SentryError=f0});var Ip=p(Uo=>{Object.defineProperty(Uo,"__esModule",{value:!0});var d0=P(),rn=Ci(),p0=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,nn="Invalid Dsn",_0=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return o(t,"Dsn"),t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this,n=r.host,i=r.path,s=r.pass,a=r.port,u=r.projectId,c=r.protocol,l=r.publicKey;return c+"://"+l+(e&&s?":"+s:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+u)},t.prototype._fromString=function(e){var r=p0.exec(e);if(!r)throw new rn.SentryError(nn);var n=d0.__read(r.slice(1),6),i=n[0],s=n[1],a=n[2],u=a===void 0?"":a,c=n[3],l=n[4],f=l===void 0?"":l,d=n[5],_="",h=d,g=h.split("/");if(g.length>1&&(_=g.slice(0,-1).join("/"),h=g.pop()),h){var v=h.match(/^\d+/);v&&(h=v[0])}this._fromComponents({host:c,pass:u,path:_,projectId:h,port:f,protocol:i,publicKey:s})},t.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!e[r])throw new rn.SentryError(nn+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new rn.SentryError(nn+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new rn.SentryError(nn+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new rn.SentryError(nn+": Invalid port "+this.port)},t}();Uo.Dsn=_0});var Ni=p((sn,Ai)=>{Object.defineProperty(sn,"__esModule",{value:!0});function h0(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}o(h0,"isNodeEnv");sn.isNodeEnv=h0;function ki(t,e){return t.require(e)}o(ki,"dynamicRequire");sn.dynamicRequire=ki;function g0(t){var e;try{e=ki(Ai,t)}catch(n){}try{var r=ki(Ai,"process").cwd;e=ki(Ai,r()+"/node_modules/"+t)}catch(n){}return e}o(g0,"loadModule");sn.loadModule=g0});var ji=p(fr=>{Object.defineProperty(fr,"__esModule",{value:!0});var xp=Mt();function v0(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}o(v0,"truncate");fr.truncate=v0;function m0(t,e){var r=t,n=r.length;if(n<=150)return r;e>n&&(e=n);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}o(m0,"snipLine");fr.snipLine=m0;function y0(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch(s){r.push("[value cannot be serialized]")}}return r.join(e)}o(y0,"safeJoin");fr.safeJoin=y0;function b0(t,e){return xp.isString(t)?xp.isRegExp(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}o(b0,"isMatchingPattern");fr.isMatchingPattern=b0});var dr=p(ne=>{Object.defineProperty(ne,"__esModule",{value:!0});var S0=Ni(),Lo=ji(),E0={};function Bo(){return S0.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:E0}o(Bo,"getGlobalObject");ne.getGlobalObject=Bo;function T0(){var t=Bo(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=o(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,a=i==="x"?s:s&3|8;return a.toString(16)})}o(T0,"uuid4");ne.uuid4=T0;function O0(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}o(O0,"parseUrl");ne.parseUrl=O0;function w0(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}o(w0,"getEventDescription");ne.getEventDescription=w0;function q0(t){var e=Bo(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach(function(a){a in e.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var s=t();return Object.keys(i).forEach(function(a){n[a]=i[a]}),s}o(q0,"consoleSandbox");ne.consoleSandbox=q0;function I0(t,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||r||"Error"}o(I0,"addExceptionTypeValue");ne.addExceptionTypeValue=I0;function x0(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(r){t.exception.values[0].mechanism[r]=e[r]})}catch(r){}}o(x0,"addExceptionMechanism");ne.addExceptionMechanism=x0;function R0(){try{return document.location.href}catch(t){return""}}o(R0,"getLocationHref");ne.getLocationHref=R0;var M0=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function P0(t){var e=t.match(M0)||[],r=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:e[4]}}o(P0,"parseSemver");ne.parseSemver=P0;var Rp=60*1e3;function C0(t,e){if(!e)return Rp;var r=parseInt(""+e,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+e);return isNaN(n)?Rp:n-t}o(C0,"parseRetryAfterHeader");ne.parseRetryAfterHeader=C0;function k0(t,e,r){r===void 0&&(r=5);var n=e.lineno||0,i=t.length,s=Math.max(Math.min(i,n-1),0);e.pre_context=t.slice(Math.max(0,s-r),s).map(function(a){return Lo.snipLine(a,0)}),e.context_line=Lo.snipLine(t[Math.min(i-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,i),s+1+r).map(function(a){return Lo.snipLine(a,0)})}o(k0,"addContextToFrame");ne.addContextToFrame=k0;function A0(t){return t.split(/[\?#]/,1)[0]}o(A0,"stripUrlQueryAndFragment");ne.stripUrlQueryAndFragment=A0});var Fi=p(Wo=>{Object.defineProperty(Wo,"__esModule",{value:!0});var Di=dr(),Pt=Di.getGlobalObject(),Go="Sentry Logger ",N0=function(){function t(){this._enabled=!1}return o(t,"Logger"),t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Di.consoleSandbox(function(){Pt.console.log(Go+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Di.consoleSandbox(function(){Pt.console.warn(Go+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Di.consoleSandbox(function(){Pt.console.error(Go+"[Error]: "+e.join(" "))})},t}();Pt.__SENTRY__=Pt.__SENTRY__||{};var j0=Pt.__SENTRY__.logger||(Pt.__SENTRY__.logger=new N0);Wo.logger=j0});var Yo=p(zo=>{Object.defineProperty(zo,"__esModule",{value:!0});var D0=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return o(t,"Memo"),t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===e){this._inner.splice(r,1);break}},t}();zo.Memo=D0});var Hi=p(Ko=>{Object.defineProperty(Ko,"__esModule",{value:!0});var Vo="<anonymous>";function F0(t){try{return!t||typeof t!="function"?Vo:t.name||Vo}catch(e){return Vo}}o(F0,"getFunctionName");Ko.getFunctionName=F0});var Xo=p(Ve=>{Object.defineProperty(Ve,"__esModule",{value:!0});var H0=P(),Mp=Do(),Ye=Mt(),U0=Yo(),L0=Hi(),Pp=ji();function B0(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(s){}t[e]=i}}o(B0,"fill");Ve.fill=B0;function G0(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}o(G0,"urlEncode");Ve.urlEncode=G0;function Cp(t){if(Ye.isError(t)){var e=t,r={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}if(Ye.isEvent(t)){var i=t,s={};s.type=i.type;try{s.target=Ye.isElement(i.target)?Mp.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(a){s.target="<unknown>"}try{s.currentTarget=Ye.isElement(i.currentTarget)?Mp.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(a){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&Ye.isInstanceOf(t,CustomEvent)&&(s.detail=i.detail);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i);return s}return t}o(Cp,"getWalkSource");function W0(t){return~-encodeURI(t).split(/%..|./).length}o(W0,"utf8Length");function z0(t){return W0(JSON.stringify(t))}o(z0,"jsonSize");function kp(t,e,r){e===void 0&&(e=3),r===void 0&&(r=100*1024);var n=Np(t,e);return z0(n)>r?kp(t,e-1,r):n}o(kp,"normalizeToSize");Ve.normalizeToSize=kp;function Y0(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var r=Ap(t);return Ye.isPrimitive(r)?r:e}o(Y0,"serializeValue");function Ap(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":Ye.isSyntheticEvent(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+L0.getFunctionName(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}o(Ap,"normalizeValue");function $o(t,e,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new U0.Memo),r===0)return Y0(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var i=Ap(e,t);if(Ye.isPrimitive(i))return i;var s=Cp(e),a=Array.isArray(e)?[]:{};if(n.memoize(e))return"[Circular ~]";for(var u in s)!Object.prototype.hasOwnProperty.call(s,u)||(a[u]=$o(u,s[u],r-1,n));return n.unmemoize(e),a}o($o,"walk");Ve.walk=$o;function Np(t,e){try{return JSON.parse(JSON.stringify(t,function(r,n){return $o(r,n,e)}))}catch(r){return"**non-serializable**"}}o(Np,"normalize");Ve.normalize=Np;function V0(t,e){e===void 0&&(e=40);var r=Object.keys(Cp(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return Pp.truncate(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:Pp.truncate(i,e)}return""}o(V0,"extractExceptionKeysForMessage");Ve.extractExceptionKeysForMessage=V0;function Jo(t){var e,r;if(Ye.isPlainObject(t)){var n=t,i={};try{for(var s=H0.__values(Object.keys(n)),a=s.next();!a.done;a=s.next()){var u=a.value;typeof n[u]!="undefined"&&(i[u]=Jo(n[u]))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(Jo):t}o(Jo,"dropUndefinedKeys");Ve.dropUndefinedKeys=Jo});var eu=p(qe=>{Object.defineProperty(qe,"__esModule",{value:!0});var K0=Fi(),Ui=dr();function $0(){try{return new ErrorEvent(""),!0}catch(t){return!1}}o($0,"supportsErrorEvent");qe.supportsErrorEvent=$0;function J0(){try{return new DOMError(""),!0}catch(t){return!1}}o(J0,"supportsDOMError");qe.supportsDOMError=J0;function X0(){try{return new DOMException(""),!0}catch(t){return!1}}o(X0,"supportsDOMException");qe.supportsDOMException=X0;function Zo(){if(!("fetch"in Ui.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}o(Zo,"supportsFetch");qe.supportsFetch=Zo;function Qo(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(Qo,"isNativeFetch");qe.isNativeFetch=Qo;function Z0(){if(!Zo())return!1;var t=Ui.getGlobalObject();if(Qo(t.fetch))return!0;var e=!1,r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Qo(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){K0.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}o(Z0,"supportsNativeFetch");qe.supportsNativeFetch=Z0;function Q0(){return"ReportingObserver"in Ui.getGlobalObject()}o(Q0,"supportsReportingObserver");qe.supportsReportingObserver=Q0;function eT(){if(!Zo())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}o(eT,"supportsReferrerPolicy");qe.supportsReferrerPolicy=eT;function tT(){var t=Ui.getGlobalObject(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}o(tT,"supportsHistory");qe.supportsHistory=tT});var Up=p(nu=>{Object.defineProperty(nu,"__esModule",{value:!0});var pr=P(),Li=Mt(),jp=Fi(),rT=dr(),Ke=Xo(),nT=Hi(),Dp=eu(),M=rT.getGlobalObject(),an={},Fp={};function iT(t){if(!Fp[t])switch(Fp[t]=!0,t){case"console":aT();break;case"dom":hT();break;case"xhr":lT();break;case"fetch":oT();break;case"history":fT();break;case"error":gT();break;case"unhandledrejection":vT();break;default:jp.logger.warn("unknown instrumentation type:",t)}}o(iT,"instrument");function sT(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(an[t.type]=an[t.type]||[],an[t.type].push(t.callback),iT(t.type))}o(sT,"addInstrumentationHandler");nu.addInstrumentationHandler=sT;function Ie(t,e){var r,n;if(!(!t||!an[t]))try{for(var i=pr.__values(an[t]||[]),s=i.next();!s.done;s=i.next()){var a=s.value;try{a(e)}catch(u){jp.logger.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+nT.getFunctionName(a)+`
Error: `+u)}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}o(Ie,"triggerHandlers");function aT(){"console"in M&&["debug","info","warn","error","log","assert"].forEach(function(t){t in M.console&&Ke.fill(M.console,t,function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Ie("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,M.console,r)}})})}o(aT,"instrumentConsole");function oT(){!Dp.supportsNativeFetch()||Ke.fill(M,"fetch",function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:uT(e),url:cT(e)},startTimestamp:Date.now()};return Ie("fetch",pr.__assign({},n)),t.apply(M,e).then(function(i){return Ie("fetch",pr.__assign(pr.__assign({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw Ie("fetch",pr.__assign(pr.__assign({},n),{endTimestamp:Date.now(),error:i})),i})}})}o(oT,"instrumentFetch");function uT(t){return t===void 0&&(t=[]),"Request"in M&&Li.isInstanceOf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}o(uT,"getFetchMethod");function cT(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in M&&Li.isInstanceOf(t[0],Request)?t[0].url:String(t[0])}o(cT,"getFetchUrl");function lT(){if("XMLHttpRequest"in M){var t=[],e=[],r=XMLHttpRequest.prototype;Ke.fill(r,"open",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=this,u=i[1];a.__sentry_xhr__={method:Li.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},Li.isString(u)&&a.__sentry_xhr__.method==="POST"&&u.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=o(function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(d){}try{var l=t.indexOf(a);if(l!==-1){t.splice(l);var f=e.splice(l)[0];a.__sentry_xhr__&&f[0]!==void 0&&(a.__sentry_xhr__.body=f[0])}}catch(d){}Ie("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}},"onreadystatechangeHandler");return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?Ke.fill(a,"onreadystatechange",function(l){return function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return c(),l.apply(a,f)}}):a.addEventListener("readystatechange",c),n.apply(a,i)}}),Ke.fill(r,"send",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return t.push(this),e.push(i),Ie("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}o(lT,"instrumentXHR");var Bi;function fT(){if(!Dp.supportsHistory())return;var t=M.onpopstate;M.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=M.location.href,s=Bi;if(Bi=i,Ie("history",{from:s,to:i}),t)try{return t.apply(this,r)}catch(a){}};function e(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var a=Bi,u=String(s);Bi=u,Ie("history",{from:a,to:u})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),Ke.fill(M.history,"pushState",e),Ke.fill(M.history,"replaceState",e)}o(fT,"instrumentHistory");var dT=1e3,Gi,Wi;function pT(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(r){}return!1}o(pT,"shouldShortcircuitPreviousDebounce");function _T(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(r){}return!0}o(_T,"shouldSkipDOMEvent");function Hp(t,e){return e===void 0&&(e=!1),function(r){if(!(!r||Wi===r)&&!_T(r)){var n=r.type==="keypress"?"input":r.type;Gi===void 0?(t({event:r,name:n,global:e}),Wi=r):pT(Wi,r)&&(t({event:r,name:n,global:e}),Wi=r),clearTimeout(Gi),Gi=M.setTimeout(function(){Gi=void 0},dT)}}}o(Hp,"makeDOMEventHandler");function hT(){if("document"in M){var t=Ie.bind(null,"dom"),e=Hp(t,!0);M.document.addEventListener("click",e,!1),M.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(r){var n=M[r]&&M[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Ke.fill(n,"addEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=l[s]=l[s]||{refCount:0};if(!f.handler){var d=Hp(t);f.handler=d,i.call(this,s,d,u)}f.refCount+=1}catch(_){}return i.call(this,s,a,u)}}),Ke.fill(n,"removeEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__||{},f=l[s];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,s,f.handler,u),f.handler=void 0,delete l[s]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(d){}return i.call(this,s,a,u)}}))})}}o(hT,"instrumentDOM");var tu=null;function gT(){tu=M.onerror,M.onerror=function(t,e,r,n,i){return Ie("error",{column:n,error:i,line:r,msg:t,url:e}),tu?tu.apply(this,arguments):!1}}o(gT,"instrumentError");var ru=null;function vT(){ru=M.onunhandledrejection,M.onunhandledrejection=function(t){return Ie("unhandledrejection",t),ru?ru.apply(this,arguments):!0}}o(vT,"instrumentUnhandledRejection")});var Yp=p($e=>{Object.defineProperty($e,"__esModule",{value:!0});function Lp(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];i==="."?t.splice(n,1):i===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}o(Lp,"normalizeArray");var mT=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function Bp(t){var e=mT.exec(t);return e?e.slice(1):[]}o(Bp,"splitPath");function iu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r="",n=!1,i=t.length-1;i>=-1&&!n;i--){var s=i>=0?t[i]:"/";!s||(r=s+"/"+r,n=s.charAt(0)==="/")}return r=Lp(r.split("/").filter(function(a){return!!a}),!n).join("/"),(n?"/":"")+r||"."}o(iu,"resolve");$e.resolve=iu;function Gp(t){for(var e=0;e<t.length&&t[e]==="";e++);for(var r=t.length-1;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}o(Gp,"trim");function yT(t,e){t=iu(t).substr(1),e=iu(e).substr(1);for(var r=Gp(t.split("/")),n=Gp(e.split("/")),i=Math.min(r.length,n.length),s=i,a=0;a<i;a++)if(r[a]!==n[a]){s=a;break}for(var u=[],a=s;a<r.length;a++)u.push("..");return u=u.concat(n.slice(s)),u.join("/")}o(yT,"relative");$e.relative=yT;function Wp(t){var e=zp(t),r=t.substr(-1)==="/",n=Lp(t.split("/").filter(function(i){return!!i}),!e).join("/");return!n&&!e&&(n="."),n&&r&&(n+="/"),(e?"/":"")+n}o(Wp,"normalizePath");$e.normalizePath=Wp;function zp(t){return t.charAt(0)==="/"}o(zp,"isAbsolute");$e.isAbsolute=zp;function bT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Wp(t.join("/"))}o(bT,"join");$e.join=bT;function ST(t){var e=Bp(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}o(ST,"dirname");$e.dirname=ST;function ET(t,e){var r=Bp(t)[2];return e&&r.substr(e.length*-1)===e&&(r=r.substr(0,r.length-e.length)),r}o(ET,"basename");$e.basename=ET});var au=p(su=>{Object.defineProperty(su,"__esModule",{value:!0});var TT=Mt(),Je;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(Je||(Je={}));var OT=function(){function t(e){var r=this;this._state=Je.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(Je.RESOLVED,n)},this._reject=function(n){r._setResult(Je.REJECTED,n)},this._setResult=function(n,i){if(r._state===Je.PENDING){if(TT.isThenable(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==Je.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===Je.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===Je.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return o(t,"SyncPromise"),t.resolve=function(e){return new t(function(r){r(e)})},t.reject=function(e){return new t(function(r,n){n(e)})},t.all=function(e){return new t(function(r,n){if(!Array.isArray(e)){n(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){r([]);return}var i=e.length,s=[];e.forEach(function(a,u){t.resolve(a).then(function(c){s[u]=c,i-=1,i===0&&r(s)}).then(null,n)})})},t.prototype.then=function(e,r){var n=this;return new t(function(i,s){n._attachHandler({done:!1,onfulfilled:function(a){if(!e){i(a);return}try{i(e(a));return}catch(u){s(u);return}},onrejected:function(a){if(!r){s(a);return}try{i(r(a));return}catch(u){s(u);return}}})})},t.prototype.catch=function(e){return this.then(function(r){return r},e)},t.prototype.finally=function(e){var r=this;return new t(function(n,i){var s,a;return r.then(function(u){a=!1,s=u,e&&e()},function(u){a=!0,s=u,e&&e()}).then(function(){if(a){i(s);return}n(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}();su.SyncPromise=OT});var Vp=p(uu=>{Object.defineProperty(uu,"__esModule",{value:!0});var wT=Ci(),ou=au(),qT=function(){function t(e){this._limit=e,this._buffer=[]}return o(t,"PromiseBuffer"),t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var r=this;if(!this.isReady())return ou.SyncPromise.reject(new wT.SentryError("Not adding Promise due to buffer limit reached."));var n=e();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},t.prototype.remove=function(e){var r=this._buffer.splice(this._buffer.indexOf(e),1)[0];return r},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var r=this;return new ou.SyncPromise(function(n){var i=setTimeout(function(){e&&e>0&&n(!1)},e);ou.SyncPromise.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}();uu.PromiseBuffer=qT});var Zp=p((ve,Xp)=>{Object.defineProperty(ve,"__esModule",{value:!0});var Kp=dr(),$p=Ni(),cu={nowSeconds:function(){return Date.now()/1e3}};function IT(){var t=Kp.getGlobalObject().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}o(IT,"getBrowserPerformance");function xT(){try{var t=$p.dynamicRequire(Xp,"perf_hooks");return t.performance}catch(e){return}}o(xT,"getNodePerformance");var zi=$p.isNodeEnv()?xT():IT(),Jp=zi===void 0?cu:{nowSeconds:function(){return(zi.timeOrigin+zi.now())/1e3}};ve.dateTimestampInSeconds=cu.nowSeconds.bind(cu);ve.timestampInSeconds=Jp.nowSeconds.bind(Jp);ve.timestampWithMs=ve.timestampInSeconds;ve.usingPerformanceAPI=zi!==void 0;ve.browserPerformanceTimeOrigin=function(){var t=Kp.getGlobalObject().performance;if(!t||!t.now){ve._browserPerformanceTimeOriginMode="none";return}var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number",c=u?Math.abs(a+r-n):e,l=c<e;return s||l?i<=c?(ve._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(ve._browserPerformanceTimeOriginMode="navigationStart",a):(ve._browserPerformanceTimeOriginMode="dateNow",n)}()});var I=p(N=>{Object.defineProperty(N,"__esModule",{value:!0});var U=P();U.__exportStar(Op(),N);U.__exportStar(Do(),N);U.__exportStar(Ip(),N);U.__exportStar(Ci(),N);U.__exportStar(Up(),N);U.__exportStar(Mt(),N);U.__exportStar(Fi(),N);U.__exportStar(Yo(),N);U.__exportStar(dr(),N);U.__exportStar(Ni(),N);U.__exportStar(Xo(),N);U.__exportStar(Yp(),N);U.__exportStar(Vp(),N);U.__exportStar(Hi(),N);U.__exportStar(ji(),N);U.__exportStar(eu(),N);U.__exportStar(au(),N);U.__exportStar(Zp(),N)});var lu=p(Yi=>{Object.defineProperty(Yi,"__esModule",{value:!0});var b=P(),on=I(),Qp=100,RT=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return o(t,"Scope"),t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=b.__spread(e._breadcrumbs),r._tags=b.__assign({},e._tags),r._extra=b.__assign({},e._extra),r._contexts=b.__assign({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=b.__spread(e._eventProcessors),r._requestSession=e._requestSession),r},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=b.__assign(b.__assign({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,r){var n;return this._tags=b.__assign(b.__assign({},this._tags),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=b.__assign(b.__assign({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,r){var n;return this._extra=b.__assign(b.__assign({},this._extra),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,r){var n;return r===null?delete this._contexts[e]:this._contexts=b.__assign(b.__assign({},this._contexts),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,r,n,i,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(r=s)===null||r===void 0?void 0:r.transaction;if((i=(n=s)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=b.__assign(b.__assign({},this._tags),e._tags),this._extra=b.__assign(b.__assign({},this._extra),e._extra),this._contexts=b.__assign(b.__assign({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):on.isPlainObject(e)&&(e=e,this._tags=b.__assign(b.__assign({},this._tags),e.tags),this._extra=b.__assign(b.__assign({},this._extra),e.extra),this._contexts=b.__assign(b.__assign({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,r){var n=typeof r=="number"?Math.min(r,Qp):Qp;if(n<=0)return this;var i=b.__assign({timestamp:on.dateTimestampInSeconds()},e);return this._breadcrumbs=b.__spread(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,r){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=b.__assign(b.__assign({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=b.__assign(b.__assign({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=b.__assign(b.__assign({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=b.__assign(b.__assign({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=b.__assign({trace:this._span.getTraceContext()},e.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(e.tags=b.__assign({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=b.__spread(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(b.__spread(e_(),this._eventProcessors),e,r)},t.prototype._notifyEventProcessors=function(e,r,n,i){var s=this;return i===void 0&&(i=0),new on.SyncPromise(function(a,u){var c=e[i];if(r===null||typeof c!="function")a(r);else{var l=c(b.__assign({},r),n);on.isThenable(l)?l.then(function(f){return s._notifyEventProcessors(e,f,n,i+1).then(a)}).then(null,u):s._notifyEventProcessors(e,l,n,i+1).then(a).then(null,u)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();Yi.Scope=RT;function e_(){var t=on.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}o(e_,"getGlobalEventProcessors");function MT(t){e_().push(t)}o(MT,"addGlobalEventProcessor");Yi.addGlobalEventProcessor=MT});var t_=p(Vi=>{Object.defineProperty(Vi,"__esModule",{value:!0});var PT;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"})(PT=Vi.LogLevel||(Vi.LogLevel={}))});var r_=p(_r=>{Object.defineProperty(_r,"__esModule",{value:!0});var CT;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(CT=_r.SessionStatus||(_r.SessionStatus={}));var kT;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})(kT=_r.RequestSessionStatus||(_r.RequestSessionStatus={}))});var i_=p(hr=>{Object.defineProperty(hr,"__esModule",{value:!0});var n_;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(n_=hr.Severity||(hr.Severity={}));(function(t){function e(r){switch(r){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}o(e,"fromString"),t.fromString=e})(n_=hr.Severity||(hr.Severity={}))});var a_=p(gr=>{Object.defineProperty(gr,"__esModule",{value:!0});var s_;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(s_=gr.Status||(gr.Status={}));(function(t){function e(r){return r>=200&&r<300?t.Success:r===429?t.RateLimit:r>=400&&r<500?t.Invalid:r>=500?t.Failed:t.Unknown}o(e,"fromHttpCode"),t.fromHttpCode=e})(s_=gr.Status||(gr.Status={}))});var o_=p(Ki=>{Object.defineProperty(Ki,"__esModule",{value:!0});var AT;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(AT=Ki.TransactionSamplingMethod||(Ki.TransactionSamplingMethod={}))});var un=p(dt=>{Object.defineProperty(dt,"__esModule",{value:!0});var NT=t_();dt.LogLevel=NT.LogLevel;var u_=r_();dt.SessionStatus=u_.SessionStatus;dt.RequestSessionStatus=u_.RequestSessionStatus;var jT=i_();dt.Severity=jT.Severity;var DT=a_();dt.Status=DT.Status;var FT=o_();dt.TransactionSamplingMethod=FT.TransactionSamplingMethod});var pu=p(du=>{Object.defineProperty(du,"__esModule",{value:!0});var fu=un(),vr=I(),HT=function(){function t(e){this.errors=0,this.sid=vr.uuid4(),this.duration=0,this.status=fu.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var r=vr.timestampInSeconds();this.timestamp=r,this.started=r,e&&this.update(e)}return o(t,"Session"),t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||vr.timestampInSeconds(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:vr.uuid4()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===fu.SessionStatus.Ok?this.update({status:fu.SessionStatus.Exited}):this.update()},t.prototype.toJSON=function(){return vr.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:vr.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}();du.Session=HT});var gu=p(fe=>{Object.defineProperty(fe,"__esModule",{value:!0});var xe=P(),c_=un(),Re=I(),_u=lu(),UT=pu();fe.API_VERSION=4;var LT=100,$i=function(){function t(e,r,n){r===void 0&&(r=new _u.Scope),n===void 0&&(n=fe.API_VERSION),this._version=n,this._stack=[{}],this.getStackTop().scope=r,this.bindClient(e)}return o(t,"Hub"),t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=_u.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,r){var n=this._lastEventId=Re.uuid4(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,xe.__assign(xe.__assign({},i),{event_id:n})),n},t.prototype.captureMessage=function(e,r,n){var i=this._lastEventId=Re.uuid4(),s=n;if(!n){var a=void 0;try{throw new Error(e)}catch(u){a=u}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,r,xe.__assign(xe.__assign({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,r){var n=this._lastEventId=Re.uuid4();return this._invokeClient("captureEvent",e,xe.__assign(xe.__assign({},r),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var a=s.getOptions&&s.getOptions()||{},u=a.beforeBreadcrumb,c=u===void 0?null:u,l=a.maxBreadcrumbs,f=l===void 0?LT:l;if(!(f<=0)){var d=Re.dateTimestampInSeconds(),_=xe.__assign({timestamp:d},e),h=c?Re.consoleSandbox(function(){return c(_,r)}):_;h!==null&&i.addBreadcrumb(h,f)}}},t.prototype.setUser=function(e){var r=this.getScope();r&&r.setUser(e)},t.prototype.setTags=function(e){var r=this.getScope();r&&r.setTags(e)},t.prototype.setExtras=function(e){var r=this.getScope();r&&r.setExtras(e)},t.prototype.setTag=function(e,r){var n=this.getScope();n&&n.setTag(e,r)},t.prototype.setExtra=function(e,r){var n=this.getScope();n&&n.setExtra(e,r)},t.prototype.setContext=function(e,r){var n=this.getScope();n&&n.setContext(e,r)},t.prototype.configureScope=function(e){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&e(n)},t.prototype.run=function(e){var r=hu(this);try{e(this)}finally{hu(r)}},t.prototype.getIntegration=function(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch(n){return Re.logger.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,r){return this._callExtensionMethod("startTransaction",e,r)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,r,n,i,s;(n=(r=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},t.prototype.startSession=function(e){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},a=s.release,u=s.environment,c=Re.getGlobalObject(),l=(c.navigator||{}).userAgent,f=new UT.Session(xe.__assign(xe.__assign(xe.__assign({release:a,environment:u},n&&{user:n.getUser()}),l&&{userAgent:l}),e));if(n){var d=n.getSession&&n.getSession();d&&d.status===c_.SessionStatus.Ok&&d.update({status:c_.SessionStatus.Exited}),this.endSession(),n.setSession(f)}return f},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),r=e.scope,n=e.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,u=s.client;u&&u[e]&&(r=u)[e].apply(r,xe.__spread(n,[a]))},t.prototype._callExtensionMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=mr(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);Re.logger.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();fe.Hub=$i;function mr(){var t=Re.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}o(mr,"getMainCarrier");fe.getMainCarrier=mr;function hu(t){var e=mr(),r=Xe(e);return Ji(e,t),r}o(hu,"makeMain");fe.makeMain=hu;function BT(){var t=mr();return(!l_(t)||Xe(t).isOlderThan(fe.API_VERSION))&&Ji(t,new $i),Re.isNodeEnv()?WT(t):Xe(t)}o(BT,"getCurrentHub");fe.getCurrentHub=BT;function GT(){Re.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var t=mr().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}o(GT,"getActiveDomain");fe.getActiveDomain=GT;function WT(t){var e,r,n;try{var i=(n=(r=(e=mr().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return Xe(t);if(!l_(i)||Xe(i).isOlderThan(fe.API_VERSION)){var s=Xe(t).getStackTop();Ji(i,new $i(s.client,_u.Scope.clone(s.scope)))}return Xe(i)}catch(a){return Xe(t)}}o(WT,"getHubFromActiveDomain");function l_(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}o(l_,"hasHubOnCarrier");function Xe(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new $i),t.__SENTRY__.hub}o(Xe,"getHubFromCarrier");fe.getHubFromCarrier=Xe;function Ji(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}o(Ji,"setHubOnCarrier");fe.setHubOnCarrier=Ji});var f_=p(yu=>{Object.defineProperty(yu,"__esModule",{value:!0});var vu=un(),mu=I(),zT=gu(),YT=function(){function t(e,r){var n=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=e,this._intervalId=setInterval(function(){return n.flush()},this.flushTimeout*1e3),this._sessionAttrs=r}return o(t,"SessionFlusher"),t.prototype.sendSessionAggregates=function(e){if(!this._transport.sendSession){mu.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){mu.logger.error("Error while sending session: "+r)})},t.prototype.flush=function(){var e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(e))},t.prototype.getSessionAggregates=function(){var e=this,r=Object.keys(this._pendingAggregates).map(function(i){return e._pendingAggregates[parseInt(i)]}),n={attrs:this._sessionAttrs,aggregates:r};return mu.dropUndefinedKeys(n)},t.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},t.prototype.incrementSessionStatusCount=function(){var e,r;if(!!this._isEnabled){var n=zT.getCurrentHub().getScope(),i=(e=n)===null||e===void 0?void 0:e.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(r=n)===null||r===void 0||r.setRequestSession(void 0))}},t.prototype._incrementSessionStatusCount=function(e,r){var n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var i=this._pendingAggregates[n];switch(i.started||(i.started=new Date(n).toISOString()),e){case vu.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case vu.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case vu.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},t}();yu.SessionFlusher=YT});var Xi=p(de=>{Object.defineProperty(de,"__esModule",{value:!0});var d_=lu();de.addGlobalEventProcessor=d_.addGlobalEventProcessor;de.Scope=d_.Scope;var VT=pu();de.Session=VT.Session;var KT=f_();de.SessionFlusher=KT.SessionFlusher;var Ct=gu();de.getActiveDomain=Ct.getActiveDomain;de.getCurrentHub=Ct.getCurrentHub;de.getHubFromCarrier=Ct.getHubFromCarrier;de.getMainCarrier=Ct.getMainCarrier;de.Hub=Ct.Hub;de.makeMain=Ct.makeMain;de.setHubOnCarrier=Ct.setHubOnCarrier});var pt=p(yr=>{Object.defineProperty(yr,"__esModule",{value:!0});var p_;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(p_=yr.SpanStatus||(yr.SpanStatus={}));(function(t){function e(r){if(r<400)return t.Ok;if(r>=400&&r<500)switch(r){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}o(e,"fromHttpCode"),t.fromHttpCode=e})(p_=yr.SpanStatus||(yr.SpanStatus={}))});var _t=p(ke=>{Object.defineProperty(ke,"__esModule",{value:!0});var __=Xi();ke.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function $T(t){t===void 0&&(t=(e=__.getCurrentHub().getClient())===null||e===void 0?void 0:e.getOptions());var e;return t?"tracesSampleRate"in t||"tracesSampler"in t:!1}o($T,"hasTracingEnabled");ke.hasTracingEnabled=$T;function JT(t){var e=t.match(ke.TRACEPARENT_REGEXP);if(e){var r=void 0;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}}o(JT,"extractTraceparentData");ke.extractTraceparentData=JT;function XT(t){t===void 0&&(t=__.getCurrentHub());var e,r;return(r=(e=t)===null||e===void 0?void 0:e.getScope())===null||r===void 0?void 0:r.getTransaction()}o(XT,"getActiveTransaction");ke.getActiveTransaction=XT;function ZT(t){return t/1e3}o(ZT,"msToSec");ke.msToSec=ZT;function QT(t){return t*1e3}o(QT,"secToMs");ke.secToMs=QT;var eO=I();ke.stripUrlQueryAndFragment=eO.stripUrlQueryAndFragment});var v_=p(Su=>{Object.defineProperty(Su,"__esModule",{value:!0});var bu=I(),h_=pt(),tO=_t();function rO(){bu.addInstrumentationHandler({callback:g_,type:"error"}),bu.addInstrumentationHandler({callback:g_,type:"unhandledrejection"})}o(rO,"registerErrorInstrumentation");Su.registerErrorInstrumentation=rO;function g_(){var t=tO.getActiveTransaction();t&&(bu.logger.log("[Tracing] Transaction: "+h_.SpanStatus.InternalError+" -> Global error occured"),t.setStatus(h_.SpanStatus.InternalError))}o(g_,"errorCallback")});var Qi=p(Zi=>{Object.defineProperty(Zi,"__esModule",{value:!0});var br=P(),kt=I(),Eu=pt(),nO=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return o(t,"SpanRecorder"),t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}();Zi.SpanRecorder=nO;var iO=function(){function t(e){if(this.traceId=kt.uuid4(),this.spanId=kt.uuid4().substring(16),this.startTimestamp=kt.timestampWithMs(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return o(t,"Span"),t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var r=new t(br.__assign(br.__assign({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},t.prototype.setTag=function(e,r){var n;return this.tags=br.__assign(br.__assign({},this.tags),(n={},n[e]=r,n)),this},t.prototype.setData=function(e,r){var n;return this.data=br.__assign(br.__assign({},this.data),(n={},n[e]=r,n)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var r=Eu.SpanStatus.fromHttpCode(e);return r!==Eu.SpanStatus.UnknownError&&this.setStatus(r),this},t.prototype.isSuccess=function(){return this.status===Eu.SpanStatus.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:kt.timestampWithMs()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return kt.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var r,n,i,s,a;return this.data=(r=e.data,r!=null?r:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(n=e.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(a=e.traceId,a!=null?a:this.traceId),this},t.prototype.getTraceContext=function(){return kt.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return kt.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();Zi.Span=iO});var es=p(Tu=>{Object.defineProperty(Tu,"__esModule",{value:!0});var Sr=P(),m_=Xi(),Er=I(),y_=Qi(),sO=function(t){Sr.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._measurements={},i._hub=m_.getCurrentHub(),Er.isInstanceOf(n,m_.Hub)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return o(e,"Transaction"),e.prototype.setName=function(r){this.name=r},e.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new y_.SpanRecorder(r)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(r){this._measurements=Sr.__assign({},r)},e.prototype.setMetadata=function(r){this.metadata=Sr.__assign(Sr.__assign({},this.metadata),r)},e.prototype.finish=function(r){var n=this;if(this.endTimestamp===void 0){if(this.name||(Er.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,r),this.sampled!==!0){Er.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(u){return u!==n&&u.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(u,c){return u.endTimestamp&&c.endTimestamp?u.endTimestamp>c.endTimestamp?u:c:u}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},a=Object.keys(this._measurements).length>0;return a&&(Er.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),Er.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},e.prototype.toContext=function(){var r=t.prototype.toContext.call(this);return Er.dropUndefinedKeys(Sr.__assign(Sr.__assign({},r),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(r){var n;return t.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},e}(y_.Span);Tu.Transaction=sO});var ts=p(Tr=>{Object.defineProperty(Tr,"__esModule",{value:!0});var Ou=P(),K=I(),aO=Qi(),b_=pt(),oO=es();Tr.DEFAULT_IDLE_TIMEOUT=1e3;var S_=function(t){Ou.__extends(e,t);function e(r,n,i,s){i===void 0&&(i="");var a=t.call(this,s)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return o(e,"IdleTransactionSpanRecorder"),e.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:K.timestampWithMs(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),t.prototype.add.call(this,r)},e}(aO.SpanRecorder);Tr.IdleTransactionSpanRecorder=S_;var uO=function(t){Ou.__extends(e,t);function e(r,n,i,s){i===void 0&&(i=Tr.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var a=t.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=s,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&s&&(E_(n),K.logger.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(u){return u.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return o(e,"IdleTransaction"),e.prototype.finish=function(r){var n,i,s=this;if(r===void 0&&(r=K.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){K.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=Ou.__values(this._beforeFinishCallbacks),u=a.next();!u.done;u=a.next()){var c=u.value;c(this,r)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(l){if(l.spanId===s.spanId)return!0;l.endTimestamp||(l.endTimestamp=r,l.setStatus(b_.SpanStatus.Cancelled),K.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(l,void 0,2)));var f=l.startTimestamp<r;return f||K.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(l,void 0,2)),f}),K.logger.log("[Tracing] flushing IdleTransaction")}else K.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&E_(this._idleHub),t.prototype.finish.call(this,r)},e.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},e.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=o(function(a){n._finished||n._pushActivity(a)},"pushActivity"),s=o(function(a){n._finished||n._popActivity(a)},"popActivity");this.spanRecorder=new S_(i,s,this.spanId,r),K.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),K.logger.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,K.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(K.logger.log("[Tracing] popActivity "+r),delete this.activities[r],K.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=K.timestampWithMs()+i/1e3;setTimeout(function(){n._finished||n.finish(s)},i)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,s){return i+s}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(K.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(b_.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var r=this;K.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},e}(oO.Transaction);Tr.IdleTransaction=uO;function E_(t){if(t){var e=t.getScope();if(e){var r=e.getTransaction();r&&e.setSpan(void 0)}}}o(E_,"clearActiveTransaction")});var ns=p((cn,ln)=>{Object.defineProperty(cn,"__esModule",{value:!0});var wu=P(),T_=Xi(),rs=un(),me=I(),cO=v_(),lO=ts(),fO=es(),dO=_t();function pO(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}o(pO,"traceHeaders");function O_(t,e,r){if(!dO.hasTracingEnabled())return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:rs.TransactionSamplingMethod.Explicit}}),t;var n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({transactionSampling:{method:rs.TransactionSamplingMethod.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,t.setMetadata({transactionSampling:{method:rs.TransactionSamplingMethod.Inheritance}})):(n=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:rs.TransactionSamplingMethod.Rate,rate:Number(n)}})),_O(n)?n?(t.sampled=Math.random()<n,t.sampled?(me.logger.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(me.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),t)):(me.logger.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(me.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}o(O_,"sample");function _O(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(me.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(me.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}o(_O,"isValidSampleRate");function hO(t,e){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},s=new fO.Transaction(t,this);return s=O_(s,i,wu.__assign({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),s}o(hO,"_startTransaction");function gO(t,e,r,n,i){var s,a,u=((s=t.getClient())===null||s===void 0?void 0:s.getOptions())||{},c=new lO.IdleTransaction(e,t,r,n);return c=O_(c,u,wu.__assign({parentSampled:e.parentSampled,transactionContext:e},i)),c.sampled&&c.initSpanRecorder((a=u._experiments)===null||a===void 0?void 0:a.maxSpans),c}o(gO,"startIdleTransaction");cn.startIdleTransaction=gO;function w_(){var t=T_.getMainCarrier();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=hO),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=pO))}o(w_,"_addTracingExtensions");cn._addTracingExtensions=w_;function vO(){var t=T_.getMainCarrier();if(!!t.__SENTRY__){var e={mongodb:function(){var n=me.dynamicRequire(ln,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=me.dynamicRequire(ln,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=me.dynamicRequire(ln,"./integrations/mysql");return new n.Mysql},pg:function(){var n=me.dynamicRequire(ln,"./integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(function(n){return!!me.loadModule(n)}).map(function(n){try{return e[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(t.__SENTRY__.integrations=wu.__spread(t.__SENTRY__.integrations||[],r))}}o(vO,"_autoloadDatabaseIntegrations");function mO(){w_(),me.isNodeEnv()&&vO(),cO.registerErrorInstrumentation()}o(mO,"addExtensionMethods");cn.addExtensionMethods=mO});var I_=p(Iu=>{Object.defineProperty(Iu,"__esModule",{value:!0});var qu=I(),q_=pt(),yO=_t(),is=qu.getGlobalObject();function bO(){is&&is.document?is.document.addEventListener("visibilitychange",function(){var t=yO.getActiveTransaction();is.document.hidden&&t&&(qu.logger.log("[Tracing] Transaction: "+q_.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(q_.SpanStatus.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):qu.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(bO,"registerBackgroundTabDetection");Iu.registerBackgroundTabDetection=bO});var ss=p(xu=>{Object.defineProperty(xu,"__esModule",{value:!0});xu.bindReporter=function(t,e,r,n){var i;return function(){r&&e.isFinal&&r.disconnect(),e.value>=0&&(n||e.isFinal||document.visibilityState==="hidden")&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||i===void 0)&&(t(e),i=e.value))}}});var x_=p(Ru=>{Object.defineProperty(Ru,"__esModule",{value:!0});Ru.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var as=p(Mu=>{Object.defineProperty(Mu,"__esModule",{value:!0});var SO=x_();Mu.initMetric=function(t,e){return e===void 0&&(e=-1),{name:t,value:e,delta:0,entries:[],id:SO.generateUniqueID(),isFinal:!1}}});var os=p(Pu=>{Object.defineProperty(Pu,"__esModule",{value:!0});Pu.observe=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(n){return n.getEntries().map(e)});return r.observe({type:t,buffered:!0}),r}}catch(n){}}});var fn=p(Cu=>{Object.defineProperty(Cu,"__esModule",{value:!0});var R_=!1,M_=!1,EO=o(function(t){R_=!t.persisted},"onPageHide"),TO=o(function(){addEventListener("pagehide",EO),addEventListener("beforeunload",function(){})},"addListeners");Cu.onHidden=function(t,e){e===void 0&&(e=!1),M_||(TO(),M_=!0),addEventListener("visibilitychange",function(r){var n=r.timeStamp;document.visibilityState==="hidden"&&t({timeStamp:n,isUnloading:R_})},{capture:!0,once:e})}});var P_=p(ku=>{Object.defineProperty(ku,"__esModule",{value:!0});var OO=ss(),wO=as(),qO=os(),IO=fn();ku.getCLS=function(t,e){e===void 0&&(e=!1);var r=wO.initMetric("CLS",0),n,i=o(function(a){a.hadRecentInput||(r.value+=a.value,r.entries.push(a),n())},"entryHandler"),s=qO.observe("layout-shift",i);s&&(n=OO.bindReporter(t,r,s,e),IO.onHidden(function(a){var u=a.isUnloading;s.takeRecords().map(i),u&&(r.isFinal=!0),n()}))}});var cs=p(Au=>{Object.defineProperty(Au,"__esModule",{value:!0});var xO=fn(),us;Au.getFirstHidden=function(){return us===void 0&&(us=document.visibilityState==="hidden"?0:Infinity,xO.onHidden(function(t){var e=t.timeStamp;return us=e},!0)),{get timeStamp(){return us}}}});var C_=p(Nu=>{Object.defineProperty(Nu,"__esModule",{value:!0});var RO=ss(),MO=cs(),PO=as(),CO=os(),kO=fn();Nu.getFID=function(t){var e=PO.initMetric("FID"),r=MO.getFirstHidden(),n=o(function(a){a.startTime<r.timeStamp&&(e.value=a.processingStart-a.startTime,e.entries.push(a),e.isFinal=!0,s())},"entryHandler"),i=CO.observe("first-input",n),s=RO.bindReporter(t,e,i);i?kO.onHidden(function(){i.takeRecords().map(n),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(a,u){u.timeStamp<r.timeStamp&&(e.value=a,e.isFinal=!0,e.entries=[{entryType:"first-input",name:u.type,target:u.target,cancelable:u.cancelable,startTime:u.timeStamp,processingStart:u.timeStamp+a}],s())})}});var k_=p(Du=>{Object.defineProperty(Du,"__esModule",{value:!0});var ju;Du.whenInput=function(){return ju||(ju=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),ju}});var A_=p(Fu=>{Object.defineProperty(Fu,"__esModule",{value:!0});var AO=ss(),NO=cs(),jO=as(),DO=os(),FO=fn(),HO=k_();Fu.getLCP=function(t,e){e===void 0&&(e=!1);var r=jO.initMetric("LCP"),n=NO.getFirstHidden(),i,s=o(function(c){var l=c.startTime;l<n.timeStamp?(r.value=l,r.entries.push(c)):r.isFinal=!0,i()},"entryHandler"),a=DO.observe("largest-contentful-paint",s);if(a){i=AO.bindReporter(t,r,a,e);var u=o(function(){r.isFinal||(a.takeRecords().map(s),r.isFinal=!0,i())},"onFinal");HO.whenInput().then(u),FO.onHidden(u,!0)}}});var D_=p(dn=>{Object.defineProperty(dn,"__esModule",{value:!0});var N_=P(),D=I(),L=_t(),UO=P_(),LO=C_(),BO=A_(),GO=cs(),pe=D.getGlobalObject(),WO=function(){function t(){var e;this._measurements={},this._performanceCursor=0,!D.isNodeEnv()&&((e=pe)===null||e===void 0?void 0:e.performance)&&(pe.performance.mark&&pe.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return o(t,"MetricsInstrumentation"),t.prototype.addPerformanceEntries=function(e){var r=this;if(!(!pe||!pe.performance||!pe.performance.getEntries||!D.browserPerformanceTimeOrigin)){D.logger.log("[Tracing] Adding & adjusting spans using Performance API");var n=L.msToSec(D.browserPerformanceTimeOrigin),i;if(pe.document&&pe.document.scripts){for(var s=0;s<pe.document.scripts.length;s++)if(pe.document.scripts[s].dataset.entry==="true"){i=pe.document.scripts[s].src;break}}var a,u,c,l;if(pe.performance.getEntries().slice(this._performanceCursor).forEach(function(d){var _=L.msToSec(d.startTime),h=L.msToSec(d.duration);if(!(e.op==="navigation"&&n+_<e.startTimestamp))switch(d.entryType){case"navigation":{zO(e,d,n),c=n+L.msToSec(d.responseStart),l=n+L.msToSec(d.requestStart);break}case"mark":case"paint":case"measure":{var g=YO(e,d,_,h,n);u===void 0&&d.name==="sentry-tracing-init"&&(u=g);var v=GO.getFirstHidden(),m=d.startTime<v.timeStamp;d.name==="first-paint"&&m&&(D.logger.log("[Measurements] Adding FP"),r._measurements.fp={value:d.startTime},r._measurements["mark.fp"]={value:g}),d.name==="first-contentful-paint"&&m&&(D.logger.log("[Measurements] Adding FCP"),r._measurements.fcp={value:d.startTime},r._measurements["mark.fcp"]={value:g});break}case"resource":{var S=d.name.replace(window.location.origin,""),x=j_(e,d,S,_,h,n);a===void 0&&(i||"").indexOf(S)>-1&&(a=x);break}default:}}),a!==void 0&&u!==void 0&&gt(e,{description:"evaluation",endTimestamp:u,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var f=L.msToSec(D.browserPerformanceTimeOrigin);typeof c=="number"&&(D.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(c-e.startTimestamp)*1e3},typeof l=="number"&&l<=c&&(this._measurements["ttfb.requestTime"]={value:(c-l)*1e3})),["fcp","fp","lcp"].forEach(function(d){if(!(!r._measurements[d]||f>=e.startTimestamp)){var _=r._measurements[d].value,h=f+L.msToSec(_),g=Math.abs((h-e.startTimestamp)*1e3),v=g-_;D.logger.log("[Measurements] Normalized "+d+" from "+_+" to "+g+" ("+v+")"),r._measurements[d].value=g}}),this._measurements["mark.fid"]&&this._measurements.fid&&gt(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+L.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},t.prototype._tagMetricInfo=function(e){this._lcpEntry&&(D.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",D.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(D.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(r,n){return e.setTag("cls.source."+(n+1),D.htmlTreeAsString(r.node))}))},t.prototype._trackCLS=function(){var e=this;UO.getCLS(function(r){var n=r.entries.pop();!n||(D.logger.log("[Measurements] Adding CLS"),e._measurements.cls={value:r.value},e._clsEntry=n)})},t.prototype._trackNavigator=function(e){var r=pe.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ls(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),ls(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),ls(r.deviceMemory)&&e.setTag("deviceMemory",String(r.deviceMemory)),ls(r.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},t.prototype._trackLCP=function(){var e=this;BO.getLCP(function(r){var n=r.entries.pop();if(!!n){var i=L.msToSec(D.browserPerformanceTimeOrigin),s=L.msToSec(n.startTime);D.logger.log("[Measurements] Adding LCP"),e._measurements.lcp={value:r.value},e._measurements["mark.lcp"]={value:i+s},e._lcpEntry=n}})},t.prototype._trackFID=function(){var e=this;LO.getFID(function(r){var n=r.entries.pop();if(!!n){var i=L.msToSec(D.browserPerformanceTimeOrigin),s=L.msToSec(n.startTime);D.logger.log("[Measurements] Adding FID"),e._measurements.fid={value:r.value},e._measurements["mark.fid"]={value:i+s}}})},t}();dn.MetricsInstrumentation=WO;function zO(t,e,r){ht({transaction:t,entry:e,event:"unloadEvent",timeOrigin:r}),ht({transaction:t,entry:e,event:"redirect",timeOrigin:r}),ht({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:r}),ht({transaction:t,entry:e,event:"loadEvent",timeOrigin:r}),ht({transaction:t,entry:e,event:"connect",timeOrigin:r}),ht({transaction:t,entry:e,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),ht({transaction:t,entry:e,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),ht({transaction:t,entry:e,event:"domainLookup",timeOrigin:r,description:"DNS"}),VO(t,e,r)}o(zO,"addNavigationSpans");function YO(t,e,r,n,i){var s=i+r,a=s+n;return gt(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:s}),s}o(YO,"addMeasureSpans");function j_(t,e,r,n,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var u=s+n,c=u+i;return gt(t,{description:r,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:u,data:a}),c}}o(j_,"addResourceSpans");dn.addResourceSpans=j_;function ht(t){var e=t.transaction,r=t.entry,n=t.event,i=t.timeOrigin,s=t.eventEnd,a=t.description,u=s?r[s]:r[n+"End"],c=r[n+"Start"];!c||!u||gt(e,{op:"browser",description:a!=null?a:n,startTimestamp:i+L.msToSec(c),endTimestamp:i+L.msToSec(u)})}o(ht,"addPerformanceNavigationTiming");function VO(t,e,r){gt(t,{op:"browser",description:"request",startTimestamp:r+L.msToSec(e.requestStart),endTimestamp:r+L.msToSec(e.responseEnd)}),gt(t,{op:"browser",description:"response",startTimestamp:r+L.msToSec(e.responseStart),endTimestamp:r+L.msToSec(e.responseEnd)})}o(VO,"addRequest");function gt(t,e){var r=e.startTimestamp,n=N_.__rest(e,["startTimestamp"]);return r&&t.startTimestamp>r&&(t.startTimestamp=r),t.startChild(N_.__assign({startTimestamp:r},n))}o(gt,"_startChild");dn._startChild=gt;function ls(t){return typeof t=="number"&&isFinite(t)}o(ls,"isMeasurementValue")});var Hu=p(Qe=>{Object.defineProperty(Qe,"__esModule",{value:!0});var Ze=P(),pn=I(),KO=pt(),fs=_t();Qe.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];Qe.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:Qe.DEFAULT_TRACING_ORIGINS};function $O(t){var e=Ze.__assign(Ze.__assign({},Qe.defaultRequestInstrumentationOptions),t),r=e.traceFetch,n=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,a={},u=o(function(f){if(a[f])return a[f];var d=i;return a[f]=d.some(function(_){return pn.isMatchingPattern(f,_)})&&!pn.isMatchingPattern(f,"sentry_key"),a[f]},"defaultShouldCreateSpan"),c=u;typeof s=="function"&&(c=o(function(f){return u(f)&&s(f)},"shouldCreateSpan"));var l={};r&&pn.addInstrumentationHandler({callback:function(f){F_(f,c,l)},type:"fetch"}),n&&pn.addInstrumentationHandler({callback:function(f){H_(f,c,l)},type:"xhr"})}o($O,"instrumentOutgoingRequests");Qe.instrumentOutgoingRequests=$O;function F_(t,e,r){if(!(!fs.hasTracingEnabled()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp&&t.fetchData.__span){var n=r[t.fetchData.__span];n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus(KO.SpanStatus.InternalError),n.finish(),delete r[t.fetchData.__span]);return}var i=fs.getActiveTransaction();if(i){var n=i.startChild({data:Ze.__assign(Ze.__assign({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=n.spanId,r[n.spanId]=n;var s=t.args[0]=t.args[0],a=t.args[1]=t.args[1]||{},u=a.headers;pn.isInstanceOf(s,Request)&&(u=s.headers),u?typeof u.append=="function"?u.append("sentry-trace",n.toTraceparent()):Array.isArray(u)?u=Ze.__spread(u,[["sentry-trace",n.toTraceparent()]]):u=Ze.__assign(Ze.__assign({},u),{"sentry-trace":n.toTraceparent()}):u={"sentry-trace":n.toTraceparent()},a.headers=u}}}o(F_,"fetchCallback");Qe.fetchCallback=F_;function H_(t,e,r){var n,i;if(!(!fs.hasTracingEnabled()||((n=t.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=t.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&e(t.xhr.__sentry_xhr__.url)))){var s=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){var a=r[t.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(s.status_code),a.finish(),delete r[t.xhr.__sentry_xhr_span_id__]);return}var u=fs.getActiveTransaction();if(u){var a=u.startChild({data:Ze.__assign(Ze.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,r[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(l){}}}}o(H_,"xhrCallback");Qe.xhrCallback=H_});var U_=p(Uu=>{Object.defineProperty(Uu,"__esModule",{value:!0});var ds=I(),_n=ds.getGlobalObject();function JO(t,e,r){if(e===void 0&&(e=!0),r===void 0&&(r=!0),!_n||!_n.location){ds.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var n=_n.location.href,i;e&&(i=t({name:_n.location.pathname,op:"pageload"})),r&&ds.addInstrumentationHandler({callback:function(s){var a=s.to,u=s.from;if(u===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}u!==a&&(n=void 0,i&&(ds.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:_n.location.pathname,op:"navigation"}))},type:"history"})}o(JO,"instrumentRoutingWithDefaults");Uu.instrumentRoutingWithDefaults=JO});var W_=p(At=>{Object.defineProperty(At,"__esModule",{value:!0});var et=P(),Or=I(),XO=ns(),ZO=ts(),QO=pt(),L_=_t(),ew=I_(),tw=D_(),ps=Hu(),rw=U_();At.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var nw=et.__assign({idleTimeout:ZO.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:At.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:rw.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},ps.defaultRequestInstrumentationOptions),iw=function(){function t(e){this.name=t.id,this._metrics=new tw.MetricsInstrumentation,this._emitOptionsWarning=!1;var r=ps.defaultRequestInstrumentationOptions.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?r=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=et.__assign(et.__assign(et.__assign({},nw),e),{tracingOrigins:r})}return o(t,"BrowserTracing"),t.prototype.setupOnce=function(e,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(Or.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Or.logger.warn("[Tracing] We added a reasonable default for you: "+ps.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,a=i.startTransactionOnLocationChange,u=i.startTransactionOnPageLoad,c=i.markBackgroundTransactions,l=i.traceFetch,f=i.traceXHR,d=i.tracingOrigins,_=i.shouldCreateSpanForRequest;s(function(h){return n._createRouteTransaction(h)},u,a),c&&ew.registerBackgroundTabDetection(),ps.instrumentOutgoingRequests({traceFetch:l,traceXHR:f,tracingOrigins:d,shouldCreateSpanForRequest:_})},t.prototype._createRouteTransaction=function(e){var r=this;if(!this._getCurrentHub){Or.logger.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,s=n.idleTimeout,a=n.maxTransactionDuration,u=e.op==="pageload"?B_():void 0,c=et.__assign(et.__assign(et.__assign({},e),u),{trimEnd:!0}),l=typeof i=="function"?i(c):c,f=l===void 0?et.__assign(et.__assign({},c),{sampled:!1}):l;f.sampled===!1&&Or.logger.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),Or.logger.log("[Tracing] Starting "+f.op+" transaction on scope");var d=this._getCurrentHub(),_=Or.getGlobalObject().location,h=XO.startIdleTransaction(d,f,s,!0,{location:_});return h.registerBeforeFinishCallback(function(g,v){r._metrics.addPerformanceEntries(g),sw(L_.secToMs(a),g,v)}),h},t.id="BrowserTracing",t}();At.BrowserTracing=iw;function B_(){var t=G_("sentry-trace");if(t)return L_.extractTraceparentData(t)}o(B_,"getHeaderContext");At.getHeaderContext=B_;function G_(t){var e=document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}o(G_,"getMetaContent");At.getMetaContent=G_;function sw(t,e,r){var n=r-e.startTimestamp,i=r&&(n>t||n<0);i&&(e.setStatus(QO.SpanStatus.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}o(sw,"adjustTransactionDuration")});var Lu=p(hn=>{Object.defineProperty(hn,"__esModule",{value:!0});var aw=W_();hn.BrowserTracing=aw.BrowserTracing;var z_=Hu();hn.instrumentOutgoingRequests=z_.instrumentOutgoingRequests;hn.defaultRequestInstrumentationOptions=z_.defaultRequestInstrumentationOptions});var V_=p(Gu=>{Object.defineProperty(Gu,"__esModule",{value:!0});var Bu=P(),ow=I(),uw=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return o(t,"Express"),t.prototype.setupOnce=function(){if(!this._router){ow.logger.error("ExpressIntegration is missing an Express instance");return}fw(this._router,this._methods)},t.id="Express",t}();Gu.Express=uw;function Y_(t,e){var r=t.length;switch(r){case 2:return function(n,i){var s=i.__sentry_transaction;if(s){var a=s.startChild({description:t.name,op:"middleware."+e});i.once("finish",function(){a.finish()})}return t.call(this,n,i)};case 3:return function(n,i,s){var a,u=i.__sentry_transaction,c=(a=u)===null||a===void 0?void 0:a.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var d;(d=c)===null||d===void 0||d.finish(),s.call.apply(s,Bu.__spread([this],l))})};case 4:return function(n,i,s,a){var u,c=s.__sentry_transaction,l=(u=c)===null||u===void 0?void 0:u.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,s,function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var _;(_=l)===null||_===void 0||_.finish(),a.call.apply(a,Bu.__spread([this],f))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}o(Y_,"wrap");function cw(t,e){return t.map(function(r){return typeof r=="function"?Y_(r,e):Array.isArray(r)?r.map(function(n){return typeof n=="function"?Y_(n,e):n}):r})}o(cw,"wrapMiddlewareArgs");function lw(t,e){var r=t[e];return t[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,Bu.__spread([this],cw(n,e)))},t}o(lw,"patchMiddleware");function fw(t,e){e===void 0&&(e=[]),e.forEach(function(r){return lw(t,r)})}o(fw,"instrumentMiddlewares")});var K_=p(Wu=>{Object.defineProperty(Wu,"__esModule",{value:!0});var _s=I(),dw=function(){function t(){this.name=t.id}return o(t,"Postgres"),t.prototype.setupOnce=function(e,r){var n=_s.loadModule("pg");if(!n){_s.logger.error("Postgres Integration was unable to require `pg` package.");return}_s.fill(n.Client.prototype,"query",function(i){return function(s,a,u){var c,l,f,d=r().getScope(),_=(c=d)===null||c===void 0?void 0:c.getSpan(),h=(l=_)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof u=="function")return i.call(this,s,a,function(v,m){var S;(S=h)===null||S===void 0||S.finish(),u(v,m)});if(typeof a=="function")return i.call(this,s,function(v,m){var S;(S=h)===null||S===void 0||S.finish(),a(v,m)});var g=typeof a!="undefined"?i.call(this,s,a):i.call(this,s);return _s.isThenable(g)?g.then(function(v){var m;return(m=h)===null||m===void 0||m.finish(),v}):((f=h)===null||f===void 0||f.finish(),g)}})},t.id="Postgres",t}();Wu.Postgres=dw});var $_=p(Yu=>{Object.defineProperty(Yu,"__esModule",{value:!0});var zu=I(),pw=function(){function t(){this.name=t.id}return o(t,"Mysql"),t.prototype.setupOnce=function(e,r){var n=zu.loadModule("mysql/lib/Connection.js");if(!n){zu.logger.error("Mysql Integration was unable to require `mysql` package.");return}zu.fill(n,"createQuery",function(i){return function(s,a,u){var c,l,f=r().getScope(),d=(c=f)===null||c===void 0?void 0:c.getSpan(),_=(l=d)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof u=="function"?i.call(this,s,a,function(h,g,v){var m;(m=_)===null||m===void 0||m.finish(),u(h,g,v)}):typeof a=="function"?i.call(this,s,function(h,g,v){var m;(m=_)===null||m===void 0||m.finish(),a(h,g,v)}):i.call(this,s,a,u)}})},t.id="Mysql",t}();Yu.Mysql=pw});var J_=p(Ku=>{Object.defineProperty(Ku,"__esModule",{value:!0});var Vu=P(),hs=I(),_w=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],hw={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},gw=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:_w,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}return o(t,"Mongo"),t.prototype.setupOnce=function(e,r){var n=this._useMongoose?"mongoose":"mongodb",i=hs.loadModule(n);if(!i){hs.logger.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},t.prototype._instrumentOperations=function(e,r,n){var i=this;r.forEach(function(s){return i._patchOperation(e,s,n)})},t.prototype._patchOperation=function(e,r,n){if(r in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);hs.fill(e.prototype,r,function(s){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c,l,f,d,_=a[a.length-1],h=n().getScope(),g=(c=h)===null||c===void 0?void 0:c.getSpan();if(typeof _!="function"||r==="mapReduce"&&a.length===2){var v=(l=g)===null||l===void 0?void 0:l.startChild(i(this,r,a)),m=s.call.apply(s,Vu.__spread([this],a));return hs.isThenable(m)?m.then(function(x){var C;return(C=v)===null||C===void 0||C.finish(),x}):((f=v)===null||f===void 0||f.finish(),m)}var S=(d=g)===null||d===void 0?void 0:d.startChild(i(this,r,a.slice(0,-1)));return s.call.apply(s,Vu.__spread([this],a.slice(0,-1),[function(x,C){var ye;(ye=S)===null||ye===void 0||ye.finish(),_(x,C)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,r,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:r,data:i},a=hw[r],u=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!u)return s;try{if(r==="mapReduce"){var c=Vu.__read(n,2),l=c[0],f=c[1];i[a[0]]=typeof l=="string"?l:l.name||"<anonymous>",i[a[1]]=typeof f=="string"?f:f.name||"<anonymous>"}else for(var d=0;d<a.length;d++)i[a[d]]=JSON.stringify(n[d])}catch(_){}return s},t.id="Mongo",t}();Ku.Mongo=gw});var X_=p(wr=>{Object.defineProperty(wr,"__esModule",{value:!0});var vw=V_();wr.Express=vw.Express;var mw=K_();wr.Postgres=mw.Postgres;var yw=$_();wr.Mysql=yw.Mysql;var bw=J_();wr.Mongo=bw.Mongo});var $u=p($=>{Object.defineProperty($,"__esModule",{value:!0});var Z_=P(),Sw=Lu(),Q_=ns();$.addExtensionMethods=Q_.addExtensionMethods;var Ew=X_(),Tw=Z_.__assign(Z_.__assign({},Ew),{BrowserTracing:Sw.BrowserTracing});$.Integrations=Tw;var Ow=Qi();$.Span=Ow.Span;var ww=es();$.Transaction=ww.Transaction;var eh=Lu();$.registerRequestInstrumentation=eh.instrumentOutgoingRequests;$.defaultRequestInstrumentationOptions=eh.defaultRequestInstrumentationOptions;var qw=pt();$.SpanStatus=qw.SpanStatus;var Iw=ts();$.IdleTransaction=Iw.IdleTransaction;var xw=ns();$.startIdleTransaction=xw.startIdleTransaction;Q_.addExtensionMethods();var gn=_t();$.extractTraceparentData=gn.extractTraceparentData;$.getActiveTransaction=gn.getActiveTransaction;$.hasTracingEnabled=gn.hasTracingEnabled;$.stripUrlQueryAndFragment=gn.stripUrlQueryAndFragment;$.TRACEPARENT_REGEXP=gn.TRACEPARENT_REGEXP});var Xu=p(Ju=>{Object.defineProperty(Ju,"__esModule",{value:!0});var Rw=ge(),Mw=I(),qr=class{constructor(e={}){this.name=qr.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("aws-sdk/global");Mw.fill(e.Service.prototype,"makeRequest",Pw)}catch(e){if(!this._optional)throw e}}};o(qr,"AWSServices");Ju.AWSServices=qr;qr.id="AWSServices";function Pw(t){return function(e,r,n){let i,s,a=Rw.getCurrentHub().getScope();a&&(i=a.getTransaction());let u=t.call(this,e,r);return u.on("afterBuild",()=>{i&&(s=i.startChild({description:Cw(this,e,r),op:"aws.request"}))}),u.on("complete",()=>{s&&s.finish()}),n&&u.send(n),u}}o(Pw,"wrapMakeRequest");function Cw(t,e,r){let n=`aws.${t.serviceIdentifier}.${e}`;if(r===void 0)return n;switch(t.serviceIdentifier){case"s3":n+=Aw(e,r);break;case"lambda":n+=kw(e,r);break}return n}o(Cw,"describe");function kw(t,e){let r="";return"FunctionName"in e&&(r+=` ${e.FunctionName}`),r}o(kw,"describeLambdaOperation");function Aw(t,e){let r="";return"Bucket"in e&&(r+=` ${e.Bucket}`),r}o(Aw,"describeS3Operation")});var xr=p(Ir=>{Object.defineProperty(Ir,"__esModule",{value:!0});var Nw=I(),th=require("domain");function jw(t){return Nw.addExceptionMechanism(t,{handled:!1}),t}o(jw,"serverlessEventProcessor");Ir.serverlessEventProcessor=jw;function rh(){return th.active}o(rh,"getActiveDomain");Ir.getActiveDomain=rh;function Dw(t){return(...e)=>rh()?t(...e):th.create().run(()=>t(...e))}o(Dw,"domainify");Ir.domainify=Dw;function Fw(t,e,r){let n=e(t),i={apply:(s,a,u)=>n.apply(a,u)};return r&&(i.get=(s,a)=>r.hasOwnProperty(a)?r[a]:s[a]),new Proxy(t,i)}o(Fw,"proxyFunction");Ir.proxyFunction=Fw});var oh=p(vt=>{Object.defineProperty(vt,"__esModule",{value:!0});var Hw=P(),Nt=ge(),vn=ge(),Uw=$u(),mn=I(),nh=require("fs"),Lw=require("os"),ih=require("path"),sh=require("perf_hooks"),Bw=require("util"),Gw=Xu(),Ww=xr();Hw.__exportStar(ge(),vt);var{isPromise:zw}=Bw.types;vt.defaultIntegrations=[...vn.defaultIntegrations,new Gw.AWSServices({optional:!0})];function Yw(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=vt.defaultIntegrations),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.serverless",integrations:["AWSLambda"],packages:[{name:"npm:@sentry/serverless",version:vn.SDK_VERSION}],version:vn.SDK_VERSION},vn.init(t),vn.addGlobalEventProcessor(Ww.serverlessEventProcessor)}o(Yw,"init");vt.init=Yw;function Vw(t,e,r){let n=ih.resolve(t,e,r);return nh.existsSync(n)||nh.existsSync(`${n}.js`)?require(n):require(require.resolve(r,{paths:[t,e]}))}o(Vw,"tryRequire");function Kw(t,e){let r=ih.basename(e),n=r.match(/^([^.]*)\.(.*)$/);if(!n){mn.logger.error(`Bad handler ${r}`);return}let[,i,s]=n,a;try{let l=e.substring(0,e.indexOf(r));a=Vw(t,l,i)}catch(l){mn.logger.error(`Cannot require ${e} in ${t}`,l);return}let u,c;if(s.split(".").forEach(l=>{u=a,a=a&&a[l],c=l}),!a){mn.logger.error(`${e} is undefined or not exported`);return}if(typeof a!="function"){mn.logger.error(`${e} is not a function`);return}u[c]=ah(a)}o(Kw,"tryPatchHandler");vt.tryPatchHandler=Kw;function Zu(t){return typeof t.getRemainingTimeInMillis=="function"?t.getRemainingTimeInMillis():0}o(Zu,"tryGetRemainingTimeInMillis");function $w(t,e,r){t.setTransactionName(e.functionName),t.setTag("server_name",process.env._AWS_XRAY_DAEMON_ADDRESS||process.env.SENTRY_NAME||Lw.hostname()),t.setTag("url",`awslambda:///${e.functionName}`),t.setContext("runtime",{name:"node",version:global.process.version}),t.setContext("aws.lambda",{aws_request_id:e.awsRequestId,function_name:e.functionName,function_version:e.functionVersion,invoked_function_arn:e.invokedFunctionArn,execution_duration_in_millis:sh.performance.now()-r,remaining_time_in_millis:Zu(e),"sys.argv":process.argv}),t.setContext("aws.cloudwatch.logs",{log_group:e.logGroupName,log_stream:e.logStreamName,url:`https://console.aws.amazon.com/cloudwatch/home?region=${process.env.AWS_REGION}#logsV2:log-groups/log-group/${encodeURIComponent(e.logGroupName)}/log-events/${encodeURIComponent(e.logStreamName)}`})}o($w,"enhanceScopeWithEnvironmentData");function ah(t,e={}){let r=sh.performance.now(),n=ee({flushTimeout:2e3,rethrowAfterCapture:!0,callbackWaitsForEmptyEventLoop:!1,captureTimeoutWarning:!0,timeoutWarningLimit:500},e),i,s=t.length>2?(a,u)=>new Promise((c,l)=>{let f=t(a,u,(d,_)=>{d==null?c(_):l(d)});zw(f)&&f.then(c,l)}):t;return async(a,u)=>{u.callbackWaitsForEmptyEventLoop=n.callbackWaitsForEmptyEventLoop;let c=Math.ceil(Zu(u)/1e3),l=Math.floor(c/60),f=c%60,d=l>0?`${l}m${f}s`:`${f}s`;if(n.captureTimeoutWarning){let x=Zu(u)-n.timeoutWarningLimit;i=setTimeout(()=>{Nt.withScope(C=>{C.setTag("timeout",d),Nt.captureMessage(`Possible function timeout: ${u.functionName}`,Nt.Severity.Warning)})},x)}let _,h=a;h.headers&&mn.isString(h.headers["sentry-trace"])&&(_=Uw.extractTraceparentData(h.headers["sentry-trace"]));let g=Nt.startTransaction(ee({name:u.functionName,op:"awslambda.handler"},_)),v=Nt.getCurrentHub(),m=v.pushScope(),S;try{$w(m,u,r),m.setSpan(g),S=await s(a,u)}catch(x){if(Nt.captureException(x),n.rethrowAfterCapture)throw x}finally{clearTimeout(i),g.finish(),v.popScope(),await Nt.flush(n.flushTimeout)}return S}}o(ah,"wrapHandler");vt.wrapHandler=ah});var ch=p(Qu=>{Object.defineProperty(Qu,"__esModule",{value:!0});var Jw=ge(),uh=I(),Rr=class{constructor(e={}){this.name=Rr.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("google-gax");uh.fill(e.GrpcClient.prototype,"createStub",Xw)}catch(e){if(!this._optional)throw e}}};o(Rr,"GoogleCloudGrpc");Qu.GoogleCloudGrpc=Rr;Rr.id="GoogleCloudGrpc";function Xw(t){return async function(...e){var r;let n=(r=e[1])===null||r===void 0?void 0:r.servicePath;if(n==null||n==null)return t.apply(this,e);let i=Qw(n),s=await t.apply(this,e);for(let a of Object.keys(Object.getPrototypeOf(s)))Zw(s,i,a);return s}}o(Xw,"wrapCreateStub");function Zw(t,e,r){let n=t[r];if(typeof n!="function")return;let i=!n.requestStream&&!n.responseStream?"unary call":n.requestStream&&!n.responseStream?"client stream":!n.requestStream&&n.responseStream?"server stream":"bidi stream";i=="unary call"&&uh.fill(t,r,s=>(...a)=>{var u;let c=s.apply(t,a);if(typeof((u=c)===null||u===void 0?void 0:u.on)!="function")return c;let l,f,d=Jw.getCurrentHub().getScope();return d&&(l=d.getTransaction()),l&&(f=l.startChild({description:`${i} ${r}`,op:`gcloud.grpc.${e}`})),c.on("status",()=>{f&&f.finish()}),c})}o(Zw,"fillGrpcFunction");function Qw(t){let e=t.match(/^(\w+)\.googleapis.com$/);return e?e[1]:t}o(Qw,"identifyService")});var lh=p(ec=>{Object.defineProperty(ec,"__esModule",{value:!0});var e1=ge(),t1=I(),Mr=class{constructor(e={}){this.name=Mr.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("@google-cloud/common");t1.fill(e.Service.prototype,"request",r1)}catch(e){if(!this._optional)throw e}}};o(Mr,"GoogleCloudHttp");ec.GoogleCloudHttp=Mr;Mr.id="GoogleCloudHttp";function r1(t){return function(e,r){let n,i,s=e1.getCurrentHub().getScope();if(s&&(n=s.getTransaction()),n){let a=e.method||"GET";i=n.startChild({description:`${a} ${e.uri}`,op:`gcloud.http.${n1(this.apiEndpoint)}`})}t.call(this,e,(...a)=>{i&&i.finish(),r(...a)})}}o(r1,"wrapRequestFunction");function n1(t){let e=t.match(/^https:\/\/(\w+)\.googleapis.com$/);return e?e[1]:t.replace(/^(http|https)?:\/\//,"")}o(n1,"identifyService")});var fh=p(rc=>{Object.defineProperty(rc,"__esModule",{value:!0});var yn=ge(),i1=$u(),tc=I(),gs=xr(),{parseRequest:s1}=yn.Handlers;function a1(t,e={}){let r=o(s=>gs.domainify(o1(s,e)),"wrap"),n,i=t.__emulator_func;return i&&(n={__emulator_func:gs.proxyFunction(i,r)}),gs.proxyFunction(t,r,n)}o(a1,"wrapHttpFunction");rc.wrapHttpFunction=a1;function o1(t,e={}){let r=ee({flushTimeout:2e3,parseRequestOptions:{}},e);return(n,i)=>{let s=(n.method||"").toUpperCase(),a=tc.stripUrlQueryAndFragment(n.originalUrl||n.url||""),u,c=n;c.headers&&tc.isString(c.headers["sentry-trace"])&&(u=i1.extractTraceparentData(c.headers["sentry-trace"]));let l=yn.startTransaction(ee({name:`${s} ${a}`,op:"gcp.function.http"},u));yn.getCurrentHub().configureScope(d=>{d.addEventProcessor(_=>s1(_,n,r.parseRequestOptions)),d.setSpan(l)}),i.__sentry_transaction=l,gs.getActiveDomain().on("error",d=>{yn.captureException(d)});let f=i.end;return i.end=function(d,_,h){l.setHttpStatus(i.statusCode),l.finish(),yn.flush(r.flushTimeout).then(()=>{f.call(this,d,_,h)}).then(null,g=>{tc.logger.error(g)})},t(n,i)}}o(o1,"_wrapHttpFunction")});var ic=p(nc=>{Object.defineProperty(nc,"__esModule",{value:!0});var u1=require("os");function c1(t,e){t.setContext("runtime",{name:"node",version:global.process.version}),t.setTag("server_name",process.env.SENTRY_NAME||u1.hostname()),t.setContext("gcp.function.context",ee({},e))}o(c1,"configureScopeWithContext");nc.configureScopeWithContext=c1});var dh=p(ac=>{Object.defineProperty(ac,"__esModule",{value:!0});var bn=ge(),l1=I(),sc=xr(),f1=ic();function d1(t,e={}){return sc.proxyFunction(t,r=>sc.domainify(p1(r,e)))}o(d1,"wrapEventFunction");ac.wrapEventFunction=d1;function p1(t,e={}){let r=ee({flushTimeout:2e3},e);return(n,i,s)=>{let a=bn.startTransaction({name:i.eventType,op:"gcp.function.event"});bn.getCurrentHub().configureScope(l=>{f1.configureScopeWithContext(l,i),l.setSpan(a)});let u=sc.getActiveDomain();u.on("error",bn.captureException);let c=u.bind((...l)=>{l[0]!==null&&l[0]!==void 0&&bn.captureException(l[0]),a.finish(),bn.flush(r.flushTimeout).then(()=>{s(...l)}).then(null,f=>{l1.logger.error(f)})});return t.length>2?t(n,i,c):Promise.resolve().then(()=>t(n,i)).then(l=>c(null,l),l=>c(l,void 0))}}o(p1,"_wrapEventFunction")});var ph=p(uc=>{Object.defineProperty(uc,"__esModule",{value:!0});var Sn=ge(),_1=I(),oc=xr(),h1=ic();function g1(t,e={}){return oc.proxyFunction(t,r=>oc.domainify(v1(r,e)))}o(g1,"wrapCloudEventFunction");uc.wrapCloudEventFunction=g1;function v1(t,e={}){let r=ee({flushTimeout:2e3},e);return(n,i)=>{let s=Sn.startTransaction({name:n.type||"<unknown>",op:"gcp.function.cloud_event"});Sn.getCurrentHub().configureScope(c=>{h1.configureScopeWithContext(c,n),c.setSpan(s)});let a=oc.getActiveDomain();a.on("error",Sn.captureException);let u=a.bind((...c)=>{c[0]!==null&&c[0]!==void 0&&Sn.captureException(c[0]),s.finish(),Sn.flush(r.flushTimeout).then(()=>{i(...c)}).then(null,l=>{_1.logger.error(l)})});return t.length>1?t(n,u):Promise.resolve().then(()=>t(n)).then(c=>u(null,c),c=>u(c,void 0))}}o(v1,"_wrapCloudEventFunction")});var _h=p(mt=>{Object.defineProperty(mt,"__esModule",{value:!0});var cc=P(),En=ge(),m1=ch(),y1=lh(),b1=xr();cc.__exportStar(fh(),mt);cc.__exportStar(dh(),mt);cc.__exportStar(ph(),mt);mt.defaultIntegrations=[...En.defaultIntegrations,new y1.GoogleCloudHttp({optional:!0}),new m1.GoogleCloudGrpc({optional:!0})];function S1(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=mt.defaultIntegrations),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.serverless",integrations:["GCPFunction"],packages:[{name:"npm:@sentry/serverless",version:En.SDK_VERSION}],version:En.SDK_VERSION},En.init(t),En.addGlobalEventProcessor(b1.serverlessEventProcessor)}o(S1,"init");mt.init=S1});var gh=p(Pr=>{Object.defineProperty(Pr,"__esModule",{value:!0});var hh=P(),E1=oh();Pr.AWSLambda=E1;var T1=_h();Pr.GCPFunction=T1;hh.__exportStar(Xu(),Pr);hh.__exportStar(ge(),Pr)});Nh(exports,{handler:()=>M1});var qh=On(require("assert"));var lc=On(gh());var vh=On(require("assert"));function mh(){return{endpoint:Ae("DECI_S3_ENDPOINT","localhost:4568"),accessKeyId:Ae("DECI_S3_ACCESS_KEY_ID"),secretAccessKey:Ae("DECI_S3_SECRET_ACCESS_KEY"),buckets:{pads:Ae("DECI_S3_PADS_BUCKET"),attachments:Ae("DECI_S3_ATTACHMENTS_BUCKET")}}}o(mh,"s3");function yh(){return{sentry:{dsn:Ae("SENTRY_DSN","")}}}o(yh,"monitor");function bh(){return{urlBase:Ae("DECI_APP_URL_BASE","http://localhost:4200"),limits:{maxAttachmentSize:Number(Ae("DECI_MAX_ATTACHMENT_SIZE","10485760")),maxAttachmentUploadTokenExpirationSeconds:Number(Ae("DECI_MAX_ATTACHMENT_UPLOAD_TOKEN_EXPIRATION_SECONDS","600")),maxAttachmentDownloadTokenExpirationSeconds:Number(Ae("DECI_MAX_ATTACHMENT_DOWNLOAD_TOKEN_EXPIRATION_SECONDS","600"))}}}o(bh,"app");function Ae(t,e=void 0){let r=process.env[t];return r==null&&(e!==void 0?r=e:(0,vh.fail)(`${t} env var must be defined`)),r}o(Ae,"env");var Sh="0.0.1";var{sentry:{dsn:fc}}=yh();fc&&lc.AWSLambda.init({dsn:fc,tracesSampleRate:1,environment:process.env.NODE_ENV,release:Sh});function Eh(t,e={}){if(fc){let{rethrow:r=!0}=e;return lc.AWSLambda.wrapHandler(t,{rethrowAfterCapture:r})}return t}o(Eh,"wrapHandler");function dc(t){return Eh(async e=>{for(let r of e.Records){let n=JSON.parse(r.body);await t(n)}return{statusCode:200}},{rethrow:!1})}o(dc,"queueHandler");var Th=On(require("aws-sdk/clients/s3"));var wh=mh(),{buckets:w1}=wh,q1=mc(wh,["buckets"]),I1=gc(ee({},q1),{sslEnabled:process.env.NODE_ENV!=="testing",s3ForcePathStyle:!0,signatureVersion:"v4"}),x1=w1.attachments,R1=new Th.default(I1),{limits:{maxAttachmentSize:Xx,maxAttachmentUploadTokenExpirationSeconds:Zx,maxAttachmentDownloadTokenExpirationSeconds:Qx}}=bh();async function Oh(t){t.startsWith("/")&&(t=t.substring(1)),await R1.deleteObject({Bucket:x1,Key:t})}o(Oh,"remove");var M1=dc(P1);async function P1(t){let{table:e,action:r,recordBeforeDelete:n}=t;qh.default.equal(e,"fileattachments"),r==="delete"&&(!n||await Oh(n.filename))}o(P1,"attachmentsChangesHandler");0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
