var Ah=Object.create;var Nt=Object.defineProperty,Nh=Object.defineProperties,jh=Object.getOwnPropertyDescriptor,Dh=Object.getOwnPropertyDescriptors,Fh=Object.getOwnPropertyNames,On=Object.getOwnPropertySymbols,Hh=Object.getPrototypeOf,vs=Object.prototype.hasOwnProperty,gc=Object.prototype.propertyIsEnumerable;var vc=(t,e,r)=>e in t?Nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ee=(t,e)=>{for(var r in e||(e={}))vs.call(e,r)&&vc(t,r,e[r]);if(On)for(var r of On(e))gc.call(e,r)&&vc(t,r,e[r]);return t},mc=(t,e)=>Nh(t,Dh(e)),yc=t=>Nt(t,"__esModule",{value:!0}),o=(t,e)=>Nt(t,"name",{value:e,configurable:!0});var bc=(t,e)=>{var r={};for(var n in t)vs.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&On)for(var n of On(t))e.indexOf(n)<0&&gc.call(t,n)&&(r[n]=t[n]);return r};var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Uh=(t,e)=>{yc(t);for(var r in e)Nt(t,r,{get:e[r],enumerable:!0})},Lh=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Fh(e))!vs.call(t,n)&&n!=="default"&&Nt(t,n,{get:()=>e[n],enumerable:!(r=jh(e,n))||r.enumerable});return t},ms=t=>Lh(yc(Nt(t!=null?Ah(Hh(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var P=p((eq,qn)=>{var Cc,kc,Ac,Nc,jc,Dc,Fc,Hc,Uc,wn,bs,Lc,Bc,jt,Gc,Wc,Yc,zc,$c,Vc,Kc,Jc,Xc;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof qn=="object"&&typeof qn.exports=="object"?t(r(e,r(qn.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}o(r,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};Cc=o(function(r,n){e(r,n);function i(){this.constructor=r}o(i,"__"),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},"__extends"),kc=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Ac=o(function(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i},"__rest"),Nc=o(function(r,n,i,s){var a=arguments.length,u=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,s);else for(var l=r.length-1;l>=0;l--)(c=r[l])&&(u=(a<3?c(u):a>3?c(n,i,u):c(n,i))||u);return a>3&&u&&Object.defineProperty(n,i,u),u},"__decorate"),jc=o(function(r,n){return function(i,s){n(i,s,r)}},"__param"),Dc=o(function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},"__metadata"),Fc=o(function(r,n,i,s){function a(u){return u instanceof i?u:new i(function(c){c(u)})}return o(a,"adopt"),new(i||(i=Promise))(function(u,c){function l(_){try{d(s.next(_))}catch(h){c(h)}}o(l,"fulfilled");function f(_){try{d(s.throw(_))}catch(h){c(h)}}o(f,"rejected");function d(_){_.done?u(_.value):a(_.value).then(l,f)}o(d,"step"),d((s=s.apply(r,n||[])).next())})},"__awaiter"),Hc=o(function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(d){return function(_){return f([d,_])}}function f(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,a&&(u=d[0]&2?a.return:d[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,d[1])).done)return u;switch(a=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,a=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){i.label=d[1];break}if(d[0]===6&&i.label<u[1]){i.label=u[1],u=d;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(d);break}u[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(r,i)}catch(_){d=[6,_],a=0}finally{s=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},"__generator"),Xc=o(function(r,n,i,s){s===void 0&&(s=i),r[s]=n[i]},"__createBinding"),Uc=o(function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},"__exportStar"),wn=o(function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),bs=o(function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),a,u=[],c;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(l){c={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(c)throw c.error}}return u},"__read"),Lc=o(function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(bs(arguments[n]));return r},"__spread"),Bc=o(function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var s=Array(r),a=0,n=0;n<i;n++)for(var u=arguments[n],c=0,l=u.length;c<l;c++,a++)s[a]=u[c];return s},"__spreadArrays"),jt=o(function(r){return this instanceof jt?(this.v=r,this):new jt(r)},"__await"),Gc=o(function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,n||[]),a,u=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(g){s[g]&&(a[g]=function(v){return new Promise(function(m,S){u.push([g,v,m,S])>1||l(g,v)})})}function l(g,v){try{f(s[g](v))}catch(m){h(u[0][3],m)}}function f(g){g.value instanceof jt?Promise.resolve(g.value.v).then(d,_):h(u[0][2],g)}function d(g){l("next",g)}function _(g){l("throw",g)}function h(g,v){g(v),u.shift(),u.length&&l(u[0][0],u[0][1])}},"__asyncGenerator"),Wc=o(function(r){var n,i;return n={},s("next"),s("throw",function(a){throw a}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(a,u){n[a]=r[a]?function(c){return(i=!i)?{value:jt(r[a](c)),done:a==="return"}:u?u(c):c}:u}},"__asyncDelegator"),Yc=o(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof wn=="function"?wn(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=r[u]&&function(c){return new Promise(function(l,f){c=r[u](c),a(l,f,c.done,c.value)})}}function a(u,c,l,f){Promise.resolve(f).then(function(d){u({value:d,done:l})},c)}},"__asyncValues"),zc=o(function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},"__makeTemplateObject"),$c=o(function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},"__importStar"),Vc=o(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),Kc=o(function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},"__classPrivateFieldGet"),Jc=o(function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},"__classPrivateFieldSet"),t("__extends",Cc),t("__assign",kc),t("__rest",Ac),t("__decorate",Nc),t("__param",jc),t("__metadata",Dc),t("__awaiter",Fc),t("__generator",Hc),t("__exportStar",Uc),t("__createBinding",Xc),t("__values",wn),t("__read",bs),t("__spread",Lc),t("__spreadArrays",Bc),t("__await",jt),t("__asyncGenerator",Gc),t("__asyncDelegator",Wc),t("__asyncValues",Yc),t("__makeTemplateObject",zc),t("__importStar",$c),t("__importDefault",Vc),t("__classPrivateFieldGet",Kc),t("__classPrivateFieldSet",Jc)})});var T=p((tq,xn)=>{var Zc,Qc,el,tl,rl,nl,il,sl,al,In,Ss,ol,ul,Dt,cl,ll,fl,dl,pl,_l,hl,gl,vl;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof xn=="object"&&typeof xn.exports=="object"?t(r(e,r(xn.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}o(r,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};Zc=o(function(r,n){e(r,n);function i(){this.constructor=r}o(i,"__"),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},"__extends"),Qc=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},el=o(function(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i},"__rest"),tl=o(function(r,n,i,s){var a=arguments.length,u=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,s);else for(var l=r.length-1;l>=0;l--)(c=r[l])&&(u=(a<3?c(u):a>3?c(n,i,u):c(n,i))||u);return a>3&&u&&Object.defineProperty(n,i,u),u},"__decorate"),rl=o(function(r,n){return function(i,s){n(i,s,r)}},"__param"),nl=o(function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},"__metadata"),il=o(function(r,n,i,s){function a(u){return u instanceof i?u:new i(function(c){c(u)})}return o(a,"adopt"),new(i||(i=Promise))(function(u,c){function l(_){try{d(s.next(_))}catch(h){c(h)}}o(l,"fulfilled");function f(_){try{d(s.throw(_))}catch(h){c(h)}}o(f,"rejected");function d(_){_.done?u(_.value):a(_.value).then(l,f)}o(d,"step"),d((s=s.apply(r,n||[])).next())})},"__awaiter"),sl=o(function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(d){return function(_){return f([d,_])}}function f(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,a&&(u=d[0]&2?a.return:d[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,d[1])).done)return u;switch(a=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,a=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){i.label=d[1];break}if(d[0]===6&&i.label<u[1]){i.label=u[1],u=d;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(d);break}u[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(r,i)}catch(_){d=[6,_],a=0}finally{s=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},"__generator"),vl=o(function(r,n,i,s){s===void 0&&(s=i),r[s]=n[i]},"__createBinding"),al=o(function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},"__exportStar"),In=o(function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),Ss=o(function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),a,u=[],c;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(l){c={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(c)throw c.error}}return u},"__read"),ol=o(function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Ss(arguments[n]));return r},"__spread"),ul=o(function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var s=Array(r),a=0,n=0;n<i;n++)for(var u=arguments[n],c=0,l=u.length;c<l;c++,a++)s[a]=u[c];return s},"__spreadArrays"),Dt=o(function(r){return this instanceof Dt?(this.v=r,this):new Dt(r)},"__await"),cl=o(function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,n||[]),a,u=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(g){s[g]&&(a[g]=function(v){return new Promise(function(m,S){u.push([g,v,m,S])>1||l(g,v)})})}function l(g,v){try{f(s[g](v))}catch(m){h(u[0][3],m)}}function f(g){g.value instanceof Dt?Promise.resolve(g.value.v).then(d,_):h(u[0][2],g)}function d(g){l("next",g)}function _(g){l("throw",g)}function h(g,v){g(v),u.shift(),u.length&&l(u[0][0],u[0][1])}},"__asyncGenerator"),ll=o(function(r){var n,i;return n={},s("next"),s("throw",function(a){throw a}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(a,u){n[a]=r[a]?function(c){return(i=!i)?{value:Dt(r[a](c)),done:a==="return"}:u?u(c):c}:u}},"__asyncDelegator"),fl=o(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof In=="function"?In(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=r[u]&&function(c){return new Promise(function(l,f){c=r[u](c),a(l,f,c.done,c.value)})}}function a(u,c,l,f){Promise.resolve(f).then(function(d){u({value:d,done:l})},c)}},"__asyncValues"),dl=o(function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},"__makeTemplateObject"),pl=o(function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},"__importStar"),_l=o(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),hl=o(function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},"__classPrivateFieldGet"),gl=o(function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},"__classPrivateFieldSet"),t("__extends",Zc),t("__assign",Qc),t("__rest",el),t("__decorate",tl),t("__param",rl),t("__metadata",nl),t("__awaiter",il),t("__generator",sl),t("__exportStar",al),t("__createBinding",vl),t("__values",In),t("__read",Ss),t("__spread",ol),t("__spreadArrays",ul),t("__await",Dt),t("__asyncGenerator",cl),t("__asyncDelegator",ll),t("__asyncValues",fl),t("__makeTemplateObject",dl),t("__importStar",pl),t("__importDefault",_l),t("__classPrivateFieldGet",hl),t("__classPrivateFieldSet",gl)})});var ml=p(Rn=>{Object.defineProperty(Rn,"__esModule",{value:!0});var Yh;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"})(Yh=Rn.LogLevel||(Rn.LogLevel={}))});var yl=p(Ft=>{Object.defineProperty(Ft,"__esModule",{value:!0});var zh;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(zh=Ft.SessionStatus||(Ft.SessionStatus={}));var $h;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})($h=Ft.RequestSessionStatus||(Ft.RequestSessionStatus={}))});var Sl=p(Ht=>{Object.defineProperty(Ht,"__esModule",{value:!0});var bl;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(bl=Ht.Severity||(Ht.Severity={}));(function(t){function e(r){switch(r){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}o(e,"fromString"),t.fromString=e})(bl=Ht.Severity||(Ht.Severity={}))});var Tl=p(Ut=>{Object.defineProperty(Ut,"__esModule",{value:!0});var El;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(El=Ut.Status||(Ut.Status={}));(function(t){function e(r){return r>=200&&r<300?t.Success:r===429?t.RateLimit:r>=400&&r<500?t.Invalid:r>=500?t.Failed:t.Unknown}o(e,"fromHttpCode"),t.fromHttpCode=e})(El=Ut.Status||(Ut.Status={}))});var Ol=p(Mn=>{Object.defineProperty(Mn,"__esModule",{value:!0});var Vh;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(Vh=Mn.TransactionSamplingMethod||(Mn.TransactionSamplingMethod={}))});var J=p(et=>{Object.defineProperty(et,"__esModule",{value:!0});var Kh=ml();et.LogLevel=Kh.LogLevel;var wl=yl();et.SessionStatus=wl.SessionStatus;et.RequestSessionStatus=wl.RequestSessionStatus;var Jh=Sl();et.Severity=Jh.Severity;var Xh=Tl();et.Status=Xh.Status;var Zh=Ol();et.TransactionSamplingMethod=Zh.TransactionSamplingMethod});var ql=p(Es=>{Object.defineProperty(Es,"__esModule",{value:!0});function Qh(t){t.then(null,function(e){console.error(e)})}o(Qh,"forget");Es.forget=Qh});var mt=p(X=>{Object.defineProperty(X,"__esModule",{value:!0});function eg(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return Pn(t,Error)}}o(eg,"isError");X.isError=eg;function tg(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}o(tg,"isErrorEvent");X.isErrorEvent=tg;function rg(t){return Object.prototype.toString.call(t)==="[object DOMError]"}o(rg,"isDOMError");X.isDOMError=rg;function ng(t){return Object.prototype.toString.call(t)==="[object DOMException]"}o(ng,"isDOMException");X.isDOMException=ng;function ig(t){return Object.prototype.toString.call(t)==="[object String]"}o(ig,"isString");X.isString=ig;function sg(t){return t===null||typeof t!="object"&&typeof t!="function"}o(sg,"isPrimitive");X.isPrimitive=sg;function Il(t){return Object.prototype.toString.call(t)==="[object Object]"}o(Il,"isPlainObject");X.isPlainObject=Il;function ag(t){return typeof Event!="undefined"&&Pn(t,Event)}o(ag,"isEvent");X.isEvent=ag;function og(t){return typeof Element!="undefined"&&Pn(t,Element)}o(og,"isElement");X.isElement=og;function ug(t){return Object.prototype.toString.call(t)==="[object RegExp]"}o(ug,"isRegExp");X.isRegExp=ug;function cg(t){return Boolean(t&&t.then&&typeof t.then=="function")}o(cg,"isThenable");X.isThenable=cg;function lg(t){return Il(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(lg,"isSyntheticEvent");X.isSyntheticEvent=lg;function Pn(t,e){try{return t instanceof e}catch(r){return!1}}o(Pn,"isInstanceOf");X.isInstanceOf=Pn});var Os=p(Ts=>{Object.defineProperty(Ts,"__esModule",{value:!0});var fg=mt();function dg(t,e){try{for(var r=t,n=5,i=80,s=[],a=0,u=0,c=" > ",l=c.length,f=void 0;r&&a++<n&&(f=pg(r,e),!(f==="html"||a>1&&u+s.length*l+f.length>=i));)s.push(f),u+=f.length,r=r.parentNode;return s.reverse().join(c)}catch(d){return"<unknown>"}}o(dg,"htmlTreeAsString");Ts.htmlTreeAsString=dg;function pg(t,e){var r,n,i=t,s=[],a,u,c,l,f;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var d=((r=e)===null||r===void 0?void 0:r.length)?e.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((n=d)===null||n===void 0?void 0:n.length)d.forEach(function(h){s.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&s.push("#"+i.id),a=i.className,a&&fg.isString(a))for(u=a.split(/\s+/),f=0;f<u.length;f++)s.push("."+u[f]);var _=["type","name","title","alt"];for(f=0;f<_.length;f++)c=_[f],l=i.getAttribute(c),l&&s.push("["+c+'="'+l+'"]');return s.join("")}o(pg,"_htmlElementAsString")});var xl=p(ws=>{Object.defineProperty(ws,"__esModule",{value:!0});ws.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?_g:hg);function _g(t,e){return t.__proto__=e,t}o(_g,"setProtoOf");function hg(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}o(hg,"mixinProperties")});var Cn=p(qs=>{Object.defineProperty(qs,"__esModule",{value:!0});var gg=T(),vg=xl(),mg=function(t){gg.__extends(e,t);function e(r){var n=this.constructor,i=t.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,vg.setPrototypeOf(i,n.prototype),i}return o(e,"SentryError"),e}(Error);qs.SentryError=mg});var Rl=p(Is=>{Object.defineProperty(Is,"__esModule",{value:!0});var yg=T(),kr=Cn(),bg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Ar="Invalid Dsn",Sg=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return o(t,"Dsn"),t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this,n=r.host,i=r.path,s=r.pass,a=r.port,u=r.projectId,c=r.protocol,l=r.publicKey;return c+"://"+l+(e&&s?":"+s:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+u)},t.prototype._fromString=function(e){var r=bg.exec(e);if(!r)throw new kr.SentryError(Ar);var n=yg.__read(r.slice(1),6),i=n[0],s=n[1],a=n[2],u=a===void 0?"":a,c=n[3],l=n[4],f=l===void 0?"":l,d=n[5],_="",h=d,g=h.split("/");if(g.length>1&&(_=g.slice(0,-1).join("/"),h=g.pop()),h){var v=h.match(/^\d+/);v&&(h=v[0])}this._fromComponents({host:c,pass:u,path:_,projectId:h,port:f,protocol:i,publicKey:s})},t.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!e[r])throw new kr.SentryError(Ar+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new kr.SentryError(Ar+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new kr.SentryError(Ar+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new kr.SentryError(Ar+": Invalid port "+this.port)},t}();Is.Dsn=Sg});var Nn=p((Nr,An)=>{Object.defineProperty(Nr,"__esModule",{value:!0});function Eg(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}o(Eg,"isNodeEnv");Nr.isNodeEnv=Eg;function kn(t,e){return t.require(e)}o(kn,"dynamicRequire");Nr.dynamicRequire=kn;function Tg(t){var e;try{e=kn(An,t)}catch(n){}try{var r=kn(An,"process").cwd;e=kn(An,r()+"/node_modules/"+t)}catch(n){}return e}o(Tg,"loadModule");Nr.loadModule=Tg});var jn=p(Lt=>{Object.defineProperty(Lt,"__esModule",{value:!0});var Ml=mt();function Og(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}o(Og,"truncate");Lt.truncate=Og;function wg(t,e){var r=t,n=r.length;if(n<=150)return r;e>n&&(e=n);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}o(wg,"snipLine");Lt.snipLine=wg;function qg(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch(s){r.push("[value cannot be serialized]")}}return r.join(e)}o(qg,"safeJoin");Lt.safeJoin=qg;function Ig(t,e){return Ml.isString(t)?Ml.isRegExp(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}o(Ig,"isMatchingPattern");Lt.isMatchingPattern=Ig});var Bt=p(te=>{Object.defineProperty(te,"__esModule",{value:!0});var xg=Nn(),xs=jn(),Rg={};function Rs(){return xg.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:Rg}o(Rs,"getGlobalObject");te.getGlobalObject=Rs;function Mg(){var t=Rs(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=o(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,a=i==="x"?s:s&3|8;return a.toString(16)})}o(Mg,"uuid4");te.uuid4=Mg;function Pg(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}o(Pg,"parseUrl");te.parseUrl=Pg;function Cg(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}o(Cg,"getEventDescription");te.getEventDescription=Cg;function kg(t){var e=Rs(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach(function(a){a in e.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var s=t();return Object.keys(i).forEach(function(a){n[a]=i[a]}),s}o(kg,"consoleSandbox");te.consoleSandbox=kg;function Ag(t,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||r||"Error"}o(Ag,"addExceptionTypeValue");te.addExceptionTypeValue=Ag;function Ng(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(r){t.exception.values[0].mechanism[r]=e[r]})}catch(r){}}o(Ng,"addExceptionMechanism");te.addExceptionMechanism=Ng;function jg(){try{return document.location.href}catch(t){return""}}o(jg,"getLocationHref");te.getLocationHref=jg;var Dg=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function Fg(t){var e=t.match(Dg)||[],r=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:e[4]}}o(Fg,"parseSemver");te.parseSemver=Fg;var Pl=60*1e3;function Hg(t,e){if(!e)return Pl;var r=parseInt(""+e,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+e);return isNaN(n)?Pl:n-t}o(Hg,"parseRetryAfterHeader");te.parseRetryAfterHeader=Hg;function Ug(t,e,r){r===void 0&&(r=5);var n=e.lineno||0,i=t.length,s=Math.max(Math.min(i,n-1),0);e.pre_context=t.slice(Math.max(0,s-r),s).map(function(a){return xs.snipLine(a,0)}),e.context_line=xs.snipLine(t[Math.min(i-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,i),s+1+r).map(function(a){return xs.snipLine(a,0)})}o(Ug,"addContextToFrame");te.addContextToFrame=Ug;function Lg(t){return t.split(/[\?#]/,1)[0]}o(Lg,"stripUrlQueryAndFragment");te.stripUrlQueryAndFragment=Lg});var Fn=p(Ps=>{Object.defineProperty(Ps,"__esModule",{value:!0});var Dn=Bt(),yt=Dn.getGlobalObject(),Ms="Sentry Logger ",Bg=function(){function t(){this._enabled=!1}return o(t,"Logger"),t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Dn.consoleSandbox(function(){yt.console.log(Ms+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Dn.consoleSandbox(function(){yt.console.warn(Ms+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Dn.consoleSandbox(function(){yt.console.error(Ms+"[Error]: "+e.join(" "))})},t}();yt.__SENTRY__=yt.__SENTRY__||{};var Gg=yt.__SENTRY__.logger||(yt.__SENTRY__.logger=new Bg);Ps.logger=Gg});var ks=p(Cs=>{Object.defineProperty(Cs,"__esModule",{value:!0});var Wg=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return o(t,"Memo"),t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===e){this._inner.splice(r,1);break}},t}();Cs.Memo=Wg});var Hn=p(Ns=>{Object.defineProperty(Ns,"__esModule",{value:!0});var As="<anonymous>";function Yg(t){try{return!t||typeof t!="function"?As:t.name||As}catch(e){return As}}o(Yg,"getFunctionName");Ns.getFunctionName=Yg});var Fs=p(Ne=>{Object.defineProperty(Ne,"__esModule",{value:!0});var zg=T(),Cl=Os(),Ae=mt(),$g=ks(),Vg=Hn(),kl=jn();function Kg(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(s){}t[e]=i}}o(Kg,"fill");Ne.fill=Kg;function Jg(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}o(Jg,"urlEncode");Ne.urlEncode=Jg;function Al(t){if(Ae.isError(t)){var e=t,r={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}if(Ae.isEvent(t)){var i=t,s={};s.type=i.type;try{s.target=Ae.isElement(i.target)?Cl.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(a){s.target="<unknown>"}try{s.currentTarget=Ae.isElement(i.currentTarget)?Cl.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(a){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&Ae.isInstanceOf(t,CustomEvent)&&(s.detail=i.detail);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i);return s}return t}o(Al,"getWalkSource");function Xg(t){return~-encodeURI(t).split(/%..|./).length}o(Xg,"utf8Length");function Zg(t){return Xg(JSON.stringify(t))}o(Zg,"jsonSize");function Nl(t,e,r){e===void 0&&(e=3),r===void 0&&(r=100*1024);var n=Dl(t,e);return Zg(n)>r?Nl(t,e-1,r):n}o(Nl,"normalizeToSize");Ne.normalizeToSize=Nl;function Qg(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var r=jl(t);return Ae.isPrimitive(r)?r:e}o(Qg,"serializeValue");function jl(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":Ae.isSyntheticEvent(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+Vg.getFunctionName(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}o(jl,"normalizeValue");function js(t,e,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new $g.Memo),r===0)return Qg(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var i=jl(e,t);if(Ae.isPrimitive(i))return i;var s=Al(e),a=Array.isArray(e)?[]:{};if(n.memoize(e))return"[Circular ~]";for(var u in s)!Object.prototype.hasOwnProperty.call(s,u)||(a[u]=js(u,s[u],r-1,n));return n.unmemoize(e),a}o(js,"walk");Ne.walk=js;function Dl(t,e){try{return JSON.parse(JSON.stringify(t,function(r,n){return js(r,n,e)}))}catch(r){return"**non-serializable**"}}o(Dl,"normalize");Ne.normalize=Dl;function ev(t,e){e===void 0&&(e=40);var r=Object.keys(Al(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return kl.truncate(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:kl.truncate(i,e)}return""}o(ev,"extractExceptionKeysForMessage");Ne.extractExceptionKeysForMessage=ev;function Ds(t){var e,r;if(Ae.isPlainObject(t)){var n=t,i={};try{for(var s=zg.__values(Object.keys(n)),a=s.next();!a.done;a=s.next()){var u=a.value;typeof n[u]!="undefined"&&(i[u]=Ds(n[u]))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(Ds):t}o(Ds,"dropUndefinedKeys");Ne.dropUndefinedKeys=Ds});var Ls=p(be=>{Object.defineProperty(be,"__esModule",{value:!0});var tv=Fn(),Un=Bt();function rv(){try{return new ErrorEvent(""),!0}catch(t){return!1}}o(rv,"supportsErrorEvent");be.supportsErrorEvent=rv;function nv(){try{return new DOMError(""),!0}catch(t){return!1}}o(nv,"supportsDOMError");be.supportsDOMError=nv;function iv(){try{return new DOMException(""),!0}catch(t){return!1}}o(iv,"supportsDOMException");be.supportsDOMException=iv;function Hs(){if(!("fetch"in Un.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}o(Hs,"supportsFetch");be.supportsFetch=Hs;function Us(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(Us,"isNativeFetch");be.isNativeFetch=Us;function sv(){if(!Hs())return!1;var t=Un.getGlobalObject();if(Us(t.fetch))return!0;var e=!1,r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Us(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){tv.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}o(sv,"supportsNativeFetch");be.supportsNativeFetch=sv;function av(){return"ReportingObserver"in Un.getGlobalObject()}o(av,"supportsReportingObserver");be.supportsReportingObserver=av;function ov(){if(!Hs())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}o(ov,"supportsReferrerPolicy");be.supportsReferrerPolicy=ov;function uv(){var t=Un.getGlobalObject(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}o(uv,"supportsHistory");be.supportsHistory=uv});var Bl=p(Ws=>{Object.defineProperty(Ws,"__esModule",{value:!0});var Gt=T(),Ln=mt(),Fl=Fn(),cv=Bt(),je=Fs(),lv=Hn(),Hl=Ls(),R=cv.getGlobalObject(),jr={},Ul={};function fv(t){if(!Ul[t])switch(Ul[t]=!0,t){case"console":pv();break;case"dom":Ev();break;case"xhr":vv();break;case"fetch":_v();break;case"history":mv();break;case"error":Tv();break;case"unhandledrejection":Ov();break;default:Fl.logger.warn("unknown instrumentation type:",t)}}o(fv,"instrument");function dv(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(jr[t.type]=jr[t.type]||[],jr[t.type].push(t.callback),fv(t.type))}o(dv,"addInstrumentationHandler");Ws.addInstrumentationHandler=dv;function Se(t,e){var r,n;if(!(!t||!jr[t]))try{for(var i=Gt.__values(jr[t]||[]),s=i.next();!s.done;s=i.next()){var a=s.value;try{a(e)}catch(u){Fl.logger.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+lv.getFunctionName(a)+`
Error: `+u)}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}o(Se,"triggerHandlers");function pv(){"console"in R&&["debug","info","warn","error","log","assert"].forEach(function(t){t in R.console&&je.fill(R.console,t,function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Se("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,R.console,r)}})})}o(pv,"instrumentConsole");function _v(){!Hl.supportsNativeFetch()||je.fill(R,"fetch",function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:hv(e),url:gv(e)},startTimestamp:Date.now()};return Se("fetch",Gt.__assign({},n)),t.apply(R,e).then(function(i){return Se("fetch",Gt.__assign(Gt.__assign({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw Se("fetch",Gt.__assign(Gt.__assign({},n),{endTimestamp:Date.now(),error:i})),i})}})}o(_v,"instrumentFetch");function hv(t){return t===void 0&&(t=[]),"Request"in R&&Ln.isInstanceOf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}o(hv,"getFetchMethod");function gv(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in R&&Ln.isInstanceOf(t[0],Request)?t[0].url:String(t[0])}o(gv,"getFetchUrl");function vv(){if("XMLHttpRequest"in R){var t=[],e=[],r=XMLHttpRequest.prototype;je.fill(r,"open",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=this,u=i[1];a.__sentry_xhr__={method:Ln.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},Ln.isString(u)&&a.__sentry_xhr__.method==="POST"&&u.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=o(function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(d){}try{var l=t.indexOf(a);if(l!==-1){t.splice(l);var f=e.splice(l)[0];a.__sentry_xhr__&&f[0]!==void 0&&(a.__sentry_xhr__.body=f[0])}}catch(d){}Se("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}},"onreadystatechangeHandler");return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?je.fill(a,"onreadystatechange",function(l){return function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return c(),l.apply(a,f)}}):a.addEventListener("readystatechange",c),n.apply(a,i)}}),je.fill(r,"send",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return t.push(this),e.push(i),Se("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}o(vv,"instrumentXHR");var Bn;function mv(){if(!Hl.supportsHistory())return;var t=R.onpopstate;R.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=R.location.href,s=Bn;if(Bn=i,Se("history",{from:s,to:i}),t)try{return t.apply(this,r)}catch(a){}};function e(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var a=Bn,u=String(s);Bn=u,Se("history",{from:a,to:u})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),je.fill(R.history,"pushState",e),je.fill(R.history,"replaceState",e)}o(mv,"instrumentHistory");var yv=1e3,Gn,Wn;function bv(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(r){}return!1}o(bv,"shouldShortcircuitPreviousDebounce");function Sv(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(r){}return!0}o(Sv,"shouldSkipDOMEvent");function Ll(t,e){return e===void 0&&(e=!1),function(r){if(!(!r||Wn===r)&&!Sv(r)){var n=r.type==="keypress"?"input":r.type;Gn===void 0?(t({event:r,name:n,global:e}),Wn=r):bv(Wn,r)&&(t({event:r,name:n,global:e}),Wn=r),clearTimeout(Gn),Gn=R.setTimeout(function(){Gn=void 0},yv)}}}o(Ll,"makeDOMEventHandler");function Ev(){if("document"in R){var t=Se.bind(null,"dom"),e=Ll(t,!0);R.document.addEventListener("click",e,!1),R.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(r){var n=R[r]&&R[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(je.fill(n,"addEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=l[s]=l[s]||{refCount:0};if(!f.handler){var d=Ll(t);f.handler=d,i.call(this,s,d,u)}f.refCount+=1}catch(_){}return i.call(this,s,a,u)}}),je.fill(n,"removeEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__||{},f=l[s];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,s,f.handler,u),f.handler=void 0,delete l[s]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(d){}return i.call(this,s,a,u)}}))})}}o(Ev,"instrumentDOM");var Bs=null;function Tv(){Bs=R.onerror,R.onerror=function(t,e,r,n,i){return Se("error",{column:n,error:i,line:r,msg:t,url:e}),Bs?Bs.apply(this,arguments):!1}}o(Tv,"instrumentError");var Gs=null;function Ov(){Gs=R.onunhandledrejection,R.onunhandledrejection=function(t){return Se("unhandledrejection",t),Gs?Gs.apply(this,arguments):!0}}o(Ov,"instrumentUnhandledRejection")});var Vl=p(De=>{Object.defineProperty(De,"__esModule",{value:!0});function Gl(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];i==="."?t.splice(n,1):i===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}o(Gl,"normalizeArray");var wv=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function Wl(t){var e=wv.exec(t);return e?e.slice(1):[]}o(Wl,"splitPath");function Ys(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r="",n=!1,i=t.length-1;i>=-1&&!n;i--){var s=i>=0?t[i]:"/";!s||(r=s+"/"+r,n=s.charAt(0)==="/")}return r=Gl(r.split("/").filter(function(a){return!!a}),!n).join("/"),(n?"/":"")+r||"."}o(Ys,"resolve");De.resolve=Ys;function Yl(t){for(var e=0;e<t.length&&t[e]==="";e++);for(var r=t.length-1;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}o(Yl,"trim");function qv(t,e){t=Ys(t).substr(1),e=Ys(e).substr(1);for(var r=Yl(t.split("/")),n=Yl(e.split("/")),i=Math.min(r.length,n.length),s=i,a=0;a<i;a++)if(r[a]!==n[a]){s=a;break}for(var u=[],a=s;a<r.length;a++)u.push("..");return u=u.concat(n.slice(s)),u.join("/")}o(qv,"relative");De.relative=qv;function zl(t){var e=$l(t),r=t.substr(-1)==="/",n=Gl(t.split("/").filter(function(i){return!!i}),!e).join("/");return!n&&!e&&(n="."),n&&r&&(n+="/"),(e?"/":"")+n}o(zl,"normalizePath");De.normalizePath=zl;function $l(t){return t.charAt(0)==="/"}o($l,"isAbsolute");De.isAbsolute=$l;function Iv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return zl(t.join("/"))}o(Iv,"join");De.join=Iv;function xv(t){var e=Wl(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}o(xv,"dirname");De.dirname=xv;function Rv(t,e){var r=Wl(t)[2];return e&&r.substr(e.length*-1)===e&&(r=r.substr(0,r.length-e.length)),r}o(Rv,"basename");De.basename=Rv});var $s=p(zs=>{Object.defineProperty(zs,"__esModule",{value:!0});var Mv=mt(),Fe;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(Fe||(Fe={}));var Pv=function(){function t(e){var r=this;this._state=Fe.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(Fe.RESOLVED,n)},this._reject=function(n){r._setResult(Fe.REJECTED,n)},this._setResult=function(n,i){if(r._state===Fe.PENDING){if(Mv.isThenable(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==Fe.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===Fe.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===Fe.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return o(t,"SyncPromise"),t.resolve=function(e){return new t(function(r){r(e)})},t.reject=function(e){return new t(function(r,n){n(e)})},t.all=function(e){return new t(function(r,n){if(!Array.isArray(e)){n(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){r([]);return}var i=e.length,s=[];e.forEach(function(a,u){t.resolve(a).then(function(c){s[u]=c,i-=1,i===0&&r(s)}).then(null,n)})})},t.prototype.then=function(e,r){var n=this;return new t(function(i,s){n._attachHandler({done:!1,onfulfilled:function(a){if(!e){i(a);return}try{i(e(a));return}catch(u){s(u);return}},onrejected:function(a){if(!r){s(a);return}try{i(r(a));return}catch(u){s(u);return}}})})},t.prototype.catch=function(e){return this.then(function(r){return r},e)},t.prototype.finally=function(e){var r=this;return new t(function(n,i){var s,a;return r.then(function(u){a=!1,s=u,e&&e()},function(u){a=!0,s=u,e&&e()}).then(function(){if(a){i(s);return}n(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}();zs.SyncPromise=Pv});var Kl=p(Ks=>{Object.defineProperty(Ks,"__esModule",{value:!0});var Cv=Cn(),Vs=$s(),kv=function(){function t(e){this._limit=e,this._buffer=[]}return o(t,"PromiseBuffer"),t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var r=this;if(!this.isReady())return Vs.SyncPromise.reject(new Cv.SentryError("Not adding Promise due to buffer limit reached."));var n=e();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},t.prototype.remove=function(e){var r=this._buffer.splice(this._buffer.indexOf(e),1)[0];return r},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var r=this;return new Vs.SyncPromise(function(n){var i=setTimeout(function(){e&&e>0&&n(!1)},e);Vs.SyncPromise.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}();Ks.PromiseBuffer=kv});var ef=p((_e,Ql)=>{Object.defineProperty(_e,"__esModule",{value:!0});var Jl=Bt(),Xl=Nn(),Js={nowSeconds:function(){return Date.now()/1e3}};function Av(){var t=Jl.getGlobalObject().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}o(Av,"getBrowserPerformance");function Nv(){try{var t=Xl.dynamicRequire(Ql,"perf_hooks");return t.performance}catch(e){return}}o(Nv,"getNodePerformance");var Yn=Xl.isNodeEnv()?Nv():Av(),Zl=Yn===void 0?Js:{nowSeconds:function(){return(Yn.timeOrigin+Yn.now())/1e3}};_e.dateTimestampInSeconds=Js.nowSeconds.bind(Js);_e.timestampInSeconds=Zl.nowSeconds.bind(Zl);_e.timestampWithMs=_e.timestampInSeconds;_e.usingPerformanceAPI=Yn!==void 0;_e.browserPerformanceTimeOrigin=function(){var t=Jl.getGlobalObject().performance;if(!t||!t.now){_e._browserPerformanceTimeOriginMode="none";return}var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number",c=u?Math.abs(a+r-n):e,l=c<e;return s||l?i<=c?(_e._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(_e._browserPerformanceTimeOriginMode="navigationStart",a):(_e._browserPerformanceTimeOriginMode="dateNow",n)}()});var E=p(k=>{Object.defineProperty(k,"__esModule",{value:!0});var F=T();F.__exportStar(ql(),k);F.__exportStar(Os(),k);F.__exportStar(Rl(),k);F.__exportStar(Cn(),k);F.__exportStar(Bl(),k);F.__exportStar(mt(),k);F.__exportStar(Fn(),k);F.__exportStar(ks(),k);F.__exportStar(Bt(),k);F.__exportStar(Nn(),k);F.__exportStar(Fs(),k);F.__exportStar(Vl(),k);F.__exportStar(Kl(),k);F.__exportStar(Hn(),k);F.__exportStar(jn(),k);F.__exportStar(Ls(),k);F.__exportStar($s(),k);F.__exportStar(ef(),k)});var Xs=p(zn=>{Object.defineProperty(zn,"__esModule",{value:!0});var y=T(),Dr=E(),tf=100,jv=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return o(t,"Scope"),t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=y.__spread(e._breadcrumbs),r._tags=y.__assign({},e._tags),r._extra=y.__assign({},e._extra),r._contexts=y.__assign({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=y.__spread(e._eventProcessors),r._requestSession=e._requestSession),r},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=y.__assign(y.__assign({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,r){var n;return this._tags=y.__assign(y.__assign({},this._tags),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=y.__assign(y.__assign({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,r){var n;return this._extra=y.__assign(y.__assign({},this._extra),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,r){var n;return r===null?delete this._contexts[e]:this._contexts=y.__assign(y.__assign({},this._contexts),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,r,n,i,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(r=s)===null||r===void 0?void 0:r.transaction;if((i=(n=s)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=y.__assign(y.__assign({},this._tags),e._tags),this._extra=y.__assign(y.__assign({},this._extra),e._extra),this._contexts=y.__assign(y.__assign({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Dr.isPlainObject(e)&&(e=e,this._tags=y.__assign(y.__assign({},this._tags),e.tags),this._extra=y.__assign(y.__assign({},this._extra),e.extra),this._contexts=y.__assign(y.__assign({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,r){var n=typeof r=="number"?Math.min(r,tf):tf;if(n<=0)return this;var i=y.__assign({timestamp:Dr.dateTimestampInSeconds()},e);return this._breadcrumbs=y.__spread(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,r){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=y.__assign(y.__assign({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=y.__assign(y.__assign({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=y.__assign(y.__assign({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=y.__assign(y.__assign({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=y.__assign({trace:this._span.getTraceContext()},e.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(e.tags=y.__assign({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=y.__spread(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(y.__spread(rf(),this._eventProcessors),e,r)},t.prototype._notifyEventProcessors=function(e,r,n,i){var s=this;return i===void 0&&(i=0),new Dr.SyncPromise(function(a,u){var c=e[i];if(r===null||typeof c!="function")a(r);else{var l=c(y.__assign({},r),n);Dr.isThenable(l)?l.then(function(f){return s._notifyEventProcessors(e,f,n,i+1).then(a)}).then(null,u):s._notifyEventProcessors(e,l,n,i+1).then(a).then(null,u)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();zn.Scope=jv;function rf(){var t=Dr.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}o(rf,"getGlobalEventProcessors");function Dv(t){rf().push(t)}o(Dv,"addGlobalEventProcessor");zn.addGlobalEventProcessor=Dv});var ea=p(Qs=>{Object.defineProperty(Qs,"__esModule",{value:!0});var Zs=J(),Wt=E(),Fv=function(){function t(e){this.errors=0,this.sid=Wt.uuid4(),this.duration=0,this.status=Zs.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var r=Wt.timestampInSeconds();this.timestamp=r,this.started=r,e&&this.update(e)}return o(t,"Session"),t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Wt.timestampInSeconds(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:Wt.uuid4()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===Zs.SessionStatus.Ok?this.update({status:Zs.SessionStatus.Exited}):this.update()},t.prototype.toJSON=function(){return Wt.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:Wt.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}();Qs.Session=Fv});var na=p(ie=>{Object.defineProperty(ie,"__esModule",{value:!0});var Ee=T(),nf=J(),Te=E(),ta=Xs(),Hv=ea();ie.API_VERSION=4;var Uv=100,$n=function(){function t(e,r,n){r===void 0&&(r=new ta.Scope),n===void 0&&(n=ie.API_VERSION),this._version=n,this._stack=[{}],this.getStackTop().scope=r,this.bindClient(e)}return o(t,"Hub"),t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=ta.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,r){var n=this._lastEventId=Te.uuid4(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,Ee.__assign(Ee.__assign({},i),{event_id:n})),n},t.prototype.captureMessage=function(e,r,n){var i=this._lastEventId=Te.uuid4(),s=n;if(!n){var a=void 0;try{throw new Error(e)}catch(u){a=u}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,r,Ee.__assign(Ee.__assign({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,r){var n=this._lastEventId=Te.uuid4();return this._invokeClient("captureEvent",e,Ee.__assign(Ee.__assign({},r),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var a=s.getOptions&&s.getOptions()||{},u=a.beforeBreadcrumb,c=u===void 0?null:u,l=a.maxBreadcrumbs,f=l===void 0?Uv:l;if(!(f<=0)){var d=Te.dateTimestampInSeconds(),_=Ee.__assign({timestamp:d},e),h=c?Te.consoleSandbox(function(){return c(_,r)}):_;h!==null&&i.addBreadcrumb(h,f)}}},t.prototype.setUser=function(e){var r=this.getScope();r&&r.setUser(e)},t.prototype.setTags=function(e){var r=this.getScope();r&&r.setTags(e)},t.prototype.setExtras=function(e){var r=this.getScope();r&&r.setExtras(e)},t.prototype.setTag=function(e,r){var n=this.getScope();n&&n.setTag(e,r)},t.prototype.setExtra=function(e,r){var n=this.getScope();n&&n.setExtra(e,r)},t.prototype.setContext=function(e,r){var n=this.getScope();n&&n.setContext(e,r)},t.prototype.configureScope=function(e){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&e(n)},t.prototype.run=function(e){var r=ra(this);try{e(this)}finally{ra(r)}},t.prototype.getIntegration=function(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch(n){return Te.logger.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,r){return this._callExtensionMethod("startTransaction",e,r)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,r,n,i,s;(n=(r=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},t.prototype.startSession=function(e){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},a=s.release,u=s.environment,c=Te.getGlobalObject(),l=(c.navigator||{}).userAgent,f=new Hv.Session(Ee.__assign(Ee.__assign(Ee.__assign({release:a,environment:u},n&&{user:n.getUser()}),l&&{userAgent:l}),e));if(n){var d=n.getSession&&n.getSession();d&&d.status===nf.SessionStatus.Ok&&d.update({status:nf.SessionStatus.Exited}),this.endSession(),n.setSession(f)}return f},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),r=e.scope,n=e.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,u=s.client;u&&u[e]&&(r=u)[e].apply(r,Ee.__spread(n,[a]))},t.prototype._callExtensionMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Yt(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);Te.logger.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();ie.Hub=$n;function Yt(){var t=Te.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}o(Yt,"getMainCarrier");ie.getMainCarrier=Yt;function ra(t){var e=Yt(),r=He(e);return Vn(e,t),r}o(ra,"makeMain");ie.makeMain=ra;function Lv(){var t=Yt();return(!sf(t)||He(t).isOlderThan(ie.API_VERSION))&&Vn(t,new $n),Te.isNodeEnv()?Gv(t):He(t)}o(Lv,"getCurrentHub");ie.getCurrentHub=Lv;function Bv(){Te.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var t=Yt().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}o(Bv,"getActiveDomain");ie.getActiveDomain=Bv;function Gv(t){var e,r,n;try{var i=(n=(r=(e=Yt().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return He(t);if(!sf(i)||He(i).isOlderThan(ie.API_VERSION)){var s=He(t).getStackTop();Vn(i,new $n(s.client,ta.Scope.clone(s.scope)))}return He(i)}catch(a){return He(t)}}o(Gv,"getHubFromActiveDomain");function sf(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}o(sf,"hasHubOnCarrier");function He(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new $n),t.__SENTRY__.hub}o(He,"getHubFromCarrier");ie.getHubFromCarrier=He;function Vn(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}o(Vn,"setHubOnCarrier");ie.setHubOnCarrier=Vn});var af=p(aa=>{Object.defineProperty(aa,"__esModule",{value:!0});var ia=J(),sa=E(),Wv=na(),Yv=function(){function t(e,r){var n=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=e,this._intervalId=setInterval(function(){return n.flush()},this.flushTimeout*1e3),this._sessionAttrs=r}return o(t,"SessionFlusher"),t.prototype.sendSessionAggregates=function(e){if(!this._transport.sendSession){sa.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){sa.logger.error("Error while sending session: "+r)})},t.prototype.flush=function(){var e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(e))},t.prototype.getSessionAggregates=function(){var e=this,r=Object.keys(this._pendingAggregates).map(function(i){return e._pendingAggregates[parseInt(i)]}),n={attrs:this._sessionAttrs,aggregates:r};return sa.dropUndefinedKeys(n)},t.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},t.prototype.incrementSessionStatusCount=function(){var e,r;if(!!this._isEnabled){var n=Wv.getCurrentHub().getScope(),i=(e=n)===null||e===void 0?void 0:e.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(r=n)===null||r===void 0||r.setRequestSession(void 0))}},t.prototype._incrementSessionStatusCount=function(e,r){var n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var i=this._pendingAggregates[n];switch(i.started||(i.started=new Date(n).toISOString()),e){case ia.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case ia.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case ia.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},t}();aa.SessionFlusher=Yv});var ae=p(se=>{Object.defineProperty(se,"__esModule",{value:!0});var of=Xs();se.addGlobalEventProcessor=of.addGlobalEventProcessor;se.Scope=of.Scope;var zv=ea();se.Session=zv.Session;var $v=af();se.SessionFlusher=$v.SessionFlusher;var bt=na();se.getActiveDomain=bt.getActiveDomain;se.getCurrentHub=bt.getCurrentHub;se.getHubFromCarrier=bt.getHubFromCarrier;se.getMainCarrier=bt.getMainCarrier;se.Hub=bt.Hub;se.makeMain=bt.makeMain;se.setHubOnCarrier=bt.setHubOnCarrier});var uf=p(W=>{Object.defineProperty(W,"__esModule",{value:!0});var Kn=T(),Vv=ae();function re(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Vv.getCurrentHub();if(n&&n[t])return n[t].apply(n,Kn.__spread(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}o(re,"callOnHub");function Kv(t,e){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return re("captureException",t,{captureContext:e,originalException:t,syntheticException:r})}o(Kv,"captureException");W.captureException=Kv;function Jv(t,e){var r;try{throw new Error(t)}catch(s){r=s}var n=typeof e=="string"?e:void 0,i=typeof e!="string"?{captureContext:e}:void 0;return re("captureMessage",t,n,Kn.__assign({originalException:t,syntheticException:r},i))}o(Jv,"captureMessage");W.captureMessage=Jv;function Xv(t){return re("captureEvent",t)}o(Xv,"captureEvent");W.captureEvent=Xv;function Zv(t){re("configureScope",t)}o(Zv,"configureScope");W.configureScope=Zv;function Qv(t){re("addBreadcrumb",t)}o(Qv,"addBreadcrumb");W.addBreadcrumb=Qv;function em(t,e){re("setContext",t,e)}o(em,"setContext");W.setContext=em;function tm(t){re("setExtras",t)}o(tm,"setExtras");W.setExtras=tm;function rm(t){re("setTags",t)}o(rm,"setTags");W.setTags=rm;function nm(t,e){re("setExtra",t,e)}o(nm,"setExtra");W.setExtra=nm;function im(t,e){re("setTag",t,e)}o(im,"setTag");W.setTag=im;function sm(t){re("setUser",t)}o(sm,"setUser");W.setUser=sm;function am(t){re("withScope",t)}o(am,"withScope");W.withScope=am;function om(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];re.apply(void 0,Kn.__spread(["_invokeClient",t],e))}o(om,"_callOnClient");W._callOnClient=om;function um(t,e){return re("startTransaction",Kn.__assign({},t),e)}o(um,"startTransaction");W.startTransaction=um});var ff=p(oa=>{Object.defineProperty(oa,"__esModule",{value:!0});var cf=E(),lf="7",cm=function(){function t(e,r,n){r===void 0&&(r={}),this.dsn=e,this._dsnObject=new cf.Dsn(e),this.metadata=r,this._tunnel=n}return o(t,"API"),t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){var e=this.getDsn(),r=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return r+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var e=this.getDsn();return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},t.prototype.getRequestHeaders=function(e,r){var n=this.getDsn(),i=["Sentry sentry_version="+lf];return i.push("sentry_client="+e+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(e){e===void 0&&(e={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var s in e)if(s!=="dsn")if(s==="user"){if(!e.user)continue;e.user.name&&i.push("name="+encodeURIComponent(e.user.name)),e.user.email&&i.push("email="+encodeURIComponent(e.user.email))}else i.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return i.length?n+"?"+i.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(e){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+e+"/"},t.prototype._encodedAuth=function(){var e=this.getDsn(),r={sentry_key:e.publicKey,sentry_version:lf};return cf.urlEncode(r)},t}();oa.API=cm});var gf=p(tt=>{Object.defineProperty(tt,"__esModule",{value:!0});var Jn=T(),df=ae(),lm=E();tt.installedIntegrations=[];function pf(t){return t.reduce(function(e,r){return e.every(function(n){return r.name!==n.name})&&e.push(r),e},[])}o(pf,"filterDuplicates");function _f(t){var e=t.defaultIntegrations&&Jn.__spread(t.defaultIntegrations)||[],r=t.integrations,n=Jn.__spread(pf(e));Array.isArray(r)?n=Jn.__spread(n.filter(function(a){return r.every(function(u){return u.name!==a.name})}),pf(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),s="Debug";return i.indexOf(s)!==-1&&n.push.apply(n,Jn.__spread(n.splice(i.indexOf(s),1))),n}o(_f,"getIntegrationsToSetup");tt.getIntegrationsToSetup=_f;function hf(t){tt.installedIntegrations.indexOf(t.name)===-1&&(t.setupOnce(df.addGlobalEventProcessor,df.getCurrentHub),tt.installedIntegrations.push(t.name),lm.logger.log("Integration installed: "+t.name))}o(hf,"setupIntegration");tt.setupIntegration=hf;function fm(t){var e={};return _f(t).forEach(function(r){e[r.name]=r,hf(r)}),e}o(fm,"setupIntegrations");tt.setupIntegrations=fm});var mf=p(ua=>{Object.defineProperty(ua,"__esModule",{value:!0});var oe=T(),dm=ae(),vf=J(),w=E(),pm=gf(),_m=function(){function t(e,r){this._integrations={},this._numProcessing=0,this._backend=new e(r),this._options=r,r.dsn&&(this._dsn=new w.Dsn(r.dsn))}return o(t,"BaseClient"),t.prototype.captureException=function(e,r,n){var i=this,s=r&&r.event_id;return this._process(this._getBackend().eventFromException(e,r).then(function(a){return i._captureEvent(a,r,n)}).then(function(a){s=a})),s},t.prototype.captureMessage=function(e,r,n,i){var s=this,a=n&&n.event_id,u=w.isPrimitive(e)?this._getBackend().eventFromMessage(String(e),r,n):this._getBackend().eventFromException(e,n);return this._process(u.then(function(c){return s._captureEvent(c,n,i)}).then(function(c){a=c})),a},t.prototype.captureEvent=function(e,r,n){var i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(function(s){i=s})),i},t.prototype.captureSession=function(e){if(!this._isEnabled()){w.logger.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?w.logger.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(e){var r=this;return this._isClientDoneProcessing(e).then(function(n){return r._getBackend().getTransport().close(e).then(function(i){return n&&i})})},t.prototype.close=function(e){var r=this;return this.flush(e).then(function(n){return r.getOptions().enabled=!1,n})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=pm.setupIntegrations(this._options))},t.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(r){return w.logger.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(e,r){var n,i,s=!1,a=!1,u=r.exception&&r.exception.values;if(u){a=!0;try{for(var c=oe.__values(u),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.mechanism;if(d&&d.handled===!1){s=!0;break}}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}var _=e.status===vf.SessionStatus.Ok,h=_&&e.errors===0||_&&s;h&&(e.update(oe.__assign(oe.__assign({},s&&{status:vf.SessionStatus.Crashed}),{errors:e.errors||Number(a||s)})),this.captureSession(e))},t.prototype._sendSession=function(e){this._getBackend().sendSession(e)},t.prototype._isClientDoneProcessing=function(e){var r=this;return new w.SyncPromise(function(n){var i=0,s=1,a=setInterval(function(){r._numProcessing==0?(clearInterval(a),n(!0)):(i+=s,e&&i>=e&&(clearInterval(a),n(!1)))},s)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(e,r,n){var i=this,s=this.getOptions().normalizeDepth,a=s===void 0?3:s,u=oe.__assign(oe.__assign({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:w.uuid4()),timestamp:e.timestamp||w.dateTimestampInSeconds()});this._applyClientOptions(u),this._applyIntegrationsMetadata(u);var c=r;n&&n.captureContext&&(c=dm.Scope.clone(c).update(n.captureContext));var l=w.SyncPromise.resolve(u);return c&&(l=c.applyToEvent(u,n)),l.then(function(f){return typeof a=="number"&&a>0?i._normalizeEvent(f,a):f})},t.prototype._normalizeEvent=function(e,r){if(!e)return null;var n=oe.__assign(oe.__assign(oe.__assign(oe.__assign(oe.__assign({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(a){return oe.__assign(oe.__assign({},a),a.data&&{data:w.normalize(a.data,r)})})}),e.user&&{user:w.normalize(e.user,r)}),e.contexts&&{contexts:w.normalize(e.contexts,r)}),e.extra&&{extra:w.normalize(e.extra,r)});e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace);var i=this.getOptions()._experiments,s=i===void 0?{}:i;return s.ensureNoCircularStructures?w.normalize(n):n},t.prototype._applyClientOptions=function(e){var r=this.getOptions(),n=r.environment,i=r.release,s=r.dist,a=r.maxValueLength,u=a===void 0?250:a;"environment"in e||(e.environment="environment"in r?n:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=w.truncate(e.message,u));var c=e.exception&&e.exception.values&&e.exception.values[0];c&&c.value&&(c.value=w.truncate(c.value,u));var l=e.request;l&&l.url&&(l.url=w.truncate(l.url,u))},t.prototype._applyIntegrationsMetadata=function(e){var r=Object.keys(this._integrations);r.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=oe.__spread(e.sdk.integrations||[],r))},t.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},t.prototype._captureEvent=function(e,r,n){return this._processEvent(e,r,n).then(function(i){return i.event_id},function(i){w.logger.error(i)})},t.prototype._processEvent=function(e,r,n){var i=this,s=this.getOptions(),a=s.beforeSend,u=s.sampleRate;if(!this._isEnabled())return w.SyncPromise.reject(new w.SentryError("SDK not enabled, will not capture event."));var c=e.type==="transaction";return!c&&typeof u=="number"&&Math.random()>u?w.SyncPromise.reject(new w.SentryError("Discarding event because it's not included in the random sample (sampling rate = "+u+")")):this._prepareEvent(e,n,r).then(function(l){if(l===null)throw new w.SentryError("An event processor returned null, will not send event.");var f=r&&r.data&&r.data.__sentry__===!0;if(f||c||!a)return l;var d=a(l,r);return i._ensureBeforeSendRv(d)}).then(function(l){if(l===null)throw new w.SentryError("`beforeSend` returned `null`, will not send event.");var f=n&&n.getSession&&n.getSession();return!c&&f&&i._updateSessionFromEvent(f,l),i._sendEvent(l),l}).then(null,function(l){throw l instanceof w.SentryError?l:(i.captureException(l,{data:{__sentry__:!0},originalException:l}),new w.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+l))})},t.prototype._process=function(e){var r=this;this._numProcessing+=1,e.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},t.prototype._ensureBeforeSendRv=function(e){var r="`beforeSend` method has to return `null` or a valid event.";if(w.isThenable(e))return e.then(function(n){if(!(w.isPlainObject(n)||n===null))throw new w.SentryError(r);return n},function(n){throw new w.SentryError("beforeSend rejected with "+n)});if(!(w.isPlainObject(e)||e===null))throw new w.SentryError(r);return e},t}();ua.BaseClient=_m});var la=p(ca=>{Object.defineProperty(ca,"__esModule",{value:!0});var hm=J(),yf=E(),gm=function(){function t(){}return o(t,"NoopTransport"),t.prototype.sendEvent=function(e){return yf.SyncPromise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:hm.Status.Skipped})},t.prototype.close=function(e){return yf.SyncPromise.resolve(!0)},t}();ca.NoopTransport=gm});var bf=p(fa=>{Object.defineProperty(fa,"__esModule",{value:!0});var zt=E(),vm=la(),mm=function(){function t(e){this._options=e,this._options.dsn||zt.logger.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return o(t,"BaseBackend"),t.prototype.eventFromException=function(e,r){throw new zt.SentryError("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(e,r,n){throw new zt.SentryError("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(r){zt.logger.error("Error while sending event: "+r)})},t.prototype.sendSession=function(e){if(!this._transport.sendSession){zt.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){zt.logger.error("Error while sending session: "+r)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new vm.NoopTransport},t}();fa.BaseBackend=mm});var Ef=p(Xn=>{Object.defineProperty(Xn,"__esModule",{value:!0});var St=T();function Sf(t){if(!(!t.metadata||!t.metadata.sdk)){var e=t.metadata.sdk,r=e.name,n=e.version;return{name:r,version:n}}}o(Sf,"getSdkMetadataForEnvelopeHeader");function ym(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=St.__spread(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=St.__spread(t.sdk.packages||[],e.packages||[])),t}o(ym,"enhanceEventWithSdkInfo");function bm(t,e){var r=Sf(e),n=JSON.stringify(St.__assign(St.__assign({sent_at:new Date().toISOString()},r&&{sdk:r}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),i="aggregates"in t?"sessions":"session",s=JSON.stringify({type:i});return{body:n+`
`+s+`
`+JSON.stringify(t),type:i,url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}o(bm,"sessionToSentryRequest");Xn.sessionToSentryRequest=bm;function Sm(t,e){var r=Sf(e),n=t.type||"event",i=n==="transaction"||e.forceEnvelope(),s=t.debug_meta||{},a=s.transactionSampling,u=St.__rest(s,["transactionSampling"]),c=a||{},l=c.method,f=c.rate;Object.keys(u).length===0?delete t.debug_meta:t.debug_meta=u;var d={body:JSON.stringify(r?ym(t,e.metadata.sdk):t),type:n,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var _=JSON.stringify(St.__assign(St.__assign({event_id:t.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),h=JSON.stringify({type:n,sample_rates:[{id:l,rate:f}]}),g=_+`
`+h+`
`+d.body;d.body=g}return d}o(Sm,"eventToSentryRequest");Xn.eventToSentryRequest=Sm});var Tf=p(da=>{Object.defineProperty(da,"__esModule",{value:!0});var Em=ae(),Tm=E();function Om(t,e){var r;e.debug===!0&&Tm.logger.enable();var n=Em.getCurrentHub();(r=n.getScope())===null||r===void 0||r.update(e.initialScope);var i=new t(e);n.bindClient(i)}o(Om,"initAndBind");da.initAndBind=Om});var Of=p(pa=>{Object.defineProperty(pa,"__esModule",{value:!0});pa.SDK_VERSION="6.9.0"});var qf=p(_a=>{Object.defineProperty(_a,"__esModule",{value:!0});var wf,wm=function(){function t(){this.name=t.id}return o(t,"FunctionToString"),t.prototype.setupOnce=function(){wf=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.__sentry_original__||this;return wf.apply(n,e)}},t.id="FunctionToString",t}();_a.FunctionToString=wm});var xf=p(ga=>{Object.defineProperty(ga,"__esModule",{value:!0});var ha=T(),If=ae(),Z=E(),qm=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Im=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id}return o(t,"InboundFilters"),t.prototype.setupOnce=function(){If.addGlobalEventProcessor(function(e){var r=If.getCurrentHub();if(!r)return e;var n=r.getIntegration(t);if(n){var i=r.getClient(),s=i?i.getOptions():{},a=typeof n._mergeOptions=="function"?n._mergeOptions(s):{};return typeof n._shouldDropEvent!="function"?e:n._shouldDropEvent(e,a)?null:e}return e})},t.prototype._shouldDropEvent=function(e,r){return this._isSentryError(e,r)?(Z.logger.warn(`Event dropped due to being internal Sentry Error.
Event: `+Z.getEventDescription(e)),!0):this._isIgnoredError(e,r)?(Z.logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Z.getEventDescription(e)),!0):this._isDeniedUrl(e,r)?(Z.logger.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Z.getEventDescription(e)+`.
Url: `+this._getEventFilterUrl(e)),!0):this._isAllowedUrl(e,r)?!1:(Z.logger.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Z.getEventDescription(e)+`.
Url: `+this._getEventFilterUrl(e)),!0)},t.prototype._isSentryError=function(e,r){if(!r.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].type==="SentryError"||!1}catch(n){return!1}},t.prototype._isIgnoredError=function(e,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(e).some(function(n){return r.ignoreErrors.some(function(i){return Z.isMatchingPattern(n,i)})})},t.prototype._isDeniedUrl=function(e,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return n?r.denyUrls.some(function(i){return Z.isMatchingPattern(n,i)}):!1},t.prototype._isAllowedUrl=function(e,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return n?r.allowUrls.some(function(i){return Z.isMatchingPattern(n,i)}):!0},t.prototype._mergeOptions=function(e){return e===void 0&&(e={}),{allowUrls:ha.__spread(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:ha.__spread(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:ha.__spread(this._options.ignoreErrors||[],e.ignoreErrors||[],qm),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},t.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var r=e.exception.values&&e.exception.values[0]||{},n=r.type,i=n===void 0?"":n,s=r.value,a=s===void 0?"":s;return[""+a,i+": "+a]}catch(u){return Z.logger.error("Cannot extract message for event "+Z.getEventDescription(e)),[]}return[]},t.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var r=e.stacktrace.frames;return r&&r[r.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(i){return Z.logger.error("Cannot extract url for event "+Z.getEventDescription(e)),null}},t.id="InboundFilters",t}();ga.InboundFilters=Im});var Rf=p(Zn=>{Object.defineProperty(Zn,"__esModule",{value:!0});var xm=qf();Zn.FunctionToString=xm.FunctionToString;var Rm=xf();Zn.InboundFilters=Rm.InboundFilters});var B=p(q=>{Object.defineProperty(q,"__esModule",{value:!0});var ue=uf();q.addBreadcrumb=ue.addBreadcrumb;q.captureException=ue.captureException;q.captureEvent=ue.captureEvent;q.captureMessage=ue.captureMessage;q.configureScope=ue.configureScope;q.startTransaction=ue.startTransaction;q.setContext=ue.setContext;q.setExtra=ue.setExtra;q.setExtras=ue.setExtras;q.setTag=ue.setTag;q.setTags=ue.setTags;q.setUser=ue.setUser;q.withScope=ue.withScope;var $t=ae();q.addGlobalEventProcessor=$t.addGlobalEventProcessor;q.getCurrentHub=$t.getCurrentHub;q.getHubFromCarrier=$t.getHubFromCarrier;q.Hub=$t.Hub;q.makeMain=$t.makeMain;q.Scope=$t.Scope;var Mm=ff();q.API=Mm.API;var Pm=mf();q.BaseClient=Pm.BaseClient;var Cm=bf();q.BaseBackend=Cm.BaseBackend;var Mf=Ef();q.eventToSentryRequest=Mf.eventToSentryRequest;q.sessionToSentryRequest=Mf.sessionToSentryRequest;var km=Tf();q.initAndBind=km.initAndBind;var Am=la();q.NoopTransport=Am.NoopTransport;var Nm=Of();q.SDK_VERSION=Nm.SDK_VERSION;var jm=Rf();q.Integrations=jm});var Pf=p(Qn=>{(function(t,e){let r=typeof Qn=="object"?Qn:typeof t=="object"?t:{};e(r),typeof define=="function"&&define.amd&&define("lru",r)})(Qn,function(t){let e=Symbol("newer"),r=Symbol("older");function n(c,l){typeof c!="number"&&(l=c,c=0),this.size=0,this.limit=c,this.oldest=this.newest=void 0,this._keymap=new Map,l&&(this.assign(l),c<1&&(this.limit=this.size))}o(n,"LRUMap"),t.LRUMap=n;function i(c,l){this.key=c,this.value=l,this[e]=void 0,this[r]=void 0}o(i,"Entry"),n.prototype._markEntryAsUsed=function(c){c!==this.newest&&(c[e]&&(c===this.oldest&&(this.oldest=c[e]),c[e][r]=c[r]),c[r]&&(c[r][e]=c[e]),c[e]=void 0,c[r]=this.newest,this.newest&&(this.newest[e]=c),this.newest=c)},n.prototype.assign=function(c){let l,f=this.limit||Number.MAX_VALUE;this._keymap.clear();let d=c[Symbol.iterator]();for(let _=d.next();!_.done;_=d.next()){let h=new i(_.value[0],_.value[1]);if(this._keymap.set(h.key,h),l?(l[e]=h,h[r]=l):this.oldest=h,l=h,f--==0)throw new Error("overflow")}this.newest=l,this.size=this._keymap.size},n.prototype.get=function(c){var l=this._keymap.get(c);if(!!l)return this._markEntryAsUsed(l),l.value},n.prototype.set=function(c,l){var f=this._keymap.get(c);return f?(f.value=l,this._markEntryAsUsed(f),this):(this._keymap.set(c,f=new i(c,l)),this.newest?(this.newest[e]=f,f[r]=this.newest):this.oldest=f,this.newest=f,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var c=this.oldest;if(c)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),c[e]=c[r]=void 0,this._keymap.delete(c.key),--this.size,[c.key,c.value]},n.prototype.find=function(c){let l=this._keymap.get(c);return l?l.value:void 0},n.prototype.has=function(c){return this._keymap.has(c)},n.prototype.delete=function(c){var l=this._keymap.get(c);if(!!l)return this._keymap.delete(l.key),l[e]&&l[r]?(l[r][e]=l[e],l[e][r]=l[r]):l[e]?(l[e][r]=void 0,this.oldest=l[e]):l[r]?(l[r][e]=void 0,this.newest=l[r]):this.oldest=this.newest=void 0,this.size--,l.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()};function s(c){this.entry=c}o(s,"EntryIterator"),s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let c=this.entry;return c?(this.entry=c[e],{done:!1,value:[c.key,c.value]}):{done:!0,value:void 0}};function a(c){this.entry=c}o(a,"KeyIterator"),a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let c=this.entry;return c?(this.entry=c[e],{done:!1,value:c.key}):{done:!0,value:void 0}};function u(c){this.entry=c}o(u,"ValueIterator"),u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){let c=this.entry;return c?(this.entry=c[e],{done:!1,value:c.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new u(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(c,l){typeof l!="object"&&(l=this);let f=this.oldest;for(;f;)c.call(l,f.value,f.key,this),f=f[e]},n.prototype.toJSON=function(){for(var c=new Array(this.size),l=0,f=this.oldest;f;)c[l++]={key:f.key,value:f.value},f=f[e];return c},n.prototype.toString=function(){for(var c="",l=this.oldest;l;)c+=String(l.key)+":"+l.value,l=l[e],l&&(c+=" < ");return c}})});var Cf=p(va=>{Object.defineProperty(va,"__esModule",{value:!0});function Dm(t){if(!t.stack)return[];var e=t.stack.split(`
`).slice(1);return e.map(function(r){if(r.match(/^\s*[-]{4,}$/))return{columnNumber:null,fileName:r,functionName:null,lineNumber:null,methodName:null,native:null,typeName:null};var n=r.match(/at (?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!!n){var i=null,s=null,a=null,u=null,c=null,l=n[5]==="native";if(n[1]){a=n[1];var f=a.lastIndexOf(".");if(a[f-1]==="."&&f--,f>0){i=a.substr(0,f),s=a.substr(f+1);var d=i.indexOf(".Module");d>0&&(a=a.substr(d+1),i=i.substr(0,d))}u=null}s&&(u=i,c=s),s==="<anonymous>"&&(c=null,a=null);var _={columnNumber:parseInt(n[4],10)||null,fileName:n[2]||null,functionName:a,lineNumber:parseInt(n[3],10)||null,methodName:c,native:l,typeName:u};return _}}).filter(function(r){return!!r})}o(Dm,"parse");va.parse=Dm});var ya=p(rt=>{Object.defineProperty(rt,"__esModule",{value:!0});var Oe=E(),Fm=require("fs"),Hm=Pf(),Um=Cf(),Lm=7,ma=new Hm.LRUMap(100);function Bm(){ma.clear()}o(Bm,"resetFileContentCache");rt.resetFileContentCache=Bm;function Gm(t){try{return t.functionName||t.typeName+"."+(t.methodName||"<anonymous>")}catch(e){return"<anonymous>"}}o(Gm,"getFunction");var Wm=(require.main&&require.main.filename&&Oe.dirname(require.main.filename)||global.process.cwd())+"/";function Ym(t,e){e||(e=Wm);var r=Oe.basename(t,".js");t=Oe.dirname(t);var n=t.lastIndexOf("/node_modules/");if(n>-1)return t.substr(n+14).replace(/\//g,".")+":"+r;if(n=(t+"/").lastIndexOf(e,0),n===0){var i=t.substr(e.length).replace(/\//g,".");return i&&(i+=":"),i+=r,i}return r}o(Ym,"getModule");function zm(t){return t.length===0?Oe.SyncPromise.resolve({}):new Oe.SyncPromise(function(e){for(var r={},n=0,i=o(function(a){var u=t[a],c=ma.get(u);if(c!==void 0)return c!==null&&(r[u]=c),n++,n===t.length&&e(r),"continue";Fm.readFile(u,function(l,f){var d=l?null:f.toString();r[u]=d,ma.set(u,d),n++,n===t.length&&e(r)})},"_loop_1"),s=0;s<t.length;s++)i(s)})}o(zm,"readSourceFiles");function kf(t){var e=Um.parse(t);return e||[]}o(kf,"extractStackFromError");rt.extractStackFromError=kf;function Af(t,e){var r=[],n=e&&e.frameContextLines!==void 0?e.frameContextLines:Lm,i=t.map(function(s){var a,u={colno:s.columnNumber,filename:((a=s.fileName)===null||a===void 0?void 0:a.startsWith("file://"))?s.fileName.substr(7):s.fileName||"",function:Gm(s),lineno:s.lineNumber},c=s.native||u.filename&&!u.filename.startsWith("/")&&!u.filename.startsWith(".")&&u.filename.indexOf(":\\")!==1;return u.in_app=!c&&u.filename!==void 0&&u.filename.indexOf("node_modules/")===-1,u.filename&&(u.module=Ym(u.filename),!c&&n>0&&r.indexOf(u.filename)===-1&&r.push(u.filename)),u});if(n<=0)return Oe.SyncPromise.resolve(i);try{return $m(r,i,n)}catch(s){return Oe.SyncPromise.resolve(i)}}o(Af,"parseStack");rt.parseStack=Af;function $m(t,e,r){return new Oe.SyncPromise(function(n){return zm(t).then(function(i){var s=e.map(function(a){if(a.filename&&i[a.filename])try{var u=i[a.filename].split(`
`);Oe.addContextToFrame(u,a,r)}catch(c){}return a});n(s)})})}o($m,"addPrePostContext");function Nf(t,e){var r=t.name||t.constructor.name,n=kf(t);return new Oe.SyncPromise(function(i){return Af(n,e).then(function(s){var a={stacktrace:{frames:jf(s)},type:r,value:t.message};i(a)})})}o(Nf,"getExceptionFromError");rt.getExceptionFromError=Nf;function Vm(t,e){return new Oe.SyncPromise(function(r){return Nf(t,e).then(function(n){r({exception:{values:[n]}})})})}o(Vm,"parseError");rt.parseError=Vm;function jf(t){if(!t||!t.length)return[];var e=t,r=e[0].function||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(e=e.slice(1)),e.reverse()}o(jf,"prepareFramesForEvent");rt.prepareFramesForEvent=jf});var Sa=p(ba=>{Object.defineProperty(ba,"__esModule",{value:!0});ba.SDK_NAME="sentry.javascript.node"});var ei=p(Ta=>{Object.defineProperty(Ta,"__esModule",{value:!0});var Ue=T(),Df=B(),Ff=J(),nt=E(),Km=require("fs"),Jm=require("url"),Xm=Sa(),Ea={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},Zm=function(){function t(e){this.options=e,this._buffer=new nt.PromiseBuffer(30),this._rateLimits={},this.urlParser=function(r){return new Jm.URL(r)},this._api=new Df.API(e.dsn,e._metadata,e.tunnel)}return o(t,"BaseTransport"),t.prototype.sendEvent=function(e){throw new nt.SentryError("Transport Class has to implement `sendEvent` method.")},t.prototype.close=function(e){return this._buffer.drain(e)},t.prototype._getProxy=function(e){var r,n,i=process.env,s=i.no_proxy,a=i.http_proxy,u=i.https_proxy,c=this.options,l=c.httpProxy,f=c.httpsProxy,d=e==="http"?l||a:f||l||u||a;if(!s)return d;var _=this._api.getDsn(),h=_.host,g=_.port;try{for(var v=Ue.__values(s.split(",")),m=v.next();!m.done;m=v.next()){var S=m.value;if(h.endsWith(S)||(h+":"+g).endsWith(S))return}}catch(x){r={error:x}}finally{try{m&&!m.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}return d},t.prototype._getRequestOptions=function(e){var r=Ue.__assign(Ue.__assign({},this._api.getRequestHeaders(Xm.SDK_NAME,Df.SDK_VERSION)),this.options.headers),n=e.hostname,i=e.pathname,s=e.port,a=e.protocol,u=""+i;return Ue.__assign({agent:this.client,headers:r,hostname:n,method:"POST",path:u,port:s,protocol:a},this.options.caCerts&&{ca:Km.readFileSync(this.options.caCerts)})},t.prototype._disabledUntil=function(e){var r=Ea[e];return this._rateLimits[r]||this._rateLimits.all},t.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},t.prototype._handleRateLimit=function(e){var r,n,i,s,a=Date.now(),u=e["x-sentry-rate-limits"],c=e["retry-after"];if(u){try{for(var l=Ue.__values(u.trim().split(",")),f=l.next();!f.done;f=l.next()){var d=f.value,_=d.split(":",2),h=parseInt(_[0],10),g=(isNaN(h)?60:h)*1e3;try{for(var v=(i=void 0,Ue.__values(_[1]&&_[1].split(";")||["all"])),m=v.next();!m.done;m=v.next()){var S=m.value,x=Ue.__spread(Object.keys(Ea).map(function(C){return Ea[C]}),["all"]);x.includes(S)&&(this._rateLimits[S]=new Date(a+g))}}catch(C){i={error:C}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}}}catch(C){r={error:C}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!0}else if(c)return this._rateLimits.all=new Date(a+nt.parseRetryAfterHeader(a,c)),!0;return!1},t.prototype._send=function(e,r){return Ue.__awaiter(this,void 0,void 0,function(){var n=this;return Ue.__generator(this,function(i){if(!this.module)throw new nt.SentryError("No module available");return r&&this._isRateLimited(e.type)?[2,Promise.reject({payload:r,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})]:this._buffer.isReady()?[2,this._buffer.add(function(){return new Promise(function(s,a){if(!n.module)throw new nt.SentryError("No module available");var u=n._getRequestOptions(n.urlParser(e.url)),c=n.module.request(u,function(l){var f=l.statusCode||500,d=Ff.Status.fromHttpCode(f);l.setEncoding("utf8");var _=l.headers?l.headers["retry-after"]:"";_=Array.isArray(_)?_[0]:_;var h=l.headers?l.headers["x-sentry-rate-limits"]:"";h=Array.isArray(h)?h[0]:h;var g={"x-sentry-rate-limits":h,"retry-after":_},v=n._handleRateLimit(g);if(v&&nt.logger.warn("Too many "+e.type+" requests, backing off until: "+n._disabledUntil(e.type)),d===Ff.Status.Success)s({status:d});else{var m="HTTP Error ("+f+")";l.headers&&l.headers["x-sentry-error"]&&(m+=": "+l.headers["x-sentry-error"]),a(new nt.SentryError(m))}l.on("data",function(){}),l.on("end",function(){})});c.on("error",a),c.end(e.body)})})]:[2,Promise.reject(new nt.SentryError("Not adding Promise due to buffer limit reached."))]})})},t}();Ta.BaseTransport=Zm});var Uf=p((Kq,Hf)=>{var Vt=1e3,Kt=Vt*60,Jt=Kt*60,Et=Jt*24,Qm=Et*7,ey=Et*365.25;Hf.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return ty(t);if(r==="number"&&isFinite(t))return e.long?ny(t):ry(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function ty(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*ey;case"weeks":case"week":case"w":return r*Qm;case"days":case"day":case"d":return r*Et;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Jt;case"minutes":case"minute":case"mins":case"min":case"m":return r*Kt;case"seconds":case"second":case"secs":case"sec":case"s":return r*Vt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(ty,"parse");function ry(t){var e=Math.abs(t);return e>=Et?Math.round(t/Et)+"d":e>=Jt?Math.round(t/Jt)+"h":e>=Kt?Math.round(t/Kt)+"m":e>=Vt?Math.round(t/Vt)+"s":t+"ms"}o(ry,"fmtShort");function ny(t){var e=Math.abs(t);return e>=Et?ti(t,e,Et,"day"):e>=Jt?ti(t,e,Jt,"hour"):e>=Kt?ti(t,e,Kt,"minute"):e>=Vt?ti(t,e,Vt,"second"):t+" ms"}o(ny,"fmtLong");function ti(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}o(ti,"plural")});var Oa=p((Jq,Lf)=>{function iy(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=Uf(),r.destroy=l,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let d=0;for(let _=0;_<f.length;_++)d=(d<<5)-d+f.charCodeAt(_),d|=0;return r.colors[Math.abs(d)%r.colors.length]}o(e,"selectColor"),r.selectColor=e;function r(f){let d,_=null;function h(...g){if(!h.enabled)return;let v=h,m=Number(new Date),S=m-(d||m);v.diff=S,v.prev=d,v.curr=m,d=m,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let x=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(ye,Ch)=>{if(ye==="%%")return"%";x++;let hc=r.formatters[Ch];if(typeof hc=="function"){let kh=g[x];ye=hc.call(v,kh),g.splice(x,1),x--}return ye}),r.formatArgs.call(v,g),(v.log||r.log).apply(v,g)}return o(h,"debug"),h.namespace=f,h.useColors=r.useColors(),h.color=r.selectColor(f),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>_===null?r.enabled(f):_,set:g=>{_=g}}),typeof r.init=="function"&&r.init(h),h}o(r,"createDebug");function n(f,d){let _=r(this.namespace+(typeof d=="undefined"?":":d)+f);return _.log=this.log,_}o(n,"extend");function i(f){r.save(f),r.names=[],r.skips=[];let d,_=(typeof f=="string"?f:"").split(/[\s,]+/),h=_.length;for(d=0;d<h;d++)!_[d]||(f=_[d].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.substr(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}o(i,"enable");function s(){let f=[...r.names.map(u),...r.skips.map(u).map(d=>"-"+d)].join(",");return r.enable(""),f}o(s,"disable");function a(f){if(f[f.length-1]==="*")return!0;let d,_;for(d=0,_=r.skips.length;d<_;d++)if(r.skips[d].test(f))return!1;for(d=0,_=r.names.length;d<_;d++)if(r.names[d].test(f))return!0;return!1}o(a,"enabled");function u(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}o(u,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(l,"destroy"),r.enable(r.load()),r}o(iy,"setup");Lf.exports=iy});var Bf=p((ce,ri)=>{ce.formatArgs=ay;ce.save=oy;ce.load=uy;ce.useColors=sy;ce.storage=cy();ce.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ce.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function sy(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(sy,"useColors");function ay(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ri.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}o(ay,"formatArgs");ce.log=console.debug||console.log||(()=>{});function oy(t){try{t?ce.storage.setItem("debug",t):ce.storage.removeItem("debug")}catch(e){}}o(oy,"save");function uy(){let t;try{t=ce.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}o(uy,"load");function cy(){try{return localStorage}catch(t){}}o(cy,"localstorage");ri.exports=Oa()(ce);var{formatters:ly}=ri.exports;ly.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Wf=p((Xq,Gf)=>{"use strict";Gf.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var zf=p((Zq,Yf)=>{"use strict";var fy=require("os"),we=Wf(),Y=process.env,Xt;we("no-color")||we("no-colors")||we("color=false")?Xt=!1:(we("color")||we("colors")||we("color=true")||we("color=always"))&&(Xt=!0);"FORCE_COLOR"in Y&&(Xt=Y.FORCE_COLOR.length===0||parseInt(Y.FORCE_COLOR,10)!==0);function dy(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}o(dy,"translateLevel");function py(t){if(Xt===!1)return 0;if(we("color=16m")||we("color=full")||we("color=truecolor"))return 3;if(we("color=256"))return 2;if(t&&!t.isTTY&&Xt!==!0)return 0;let e=Xt?1:0;if(process.platform==="win32"){let r=fy.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Y)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in Y)||Y.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Y)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Y.TEAMCITY_VERSION)?1:0;if(Y.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Y){let r=parseInt((Y.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Y.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Y.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Y.TERM)||"COLORTERM"in Y?1:(Y.TERM==="dumb",e)}o(py,"supportsColor");function wa(t){let e=py(t);return dy(e)}o(wa,"getSupportLevel");Yf.exports={supportsColor:wa,stdout:wa(process.stdout),stderr:wa(process.stderr)}});var Vf=p((G,ii)=>{var _y=require("tty"),ni=require("util");G.init=Sy;G.log=my;G.formatArgs=gy;G.save=yy;G.load=by;G.useColors=hy;G.destroy=ni.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");G.colors=[6,2,3,4,5,1];try{let t=zf();t&&(t.stderr||t).level>=2&&(G.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}G.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function hy(){return"colors"in G.inspectOpts?Boolean(G.inspectOpts.colors):_y.isatty(process.stderr.fd)}o(hy,"useColors");function gy(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} [0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+ii.exports.humanize(this.diff)+"[0m")}else t[0]=vy()+e+" "+t[0]}o(gy,"formatArgs");function vy(){return G.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(vy,"getDate");function my(...t){return process.stderr.write(ni.format(...t)+`
`)}o(my,"log");function yy(t){t?process.env.DEBUG=t:delete process.env.DEBUG}o(yy,"save");function by(){return process.env.DEBUG}o(by,"load");function Sy(t){t.inspectOpts={};let e=Object.keys(G.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=G.inspectOpts[e[r]]}o(Sy,"init");ii.exports=Oa()(G);var{formatters:$f}=ii.exports;$f.o=function(t){return this.inspectOpts.colors=this.useColors,ni.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};$f.O=function(t){return this.inspectOpts.colors=this.useColors,ni.inspect(t,this.inspectOpts)}});var si=p((Qq,qa)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?qa.exports=Bf():qa.exports=Vf()});var Kf=p(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});function Ey(t){return function(e,r){return new Promise((n,i)=>{t.call(this,e,r,(s,a)=>{s?i(s):n(a)})})}}o(Ey,"promisify");Ia.default=Ey});var Zf=p((Ra,Xf)=>{"use strict";var Jf=Ra&&Ra.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ty=require("events"),Oy=Jf(si()),wy=Jf(Kf()),Fr=Oy.default("agent-base");function qy(t){return Boolean(t)&&typeof t.addRequest=="function"}o(qy,"isAgent");function xa(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}o(xa,"isSecureEndpoint");function ai(t,e){return new ai.Agent(t,e)}o(ai,"createAgent");(function(t){class e extends Ty.EventEmitter{constructor(n,i){super();let s=i;typeof n=="function"?this.callback=n:n&&(s=n),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:xa()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:xa()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let s=Object.assign({},i);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=xa()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,n._last=!0,n.shouldKeepAlive=!1;let a=!1,u=null,c=s.timeout||this.timeout,l=o(h=>{n._hadError||(n.emit("error",h),n._hadError=!0)},"onerror"),f=o(()=>{u=null,a=!0;let h=new Error(`A "socket" was not created for HTTP request before ${c}ms`);h.code="ETIMEOUT",l(h)},"ontimeout"),d=o(h=>{a||(u!==null&&(clearTimeout(u),u=null),l(h))},"callbackError"),_=o(h=>{if(a)return;if(u!=null&&(clearTimeout(u),u=null),qy(h)){Fr("Callback returned another Agent instance %o",h.constructor.name),h.addRequest(n,s);return}if(h){h.once("free",()=>{this.freeSocket(h,s)}),n.onSocket(h);return}let g=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);l(g)},"onsocket");if(typeof this.callback!="function"){l(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Fr("Converting legacy callback function to promise"),this.promisifiedCallback=wy.default(this.callback)):this.promisifiedCallback=this.callback),typeof c=="number"&&c>0&&(u=setTimeout(f,c)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{Fr("Resolving socket for %o request: %o",s.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,s)).then(_,d)}catch(h){Promise.reject(h).catch(d)}}freeSocket(n,i){Fr("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){Fr("Destroying agent %o",this.constructor.name)}}o(e,"Agent"),t.Agent=e,t.prototype=t.Agent.prototype})(ai||(ai={}));Xf.exports=ai});var Qf=p(Ur=>{"use strict";var Iy=Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ur,"__esModule",{value:!0});var xy=Iy(si()),Hr=xy.default("https-proxy-agent:parse-proxy-response");function Ry(t){return new Promise((e,r)=>{let n=0,i=[];function s(){let d=t.read();d?f(d):t.once("readable",s)}o(s,"read");function a(){t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",u),t.removeListener("readable",s)}o(a,"cleanup");function u(d){Hr("onclose had error %o",d)}o(u,"onclose");function c(){Hr("onend")}o(c,"onend");function l(d){a(),Hr("onerror %o",d),r(d)}o(l,"onerror");function f(d){i.push(d),n+=d.length;let _=Buffer.concat(i,n);if(_.indexOf(`\r
\r
`)===-1){Hr("have not received end of HTTP headers yet..."),s();return}let g=_.toString("ascii",0,_.indexOf(`\r
`)),v=+g.split(" ")[1];Hr("got proxy server response: %o",g),e({statusCode:v,buffered:_})}o(f,"ondata"),t.on("error",l),t.on("close",u),t.on("end",c),s()})}o(Ry,"parseProxyResponse");Ur.default=Ry});var rd=p(Tt=>{"use strict";var My=Tt&&Tt.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function u(f){try{l(n.next(f))}catch(d){a(d)}}o(u,"fulfilled");function c(f){try{l(n.throw(f))}catch(d){a(d)}}o(c,"rejected");function l(f){f.done?s(f.value):i(f.value).then(u,c)}o(l,"step"),l((n=n.apply(t,e||[])).next())})},Zt=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tt,"__esModule",{value:!0});var ed=Zt(require("net")),td=Zt(require("tls")),Py=Zt(require("url")),Cy=Zt(require("assert")),ky=Zt(si()),Ay=Zf(),Ny=Zt(Qf()),Lr=ky.default("https-proxy-agent:agent"),Ma=class extends Ay.Agent{constructor(e){let r;if(typeof e=="string"?r=Py.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Lr("creating new HttpsProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||Fy(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,r){return My(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,s;i?(Lr("Creating `tls.Socket`: %o",n),s=td.default.connect(n)):(Lr("Creating `net.Socket`: %o",n),s=ed.default.connect(n));let a=Object.assign({},n.headers),c=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:l,port:f,secureEndpoint:d}=r;Dy(f,d)||(l+=`:${f}`),a.Host=l,a.Connection="close";for(let m of Object.keys(a))c+=`${m}: ${a[m]}\r
`;let _=Ny.default(s);s.write(`${c}\r
`);let{statusCode:h,buffered:g}=yield _;if(h===200){if(e.once("socket",jy),r.secureEndpoint){let m=r.servername||r.host;if(!m)throw new Error('Could not determine "servername"');return Lr("Upgrading socket connection to TLS"),td.default.connect(Object.assign(Object.assign({},Hy(r,"host","hostname","path","port")),{socket:s,servername:m}))}return s}s.destroy();let v=new ed.default.Socket;return v.readable=!0,e.once("socket",m=>{Lr("replaying proxy buffer for failed request"),Cy.default(m.listenerCount("data")>0),m.push(g),m.push(null)}),v})}};o(Ma,"HttpsProxyAgent");Tt.default=Ma;function jy(t){t.resume()}o(jy,"resume");function Dy(t,e){return Boolean(!e&&t===80||e&&t===443)}o(Dy,"isDefaultPort");function Fy(t){return typeof t=="string"?/^https:?$/i.test(t):!1}o(Fy,"isHTTPS");function Hy(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}o(Hy,"omit")});var Aa=p((ka,nd)=>{"use strict";var Uy=ka&&ka.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Pa=Uy(rd());function Ca(t){return new Pa.default(t)}o(Ca,"createHttpsProxyAgent");(function(t){t.HttpsProxyAgent=Pa.default,t.prototype=Pa.default.prototype})(Ca||(Ca={}));nd.exports=Ca});var ad=p(Na=>{Object.defineProperty(Na,"__esModule",{value:!0});var Ly=T(),id=B(),sd=require("http"),By=ei(),Gy=function(t){Ly.__extends(e,t);function e(r){var n=t.call(this,r)||this;n.options=r;var i=n._getProxy("http");return n.module=sd,n.client=i?new(Aa())(i):new sd.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return o(e,"HTTPTransport"),e.prototype.sendEvent=function(r){return this._send(id.eventToSentryRequest(r,this._api),r)},e.prototype.sendSession=function(r){return this._send(id.sessionToSentryRequest(r,this._api),r)},e}(By.BaseTransport);Na.HTTPTransport=Gy});var cd=p(ja=>{Object.defineProperty(ja,"__esModule",{value:!0});var Wy=T(),od=B(),ud=require("https"),Yy=ei(),zy=function(t){Wy.__extends(e,t);function e(r){var n=t.call(this,r)||this;n.options=r;var i=n._getProxy("https");return n.module=ud,n.client=i?new(Aa())(i):new ud.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return o(e,"HTTPSTransport"),e.prototype.sendEvent=function(r){return this._send(od.eventToSentryRequest(r,this._api),r)},e.prototype.sendSession=function(r){return this._send(od.sessionToSentryRequest(r,this._api),r)},e}(Yy.BaseTransport);ja.HTTPSTransport=zy});var Da=p(Br=>{Object.defineProperty(Br,"__esModule",{value:!0});var $y=ei();Br.BaseTransport=$y.BaseTransport;var Vy=ad();Br.HTTPTransport=Vy.HTTPTransport;var Ky=cd();Br.HTTPSTransport=Ky.HTTPSTransport});var Ha=p(Fa=>{Object.defineProperty(Fa,"__esModule",{value:!0});var it=T(),ld=B(),Jy=J(),Le=E(),oi=ya(),fd=Da(),Xy=function(t){it.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return o(e,"NodeBackend"),e.prototype.eventFromException=function(r,n){var i=this,s=r,a=n&&n.data&&n.data.mechanism,u=a||{handled:!0,type:"generic"};if(!Le.isError(r)){if(Le.isPlainObject(r)){var c="Non-Error exception captured with keys: "+Le.extractExceptionKeysForMessage(r);ld.getCurrentHub().configureScope(function(l){l.setExtra("__serialized__",Le.normalizeToSize(r))}),s=n&&n.syntheticException||new Error(c),s.message=c}else s=n&&n.syntheticException||new Error(r),s.message=r;u.synthetic=!0}return new Le.SyncPromise(function(l,f){return oi.parseError(s,i._options).then(function(d){Le.addExceptionTypeValue(d,void 0,void 0),Le.addExceptionMechanism(d,u),l(it.__assign(it.__assign({},d),{event_id:n&&n.event_id}))}).then(null,f)})},e.prototype.eventFromMessage=function(r,n,i){var s=this;n===void 0&&(n=Jy.Severity.Info);var a={event_id:i&&i.event_id,level:n,message:r};return new Le.SyncPromise(function(u){if(s._options.attachStacktrace&&i&&i.syntheticException){var c=i.syntheticException?oi.extractStackFromError(i.syntheticException):[];oi.parseStack(c,s._options).then(function(l){a.stacktrace={frames:oi.prepareFramesForEvent(l)},u(a)}).then(null,function(){u(a)})}else u(a)})},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var r=new Le.Dsn(this._options.dsn),n=it.__assign(it.__assign(it.__assign(it.__assign(it.__assign({},this._options.transportOptions),this._options.httpProxy&&{httpProxy:this._options.httpProxy}),this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy}),this._options.caCerts&&{caCerts:this._options.caCerts}),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(n):r.protocol==="http"?new fd.HTTPTransport(n):new fd.HTTPSTransport(n)},e}(ld.BaseBackend);Fa.NodeBackend=Xy});var Ba=p(La=>{Object.defineProperty(La,"__esModule",{value:!0});var Zy=T(),Ua=B(),Qy=ae(),ui=J(),dd=E(),eb=Ha(),tb=function(t){Zy.__extends(e,t);function e(r){var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:Ua.SDK_VERSION}],version:Ua.SDK_VERSION},n=t.call(this,eb.NodeBackend,r)||this,n}return o(e,"NodeClient"),e.prototype.captureException=function(r,n,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=i.getRequestSession();s&&s.status===ui.RequestSessionStatus.Ok&&(s.status=ui.RequestSessionStatus.Errored)}return t.prototype.captureException.call(this,r,n,i)},e.prototype.captureEvent=function(r,n,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=r.type||"exception",a=s==="exception"&&r.exception&&r.exception.values&&r.exception.values.length>0;if(a){var u=i.getRequestSession();u&&u.status===ui.RequestSessionStatus.Ok&&(u.status=ui.RequestSessionStatus.Errored)}}return t.prototype.captureEvent.call(this,r,n,i)},e.prototype.close=function(r){var n;return(n=this._sessionFlusher)===null||n===void 0||n.close(),t.prototype.close.call(this,r)},e.prototype.initSessionFlusher=function(){var r=this._options,n=r.release,i=r.environment;n?this._sessionFlusher=new Qy.SessionFlusher(this._backend.getTransport(),{release:n,environment:i}):dd.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")},e.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"node",this.getOptions().serverName&&(r.server_name=this.getOptions().serverName),t.prototype._prepareEvent.call(this,r,n,i)},e.prototype._captureRequestSession=function(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():dd.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")},e}(Ua.BaseClient);La.NodeClient=tb});var gd=p(Ga=>{Object.defineProperty(Ga,"__esModule",{value:!0});var pd=T(),_d=B(),Gr=J(),rb=E(),nb=require("util"),hd=function(){function t(){this.name=t.id}return o(t,"Console"),t.prototype.setupOnce=function(){var e,r;try{for(var n=pd.__values(["debug","info","warn","error","log"]),i=n.next();!i.done;i=n.next()){var s=i.value;rb.fill(console,s,ib(s))}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.id="Console",t}();Ga.Console=hd;function ib(t){return o(function(r){var n;switch(t){case"debug":n=Gr.Severity.Debug;break;case"error":n=Gr.Severity.Error;break;case"info":n=Gr.Severity.Info;break;case"warn":n=Gr.Severity.Warning;break;default:n=Gr.Severity.Log}return function(){_d.getCurrentHub().getIntegration(hd)&&_d.getCurrentHub().addBreadcrumb({category:"console",level:n,message:nb.format.apply(void 0,arguments)},{input:pd.__spread(arguments),level:t}),r.apply(this,arguments)}},"consoleWrapper")}o(ib,"createConsoleWrapper")});var yd=p(Ot=>{Object.defineProperty(Ot,"__esModule",{value:!0});var Wa=T(),sb=B(),vd=require("url");function ab(t){var e,r=(e=sb.getCurrentHub().getClient())===null||e===void 0?void 0:e.getDsn();return r?t.includes(r.host):!1}o(ab,"isSentryRequest");Ot.isSentryRequest=ab;function md(t){var e=t.protocol||"",r=t.hostname||t.host||"",n=!t.port||t.port===80||t.port===443?"":":"+t.port,i=t.path?t.path:"/";return e+"//"+r+n+i}o(md,"extractUrl");Ot.extractUrl=md;function ob(t,e,r){var n,i,s;if(!t)return t;var a=Wa.__read(t.split(" "),2),u=a[0],c=a[1];return e.host&&!e.protocol&&(e.protocol=(i=(n=r)===null||n===void 0?void 0:n.agent)===null||i===void 0?void 0:i.protocol,c=md(e)),((s=c)===null||s===void 0?void 0:s.startsWith("///"))&&(c=c.slice(2)),u+" "+c}o(ob,"cleanSpanDescription");Ot.cleanSpanDescription=ob;function Ya(t){var e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:""+(t.pathname||"")+(t.search||""),href:t.href};return t.port!==""&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=t.username+":"+t.password),e}o(Ya,"urlToOptions");Ot.urlToOptions=Ya;function ub(t){var e,r;return typeof t[t.length-1]=="function"&&(e=t.pop()),typeof t[0]=="string"?r=Ya(new vd.URL(t[0])):t[0]instanceof vd.URL?r=Ya(t[0]):r=t[0],t.length===2&&(r=Wa.__assign(Wa.__assign({},r),t[1])),e?[r,e]:[r]}o(ub,"normalizeRequestArgs");Ot.normalizeRequestArgs=ub});var Od=p($a=>{Object.defineProperty($a,"__esModule",{value:!0});var bd=T(),za=B(),Qt=E(),Wr=yd(),Sd=Qt.parseSemver(process.versions.node),Ed=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._breadcrumbs=typeof e.breadcrumbs=="undefined"?!0:e.breadcrumbs,this._tracing=typeof e.tracing=="undefined"?!1:e.tracing}return o(t,"Http"),t.prototype.setupOnce=function(){if(!(!this._breadcrumbs&&!this._tracing)){var e=cb(this._breadcrumbs,this._tracing),r=require("http");if(Qt.fill(r,"get",e),Qt.fill(r,"request",e),Sd.major&&Sd.major>8){var n=require("https");Qt.fill(n,"get",e),Qt.fill(n,"request",e)}}},t.id="Http",t}();$a.Http=Ed;function cb(t,e){return o(function(n){return o(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=this,c=Wr.normalizeRequestArgs(s),l=c[0],f=Wr.extractUrl(l);if(Wr.isSentryRequest(f))return n.apply(u,c);var d,_,h=za.getCurrentHub().getScope();if(h&&e&&(_=h.getSpan(),_)){d=_.startChild({description:(l.method||"GET")+" "+f,op:"request"});var g=d.toTraceparent();Qt.logger.log("[Tracing] Adding sentry-trace header "+g+" to outgoing request to "+f+": "),l.headers=bd.__assign(bd.__assign({},l.headers),{"sentry-trace":g})}return n.apply(u,c).once("response",function(v){var m=this;t&&Td("response",f,m,v),e&&d&&(v.statusCode&&d.setHttpStatus(v.statusCode),d.description=Wr.cleanSpanDescription(d.description,l,m),d.finish())}).once("error",function(){var v=this;t&&Td("error",f,v),e&&d&&(d.setHttpStatus(500),d.description=Wr.cleanSpanDescription(d.description,l,v),d.finish())})},"wrappedMethod")},"wrappedRequestMethodFactory")}o(cb,"_createWrappedRequestMethodFactory");function Td(t,e,r,n){!za.getCurrentHub().getIntegration(Ed)||za.getCurrentHub().addBreadcrumb({category:"http",data:{method:r.method,status_code:n&&n.statusCode,url:e},type:"http"},{event:t,request:r,response:n})}o(Td,"addRequestBreadcrumb")});var Ja=p(Ka=>{Object.defineProperty(Ka,"__esModule",{value:!0});var lb=B(),Va=E(),fb=2e3;function db(t){console.error(t&&t.stack?t.stack:t);var e=lb.getCurrentHub().getClient();if(e===void 0){Va.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);return}var r=e.getOptions(),n=r&&r.shutdownTimeout&&r.shutdownTimeout>0&&r.shutdownTimeout||fb;Va.forget(e.close(n).then(function(i){i||Va.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}))}o(db,"logAndExitProcess");Ka.logAndExitProcess=db});var Id=p(Xa=>{Object.defineProperty(Xa,"__esModule",{value:!0});var wd=B(),pb=J(),_b=E(),qd=Ja(),hb=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id,this.handler=this._makeErrorHandler()}return o(t,"OnUncaughtException"),t.prototype.setupOnce=function(){global.process.on("uncaughtException",this.handler.bind(this))},t.prototype._makeErrorHandler=function(){var e=this,r=2e3,n=!1,i=!1,s=!1,a;return function(u){var c=qd.logAndExitProcess,l=wd.getCurrentHub().getClient();if(e._options.onFatalError?c=e._options.onFatalError:l&&l.getOptions().onFatalError&&(c=l.getOptions().onFatalError),n)s?(_b.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),qd.logAndExitProcess(u)):i||(i=!0,setTimeout(function(){s||(s=!0,c(a,u))},r));else{var f=wd.getCurrentHub();a=u,n=!0,f.getIntegration(t)?f.withScope(function(d){d.setLevel(pb.Severity.Fatal),f.captureException(u,{originalException:u,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),s||(s=!0,c(u))}):s||(s=!0,c(u))}}},t.id="OnUncaughtException",t}();Xa.OnUncaughtException=hb});var Rd=p(Za=>{Object.defineProperty(Za,"__esModule",{value:!0});var gb=B(),xd=E(),vb=Ja(),mb=function(){function t(e){e===void 0&&(e={mode:"warn"}),this._options=e,this.name=t.id}return o(t,"OnUnhandledRejection"),t.prototype.setupOnce=function(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))},t.prototype.sendUnhandledPromise=function(e,r){var n=gb.getCurrentHub();if(!n.getIntegration(t)){this._handleRejection(e);return}var i=r.domain&&r.domain.sentryContext||{};n.withScope(function(s){s.setExtra("unhandledPromiseRejection",!0),i.user&&s.setUser(i.user),i.tags&&s.setTags(i.tags),i.extra&&s.setExtras(i.extra),n.captureException(e,{originalException:r,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})}),this._handleRejection(e)},t.prototype._handleRejection=function(e){var r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";this._options.mode==="warn"?xd.consoleSandbox(function(){console.warn(r),console.error(e&&e.stack?e.stack:e)}):this._options.mode==="strict"&&(xd.consoleSandbox(function(){console.warn(r)}),vb.logAndExitProcess(e))},t.id="OnUnhandledRejection",t}();Za.OnUnhandledRejection=mb});var Cd=p(Qa=>{Object.defineProperty(Qa,"__esModule",{value:!0});var Md=T(),Pd=B(),er=E(),yb=ya(),bb="cause",Sb=5,Eb=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._key=e.key||bb,this._limit=e.limit||Sb}return o(t,"LinkedErrors"),t.prototype.setupOnce=function(){Pd.addGlobalEventProcessor(function(e,r){var n=Pd.getCurrentHub().getIntegration(t);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(e,r):e}return e})},t.prototype._handler=function(e,r){var n=this;return!e.exception||!e.exception.values||!r||!er.isInstanceOf(r.originalException,Error)?er.SyncPromise.resolve(e):new er.SyncPromise(function(i){n._walkErrorTree(r.originalException,n._key).then(function(s){e&&e.exception&&e.exception.values&&(e.exception.values=Md.__spread(s,e.exception.values)),i(e)}).then(null,function(){i(e)})})},t.prototype._walkErrorTree=function(e,r,n){var i=this;return n===void 0&&(n=[]),!er.isInstanceOf(e[r],Error)||n.length+1>=this._limit?er.SyncPromise.resolve(n):new er.SyncPromise(function(s,a){yb.getExceptionFromError(e[r]).then(function(u){i._walkErrorTree(e[r],r,Md.__spread([u],n)).then(s).then(null,function(){a()})}).then(null,function(){a()})})},t.id="LinkedErrors",t}();Qa.LinkedErrors=Eb});var jd=p(to=>{Object.defineProperty(to,"__esModule",{value:!0});var kd=T(),Ad=require("fs"),Nd=require("path"),eo;function Tb(){try{return require.cache?Object.keys(require.cache):[]}catch(t){return[]}}o(Tb,"getPaths");function Ob(){var t=require.main&&require.main.paths||[],e=Tb(),r={},n={};return e.forEach(function(i){var s=i,a=o(function(){var u=s;if(s=Nd.dirname(u),!(!s||u===s||n[u])){if(t.indexOf(s)<0)return a();var c=Nd.join(u,"package.json");if(n[u]=!0,!Ad.existsSync(c))return a();try{var l=JSON.parse(Ad.readFileSync(c,"utf8"));r[l.name]=l.version}catch(f){}}},"updir");a()}),r}o(Ob,"collectModules");var wb=function(){function t(){this.name=t.id}return o(t,"Modules"),t.prototype.setupOnce=function(e,r){var n=this;e(function(i){return r().getIntegration(t)?kd.__assign(kd.__assign({},i),{modules:n._getModules()}):i})},t.prototype._getModules=function(){return eo||(eo=Ob()),eo},t.id="Modules",t}();to.Modules=wb});var ro=p(st=>{Object.defineProperty(st,"__esModule",{value:!0});var qb=gd();st.Console=qb.Console;var Ib=Od();st.Http=Ib.Http;var xb=Id();st.OnUncaughtException=xb.OnUncaughtException;var Rb=Rd();st.OnUnhandledRejection=Rb.OnUnhandledRejection;var Mb=Cd();st.LinkedErrors=Mb.LinkedErrors;var Pb=jd();st.Modules=Pb.Modules});var no=p(Me=>{Object.defineProperty(Me,"__esModule",{value:!0});var Yr=T(),at=B(),Dd=ae(),Fd=J(),Cb=E(),kb=require("domain"),Ab=Ba(),zr=ro();Me.defaultIntegrations=[new at.Integrations.InboundFilters,new at.Integrations.FunctionToString,new zr.Console,new zr.Http,new zr.OnUncaughtException,new zr.OnUnhandledRejection,new zr.LinkedErrors];function Nb(t){t===void 0&&(t={});var e,r=Dd.getMainCarrier(),n=((e=r.__SENTRY__)===null||e===void 0?void 0:e.integrations)||[];if(t.defaultIntegrations=t.defaultIntegrations===!1?[]:Yr.__spread(Array.isArray(t.defaultIntegrations)?t.defaultIntegrations:Me.defaultIntegrations,n),t.dsn===void 0&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN),t.tracesSampleRate===void 0&&process.env.SENTRY_TRACES_SAMPLE_RATE){var i=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(i)&&(t.tracesSampleRate=i)}if(t.release===void 0){var s=Hd();s!==void 0?t.release=s:t.autoSessionTracking=!1}t.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),kb.active&&Dd.setHubOnCarrier(r,at.getCurrentHub()),at.initAndBind(Ab.NodeClient,t),t.autoSessionTracking&&Ub()}o(Nb,"init");Me.init=Nb;function jb(){return at.getCurrentHub().lastEventId()}o(jb,"lastEventId");Me.lastEventId=jb;function Db(t){return Yr.__awaiter(this,void 0,void 0,function(){var e;return Yr.__generator(this,function(r){return e=at.getCurrentHub().getClient(),e?[2,e.flush(t)]:[2,Promise.reject(!1)]})})}o(Db,"flush");Me.flush=Db;function Fb(t){return Yr.__awaiter(this,void 0,void 0,function(){var e;return Yr.__generator(this,function(r){return e=at.getCurrentHub().getClient(),e?[2,e.close(t)]:[2,Promise.reject(!1)]})})}o(Fb,"close");Me.close=Fb;function Hb(t){if(t===void 0)return!1;var e=t&&t.getOptions();return e&&e.autoSessionTracking!==void 0?e.autoSessionTracking:!1}o(Hb,"isAutoSessionTrackingEnabled");Me.isAutoSessionTrackingEnabled=Hb;function Hd(t){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;var e=Cb.getGlobalObject();return e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id?e.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||t}o(Hd,"getSentryRelease");Me.getSentryRelease=Hd;function Ub(){var t=at.getCurrentHub();t.startSession(),process.on("beforeExit",function(){var e,r=(e=t.getScope())===null||e===void 0?void 0:e.getSession(),n=[Fd.SessionStatus.Exited,Fd.SessionStatus.Crashed];r&&!n.includes(r.status)&&t.endSession()})}o(Ub,"startSessionTracking")});var Ld=p(so=>{Object.defineProperty(so,"__esModule",{value:!0});var Ud=T(),ci=require("fs"),io=require("path");function Lb(t){var e=io.resolve(t);if(!ci.existsSync(e))throw new Error("Cannot read contents of "+e+". Directory does not exist.");if(!ci.statSync(e).isDirectory())throw new Error("Cannot read contents of "+e+", because it is not a directory.");var r=o(function(n){return ci.readdirSync(n).reduce(function(i,s){var a=io.join(n,s);return ci.statSync(a).isDirectory()?Ud.__spread(i,r(a)):Ud.__spread(i,[a])},[])},"deepReadCurrentDir");return r(e).map(function(n){return io.relative(e,n)})}o(Lb,"deepReadDirSync");so.deepReadDirSync=Lb});var ot=p(tr=>{Object.defineProperty(tr,"__esModule",{value:!0});var Bd;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(Bd=tr.SpanStatus||(tr.SpanStatus={}));(function(t){function e(r){if(r<400)return t.Ok;if(r>=400&&r<500)switch(r){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}o(e,"fromHttpCode"),t.fromHttpCode=e})(Bd=tr.SpanStatus||(tr.SpanStatus={}))});var ut=p(Pe=>{Object.defineProperty(Pe,"__esModule",{value:!0});var Gd=ae();Pe.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Bb(t){t===void 0&&(t=(e=Gd.getCurrentHub().getClient())===null||e===void 0?void 0:e.getOptions());var e;return t?"tracesSampleRate"in t||"tracesSampler"in t:!1}o(Bb,"hasTracingEnabled");Pe.hasTracingEnabled=Bb;function Gb(t){var e=t.match(Pe.TRACEPARENT_REGEXP);if(e){var r=void 0;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}}o(Gb,"extractTraceparentData");Pe.extractTraceparentData=Gb;function Wb(t){t===void 0&&(t=Gd.getCurrentHub());var e,r;return(r=(e=t)===null||e===void 0?void 0:e.getScope())===null||r===void 0?void 0:r.getTransaction()}o(Wb,"getActiveTransaction");Pe.getActiveTransaction=Wb;function Yb(t){return t/1e3}o(Yb,"msToSec");Pe.msToSec=Yb;function zb(t){return t*1e3}o(zb,"secToMs");Pe.secToMs=zb;var $b=E();Pe.stripUrlQueryAndFragment=$b.stripUrlQueryAndFragment});var zd=p(oo=>{Object.defineProperty(oo,"__esModule",{value:!0});var ao=E(),Wd=ot(),Vb=ut();function Kb(){ao.addInstrumentationHandler({callback:Yd,type:"error"}),ao.addInstrumentationHandler({callback:Yd,type:"unhandledrejection"})}o(Kb,"registerErrorInstrumentation");oo.registerErrorInstrumentation=Kb;function Yd(){var t=Vb.getActiveTransaction();t&&(ao.logger.log("[Tracing] Transaction: "+Wd.SpanStatus.InternalError+" -> Global error occured"),t.setStatus(Wd.SpanStatus.InternalError))}o(Yd,"errorCallback")});var fi=p(li=>{Object.defineProperty(li,"__esModule",{value:!0});var rr=T(),wt=E(),uo=ot(),Jb=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return o(t,"SpanRecorder"),t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}();li.SpanRecorder=Jb;var Xb=function(){function t(e){if(this.traceId=wt.uuid4(),this.spanId=wt.uuid4().substring(16),this.startTimestamp=wt.timestampWithMs(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return o(t,"Span"),t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var r=new t(rr.__assign(rr.__assign({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},t.prototype.setTag=function(e,r){var n;return this.tags=rr.__assign(rr.__assign({},this.tags),(n={},n[e]=r,n)),this},t.prototype.setData=function(e,r){var n;return this.data=rr.__assign(rr.__assign({},this.data),(n={},n[e]=r,n)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var r=uo.SpanStatus.fromHttpCode(e);return r!==uo.SpanStatus.UnknownError&&this.setStatus(r),this},t.prototype.isSuccess=function(){return this.status===uo.SpanStatus.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:wt.timestampWithMs()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return wt.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var r,n,i,s,a;return this.data=(r=e.data,r!=null?r:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(n=e.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(a=e.traceId,a!=null?a:this.traceId),this},t.prototype.getTraceContext=function(){return wt.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return wt.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();li.Span=Xb});var di=p(co=>{Object.defineProperty(co,"__esModule",{value:!0});var nr=T(),$d=ae(),ir=E(),Vd=fi(),Zb=function(t){nr.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._measurements={},i._hub=$d.getCurrentHub(),ir.isInstanceOf(n,$d.Hub)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return o(e,"Transaction"),e.prototype.setName=function(r){this.name=r},e.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new Vd.SpanRecorder(r)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(r){this._measurements=nr.__assign({},r)},e.prototype.setMetadata=function(r){this.metadata=nr.__assign(nr.__assign({},this.metadata),r)},e.prototype.finish=function(r){var n=this;if(this.endTimestamp===void 0){if(this.name||(ir.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,r),this.sampled!==!0){ir.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(u){return u!==n&&u.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(u,c){return u.endTimestamp&&c.endTimestamp?u.endTimestamp>c.endTimestamp?u:c:u}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},a=Object.keys(this._measurements).length>0;return a&&(ir.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),ir.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},e.prototype.toContext=function(){var r=t.prototype.toContext.call(this);return ir.dropUndefinedKeys(nr.__assign(nr.__assign({},r),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(r){var n;return t.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},e}(Vd.Span);co.Transaction=Zb});var pi=p(sr=>{Object.defineProperty(sr,"__esModule",{value:!0});var lo=T(),z=E(),Qb=fi(),Kd=ot(),eS=di();sr.DEFAULT_IDLE_TIMEOUT=1e3;var Jd=function(t){lo.__extends(e,t);function e(r,n,i,s){i===void 0&&(i="");var a=t.call(this,s)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return o(e,"IdleTransactionSpanRecorder"),e.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:z.timestampWithMs(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),t.prototype.add.call(this,r)},e}(Qb.SpanRecorder);sr.IdleTransactionSpanRecorder=Jd;var tS=function(t){lo.__extends(e,t);function e(r,n,i,s){i===void 0&&(i=sr.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var a=t.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=s,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&s&&(Xd(n),z.logger.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(u){return u.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return o(e,"IdleTransaction"),e.prototype.finish=function(r){var n,i,s=this;if(r===void 0&&(r=z.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){z.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=lo.__values(this._beforeFinishCallbacks),u=a.next();!u.done;u=a.next()){var c=u.value;c(this,r)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(l){if(l.spanId===s.spanId)return!0;l.endTimestamp||(l.endTimestamp=r,l.setStatus(Kd.SpanStatus.Cancelled),z.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(l,void 0,2)));var f=l.startTimestamp<r;return f||z.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(l,void 0,2)),f}),z.logger.log("[Tracing] flushing IdleTransaction")}else z.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&Xd(this._idleHub),t.prototype.finish.call(this,r)},e.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},e.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=o(function(a){n._finished||n._pushActivity(a)},"pushActivity"),s=o(function(a){n._finished||n._popActivity(a)},"popActivity");this.spanRecorder=new Jd(i,s,this.spanId,r),z.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),z.logger.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,z.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(z.logger.log("[Tracing] popActivity "+r),delete this.activities[r],z.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=z.timestampWithMs()+i/1e3;setTimeout(function(){n._finished||n.finish(s)},i)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,s){return i+s}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(z.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Kd.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var r=this;z.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},e}(eS.Transaction);sr.IdleTransaction=tS;function Xd(t){if(t){var e=t.getScope();if(e){var r=e.getTransaction();r&&e.setSpan(void 0)}}}o(Xd,"clearActiveTransaction")});var hi=p(($r,Vr)=>{Object.defineProperty($r,"__esModule",{value:!0});var fo=T(),Zd=ae(),_i=J(),he=E(),rS=zd(),nS=pi(),iS=di(),sS=ut();function aS(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}o(aS,"traceHeaders");function Qd(t,e,r){if(!sS.hasTracingEnabled())return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:_i.TransactionSamplingMethod.Explicit}}),t;var n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({transactionSampling:{method:_i.TransactionSamplingMethod.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,t.setMetadata({transactionSampling:{method:_i.TransactionSamplingMethod.Inheritance}})):(n=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:_i.TransactionSamplingMethod.Rate,rate:Number(n)}})),oS(n)?n?(t.sampled=Math.random()<n,t.sampled?(he.logger.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(he.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),t)):(he.logger.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(he.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}o(Qd,"sample");function oS(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(he.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(he.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}o(oS,"isValidSampleRate");function uS(t,e){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},s=new iS.Transaction(t,this);return s=Qd(s,i,fo.__assign({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),s}o(uS,"_startTransaction");function cS(t,e,r,n,i){var s,a,u=((s=t.getClient())===null||s===void 0?void 0:s.getOptions())||{},c=new nS.IdleTransaction(e,t,r,n);return c=Qd(c,u,fo.__assign({parentSampled:e.parentSampled,transactionContext:e},i)),c.sampled&&c.initSpanRecorder((a=u._experiments)===null||a===void 0?void 0:a.maxSpans),c}o(cS,"startIdleTransaction");$r.startIdleTransaction=cS;function ep(){var t=Zd.getMainCarrier();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=uS),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=aS))}o(ep,"_addTracingExtensions");$r._addTracingExtensions=ep;function lS(){var t=Zd.getMainCarrier();if(!!t.__SENTRY__){var e={mongodb:function(){var n=he.dynamicRequire(Vr,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=he.dynamicRequire(Vr,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=he.dynamicRequire(Vr,"./integrations/mysql");return new n.Mysql},pg:function(){var n=he.dynamicRequire(Vr,"./integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(function(n){return!!he.loadModule(n)}).map(function(n){try{return e[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(t.__SENTRY__.integrations=fo.__spread(t.__SENTRY__.integrations||[],r))}}o(lS,"_autoloadDatabaseIntegrations");function fS(){ep(),he.isNodeEnv()&&lS(),rS.registerErrorInstrumentation()}o(fS,"addExtensionMethods");$r.addExtensionMethods=fS});var rp=p(_o=>{Object.defineProperty(_o,"__esModule",{value:!0});var po=E(),tp=ot(),dS=ut(),gi=po.getGlobalObject();function pS(){gi&&gi.document?gi.document.addEventListener("visibilitychange",function(){var t=dS.getActiveTransaction();gi.document.hidden&&t&&(po.logger.log("[Tracing] Transaction: "+tp.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(tp.SpanStatus.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):po.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(pS,"registerBackgroundTabDetection");_o.registerBackgroundTabDetection=pS});var vi=p(ho=>{Object.defineProperty(ho,"__esModule",{value:!0});ho.bindReporter=function(t,e,r,n){var i;return function(){r&&e.isFinal&&r.disconnect(),e.value>=0&&(n||e.isFinal||document.visibilityState==="hidden")&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||i===void 0)&&(t(e),i=e.value))}}});var np=p(go=>{Object.defineProperty(go,"__esModule",{value:!0});go.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var mi=p(vo=>{Object.defineProperty(vo,"__esModule",{value:!0});var _S=np();vo.initMetric=function(t,e){return e===void 0&&(e=-1),{name:t,value:e,delta:0,entries:[],id:_S.generateUniqueID(),isFinal:!1}}});var yi=p(mo=>{Object.defineProperty(mo,"__esModule",{value:!0});mo.observe=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(n){return n.getEntries().map(e)});return r.observe({type:t,buffered:!0}),r}}catch(n){}}});var Kr=p(yo=>{Object.defineProperty(yo,"__esModule",{value:!0});var ip=!1,sp=!1,hS=o(function(t){ip=!t.persisted},"onPageHide"),gS=o(function(){addEventListener("pagehide",hS),addEventListener("beforeunload",function(){})},"addListeners");yo.onHidden=function(t,e){e===void 0&&(e=!1),sp||(gS(),sp=!0),addEventListener("visibilitychange",function(r){var n=r.timeStamp;document.visibilityState==="hidden"&&t({timeStamp:n,isUnloading:ip})},{capture:!0,once:e})}});var ap=p(bo=>{Object.defineProperty(bo,"__esModule",{value:!0});var vS=vi(),mS=mi(),yS=yi(),bS=Kr();bo.getCLS=function(t,e){e===void 0&&(e=!1);var r=mS.initMetric("CLS",0),n,i=o(function(a){a.hadRecentInput||(r.value+=a.value,r.entries.push(a),n())},"entryHandler"),s=yS.observe("layout-shift",i);s&&(n=vS.bindReporter(t,r,s,e),bS.onHidden(function(a){var u=a.isUnloading;s.takeRecords().map(i),u&&(r.isFinal=!0),n()}))}});var Si=p(So=>{Object.defineProperty(So,"__esModule",{value:!0});var SS=Kr(),bi;So.getFirstHidden=function(){return bi===void 0&&(bi=document.visibilityState==="hidden"?0:Infinity,SS.onHidden(function(t){var e=t.timeStamp;return bi=e},!0)),{get timeStamp(){return bi}}}});var op=p(Eo=>{Object.defineProperty(Eo,"__esModule",{value:!0});var ES=vi(),TS=Si(),OS=mi(),wS=yi(),qS=Kr();Eo.getFID=function(t){var e=OS.initMetric("FID"),r=TS.getFirstHidden(),n=o(function(a){a.startTime<r.timeStamp&&(e.value=a.processingStart-a.startTime,e.entries.push(a),e.isFinal=!0,s())},"entryHandler"),i=wS.observe("first-input",n),s=ES.bindReporter(t,e,i);i?qS.onHidden(function(){i.takeRecords().map(n),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(a,u){u.timeStamp<r.timeStamp&&(e.value=a,e.isFinal=!0,e.entries=[{entryType:"first-input",name:u.type,target:u.target,cancelable:u.cancelable,startTime:u.timeStamp,processingStart:u.timeStamp+a}],s())})}});var up=p(Oo=>{Object.defineProperty(Oo,"__esModule",{value:!0});var To;Oo.whenInput=function(){return To||(To=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),To}});var cp=p(wo=>{Object.defineProperty(wo,"__esModule",{value:!0});var IS=vi(),xS=Si(),RS=mi(),MS=yi(),PS=Kr(),CS=up();wo.getLCP=function(t,e){e===void 0&&(e=!1);var r=RS.initMetric("LCP"),n=xS.getFirstHidden(),i,s=o(function(c){var l=c.startTime;l<n.timeStamp?(r.value=l,r.entries.push(c)):r.isFinal=!0,i()},"entryHandler"),a=MS.observe("largest-contentful-paint",s);if(a){i=IS.bindReporter(t,r,a,e);var u=o(function(){r.isFinal||(a.takeRecords().map(s),r.isFinal=!0,i())},"onFinal");CS.whenInput().then(u),PS.onHidden(u,!0)}}});var dp=p(Jr=>{Object.defineProperty(Jr,"__esModule",{value:!0});var lp=T(),j=E(),H=ut(),kS=ap(),AS=op(),NS=cp(),jS=Si(),le=j.getGlobalObject(),DS=function(){function t(){var e;this._measurements={},this._performanceCursor=0,!j.isNodeEnv()&&((e=le)===null||e===void 0?void 0:e.performance)&&(le.performance.mark&&le.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return o(t,"MetricsInstrumentation"),t.prototype.addPerformanceEntries=function(e){var r=this;if(!(!le||!le.performance||!le.performance.getEntries||!j.browserPerformanceTimeOrigin)){j.logger.log("[Tracing] Adding & adjusting spans using Performance API");var n=H.msToSec(j.browserPerformanceTimeOrigin),i;if(le.document&&le.document.scripts){for(var s=0;s<le.document.scripts.length;s++)if(le.document.scripts[s].dataset.entry==="true"){i=le.document.scripts[s].src;break}}var a,u,c,l;if(le.performance.getEntries().slice(this._performanceCursor).forEach(function(d){var _=H.msToSec(d.startTime),h=H.msToSec(d.duration);if(!(e.op==="navigation"&&n+_<e.startTimestamp))switch(d.entryType){case"navigation":{FS(e,d,n),c=n+H.msToSec(d.responseStart),l=n+H.msToSec(d.requestStart);break}case"mark":case"paint":case"measure":{var g=HS(e,d,_,h,n);u===void 0&&d.name==="sentry-tracing-init"&&(u=g);var v=jS.getFirstHidden(),m=d.startTime<v.timeStamp;d.name==="first-paint"&&m&&(j.logger.log("[Measurements] Adding FP"),r._measurements.fp={value:d.startTime},r._measurements["mark.fp"]={value:g}),d.name==="first-contentful-paint"&&m&&(j.logger.log("[Measurements] Adding FCP"),r._measurements.fcp={value:d.startTime},r._measurements["mark.fcp"]={value:g});break}case"resource":{var S=d.name.replace(window.location.origin,""),x=fp(e,d,S,_,h,n);a===void 0&&(i||"").indexOf(S)>-1&&(a=x);break}default:}}),a!==void 0&&u!==void 0&&lt(e,{description:"evaluation",endTimestamp:u,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var f=H.msToSec(j.browserPerformanceTimeOrigin);typeof c=="number"&&(j.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(c-e.startTimestamp)*1e3},typeof l=="number"&&l<=c&&(this._measurements["ttfb.requestTime"]={value:(c-l)*1e3})),["fcp","fp","lcp"].forEach(function(d){if(!(!r._measurements[d]||f>=e.startTimestamp)){var _=r._measurements[d].value,h=f+H.msToSec(_),g=Math.abs((h-e.startTimestamp)*1e3),v=g-_;j.logger.log("[Measurements] Normalized "+d+" from "+_+" to "+g+" ("+v+")"),r._measurements[d].value=g}}),this._measurements["mark.fid"]&&this._measurements.fid&&lt(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+H.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},t.prototype._tagMetricInfo=function(e){this._lcpEntry&&(j.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",j.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(j.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(r,n){return e.setTag("cls.source."+(n+1),j.htmlTreeAsString(r.node))}))},t.prototype._trackCLS=function(){var e=this;kS.getCLS(function(r){var n=r.entries.pop();!n||(j.logger.log("[Measurements] Adding CLS"),e._measurements.cls={value:r.value},e._clsEntry=n)})},t.prototype._trackNavigator=function(e){var r=le.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Ei(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Ei(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Ei(r.deviceMemory)&&e.setTag("deviceMemory",String(r.deviceMemory)),Ei(r.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},t.prototype._trackLCP=function(){var e=this;NS.getLCP(function(r){var n=r.entries.pop();if(!!n){var i=H.msToSec(j.browserPerformanceTimeOrigin),s=H.msToSec(n.startTime);j.logger.log("[Measurements] Adding LCP"),e._measurements.lcp={value:r.value},e._measurements["mark.lcp"]={value:i+s},e._lcpEntry=n}})},t.prototype._trackFID=function(){var e=this;AS.getFID(function(r){var n=r.entries.pop();if(!!n){var i=H.msToSec(j.browserPerformanceTimeOrigin),s=H.msToSec(n.startTime);j.logger.log("[Measurements] Adding FID"),e._measurements.fid={value:r.value},e._measurements["mark.fid"]={value:i+s}}})},t}();Jr.MetricsInstrumentation=DS;function FS(t,e,r){ct({transaction:t,entry:e,event:"unloadEvent",timeOrigin:r}),ct({transaction:t,entry:e,event:"redirect",timeOrigin:r}),ct({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:r}),ct({transaction:t,entry:e,event:"loadEvent",timeOrigin:r}),ct({transaction:t,entry:e,event:"connect",timeOrigin:r}),ct({transaction:t,entry:e,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),ct({transaction:t,entry:e,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),ct({transaction:t,entry:e,event:"domainLookup",timeOrigin:r,description:"DNS"}),US(t,e,r)}o(FS,"addNavigationSpans");function HS(t,e,r,n,i){var s=i+r,a=s+n;return lt(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:s}),s}o(HS,"addMeasureSpans");function fp(t,e,r,n,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var u=s+n,c=u+i;return lt(t,{description:r,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:u,data:a}),c}}o(fp,"addResourceSpans");Jr.addResourceSpans=fp;function ct(t){var e=t.transaction,r=t.entry,n=t.event,i=t.timeOrigin,s=t.eventEnd,a=t.description,u=s?r[s]:r[n+"End"],c=r[n+"Start"];!c||!u||lt(e,{op:"browser",description:a!=null?a:n,startTimestamp:i+H.msToSec(c),endTimestamp:i+H.msToSec(u)})}o(ct,"addPerformanceNavigationTiming");function US(t,e,r){lt(t,{op:"browser",description:"request",startTimestamp:r+H.msToSec(e.requestStart),endTimestamp:r+H.msToSec(e.responseEnd)}),lt(t,{op:"browser",description:"response",startTimestamp:r+H.msToSec(e.responseStart),endTimestamp:r+H.msToSec(e.responseEnd)})}o(US,"addRequest");function lt(t,e){var r=e.startTimestamp,n=lp.__rest(e,["startTimestamp"]);return r&&t.startTimestamp>r&&(t.startTimestamp=r),t.startChild(lp.__assign({startTimestamp:r},n))}o(lt,"_startChild");Jr._startChild=lt;function Ei(t){return typeof t=="number"&&isFinite(t)}o(Ei,"isMeasurementValue")});var qo=p(Ge=>{Object.defineProperty(Ge,"__esModule",{value:!0});var Be=T(),Xr=E(),LS=ot(),Ti=ut();Ge.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];Ge.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:Ge.DEFAULT_TRACING_ORIGINS};function BS(t){var e=Be.__assign(Be.__assign({},Ge.defaultRequestInstrumentationOptions),t),r=e.traceFetch,n=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,a={},u=o(function(f){if(a[f])return a[f];var d=i;return a[f]=d.some(function(_){return Xr.isMatchingPattern(f,_)})&&!Xr.isMatchingPattern(f,"sentry_key"),a[f]},"defaultShouldCreateSpan"),c=u;typeof s=="function"&&(c=o(function(f){return u(f)&&s(f)},"shouldCreateSpan"));var l={};r&&Xr.addInstrumentationHandler({callback:function(f){pp(f,c,l)},type:"fetch"}),n&&Xr.addInstrumentationHandler({callback:function(f){_p(f,c,l)},type:"xhr"})}o(BS,"instrumentOutgoingRequests");Ge.instrumentOutgoingRequests=BS;function pp(t,e,r){if(!(!Ti.hasTracingEnabled()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp&&t.fetchData.__span){var n=r[t.fetchData.__span];n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus(LS.SpanStatus.InternalError),n.finish(),delete r[t.fetchData.__span]);return}var i=Ti.getActiveTransaction();if(i){var n=i.startChild({data:Be.__assign(Be.__assign({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=n.spanId,r[n.spanId]=n;var s=t.args[0]=t.args[0],a=t.args[1]=t.args[1]||{},u=a.headers;Xr.isInstanceOf(s,Request)&&(u=s.headers),u?typeof u.append=="function"?u.append("sentry-trace",n.toTraceparent()):Array.isArray(u)?u=Be.__spread(u,[["sentry-trace",n.toTraceparent()]]):u=Be.__assign(Be.__assign({},u),{"sentry-trace":n.toTraceparent()}):u={"sentry-trace":n.toTraceparent()},a.headers=u}}}o(pp,"fetchCallback");Ge.fetchCallback=pp;function _p(t,e,r){var n,i;if(!(!Ti.hasTracingEnabled()||((n=t.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=t.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&e(t.xhr.__sentry_xhr__.url)))){var s=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){var a=r[t.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(s.status_code),a.finish(),delete r[t.xhr.__sentry_xhr_span_id__]);return}var u=Ti.getActiveTransaction();if(u){var a=u.startChild({data:Be.__assign(Be.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,r[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(l){}}}}o(_p,"xhrCallback");Ge.xhrCallback=_p});var hp=p(Io=>{Object.defineProperty(Io,"__esModule",{value:!0});var Oi=E(),Zr=Oi.getGlobalObject();function GS(t,e,r){if(e===void 0&&(e=!0),r===void 0&&(r=!0),!Zr||!Zr.location){Oi.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var n=Zr.location.href,i;e&&(i=t({name:Zr.location.pathname,op:"pageload"})),r&&Oi.addInstrumentationHandler({callback:function(s){var a=s.to,u=s.from;if(u===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}u!==a&&(n=void 0,i&&(Oi.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:Zr.location.pathname,op:"navigation"}))},type:"history"})}o(GS,"instrumentRoutingWithDefaults");Io.instrumentRoutingWithDefaults=GS});var yp=p(qt=>{Object.defineProperty(qt,"__esModule",{value:!0});var We=T(),ar=E(),WS=hi(),YS=pi(),zS=ot(),gp=ut(),$S=rp(),VS=dp(),wi=qo(),KS=hp();qt.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var JS=We.__assign({idleTimeout:YS.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:qt.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:KS.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},wi.defaultRequestInstrumentationOptions),XS=function(){function t(e){this.name=t.id,this._metrics=new VS.MetricsInstrumentation,this._emitOptionsWarning=!1;var r=wi.defaultRequestInstrumentationOptions.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?r=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=We.__assign(We.__assign(We.__assign({},JS),e),{tracingOrigins:r})}return o(t,"BrowserTracing"),t.prototype.setupOnce=function(e,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(ar.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),ar.logger.warn("[Tracing] We added a reasonable default for you: "+wi.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,a=i.startTransactionOnLocationChange,u=i.startTransactionOnPageLoad,c=i.markBackgroundTransactions,l=i.traceFetch,f=i.traceXHR,d=i.tracingOrigins,_=i.shouldCreateSpanForRequest;s(function(h){return n._createRouteTransaction(h)},u,a),c&&$S.registerBackgroundTabDetection(),wi.instrumentOutgoingRequests({traceFetch:l,traceXHR:f,tracingOrigins:d,shouldCreateSpanForRequest:_})},t.prototype._createRouteTransaction=function(e){var r=this;if(!this._getCurrentHub){ar.logger.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,s=n.idleTimeout,a=n.maxTransactionDuration,u=e.op==="pageload"?vp():void 0,c=We.__assign(We.__assign(We.__assign({},e),u),{trimEnd:!0}),l=typeof i=="function"?i(c):c,f=l===void 0?We.__assign(We.__assign({},c),{sampled:!1}):l;f.sampled===!1&&ar.logger.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),ar.logger.log("[Tracing] Starting "+f.op+" transaction on scope");var d=this._getCurrentHub(),_=ar.getGlobalObject().location,h=WS.startIdleTransaction(d,f,s,!0,{location:_});return h.registerBeforeFinishCallback(function(g,v){r._metrics.addPerformanceEntries(g),ZS(gp.secToMs(a),g,v)}),h},t.id="BrowserTracing",t}();qt.BrowserTracing=XS;function vp(){var t=mp("sentry-trace");if(t)return gp.extractTraceparentData(t)}o(vp,"getHeaderContext");qt.getHeaderContext=vp;function mp(t){var e=document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}o(mp,"getMetaContent");qt.getMetaContent=mp;function ZS(t,e,r){var n=r-e.startTimestamp,i=r&&(n>t||n<0);i&&(e.setStatus(zS.SpanStatus.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}o(ZS,"adjustTransactionDuration")});var xo=p(Qr=>{Object.defineProperty(Qr,"__esModule",{value:!0});var QS=yp();Qr.BrowserTracing=QS.BrowserTracing;var bp=qo();Qr.instrumentOutgoingRequests=bp.instrumentOutgoingRequests;Qr.defaultRequestInstrumentationOptions=bp.defaultRequestInstrumentationOptions});var Ep=p(Mo=>{Object.defineProperty(Mo,"__esModule",{value:!0});var Ro=T(),eE=E(),tE=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return o(t,"Express"),t.prototype.setupOnce=function(){if(!this._router){eE.logger.error("ExpressIntegration is missing an Express instance");return}iE(this._router,this._methods)},t.id="Express",t}();Mo.Express=tE;function Sp(t,e){var r=t.length;switch(r){case 2:return function(n,i){var s=i.__sentry_transaction;if(s){var a=s.startChild({description:t.name,op:"middleware."+e});i.once("finish",function(){a.finish()})}return t.call(this,n,i)};case 3:return function(n,i,s){var a,u=i.__sentry_transaction,c=(a=u)===null||a===void 0?void 0:a.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var d;(d=c)===null||d===void 0||d.finish(),s.call.apply(s,Ro.__spread([this],l))})};case 4:return function(n,i,s,a){var u,c=s.__sentry_transaction,l=(u=c)===null||u===void 0?void 0:u.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,s,function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var _;(_=l)===null||_===void 0||_.finish(),a.call.apply(a,Ro.__spread([this],f))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}o(Sp,"wrap");function rE(t,e){return t.map(function(r){return typeof r=="function"?Sp(r,e):Array.isArray(r)?r.map(function(n){return typeof n=="function"?Sp(n,e):n}):r})}o(rE,"wrapMiddlewareArgs");function nE(t,e){var r=t[e];return t[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,Ro.__spread([this],rE(n,e)))},t}o(nE,"patchMiddleware");function iE(t,e){e===void 0&&(e=[]),e.forEach(function(r){return nE(t,r)})}o(iE,"instrumentMiddlewares")});var Tp=p(Po=>{Object.defineProperty(Po,"__esModule",{value:!0});var qi=E(),sE=function(){function t(){this.name=t.id}return o(t,"Postgres"),t.prototype.setupOnce=function(e,r){var n=qi.loadModule("pg");if(!n){qi.logger.error("Postgres Integration was unable to require `pg` package.");return}qi.fill(n.Client.prototype,"query",function(i){return function(s,a,u){var c,l,f,d=r().getScope(),_=(c=d)===null||c===void 0?void 0:c.getSpan(),h=(l=_)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof u=="function")return i.call(this,s,a,function(v,m){var S;(S=h)===null||S===void 0||S.finish(),u(v,m)});if(typeof a=="function")return i.call(this,s,function(v,m){var S;(S=h)===null||S===void 0||S.finish(),a(v,m)});var g=typeof a!="undefined"?i.call(this,s,a):i.call(this,s);return qi.isThenable(g)?g.then(function(v){var m;return(m=h)===null||m===void 0||m.finish(),v}):((f=h)===null||f===void 0||f.finish(),g)}})},t.id="Postgres",t}();Po.Postgres=sE});var Op=p(ko=>{Object.defineProperty(ko,"__esModule",{value:!0});var Co=E(),aE=function(){function t(){this.name=t.id}return o(t,"Mysql"),t.prototype.setupOnce=function(e,r){var n=Co.loadModule("mysql/lib/Connection.js");if(!n){Co.logger.error("Mysql Integration was unable to require `mysql` package.");return}Co.fill(n,"createQuery",function(i){return function(s,a,u){var c,l,f=r().getScope(),d=(c=f)===null||c===void 0?void 0:c.getSpan(),_=(l=d)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof u=="function"?i.call(this,s,a,function(h,g,v){var m;(m=_)===null||m===void 0||m.finish(),u(h,g,v)}):typeof a=="function"?i.call(this,s,function(h,g,v){var m;(m=_)===null||m===void 0||m.finish(),a(h,g,v)}):i.call(this,s,a,u)}})},t.id="Mysql",t}();ko.Mysql=aE});var wp=p(No=>{Object.defineProperty(No,"__esModule",{value:!0});var Ao=T(),Ii=E(),oE=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],uE={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},cE=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:oE,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}return o(t,"Mongo"),t.prototype.setupOnce=function(e,r){var n=this._useMongoose?"mongoose":"mongodb",i=Ii.loadModule(n);if(!i){Ii.logger.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},t.prototype._instrumentOperations=function(e,r,n){var i=this;r.forEach(function(s){return i._patchOperation(e,s,n)})},t.prototype._patchOperation=function(e,r,n){if(r in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);Ii.fill(e.prototype,r,function(s){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c,l,f,d,_=a[a.length-1],h=n().getScope(),g=(c=h)===null||c===void 0?void 0:c.getSpan();if(typeof _!="function"||r==="mapReduce"&&a.length===2){var v=(l=g)===null||l===void 0?void 0:l.startChild(i(this,r,a)),m=s.call.apply(s,Ao.__spread([this],a));return Ii.isThenable(m)?m.then(function(x){var C;return(C=v)===null||C===void 0||C.finish(),x}):((f=v)===null||f===void 0||f.finish(),m)}var S=(d=g)===null||d===void 0?void 0:d.startChild(i(this,r,a.slice(0,-1)));return s.call.apply(s,Ao.__spread([this],a.slice(0,-1),[function(x,C){var ye;(ye=S)===null||ye===void 0||ye.finish(),_(x,C)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,r,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:r,data:i},a=uE[r],u=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!u)return s;try{if(r==="mapReduce"){var c=Ao.__read(n,2),l=c[0],f=c[1];i[a[0]]=typeof l=="string"?l:l.name||"<anonymous>",i[a[1]]=typeof f=="string"?f:f.name||"<anonymous>"}else for(var d=0;d<a.length;d++)i[a[d]]=JSON.stringify(n[d])}catch(_){}return s},t.id="Mongo",t}();No.Mongo=cE});var qp=p(or=>{Object.defineProperty(or,"__esModule",{value:!0});var lE=Ep();or.Express=lE.Express;var fE=Tp();or.Postgres=fE.Postgres;var dE=Op();or.Mysql=dE.Mysql;var pE=wp();or.Mongo=pE.Mongo});var Mp=p($=>{Object.defineProperty($,"__esModule",{value:!0});var Ip=T(),_E=xo(),xp=hi();$.addExtensionMethods=xp.addExtensionMethods;var hE=qp(),gE=Ip.__assign(Ip.__assign({},hE),{BrowserTracing:_E.BrowserTracing});$.Integrations=gE;var vE=fi();$.Span=vE.Span;var mE=di();$.Transaction=mE.Transaction;var Rp=xo();$.registerRequestInstrumentation=Rp.instrumentOutgoingRequests;$.defaultRequestInstrumentationOptions=Rp.defaultRequestInstrumentationOptions;var yE=ot();$.SpanStatus=yE.SpanStatus;var bE=pi();$.IdleTransaction=bE.IdleTransaction;var SE=hi();$.startIdleTransaction=SE.startIdleTransaction;xp.addExtensionMethods();var en=ut();$.extractTraceparentData=en.extractTraceparentData;$.getActiveTransaction=en.getActiveTransaction;$.hasTracingEnabled=en.hasTracingEnabled;$.stripUrlQueryAndFragment=en.stripUrlQueryAndFragment;$.TRACEPARENT_REGEXP=en.TRACEPARENT_REGEXP});var Pp=p(jo=>{"use strict";jo.parse=wE;jo.serialize=qE;var EE=decodeURIComponent,TE=encodeURIComponent,OE=/; */,xi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function wE(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},i=t.split(OE),s=n.decode||EE,a=0;a<i.length;a++){var u=i[a],c=u.indexOf("=");if(!(c<0)){var l=u.substr(0,c).trim(),f=u.substr(++c,u.length).trim();f[0]=='"'&&(f=f.slice(1,-1)),r[l]==null&&(r[l]=IE(f,s))}}return r}o(wE,"parse");function qE(t,e,r){var n=r||{},i=n.encode||TE;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!xi.test(t))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!xi.test(s))throw new TypeError("argument val is invalid");var a=t+"="+s;if(n.maxAge!=null){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(u)}if(n.domain){if(!xi.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!xi.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var c=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}o(qE,"serialize");function IE(t,e){try{return e(t)}catch(r){return t}}o(IE,"tryDecode")});var Ap=p(xt=>{Object.defineProperty(xt,"__esModule",{value:!0});var Ce=T(),It=B(),xE=Mp(),Cp=J(),ur=E(),RE=Pp(),ME=require("domain"),PE=require("os"),CE=require("url"),tn=no();function kE(){return o(function(e,r,n){var i;e.headers&&ur.isString(e.headers["sentry-trace"])&&(i=xE.extractTraceparentData(e.headers["sentry-trace"]));var s=It.startTransaction(Ce.__assign({name:Ri(e,{path:!0,method:!0}),op:"http.server"},i),{request:Mi(e)});It.getCurrentHub().configureScope(function(a){a.setSpan(s)}),r.__sentry_transaction=s,r.once("finish",function(){setImmediate(function(){AE(s,e),s.setHttpStatus(r.statusCode),s.finish()})}),n()},"sentryTracingMiddleware")}o(kE,"tracingHandler");xt.tracingHandler=kE;function AE(t,e){!t||(t.name=Ri(e,{path:!0,method:!0}),t.setData("url",e.originalUrl),t.setData("baseUrl",e.baseUrl),t.setData("query",e.query))}o(AE,"addExpressReqToTransaction");function Ri(t,e){e===void 0&&(e={});var r,n=(r=t.method)===null||r===void 0?void 0:r.toUpperCase(),i="";t.route?i=""+(t.baseUrl||"")+t.route.path:(t.originalUrl||t.url)&&(i=ur.stripUrlQueryAndFragment(t.originalUrl||t.url||""));var s="";return e.method&&n&&(s+=n),e.method&&e.path&&(s+=" "),e.path&&i&&(s+=i),s}o(Ri,"extractExpressTransactionName");function NE(t,e){var r;switch(e){case"path":return Ri(t,{path:!0});case"handler":return((r=t.route)===null||r===void 0?void 0:r.stack[0].name)||"<anonymous>";case"methodPath":default:return Ri(t,{path:!0,method:!0})}}o(NE,"extractTransaction");var jE=["id","username","email"];function DE(t,e){var r={},n=Array.isArray(e)?e:jE;return n.forEach(function(i){t&&i in t&&(r[i]=t[i])}),r}o(DE,"extractUserData");var FE=["cookies","data","headers","method","query_string","url"];function Mi(t,e){e===void 0&&(e=FE);var r={},n=t.headers||t.header||{},i=t.method,s=t.hostname||t.host||n.host||"<no host>",a=t.protocol==="https"||t.secure||(t.socket||{}).encrypted?"https":"http",u=t.originalUrl||t.url||"",c=a+"://"+s+u;return e.forEach(function(l){switch(l){case"headers":r.headers=n;break;case"method":r.method=i;break;case"url":r.url=c;break;case"cookies":r.cookies=t.cookies||RE.parse(n.cookie||"");break;case"query_string":r.query_string=t.query||CE.parse(u||"",!1).query;break;case"data":if(i==="GET"||i==="HEAD")break;t.body!==void 0&&(r.data=ur.isString(t.body)?t.body:JSON.stringify(ur.normalize(t.body)));break;default:({}).hasOwnProperty.call(t,l)&&(r[l]=t[l])}}),r}o(Mi,"extractRequestData");xt.extractRequestData=Mi;function kp(t,e,r){if(r=Ce.__assign({ip:!1,request:!0,serverName:!0,transaction:!0,user:!0,version:!0},r),r.version&&(t.contexts=Ce.__assign(Ce.__assign({},t.contexts),{runtime:{name:"node",version:global.process.version}})),r.request){var n=Array.isArray(r.request)?Mi(e,r.request):Mi(e);t.request=Ce.__assign(Ce.__assign({},t.request),n)}if(r.serverName&&!t.server_name&&(t.server_name=global.process.env.SENTRY_NAME||PE.hostname()),r.user){var i=e.user&&ur.isPlainObject(e.user)?DE(e.user,r.user):{};Object.keys(i)&&(t.user=Ce.__assign(Ce.__assign({},t.user),i))}if(r.ip){var s=e.ip||e.connection&&e.connection.remoteAddress;s&&(t.user=Ce.__assign(Ce.__assign({},t.user),{ip_address:s}))}return r.transaction&&!t.transaction&&(t.transaction=NE(e,r.transaction)),t}o(kp,"parseRequest");xt.parseRequest=kp;function HE(t){var e=It.getCurrentHub(),r=e.getClient();if(r&&tn.isAutoSessionTrackingEnabled(r)){r.initSessionFlusher();var n=e.getScope();n&&n.getSession()&&n.setSession()}return o(function(s,a,u){if(t&&t.flushTimeout&&t.flushTimeout>0){var c=a.end;a.end=function(f,d,_){var h=this;tn.flush(t.flushTimeout).then(function(){c.call(h,f,d,_)}).then(null,function(g){ur.logger.error(g)})}}var l=ME.create();l.add(s),l.add(a),l.on("error",u),l.run(function(){var f=It.getCurrentHub();f.configureScope(function(d){d.addEventProcessor(function(g){return kp(g,s,t)});var _=f.getClient();if(tn.isAutoSessionTrackingEnabled(_)){var h=f.getScope();h&&h.setRequestSession({status:Cp.RequestSessionStatus.Ok})}}),a.once("finish",function(){var d=f.getClient();tn.isAutoSessionTrackingEnabled(d)&&setImmediate(function(){d&&d._captureRequestSession&&d._captureRequestSession()})}),u()})},"sentryRequestMiddleware")}o(HE,"requestHandler");xt.requestHandler=HE;function UE(t){var e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}o(UE,"getStatusCodeFromResponse");function LE(t){var e=UE(t);return e>=500}o(LE,"defaultShouldHandleError");function BE(t){return o(function(r,n,i,s){var a=t&&t.shouldHandleError||LE;if(a(r)){It.withScope(function(u){var c=i.__sentry_transaction;c&&u.getSpan()===void 0&&u.setSpan(c);var l=It.getCurrentHub().getClient();if(l&&tn.isAutoSessionTrackingEnabled(l)){var f=l._sessionFlusher!==void 0;if(f){var d=u.getRequestSession();d&&d.status!==void 0&&(d.status=Cp.RequestSessionStatus.Crashed)}}var _=It.captureException(r);i.sentry=_,s(r)});return}s(r)},"sentryErrorMiddleware")}o(BE,"errorHandler");xt.errorHandler=BE});var ge=p(O=>{Object.defineProperty(O,"__esModule",{value:!0});var Np=T(),jp=J();O.Severity=jp.Severity;O.Status=jp.Status;var A=B();O.addGlobalEventProcessor=A.addGlobalEventProcessor;O.addBreadcrumb=A.addBreadcrumb;O.captureException=A.captureException;O.captureEvent=A.captureEvent;O.captureMessage=A.captureMessage;O.configureScope=A.configureScope;O.getHubFromCarrier=A.getHubFromCarrier;O.getCurrentHub=A.getCurrentHub;O.Hub=A.Hub;O.makeMain=A.makeMain;O.Scope=A.Scope;O.startTransaction=A.startTransaction;O.SDK_VERSION=A.SDK_VERSION;O.setContext=A.setContext;O.setExtra=A.setExtra;O.setExtras=A.setExtras;O.setTag=A.setTag;O.setTags=A.setTags;O.setUser=A.setUser;O.withScope=A.withScope;var GE=Ha();O.NodeBackend=GE.NodeBackend;var WE=Ba();O.NodeClient=WE.NodeClient;var cr=no();O.defaultIntegrations=cr.defaultIntegrations;O.init=cr.init;O.lastEventId=cr.lastEventId;O.flush=cr.flush;O.close=cr.close;O.getSentryRelease=cr.getSentryRelease;var YE=Ld();O.deepReadDirSync=YE.deepReadDirSync;var zE=Sa();O.SDK_NAME=zE.SDK_NAME;var $E=B(),VE=ae(),KE=require("domain"),JE=Ap();O.Handlers=JE;var XE=ro(),ZE=Da();O.Transports=ZE;var QE=Np.__assign(Np.__assign({},$E.Integrations),XE);O.Integrations=QE;var rn=VE.getMainCarrier();rn.__SENTRY__&&(rn.__SENTRY__.extensions=rn.__SENTRY__.extensions||{},rn.__SENTRY__.extensions.domain=rn.__SENTRY__.extensions.domain||KE)});var Dp=p(Do=>{Object.defineProperty(Do,"__esModule",{value:!0});function e0(t){t.then(null,function(e){console.error(e)})}o(e0,"forget");Do.forget=e0});var Rt=p(Q=>{Object.defineProperty(Q,"__esModule",{value:!0});function t0(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return Pi(t,Error)}}o(t0,"isError");Q.isError=t0;function r0(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}o(r0,"isErrorEvent");Q.isErrorEvent=r0;function n0(t){return Object.prototype.toString.call(t)==="[object DOMError]"}o(n0,"isDOMError");Q.isDOMError=n0;function i0(t){return Object.prototype.toString.call(t)==="[object DOMException]"}o(i0,"isDOMException");Q.isDOMException=i0;function s0(t){return Object.prototype.toString.call(t)==="[object String]"}o(s0,"isString");Q.isString=s0;function a0(t){return t===null||typeof t!="object"&&typeof t!="function"}o(a0,"isPrimitive");Q.isPrimitive=a0;function Fp(t){return Object.prototype.toString.call(t)==="[object Object]"}o(Fp,"isPlainObject");Q.isPlainObject=Fp;function o0(t){return typeof Event!="undefined"&&Pi(t,Event)}o(o0,"isEvent");Q.isEvent=o0;function u0(t){return typeof Element!="undefined"&&Pi(t,Element)}o(u0,"isElement");Q.isElement=u0;function c0(t){return Object.prototype.toString.call(t)==="[object RegExp]"}o(c0,"isRegExp");Q.isRegExp=c0;function l0(t){return Boolean(t&&t.then&&typeof t.then=="function")}o(l0,"isThenable");Q.isThenable=l0;function f0(t){return Fp(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(f0,"isSyntheticEvent");Q.isSyntheticEvent=f0;function Pi(t,e){try{return t instanceof e}catch(r){return!1}}o(Pi,"isInstanceOf");Q.isInstanceOf=Pi});var Ho=p(Fo=>{Object.defineProperty(Fo,"__esModule",{value:!0});var d0=Rt();function p0(t,e){try{for(var r=t,n=5,i=80,s=[],a=0,u=0,c=" > ",l=c.length,f=void 0;r&&a++<n&&(f=_0(r,e),!(f==="html"||a>1&&u+s.length*l+f.length>=i));)s.push(f),u+=f.length,r=r.parentNode;return s.reverse().join(c)}catch(d){return"<unknown>"}}o(p0,"htmlTreeAsString");Fo.htmlTreeAsString=p0;function _0(t,e){var r,n,i=t,s=[],a,u,c,l,f;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var d=((r=e)===null||r===void 0?void 0:r.length)?e.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((n=d)===null||n===void 0?void 0:n.length)d.forEach(function(h){s.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&s.push("#"+i.id),a=i.className,a&&d0.isString(a))for(u=a.split(/\s+/),f=0;f<u.length;f++)s.push("."+u[f]);var _=["type","name","title","alt"];for(f=0;f<_.length;f++)c=_[f],l=i.getAttribute(c),l&&s.push("["+c+'="'+l+'"]');return s.join("")}o(_0,"_htmlElementAsString")});var Hp=p(Uo=>{Object.defineProperty(Uo,"__esModule",{value:!0});Uo.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?h0:g0);function h0(t,e){return t.__proto__=e,t}o(h0,"setProtoOf");function g0(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}o(g0,"mixinProperties")});var Ci=p(Lo=>{Object.defineProperty(Lo,"__esModule",{value:!0});var v0=P(),m0=Hp(),y0=function(t){v0.__extends(e,t);function e(r){var n=this.constructor,i=t.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,m0.setPrototypeOf(i,n.prototype),i}return o(e,"SentryError"),e}(Error);Lo.SentryError=y0});var Up=p(Bo=>{Object.defineProperty(Bo,"__esModule",{value:!0});var b0=P(),nn=Ci(),S0=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,sn="Invalid Dsn",E0=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return o(t,"Dsn"),t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this,n=r.host,i=r.path,s=r.pass,a=r.port,u=r.projectId,c=r.protocol,l=r.publicKey;return c+"://"+l+(e&&s?":"+s:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+u)},t.prototype._fromString=function(e){var r=S0.exec(e);if(!r)throw new nn.SentryError(sn);var n=b0.__read(r.slice(1),6),i=n[0],s=n[1],a=n[2],u=a===void 0?"":a,c=n[3],l=n[4],f=l===void 0?"":l,d=n[5],_="",h=d,g=h.split("/");if(g.length>1&&(_=g.slice(0,-1).join("/"),h=g.pop()),h){var v=h.match(/^\d+/);v&&(h=v[0])}this._fromComponents({host:c,pass:u,path:_,projectId:h,port:f,protocol:i,publicKey:s})},t.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!e[r])throw new nn.SentryError(sn+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new nn.SentryError(sn+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new nn.SentryError(sn+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new nn.SentryError(sn+": Invalid port "+this.port)},t}();Bo.Dsn=E0});var Ni=p((an,Ai)=>{Object.defineProperty(an,"__esModule",{value:!0});function T0(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}o(T0,"isNodeEnv");an.isNodeEnv=T0;function ki(t,e){return t.require(e)}o(ki,"dynamicRequire");an.dynamicRequire=ki;function O0(t){var e;try{e=ki(Ai,t)}catch(n){}try{var r=ki(Ai,"process").cwd;e=ki(Ai,r()+"/node_modules/"+t)}catch(n){}return e}o(O0,"loadModule");an.loadModule=O0});var ji=p(lr=>{Object.defineProperty(lr,"__esModule",{value:!0});var Lp=Rt();function w0(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}o(w0,"truncate");lr.truncate=w0;function q0(t,e){var r=t,n=r.length;if(n<=150)return r;e>n&&(e=n);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}o(q0,"snipLine");lr.snipLine=q0;function I0(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch(s){r.push("[value cannot be serialized]")}}return r.join(e)}o(I0,"safeJoin");lr.safeJoin=I0;function x0(t,e){return Lp.isString(t)?Lp.isRegExp(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}o(x0,"isMatchingPattern");lr.isMatchingPattern=x0});var fr=p(ne=>{Object.defineProperty(ne,"__esModule",{value:!0});var R0=Ni(),Go=ji(),M0={};function Wo(){return R0.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:M0}o(Wo,"getGlobalObject");ne.getGlobalObject=Wo;function P0(){var t=Wo(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=o(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,a=i==="x"?s:s&3|8;return a.toString(16)})}o(P0,"uuid4");ne.uuid4=P0;function C0(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}o(C0,"parseUrl");ne.parseUrl=C0;function k0(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}o(k0,"getEventDescription");ne.getEventDescription=k0;function A0(t){var e=Wo(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach(function(a){a in e.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var s=t();return Object.keys(i).forEach(function(a){n[a]=i[a]}),s}o(A0,"consoleSandbox");ne.consoleSandbox=A0;function N0(t,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||r||"Error"}o(N0,"addExceptionTypeValue");ne.addExceptionTypeValue=N0;function j0(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(r){t.exception.values[0].mechanism[r]=e[r]})}catch(r){}}o(j0,"addExceptionMechanism");ne.addExceptionMechanism=j0;function D0(){try{return document.location.href}catch(t){return""}}o(D0,"getLocationHref");ne.getLocationHref=D0;var F0=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function H0(t){var e=t.match(F0)||[],r=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:e[4]}}o(H0,"parseSemver");ne.parseSemver=H0;var Bp=60*1e3;function U0(t,e){if(!e)return Bp;var r=parseInt(""+e,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+e);return isNaN(n)?Bp:n-t}o(U0,"parseRetryAfterHeader");ne.parseRetryAfterHeader=U0;function L0(t,e,r){r===void 0&&(r=5);var n=e.lineno||0,i=t.length,s=Math.max(Math.min(i,n-1),0);e.pre_context=t.slice(Math.max(0,s-r),s).map(function(a){return Go.snipLine(a,0)}),e.context_line=Go.snipLine(t[Math.min(i-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,i),s+1+r).map(function(a){return Go.snipLine(a,0)})}o(L0,"addContextToFrame");ne.addContextToFrame=L0;function B0(t){return t.split(/[\?#]/,1)[0]}o(B0,"stripUrlQueryAndFragment");ne.stripUrlQueryAndFragment=B0});var Fi=p(zo=>{Object.defineProperty(zo,"__esModule",{value:!0});var Di=fr(),Mt=Di.getGlobalObject(),Yo="Sentry Logger ",G0=function(){function t(){this._enabled=!1}return o(t,"Logger"),t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Di.consoleSandbox(function(){Mt.console.log(Yo+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Di.consoleSandbox(function(){Mt.console.warn(Yo+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Di.consoleSandbox(function(){Mt.console.error(Yo+"[Error]: "+e.join(" "))})},t}();Mt.__SENTRY__=Mt.__SENTRY__||{};var W0=Mt.__SENTRY__.logger||(Mt.__SENTRY__.logger=new G0);zo.logger=W0});var Vo=p($o=>{Object.defineProperty($o,"__esModule",{value:!0});var Y0=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return o(t,"Memo"),t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===e){this._inner.splice(r,1);break}},t}();$o.Memo=Y0});var Hi=p(Jo=>{Object.defineProperty(Jo,"__esModule",{value:!0});var Ko="<anonymous>";function z0(t){try{return!t||typeof t!="function"?Ko:t.name||Ko}catch(e){return Ko}}o(z0,"getFunctionName");Jo.getFunctionName=z0});var Qo=p(ze=>{Object.defineProperty(ze,"__esModule",{value:!0});var $0=P(),Gp=Ho(),Ye=Rt(),V0=Vo(),K0=Hi(),Wp=ji();function J0(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(s){}t[e]=i}}o(J0,"fill");ze.fill=J0;function X0(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}o(X0,"urlEncode");ze.urlEncode=X0;function Yp(t){if(Ye.isError(t)){var e=t,r={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}if(Ye.isEvent(t)){var i=t,s={};s.type=i.type;try{s.target=Ye.isElement(i.target)?Gp.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(a){s.target="<unknown>"}try{s.currentTarget=Ye.isElement(i.currentTarget)?Gp.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(a){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&Ye.isInstanceOf(t,CustomEvent)&&(s.detail=i.detail);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i);return s}return t}o(Yp,"getWalkSource");function Z0(t){return~-encodeURI(t).split(/%..|./).length}o(Z0,"utf8Length");function Q0(t){return Z0(JSON.stringify(t))}o(Q0,"jsonSize");function zp(t,e,r){e===void 0&&(e=3),r===void 0&&(r=100*1024);var n=Vp(t,e);return Q0(n)>r?zp(t,e-1,r):n}o(zp,"normalizeToSize");ze.normalizeToSize=zp;function eT(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var r=$p(t);return Ye.isPrimitive(r)?r:e}o(eT,"serializeValue");function $p(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":Ye.isSyntheticEvent(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+K0.getFunctionName(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}o($p,"normalizeValue");function Xo(t,e,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new V0.Memo),r===0)return eT(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var i=$p(e,t);if(Ye.isPrimitive(i))return i;var s=Yp(e),a=Array.isArray(e)?[]:{};if(n.memoize(e))return"[Circular ~]";for(var u in s)!Object.prototype.hasOwnProperty.call(s,u)||(a[u]=Xo(u,s[u],r-1,n));return n.unmemoize(e),a}o(Xo,"walk");ze.walk=Xo;function Vp(t,e){try{return JSON.parse(JSON.stringify(t,function(r,n){return Xo(r,n,e)}))}catch(r){return"**non-serializable**"}}o(Vp,"normalize");ze.normalize=Vp;function tT(t,e){e===void 0&&(e=40);var r=Object.keys(Yp(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return Wp.truncate(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:Wp.truncate(i,e)}return""}o(tT,"extractExceptionKeysForMessage");ze.extractExceptionKeysForMessage=tT;function Zo(t){var e,r;if(Ye.isPlainObject(t)){var n=t,i={};try{for(var s=$0.__values(Object.keys(n)),a=s.next();!a.done;a=s.next()){var u=a.value;typeof n[u]!="undefined"&&(i[u]=Zo(n[u]))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(Zo):t}o(Zo,"dropUndefinedKeys");ze.dropUndefinedKeys=Zo});var ru=p(qe=>{Object.defineProperty(qe,"__esModule",{value:!0});var rT=Fi(),Ui=fr();function nT(){try{return new ErrorEvent(""),!0}catch(t){return!1}}o(nT,"supportsErrorEvent");qe.supportsErrorEvent=nT;function iT(){try{return new DOMError(""),!0}catch(t){return!1}}o(iT,"supportsDOMError");qe.supportsDOMError=iT;function sT(){try{return new DOMException(""),!0}catch(t){return!1}}o(sT,"supportsDOMException");qe.supportsDOMException=sT;function eu(){if(!("fetch"in Ui.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}o(eu,"supportsFetch");qe.supportsFetch=eu;function tu(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(tu,"isNativeFetch");qe.isNativeFetch=tu;function aT(){if(!eu())return!1;var t=Ui.getGlobalObject();if(tu(t.fetch))return!0;var e=!1,r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=tu(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){rT.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}o(aT,"supportsNativeFetch");qe.supportsNativeFetch=aT;function oT(){return"ReportingObserver"in Ui.getGlobalObject()}o(oT,"supportsReportingObserver");qe.supportsReportingObserver=oT;function uT(){if(!eu())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}o(uT,"supportsReferrerPolicy");qe.supportsReferrerPolicy=uT;function cT(){var t=Ui.getGlobalObject(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}o(cT,"supportsHistory");qe.supportsHistory=cT});var Qp=p(su=>{Object.defineProperty(su,"__esModule",{value:!0});var dr=P(),Li=Rt(),Kp=Fi(),lT=fr(),$e=Qo(),fT=Hi(),Jp=ru(),M=lT.getGlobalObject(),on={},Xp={};function dT(t){if(!Xp[t])switch(Xp[t]=!0,t){case"console":_T();break;case"dom":TT();break;case"xhr":mT();break;case"fetch":hT();break;case"history":yT();break;case"error":OT();break;case"unhandledrejection":wT();break;default:Kp.logger.warn("unknown instrumentation type:",t)}}o(dT,"instrument");function pT(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(on[t.type]=on[t.type]||[],on[t.type].push(t.callback),dT(t.type))}o(pT,"addInstrumentationHandler");su.addInstrumentationHandler=pT;function Ie(t,e){var r,n;if(!(!t||!on[t]))try{for(var i=dr.__values(on[t]||[]),s=i.next();!s.done;s=i.next()){var a=s.value;try{a(e)}catch(u){Kp.logger.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+fT.getFunctionName(a)+`
Error: `+u)}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}o(Ie,"triggerHandlers");function _T(){"console"in M&&["debug","info","warn","error","log","assert"].forEach(function(t){t in M.console&&$e.fill(M.console,t,function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Ie("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,M.console,r)}})})}o(_T,"instrumentConsole");function hT(){!Jp.supportsNativeFetch()||$e.fill(M,"fetch",function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:gT(e),url:vT(e)},startTimestamp:Date.now()};return Ie("fetch",dr.__assign({},n)),t.apply(M,e).then(function(i){return Ie("fetch",dr.__assign(dr.__assign({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw Ie("fetch",dr.__assign(dr.__assign({},n),{endTimestamp:Date.now(),error:i})),i})}})}o(hT,"instrumentFetch");function gT(t){return t===void 0&&(t=[]),"Request"in M&&Li.isInstanceOf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}o(gT,"getFetchMethod");function vT(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in M&&Li.isInstanceOf(t[0],Request)?t[0].url:String(t[0])}o(vT,"getFetchUrl");function mT(){if("XMLHttpRequest"in M){var t=[],e=[],r=XMLHttpRequest.prototype;$e.fill(r,"open",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=this,u=i[1];a.__sentry_xhr__={method:Li.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},Li.isString(u)&&a.__sentry_xhr__.method==="POST"&&u.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=o(function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(d){}try{var l=t.indexOf(a);if(l!==-1){t.splice(l);var f=e.splice(l)[0];a.__sentry_xhr__&&f[0]!==void 0&&(a.__sentry_xhr__.body=f[0])}}catch(d){}Ie("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}},"onreadystatechangeHandler");return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?$e.fill(a,"onreadystatechange",function(l){return function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return c(),l.apply(a,f)}}):a.addEventListener("readystatechange",c),n.apply(a,i)}}),$e.fill(r,"send",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return t.push(this),e.push(i),Ie("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}o(mT,"instrumentXHR");var Bi;function yT(){if(!Jp.supportsHistory())return;var t=M.onpopstate;M.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=M.location.href,s=Bi;if(Bi=i,Ie("history",{from:s,to:i}),t)try{return t.apply(this,r)}catch(a){}};function e(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var a=Bi,u=String(s);Bi=u,Ie("history",{from:a,to:u})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),$e.fill(M.history,"pushState",e),$e.fill(M.history,"replaceState",e)}o(yT,"instrumentHistory");var bT=1e3,Gi,Wi;function ST(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(r){}return!1}o(ST,"shouldShortcircuitPreviousDebounce");function ET(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(r){}return!0}o(ET,"shouldSkipDOMEvent");function Zp(t,e){return e===void 0&&(e=!1),function(r){if(!(!r||Wi===r)&&!ET(r)){var n=r.type==="keypress"?"input":r.type;Gi===void 0?(t({event:r,name:n,global:e}),Wi=r):ST(Wi,r)&&(t({event:r,name:n,global:e}),Wi=r),clearTimeout(Gi),Gi=M.setTimeout(function(){Gi=void 0},bT)}}}o(Zp,"makeDOMEventHandler");function TT(){if("document"in M){var t=Ie.bind(null,"dom"),e=Zp(t,!0);M.document.addEventListener("click",e,!1),M.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(r){var n=M[r]&&M[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||($e.fill(n,"addEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=l[s]=l[s]||{refCount:0};if(!f.handler){var d=Zp(t);f.handler=d,i.call(this,s,d,u)}f.refCount+=1}catch(_){}return i.call(this,s,a,u)}}),$e.fill(n,"removeEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__||{},f=l[s];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,s,f.handler,u),f.handler=void 0,delete l[s]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(d){}return i.call(this,s,a,u)}}))})}}o(TT,"instrumentDOM");var nu=null;function OT(){nu=M.onerror,M.onerror=function(t,e,r,n,i){return Ie("error",{column:n,error:i,line:r,msg:t,url:e}),nu?nu.apply(this,arguments):!1}}o(OT,"instrumentError");var iu=null;function wT(){iu=M.onunhandledrejection,M.onunhandledrejection=function(t){return Ie("unhandledrejection",t),iu?iu.apply(this,arguments):!0}}o(wT,"instrumentUnhandledRejection")});var s_=p(Ve=>{Object.defineProperty(Ve,"__esModule",{value:!0});function e_(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];i==="."?t.splice(n,1):i===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}o(e_,"normalizeArray");var qT=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function t_(t){var e=qT.exec(t);return e?e.slice(1):[]}o(t_,"splitPath");function au(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r="",n=!1,i=t.length-1;i>=-1&&!n;i--){var s=i>=0?t[i]:"/";!s||(r=s+"/"+r,n=s.charAt(0)==="/")}return r=e_(r.split("/").filter(function(a){return!!a}),!n).join("/"),(n?"/":"")+r||"."}o(au,"resolve");Ve.resolve=au;function r_(t){for(var e=0;e<t.length&&t[e]==="";e++);for(var r=t.length-1;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}o(r_,"trim");function IT(t,e){t=au(t).substr(1),e=au(e).substr(1);for(var r=r_(t.split("/")),n=r_(e.split("/")),i=Math.min(r.length,n.length),s=i,a=0;a<i;a++)if(r[a]!==n[a]){s=a;break}for(var u=[],a=s;a<r.length;a++)u.push("..");return u=u.concat(n.slice(s)),u.join("/")}o(IT,"relative");Ve.relative=IT;function n_(t){var e=i_(t),r=t.substr(-1)==="/",n=e_(t.split("/").filter(function(i){return!!i}),!e).join("/");return!n&&!e&&(n="."),n&&r&&(n+="/"),(e?"/":"")+n}o(n_,"normalizePath");Ve.normalizePath=n_;function i_(t){return t.charAt(0)==="/"}o(i_,"isAbsolute");Ve.isAbsolute=i_;function xT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n_(t.join("/"))}o(xT,"join");Ve.join=xT;function RT(t){var e=t_(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}o(RT,"dirname");Ve.dirname=RT;function MT(t,e){var r=t_(t)[2];return e&&r.substr(e.length*-1)===e&&(r=r.substr(0,r.length-e.length)),r}o(MT,"basename");Ve.basename=MT});var uu=p(ou=>{Object.defineProperty(ou,"__esModule",{value:!0});var PT=Rt(),Ke;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(Ke||(Ke={}));var CT=function(){function t(e){var r=this;this._state=Ke.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(Ke.RESOLVED,n)},this._reject=function(n){r._setResult(Ke.REJECTED,n)},this._setResult=function(n,i){if(r._state===Ke.PENDING){if(PT.isThenable(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==Ke.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===Ke.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===Ke.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return o(t,"SyncPromise"),t.resolve=function(e){return new t(function(r){r(e)})},t.reject=function(e){return new t(function(r,n){n(e)})},t.all=function(e){return new t(function(r,n){if(!Array.isArray(e)){n(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){r([]);return}var i=e.length,s=[];e.forEach(function(a,u){t.resolve(a).then(function(c){s[u]=c,i-=1,i===0&&r(s)}).then(null,n)})})},t.prototype.then=function(e,r){var n=this;return new t(function(i,s){n._attachHandler({done:!1,onfulfilled:function(a){if(!e){i(a);return}try{i(e(a));return}catch(u){s(u);return}},onrejected:function(a){if(!r){s(a);return}try{i(r(a));return}catch(u){s(u);return}}})})},t.prototype.catch=function(e){return this.then(function(r){return r},e)},t.prototype.finally=function(e){var r=this;return new t(function(n,i){var s,a;return r.then(function(u){a=!1,s=u,e&&e()},function(u){a=!0,s=u,e&&e()}).then(function(){if(a){i(s);return}n(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}();ou.SyncPromise=CT});var a_=p(lu=>{Object.defineProperty(lu,"__esModule",{value:!0});var kT=Ci(),cu=uu(),AT=function(){function t(e){this._limit=e,this._buffer=[]}return o(t,"PromiseBuffer"),t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var r=this;if(!this.isReady())return cu.SyncPromise.reject(new kT.SentryError("Not adding Promise due to buffer limit reached."));var n=e();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},t.prototype.remove=function(e){var r=this._buffer.splice(this._buffer.indexOf(e),1)[0];return r},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var r=this;return new cu.SyncPromise(function(n){var i=setTimeout(function(){e&&e>0&&n(!1)},e);cu.SyncPromise.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}();lu.PromiseBuffer=AT});var f_=p((ve,l_)=>{Object.defineProperty(ve,"__esModule",{value:!0});var o_=fr(),u_=Ni(),fu={nowSeconds:function(){return Date.now()/1e3}};function NT(){var t=o_.getGlobalObject().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}o(NT,"getBrowserPerformance");function jT(){try{var t=u_.dynamicRequire(l_,"perf_hooks");return t.performance}catch(e){return}}o(jT,"getNodePerformance");var Yi=u_.isNodeEnv()?jT():NT(),c_=Yi===void 0?fu:{nowSeconds:function(){return(Yi.timeOrigin+Yi.now())/1e3}};ve.dateTimestampInSeconds=fu.nowSeconds.bind(fu);ve.timestampInSeconds=c_.nowSeconds.bind(c_);ve.timestampWithMs=ve.timestampInSeconds;ve.usingPerformanceAPI=Yi!==void 0;ve.browserPerformanceTimeOrigin=function(){var t=o_.getGlobalObject().performance;if(!t||!t.now){ve._browserPerformanceTimeOriginMode="none";return}var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number",c=u?Math.abs(a+r-n):e,l=c<e;return s||l?i<=c?(ve._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(ve._browserPerformanceTimeOriginMode="navigationStart",a):(ve._browserPerformanceTimeOriginMode="dateNow",n)}()});var I=p(N=>{Object.defineProperty(N,"__esModule",{value:!0});var U=P();U.__exportStar(Dp(),N);U.__exportStar(Ho(),N);U.__exportStar(Up(),N);U.__exportStar(Ci(),N);U.__exportStar(Qp(),N);U.__exportStar(Rt(),N);U.__exportStar(Fi(),N);U.__exportStar(Vo(),N);U.__exportStar(fr(),N);U.__exportStar(Ni(),N);U.__exportStar(Qo(),N);U.__exportStar(s_(),N);U.__exportStar(a_(),N);U.__exportStar(Hi(),N);U.__exportStar(ji(),N);U.__exportStar(ru(),N);U.__exportStar(uu(),N);U.__exportStar(f_(),N)});var du=p(zi=>{Object.defineProperty(zi,"__esModule",{value:!0});var b=P(),un=I(),d_=100,DT=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return o(t,"Scope"),t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=b.__spread(e._breadcrumbs),r._tags=b.__assign({},e._tags),r._extra=b.__assign({},e._extra),r._contexts=b.__assign({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=b.__spread(e._eventProcessors),r._requestSession=e._requestSession),r},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=b.__assign(b.__assign({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,r){var n;return this._tags=b.__assign(b.__assign({},this._tags),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=b.__assign(b.__assign({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,r){var n;return this._extra=b.__assign(b.__assign({},this._extra),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,r){var n;return r===null?delete this._contexts[e]:this._contexts=b.__assign(b.__assign({},this._contexts),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,r,n,i,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(r=s)===null||r===void 0?void 0:r.transaction;if((i=(n=s)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=b.__assign(b.__assign({},this._tags),e._tags),this._extra=b.__assign(b.__assign({},this._extra),e._extra),this._contexts=b.__assign(b.__assign({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):un.isPlainObject(e)&&(e=e,this._tags=b.__assign(b.__assign({},this._tags),e.tags),this._extra=b.__assign(b.__assign({},this._extra),e.extra),this._contexts=b.__assign(b.__assign({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,r){var n=typeof r=="number"?Math.min(r,d_):d_;if(n<=0)return this;var i=b.__assign({timestamp:un.dateTimestampInSeconds()},e);return this._breadcrumbs=b.__spread(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,r){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=b.__assign(b.__assign({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=b.__assign(b.__assign({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=b.__assign(b.__assign({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=b.__assign(b.__assign({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=b.__assign({trace:this._span.getTraceContext()},e.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(e.tags=b.__assign({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=b.__spread(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(b.__spread(p_(),this._eventProcessors),e,r)},t.prototype._notifyEventProcessors=function(e,r,n,i){var s=this;return i===void 0&&(i=0),new un.SyncPromise(function(a,u){var c=e[i];if(r===null||typeof c!="function")a(r);else{var l=c(b.__assign({},r),n);un.isThenable(l)?l.then(function(f){return s._notifyEventProcessors(e,f,n,i+1).then(a)}).then(null,u):s._notifyEventProcessors(e,l,n,i+1).then(a).then(null,u)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();zi.Scope=DT;function p_(){var t=un.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}o(p_,"getGlobalEventProcessors");function FT(t){p_().push(t)}o(FT,"addGlobalEventProcessor");zi.addGlobalEventProcessor=FT});var __=p($i=>{Object.defineProperty($i,"__esModule",{value:!0});var HT;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"})(HT=$i.LogLevel||($i.LogLevel={}))});var h_=p(pr=>{Object.defineProperty(pr,"__esModule",{value:!0});var UT;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(UT=pr.SessionStatus||(pr.SessionStatus={}));var LT;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})(LT=pr.RequestSessionStatus||(pr.RequestSessionStatus={}))});var v_=p(_r=>{Object.defineProperty(_r,"__esModule",{value:!0});var g_;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(g_=_r.Severity||(_r.Severity={}));(function(t){function e(r){switch(r){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}o(e,"fromString"),t.fromString=e})(g_=_r.Severity||(_r.Severity={}))});var y_=p(hr=>{Object.defineProperty(hr,"__esModule",{value:!0});var m_;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(m_=hr.Status||(hr.Status={}));(function(t){function e(r){return r>=200&&r<300?t.Success:r===429?t.RateLimit:r>=400&&r<500?t.Invalid:r>=500?t.Failed:t.Unknown}o(e,"fromHttpCode"),t.fromHttpCode=e})(m_=hr.Status||(hr.Status={}))});var b_=p(Vi=>{Object.defineProperty(Vi,"__esModule",{value:!0});var BT;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(BT=Vi.TransactionSamplingMethod||(Vi.TransactionSamplingMethod={}))});var cn=p(ft=>{Object.defineProperty(ft,"__esModule",{value:!0});var GT=__();ft.LogLevel=GT.LogLevel;var S_=h_();ft.SessionStatus=S_.SessionStatus;ft.RequestSessionStatus=S_.RequestSessionStatus;var WT=v_();ft.Severity=WT.Severity;var YT=y_();ft.Status=YT.Status;var zT=b_();ft.TransactionSamplingMethod=zT.TransactionSamplingMethod});var hu=p(_u=>{Object.defineProperty(_u,"__esModule",{value:!0});var pu=cn(),gr=I(),$T=function(){function t(e){this.errors=0,this.sid=gr.uuid4(),this.duration=0,this.status=pu.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var r=gr.timestampInSeconds();this.timestamp=r,this.started=r,e&&this.update(e)}return o(t,"Session"),t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||gr.timestampInSeconds(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:gr.uuid4()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===pu.SessionStatus.Ok?this.update({status:pu.SessionStatus.Exited}):this.update()},t.prototype.toJSON=function(){return gr.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:gr.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}();_u.Session=$T});var mu=p(fe=>{Object.defineProperty(fe,"__esModule",{value:!0});var xe=P(),E_=cn(),Re=I(),gu=du(),VT=hu();fe.API_VERSION=4;var KT=100,Ki=function(){function t(e,r,n){r===void 0&&(r=new gu.Scope),n===void 0&&(n=fe.API_VERSION),this._version=n,this._stack=[{}],this.getStackTop().scope=r,this.bindClient(e)}return o(t,"Hub"),t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=gu.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,r){var n=this._lastEventId=Re.uuid4(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,xe.__assign(xe.__assign({},i),{event_id:n})),n},t.prototype.captureMessage=function(e,r,n){var i=this._lastEventId=Re.uuid4(),s=n;if(!n){var a=void 0;try{throw new Error(e)}catch(u){a=u}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,r,xe.__assign(xe.__assign({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,r){var n=this._lastEventId=Re.uuid4();return this._invokeClient("captureEvent",e,xe.__assign(xe.__assign({},r),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var a=s.getOptions&&s.getOptions()||{},u=a.beforeBreadcrumb,c=u===void 0?null:u,l=a.maxBreadcrumbs,f=l===void 0?KT:l;if(!(f<=0)){var d=Re.dateTimestampInSeconds(),_=xe.__assign({timestamp:d},e),h=c?Re.consoleSandbox(function(){return c(_,r)}):_;h!==null&&i.addBreadcrumb(h,f)}}},t.prototype.setUser=function(e){var r=this.getScope();r&&r.setUser(e)},t.prototype.setTags=function(e){var r=this.getScope();r&&r.setTags(e)},t.prototype.setExtras=function(e){var r=this.getScope();r&&r.setExtras(e)},t.prototype.setTag=function(e,r){var n=this.getScope();n&&n.setTag(e,r)},t.prototype.setExtra=function(e,r){var n=this.getScope();n&&n.setExtra(e,r)},t.prototype.setContext=function(e,r){var n=this.getScope();n&&n.setContext(e,r)},t.prototype.configureScope=function(e){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&e(n)},t.prototype.run=function(e){var r=vu(this);try{e(this)}finally{vu(r)}},t.prototype.getIntegration=function(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch(n){return Re.logger.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,r){return this._callExtensionMethod("startTransaction",e,r)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,r,n,i,s;(n=(r=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},t.prototype.startSession=function(e){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},a=s.release,u=s.environment,c=Re.getGlobalObject(),l=(c.navigator||{}).userAgent,f=new VT.Session(xe.__assign(xe.__assign(xe.__assign({release:a,environment:u},n&&{user:n.getUser()}),l&&{userAgent:l}),e));if(n){var d=n.getSession&&n.getSession();d&&d.status===E_.SessionStatus.Ok&&d.update({status:E_.SessionStatus.Exited}),this.endSession(),n.setSession(f)}return f},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),r=e.scope,n=e.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,u=s.client;u&&u[e]&&(r=u)[e].apply(r,xe.__spread(n,[a]))},t.prototype._callExtensionMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=vr(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);Re.logger.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();fe.Hub=Ki;function vr(){var t=Re.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}o(vr,"getMainCarrier");fe.getMainCarrier=vr;function vu(t){var e=vr(),r=Je(e);return Ji(e,t),r}o(vu,"makeMain");fe.makeMain=vu;function JT(){var t=vr();return(!T_(t)||Je(t).isOlderThan(fe.API_VERSION))&&Ji(t,new Ki),Re.isNodeEnv()?ZT(t):Je(t)}o(JT,"getCurrentHub");fe.getCurrentHub=JT;function XT(){Re.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var t=vr().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}o(XT,"getActiveDomain");fe.getActiveDomain=XT;function ZT(t){var e,r,n;try{var i=(n=(r=(e=vr().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return Je(t);if(!T_(i)||Je(i).isOlderThan(fe.API_VERSION)){var s=Je(t).getStackTop();Ji(i,new Ki(s.client,gu.Scope.clone(s.scope)))}return Je(i)}catch(a){return Je(t)}}o(ZT,"getHubFromActiveDomain");function T_(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}o(T_,"hasHubOnCarrier");function Je(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new Ki),t.__SENTRY__.hub}o(Je,"getHubFromCarrier");fe.getHubFromCarrier=Je;function Ji(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}o(Ji,"setHubOnCarrier");fe.setHubOnCarrier=Ji});var O_=p(Su=>{Object.defineProperty(Su,"__esModule",{value:!0});var yu=cn(),bu=I(),QT=mu(),eO=function(){function t(e,r){var n=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=e,this._intervalId=setInterval(function(){return n.flush()},this.flushTimeout*1e3),this._sessionAttrs=r}return o(t,"SessionFlusher"),t.prototype.sendSessionAggregates=function(e){if(!this._transport.sendSession){bu.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){bu.logger.error("Error while sending session: "+r)})},t.prototype.flush=function(){var e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(e))},t.prototype.getSessionAggregates=function(){var e=this,r=Object.keys(this._pendingAggregates).map(function(i){return e._pendingAggregates[parseInt(i)]}),n={attrs:this._sessionAttrs,aggregates:r};return bu.dropUndefinedKeys(n)},t.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},t.prototype.incrementSessionStatusCount=function(){var e,r;if(!!this._isEnabled){var n=QT.getCurrentHub().getScope(),i=(e=n)===null||e===void 0?void 0:e.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(r=n)===null||r===void 0||r.setRequestSession(void 0))}},t.prototype._incrementSessionStatusCount=function(e,r){var n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var i=this._pendingAggregates[n];switch(i.started||(i.started=new Date(n).toISOString()),e){case yu.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case yu.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case yu.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},t}();Su.SessionFlusher=eO});var Xi=p(de=>{Object.defineProperty(de,"__esModule",{value:!0});var w_=du();de.addGlobalEventProcessor=w_.addGlobalEventProcessor;de.Scope=w_.Scope;var tO=hu();de.Session=tO.Session;var rO=O_();de.SessionFlusher=rO.SessionFlusher;var Pt=mu();de.getActiveDomain=Pt.getActiveDomain;de.getCurrentHub=Pt.getCurrentHub;de.getHubFromCarrier=Pt.getHubFromCarrier;de.getMainCarrier=Pt.getMainCarrier;de.Hub=Pt.Hub;de.makeMain=Pt.makeMain;de.setHubOnCarrier=Pt.setHubOnCarrier});var dt=p(mr=>{Object.defineProperty(mr,"__esModule",{value:!0});var q_;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(q_=mr.SpanStatus||(mr.SpanStatus={}));(function(t){function e(r){if(r<400)return t.Ok;if(r>=400&&r<500)switch(r){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}o(e,"fromHttpCode"),t.fromHttpCode=e})(q_=mr.SpanStatus||(mr.SpanStatus={}))});var pt=p(ke=>{Object.defineProperty(ke,"__esModule",{value:!0});var I_=Xi();ke.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function nO(t){t===void 0&&(t=(e=I_.getCurrentHub().getClient())===null||e===void 0?void 0:e.getOptions());var e;return t?"tracesSampleRate"in t||"tracesSampler"in t:!1}o(nO,"hasTracingEnabled");ke.hasTracingEnabled=nO;function iO(t){var e=t.match(ke.TRACEPARENT_REGEXP);if(e){var r=void 0;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}}o(iO,"extractTraceparentData");ke.extractTraceparentData=iO;function sO(t){t===void 0&&(t=I_.getCurrentHub());var e,r;return(r=(e=t)===null||e===void 0?void 0:e.getScope())===null||r===void 0?void 0:r.getTransaction()}o(sO,"getActiveTransaction");ke.getActiveTransaction=sO;function aO(t){return t/1e3}o(aO,"msToSec");ke.msToSec=aO;function oO(t){return t*1e3}o(oO,"secToMs");ke.secToMs=oO;var uO=I();ke.stripUrlQueryAndFragment=uO.stripUrlQueryAndFragment});var M_=p(Tu=>{Object.defineProperty(Tu,"__esModule",{value:!0});var Eu=I(),x_=dt(),cO=pt();function lO(){Eu.addInstrumentationHandler({callback:R_,type:"error"}),Eu.addInstrumentationHandler({callback:R_,type:"unhandledrejection"})}o(lO,"registerErrorInstrumentation");Tu.registerErrorInstrumentation=lO;function R_(){var t=cO.getActiveTransaction();t&&(Eu.logger.log("[Tracing] Transaction: "+x_.SpanStatus.InternalError+" -> Global error occured"),t.setStatus(x_.SpanStatus.InternalError))}o(R_,"errorCallback")});var Qi=p(Zi=>{Object.defineProperty(Zi,"__esModule",{value:!0});var yr=P(),Ct=I(),Ou=dt(),fO=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return o(t,"SpanRecorder"),t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}();Zi.SpanRecorder=fO;var dO=function(){function t(e){if(this.traceId=Ct.uuid4(),this.spanId=Ct.uuid4().substring(16),this.startTimestamp=Ct.timestampWithMs(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return o(t,"Span"),t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var r=new t(yr.__assign(yr.__assign({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},t.prototype.setTag=function(e,r){var n;return this.tags=yr.__assign(yr.__assign({},this.tags),(n={},n[e]=r,n)),this},t.prototype.setData=function(e,r){var n;return this.data=yr.__assign(yr.__assign({},this.data),(n={},n[e]=r,n)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var r=Ou.SpanStatus.fromHttpCode(e);return r!==Ou.SpanStatus.UnknownError&&this.setStatus(r),this},t.prototype.isSuccess=function(){return this.status===Ou.SpanStatus.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:Ct.timestampWithMs()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return Ct.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var r,n,i,s,a;return this.data=(r=e.data,r!=null?r:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(n=e.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(a=e.traceId,a!=null?a:this.traceId),this},t.prototype.getTraceContext=function(){return Ct.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Ct.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();Zi.Span=dO});var es=p(wu=>{Object.defineProperty(wu,"__esModule",{value:!0});var br=P(),P_=Xi(),Sr=I(),C_=Qi(),pO=function(t){br.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._measurements={},i._hub=P_.getCurrentHub(),Sr.isInstanceOf(n,P_.Hub)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return o(e,"Transaction"),e.prototype.setName=function(r){this.name=r},e.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new C_.SpanRecorder(r)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(r){this._measurements=br.__assign({},r)},e.prototype.setMetadata=function(r){this.metadata=br.__assign(br.__assign({},this.metadata),r)},e.prototype.finish=function(r){var n=this;if(this.endTimestamp===void 0){if(this.name||(Sr.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,r),this.sampled!==!0){Sr.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(u){return u!==n&&u.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(u,c){return u.endTimestamp&&c.endTimestamp?u.endTimestamp>c.endTimestamp?u:c:u}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},a=Object.keys(this._measurements).length>0;return a&&(Sr.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),Sr.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},e.prototype.toContext=function(){var r=t.prototype.toContext.call(this);return Sr.dropUndefinedKeys(br.__assign(br.__assign({},r),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(r){var n;return t.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},e}(C_.Span);wu.Transaction=pO});var ts=p(Er=>{Object.defineProperty(Er,"__esModule",{value:!0});var qu=P(),V=I(),_O=Qi(),k_=dt(),hO=es();Er.DEFAULT_IDLE_TIMEOUT=1e3;var A_=function(t){qu.__extends(e,t);function e(r,n,i,s){i===void 0&&(i="");var a=t.call(this,s)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return o(e,"IdleTransactionSpanRecorder"),e.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:V.timestampWithMs(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),t.prototype.add.call(this,r)},e}(_O.SpanRecorder);Er.IdleTransactionSpanRecorder=A_;var gO=function(t){qu.__extends(e,t);function e(r,n,i,s){i===void 0&&(i=Er.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var a=t.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=s,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&s&&(N_(n),V.logger.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(u){return u.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return o(e,"IdleTransaction"),e.prototype.finish=function(r){var n,i,s=this;if(r===void 0&&(r=V.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){V.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=qu.__values(this._beforeFinishCallbacks),u=a.next();!u.done;u=a.next()){var c=u.value;c(this,r)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(l){if(l.spanId===s.spanId)return!0;l.endTimestamp||(l.endTimestamp=r,l.setStatus(k_.SpanStatus.Cancelled),V.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(l,void 0,2)));var f=l.startTimestamp<r;return f||V.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(l,void 0,2)),f}),V.logger.log("[Tracing] flushing IdleTransaction")}else V.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&N_(this._idleHub),t.prototype.finish.call(this,r)},e.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},e.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=o(function(a){n._finished||n._pushActivity(a)},"pushActivity"),s=o(function(a){n._finished||n._popActivity(a)},"popActivity");this.spanRecorder=new A_(i,s,this.spanId,r),V.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),V.logger.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,V.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(V.logger.log("[Tracing] popActivity "+r),delete this.activities[r],V.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=V.timestampWithMs()+i/1e3;setTimeout(function(){n._finished||n.finish(s)},i)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,s){return i+s}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(V.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(k_.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var r=this;V.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},e}(hO.Transaction);Er.IdleTransaction=gO;function N_(t){if(t){var e=t.getScope();if(e){var r=e.getTransaction();r&&e.setSpan(void 0)}}}o(N_,"clearActiveTransaction")});var ns=p((ln,fn)=>{Object.defineProperty(ln,"__esModule",{value:!0});var Iu=P(),j_=Xi(),rs=cn(),me=I(),vO=M_(),mO=ts(),yO=es(),bO=pt();function SO(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}o(SO,"traceHeaders");function D_(t,e,r){if(!bO.hasTracingEnabled())return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:rs.TransactionSamplingMethod.Explicit}}),t;var n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({transactionSampling:{method:rs.TransactionSamplingMethod.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,t.setMetadata({transactionSampling:{method:rs.TransactionSamplingMethod.Inheritance}})):(n=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:rs.TransactionSamplingMethod.Rate,rate:Number(n)}})),EO(n)?n?(t.sampled=Math.random()<n,t.sampled?(me.logger.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(me.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),t)):(me.logger.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(me.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}o(D_,"sample");function EO(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(me.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(me.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}o(EO,"isValidSampleRate");function TO(t,e){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},s=new yO.Transaction(t,this);return s=D_(s,i,Iu.__assign({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),s}o(TO,"_startTransaction");function OO(t,e,r,n,i){var s,a,u=((s=t.getClient())===null||s===void 0?void 0:s.getOptions())||{},c=new mO.IdleTransaction(e,t,r,n);return c=D_(c,u,Iu.__assign({parentSampled:e.parentSampled,transactionContext:e},i)),c.sampled&&c.initSpanRecorder((a=u._experiments)===null||a===void 0?void 0:a.maxSpans),c}o(OO,"startIdleTransaction");ln.startIdleTransaction=OO;function F_(){var t=j_.getMainCarrier();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=TO),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=SO))}o(F_,"_addTracingExtensions");ln._addTracingExtensions=F_;function wO(){var t=j_.getMainCarrier();if(!!t.__SENTRY__){var e={mongodb:function(){var n=me.dynamicRequire(fn,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=me.dynamicRequire(fn,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=me.dynamicRequire(fn,"./integrations/mysql");return new n.Mysql},pg:function(){var n=me.dynamicRequire(fn,"./integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(function(n){return!!me.loadModule(n)}).map(function(n){try{return e[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(t.__SENTRY__.integrations=Iu.__spread(t.__SENTRY__.integrations||[],r))}}o(wO,"_autoloadDatabaseIntegrations");function qO(){F_(),me.isNodeEnv()&&wO(),vO.registerErrorInstrumentation()}o(qO,"addExtensionMethods");ln.addExtensionMethods=qO});var U_=p(Ru=>{Object.defineProperty(Ru,"__esModule",{value:!0});var xu=I(),H_=dt(),IO=pt(),is=xu.getGlobalObject();function xO(){is&&is.document?is.document.addEventListener("visibilitychange",function(){var t=IO.getActiveTransaction();is.document.hidden&&t&&(xu.logger.log("[Tracing] Transaction: "+H_.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(H_.SpanStatus.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):xu.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(xO,"registerBackgroundTabDetection");Ru.registerBackgroundTabDetection=xO});var ss=p(Mu=>{Object.defineProperty(Mu,"__esModule",{value:!0});Mu.bindReporter=function(t,e,r,n){var i;return function(){r&&e.isFinal&&r.disconnect(),e.value>=0&&(n||e.isFinal||document.visibilityState==="hidden")&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||i===void 0)&&(t(e),i=e.value))}}});var L_=p(Pu=>{Object.defineProperty(Pu,"__esModule",{value:!0});Pu.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var as=p(Cu=>{Object.defineProperty(Cu,"__esModule",{value:!0});var RO=L_();Cu.initMetric=function(t,e){return e===void 0&&(e=-1),{name:t,value:e,delta:0,entries:[],id:RO.generateUniqueID(),isFinal:!1}}});var os=p(ku=>{Object.defineProperty(ku,"__esModule",{value:!0});ku.observe=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(n){return n.getEntries().map(e)});return r.observe({type:t,buffered:!0}),r}}catch(n){}}});var dn=p(Au=>{Object.defineProperty(Au,"__esModule",{value:!0});var B_=!1,G_=!1,MO=o(function(t){B_=!t.persisted},"onPageHide"),PO=o(function(){addEventListener("pagehide",MO),addEventListener("beforeunload",function(){})},"addListeners");Au.onHidden=function(t,e){e===void 0&&(e=!1),G_||(PO(),G_=!0),addEventListener("visibilitychange",function(r){var n=r.timeStamp;document.visibilityState==="hidden"&&t({timeStamp:n,isUnloading:B_})},{capture:!0,once:e})}});var W_=p(Nu=>{Object.defineProperty(Nu,"__esModule",{value:!0});var CO=ss(),kO=as(),AO=os(),NO=dn();Nu.getCLS=function(t,e){e===void 0&&(e=!1);var r=kO.initMetric("CLS",0),n,i=o(function(a){a.hadRecentInput||(r.value+=a.value,r.entries.push(a),n())},"entryHandler"),s=AO.observe("layout-shift",i);s&&(n=CO.bindReporter(t,r,s,e),NO.onHidden(function(a){var u=a.isUnloading;s.takeRecords().map(i),u&&(r.isFinal=!0),n()}))}});var cs=p(ju=>{Object.defineProperty(ju,"__esModule",{value:!0});var jO=dn(),us;ju.getFirstHidden=function(){return us===void 0&&(us=document.visibilityState==="hidden"?0:Infinity,jO.onHidden(function(t){var e=t.timeStamp;return us=e},!0)),{get timeStamp(){return us}}}});var Y_=p(Du=>{Object.defineProperty(Du,"__esModule",{value:!0});var DO=ss(),FO=cs(),HO=as(),UO=os(),LO=dn();Du.getFID=function(t){var e=HO.initMetric("FID"),r=FO.getFirstHidden(),n=o(function(a){a.startTime<r.timeStamp&&(e.value=a.processingStart-a.startTime,e.entries.push(a),e.isFinal=!0,s())},"entryHandler"),i=UO.observe("first-input",n),s=DO.bindReporter(t,e,i);i?LO.onHidden(function(){i.takeRecords().map(n),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(a,u){u.timeStamp<r.timeStamp&&(e.value=a,e.isFinal=!0,e.entries=[{entryType:"first-input",name:u.type,target:u.target,cancelable:u.cancelable,startTime:u.timeStamp,processingStart:u.timeStamp+a}],s())})}});var z_=p(Hu=>{Object.defineProperty(Hu,"__esModule",{value:!0});var Fu;Hu.whenInput=function(){return Fu||(Fu=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),Fu}});var $_=p(Uu=>{Object.defineProperty(Uu,"__esModule",{value:!0});var BO=ss(),GO=cs(),WO=as(),YO=os(),zO=dn(),$O=z_();Uu.getLCP=function(t,e){e===void 0&&(e=!1);var r=WO.initMetric("LCP"),n=GO.getFirstHidden(),i,s=o(function(c){var l=c.startTime;l<n.timeStamp?(r.value=l,r.entries.push(c)):r.isFinal=!0,i()},"entryHandler"),a=YO.observe("largest-contentful-paint",s);if(a){i=BO.bindReporter(t,r,a,e);var u=o(function(){r.isFinal||(a.takeRecords().map(s),r.isFinal=!0,i())},"onFinal");$O.whenInput().then(u),zO.onHidden(u,!0)}}});var J_=p(pn=>{Object.defineProperty(pn,"__esModule",{value:!0});var V_=P(),D=I(),L=pt(),VO=W_(),KO=Y_(),JO=$_(),XO=cs(),pe=D.getGlobalObject(),ZO=function(){function t(){var e;this._measurements={},this._performanceCursor=0,!D.isNodeEnv()&&((e=pe)===null||e===void 0?void 0:e.performance)&&(pe.performance.mark&&pe.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return o(t,"MetricsInstrumentation"),t.prototype.addPerformanceEntries=function(e){var r=this;if(!(!pe||!pe.performance||!pe.performance.getEntries||!D.browserPerformanceTimeOrigin)){D.logger.log("[Tracing] Adding & adjusting spans using Performance API");var n=L.msToSec(D.browserPerformanceTimeOrigin),i;if(pe.document&&pe.document.scripts){for(var s=0;s<pe.document.scripts.length;s++)if(pe.document.scripts[s].dataset.entry==="true"){i=pe.document.scripts[s].src;break}}var a,u,c,l;if(pe.performance.getEntries().slice(this._performanceCursor).forEach(function(d){var _=L.msToSec(d.startTime),h=L.msToSec(d.duration);if(!(e.op==="navigation"&&n+_<e.startTimestamp))switch(d.entryType){case"navigation":{QO(e,d,n),c=n+L.msToSec(d.responseStart),l=n+L.msToSec(d.requestStart);break}case"mark":case"paint":case"measure":{var g=ew(e,d,_,h,n);u===void 0&&d.name==="sentry-tracing-init"&&(u=g);var v=XO.getFirstHidden(),m=d.startTime<v.timeStamp;d.name==="first-paint"&&m&&(D.logger.log("[Measurements] Adding FP"),r._measurements.fp={value:d.startTime},r._measurements["mark.fp"]={value:g}),d.name==="first-contentful-paint"&&m&&(D.logger.log("[Measurements] Adding FCP"),r._measurements.fcp={value:d.startTime},r._measurements["mark.fcp"]={value:g});break}case"resource":{var S=d.name.replace(window.location.origin,""),x=K_(e,d,S,_,h,n);a===void 0&&(i||"").indexOf(S)>-1&&(a=x);break}default:}}),a!==void 0&&u!==void 0&&ht(e,{description:"evaluation",endTimestamp:u,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var f=L.msToSec(D.browserPerformanceTimeOrigin);typeof c=="number"&&(D.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(c-e.startTimestamp)*1e3},typeof l=="number"&&l<=c&&(this._measurements["ttfb.requestTime"]={value:(c-l)*1e3})),["fcp","fp","lcp"].forEach(function(d){if(!(!r._measurements[d]||f>=e.startTimestamp)){var _=r._measurements[d].value,h=f+L.msToSec(_),g=Math.abs((h-e.startTimestamp)*1e3),v=g-_;D.logger.log("[Measurements] Normalized "+d+" from "+_+" to "+g+" ("+v+")"),r._measurements[d].value=g}}),this._measurements["mark.fid"]&&this._measurements.fid&&ht(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+L.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},t.prototype._tagMetricInfo=function(e){this._lcpEntry&&(D.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",D.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(D.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(r,n){return e.setTag("cls.source."+(n+1),D.htmlTreeAsString(r.node))}))},t.prototype._trackCLS=function(){var e=this;VO.getCLS(function(r){var n=r.entries.pop();!n||(D.logger.log("[Measurements] Adding CLS"),e._measurements.cls={value:r.value},e._clsEntry=n)})},t.prototype._trackNavigator=function(e){var r=pe.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ls(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),ls(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),ls(r.deviceMemory)&&e.setTag("deviceMemory",String(r.deviceMemory)),ls(r.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},t.prototype._trackLCP=function(){var e=this;JO.getLCP(function(r){var n=r.entries.pop();if(!!n){var i=L.msToSec(D.browserPerformanceTimeOrigin),s=L.msToSec(n.startTime);D.logger.log("[Measurements] Adding LCP"),e._measurements.lcp={value:r.value},e._measurements["mark.lcp"]={value:i+s},e._lcpEntry=n}})},t.prototype._trackFID=function(){var e=this;KO.getFID(function(r){var n=r.entries.pop();if(!!n){var i=L.msToSec(D.browserPerformanceTimeOrigin),s=L.msToSec(n.startTime);D.logger.log("[Measurements] Adding FID"),e._measurements.fid={value:r.value},e._measurements["mark.fid"]={value:i+s}}})},t}();pn.MetricsInstrumentation=ZO;function QO(t,e,r){_t({transaction:t,entry:e,event:"unloadEvent",timeOrigin:r}),_t({transaction:t,entry:e,event:"redirect",timeOrigin:r}),_t({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:r}),_t({transaction:t,entry:e,event:"loadEvent",timeOrigin:r}),_t({transaction:t,entry:e,event:"connect",timeOrigin:r}),_t({transaction:t,entry:e,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),_t({transaction:t,entry:e,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),_t({transaction:t,entry:e,event:"domainLookup",timeOrigin:r,description:"DNS"}),tw(t,e,r)}o(QO,"addNavigationSpans");function ew(t,e,r,n,i){var s=i+r,a=s+n;return ht(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:s}),s}o(ew,"addMeasureSpans");function K_(t,e,r,n,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var u=s+n,c=u+i;return ht(t,{description:r,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:u,data:a}),c}}o(K_,"addResourceSpans");pn.addResourceSpans=K_;function _t(t){var e=t.transaction,r=t.entry,n=t.event,i=t.timeOrigin,s=t.eventEnd,a=t.description,u=s?r[s]:r[n+"End"],c=r[n+"Start"];!c||!u||ht(e,{op:"browser",description:a!=null?a:n,startTimestamp:i+L.msToSec(c),endTimestamp:i+L.msToSec(u)})}o(_t,"addPerformanceNavigationTiming");function tw(t,e,r){ht(t,{op:"browser",description:"request",startTimestamp:r+L.msToSec(e.requestStart),endTimestamp:r+L.msToSec(e.responseEnd)}),ht(t,{op:"browser",description:"response",startTimestamp:r+L.msToSec(e.responseStart),endTimestamp:r+L.msToSec(e.responseEnd)})}o(tw,"addRequest");function ht(t,e){var r=e.startTimestamp,n=V_.__rest(e,["startTimestamp"]);return r&&t.startTimestamp>r&&(t.startTimestamp=r),t.startChild(V_.__assign({startTimestamp:r},n))}o(ht,"_startChild");pn._startChild=ht;function ls(t){return typeof t=="number"&&isFinite(t)}o(ls,"isMeasurementValue")});var Lu=p(Ze=>{Object.defineProperty(Ze,"__esModule",{value:!0});var Xe=P(),_n=I(),rw=dt(),fs=pt();Ze.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];Ze.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:Ze.DEFAULT_TRACING_ORIGINS};function nw(t){var e=Xe.__assign(Xe.__assign({},Ze.defaultRequestInstrumentationOptions),t),r=e.traceFetch,n=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,a={},u=o(function(f){if(a[f])return a[f];var d=i;return a[f]=d.some(function(_){return _n.isMatchingPattern(f,_)})&&!_n.isMatchingPattern(f,"sentry_key"),a[f]},"defaultShouldCreateSpan"),c=u;typeof s=="function"&&(c=o(function(f){return u(f)&&s(f)},"shouldCreateSpan"));var l={};r&&_n.addInstrumentationHandler({callback:function(f){X_(f,c,l)},type:"fetch"}),n&&_n.addInstrumentationHandler({callback:function(f){Z_(f,c,l)},type:"xhr"})}o(nw,"instrumentOutgoingRequests");Ze.instrumentOutgoingRequests=nw;function X_(t,e,r){if(!(!fs.hasTracingEnabled()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp&&t.fetchData.__span){var n=r[t.fetchData.__span];n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus(rw.SpanStatus.InternalError),n.finish(),delete r[t.fetchData.__span]);return}var i=fs.getActiveTransaction();if(i){var n=i.startChild({data:Xe.__assign(Xe.__assign({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=n.spanId,r[n.spanId]=n;var s=t.args[0]=t.args[0],a=t.args[1]=t.args[1]||{},u=a.headers;_n.isInstanceOf(s,Request)&&(u=s.headers),u?typeof u.append=="function"?u.append("sentry-trace",n.toTraceparent()):Array.isArray(u)?u=Xe.__spread(u,[["sentry-trace",n.toTraceparent()]]):u=Xe.__assign(Xe.__assign({},u),{"sentry-trace":n.toTraceparent()}):u={"sentry-trace":n.toTraceparent()},a.headers=u}}}o(X_,"fetchCallback");Ze.fetchCallback=X_;function Z_(t,e,r){var n,i;if(!(!fs.hasTracingEnabled()||((n=t.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=t.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&e(t.xhr.__sentry_xhr__.url)))){var s=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){var a=r[t.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(s.status_code),a.finish(),delete r[t.xhr.__sentry_xhr_span_id__]);return}var u=fs.getActiveTransaction();if(u){var a=u.startChild({data:Xe.__assign(Xe.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,r[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(l){}}}}o(Z_,"xhrCallback");Ze.xhrCallback=Z_});var Q_=p(Bu=>{Object.defineProperty(Bu,"__esModule",{value:!0});var ds=I(),hn=ds.getGlobalObject();function iw(t,e,r){if(e===void 0&&(e=!0),r===void 0&&(r=!0),!hn||!hn.location){ds.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var n=hn.location.href,i;e&&(i=t({name:hn.location.pathname,op:"pageload"})),r&&ds.addInstrumentationHandler({callback:function(s){var a=s.to,u=s.from;if(u===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}u!==a&&(n=void 0,i&&(ds.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:hn.location.pathname,op:"navigation"}))},type:"history"})}o(iw,"instrumentRoutingWithDefaults");Bu.instrumentRoutingWithDefaults=iw});var nh=p(kt=>{Object.defineProperty(kt,"__esModule",{value:!0});var Qe=P(),Tr=I(),sw=ns(),aw=ts(),ow=dt(),eh=pt(),uw=U_(),cw=J_(),ps=Lu(),lw=Q_();kt.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var fw=Qe.__assign({idleTimeout:aw.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:kt.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:lw.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},ps.defaultRequestInstrumentationOptions),dw=function(){function t(e){this.name=t.id,this._metrics=new cw.MetricsInstrumentation,this._emitOptionsWarning=!1;var r=ps.defaultRequestInstrumentationOptions.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?r=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Qe.__assign(Qe.__assign(Qe.__assign({},fw),e),{tracingOrigins:r})}return o(t,"BrowserTracing"),t.prototype.setupOnce=function(e,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(Tr.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Tr.logger.warn("[Tracing] We added a reasonable default for you: "+ps.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,a=i.startTransactionOnLocationChange,u=i.startTransactionOnPageLoad,c=i.markBackgroundTransactions,l=i.traceFetch,f=i.traceXHR,d=i.tracingOrigins,_=i.shouldCreateSpanForRequest;s(function(h){return n._createRouteTransaction(h)},u,a),c&&uw.registerBackgroundTabDetection(),ps.instrumentOutgoingRequests({traceFetch:l,traceXHR:f,tracingOrigins:d,shouldCreateSpanForRequest:_})},t.prototype._createRouteTransaction=function(e){var r=this;if(!this._getCurrentHub){Tr.logger.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,s=n.idleTimeout,a=n.maxTransactionDuration,u=e.op==="pageload"?th():void 0,c=Qe.__assign(Qe.__assign(Qe.__assign({},e),u),{trimEnd:!0}),l=typeof i=="function"?i(c):c,f=l===void 0?Qe.__assign(Qe.__assign({},c),{sampled:!1}):l;f.sampled===!1&&Tr.logger.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),Tr.logger.log("[Tracing] Starting "+f.op+" transaction on scope");var d=this._getCurrentHub(),_=Tr.getGlobalObject().location,h=sw.startIdleTransaction(d,f,s,!0,{location:_});return h.registerBeforeFinishCallback(function(g,v){r._metrics.addPerformanceEntries(g),pw(eh.secToMs(a),g,v)}),h},t.id="BrowserTracing",t}();kt.BrowserTracing=dw;function th(){var t=rh("sentry-trace");if(t)return eh.extractTraceparentData(t)}o(th,"getHeaderContext");kt.getHeaderContext=th;function rh(t){var e=document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}o(rh,"getMetaContent");kt.getMetaContent=rh;function pw(t,e,r){var n=r-e.startTimestamp,i=r&&(n>t||n<0);i&&(e.setStatus(ow.SpanStatus.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}o(pw,"adjustTransactionDuration")});var Gu=p(gn=>{Object.defineProperty(gn,"__esModule",{value:!0});var _w=nh();gn.BrowserTracing=_w.BrowserTracing;var ih=Lu();gn.instrumentOutgoingRequests=ih.instrumentOutgoingRequests;gn.defaultRequestInstrumentationOptions=ih.defaultRequestInstrumentationOptions});var ah=p(Yu=>{Object.defineProperty(Yu,"__esModule",{value:!0});var Wu=P(),hw=I(),gw=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return o(t,"Express"),t.prototype.setupOnce=function(){if(!this._router){hw.logger.error("ExpressIntegration is missing an Express instance");return}yw(this._router,this._methods)},t.id="Express",t}();Yu.Express=gw;function sh(t,e){var r=t.length;switch(r){case 2:return function(n,i){var s=i.__sentry_transaction;if(s){var a=s.startChild({description:t.name,op:"middleware."+e});i.once("finish",function(){a.finish()})}return t.call(this,n,i)};case 3:return function(n,i,s){var a,u=i.__sentry_transaction,c=(a=u)===null||a===void 0?void 0:a.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var d;(d=c)===null||d===void 0||d.finish(),s.call.apply(s,Wu.__spread([this],l))})};case 4:return function(n,i,s,a){var u,c=s.__sentry_transaction,l=(u=c)===null||u===void 0?void 0:u.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,s,function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var _;(_=l)===null||_===void 0||_.finish(),a.call.apply(a,Wu.__spread([this],f))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}o(sh,"wrap");function vw(t,e){return t.map(function(r){return typeof r=="function"?sh(r,e):Array.isArray(r)?r.map(function(n){return typeof n=="function"?sh(n,e):n}):r})}o(vw,"wrapMiddlewareArgs");function mw(t,e){var r=t[e];return t[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,Wu.__spread([this],vw(n,e)))},t}o(mw,"patchMiddleware");function yw(t,e){e===void 0&&(e=[]),e.forEach(function(r){return mw(t,r)})}o(yw,"instrumentMiddlewares")});var oh=p(zu=>{Object.defineProperty(zu,"__esModule",{value:!0});var _s=I(),bw=function(){function t(){this.name=t.id}return o(t,"Postgres"),t.prototype.setupOnce=function(e,r){var n=_s.loadModule("pg");if(!n){_s.logger.error("Postgres Integration was unable to require `pg` package.");return}_s.fill(n.Client.prototype,"query",function(i){return function(s,a,u){var c,l,f,d=r().getScope(),_=(c=d)===null||c===void 0?void 0:c.getSpan(),h=(l=_)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof u=="function")return i.call(this,s,a,function(v,m){var S;(S=h)===null||S===void 0||S.finish(),u(v,m)});if(typeof a=="function")return i.call(this,s,function(v,m){var S;(S=h)===null||S===void 0||S.finish(),a(v,m)});var g=typeof a!="undefined"?i.call(this,s,a):i.call(this,s);return _s.isThenable(g)?g.then(function(v){var m;return(m=h)===null||m===void 0||m.finish(),v}):((f=h)===null||f===void 0||f.finish(),g)}})},t.id="Postgres",t}();zu.Postgres=bw});var uh=p(Vu=>{Object.defineProperty(Vu,"__esModule",{value:!0});var $u=I(),Sw=function(){function t(){this.name=t.id}return o(t,"Mysql"),t.prototype.setupOnce=function(e,r){var n=$u.loadModule("mysql/lib/Connection.js");if(!n){$u.logger.error("Mysql Integration was unable to require `mysql` package.");return}$u.fill(n,"createQuery",function(i){return function(s,a,u){var c,l,f=r().getScope(),d=(c=f)===null||c===void 0?void 0:c.getSpan(),_=(l=d)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof u=="function"?i.call(this,s,a,function(h,g,v){var m;(m=_)===null||m===void 0||m.finish(),u(h,g,v)}):typeof a=="function"?i.call(this,s,function(h,g,v){var m;(m=_)===null||m===void 0||m.finish(),a(h,g,v)}):i.call(this,s,a,u)}})},t.id="Mysql",t}();Vu.Mysql=Sw});var ch=p(Ju=>{Object.defineProperty(Ju,"__esModule",{value:!0});var Ku=P(),hs=I(),Ew=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],Tw={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},Ow=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:Ew,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}return o(t,"Mongo"),t.prototype.setupOnce=function(e,r){var n=this._useMongoose?"mongoose":"mongodb",i=hs.loadModule(n);if(!i){hs.logger.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},t.prototype._instrumentOperations=function(e,r,n){var i=this;r.forEach(function(s){return i._patchOperation(e,s,n)})},t.prototype._patchOperation=function(e,r,n){if(r in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);hs.fill(e.prototype,r,function(s){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c,l,f,d,_=a[a.length-1],h=n().getScope(),g=(c=h)===null||c===void 0?void 0:c.getSpan();if(typeof _!="function"||r==="mapReduce"&&a.length===2){var v=(l=g)===null||l===void 0?void 0:l.startChild(i(this,r,a)),m=s.call.apply(s,Ku.__spread([this],a));return hs.isThenable(m)?m.then(function(x){var C;return(C=v)===null||C===void 0||C.finish(),x}):((f=v)===null||f===void 0||f.finish(),m)}var S=(d=g)===null||d===void 0?void 0:d.startChild(i(this,r,a.slice(0,-1)));return s.call.apply(s,Ku.__spread([this],a.slice(0,-1),[function(x,C){var ye;(ye=S)===null||ye===void 0||ye.finish(),_(x,C)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,r,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:r,data:i},a=Tw[r],u=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!u)return s;try{if(r==="mapReduce"){var c=Ku.__read(n,2),l=c[0],f=c[1];i[a[0]]=typeof l=="string"?l:l.name||"<anonymous>",i[a[1]]=typeof f=="string"?f:f.name||"<anonymous>"}else for(var d=0;d<a.length;d++)i[a[d]]=JSON.stringify(n[d])}catch(_){}return s},t.id="Mongo",t}();Ju.Mongo=Ow});var lh=p(Or=>{Object.defineProperty(Or,"__esModule",{value:!0});var ww=ah();Or.Express=ww.Express;var qw=oh();Or.Postgres=qw.Postgres;var Iw=uh();Or.Mysql=Iw.Mysql;var xw=ch();Or.Mongo=xw.Mongo});var Xu=p(K=>{Object.defineProperty(K,"__esModule",{value:!0});var fh=P(),Rw=Gu(),dh=ns();K.addExtensionMethods=dh.addExtensionMethods;var Mw=lh(),Pw=fh.__assign(fh.__assign({},Mw),{BrowserTracing:Rw.BrowserTracing});K.Integrations=Pw;var Cw=Qi();K.Span=Cw.Span;var kw=es();K.Transaction=kw.Transaction;var ph=Gu();K.registerRequestInstrumentation=ph.instrumentOutgoingRequests;K.defaultRequestInstrumentationOptions=ph.defaultRequestInstrumentationOptions;var Aw=dt();K.SpanStatus=Aw.SpanStatus;var Nw=ts();K.IdleTransaction=Nw.IdleTransaction;var jw=ns();K.startIdleTransaction=jw.startIdleTransaction;dh.addExtensionMethods();var vn=pt();K.extractTraceparentData=vn.extractTraceparentData;K.getActiveTransaction=vn.getActiveTransaction;K.hasTracingEnabled=vn.hasTracingEnabled;K.stripUrlQueryAndFragment=vn.stripUrlQueryAndFragment;K.TRACEPARENT_REGEXP=vn.TRACEPARENT_REGEXP});var Qu=p(Zu=>{Object.defineProperty(Zu,"__esModule",{value:!0});var Dw=ge(),Fw=I(),wr=class{constructor(e={}){this.name=wr.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("aws-sdk/global");Fw.fill(e.Service.prototype,"makeRequest",Hw)}catch(e){if(!this._optional)throw e}}};o(wr,"AWSServices");Zu.AWSServices=wr;wr.id="AWSServices";function Hw(t){return function(e,r,n){let i,s,a=Dw.getCurrentHub().getScope();a&&(i=a.getTransaction());let u=t.call(this,e,r);return u.on("afterBuild",()=>{i&&(s=i.startChild({description:Uw(this,e,r),op:"aws.request"}))}),u.on("complete",()=>{s&&s.finish()}),n&&u.send(n),u}}o(Hw,"wrapMakeRequest");function Uw(t,e,r){let n=`aws.${t.serviceIdentifier}.${e}`;if(r===void 0)return n;switch(t.serviceIdentifier){case"s3":n+=Bw(e,r);break;case"lambda":n+=Lw(e,r);break}return n}o(Uw,"describe");function Lw(t,e){let r="";return"FunctionName"in e&&(r+=` ${e.FunctionName}`),r}o(Lw,"describeLambdaOperation");function Bw(t,e){let r="";return"Bucket"in e&&(r+=` ${e.Bucket}`),r}o(Bw,"describeS3Operation")});var Ir=p(qr=>{Object.defineProperty(qr,"__esModule",{value:!0});var Gw=I(),_h=require("domain");function Ww(t){return Gw.addExceptionMechanism(t,{handled:!1}),t}o(Ww,"serverlessEventProcessor");qr.serverlessEventProcessor=Ww;function hh(){return _h.active}o(hh,"getActiveDomain");qr.getActiveDomain=hh;function Yw(t){return(...e)=>hh()?t(...e):_h.create().run(()=>t(...e))}o(Yw,"domainify");qr.domainify=Yw;function zw(t,e,r){let n=e(t),i={apply:(s,a,u)=>n.apply(a,u)};return r&&(i.get=(s,a)=>r.hasOwnProperty(a)?r[a]:s[a]),new Proxy(t,i)}o(zw,"proxyFunction");qr.proxyFunction=zw});var bh=p(gt=>{Object.defineProperty(gt,"__esModule",{value:!0});var $w=P(),At=ge(),mn=ge(),Vw=Xu(),yn=I(),gh=require("fs"),Kw=require("os"),vh=require("path"),mh=require("perf_hooks"),Jw=require("util"),Xw=Qu(),Zw=Ir();$w.__exportStar(ge(),gt);var{isPromise:Qw}=Jw.types;gt.defaultIntegrations=[...mn.defaultIntegrations,new Xw.AWSServices({optional:!0})];function e1(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=gt.defaultIntegrations),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.serverless",integrations:["AWSLambda"],packages:[{name:"npm:@sentry/serverless",version:mn.SDK_VERSION}],version:mn.SDK_VERSION},mn.init(t),mn.addGlobalEventProcessor(Zw.serverlessEventProcessor)}o(e1,"init");gt.init=e1;function t1(t,e,r){let n=vh.resolve(t,e,r);return gh.existsSync(n)||gh.existsSync(`${n}.js`)?require(n):require(require.resolve(r,{paths:[t,e]}))}o(t1,"tryRequire");function r1(t,e){let r=vh.basename(e),n=r.match(/^([^.]*)\.(.*)$/);if(!n){yn.logger.error(`Bad handler ${r}`);return}let[,i,s]=n,a;try{let l=e.substring(0,e.indexOf(r));a=t1(t,l,i)}catch(l){yn.logger.error(`Cannot require ${e} in ${t}`,l);return}let u,c;if(s.split(".").forEach(l=>{u=a,a=a&&a[l],c=l}),!a){yn.logger.error(`${e} is undefined or not exported`);return}if(typeof a!="function"){yn.logger.error(`${e} is not a function`);return}u[c]=yh(a)}o(r1,"tryPatchHandler");gt.tryPatchHandler=r1;function ec(t){return typeof t.getRemainingTimeInMillis=="function"?t.getRemainingTimeInMillis():0}o(ec,"tryGetRemainingTimeInMillis");function n1(t,e,r){t.setTransactionName(e.functionName),t.setTag("server_name",process.env._AWS_XRAY_DAEMON_ADDRESS||process.env.SENTRY_NAME||Kw.hostname()),t.setTag("url",`awslambda:///${e.functionName}`),t.setContext("runtime",{name:"node",version:global.process.version}),t.setContext("aws.lambda",{aws_request_id:e.awsRequestId,function_name:e.functionName,function_version:e.functionVersion,invoked_function_arn:e.invokedFunctionArn,execution_duration_in_millis:mh.performance.now()-r,remaining_time_in_millis:ec(e),"sys.argv":process.argv}),t.setContext("aws.cloudwatch.logs",{log_group:e.logGroupName,log_stream:e.logStreamName,url:`https://console.aws.amazon.com/cloudwatch/home?region=${process.env.AWS_REGION}#logsV2:log-groups/log-group/${encodeURIComponent(e.logGroupName)}/log-events/${encodeURIComponent(e.logStreamName)}`})}o(n1,"enhanceScopeWithEnvironmentData");function yh(t,e={}){let r=mh.performance.now(),n=ee({flushTimeout:2e3,rethrowAfterCapture:!0,callbackWaitsForEmptyEventLoop:!1,captureTimeoutWarning:!0,timeoutWarningLimit:500},e),i,s=t.length>2?(a,u)=>new Promise((c,l)=>{let f=t(a,u,(d,_)=>{d==null?c(_):l(d)});Qw(f)&&f.then(c,l)}):t;return async(a,u)=>{u.callbackWaitsForEmptyEventLoop=n.callbackWaitsForEmptyEventLoop;let c=Math.ceil(ec(u)/1e3),l=Math.floor(c/60),f=c%60,d=l>0?`${l}m${f}s`:`${f}s`;if(n.captureTimeoutWarning){let x=ec(u)-n.timeoutWarningLimit;i=setTimeout(()=>{At.withScope(C=>{C.setTag("timeout",d),At.captureMessage(`Possible function timeout: ${u.functionName}`,At.Severity.Warning)})},x)}let _,h=a;h.headers&&yn.isString(h.headers["sentry-trace"])&&(_=Vw.extractTraceparentData(h.headers["sentry-trace"]));let g=At.startTransaction(ee({name:u.functionName,op:"awslambda.handler"},_)),v=At.getCurrentHub(),m=v.pushScope(),S;try{n1(m,u,r),m.setSpan(g),S=await s(a,u)}catch(x){if(At.captureException(x),n.rethrowAfterCapture)throw x}finally{clearTimeout(i),g.finish(),v.popScope(),await At.flush(n.flushTimeout)}return S}}o(yh,"wrapHandler");gt.wrapHandler=yh});var Eh=p(tc=>{Object.defineProperty(tc,"__esModule",{value:!0});var i1=ge(),Sh=I(),xr=class{constructor(e={}){this.name=xr.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("google-gax");Sh.fill(e.GrpcClient.prototype,"createStub",s1)}catch(e){if(!this._optional)throw e}}};o(xr,"GoogleCloudGrpc");tc.GoogleCloudGrpc=xr;xr.id="GoogleCloudGrpc";function s1(t){return async function(...e){var r;let n=(r=e[1])===null||r===void 0?void 0:r.servicePath;if(n==null||n==null)return t.apply(this,e);let i=o1(n),s=await t.apply(this,e);for(let a of Object.keys(Object.getPrototypeOf(s)))a1(s,i,a);return s}}o(s1,"wrapCreateStub");function a1(t,e,r){let n=t[r];if(typeof n!="function")return;let i=!n.requestStream&&!n.responseStream?"unary call":n.requestStream&&!n.responseStream?"client stream":!n.requestStream&&n.responseStream?"server stream":"bidi stream";i=="unary call"&&Sh.fill(t,r,s=>(...a)=>{var u;let c=s.apply(t,a);if(typeof((u=c)===null||u===void 0?void 0:u.on)!="function")return c;let l,f,d=i1.getCurrentHub().getScope();return d&&(l=d.getTransaction()),l&&(f=l.startChild({description:`${i} ${r}`,op:`gcloud.grpc.${e}`})),c.on("status",()=>{f&&f.finish()}),c})}o(a1,"fillGrpcFunction");function o1(t){let e=t.match(/^(\w+)\.googleapis.com$/);return e?e[1]:t}o(o1,"identifyService")});var Th=p(rc=>{Object.defineProperty(rc,"__esModule",{value:!0});var u1=ge(),c1=I(),Rr=class{constructor(e={}){this.name=Rr.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("@google-cloud/common");c1.fill(e.Service.prototype,"request",l1)}catch(e){if(!this._optional)throw e}}};o(Rr,"GoogleCloudHttp");rc.GoogleCloudHttp=Rr;Rr.id="GoogleCloudHttp";function l1(t){return function(e,r){let n,i,s=u1.getCurrentHub().getScope();if(s&&(n=s.getTransaction()),n){let a=e.method||"GET";i=n.startChild({description:`${a} ${e.uri}`,op:`gcloud.http.${f1(this.apiEndpoint)}`})}t.call(this,e,(...a)=>{i&&i.finish(),r(...a)})}}o(l1,"wrapRequestFunction");function f1(t){let e=t.match(/^https:\/\/(\w+)\.googleapis.com$/);return e?e[1]:t.replace(/^(http|https)?:\/\//,"")}o(f1,"identifyService")});var Oh=p(ic=>{Object.defineProperty(ic,"__esModule",{value:!0});var bn=ge(),d1=Xu(),nc=I(),gs=Ir(),{parseRequest:p1}=bn.Handlers;function _1(t,e={}){let r=o(s=>gs.domainify(h1(s,e)),"wrap"),n,i=t.__emulator_func;return i&&(n={__emulator_func:gs.proxyFunction(i,r)}),gs.proxyFunction(t,r,n)}o(_1,"wrapHttpFunction");ic.wrapHttpFunction=_1;function h1(t,e={}){let r=ee({flushTimeout:2e3,parseRequestOptions:{}},e);return(n,i)=>{let s=(n.method||"").toUpperCase(),a=nc.stripUrlQueryAndFragment(n.originalUrl||n.url||""),u,c=n;c.headers&&nc.isString(c.headers["sentry-trace"])&&(u=d1.extractTraceparentData(c.headers["sentry-trace"]));let l=bn.startTransaction(ee({name:`${s} ${a}`,op:"gcp.function.http"},u));bn.getCurrentHub().configureScope(d=>{d.addEventProcessor(_=>p1(_,n,r.parseRequestOptions)),d.setSpan(l)}),i.__sentry_transaction=l,gs.getActiveDomain().on("error",d=>{bn.captureException(d)});let f=i.end;return i.end=function(d,_,h){l.setHttpStatus(i.statusCode),l.finish(),bn.flush(r.flushTimeout).then(()=>{f.call(this,d,_,h)}).then(null,g=>{nc.logger.error(g)})},t(n,i)}}o(h1,"_wrapHttpFunction")});var ac=p(sc=>{Object.defineProperty(sc,"__esModule",{value:!0});var g1=require("os");function v1(t,e){t.setContext("runtime",{name:"node",version:global.process.version}),t.setTag("server_name",process.env.SENTRY_NAME||g1.hostname()),t.setContext("gcp.function.context",ee({},e))}o(v1,"configureScopeWithContext");sc.configureScopeWithContext=v1});var wh=p(uc=>{Object.defineProperty(uc,"__esModule",{value:!0});var Sn=ge(),m1=I(),oc=Ir(),y1=ac();function b1(t,e={}){return oc.proxyFunction(t,r=>oc.domainify(S1(r,e)))}o(b1,"wrapEventFunction");uc.wrapEventFunction=b1;function S1(t,e={}){let r=ee({flushTimeout:2e3},e);return(n,i,s)=>{let a=Sn.startTransaction({name:i.eventType,op:"gcp.function.event"});Sn.getCurrentHub().configureScope(l=>{y1.configureScopeWithContext(l,i),l.setSpan(a)});let u=oc.getActiveDomain();u.on("error",Sn.captureException);let c=u.bind((...l)=>{l[0]!==null&&l[0]!==void 0&&Sn.captureException(l[0]),a.finish(),Sn.flush(r.flushTimeout).then(()=>{s(...l)}).then(null,f=>{m1.logger.error(f)})});return t.length>2?t(n,i,c):Promise.resolve().then(()=>t(n,i)).then(l=>c(null,l),l=>c(l,void 0))}}o(S1,"_wrapEventFunction")});var qh=p(lc=>{Object.defineProperty(lc,"__esModule",{value:!0});var En=ge(),E1=I(),cc=Ir(),T1=ac();function O1(t,e={}){return cc.proxyFunction(t,r=>cc.domainify(w1(r,e)))}o(O1,"wrapCloudEventFunction");lc.wrapCloudEventFunction=O1;function w1(t,e={}){let r=ee({flushTimeout:2e3},e);return(n,i)=>{let s=En.startTransaction({name:n.type||"<unknown>",op:"gcp.function.cloud_event"});En.getCurrentHub().configureScope(c=>{T1.configureScopeWithContext(c,n),c.setSpan(s)});let a=cc.getActiveDomain();a.on("error",En.captureException);let u=a.bind((...c)=>{c[0]!==null&&c[0]!==void 0&&En.captureException(c[0]),s.finish(),En.flush(r.flushTimeout).then(()=>{i(...c)}).then(null,l=>{E1.logger.error(l)})});return t.length>1?t(n,u):Promise.resolve().then(()=>t(n)).then(c=>u(null,c),c=>u(c,void 0))}}o(w1,"_wrapCloudEventFunction")});var Ih=p(vt=>{Object.defineProperty(vt,"__esModule",{value:!0});var fc=P(),Tn=ge(),q1=Eh(),I1=Th(),x1=Ir();fc.__exportStar(Oh(),vt);fc.__exportStar(wh(),vt);fc.__exportStar(qh(),vt);vt.defaultIntegrations=[...Tn.defaultIntegrations,new I1.GoogleCloudHttp({optional:!0}),new q1.GoogleCloudGrpc({optional:!0})];function R1(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=vt.defaultIntegrations),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.serverless",integrations:["GCPFunction"],packages:[{name:"npm:@sentry/serverless",version:Tn.SDK_VERSION}],version:Tn.SDK_VERSION},Tn.init(t),Tn.addGlobalEventProcessor(x1.serverlessEventProcessor)}o(R1,"init");vt.init=R1});var Rh=p(Mr=>{Object.defineProperty(Mr,"__esModule",{value:!0});var xh=P(),M1=bh();Mr.AWSLambda=M1;var P1=Ih();Mr.GCPFunction=P1;xh.__exportStar(Qu(),Mr);xh.__exportStar(ge(),Mr)});Uh(exports,{handler:()=>k1});var Sc=o(({from:t,to:e,team:r,inviteAcceptLink:n})=>({subject:`${t.name} invites you to team ${r.name}`,body:`Dear ${e.name},

${t.name} has invited you to join the team ${r.name}.

You can accept it by clicking on the following link:

${n}

If you don't want to accept this invitation you can safely ignore this email.

Sincerely,

The Deci team.
`}),"default");var Ec=o(({name:t,validationLink:e})=>({subject:"Validate your e-mail address",body:`${t?`Dear ${t}`:"Hi"},

You have recently created an account in Deci.

To activate it you need to validate your email address by clicking in this link:

${e}

If it wasn't you that created the account, you can safely ignore this e-mail.

Sincerely,

The Deci team.
`}),"default");var Tc=o(({url:t})=>({subject:"Deci: Sign in",body:`Hello,

You have recently asked to sign into Deci.

To be able to do that, you can click on this link:

${t}

If it wasn't you that initiated this, you can safely ignore this e-mail.

Whatever you do, please don't forward this e-mail to anyone.

Sincerely,

The Deci team.
`}),"default");function Pr(t){return t.name?`Dear ${t.name}`:"Hi,"}o(Pr,"salutation");var Oc=o(({from:t,to:e,workspace:r,inviteAcceptLink:n})=>({subject:`${t.name} invites you to workspace "${r.name}"`,body:`${Pr(e)},

${t.name} has invited you to join the workspace "${r.name}".

You can accept it by clicking on the following link:

${n}

If you don't want to accept this invitation you can safely ignore this email.

Sincerely,

The Deci team.
`}),"default");var wc=o(({from:t,to:e,resource:r,resourceName:n,inviteAcceptLink:i})=>({subject:`${t.name} invites you to a ${r.type}`,body:`${Pr(e)},

${t.name} has shared a ${r.type} named "${n}".

You can accept it by clicking on the following link:

${i}

If you don't want to accept this invitation you can safely ignore this email.

Sincerely,

The Deci team.
`}),"default");var qc={"team-invite":Sc,"email-validation":Ec,"auth-magiclink":Tc,"workspace-invite":Oc,"generic-invite":wc};var Mc=ms(require("aws-sdk"));var Ic=ms(require("assert"));function xc(){return{sentry:{dsn:Cr("SENTRY_DSN","")}}}o(xc,"monitor");function Rc(){return{ses:{accessKeyId:Cr("DECI_SES_ACCESS_KEY_ID"),secretAccessKey:Cr("DECI_SES_SECRET_ACCESS_KEY"),region:Cr("AWS_REGION","eu-west-2")},senderEmailAddress:Cr("DECI_FROM_EMAIL_ADDRESS")}}o(Rc,"email");function Cr(t,e=void 0){let r=process.env[t];return r==null&&(e!==void 0?r=e:(0,Ic.fail)(`${t} env var must be defined`)),r}o(Cr,"env");var{ses:Bh,senderEmailAddress:Pc}=Rc(),Gh=mc(ee({},Bh),{apiVersion:"2019-09-27"}),Wh=new Mc.SESV2(Gh);function ys({to:t,body:e,subject:r}){return new Promise((n,i)=>{let s={Content:{Simple:{Body:{Text:{Data:e,Charset:"UTF-8"}},Subject:{Data:r,Charset:"UTF-8"}}},Destination:{ToAddresses:[t]},FromEmailAddress:Pc,ReplyToAddresses:[Pc]};Wh.sendEmail(s,a=>{if(a)return i(a);n()})})}o(ys,"sendEmail");var dc=ms(Rh());var Mh="0.0.1";var{sentry:{dsn:pc}}=xc();pc&&dc.AWSLambda.init({dsn:pc,tracesSampleRate:1,environment:process.env.NODE_ENV,release:Mh});function Ph(t,e={}){if(pc){let{rethrow:r=!0}=e;return dc.AWSLambda.wrapHandler(t,{rethrowAfterCapture:r})}return t}o(Ph,"wrapHandler");function _c(t){return Ph(async e=>{for(let r of e.Records){let n=JSON.parse(r.body);await t(n)}return{statusCode:200}},{rethrow:!1})}o(_c,"queueHandler");var k1=_c(N1),A1=!!process.env.JEST_WORKER_ID;async function N1(r){var n=r,{template:t}=n,e=bc(n,["template"]);if(A1)return;let i=qc[t];if(!i)throw new Error(`Could not find template with name ${t}`);let{subject:s,body:a}=i(e);await ys({to:e.email||e.to.email,body:a,subject:s})}o(N1,"handleSendEmail");0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
