var Vq=Object.create;var Zi=Object.defineProperty,Yq=Object.defineProperties,Xq=Object.getOwnPropertyDescriptor,Zq=Object.getOwnPropertyDescriptors,Qq=Object.getOwnPropertyNames,Ja=Object.getOwnPropertySymbols,ej=Object.getPrototypeOf,vp=Object.prototype.hasOwnProperty,qy=Object.prototype.propertyIsEnumerable;var jy=(e,t,r)=>t in e?Zi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ie=(e,t)=>{for(var r in t||(t={}))vp.call(t,r)&&jy(e,r,t[r]);if(Ja)for(var r of Ja(t))qy.call(t,r)&&jy(e,r,t[r]);return e},Le=(e,t)=>Yq(e,Zq(t)),Ry=e=>Zi(e,"__esModule",{value:!0}),o=(e,t)=>Zi(e,"name",{value:t,configurable:!0});var zr=(e,t)=>{var r={};for(var n in e)vp.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ja)for(var n of Ja(e))t.indexOf(n)<0&&qy.call(e,n)&&(r[n]=e[n]);return r};var x=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),tj=(e,t)=>{Ry(e);for(var r in t)Zi(e,r,{get:t[r],enumerable:!0})},rj=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Qq(t))!vp.call(e,n)&&n!=="default"&&Zi(e,n,{get:()=>t[n],enumerable:!(r=Xq(t,n))||r.enumerable});return e},an=e=>rj(Ry(Zi(e!=null?Vq(ej(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var yp=x((JJ,My)=>{My.exports=o(function(t=""){return t.split(";").map(i=>i.trim()).filter(Boolean).reverse().find(i=>i.startsWith("_idx="))||""},"getIdx")});var bp=x(_p=>{"use strict";_p.parse=sj;_p.serialize=aj;var nj=decodeURIComponent,ij=encodeURIComponent,oj=/; */,Ga=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function sj(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},i=e.split(oj),s=n.decode||nj,a=0;a<i.length;a++){var u=i[a],l=u.indexOf("=");if(!(l<0)){var p=u.substr(0,l).trim(),d=u.substr(++l,u.length).trim();d[0]=='"'&&(d=d.slice(1,-1)),r[p]==null&&(r[p]=cj(d,s))}}return r}o(sj,"parse");function aj(e,t,r){var n=r||{},i=n.encode||ij;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Ga.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!Ga.test(s))throw new TypeError("argument val is invalid");var a=e+"="+s;if(n.maxAge!=null){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(u)}if(n.domain){if(!Ga.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!Ga.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var l=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}o(aj,"serialize");function cj(e,t){try{return t(e)}catch(r){return e}}o(cj,"tryDecode")});var Ny=x(xp=>{var Qi="Could not extract parameters from DER signature";xp.derToConcat=(e,t)=>{let r=0;if(e[r++]!==48)throw new Error(Qi);let n=e[r++];if(n===129&&(n=e[r++]),n>e.length-r||e[r++]!==2)throw new Error(Qi);let i=e[r++];if(i>e.length-r-2||i>t+1)throw new Error(Qi);let s=r;if(r+=i,e[r++]!==2)throw new Error(Qi);let a=e[r++];if(a!==e.length-r||a>t+1)throw new Error(Qi);let u=r;if(r+=a,r!==e.length)throw new Error(Qi);let l=t-i,p=t-a,d=Buffer.allocUnsafe(l+i+p+a);for(r=0;r<l;r++)d[r]=0;let g=Math.max(-l,0);e.copy(d,r,s+g,s+i),r=t;for(let v=r;r<v+p;r++)d[r]=0;let m=Math.max(-p,0);return e.copy(d,r,u+m,u+a),d};xp.concatToDer=(e,t)=>{let r=Py(e,0,t),n=Py(e,t,e.length),i=t-r,s=t-n,a=i+s+4,u=a<128,l=Buffer.allocUnsafe((u?2:3)+a),p=0;return l[p++]=48,u?l[p++]=a:(l[p++]=129,l[p++]=a&255),l[p++]=2,l[p++]=i,r<0?(l[p++]=0,p+=e.copy(l,p,0,t)):p+=e.copy(l,p,r,t),l[p++]=2,l[p++]=s,n<0?(l[p++]=0,e.copy(l,p,t)):e.copy(l,p,t+n),l};function Py(e,t,r){let n=0;for(;t+n<r&&e[t+n]===0;)n++;return e[t+n]>=128?--n:n}o(Py,"countPadding")});var Ya=x(Va=>{Va.buf2b64url=e=>e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");function Nn(e,t,r){if(r)r(e,t);else{if(e)throw e;return t}}o(Nn,"responder");Va.responder=Nn;Va.payloadVerifications=(e,t)=>{if(e.audList){if(e.payload.aud===void 0)return e.error={message:"Missing aud claim in payload"},Nn(null,e,t);if(!e.audList.includes(e.payload.aud))return e.error={message:"Mismatching aud claim in payload"},Nn(null,e,t)}if(e.issList){if(e.payload.iss===void 0)return e.error={message:"Missing iss claim in payload"},Nn(null,e,t);if(!e.issList.includes(e.payload.iss))return e.error={message:"Mismatching iss claim in payload"},Nn(null,e,t)}let r=Number(e.payload.iat);if(!r)return e.error={message:"Missing or invalid iat claim in payload"},Nn(null,e,t);let n=Number(e.payload.exp);if(e.lifetime){let i=r+e.lifetime;(!n||i<n)&&(n=i)}return n&&Date.now()>n*1e3?(e.expired=n,Nn(null,e,t)):(e.valid=!0,Nn(null,e,t))}});var By=x(Sp=>{var di=require("crypto"),Dy=Ny(),{responder:$r,buf2b64url:bs,payloadVerifications:uj}=Ya(),Ly=/^(HS|RS|ES)(256|384|512)$/;Sp.generate=(e,t,...r)=>{let n,i,s={alg:e};if(r[0].constructor!==Object)n=r[0],i=typeof r[1]=="function"?r[1]:void 0;else if(s.kid=r[1],n=r[0][r[1]],i=typeof r[2]=="function"?r[2]:void 0,!n)return $r(new TypeError("Invalid key identifier"),null,i);let a=typeof e=="string"?e.match(Ly):null;if(!a)return $r(new TypeError("Unrecognized algorithm"),null,i);let u;a[1]==="HS"?u=lj:a[1]==="RS"?u=fj:u=gj,t.iat=Math.floor(Date.now()/1e3);let l=bs(Buffer.from(JSON.stringify(s))),p=bs(Buffer.from(JSON.stringify(t))),d;try{d=u(`${l}.${p}`,+a[2],n)}catch(g){return $r(g,null,i)}return $r(null,d,i)};Sp.verify=(e,t,r)=>{if(e.error)return $r(null,e,r);if(typeof e.header.alg!="string")return e.error={message:"Missing or invalid alg claim in header"},$r(null,e,r);let n=e.header.alg.match(Ly);if(!n)return e.error={message:`Unrecognized algorithm ${e.header.alg}`},$r(null,e,r);if(e.algList&&!e.algList.includes(e.header.alg))return e.error={message:`Unwanted algorithm ${e.header.alg}`},$r(null,e,r);let i=`${e.parts[0]}.${e.parts[1]}`,s;n[1]==="HS"?s=pj:n[1]==="RS"?s=dj:s=hj;let a;try{a=s(i,e.parts[2],+n[2],t)}catch(u){return e.error={message:`Could not verify integrity. ${u.message}`},$r(null,e,r)}return a?uj(e,r):(e.error={message:"Integrity check failed"},$r(null,e,r))};function lj(e,t,r){if(typeof r=="string")r=Buffer.from(r,"base64");else if(!(r instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");let n=t>>3;if(r.length<n)throw new TypeError(`Key length must be at least ${n} bytes`);let i=di.createHmac(`SHA${t}`,r),s=bs(i.update(e).digest());return`${e}.${s}`}o(lj,"generateHsJws");function pj(e,t,r,n){if(typeof n=="string")n=Buffer.from(n,"base64");else if(!(n instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");let i=r>>3;if(n.length<i)throw new TypeError(`Key length must be at least ${i} bytes`);let s=di.createHmac(`SHA${r}`,n);return s.update(e),di.timingSafeEqual(s.digest(),Buffer.from(t,"base64"))}o(pj,"verifyHsJws");function fj(e,t,r){if(r instanceof Buffer)r=r.toString();else if(typeof r!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!r.includes("-----BEGIN")||!r.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted RSA private key");let n=di.createSign(`SHA${t}`),i=bs(n.update(e).sign(r));return`${e}.${i}`}o(fj,"generateRsJws");function dj(e,t,r,n){if(n instanceof Buffer)n=n.toString();else if(typeof n!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!n.includes("-----BEGIN")||!(n.includes("KEY-----")||n.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted RSA public key");let i=di.createVerify(`SHA${r}`);return i.update(e),i.verify(n,t,"base64")}o(dj,"verifyRsJws");function gj(e,t,r){if(r instanceof Buffer)r=r.toString();else if(typeof r!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!r.includes("-----BEGIN")||!r.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted EC private key");let n=di.createSign(`SHA${t}`);n.update(e);let i=32;t===384?i=48:t===512&&(i=66);let s=bs(Dy.derToConcat(n.sign(r),i));return`${e}.${s}`}o(gj,"generateEsJws");function hj(e,t,r,n){if(n instanceof Buffer)n=n.toString();else if(typeof n!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!n.includes("-----BEGIN")||!(n.includes("KEY-----")||n.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted EC public key");t=Buffer.from(t,"base64");let i=32;if(r===384?i=48:r===512&&(i=66),t.length!==i<<1)return!1;let s=di.createVerify(`SHA${r}`);return s.update(e),s.verify(n,Dy.concatToDer(t,i))}o(hj,"verifyEsJws")});var zy=x(Ep=>{var rt=require("crypto"),{responder:Qe,buf2b64url:Wr,payloadVerifications:mj}=Ya(),Ky=/^(PBES2-HS(256|384|512)\053)?(RSA-OAEP|dir|A(128|192|256)KW)$/,Uy=/^A(128|192|256)(GCM|CBC-HS(256|384|512))$/;Ep.generate=(e,t,r,...n)=>{let i,s,a={alg:e,enc:t};if(n[0].constructor!==Object)i=n[0],s=typeof n[1]=="function"?n[1]:void 0;else if(a.kid=n[1],i=n[0][n[1]],s=typeof n[2]=="function"?n[2]:void 0,!i)return Qe(new TypeError("Invalid key identifier"),null,s);let u=typeof e=="string"?e.match(Ky):null;if(!u||u[2]&&+u[2]!=u[4]*2){let m=new TypeError("Unrecognized key management algorithm");return Qe(m,null,s)}let l=typeof t=="string"?t.match(Uy):null;if(!l||l[3]&&+l[3]!=l[1]*2){let m=new TypeError("Unrecognized content encryption algorithm");return Qe(m,null,s)}let p;if(u[2]){let m=rt.randomBytes(16);if(a.p2c=1024,a.p2s=Wr(m),p=Buffer.concat([Buffer.from(e),Buffer.from([0]),m]),!s){let v=Number(u[2]);i=rt.pbkdf2Sync(i,p,a.p2c,v>>4,`sha${v}`)}}let d=Wr(Buffer.from(JSON.stringify(a)));if(!u[2]||!s)return Fy(u,l,d,r,i,s);let g=Number(u[2]);rt.pbkdf2(i,p,a.p2c,g>>4,`sha${g}`,(m,v)=>{if(m)return s(m);Fy(u,l,d,r,v,s)})};function Fy(e,t,r,n,i,s){let a=t[3]?+t[1]>>2:+t[1]>>3,u=t[3]?_j:vj,l,p;if(e[0]!=="dir"){l=rt.randomBytes(a);let g=e[4]?Ej:xj;try{p=g(l,i,+e[4])}catch(m){return Qe(m,null,s)}}else{if(typeof i=="string")i=Buffer.from(i,"base64");else if(!(i instanceof Buffer)){let g=new TypeError("Key must be a buffer or a base64 string");return Qe(g,null,s)}if(i.length<a){let g=new TypeError(`Key must be at least ${a} bytes`);return Qe(g,null,s)}l=i.slice(0,a),p=""}n.iat=Math.floor(Date.now()/1e3);let d=u(r,l,p,JSON.stringify(n),+t[1]);return Qe(null,d,s)}o(Fy,"generateJwe");Ep.verify=(e,t,r)=>{if(e.error)return Qe(null,e,r);if(typeof e.header.alg!="string")return e.error={message:"Missing or invalid alg claim in header"},Qe(null,e,r);if(typeof e.header.enc!="string")return e.error={message:"Missing or invalid enc claim in header"},Qe(null,e,r);let n=e.header.alg.match(Ky);if(!n||n[2]&&+n[2]!=n[4]*2)return e.error={message:`Unrecognized key management algorithm ${e.header.alg}`},Qe(null,e,r);if(e.algList&&!e.algList.includes(e.header.alg))return e.error={message:`Unwanted key management algorithm ${e.header.alg}`},Qe(null,e,r);let i=e.header.enc.match(Uy);if(!i||i[3]&&+i[3]!=i[1]*2)return e.error={message:`Unrecognized content encryption algorithm ${e.header.enc}`},Qe(null,e,r);if(e.encList&&!e.encList.includes(e.header.enc))return e.error={message:`Unwanted content encryption algorithm ${e.header.enc}`},Qe(null,e,r);let s,a;if(n[2]){if(a=e.header.p2c,!Number.isInteger(a)||a<1||a>16384)return e.error={message:"Missing or invalid p2c claim in header"},Qe(null,e,r);if(!r&&a>1024)return e.error={message:"p2c value too large for synchronous mode"},Qe(null,e,r);if(typeof e.header.p2s!="string")return e.error={message:"Missing or invalid p2s claim in header"},Qe(null,e,r);let l=Buffer.from(e.header.p2s,"base64"),p=e.header.alg;if(s=Buffer.concat([Buffer.from(p),Buffer.from([0]),l]),!r){let d=Number(n[2]);t=rt.pbkdf2Sync(t,s,a,d>>4,`sha${d}`)}}if(!n[2]||!r)return Hy(e,n,i,t,r);let u=Number(n[2]);rt.pbkdf2(t,s,a,u>>4,`sha${u}`,(l,p)=>{if(l)return r(l);Hy(e,n,i,p,r)})};function Hy(e,t,r,n,i){let s=Buffer.from(e.parts[0]),a=Buffer.from(e.parts[1],"base64"),u=Buffer.from(e.parts[2],"base64"),l=Buffer.from(e.parts[3],"base64"),p=Buffer.from(e.parts[4],"base64"),d=r[3]?+r[1]>>2:+r[1]>>3,g=r[3]?bj:yj,m;if(t[0]!=="dir"){let y=t[4]?wj:Sj;try{m=y(a,n,+t[4])}catch(S){return e.error={message:`Could not decrypt token. ${S.message}`},Qe(null,e,i)}}else{if(typeof n=="string")n=Buffer.from(n,"base64");else if(!(n instanceof Buffer))return e.error={message:"Invalid key"},Qe(null,e,i);if(n.length<d)return e.error={message:`Invalid key length. Must be at least ${d} bytes`},Qe(null,e,i);m=n.slice(0,d)}let v;try{v=g(l,s,p,m,u,+r[1])}catch(y){return e.error={message:`Could not decrypt token. ${y.message}`},Qe(null,e,i)}try{e.payload=JSON.parse(v)}catch(y){return e.error={message:`Non parsable payload. ${y.message}`},Qe(null,e,i)}return mj(e,i)}o(Hy,"decryptJwe");function vj(e,t,r,n,i){let s=rt.randomBytes(12),a=rt.createCipheriv(`id-aes${i}-GCM`,t,s);a.setAutoPadding(!1),a.setAAD(Buffer.from(e));let u=Wr(Buffer.concat([a.update(n),a.final()])),l=Wr(a.getAuthTag());return`${e}.${r}.${Wr(s)}.${u}.${l}`}o(vj,"contentEncryptGcm");function yj(e,t,r,n,i,s){let a=rt.createDecipheriv(`id-aes${s}-GCM`,n,i);return a.setAutoPadding(!1),a.setAAD(t),a.setAuthTag(r),Buffer.concat([a.update(e),a.final()])}o(yj,"contentDecryptGcm");function _j(e,t,r,n,i){let s=rt.randomBytes(16),a=i>>3,u=rt.createCipheriv(`AES-${i}-CBC`,t.slice(a),s),l=Buffer.concat([u.update(n),u.final()]),p=e.length<<3,d=Buffer.from(`000000000000000${p.toString(16)}`.slice(-16),"hex"),g=rt.createHmac(`SHA${i<<1}`,t.slice(0,a));g.update(Buffer.from(e)).update(s).update(l).update(d);let m=Wr(g.digest().slice(0,a));return`${e}.${r}.${Wr(s)}.${Wr(l)}.${m}`}o(_j,"contentEncryptCbc");function bj(e,t,r,n,i,s){let a=s>>3,u=t.length<<3,l=Buffer.from(`000000000000000${u.toString(16)}`.slice(-16),"hex"),p=rt.createHmac(`SHA${s<<1}`,n.slice(0,a));if(p.update(t).update(i).update(e).update(l),!rt.timingSafeEqual(p.digest().slice(0,a),r))throw new Error("Authentication of encrypted data failed");let d=n.slice(a),g=rt.createDecipheriv(`AES-${s}-CBC`,d,i);return Buffer.concat([g.update(e),g.final()])}o(bj,"contentDecryptCbc");function xj(e,t){if(t instanceof Buffer)t=t.toString();else if(typeof t!="string")throw new TypeError("Key must be a buffer or a string");if(!t.includes("-----BEGIN")||!(t.includes("KEY-----")||t.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted RSA public key");let r={key:t,padding:rt.constants.RSA_PKCS1_OAEP_PADDING};return Wr(rt.publicEncrypt(r,e))}o(xj,"rsaOaepEncrypt");function Sj(e,t){if(t instanceof Buffer&&(t=t.toString()),typeof t!="string"||!t.includes("-----BEGIN")||!t.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted RSA private key");let r={key:t,padding:rt.constants.RSA_PKCS1_OAEP_PADDING};return rt.privateDecrypt(r,e)}o(Sj,"rsaOaepDecrypt");function Ej(e,t,r){let n=r>>3;if(typeof t=="string")t=Buffer.from(t,"base64");else if(!(t instanceof Buffer))throw new TypeError("Key must be a buffer or a base64-encoded string");if(t.length<n)throw new TypeError(`Key length must be at least ${n} bytes`);t=t.slice(0,n);let i=[];for(let l=0;l<e.length;l+=8)i.push(e.slice(l,l+8));let s=Buffer.alloc(16),a=Buffer.from("A6A6A6A6A6A6A6A6","hex"),u=1;for(let l=0;l<6;l++)for(let p=0;p<i.length;p++){let d=rt.createCipheriv(`AES${r}`,t,s),g=`000000000000000${u.toString(16)}`.slice(-16),m=d.update(Buffer.concat([a,i[p]]));a=Buffer.from(g,"hex");for(let v=0;v<8;v++)a[v]^=m[v];i[p]=m.slice(8,16),u++}return Wr(Buffer.concat([a].concat(i)))}o(Ej,"aesKeyWrap");function wj(e,t,r){let n=r>>3;if(typeof t=="string")t=Buffer.from(t,"base64");else if(!(t instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");if(t.length<n)throw new TypeError(`Key must be at least ${n} bytes`);t=t.slice(0,n);let i=e.slice(0,8),s=[];for(let l=8;l<e.length;l+=8)s.push(e.slice(l,l+8));let a=Buffer.alloc(16),u=6*s.length;for(let l=5;l>=0;l--)for(let p=s.length-1;p>=0;p--){let d=`000000000000000${u.toString(16)}`.slice(-16);d=Buffer.from(d,"hex");for(let v=0;v<8;v++)i[v]^=d[v];let m=rt.createDecipheriv(`AES${r}`,t,a).update(Buffer.concat([i,s[p],a]));i=m.slice(0,8),s[p]=m.slice(8,16),u--}if(!i.equals(Buffer.from("A6A6A6A6A6A6A6A6","hex")))throw new Error("Key unwrapping failed");return Buffer.concat(s)}o(wj,"aesKeyUnwrap")});var Jy=x(Tp=>{var $y=By(),Wy=zy(),{responder:wp}=Ya();Tp.generate=(e,...t)=>{if(t[0].constructor===Object)return $y.generate(e,...t);if(t[1].constructor===Object)return Wy.generate(e,...t);let r=t.length-1;if(r>1&&r<5&&typeof t[r]=="function")t[r](error);else throw error};Tp.parse=e=>new eo(e);function eo(e){if(this.parts=typeof e=="string"?e.split("."):[],this.parts.length===3)this.type="JWS";else if(this.parts.length===5)this.type="JWE";else{this.error={message:"Invalid token"};return}try{this.header=JSON.parse(Buffer.from(this.parts[0],"base64"))}catch(t){this.error={message:`Non parsable header. ${t.message}`};return}if(this.type==="JWS")try{this.payload=JSON.parse(Buffer.from(this.parts[1],"base64"))}catch(t){this.error={message:`Non parsable payload. ${t.message}`}}}o(eo,"ParsedToken");eo.prototype.setAlgorithmList=function(e,t){return typeof e=="string"?this.algList=[e]:Array.isArray(e)&&(this.algList=e),typeof t=="string"?this.encList=[t]:Array.isArray(t)&&(this.encList=t),this};eo.prototype.setTokenLifetime=function(e){return Number.isInteger(e)&&e>0&&(this.lifetime=e),this};eo.prototype.setAudience=function(e){return typeof e=="string"?this.audList=[e]:Array.isArray(e)&&(this.audList=e),this};eo.prototype.setIssuer=function(e){return typeof e=="string"?this.issList=[e]:Array.isArray(e)&&(this.issList=e),this};eo.prototype.verify=function(e,t){if(t=typeof t=="function"?t:void 0,this.error)return wp(null,this,t);let r;if(e.constructor!==Object)r=e;else{if(this.header.kid===void 0)return this.error={message:"Missing kid claim in header"},wp(null,this,t);if(e[this.header.kid]===void 0)return this.error={message:"Key with id not found",kid:this.header.kid},wp(null,this,t);r=e[this.header.kid]}return(this.type==="JWS"?$y.verify:Wy.verify)(this,r,t)}});var Op=x((eG,Zy)=>{var Tj=yp(),Gy=bp(),Vy=Jy(),Oj="dir",Cj="A128GCM",Ij=Buffer.from("1234567890123456").toString("base64"),Yy=process.env.ARC_APP_SECRET||Ij,Xy={create(e){return Vy.generate(Oj,Cj,e,Yy)},parse(e){let t=604800;return Vy.parse(e).setTokenLifetime(t).verify(Yy)}};function kj(e,t){let r;t||(r=new Promise(o(function(l,p){t=o(function(g,m){g?p(g):l(m)},"errback")},"argh")));let n=e.headers&&(e.headers.cookie||e.headers.Cookie);!n&&e.cookies&&(n=e.cookies.join(";"));let i=Tj(n),s=Gy.parse(i)._idx,a=Xy.parse(s);return t(null,a.valid?a.payload:{}),r}o(kj,"read");function Aj(e,t){let r;t||(r=new Promise(o(function(p,d){t=o(function(m,v){m?d(m):p(v)},"errback")},"ugh")));let n="_idx",i=Xy.create(e),s=process.env.SESSION_TTL||7884e5,a=process.env.ARC_SESSION_SAME_SITE||"lax",u={maxAge:s,expires:new Date(Date.now()+s*1e3),secure:!0,httpOnly:!0,path:"/",sameSite:a};return process.env.SESSION_DOMAIN&&(u.domain=process.env.SESSION_DOMAIN),process.env.NODE_ENV==="testing"&&delete u.secure,t(null,Gy.serialize(n,i,u)),r}o(Aj,"write");Zy.exports={read:kj,write:Aj}});var e_=x(Xa=>{var Qy=require("crypto");Xa.sign=function(e,t){if(typeof e!="string")throw new TypeError("Cookie value must be provided as a string.");if(typeof t!="string")throw new TypeError("Secret string must be provided.");return e+"."+Qy.createHmac("sha256",t).update(e).digest("base64").replace(/\=+$/,"")};Xa.unsign=function(e,t){if(typeof e!="string")throw new TypeError("Signed cookie string must be provided.");if(typeof t!="string")throw new TypeError("Secret string must be provided.");var r=e.slice(0,e.lastIndexOf(".")),n=Xa.sign(r,t),i=Buffer.from(n),s=Buffer.alloc(i.length);return s.write(e),Qy.timingSafeEqual(i,s)?r:!1}});var to=x((rG,t_)=>{var Za=require("aws-sdk"),qj=require("https");function xs(e,t){if(!e)throw ReferenceError("Must supply Dynamo service interface type");let r=process.env.NODE_ENV==="testing",n=process.env.ARC_LOCAL,i=process.env.ARC_TABLES_PORT||5e3,s={endpoint:new Za.Endpoint(`http://localhost:${i}`),region:process.env.AWS_REGION||"us-west-2"},a=Za.DynamoDB,u=Za.DynamoDB.DocumentClient,l;if(!r&&!n){let p=new qj.Agent({keepAlive:!0,maxSockets:50,rejectUnauthorized:!0});Za.config.update({httpOptions:{agent:p}})}if(e==="db"&&(l=r?new a(s):new a),e==="doc"&&(l=r?new u(s):new u),e==="session"){let p=!process.env.SESSION_TABLE_NAME;l=r?new u(s):p?{get(g,m){m()},put(g,m){m()}}:new u}if(t)t(null,l);else return l}o(xs,"getDynamo");t_.exports={db:xs.bind({},"db"),doc:xs.bind({},"doc"),session:xs.bind({},"session"),direct:{db:xs("db"),doc:xs("doc")}}});var r_=x((nG,kp)=>{"use strict";var Qa=require("crypto"),Cp=Qa.randomBytes===Qa.pseudoRandomBytes?1:3;kp.exports=jj;kp.exports.sync=Rj;function jj(e,t){if(t!==void 0&&typeof t!="function")throw new TypeError("argument callback must be a function");if(!t&&!global.Promise)throw new TypeError("argument callback is required");return t?Ip(e,Cp,t):new Promise(o(function(n,i){Ip(e,Cp,o(function(a,u){if(a)return i(a);n(u)},"onRandomBytes"))},"executor"))}o(jj,"randomBytes");function Rj(e){for(var t=null,r=0;r<Cp;r++)try{return Qa.randomBytes(e)}catch(n){t=n}throw t}o(Rj,"randomBytesSync");function Ip(e,t,r){Qa.randomBytes(e,o(function(i,s){if(!i)return r(null,s);if(!--t)return r(i);setTimeout(Ip.bind(null,e,t,r),10)},"onRandomBytes"))}o(Ip,"generateRandomBytes")});var qp=x((iG,Ap)=>{"use strict";var n_=r_(),Mj=/=+$/,Pj=/\+/g,Nj=/\//g;Ap.exports=Dj;Ap.exports.sync=Lj;function Dj(e,t){if(t!==void 0&&typeof t!="function")throw new TypeError("argument callback must be a function");if(!t&&!global.Promise)throw new TypeError("argument callback is required");return t?i_(e,t):new Promise(o(function(n,i){i_(e,o(function(a,u){if(a)return i(a);n(u)},"onUid"))},"executor"))}o(Dj,"uid");function Lj(e){return o_(n_.sync(e))}o(Lj,"uidSync");function i_(e,t){n_(e,function(r,n){if(r)return t(r);t(null,o_(n))})}o(i_,"generateUid");function o_(e){return e.toString("base64").replace(Mj,"").replace(Pj,"-").replace(Nj,"_")}o(o_,"toString")});var jp=x((oG,s_)=>{s_.exports=o(function(){return Date.now()/1e3+604800},"_weekFromNow")});var u_=x((gi,c_)=>{var a_=require("assert"),Bj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Kj="abcdefghijklmnopqrstuvwxyz0123456789",Uj="0123456789";gi=c_.exports=ec(Bj);gi.base62=gi;gi.base36=ec(Kj);gi.base10=ec(Uj);gi.create=ec;function ec(e){a_(typeof e=="string","the list of characters must be a string!");var t=Buffer.byteLength(e);return o(function(n){n=n||10,a_(typeof n=="number"&&n>=0,"the length of the random string must be a number!");for(var i="",s=0;s<n;s++)i+=e[Math.floor(t*Math.random())];return i},"rndm")}o(ec,"create")});var p_=x((sG,l_)=>{"use strict";var Ss=require("crypto");function Fj(e,t){if(e.length!==t.length)return!1;if(Ss.timingSafeEqual)return Ss.timingSafeEqual(e,t);for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}o(Fj,"bufferEqual");function Hj(e,t){var r=String(e),n=String(t),i=Ss.pseudoRandomBytes(32),s=Ss.createHmac("sha256",i).update(r).digest(),a=Ss.createHmac("sha256",i).update(n).digest();return Fj(s,a)&&e===t}o(Hj,"timeSafeCompare");l_.exports=Hj});var g_=x((aG,d_)=>{"use strict";var zj=u_(),f_=qp(),$j=p_(),Wj=require("crypto"),Jj=/=/g,Gj=/\+/g,Vj=/\//g;d_.exports=Dn;function Dn(e){if(!(this instanceof Dn))return new Dn(e);var t=e||{},r=t.saltLength!==void 0?t.saltLength:8;if(typeof r!="number"||!isFinite(r)||r<1)throw new TypeError("option saltLength must be finite number > 1");var n=t.secretLength!==void 0?t.secretLength:18;if(typeof n!="number"||!isFinite(n)||n<1)throw new TypeError("option secretLength must be finite number > 1");this.saltLength=r,this.secretLength=n}o(Dn,"Tokens");Dn.prototype.create=o(function(t){if(!t||typeof t!="string")throw new TypeError("argument secret is required");return this._tokenize(t,zj(this.saltLength))},"create");Dn.prototype.secret=o(function(t){return f_(this.secretLength,t)},"secret");Dn.prototype.secretSync=o(function(){return f_.sync(this.secretLength)},"secretSync");Dn.prototype._tokenize=o(function(t,r){return r+"-"+Yj(r+"-"+t)},"tokenize");Dn.prototype.verify=o(function(t,r){if(!t||typeof t!="string"||!r||typeof r!="string")return!1;var n=r.indexOf("-");if(n===-1)return!1;var i=r.substr(0,n),s=this._tokenize(t,i);return $j(r,s)},"verify");function Yj(e){return Wj.createHash("sha1").update(e,"ascii").digest("base64").replace(Gj,"-").replace(Vj,"_").replace(Jj,"")}o(Yj,"hash")});var v_=x((cG,m_)=>{var h_;m_.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):e=>(h_||(h_=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var hi=x((uG,y_)=>{y_.exports=Zj;var Xj=v_();function Zj(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function a(l){function p(){t&&t(l,r),t=null}o(p,"end"),s?Xj(p):p()}o(a,"done");function u(l,p,d){r[l]=d,(--n==0||p)&&a(p)}o(u,"each"),n?i?i.forEach(function(l){e[l](function(p,d){u(l,p,d)})}):e.forEach(function(l,p){l(function(d,g){u(p,d,g)})}):a(null),s=!1}o(Zj,"runParallel")});var Rp=x((lG,__)=>{var Qj=qp(),eR=jp(),tR=to().session,rR=g_(),nR=hi();__.exports=o(function(t,r,n){nR([o(function(s){Qj(18,o(function(u,l){u?s(u):s(null,{_idx:l})},"_uid"))},"_key"),o(function(s){new rR().secret(o(function(u,l){u?s(u):s(null,{_secret:l})},"_uid"))},"_secret")],o(function(s,a){if(s)throw s;a.push({_ttl:eR()});let u=a.reduce((p,d)=>Object.assign(p,d)),l=Object.assign(r,u);tR(o(function(d,g){d?n(d):g.put({TableName:t,Item:l},o(function(v){v?n(v):n(null,l)},"_create"))},"_gotDB"))},"_put"))},"_create")});var x_=x((pG,b_)=>{var iR=to().session,oR=Rp();b_.exports=o(function(t,r,n){iR(o(function(s,a){s?n(s):a.get({TableName:t,ConsistentRead:!0,Key:{_idx:r}},o(function(l,p){if(l)n(l);else{let d=typeof p=="undefined"?!1:p.Item;d&&d._secret?n(null,d):oR(t,{},n)}},"_get"))},"_gotDB"))},"_find")});var E_=x((fG,S_)=>{var sR=to().session,aR=jp();S_.exports=o(function(t,r,n){let i=aR(),s=Object.assign(r,{_ttl:i});sR(o(function(u,l){u?n(u):l.put({TableName:t,Item:s},o(function(d){d?n(d):n(null,s)},"_create"))},"_gotDB"))},"_update")});var Mp=x((dG,O_)=>{var w_=bp(),cR=yp(),{unsign:uR,sign:lR}=e_(),pR=x_(),fR=Rp(),dR=E_();O_.exports={read:gR,write:hR};function gR(e,t){let r;t||(r=new Promise(function(g,m){t=o(function(v,y){v?m(v):g(y)},"callback")}));let n=process.env.SESSION_TABLE_NAME||T_("arc-sessions"),i=process.env.ARC_APP_SECRET||process.env.ARC_APP_NAME||"fallback",s=e.headers&&(e.headers.Cookie||e.headers.cookie);!s&&e.cookies&&(s=e.cookies.join(";"));let a=cR(s),u=w_.parse(a)._idx,l=uR(u||"",i);return(u&&l?pR.bind({},n):fR.bind({},n))(u&&l?l:{},t),r}o(gR,"read");function hR(e,t){let r;t||(r=new Promise(function(s,a){t=o(function(u,l){u?a(u):s(l)},"callback")}));let n=process.env.SESSION_TABLE_NAME||T_("arc-sessions"),i=process.env.ARC_APP_SECRET||process.env.ARC_APP_NAME||"fallback";return dR(n,e,o(function(a){if(a)t(a);else{let u=process.env.SESSION_TTL||7884e5,l={maxAge:u,expires:new Date(Date.now()+u*1e3),secure:!0,httpOnly:!0,path:"/",sameSite:"lax"};process.env.SESSION_DOMAIN&&(l.domain=process.env.SESSION_DOMAIN),process.env.NODE_ENV==="testing"&&delete l.secure;let p=w_.serialize("_idx",lR(e._idx,i),l);t(null,p)}},"_update")),r}o(hR,"write");function T_(e){let t=process.env.NODE_ENV==="production"?"production":"staging";return`${process.env.ARC_APP_NAME}-${t}-${e}`}o(T_,"tableLogicalId")});var tc=x((gG,C_)=>{var mR=Op(),vR=Mp();C_.exports=o(function(t,r){return process.env.SESSION_TABLE_NAME==="jwe"?mR.read(t,r):vR.read(t,r)},"read")});var rc=x((hG,I_)=>{var yR=Op(),_R=Mp();I_.exports=o(function(t,r){return process.env.SESSION_TABLE_NAME==="jwe"?yR.write(t,r):_R.write(t,r)},"write")});var nc=x((mG,k_)=>{var bR=require("querystring");k_.exports=o(function(t){let r=t.headers["Content-Type"]||t.headers["content-type"];if(!t.body||!t.headers||!r||!Object.getOwnPropertyNames(t.body).length)return t.body;{let i=JSON.parse(JSON.stringify(t)),s=i.headers,a=o(y=>s&&s["Content-Type"]&&s["Content-Type"].includes(y)||s&&s["content-type"]&&s["content-type"].includes(y),"contentType"),u=typeof i.body=="string",l=i.isBase64Encoded,p=u&&l,d=(a("application/json")||a("application/vnd.api+json"))&&u,g=a("application/x-www-form-urlencoded")&&p,m=a("multipart/form-data")&&p,v=a("application/octet-stream")&&p;if(d)try{let y=l?Buffer.from(i.body,"base64").toString():i.body;i.body=JSON.parse(y)||{}}catch(y){throw Error("Invalid request body encoding or invalid JSON")}if(g){let y=new Buffer.from(i.body,"base64").toString();i.body=bR.parse(y)}return(m||v)&&(i.body=i.body.base64?i.body:{base64:i.body}),i.body}},"parseBody")});var ic=x((vG,A_)=>{A_.exports=o(function(t){if(t.version&&t.version==="2.0"){let{requestContext:i}=t;i&&i.http&&i.http.method&&(t.httpMethod=i.http.method),["body","pathParameters","queryStringParameters"].forEach(a=>{t[a]===void 0&&(t[a]={})}),t.resource=t.routeKey.split(" ")[1]||t.routeKey,t.path=t.rawPath}["body","pathParameters","queryStringParameters","multiValueQueryStringParameters"].forEach(i=>{t[i]===null&&(t[i]={})}),t.method||(t.method=t.httpMethod),t.params||(t.params=t.pathParameters),t.query||(t.query=t.queryStringParameters);let n=/\{\w+\}/g;if(n.test(t.path)){let i=t.path.match(n),s=i.map(u=>u.replace(/\{|\}/g,"")),a=0;i.forEach(u=>{t.path=t.path.replace(u,t.params[s[a]]),a+=1})}return t},"interpolateParams")});var ro=x((yG,j_)=>{j_.exports={httpError:q_,proxyConfig:xR()};function xR(){return q_({title:"Index not found",message:`No static asset bucket or <code>get /</code> function found in your project. Possible solutions:<br?
<ul>
  <li>Add <code>@static</code> to your project manifest</li>
  <li>Add <code>get /</code> to the <code>@http</code> pragma of your project manifest</li>
  <li>Manually specify an S3 bucket (containing an <code>index.html</code> file) with the <code>ARC_STATIC_BUCKET</code> env var</li>
  <li>If using <code>arc.http.proxy</code>, pass in a valid config object</li>
</ul>
<a href="https://arc.codes/primitives/static" target="_blank">Learn more</a>`})}o(xR,"proxyConfig");function q_({statusCode:e=502,title:t="Unknown error",message:r=""}){return t=t==="Error"?`${e} error`:`${e} error: ${t}`,{statusCode:e,headers:{"Content-Type":"text/html; charset=utf8;","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"},body:`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>${t}</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    }
    code {
      font-size: 1.25rem;
      color: #00c26e;
    }
    .max-width-320 {
      max-width: 20rem;
    }
    .margin-left-8 {
      margin-left: 0.5rem;
    }
    .margin-bottom-16 {
      margin-bottom: 1rem;
    }
    .margin-bottom-8 {
      margin-bottom: 0.5rem;
    }
    .padding-32 {
      padding: 2rem;
    }
    .padding-top-16 {
      padding-top: 1rem;
    }
    a, a:hover {
      color: #333;
    }
    p, li {
      padding-bottom: 0.5rem;
    }
  </style>
</head>
<body class="padding-32">
  <div>
    <div class="margin-left-8">
      <div class="margin-bottom-16">
        <h1 class="margin-bottom-16">
          ${t}
        </h1>
        <p>
          ${r}
        </p>
      </div>
      <div class="padding-top-16">
        <p>
          View Architect documentation at:
        </p>
        <a href="https://arc.codes">https://arc.codes</a>
      </div>
    </div>
  </div>
</body>
</html>
`}}o(q_,"httpError")});var oc=x((_G,R_)=>{R_.exports=["application/octet-stream","application/epub+zip","application/msword","application/pdf","application/rtf","application/vnd.amazon.ebook","application/vnd.ms-excel","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","font/otf","font/woff","font/woff2","image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/vnd.microsoft.icon","image/webp","audio/3gpp","audio/aac","audio/basic","audio/mpeg","audio/ogg","audio/wavaudio/webm","audio/x-aiff","audio/x-midi","audio/x-wav","video/3gpp","video/mp2t","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-msvideo","application/java-archive","application/vnd.apple.installer+xml","application/x-7z-compressed","application/x-apple-diskimage","application/x-bzip","application/x-bzip2","application/x-gzip","application/x-java-archive","application/x-rar-compressed","application/x-tar","application/x-zip","application/zip"]});var Pp=x((bG,M_)=>{var{httpError:SR}=ro(),ER=oc();M_.exports=o(function(t,r){if(t.version&&t.version==="2.0"){let k=["statusCode","body","headers","isBase64Encoded","cookies"],F=o(V=>k.some(R=>R===V),"hasKnownParams"),$=["code","cookie","cors","location","session","status"],ne=o(V=>$.some(R=>R===V),"hasTidyParams"),se=["html","css","js","text","json","xml"],pe=o(V=>se.some(R=>R===V),"isStaticallyBound"),fe=o(V=>typeof r===V,"is");fe("object")&&r!==null&&!Array.isArray(r)&&Object.keys.length===1&&(Object.keys(r).some(F)||Object.keys(r).some(ne)||Object.keys(r).some(pe))||(fe("number")||fe("object")&&r!==null||fe("string")&&r||Array.isArray(r)||r instanceof Buffer?r={body:JSON.stringify(r)}:r||(r={}))}let n=r instanceof Error,i,s=r.body&&r.body instanceof Buffer;s&&(i=r.body),n||(r=JSON.parse(JSON.stringify(r))),s&&(r.body=i);let a=r.body||"",u=r.cacheControl||r.headers&&r.headers["Cache-Control"]||r.headers&&r.headers["cache-control"]||"";r.headers&&r.headers["cache-control"]&&delete r.headers["cache-control"];let l=r.type||r.headers&&r.headers["Content-Type"]||r.headers&&r.headers["content-type"]||"application/json; charset=utf8";r.headers&&r.headers["content-type"]&&delete r.headers["content-type"];let p=r.cors;r.html?(l="text/html; charset=utf8",a=r.html):r.css?(l="text/css; charset=utf8",a=r.css):r.js?(l="text/javascript; charset=utf8",a=r.js):r.text?(l="text/plain; charset=utf8",a=r.text):r.json?(l="application/json; charset=utf8",a=JSON.stringify(r.json)):r.xml&&(l="application/xml; charset=utf8",a=r.xml);let d=r.status||r.code||r.statusCode,g=d||200,m={headers:Object.assign({},{"Content-Type":l},r.headers||{}),statusCode:g,body:a};if(r.multiValueHeaders&&(m.multiValueHeaders=r.multiValueHeaders),r.cookies&&(m.cookies=r.cookies),n){let k=d||500,F=r.name,$=`
      ${r.message}<br>
      <pre>${r.stack}<pre>
    `;m=SR({statusCode:k,title:F,message:$})}let v=!process.env.ARC_CLOUDFORMATION,y=!process.env.ARC_HTTP||process.env.ARC_HTTP==="aws",S=v&&y,E=!t.resource||t.resource&&t.resource!=="/{proxy+}";S&&E&&(m.type=l);let T=m.headers;u&&(T["Cache-Control"]=u);let w=l.includes("text/html")||l.includes("application/json")||l.includes("application/vnd.api+json");T&&!T["Cache-Control"]&&w?T["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0, s-maxage=0":T&&!T["Cache-Control"]&&(T["Cache-Control"]="max-age=86400"),p&&(T["Access-Control-Allow-Origin"]="*"),r.isBase64Encoded&&(m.isBase64Encoded=!0),r.location&&(m.statusCode=d||302,m.headers.Location=r.location);let O=ER.some(k=>m.headers["Content-Type"].includes(k)),I=typeof m.body=="string",j=o(k=>new Buffer.from(k).toString("base64"),"b64enc");return s&&(m.body=j(m.body),m.isBase64Encoded=!0),I&&O&&(m.isBase64Encoded=!0),m},"responseFormatter")});var N_=x((xG,P_)=>{var wR=tc(),TR=rc(),OR=nc(),CR=ic(),IR=Pp();P_.exports=o(function(...t){return t.forEach(r=>{if(typeof r!="function")throw TypeError(r+" not a function")}),o(function(n,i,s){n.headers||(n.headers={});let a=t.slice();wR(n,o(function(l,p){if(l)throw l;let d=CR(Object.assign({},n,{session:p}));d.body=OR(d);let g=kR.bind({},d,s);o(function m(v){function y(){throw Error("next() called from last function")}o(y,"fail");let S=m.bind({},a.shift()||y);v.call({},d,g,S)},"iterator")(a.shift())},"_read"))},"lambda")},"http");function kR(e,t,r){let n=IR(e,r);if(r&&r.cookie&&(n.headers["Set-Cookie"]=r.cookie),r&&r.session){let{_idx:i,_secret:s,_ttl:a}=e.session,u=ie({_idx:i,_secret:s,_ttl:a},r.session);TR(u,o(function(p,d){p?t(p):(n.headers["Set-Cookie"]=d,t(null,n))},"_write"))}else t(null,n)}o(kR,"response")});var Np=x((SG,D_)=>{var{readFileSync:AR,existsSync:qR}=require("fs"),{join:jR}=require("path");D_.exports=o(function(t,r={}){let n=t[0]==="/"?t.substring(1):t,i=t==="/",s=jR(process.cwd(),"node_modules","@architect","shared","static.json"),a=qR(s),u=process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL,p=`${r.stagePath&&!u?"/"+process.env.NODE_ENV:""}/_static`;if(!u&&a&&!i){let d=o(v=>AR(v).toString(),"read"),m=JSON.parse(d(s))[n];if(!m)throw ReferenceError(`Could not find asset in static.json (asset fingerprint manifest): ${n}`);return`${p}/${m}`}return`${p}/${i?"":n}`},"_static")});var B_=x((EG,L_)=>{L_.exports=o(function e(e){let t=process.env.NODE_ENV==="staging",r=process.env.NODE_ENV==="production";return!process.env.ARC_LOCAL&&(t||r)?`/${process.env.NODE_ENV}${e}`:e},"url")});var U_=x((wG,K_)=>{var RR=tc(),MR=rc(),PR=nc(),NR=ic(),DR=Pp();K_.exports=o(function(...t){t.forEach(n=>{if(typeof n!="function")throw TypeError(n+" not a function")});async function r(n,i){let s,a=!0;for(let l of t){if(a){a=!1;let g=await RR(n),m=NR(Object.assign({},n,{session:g}));m.body=PR(m),n=m}let p=await l(n,i);if(p&&p.httpMethod)n=p;else if(p){s=p;break}}let u=n.version&&n.version==="2.0";if(!s&&!u)throw new Error("Finished all functions without returning a response.");return LR(n,s)}return o(r,"combined"),r},"httpAsync");async function LR(e,t){let r=DR(e,t);if(t&&t.cookie&&(r.headers["Set-Cookie"]=t.cookie),t&&t.session){let{_idx:n,_secret:i,_ttl:s}=e.session,a=ie({_idx:n,_secret:i,_ttl:s},t.session),u=await MR(a);r.headers["Set-Cookie"]=u}return r}o(LR,"response")});var z_=x((TG,H_)=>{"use strict";H_.exports=Ln;function Ln(e,t,r){return(!r||typeof r!="object")&&(r={}),r.hasOwnProperty("allowOverflow")||(r.allowOverflow=!0),t>Ln.maxNumber(e)&&!r.allowOverflow?!1:F_(e,t)}o(Ln,"binaryCase");Ln.iterator=function(e,t){let r=Ln.maxNumber(e);if((!t||typeof t!="object")&&(t={}),t.hasOwnProperty("startIndex")||(t.startIndex=0),typeof t.startIndex!="number"||!Number.isInteger(t.startIndex)||t.startIndex<0)throw Error("Option startIndex must be a non-negative integer.");let n=t.startIndex;return{next:function(){return n>r?{done:!0}:{done:!1,value:F_(e,n++)}}}};Ln.maxNumber=function(e){let t=e.match(/[a-z]/ig).length;return Math.pow(2,t)-1};Ln.variations=function(e){let t=[],r=Ln.maxNumber(e);for(let n=0;n<=r;n++)t.push(Ln(e,n));return t};function F_(e,t){let r="";for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i>=65&&i<=90?(r+=t&1?String.fromCharCode(i+32):String.fromCharCode(i),t>>>=1):i>=97&&i<=122?(r+=t&1?String.fromCharCode(i-32):String.fromCharCode(i),t>>>=1):r+=String.fromCharCode(i),t===0)return r+e.substr(n+1)}return r}o(F_,"getBinaryCase")});var G_=x(Dp=>{var $_=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,BR=/^[\u0020-\u007e\u0080-\u00ff]+$/,W_=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,KR=/\\([\u0000-\u007f])/g,UR=/([\\"])/g,FR=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,J_=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,HR=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;Dp.format=zR;Dp.parse=$R;function zR(e){if(!e||typeof e!="object")throw new TypeError("argument obj is required");var t=e.parameters,r=e.subtype,n=e.suffix,i=e.type;if(!i||!J_.test(i))throw new TypeError("invalid type");if(!r||!FR.test(r))throw new TypeError("invalid subtype");var s=i+"/"+r;if(n){if(!J_.test(n))throw new TypeError("invalid suffix");s+="+"+n}if(t&&typeof t=="object")for(var a,u=Object.keys(t).sort(),l=0;l<u.length;l++){if(a=u[l],!W_.test(a))throw new TypeError("invalid parameter name");s+="; "+a+"="+JR(t[a])}return s}o(zR,"format");function $R(e){if(!e)throw new TypeError("argument string is required");if(typeof e=="object"&&(e=WR(e)),typeof e!="string")throw new TypeError("argument string is required to be a string");var t=e.indexOf(";"),r=t!==-1?e.substr(0,t):e,n,i,s=GR(r),a={},u;for($_.lastIndex=t;i=$_.exec(e);){if(i.index!==t)throw new TypeError("invalid parameter format");t+=i[0].length,n=i[1].toLowerCase(),u=i[2],u[0]==='"'&&(u=u.substr(1,u.length-2).replace(KR,"$1")),a[n]=u}if(t!==-1&&t!==e.length)throw new TypeError("invalid parameter format");return s.parameters=a,s}o($R,"parse");function WR(e){if(typeof e.getHeader=="function")return e.getHeader("content-type");if(typeof e.headers=="object")return e.headers&&e.headers["content-type"]}o(WR,"getcontenttype");function JR(e){var t=String(e);if(W_.test(t))return t;if(t.length>0&&!BR.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(UR,"\\$1")+'"'}o(JR,"qstring");function GR(e){var t=HR.exec(e.toLowerCase());if(!t)throw new TypeError("invalid media type");var r=t[1],n=t[2],i,s=n.lastIndexOf("+");s!==-1&&(i=n.substr(s+1),n=n.substr(0,s));var a={type:r,subtype:n,suffix:i};return a}o(GR,"splitType")});var V_=x((CG,VR)=>{VR.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var X_=x((IG,Y_)=>{Y_.exports=V_()});var Es=x(zt=>{"use strict";var sc=X_(),YR=require("path").extname,Z_=/^\s*([^;\s]*)(?:;|\s|$)/,XR=/^text\//i;zt.charset=Q_;zt.charsets={lookup:Q_};zt.contentType=ZR;zt.extension=QR;zt.extensions=Object.create(null);zt.lookup=eM;zt.types=Object.create(null);tM(zt.extensions,zt.types);function Q_(e){if(!e||typeof e!="string")return!1;var t=Z_.exec(e),r=t&&sc[t[1].toLowerCase()];return r&&r.charset?r.charset:t&&XR.test(t[1])?"UTF-8":!1}o(Q_,"charset");function ZR(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?zt.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var r=zt.charset(t);r&&(t+="; charset="+r.toLowerCase())}return t}o(ZR,"contentType");function QR(e){if(!e||typeof e!="string")return!1;var t=Z_.exec(e),r=t&&zt.extensions[t[1].toLowerCase()];return!r||!r.length?!1:r[0]}o(QR,"extension");function eM(e){if(!e||typeof e!="string")return!1;var t=YR("x."+e).toLowerCase().substr(1);return t&&zt.types[t]||!1}o(eM,"lookup");function tM(e,t){var r=["nginx","apache",void 0,"iana"];Object.keys(sc).forEach(o(function(i){var s=sc[i],a=s.extensions;if(!(!a||!a.length)){e[i]=a;for(var u=0;u<a.length;u++){var l=a[u];if(t[l]){var p=r.indexOf(sc[t[l]].source),d=r.indexOf(s.source);if(t[l]!=="application/octet-stream"&&(p>d||p===d&&t[l].substr(0,12)==="application/"))continue}t[l]=i}}},"forEachMimeType"))}o(tM,"populateMaps")});var ob=x((AG,no)=>{"use strict";var eb=G_(),rM=Es();no.exports=nM;no.exports.is=tb;no.exports.hasBody=rb;no.exports.normalize=nb;no.exports.match=ib;function tb(e,t){var r,n=t,i=oM(e);if(!i)return!1;if(n&&!Array.isArray(n))for(n=new Array(arguments.length-1),r=0;r<n.length;r++)n[r]=arguments[r+1];if(!n||!n.length)return i;var s;for(r=0;r<n.length;r++)if(ib(nb(s=n[r]),i))return s[0]==="+"||s.indexOf("*")!==-1?i:s;return!1}o(tb,"typeis");function rb(e){return e.headers["transfer-encoding"]!==void 0||!isNaN(e.headers["content-length"])}o(rb,"hasbody");function nM(e,t){var r=t;if(!rb(e))return null;if(arguments.length>2){r=new Array(arguments.length-1);for(var n=0;n<r.length;n++)r[n]=arguments[n+1]}var i=e.headers["content-type"];return tb(i,r)}o(nM,"typeofrequest");function nb(e){if(typeof e!="string")return!1;switch(e){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return e[0]==="+"?"*/*"+e:e.indexOf("/")===-1?rM.lookup(e):e}o(nb,"normalize");function ib(e,t){if(e===!1)return!1;var r=t.split("/"),n=e.split("/");return r.length!==2||n.length!==2||n[0]!=="*"&&n[0]!==r[0]?!1:n[1].substr(0,2)==="*+"?n[1].length<=r[1].length+1&&n[1].substr(1)===r[1].substr(1-n[1].length):!(n[1]!=="*"&&n[1]!==r[1])}o(ib,"mimeMatch");function iM(e){var t=eb.parse(e);return t.parameters=void 0,eb.format(t)}o(iM,"normalizeType");function oM(e){if(!e)return null;try{return iM(e)}catch(t){return null}}o(oM,"tryNormalizeType")});var hb=x(dr=>{"use strict";var sb=require("http"),sM=require("url"),aM=z_(),cM=ob();function ab(e){return sM.format({pathname:e.path,query:e.queryStringParameters})}o(ab,"getPathWithQueryStringParams");function cb(e){return Buffer.from(e.body,e.isBase64Encoded?"base64":"utf8")}o(cb,"getEventBody");function uM(e){return JSON.parse(JSON.stringify(e))}o(uM,"clone");function lM(e){return e.contentTypeHeader?e.contentTypeHeader.split(";")[0]:""}o(lM,"getContentType");function pM(e){return e.binaryMimeTypes.length>0&&!!cM.is(e.contentType,e.binaryMimeTypes)}o(pM,"isContentTypeBinaryMimeType");function ub(e,t,r){let n=Object.assign({},e.headers);if(e.body&&!n["Content-Length"]){let s=cb(e);n["Content-Length"]=Buffer.byteLength(s)}let i=uM(e);return delete i.body,n["x-apigateway-event"]=encodeURIComponent(JSON.stringify(i)),n["x-apigateway-context"]=encodeURIComponent(JSON.stringify(t)),{method:e.httpMethod,path:ab(e),headers:n,socketPath:r}}o(ub,"mapApiGatewayEventToHttpRequest");function lb(e,t,r){let n=[];t.on("data",i=>n.push(i)).on("end",()=>{let i=Buffer.concat(n),s=t.statusCode,a=t.headers;a["transfer-encoding"]==="chunked"&&delete a["transfer-encoding"],Object.keys(a).forEach(g=>{Array.isArray(a[g])&&(g.toLowerCase()==="set-cookie"?(a[g].forEach((m,v)=>{a[aM(g,v+1)]=m}),delete a[g]):a[g]=a[g].join(","))});let u=lM({contentTypeHeader:a["content-type"]}),l=pM({contentType:u,binaryMimeTypes:e._binaryTypes}),p=i.toString(l?"base64":"utf8"),d={statusCode:s,body:p,headers:a,isBase64Encoded:l};r.succeed({response:d})})}o(lb,"forwardResponseToApiGateway");function pb(e,t){console.log("ERROR: @vendia/serverless-express connection error"),console.error(e);let r={statusCode:502,body:"",headers:{}};t.succeed({response:r})}o(pb,"forwardConnectionErrorResponseToApiGateway");function fb(e,t){console.log("ERROR: @vendia/serverless-express error"),console.error(e);let r={statusCode:500,body:"",headers:{}};t.succeed({response:r})}o(fb,"forwardLibraryErrorResponseToApiGateway");function ac(e,t,r,n){try{let i=ub(t,r,uc(e._socketPathSuffix)),s=sb.request(i,a=>lb(e,a,n));if(t.body){let a=cb(t);s.write(a)}s.on("error",a=>pb(a,n)).end()}catch(i){return fb(i,n),e}}o(ac,"forwardRequestToNodeServer");function cc(e){return e.listen(uc(e._socketPathSuffix))}o(cc,"startServer");function uc(e){return/^win/.test(process.platform)?require("path").join("\\\\?\\pipe",process.cwd(),`server-${e}`):`/tmp/server-${e}.sock`}o(uc,"getSocketPath");function db(){return Math.random().toString(36).substring(2,15)}o(db,"getRandomString");function fM(e,t,r){let n=sb.createServer(e);return n._socketPathSuffix=db(),n._binaryTypes=r?r.slice():[],n.on("listening",()=>{n._isListening=!0,t&&t()}),n.on("close",()=>{n._isListening=!1}).on("error",i=>{if(i.code==="EADDRINUSE")return console.warn(`WARNING: Attempting to listen on socket ${uc(n._socketPathSuffix)}, but it is already in use. This is likely as a result of a previous invocation error or timeout. Check the logs for the invocation(s) immediately prior to this for root cause, and consider increasing the timeout and/or cpu/memory allocation if this is purely as a result of a timeout. @vendia/serverless-express will restart the Node.js server listening on a new port and continue with this request.`),n._socketPathSuffix=db(),n.close(()=>cc(n));console.log("ERROR: server error"),console.error(i)}),n}o(fM,"createServer");function gb(e,t,r,n,i){if(!n){let s=Lp({context:r,resolutionMode:"CONTEXT_SUCCEED"});return e._isListening?(ac(e,t,r,s),e):cc(e).on("listening",()=>gb(e,t,r))}return{promise:new Promise((s,a)=>{let l=Lp({context:r,callback:i,promise:{resolve:s,reject:a},resolutionMode:n});e._isListening?ac(e,t,r,l):cc(e).on("listening",()=>ac(e,t,r,l))})}}o(gb,"proxy");function Lp(e){return{succeed:t=>{if(e.resolutionMode==="CONTEXT_SUCCEED")return e.context.succeed(t.response);if(e.resolutionMode==="CALLBACK")return e.callback(null,t.response);if(e.resolutionMode==="PROMISE")return e.promise.resolve(t.response)}}}o(Lp,"makeResolver");dr.createServer=fM;dr.proxy=gb;process.env.NODE_ENV==="test"&&(dr.getPathWithQueryStringParams=ab,dr.mapApiGatewayEventToHttpRequest=ub,dr.forwardResponseToApiGateway=lb,dr.forwardConnectionErrorResponseToApiGateway=pb,dr.forwardLibraryErrorResponseToApiGateway=fb,dr.forwardRequestToNodeServer=ac,dr.startServer=cc,dr.getSocketPath=uc,dr.makeResolver=Lp)});var vb=x((jG,mb)=>{"use strict";mb.exports=hb()});var yb=x(gr=>{var Or=vb();gr.createServer=Or.createServer;gr.proxy=Or.proxy;process.env.NODE_ENV==="test"&&(gr.getPathWithQueryStringParams=Or.getPathWithQueryStringParams,gr.mapApiGatewayEventToHttpRequest=Or.mapApiGatewayEventToHttpRequest,gr.forwardResponseToApiGateway=Or.forwardResponseToApiGateway,gr.forwardConnectionErrorResponseToApiGateway=Or.forwardConnectionErrorResponseToApiGateway,gr.forwardLibraryErrorResponseToApiGateway=Or.forwardLibraryErrorResponseToApiGateway,gr.forwardRequestToNodeServer=Or.forwardRequestToNodeServer,gr.startServer=Or.startServer,gr.getSocketPath=Or.getSocketPath,gr.makeResolver=Or.makeResolver)});var bb=x((MG,_b)=>{"use strict";_b.exports=yb()});var Sb=x((PG,xb)=>{var Bp=bb();xb.exports=o(function(t){let r=Bp.createServer(t);return o(function(i,s,a){return process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?Bp.proxy(r,i,s,"CALLBACK",a):Bp.proxy(r,i,s)},"http")},"unexpress")});var Kp=x((NG,Eb)=>{Eb.exports=o(function({Key:t,config:r,isBinary:n,defaults:i}){let s=t.split(".").pop(),a=r.plugins?r.plugins[s]||[]:[];return a.length===0||n?i:(i.body=i.body.toString(),a.reduce(o(function(l,p){return(typeof p=="function"?p:require(p))(t,l,r)},"run"),i))},"transform")});var Up=x((DG,wb)=>{wb.exports=o(function(t){let{isBinary:r,assets:n,response:i,isLocal:s=!1}=t;if(r)return i;{let a=/\${(STATIC|arc\.static)\(.*\)}/g,u=i.body instanceof Buffer?i.body.toString():i.body;return i.body=u.replace(a,o(function(p){let d=p.startsWith("${STATIC(")?10:14,g=p.slice(d,p.length-3),m=g.startsWith("/"),v=m?g.substr(1):g;return n&&n[v]&&!s&&(g=n[v],g=m?`/${g}`:g),g},"fingerprint")),i.body=Buffer.from(i.body),i}},"templatizeResponse")});var Fp=x((LG,Ob)=>{var{gzipSync:dM,gunzipSync:gM,brotliCompressSync:hM,brotliDecompressSync:mM,deflateSync:vM,inflateSync:yM}=require("zlib");function Tb(e,t,r){let n=e==="compress",i={gzip:n?dM:gM,br:n?hM:mM,deflate:n?vM:yM};if(!i[t])throw ReferenceError("Invalid compression type specified, must be gzip, br, or deflate");return i[t](r)}o(Tb,"compressor");Ob.exports={compress:Tb.bind({},"compress"),decompress:Tb.bind({},"decompress")}});var Hp=x((BG,Cb)=>{var _M=Es(),bM=require("path"),{compress:xM}=Fp();Cb.exports=o(function(t){let{response:r,result:n,Key:i,isProxy:s,contentEncoding:a,config:u}=t,l=["text/html","application/json","application/vnd.api+json"];r.headers=r.headers||{};let p=r.headers["Content-Type"]||r.headers["content-type"]||n&&n.ContentType||_M.contentType(bM.extname(i));r.headers["Content-Type"]=p;let d=l.some(S=>p.includes(S));u.cacheControl?r.headers["Cache-Control"]=u.cacheControl:d?r.headers["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0, s-maxage=0":n&&n.CacheControl?r.headers["Cache-Control"]=n.CacheControl:r.headers["Cache-Control"]="public, max-age=0, must-revalidate",u.headers&&Object.keys(u.headers).forEach(S=>r.headers[S]=u.headers[S]),r.headers["content-type"]&&(r.headers["Content-Type"]=r.headers["content-type"],delete r.headers["content-type"]),r.headers["cache-control"]&&(r.headers["Cache-Control"]=r.headers["cache-control"],delete r.headers["cache-control"]);let g=!process.env.ARC_CLOUDFORMATION,m=!process.env.ARC_HTTP||process.env.ARC_HTTP==="aws",v=g&&m,y=r.headers["Content-Type"].includes("text/html");return v&&y&&!s?(r.body=Buffer.from(r.body).toString(),r.type=r.headers["Content-Type"]):(a&&(r.body=xM(a,r.body),r.headers["Content-Encoding"]=a),r.body=Buffer.from(r.body).toString("base64"),r.isBase64Encoded=!0),r.headers.ETag=n.ETag,r},"normalizeResponse")});var zp=x((KG,Ib)=>{var SM=require("aws-sdk"),{existsSync:EM,readFileSync:wM}=require("fs"),{join:TM}=require("path"),{httpError:OM}=ro();Ib.exports=o(async function(t){let{Bucket:r,Key:n,assets:i,headers:s,isFolder:a,prefix:u}=t,{ARC_LOCAL:l,ARC_SANDBOX_PATH_TO_STATIC:p,NODE_ENV:d}=process.env,g=d==="testing"||l,m=new SM.S3;function v(O){let I=O.replace(u+"/","");return i&&i[I]&&(O=i[I],O=u?`${u}/${O}`:O),O}o(v,"getKey");async function y(O){let I=p;if(O.startsWith(I)||(O=TM(I,O)),EM(O))return{Body:wM(O)};{let j=ReferenceError(`NoSuchKey: ${n} not found`);throw j.name="NoSuchKey",j}}o(y,"getLocal");async function S(O){return await m.getObject({Bucket:r,Key:O}).promise()}o(S,"getS3");async function E(O){let I=g?y:S;try{return await I(O)}catch(j){return j.name==="NoSuchKey"?(j.statusCode=404,j):(j.statusCode=500,j)}}if(o(E,"get"),a&&!n.endsWith("/")){let O=v(`${n}/index.html`),I=await E(O);if(I.Body){let j=I.Body.toString();return{headers:s,statusCode:200,body:j}}}let T=v("404.html"),w=await E(T);if(w.Body){let O=w.Body.toString();return{headers:{"Content-Type":"text/html; charset=utf8;","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"},statusCode:404,body:O}}else{let O=w,{statusCode:I}=O,j=O.name,k=`
      ${O.message} <pre><b>${n}</b></pre><br>
      <pre>${O.stack}</pre>
    `;return OM({statusCode:I,title:j,message:k})}},"pretty")});var Rb=x((UG,jb)=>{var{existsSync:kb,readFileSync:Ab}=require("fs"),{extname:CM,join:$p,sep:IM}=require("path"),kM=Es(),AM=require("crypto"),qM=oc(),{httpError:jM}=ro(),RM=Kp(),MM=Up(),PM=Hp(),qb=zp();jb.exports=o(async function(t){let{ARC_SANDBOX_PATH_TO_STATIC:r,ARC_STATIC_PREFIX:n,ARC_STATIC_FOLDER:i}=process.env,{Key:s,IfNoneMatch:a,isFolder:u,isProxy:l,config:p}=t,d={},g={},m,v=r||$p(process.cwd(),"..","..","..","public"),y=$p(v,"static.json");kb(y)&&(m=JSON.parse(Ab(y)));let S=p.assets||m,E=$p(v,s),T=n||i;E.includes(T)&&(E=E.replace(`${T}${IM}`,""));try{let w=!1,O=kM.contentType(CM(s));if(!kb(E))return await qb({Key:E,config:p,isFolder:u});let I=Ab(E),j=AM.createHash("sha256").update(I).digest("hex"),k={ContentType:O,ETag:j};if(a===j&&(w=!0,d.ETag=a,g={statusCode:304,headers:d}),!w){let F=qM.some($=>k.ContentType.includes($)||O.includes($));g=RM({Key:s,config:p,isBinary:F,defaults:{headers:d,body:I}}),g=MM({isBinary:F,assets:S,response:g,isLocal:!0}),g=PM({response:g,result:k,Key:s,isProxy:l,config:p}),g.headers.ETag=k.ETag}return g.statusCode||(g.statusCode=200),g}catch(w){if(w.name==="NoSuchKey")return await qb({Key:E,config:p,isFolder:u});{let I=w.name,j=`
        ${w.message}<br>
        <pre>${w.stack}</pre>
      `;return jM({statusCode:500,title:I,message:j})}}},"readLocal")});var Nb=x((FG,Pb)=>{var{existsSync:NM,readFileSync:DM}=require("fs"),{extname:LM,join:BM}=require("path"),KM=Es(),UM=require("aws-sdk"),FM=oc(),{httpError:HM}=ro(),zM=Kp(),$M=Up(),WM=Hp(),JM=zp(),{decompress:GM}=Fp();Pb.exports=o(async function(t){let{Bucket:r,Key:n,IfNoneMatch:i,isFolder:s,isProxy:a,config:u,rootPath:l}=t,{ARC_STATIC_PREFIX:p,ARC_STATIC_FOLDER:d}=process.env,g=p||d||u.bucket&&u.bucket.folder,m=u.assets||ws,v={},y={};try{let S=!1,E=new UM.S3,T=KM.contentType(LM(n)),O=["text/html","application/json"].some(k=>T.includes(k));if(m&&m[n]&&O&&(n=m[n]),m&&m[n]&&!O){let k=l?`/${l}/_static/${m[n]}`:`/_static/${m[n]}`;return{statusCode:302,headers:{location:k,"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"}}}g&&(n=`${g}/${n}`);let I={Bucket:r,Key:n};i&&(I.IfNoneMatch=i);let j=await E.getObject(I).promise().catch(k=>{if(k.code==="NotModified")S=!0,v.ETag=i,y={statusCode:304,headers:v};else throw k});if(!S){let k=j.ContentEncoding;k&&(j.Body=GM(k,j.Body));let F=FM.some($=>j.ContentType.includes($)||T.includes($));y=zM({Key:n,config:u,isBinary:F,defaults:{headers:v,body:j.Body}}),y=$M({isBinary:F,assets:m,response:y}),y=WM({response:y,result:j,Key:n,isProxy:a,contentEncoding:k,config:u})}return y.statusCode||(y.statusCode=200),y}catch(S){if(S.name==="NoSuchKey")return await JM({Bucket:r,Key:n,assets:m,headers:v,isFolder:s,prefix:g});{let T=S.name,w=`
        ${S.message}<br>
        <pre>${S.stack}</pre>
      `;return HM({statusCode:500,title:T,message:w})}}},"readS3");var ws,Mb=BM(process.cwd(),"node_modules","@architect","shared","static.json");ws===!1||(NM(Mb)&&!ws?ws=JSON.parse(DM(Mb)):ws=!1)});var Lb=x((HG,Db)=>{var VM=Rb(),YM=Nb();function XM(){let{ARC_LOCAL:e,NODE_ENV:t}=process.env;return t==="testing"||e?VM:YM}o(XM,"read");Db.exports=XM()});var Ub=x((zG,Kb)=>{var Bb=Lb(),ZM=ro();function QM(e={}){return o(async function(r){let{ARC_STATIC_BUCKET:n,ARC_STATIC_SPA:i,NODE_ENV:s}=process.env,a=r.version===void 0||r.version==="1.0",u=s==="production",l=a?r.path:r.rawPath,p=l.split("/").pop().indexOf(".")===-1,d,g=e.bucket,m=u?g&&g.production:g&&g.staging,v=n||m;if(!v)return ZM.proxyConfig;let y=i==="false"?!1:e&&e.spa;if(y||(e.spa=!1),y)d=p?"index.html":l.substring(1);else{let j=l.split("/").filter(Boolean).pop(),k=j?j.includes("."):!1,F=l==="/";d=F?"index.html":l.substring(1),F===!1&&k===!1&&(d=`${d.replace(/\/$/,"")}/index.html`)}e&&e.alias&&e.alias[l]&&(d=e.alias[l].substring(1)),d.startsWith("staging/")&&(d=d.replace("staging/","")),d.startsWith("production/")&&(d=d.replace("production/",""));let E,T=r.requestContext&&r.requestContext.path;a&&T&&(T&&T.startsWith("/staging/")&&(E="staging"),T&&T.startsWith("/production/")&&(E="production"));let w=o(j=>j.toLowerCase()==="if-none-match","find"),O=r.headers&&r.headers[Object.keys(r.headers).find(w)],I=r.resource==="/{proxy+}"||!!r.rawPath;return await Bb({Key:d,Bucket:v,IfNoneMatch:O,isFolder:p,isProxy:I,config:e,rootPath:E})},"httpProxy")}o(QM,"proxy");Kb.exports={proxy:QM,read:Bb}});var zb=x(($G,Hb)=>{var cn=N_(),eP=nc(),tP=ic(),rP=Np(),nP=B_(),iP=tc(),oP=rc(),Fb=U_(),sP=Sb(),Wp=Ub();cn.helpers={bodyParser:eP,interpolate:tP,static:rP,url:nP};cn.session={read:iP,write:oP};cn.async=Fb;cn.express=sP;cn.proxy=Wp.proxy;cn.proxy.public=Wp.proxy;cn.proxy.read=Wp.read;cn.middleware=Fb;Hb.exports=cn});var Jb=x((WG,Wb)=>{var $b=require("aws-sdk"),aP=require("http");Wb.exports=o(function(t){let r=`/${process.env.ARC_CLOUDFORMATION}`,n=!0,i=[],s=process.env.NODE_ENV==="testing",a;if(s){let p=process.env.ARC_INTERNAL||3332,d=process.env.AWS_REGION||"us-west-2";a={endpoint:new $b.Endpoint(`http://localhost:${p}/_arc/ssm`),region:d,httpOptions:{agent:new aP.Agent}}}let u=new $b.SSM(a);function l(p){u.getParametersByPath(p,o(function(g,m){g?t(g):m.NextToken?(i=i.concat(m.Parameters),l({Path:r,Recursive:n,NextToken:m.NextToken})):(i=i.concat(m.Parameters),t(null,i.reduce((v,y)=>{let S=y.Name.split("/");S.shift(),S.shift();let E=S.shift();v[E]||(v[E]={});let T=v[E],w,O,I;for(;w=S.shift();)T[w]||(T[w]={}),I=T,T=T[w],O=w;return I[O]=y.Value,v},{})))},"done"))}o(l,"getParams"),l({Path:r,Recursive:n})},"lookup")});var Vb=x((JG,Gb)=>{var cP=require("http");Gb.exports=o(function({id:t,payload:r},n){let i=process.env.PORT||3333,s=JSON.stringify({id:t,payload:r}),a=cP.request({method:"POST",port:i,path:"/__arc",headers:{"Content-Type":"application/json","Content-Length":Buffer.byteLength(s)}});a.on("error",n),a.on("close",()=>n()),a.write(s),a.end()},"send")});var Xb=x((GG,Yb)=>{var uP=require("aws-sdk");Yb.exports=o(function({id:t,payload:r},n){let i,s=process.env.ARC_WSS_URL;s.startsWith("wss://")?i=`https://${s.replace("wss://","")}`:i=`https://${s}/${process.env.NODE_ENV}`,new uP.ApiGatewayManagementApi({apiVersion:"2018-11-29",endpoint:i}).postToConnection({ConnectionId:t,Data:JSON.stringify(r)},o(function(l){l?n(l):n()},"postToConnection"))},"send")});var Qb=x((VG,Zb)=>{var lP=Vb(),pP=Xb();Zb.exports=o(function({id:t,payload:r},n){let i;return n||(i=new Promise(function(u,l){n=o(function(p,d){p?l(p):u(d)},"callback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?lP:pP)({id:t,payload:r},n),i},"send")});var Jp=x((YG,ex)=>{ex.exports=fP;function fP(e,t){var r=0,n=!0;function i(a,u){function l(){u=u?[].concat(a,u):[a],t&&t.apply(void 0,u)}o(l,"end"),n?process.nextTick(l):l()}o(i,"done");function s(a){var u=Array.prototype.slice.call(arguments,1);++r>=e.length||a?i(a,u):e[r].apply(void 0,[].concat(u,s))}o(s,"each"),e.length?e[0](s):i(null),n=!1}o(fP,"runWaterfall")});var rx=x((XG,tx)=>{var dP=hi();function Bn(e,t){return o(function(n,i){var s=n.Records.map(function(a){return o(function(l){var p=e.indexOf(a.eventName)>-1;p?t(a,l):l()},"__actualHandler")});dP(s,o(function(u,l){u?i.fail(u):i.succeed(l)},"__processedRecords"))},"__lambdaSignature")}o(Bn,"__trigger");tx.exports={insert:Bn.bind({},["INSERT"]),modify:Bn.bind({},["MODIFY"]),update:Bn.bind({},["MODIFY"]),remove:Bn.bind({},["REMOVE"]),destroy:Bn.bind({},["REMOVE"]),all:Bn.bind({},["INSERT","MODIFY","REMOVE"]),save:Bn.bind({},["INSERT","MODIFY"]),change:Bn.bind({},["INSERT","REMOVE"])}});var Gp=x((ZG,nx)=>{nx.exports=o(function(t){var r={};return Object.keys(t).forEach(n=>{r[n]=gP(t[n])}),r},"pfy");function gP(e){return o(function(r,n){if(n)e(r,n);else return new Promise(function(i,s){e(r,function(a,u){a?s(a):i(u)})})},"_promisified")}o(gP,"promised")});var ox=x((QG,ix)=>{var hP=to(),mP=Gp(),vP=hi();ix.exports=o(function(t,r){let{db:n,doc:i}=hP;vP({db:n,doc:i},o(function(a,{db:u,doc:l}){if(a)throw a;{let m=function(v){return mP({delete(y,S){let E={};E.TableName=v,E.Key=y,l.delete(E,S)},get(y,S){let E={};E.TableName=v,E.Key=y,l.get(E,o(function(w,O){w?S(w):S(null,O.Item)},"_get"))},put(y,S){let E={};E.TableName=v,E.Item=y,l.put(E,o(function(w){w?S(w):S(null,y)},"_put"))},query(y,S){y.TableName=v,l.query(y,S)},scan(y,S){y.TableName=v,l.scan(y,S)},update(y,S){y.TableName=v,l.update(y,S)}})};var p=m;o(m,"factory");let d=Object.keys(t).reduce((v,y)=>(v[y]=m(t[y]),v),{});Object.defineProperty(d,"_db",{enumerable:!1,value:u}),Object.defineProperty(d,"_doc",{enumerable:!1,value:l}),d.reflect=o(async function(){return t},"reflect");let g=o(v=>t[v],"_name");d.name=g,d._name=g,r(null,d)}},"done"))},"reflectFactory")});var ax=x((eV,sx)=>{var yP=Gp(),_P=hi(),bP=o(e=>!e.includes("-production-"),"stagingTables");function xP(e,t){return yP({delete(n,i){let s={};s.TableName=t,s.Key=n,e.delete(s,i)},get(n,i){let s={};s.TableName=t,s.Key=n,e.get(s,o(function(u,l){u?i(u):i(null,l.Item)},"_get"))},put(n,i){let s={};s.TableName=t,s.Item=n,e.put(s,o(function(u){u?i(u):i(null,n)},"_put"))},query(n,i){n.TableName=t,e.query(n,i)},scan(n,i){n.TableName=t,e.scan(n,i)},update(n,i){n.TableName=t,e.update(n,i)}})}o(xP,"client");sx.exports=o(function(t,r){function n(i,s){if(i)return r(i);let a=s[0],u=s[1];a.listTables({},o(function(p,d){if(p)return r(p);let g=d.TableNames.filter(bP),m={},v={};g.forEach(S=>{let E=S.replace(/.+-staging-/,"");v[E]=S,m[E]=xP(u,S)}),Object.defineProperty(m,"_db",{enumerable:!1,value:a}),Object.defineProperty(m,"_doc",{enumerable:!1,value:u}),m.reflect=async()=>v;let y=o(S=>v[S],"_name");m.name=y,m._name=y,r(null,m)},"listed"))}o(n,"done"),_P([t.db,t.doc],n)},"sandbox")});var ux=x((tV,cx)=>{var SP=Jp(),Kn=rx(),EP=ox(),wP=ax(),Vp=to(),lc=!1;function TP(e){function t(r){let n;return r||(n=new Promise(o(function(a,u){r=o(function(p,d){p?u(p):a(d)},"errback")},"ugh"))),process.env.NODE_ENV==="testing"?wP(Vp,r):lc?r(null,lc):SP([function(s){e.services().then(function(a){s(null,a.tables)}).catch(s)},EP,function(s,a){lc=s,a(null,lc)}],r),n}return o(t,"api"),t.doc=Vp.direct.doc,t.db=Vp.direct.db,t.insert=Kn.insert,t.modify=Kn.modify,t.update=Kn.update,t.remove=Kn.remove,t.destroy=Kn.destroy,t.all=Kn.all,t.save=Kn.save,t.change=Kn.change,t}o(TP,"tables");cx.exports=TP});var px=x((rV,lx)=>{var OP=require("http"),CP=Jp(),IP=require("aws-sdk");lx.exports=o(function(t,r){if(!t.name)throw ReferenceError("missing params.name");if(!t.payload)throw ReferenceError("missing params.payload");let n=`${process.env.ARC_APP_NAME}-${process.env.NODE_ENV}-${t.name}`,i=t.payload,s;if(r||(s=new Promise((u,l)=>{r=o(function(d,g){d?l(d):u(g)},"errback")})),process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL){let u=process.env.ARC_EVENTS_PORT||3334,l=OP.request({method:"POST",port:u,path:"/queues"},o(function(d){let g=[];d.resume(),d.on("data",m=>g.push(m)),d.on("end",()=>{let m=Buffer.concat(g).toString(),v=`${d.statusCode}`;v.startsWith(2)?r(null,m):r(Error(`${m} (${v})`))})},"done"));l.write(JSON.stringify(t)),l.end(`
`)}else{let u=new IP.SQS;CP([o(function(p){u.getQueueUrl({QueueName:n},p)},"reads"),o(function(p,d){let g=p.QueueUrl,m=t.delaySeconds||0;u.sendMessage({QueueUrl:g,DelaySeconds:m,MessageBody:JSON.stringify(i)},d)},"publishes")],o(function(p,d){if(p)throw p;r(null,d)},"_published"))}return s},"_publish")});var dx=x((nV,fx)=>{var kP=hi();fx.exports=o(function(t){return t.constructor.name==="AsyncFunction"?o(async function(n){return await Promise.all(n.Records.map(async i=>{try{let s=JSON.parse(i.body);return await t(s)}catch(s){throw console.log("Queue subscribe error:",s),s}}))},"lambda"):o(function(n,i,s){kP(n.Records.map(o(function(u){return o(function(p){try{t(JSON.parse(u.body),p)}catch(d){p(d)}},"_actualHandler")},"_iterator")),s)},"_lambdaSignature")},"_subscribe")});var hx=x((iV,gx)=>{var AP=require("http");gx.exports=o(function(t,r){let n=process.env.ARC_EVENTS_PORT||3334,i=AP.request({method:"POST",port:n,path:"/queues"},o(function(a){let u=[];a.resume(),a.on("data",l=>u.push(l)),a.on("end",()=>{let l=Buffer.concat(u).toString(),p=`${a.statusCode}`;p.startsWith(2)?r(null,l):r(Error(`${l} (${p})`))})},"done"));i.write(JSON.stringify(t)),i.end(`
`)},"sandbox")});var vx=x((oV,mx)=>{var qP=require("aws-sdk"),Ts={};mx.exports=o(function(t){return o(function({name:n,payload:i,delaySeconds:s,groupID:a},u){function l(g,m,v){let y=new qP.SQS,S={QueueUrl:g,DelaySeconds:s||0,MessageBody:JSON.stringify(m)};g.endsWith(".fifo")&&(S.MessageGroupId=a||n),y.sendMessage(S,v)}o(l,"publish");function p(g){Ts=g.queues,Ts[n]?l(Ts[n],i,u):u(ReferenceError(`${n} queue not found`))}o(p,"cacheLedgerAndPublish"),Ts[n]?l(Ts[n],i,u):t.services().then(p).catch(u)},"live")},"liveFactory")});var _x=x((sV,yx)=>{var jP=hx(),RP=vx();yx.exports=o(function(t){let r=RP(t);return o(function(i,s){if(!i.name)throw ReferenceError("missing params.name");if(!i.payload)throw ReferenceError("missing params.payload");let a;return s||(a=new Promise((p,d)=>{s=o(function(m,v){m?d(m):p(v)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?jP:r)(i,s),a},"publish")},"publishFactory")});var xx=x((aV,bx)=>{var MP=px(),PP=dx(),NP=_x();bx.exports=o(function(t){let r=NP(t);return{publish(n,i){return process.env.ARC_CLOUDFORMATION?r(n,i):MP(n,i)},subscribe:PP}},"queueFactory")});var Tx=x((cV,wx)=>{var DP=require("http"),Sx=require("aws-sdk"),LP=new Sx.SNS,pc={};function Ex(e,t,r){LP.publish({TopicArn:e,Message:JSON.stringify(t)},o(function(i,s){if(i)throw i;r(null,s)},"_published"))}o(Ex,"__publish");wx.exports=o(function(t,r){if(!t.name)throw ReferenceError("missing params.name");if(!t.payload)throw ReferenceError("missing params.payload");let n;return r||(n=new Promise((a,u)=>{r=o(function(p,d){p?u(p):a(d)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?KP:BP)(t,r),n},"_publish");function BP(e,t){let{name:r,payload:n}=e;if(pc[r])Ex(pc[r],n,t);else{let a=`${e.app?e.app:process.env.ARC_APP_NAME}-${process.env.NODE_ENV}-${r}`;UP({eventName:a},o(function(l,p){if(l)throw l;pc[r]=p,Ex(pc[r],n,t)},"_scan"))}}o(BP,"_live");function KP(e,t){let r=process.env.ARC_EVENTS_PORT||3334,n=DP.request({method:"POST",port:r,path:"/events"},o(function(s){let a=[];s.resume(),s.on("data",u=>a.push(u)),s.on("end",()=>{let u=Buffer.concat(a).toString(),l=`${s.statusCode}`;l.startsWith(2)?t(null,u):t(Error(`${u} (${l})`))})},"done"));n.write(JSON.stringify(e)),n.end(`
`)}o(KP,"_local");function UP({eventName:e},t){let r=new Sx.SNS;o(function n(i={},s){r.listTopics(i,o(function(u,l){if(u)throw u;let p=l.Topics.find(d=>{let g=d.TopicArn.split(":");return g[g.length-1]===e});p?s(null,p.TopicArn):l.NextToken?setTimeout(()=>{n({NextToken:l.NextToken},s)},50):s(Error(`topic ${e} not found`))},"_listTopics"))},"__scanner")({},t)}o(UP,"_scan")});var Ix=x((uV,Cx)=>{var FP=hi(),Ox={Records:[{Sns:{Message:JSON.stringify({})}}]};Cx.exports=o(function(t){return t.constructor.name==="AsyncFunction"?o(async function(n){return n=n&&Object.keys(n).length?n:Ox,await Promise.all(n.Records.map(async i=>{try{let s=JSON.parse(i.Sns.Message);return await t(s)}catch(s){throw console.log("Event subscribe error:",s),s}}))},"lambda"):o(function(n,i,s){n=n&&Object.keys(n).length?n:Ox,FP(n.Records.map(o(function(u){return o(function(p){try{t(JSON.parse(u.Sns.Message),p)}catch(d){p(d)}},"_actualHandler")},"_iterator")),s)},"_lambdaSignature")},"_subscribe")});var Ax=x((lV,kx)=>{var HP=require("http");kx.exports=o(function(t,r){let n=process.env.ARC_EVENTS_PORT||3334,i=HP.request({method:"POST",port:n,path:"/events"},o(function(a){let u=[];a.resume(),a.on("data",l=>u.push(l)),a.on("end",()=>{let l=Buffer.concat(u).toString(),p=`${a.statusCode}`;p.startsWith(2)?r(null,l):r(Error(`${l} (${p})`))})},"done"));i.write(JSON.stringify(t)),i.end(`
`)},"publishLocal")});var jx=x((pV,qx)=>{var zP=require("aws-sdk"),Os={};qx.exports=o(function(t){return o(function({name:n,payload:i},s){function a(p,d,g){new zP.SNS().publish({TopicArn:p,Message:JSON.stringify(d)},g)}o(a,"publish");function u(p){Os=p.events,Os[n]?a(Os[n],i,s):s(ReferenceError(`${n} event not found`))}o(u,"cacheLedgerAndPublish"),Os[n]?a(Os[n],i,s):t.services().then(u).catch(s)},"live")},"liveFactory")});var Mx=x((fV,Rx)=>{var $P=Ax(),WP=jx();Rx.exports=o(function(t){let r=WP(t);return o(function(i,s){if(!i.name)throw ReferenceError("missing params.name");if(!i.payload)throw ReferenceError("missing params.payload");let a;return s||(a=new Promise((p,d)=>{s=o(function(m,v){m?d(m):p(v)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?$P:r)(i,s),a},"publish")},"publishFactory")});var Nx=x((dV,Px)=>{var JP=Tx(),GP=Ix(),VP=Mx();Px.exports=o(function(t){let r=VP(t);return{publish(n,i){return process.env.ARC_CLOUDFORMATION?r(n,i):JP(n,i)},subscribe:GP}},"eventFactory")});var Zp=x((gV,Dx)=>{var Yp=process.env.NODE_ENV,YP=Yp!=="staging"&&Yp!=="production";(!Yp||YP)&&(process.env.NODE_ENV="testing");var Xp=zb(),XP=Np(),ZP=Jb(),fc,QP=Qb(),Jr={http:Xp,static:XP,ws:{send:QP},services:function(){return new Promise(function(e,t){fc?e(fc):ZP(function(r,n){r?t(r):(fc=n,e(fc))})})}};Jr.tables=ux()(Jr);Jr.queues=xx()(Jr);Jr.events=Nx()(Jr);Jr.proxy={};Jr.proxy.public=Xp.proxy.public;Jr.middleware=Xp.middleware;Dx.exports=Jr});var Lx=x((exports,module)=>{o(function(t,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define([],r):typeof exports=="object"?exports.Automerge=r():t.Automerge=r()},"webpackUniversalModuleDefinition")(exports,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return o(r,"__webpack_require__"),r.m=e,r.c=t,r.d=function(n,i,s){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(i&1&&(n=r(n)),i&8||i&4&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(var a in n)r.d(s,a,function(u){return n[u]}.bind(null,a));return s},r.n=function(n){var i=n&&n.__esModule?o(function(){return n.default},"getDefault"):o(function(){return n},"getModuleExports");return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s="./src/automerge.js")}({"./backend/index.js":function(e,t,r){"use strict";var n=function(){function V(R,P){var L=[],z=!0,W=!1,te=void 0;try{for(var ce=R[Symbol.iterator](),ue;!(z=(ue=ce.next()).done)&&(L.push(ue.value),!(P&&L.length===P));z=!0);}catch(q){W=!0,te=q}finally{try{!z&&ce.return&&ce.return()}finally{if(W)throw te}}return L}return o(V,"sliceIterator"),function(R,P){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return V(R,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function V(R,P){for(var L=0;L<P.length;L++){var z=P[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return o(V,"defineProperties"),function(R,P,L){return P&&V(R.prototype,P),L&&V(R,L),R}}();function s(V,R){if(!(V instanceof R))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var a=r("./node_modules/immutable/dist/immutable.js"),u=a.Map,l=a.List,p=a.fromJS,d=r("./src/common.js"),g=d.isObject,m=d.lessOrEqual,v=d.parseElemId,y=r("./backend/op_set.js"),S=function(){function V(){s(this,V),this.diffs={},this.children={}}return o(V,"MaterializationContext"),i(V,[{key:"unpackValue",value:o(function(P,L,z){Object.assign(L,z),z.link&&this.children[P].push(z.value)},"unpackValue")},{key:"unpackConflicts",value:o(function(P,L,z){if(z){L.conflicts=[];var W=!0,te=!1,ce=void 0;try{for(var ue=z[Symbol.iterator](),q;!(W=(q=ue.next()).done);W=!0){var oe=q.value,ae=n(oe,2),le=ae[0],Z=ae[1],ee={actor:le};this.unpackValue(P,ee,Z),L.conflicts.push(ee)}}catch(ge){te=!0,ce=ge}finally{try{!W&&ue.return&&ue.return()}finally{if(te)throw ce}}}},"unpackConflicts")},{key:"instantiateMap",value:o(function(P,L,z){var W=this.diffs[L];L!==y.ROOT_ID&&W.push({obj:L,type:z,action:"create"});var te=y.getObjectConflicts(P,L,this),ce=!0,ue=!1,q=void 0;try{for(var oe=y.getObjectFields(P,L)[Symbol.iterator](),ae;!(ce=(ae=oe.next()).done);ce=!0){var le=ae.value,Z={obj:L,type:z,action:"set",key:le};this.unpackValue(L,Z,y.getObjectField(P,L,le,this)),this.unpackConflicts(L,Z,te.get(le)),W.push(Z)}}catch(ee){ue=!0,q=ee}finally{try{!ce&&oe.return&&oe.return()}finally{if(ue)throw q}}},"instantiateMap")},{key:"instantiateList",value:o(function(P,L,z){var W=this.diffs[L],te=0;W.push({obj:L,type:z,action:"create"});var ce=!0,ue=!1,q=void 0;try{for(var oe=y.listIterator(P,L,this)[Symbol.iterator](),ae;!(ce=(ae=oe.next()).done);ce=!0){var le=ae.value,Z=le.index,ee=le.elemId,ge=le.value,be=le.conflicts;if(te=Math.max(te,v(ee).counter),Z!==void 0){var _e={obj:L,type:z,action:"insert",index:Z,elemId:ee};this.unpackValue(L,_e,ge),this.unpackConflicts(L,_e,be),W.push(_e)}}}catch(Se){ue=!0,q=Se}finally{try{!ce&&oe.return&&oe.return()}finally{if(ue)throw q}}W.push({obj:L,type:z,action:"maxElem",value:te})},"instantiateList")},{key:"instantiateObject",value:o(function(P,L){if(this.diffs[L])return{value:L,link:!0};var z=L===y.ROOT_ID,W=P.getIn(["byObject",L,"_init","action"]);if(this.diffs[L]=[],this.children[L]=[],z||W==="makeMap")this.instantiateMap(P,L,"map");else if(W==="makeTable")this.instantiateMap(P,L,"table");else if(W==="makeList")this.instantiateList(P,L,"list");else if(W==="makeText")this.instantiateList(P,L,"text");else throw new RangeError("Unknown object type: "+W);return{value:L,link:!0}},"instantiateObject")},{key:"makePatch",value:o(function(P,L){var z=!0,W=!1,te=void 0;try{for(var ce=this.children[P][Symbol.iterator](),ue;!(z=(ue=ce.next()).done);z=!0){var q=ue.value;this.makePatch(q,L)}}catch(be){W=!0,te=be}finally{try{!z&&ce.return&&ce.return()}finally{if(W)throw te}}var oe=!0,ae=!1,le=void 0;try{for(var Z=this.diffs[P][Symbol.iterator](),ee;!(oe=(ee=Z.next()).done);oe=!0){var ge=ee.value;L.push(ge)}}catch(be){ae=!0,le=be}finally{try{!oe&&Z.return&&Z.return()}finally{if(ae)throw le}}},"makePatch")}]),V}();function E(){return u({opSet:y.init()})}o(E,"init");function T(V,R){var P=V.getIn(["opSet","undoPos"])>0,L=!V.getIn(["opSet","redoStack"]).isEmpty(),z=V.getIn(["opSet","clock"]).toJS(),W=V.getIn(["opSet","deps"]).toJS();return{clock:z,deps:W,canUndo:P,canRedo:L,diffs:R}}o(T,"makePatch");function w(V,R,P){var L=[],z=V.get("opSet"),W=!0,te=!1,ce=void 0;try{for(var ue=p(R)[Symbol.iterator](),q;!(W=(q=ue.next()).done);W=!0){var oe=q.value;oe=oe.remove("requestType");var ae=y.addChange(z,oe,P),le=n(ae,2),Z=le[0],ee=le[1],ge=!0,be=!1,_e=void 0;try{for(var Se=ee[Symbol.iterator](),xe;!(ge=(xe=Se.next()).done);ge=!0){var N=xe.value;L.push(N)}}catch(M){be=!0,_e=M}finally{try{!ge&&Se.return&&Se.return()}finally{if(be)throw _e}}z=Z}}catch(M){te=!0,ce=M}finally{try{!W&&ue.return&&ue.return()}finally{if(te)throw ce}}return V=V.set("opSet",z),[V,T(V,L)]}o(w,"apply");function O(V,R){return w(V,R,!1)}o(O,"applyChanges");function I(V,R){if(typeof R.actor!="string"||typeof R.seq!="number")throw new TypeError("Change request requries `actor` and `seq` properties");if(R.seq<=V.getIn(["opSet","clock",R.actor],0))throw new RangeError("Change request has already been applied");var P=void 0;if(R.requestType==="change"){var L=R.undoable!==!1,z=w(V,[R],L),W=n(z,2);V=W[0],P=W[1]}else if(R.requestType==="undo"){var te=pe(V,R),ce=n(te,2);V=ce[0],P=ce[1]}else if(R.requestType==="redo"){var ue=fe(V,R),q=n(ue,2);V=q[0],P=q[1]}else throw new RangeError("Unknown requestType: "+R.requestType);return P.actor=R.actor,P.seq=R.seq,[V,P]}o(I,"applyLocalChange");function j(V){var R=[],P=V.get("opSet"),L=new S(P);return L.instantiateObject(P,y.ROOT_ID),L.makePatch(y.ROOT_ID,R),T(V,R)}o(j,"getPatch");function k(V,R){var P=V.getIn(["opSet","clock"]),L=R.getIn(["opSet","clock"]);if(!m(P,L))throw new RangeError("Cannot diff two states that have diverged");return y.getMissingChanges(R.get("opSet"),P).toJS()}o(k,"getChanges");function F(V,R){return y.getChangesForActor(V.get("opSet"),R).toJS()}o(F,"getChangesForActor");function $(V,R){return y.getMissingChanges(V.get("opSet"),R).toJS()}o($,"getMissingChanges");function ne(V){return y.getMissingDeps(V.get("opSet"))}o(ne,"getMissingDeps");function se(V,R){var P=y.getMissingChanges(R.get("opSet"),V.getIn(["opSet","clock"]));return O(V,P)}o(se,"merge");function pe(V,R){var P=V.getIn(["opSet","undoPos"]),L=V.getIn(["opSet","undoStack",P-1]);if(P<1||!L)throw new RangeError("Cannot undo: there is nothing to be undone");var z=R.actor,W=R.seq,te=R.deps,ce=R.message,ue=u({actor:z,seq:W,deps:p(te),message:ce,ops:L}),q=V.get("opSet"),oe=l().withMutations(function(ge){var be=!0,_e=!1,Se=void 0;try{for(var xe=L[Symbol.iterator](),N;!(be=(N=xe.next()).done);be=!0){var M=N.value;if(!["set","del","link","inc"].includes(M.get("action")))throw new RangeError("Unexpected operation type in undo history: "+M);var U=y.getFieldOps(q,M.get("obj"),M.get("key"));if(M.get("action")==="inc")ge.push(u({action:"inc",obj:M.get("obj"),key:M.get("key"),value:-M.get("value")}));else if(U.isEmpty())ge.push(u({action:"del",obj:M.get("obj"),key:M.get("key")}));else{var H=!0,J=!1,re=void 0;try{for(var D=U[Symbol.iterator](),K;!(H=(K=D.next()).done);H=!0){var X=K.value;ge.push(X.remove("actor").remove("seq"))}}catch(de){J=!0,re=de}finally{try{!H&&D.return&&D.return()}finally{if(J)throw re}}}}}catch(de){_e=!0,Se=de}finally{try{!be&&xe.return&&xe.return()}finally{if(_e)throw Se}}});q=q.set("undoPos",P-1).update("redoStack",function(ge){return ge.push(oe)});var ae=y.addChange(q,ue,!1),le=n(ae,2),Z=le[0],ee=le[1];return V=V.set("opSet",Z),[V,T(V,ee)]}o(pe,"undo");function fe(V,R){var P=V.getIn(["opSet","redoStack"]).last();if(!P)throw new RangeError("Cannot redo: the last change was not an undo");var L=R.actor,z=R.seq,W=R.deps,te=R.message,ce=u({actor:L,seq:z,deps:p(W),message:te,ops:P}),ue=V.get("opSet").update("undoPos",function(Z){return Z+1}).update("redoStack",function(Z){return Z.pop()}),q=y.addChange(ue,ce,!1),oe=n(q,2),ae=oe[0],le=oe[1];return V=V.set("opSet",ae),[V,T(V,le)]}o(fe,"redo"),e.exports={init:E,applyChanges:O,applyLocalChange:I,getPatch:j,getChanges:k,getChangesForActor:F,getMissingChanges:$,getMissingDeps:ne,merge:se}},"./backend/op_set.js":function(e,t,r){"use strict";var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},i=function(){function N(M,U){var H=[],J=!0,re=!1,D=void 0;try{for(var K=M[Symbol.iterator](),X;!(J=(X=K.next()).done)&&(H.push(X.value),!(U&&H.length===U));J=!0);}catch(de){re=!0,D=de}finally{try{!J&&K.return&&K.return()}finally{if(re)throw D}}return H}return o(N,"sliceIterator"),function(M,U){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return N(M,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=r("./node_modules/immutable/dist/immutable.js"),a=s.Map,u=s.List,l=s.Set,p=r("./backend/skip_list.js"),d=p.SkipList,g=r("./src/common.js"),m=g.ROOT_ID,v=g.parseElemId;function y(N,M,U){var H=[M.get("actor"),M.get("seq")],J=H[0],re=H[1],D=[U.get("actor"),U.get("seq")],K=D[0],X=D[1];if(!J||!K||!re||!X)return!1;var de=N.getIn(["states",J,re-1,"allDeps"]),he=N.getIn(["states",K,X-1,"allDeps"]);return de.get(K,0)<X&&he.get(J,0)<re}o(y,"isConcurrent");function S(N,M){var U=M.get("actor"),H=M.get("seq"),J=!0;return M.get("deps").set(U,H-1).forEach(function(re,D){N.getIn(["clock",D],0)<re&&(J=!1)}),J}o(S,"causallyReady");function E(N,M){return M.reduce(function(U,H,J){if(H<=0)return U;var re=N.getIn(["states",J,H-1,"allDeps"]);return U.mergeWith(function(D,K){return Math.max(D,K)},re).set(J,H)},a())}o(E,"transitiveDeps");function T(N,M){for(var U=[];M!==m;){var H=N.getIn(["byObject",M,"_inbound"],l()).first();if(!H)return null;M=H.get("obj");var J=N.getIn(["byObject",M,"_init","action"]);if(J==="makeList"||J==="makeText"){var re=N.getIn(["byObject",M,"_elemIds"]).indexOf(H.get("key"));if(re<0)return null;U.unshift(re)}else U.unshift(H.get("key"))}return U}o(T,"getPath");function w(N,M){var U=M.get("obj");if(N.hasIn(["byObject",U,"_keys"]))throw new Error("Duplicate creation of object "+U);var H={action:"create",obj:U},J=a({_init:M,_inbound:l(),_keys:a()});return M.get("action")==="makeMap"?H.type="map":M.get("action")==="makeTable"?H.type="table":(H.type=M.get("action")==="makeText"?"text":"list",J=J.set("_elemIds",new d)),N=N.setIn(["byObject",U],J),[N,[H]]}o(w,"applyMake");function O(N,M){var U=M.get("obj"),H=M.get("elem"),J=M.get("actor")+":"+H,re=Math.max(H,N.getIn(["byObject",U,"_maxElem"],0)),D=N.getIn(["byObject",U,"_init","action"])==="makeText"?"text":"list";if(!N.get("byObject").has(U))throw new Error("Modification of unknown object "+U);if(N.hasIn(["byObject",U,"_insertion",J]))throw new Error("Duplicate list element ID "+J);return N=N.updateIn(["byObject",U,"_following",M.get("key")],u(),function(K){return K.push(M)}).setIn(["byObject",U,"_maxElem"],re).setIn(["byObject",U,"_insertion",J],M),[N,[{obj:U,type:D,action:"maxElem",value:re,path:T(N,U)}]]}o(O,"applyInsert");function I(N){var M=[],U=!0,H=!1,J=void 0;try{for(var re=N.shift()[Symbol.iterator](),D;!(U=(D=re.next()).done);U=!0){var K=D.value,X={actor:K.get("actor"),value:K.get("value")};K.get("action")==="link"&&(X.link=!0),K.get("datatype")&&(X.datatype=K.get("datatype")),M.push(X)}}catch(de){H=!0,J=de}finally{try{!U&&re.return&&re.return()}finally{if(H)throw J}}return M}o(I,"getConflicts");function j(N,M,U,H,J,re){var D=N.getIn(["byObject",M,"_init","action"])==="makeText"?"text":"list",K=re?re.first():null,X=N.getIn(["byObject",M,"_elemIds"]),de=K?K.get("value"):null,he={action:J,type:D,obj:M,index:U,path:T(N,M)};if(K&&K.get("action")==="link"&&(he.link=!0,de={obj:K.get("value")}),J==="insert")X=X.insertIndex(U,K.get("key"),de),he.elemId=H,he.value=K.get("value"),K.get("datatype")&&(he.datatype=K.get("datatype"));else if(J==="set")X=X.setValue(K.get("key"),de),he.value=K.get("value"),K.get("datatype")&&(he.datatype=K.get("datatype"));else if(J==="remove")X=X.removeIndex(U);else throw new Error("Unknown action type: "+J);return re&&re.size>1&&(he.conflicts=I(re)),N=N.setIn(["byObject",M,"_elemIds"],X),[N,[he]]}o(j,"patchList");function k(N,M,U){var H=te(N,M,U),J=N.getIn(["byObject",M,"_elemIds"]),re=J.indexOf(U);if(re>=0)return H.isEmpty()?j(N,M,re,U,"remove",null):j(N,M,re,U,"set",H);if(H.isEmpty())return[N,[]];for(var D=U;re=-1,D=ae(N,M,D),!(!D||(re=J.indexOf(D),re>=0)););return j(N,M,re+1,U,"insert",H)}o(k,"updateListElement");function F(N,M,U,H){var J=te(N,M,H),re=J.first(),D={action:"",type:U,obj:M,key:H,path:T(N,M)};return J.isEmpty()?D.action="remove":(D.action="set",D.value=re.get("value"),re.get("action")==="link"&&(D.link=!0),re.get("datatype")&&(D.datatype=re.get("datatype")),J.size>1&&(D.conflicts=I(J))),[N,[D]]}o(F,"updateMapKey");function $(N,M,U){var H=M.get("obj"),J=N.getIn(["byObject",H,"_init","action"]);if(!N.get("byObject").has(H))throw new Error("Modification of unknown object "+H);if(N.has("undoLocal")&&U){var re=void 0;M.get("action")==="inc"?re=u.of(a({action:"inc",obj:H,key:M.get("key"),value:-M.get("value")})):re=N.getIn(["byObject",H,"_keys",M.get("key")],u()).map(function(Ie){return Ie.filter(function($e,Ot){return["action","obj","key","value","datatype"].includes(Ot)})}),re.isEmpty()&&(re=u.of(a({action:"del",obj:H,key:M.get("key")}))),N=N.update("undoLocal",function(Ie){return Ie.concat(re)})}var D=N.getIn(["byObject",H,"_keys",M.get("key")],u()),K=void 0,X=void 0;if(M.get("action")==="inc")K=u(),X=D.map(function(Ie){return Ie.get("action")==="set"&&typeof Ie.get("value")=="number"&&Ie.get("datatype")==="counter"&&!y(N,Ie,M)?Ie.set("value",Ie.get("value")+M.get("value")):Ie});else{var de=D.groupBy(function(Ie){return!!y(N,Ie,M)});K=de.get(!1,u()),X=de.get(!0,u())}var he=o(function($e){N=N.updateIn(["byObject",$e.get("value"),"_inbound"],function(Ot){return Ot.remove($e)})},"_loop"),ve=!0,Ee=!1,Te=void 0;try{for(var ke=K.filter(function(Ie){return Ie.get("action")==="link"})[Symbol.iterator](),He;!(ve=(He=ke.next()).done);ve=!0){var Je=He.value;he(Je)}}catch(Ie){Ee=!0,Te=Ie}finally{try{!ve&&ke.return&&ke.return()}finally{if(Ee)throw Te}}if(M.get("action")==="link"&&(N=N.updateIn(["byObject",M.get("value"),"_inbound"],l(),function(Ie){return Ie.add(M)})),["set","link"].includes(M.get("action"))&&(X=X.push(M)),X=X.sortBy(function(Ie){return Ie.get("actor")}).reverse(),N=N.setIn(["byObject",H,"_keys",M.get("key")],X),H===m||J==="makeMap")return F(N,H,"map",M.get("key"));if(J==="makeTable")return F(N,H,"table",M.get("key"));if(J==="makeList"||J==="makeText")return k(N,H,M.get("key"));throw new RangeError("Unknown operation type "+J)}o($,"applyAssign");function ne(N){for(var M={},U=[],H=N.length-1;H>=0;H--){var J=N[H],re=J.obj,D=J.action;if(D==="maxElem")(M[re]===void 0||M[re]<J.value)&&(M[re]=J.value,U.push(J));else if(D==="insert"){var K=v(J.elemId).counter;(M[re]===void 0||M[re]<K)&&(M[re]=K),U.push(J)}else U.push(J)}return U.reverse()}o(ne,"simplifyDiffs");function se(N,M){var U=[],H=l(),J=!0,re=!1,D=void 0;try{for(var K=M[Symbol.iterator](),X;!(J=(X=K.next()).done);J=!0){var de=X.value,he=void 0,ve=de.get("action");if(["makeMap","makeList","makeText","makeTable"].includes(ve)){H=H.add(de.get("obj"));var Ee=w(N,de),Te=i(Ee,2);N=Te[0],he=Te[1]}else if(ve==="ins"){var ke=O(N,de),He=i(ke,2);N=He[0],he=He[1]}else if(["set","del","link","inc"].includes(ve)){var Je=$(N,de,!H.contains(de.get("obj"))),Ie=i(Je,2);N=Ie[0],he=Ie[1]}else throw new RangeError("Unknown operation type "+ve);var $e=!0,Ot=!1,ft=void 0;try{for(var Ht=he[Symbol.iterator](),on;!($e=(on=Ht.next()).done);$e=!0){var ze=on.value;U.push(ze)}}catch(pi){Ot=!0,ft=pi}finally{try{!$e&&Ht.return&&Ht.return()}finally{if(Ot)throw ft}}}}catch(pi){re=!0,D=pi}finally{try{!J&&K.return&&K.return()}finally{if(re)throw D}}return[N,ne(U)]}o(se,"applyOps");function pe(N,M){var U=M.get("actor"),H=M.get("seq"),J=N.getIn(["states",U],u());if(H<=J.size){if(!J.get(H-1).get("change").equals(M))throw new Error("Inconsistent reuse of sequence number "+H+" by "+U);return[N,[]]}var re=E(N,M.get("deps").set(U,H-1));N=N.setIn(["states",U],J.push(a({change:M,allDeps:re})));var D=void 0,K=M.get("ops").map(function(ve){return ve.merge({actor:U,seq:H})}),X=se(N,K),de=i(X,2);N=de[0],D=de[1];var he=N.get("deps").filter(function(ve,Ee){return ve>re.get(Ee,0)}).set(U,H);return N=N.set("deps",he).setIn(["clock",U],H).update("history",function(ve){return ve.push(M)}),[N,D]}o(pe,"applyChange");function fe(N){for(var M=u(),U=void 0,H=[];;){var J=!0,re=!1,D=void 0;try{for(var K=N.get("queue")[Symbol.iterator](),X;!(J=(X=K.next()).done);J=!0){var de=X.value;if(S(N,de)){var he=pe(N,de),ve=i(he,2);N=ve[0],U=ve[1];var Ee=!0,Te=!1,ke=void 0;try{for(var He=U[Symbol.iterator](),Je;!(Ee=(Je=He.next()).done);Ee=!0){var Ie=Je.value;H.push(Ie)}}catch($e){Te=!0,ke=$e}finally{try{!Ee&&He.return&&He.return()}finally{if(Te)throw ke}}}else M=M.push(de)}}catch($e){re=!0,D=$e}finally{try{!J&&K.return&&K.return()}finally{if(re)throw D}}if(M.count()===N.get("queue").count())return[N,H];N=N.set("queue",M),M=u()}}o(fe,"applyQueuedOps");function V(N){var M=N.get("undoPos");return N.update("undoStack",function(U){return U.slice(0,M).push(N.get("undoLocal"))}).set("undoPos",M+1).set("redoStack",u()).remove("undoLocal")}o(V,"pushUndoHistory");function R(){return a().set("states",a()).set("history",u()).set("byObject",a().set(m,a().set("_keys",a()))).set("clock",a()).set("deps",a()).set("undoPos",0).set("undoStack",u()).set("redoStack",u()).set("queue",u())}o(R,"init");function P(N,M,U){if(N=N.update("queue",function(D){return D.push(M)}),U){N=N.set("undoLocal",u());var H=void 0,J=fe(N),re=i(J,2);return N=re[0],H=re[1],N=V(N),[N,H]}else return fe(N)}o(P,"addChange");function L(N,M){var U=E(N,M);return N.get("states").map(function(H,J){return H.skip(U.get(J,0))}).valueSeq().flatten(1).map(function(H){return H.get("change")})}o(L,"getMissingChanges");function z(N,M,U){return U=U||0,N.get("states").filter(function(H,J){return J===M}).map(function(H,J){return H.skip(U)}).valueSeq().flatten(1).map(function(H){return H.get("change")})}o(z,"getChangesForActor");function W(N){var M={},U=!0,H=!1,J=void 0;try{for(var re=N.get("queue")[Symbol.iterator](),D;!(U=(D=re.next()).done);U=!0){var K=D.value,X=K.get("deps").set(K.get("actor"),K.get("seq")-1);X.forEach(function(de,he){N.getIn(["clock",he],0)<de&&(M[he]=Math.max(de,M[he]||0))})}}catch(de){H=!0,J=de}finally{try{!U&&re.return&&re.return()}finally{if(H)throw J}}return M}o(W,"getMissingDeps");function te(N,M,U){return N.getIn(["byObject",M,"_keys",U],u())}o(te,"getFieldOps");function ce(N,M,U){if(U!=="_head"){var H=N.getIn(["byObject",M,"_insertion",U]);if(!H)throw new TypeError("Missing index entry for list element "+U);return H.get("key")}}o(ce,"getParent");function ue(N,M){return N.get("elem")<M.get("elem")?-1:N.get("elem")>M.get("elem")?1:N.get("actor")<M.get("actor")?-1:N.get("actor")>M.get("actor")?1:0}o(ue,"lamportCompare");function q(N,M,U,H){var J=null;if(H){var re=v(H);J=a({actor:re.actorId,elem:re.counter})}return N.getIn(["byObject",M,"_following",U],u()).filter(function(D){return D.get("action")==="ins"}).filter(function(D){return!J||ue(D,J)<0}).sort(ue).reverse().map(function(D){return D.get("actor")+":"+D.get("elem")})}o(q,"insertionsAfter");function oe(N,M,U){var H=q(N,M,U);if(!H.isEmpty())return H.first();for(var J=void 0;;){if(J=ce(N,M,U),!J)return;var re=q(N,M,J,U);if(!re.isEmpty())return re.first();U=J}}o(oe,"getNext");function ae(N,M,U){var H=ce(N,M,U),J=q(N,M,H);if(J.first()===U)return H==="_head"?null:H;var re=void 0,D=!0,K=!1,X=void 0;try{for(var de=J[Symbol.iterator](),he;!(D=(he=de.next()).done);D=!0){var ve=he.value;if(ve===U)break;re=ve}}catch(Ee){K=!0,X=Ee}finally{try{!D&&de.return&&de.return()}finally{if(K)throw X}}for(;;){if(J=q(N,M,re),J.isEmpty())return re;re=J.last()}}o(ae,"getPrevious");function le(N,M,U){if((typeof M=="undefined"?"undefined":n(M))!=="object"||M===null)return M;if(M.get("action")==="link")return U.instantiateObject(N,M.get("value"));if(M.get("action")==="set"){var H={value:M.get("value")};return M.get("datatype")&&(H.datatype=M.get("datatype")),H}else throw new TypeError("Unexpected operation action: "+M.get("action"))}o(le,"getOpValue");function Z(N,M,U){return!te(N,M,U).isEmpty()}o(Z,"isFieldPresent");function ee(N,M){return N.getIn(["byObject",M,"_keys"]).keySeq().filter(function(U){return Z(N,M,U)}).toSet()}o(ee,"getObjectFields");function ge(N,M,U,H){var J=te(N,M,U);if(!J.isEmpty())return le(N,J.first(),H)}o(ge,"getObjectField");function be(N,M,U){return N.getIn(["byObject",M,"_keys"]).filter(function(H,J){return te(N,M,J).size>1}).mapEntries(function(H){var J=i(H,2),re=J[0],D=J[1];return[re,D.shift().toMap().mapEntries(function(K){var X=i(K,2),de=X[0],he=X[1];return[he.get("actor"),le(N,he,U)]})]})}o(be,"getObjectConflicts");function _e(N,M,U,H){var J=N.getIn(["byObject",M,"_elemIds"]).keyOf(U);if(J){var re=te(N,M,J);if(!re.isEmpty())return le(N,re.first(),H)}}o(_e,"listElemByIndex");function Se(N,M){return N.getIn(["byObject",M,"_elemIds"]).length}o(Se,"listLength");function xe(N,M,U){var H="_head",J=-1,re=o(function(){for(;H;){if(H=oe(N,M,H),!H)return{done:!0};var X={elemId:H},de=te(N,M,H);return de.isEmpty()||(J+=1,X.index=J,X.value=le(N,de.first(),U),X.conflicts=null,de.size>1&&(X.conflicts=de.shift().toMap().mapEntries(function(he){var ve=i(he,2),Ee=ve[0],Te=ve[1];return[Te.get("actor"),le(N,Te,U)]}))),{done:!1,value:X}}},"next"),D={next:re};return D[Symbol.iterator]=function(){return D},D}o(xe,"listIterator"),e.exports={init:R,addChange:P,getMissingChanges:L,getChangesForActor:z,getMissingDeps:W,getObjectFields:ee,getObjectField:ge,getObjectConflicts:be,getFieldOps:te,listElemByIndex:_e,listLength:Se,listIterator:xe,ROOT_ID:m}},"./backend/skip_list.js":function(e,t,r){"use strict";var n=function(){function m(v,y){for(var S=0;S<y.length;S++){var E=y[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return o(m,"defineProperties"),function(v,y,S){return y&&m(v.prototype,y),S&&m(v,S),v}}();function i(m,v,y){return v in m?Object.defineProperty(m,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[v]=y,m}o(i,"_defineProperty");function s(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var a=r("./node_modules/immutable/dist/immutable.js"),u=a.Map;function l(){return{next:o(function(){for(var v=Math.floor(Math.random()*4294967296),y=1;v<1<<32-2*y&&y<16;)y+=1;return{value:y,done:!1}},"next")}}o(l,"randomLevel");var p=function(){function m(v,y,S,E,T,w,O){s(this,m),this.key=v,this.value=y,this.level=S,this.prevKey=E,this.nextKey=T,this.prevCount=w,this.nextCount=O}return o(m,"Node"),n(m,[{key:"setValue",value:o(function(y){return new m(this.key,y,this.level,this.prevKey,this.nextKey,this.prevCount,this.nextCount)},"setValue")},{key:"insertAfter",value:o(function(y,S,E,T){if(S>this.level&&this.key!==null)throw new RangeError("Cannot increase the level of a non-head node");for(var w=Math.max(this.level,S),O=this.nextKey.slice(),I=this.nextCount.slice(),j=E;j<w;j++)j<S?(O[j]=y,I[j]=T):I[j]+=1;return new m(this.key,this.value,w,this.prevKey,O,this.prevCount,I)},"insertAfter")},{key:"insertBefore",value:o(function(y,S,E,T){if(S>this.level)throw new RangeError("Cannot increase node level");for(var w=this.prevKey.slice(),O=this.prevCount.slice(),I=E;I<this.level;I++)I<S?(w[I]=y,O[I]=T):O[I]+=1;return new m(this.key,this.value,this.level,w,this.nextKey,O,this.nextCount)},"insertBefore")},{key:"removeAfter",value:o(function(y,S,E,T){for(var w=this.nextKey.slice(),O=this.nextCount.slice(),I=y;I<this.level;I++)I<S?(w[I]=E[I],O[I]=T[I]):O[I]-=1;return new m(this.key,this.value,this.level,this.prevKey,w,this.prevCount,O)},"removeAfter")},{key:"removeBefore",value:o(function(y,S,E,T){for(var w=this.prevKey.slice(),O=this.prevCount.slice(),I=y;I<this.level;I++)I<S?(w[I]=E[I],O[I]=T[I]):O[I]-=1;return new m(this.key,this.value,this.level,w,this.nextKey,O,this.nextCount)},"removeBefore")}]),m}(),d=function(){function m(v){s(this,m);var y=new p(null,null,1,[],[null],[],[null]),S=v?v():l();return g(0,u().set(null,y),S)}return o(m,"SkipList"),n(m,[{key:"predecessors",value:o(function(y,S){for(var E=[y],T=[1],w=1;w<S;w++){for(var O=E[w-1],I=T[w-1];O;){var j=this._nodes.get(O);if(j.level>w)break;if(j.level<w)throw new RangeError("Node "+O+" below expected level "+(w-1));I+=j.prevCount[w-1],O=j.prevKey[w-1]}E[w]=O,T[w]=I}return{preKeys:E,preCounts:T}},"predecessors")},{key:"successors",value:o(function(y,S){for(var E=[y],T=[1],w=1;w<S;w++){for(var O=E[w-1],I=T[w-1];O;){var j=this._nodes.get(O);if(j.level>w)break;if(j.level<w)throw new RangeError("Node "+O+" below expected level "+(w-1));I+=j.nextCount[w-1],O=j.nextKey[w-1]}E[w]=O,T[w]=I}return{sucKeys:E,sucCounts:T}},"successors")},{key:"insertAfter",value:o(function(y,S,E){if(typeof S!="string"||S==="")throw new RangeError("Key must be a nonempty string");if(!this._nodes.has(y))throw new RangeError("The referenced predecessor key does not exist");if(this._nodes.has(S))throw new RangeError("Cannot insert a key that already exists");var T=this._randomSource.next().value,w=Math.max(T,this.headNode.level),O=this._nodes.get(y).nextKey[0]||null,I=this.predecessors(y,w),j=I.preKeys,k=I.preCounts,F=this.successors(O,w),$=F.sucKeys,ne=F.sucCounts;return g(this.length+1,this._nodes.withMutations(function(se){for(var pe=0,fe=0,V=o(function(L){var z=Math.min(L,T);(L===w||j[L]!==j[pe])&&(se.update(j[pe],function(W){return W.insertAfter(S,z,pe,k[pe])}),pe=L),$[fe]&&(L===w||$[L]!==$[fe])&&(se.update($[fe],function(W){return W.insertBefore(S,z,fe,ne[fe])}),fe=L)},"_loop"),R=1;R<=w;R++)V(R);se.set(S,new p(S,E,T,j.slice(0,T),$.slice(0,T),k.slice(0,T),ne.slice(0,T)))}),this._randomSource)},"insertAfter")},{key:"insertIndex",value:o(function(y,S,E){if(typeof y!="number"||y<0)throw new RangeError("Index must be a non-negative integer");return y===0?this.insertAfter(null,S,E):this.insertAfter(this.keyOf(y-1),S,E)},"insertIndex")},{key:"removeKey",value:o(function(y){if(typeof y!="string"||!this._nodes.has(y))throw new RangeError("The given key cannot be removed because it does not exist");for(var S=this._nodes.get(y),E=this.headNode.level,T=this.predecessors(S.prevKey[0],E),w=T.preKeys,O=T.preCounts,I=this.successors(S.nextKey[0],E),j=I.sucKeys,k=I.sucCounts,F=new Array(E),$=0;$<E;$++)F[$]=O[$]+k[$]-1;return g(this.length-1,this._nodes.withMutations(function(ne){ne.remove(y);for(var se=0,pe=0,fe=o(function(P){var L=Math.min(P,S.level);(P===E||w[P]!==w[se])&&(ne.update(w[se],function(z){return z.removeAfter(se,L,j,F)}),se=P),j[pe]&&(P===E||j[P]!==j[pe])&&(ne.update(j[pe],function(z){return z.removeBefore(pe,L,w,F)}),pe=P)},"_loop2"),V=1;V<=E;V++)fe(V)}),this._randomSource)},"removeKey")},{key:"removeIndex",value:o(function(y){return this.removeKey(this.keyOf(y))},"removeIndex")},{key:"indexOf",value:o(function(y){if(typeof y!="string"||y===""||!this._nodes.has(y))return-1;for(var S=this._nodes.get(y),E=0;S&&S.key;)E+=S.prevCount[S.level-1],S=this._nodes.get(S.prevKey[S.level-1]);return E-1},"indexOf")},{key:"keyOf",value:o(function(y){if(typeof y!="number"||(y<0&&(y=y+this.length),y<0||y>=this.length))return null;for(var S=this._nodes.get(null),E=S.level-1,T=0;;){if(T===y+1)return S.key;T+S.nextCount[E]>y+1?E-=1:(T+=S.nextCount[E],S=this._nodes.get(S.nextKey[E]))}},"keyOf")},{key:"getValue",value:o(function(y){if(typeof y!="string"||y==="")throw new RangeError("Key must be a nonempty string");var S=this._nodes.get(y);return S&&S.value},"getValue")},{key:"setValue",value:o(function(y,S){if(typeof y!="string"||y==="")throw new RangeError("Key must be a nonempty string");var E=this._nodes.get(y);if(!E)throw new RangeError("The referenced key does not exist");return E=E.setValue(S),g(this.length,this._nodes.set(y,E),this._randomSource)},"setValue")},{key:"iterator",value:o(function(y){var S=this,E=this._nodes,T=E.get(null).nextKey[0];return i({next:o(function(){if(!T)return{value:void 0,done:!0};var O=E.get(T),I=void 0;switch(y){case"keys":I={value:T,done:!1};break;case"values":I={value:O.value,done:!1};break;case"entries":I={value:[T,O.value],done:!1};break}return T=O.nextKey[0],I},"next")},Symbol.iterator,function(){return S.iterator(y)})},"iterator")},{key:Symbol.iterator,value:o(function(){return this.iterator("values")},"value")},{key:"headNode",get:o(function(){return this._nodes.get(null)},"get")}]),m}();function g(m,v,y){var S=Object.create(d.prototype);return S.length=m,S._nodes=v,S._randomSource=y,S}o(g,"makeInstance"),e.exports={SkipList:d}},"./frontend/apply_patch.js":function(e,t,r){"use strict";function n(q){if(Array.isArray(q)){for(var oe=0,ae=Array(q.length);oe<q.length;oe++)ae[oe]=q[oe];return ae}else return Array.from(q)}o(n,"_toConsumableArray");var i=r("./src/common.js"),s=i.ROOT_ID,a=i.isObject,u=i.copyObject,l=i.parseElemId,p=r("./frontend/constants.js"),d=p.OPTIONS,g=p.OBJECT_ID,m=p.CONFLICTS,v=p.ELEM_IDS,y=p.MAX_ELEM,S=r("./frontend/text.js"),E=S.Text,T=S.instantiateText,w=r("./frontend/table.js"),O=w.Table,I=w.instantiateTable,j=r("./frontend/counter.js"),k=j.Counter;function F(q,oe,ae){if(q.link)return ae[q.value]||oe[q.value];if(q.datatype==="timestamp")return new Date(q.value);if(q.datatype==="counter")return new k(q.value);if(q.datatype!==void 0)throw new TypeError("Unknown datatype: "+q.datatype);return q.value}o(F,"getValue");function $(q,oe){var ae={},le=q[m][oe]||{},Z=[q[oe]].concat(Object.values(le)),ee=!0,ge=!1,be=void 0;try{for(var _e=Z[Symbol.iterator](),Se;!(ee=(Se=_e.next()).done);ee=!0){var xe=Se.value;a(xe)&&xe[g]&&(ae[xe[g]]=!0)}}catch(N){ge=!0,be=N}finally{try{!ee&&_e.return&&_e.return()}finally{if(ge)throw be}}return ae}o($,"childReferences");function ne(q,oe,ae,le){var Z=!0,ee=!1,ge=void 0;try{for(var be=Object.keys(oe)[Symbol.iterator](),_e;!(Z=(_e=be.next()).done);Z=!0){var Se=_e.value;ae[Se]||delete le[Se]}}catch(re){ee=!0,ge=re}finally{try{!Z&&be.return&&be.return()}finally{if(ee)throw ge}}var xe=!0,N=!1,M=void 0;try{for(var U=Object.keys(ae)[Symbol.iterator](),H;!(xe=(H=U.next()).done);xe=!0){var J=H.value;if(le[J]&&le[J]!==q)throw new RangeError("Object "+J+" has multiple parents");le[J]||(le[J]=q)}}catch(re){N=!0,M=re}finally{try{!xe&&U.return&&U.return()}finally{if(N)throw M}}}o(ne,"updateInbound");function se(q,oe){if(q&&q[g]!==oe)throw new RangeError("cloneMapObject ID mismatch: "+q[g]+" !== "+oe);var ae=u(q),le=u(q?q[m]:void 0);return Object.defineProperty(ae,m,{value:le}),Object.defineProperty(ae,g,{value:oe}),ae}o(se,"cloneMapObject");function pe(q,oe,ae,le){ae[q.obj]||(ae[q.obj]=se(oe[q.obj],q.obj));var Z=ae[q.obj],ee=Z[m],ge={},be={};if(q.action!=="create")if(q.action==="set"){if(ge=$(Z,q.key),Z[q.key]=F(q,oe,ae),q.conflicts){ee[q.key]={};var _e=!0,Se=!1,xe=void 0;try{for(var N=q.conflicts[Symbol.iterator](),M;!(_e=(M=N.next()).done);_e=!0){var U=M.value;ee[q.key][U.actor]=F(U,oe,ae)}}catch(H){Se=!0,xe=H}finally{try{!_e&&N.return&&N.return()}finally{if(Se)throw xe}}Object.freeze(ee[q.key])}else delete ee[q.key];be=$(Z,q.key)}else if(q.action==="remove")ge=$(Z,q.key),delete Z[q.key],delete ee[q.key];else throw new RangeError("Unknown action type: "+q.action);ne(q.obj,ge,be,le)}o(pe,"updateMapObject");function fe(q,oe,ae){ae[q]||(ae[q]=se(oe[q],q));var le=ae[q],Z=!0,ee=!1,ge=void 0;try{for(var be=Object.keys(le)[Symbol.iterator](),_e;!(Z=(_e=be.next()).done);Z=!0){var Se=_e.value,xe=le[Se];a(xe)&&ae[xe[g]]&&(le[Se]=ae[xe[g]]);var N=le[m][Se]||{},M=null,U=!0,H=!1,J=void 0;try{for(var re=Object.keys(N)[Symbol.iterator](),D;!(U=(D=re.next()).done);U=!0){var K=D.value;xe=N[K],a(xe)&&ae[xe[g]]&&(M||(M=u(N),le[m][Se]=M),M[K]=ae[xe[g]])}}catch(X){H=!0,J=X}finally{try{!U&&re.return&&re.return()}finally{if(H)throw J}}M&&oe[s][d].freeze&&Object.freeze(M)}}catch(X){ee=!0,ge=X}finally{try{!Z&&be.return&&be.return()}finally{if(ee)throw ge}}}o(fe,"parentMapObject");function V(q,oe,ae,le){ae[q.obj]||(ae[q.obj]=oe[q.obj]?oe[q.obj]._clone():I(q.obj));var Z=ae[q.obj],ee={},ge={};if(q.action!=="create")if(q.action==="set"){var be=Z.byId(q.key);a(be)&&(ee[be[g]]=!0),q.link?(Z._set(q.key,ae[q.value]||oe[q.value]),ge[q.value]=!0):Z._set(q.key,q.value)}else if(q.action==="remove"){var _e=Z.byId(q.key);a(_e)&&(ee[_e[g]]=!0),Z.remove(q.key)}else throw new RangeError("Unknown action type: "+q.action);ne(q.obj,ee,ge,le)}o(V,"updateTableObject");function R(q,oe,ae){ae[q]||(ae[q]=oe[q]._clone());var le=ae[q],Z=!0,ee=!1,ge=void 0;try{for(var be=Object.keys(le.entries)[Symbol.iterator](),_e;!(Z=(_e=be.next()).done);Z=!0){var Se=_e.value,xe=le.byId(Se);a(xe)&&ae[xe[g]]&&le._set(Se,ae[xe[g]])}}catch(N){ee=!0,ge=N}finally{try{!Z&&be.return&&be.return()}finally{if(ee)throw ge}}}o(R,"parentTableObject");function P(q,oe){if(q&&q[g]!==oe)throw new RangeError("cloneListObject ID mismatch: "+q[g]+" !== "+oe);var ae=q?q.slice():[],le=q&&q[m]?q[m].slice():[],Z=q&&q[v]?q[v].slice():[],ee=q&&q[y]?q[y]:0;return Object.defineProperty(ae,g,{value:oe}),Object.defineProperty(ae,m,{value:le}),Object.defineProperty(ae,v,{value:Z}),Object.defineProperty(ae,y,{value:ee,writable:!0}),ae}o(P,"cloneListObject");function L(q,oe,ae,le){ae[q.obj]||(ae[q.obj]=P(oe[q.obj],q.obj));var Z=ae[q.obj],ee=Z[m],ge=Z[v],be=null,_e=null;if(["insert","set"].includes(q.action)&&(be=F(q,oe,ae),q.conflicts)){_e={};var Se=!0,xe=!1,N=void 0;try{for(var M=q.conflicts[Symbol.iterator](),U;!(Se=(U=M.next()).done);Se=!0){var H=U.value;_e[H.actor]=F(H,oe,ae)}}catch(D){xe=!0,N=D}finally{try{!Se&&M.return&&M.return()}finally{if(xe)throw N}}Object.freeze(_e)}var J={},re={};if(q.action!=="create")if(q.action==="insert")Z[y]=Math.max(Z[y],l(q.elemId).counter),Z.splice(q.index,0,be),ee.splice(q.index,0,_e),ge.splice(q.index,0,q.elemId),re=$(Z,q.index);else if(q.action==="set")J=$(Z,q.index),Z[q.index]=be,ee[q.index]=_e,re=$(Z,q.index);else if(q.action==="remove")J=$(Z,q.index),Z.splice(q.index,1),ee.splice(q.index,1),ge.splice(q.index,1);else if(q.action==="maxElem")Z[y]=Math.max(Z[y],q.value);else throw new RangeError("Unknown action type: "+q.action);ne(q.obj,J,re,le)}o(L,"updateListObject");function z(q,oe,ae){ae[q]||(ae[q]=P(oe[q],q));for(var le=ae[q],Z=0;Z<le.length;Z++){var ee=le[Z];a(ee)&&ae[ee[g]]&&(le[Z]=ae[ee[g]]);var ge=le[m][Z]||{},be=null,_e=!0,Se=!1,xe=void 0;try{for(var N=Object.keys(ge)[Symbol.iterator](),M;!(_e=(M=N.next()).done);_e=!0){var U=M.value;ee=ge[U],a(ee)&&ae[ee[g]]&&(be||(be=u(ge),le[m][Z]=be),be[U]=ae[ee[g]])}}catch(H){Se=!0,xe=H}finally{try{!_e&&N.return&&N.return()}finally{if(Se)throw xe}}be&&oe[s][d].freeze&&Object.freeze(be)}}o(z,"parentListObject");function W(q,oe,ae,le,Z){var ee=q[oe].obj;if(!Z[ee])if(le[ee]){var ge=le[ee].elems.slice(),be=le[ee][y];Z[ee]=T(ee,ge,be)}else Z[ee]=T(ee,[],0);for(var _e=Z[ee].elems,Se=Z[ee][y],xe=-1,N=void 0,M=void 0;oe<=ae;){var U=q[oe];if(U.action!=="create")if(U.action==="insert"){xe<0&&(xe=U.index,N=0,M=[]),Se=Math.max(Se,l(U.elemId).counter);var H=F(U,le,Z);M.push({elemId:U.elemId,value:H,conflicts:U.conflicts}),(oe===ae||q[oe+1].action!=="insert"||q[oe+1].index!==U.index+1)&&(_e.splice.apply(_e,[xe,N].concat(n(M))),xe=-1)}else if(U.action==="set")_e[U.index]={elemId:_e[U.index].elemId,value:F(U,le,Z),conflicts:U.conflicts};else if(U.action==="remove")xe<0&&(xe=U.index,N=0,M=[]),N+=1,(oe===ae||!["insert","remove"].includes(q[oe+1].action)||q[oe+1].index!==U.index)&&(_e.splice(xe,N),xe=-1);else if(U.action==="maxElem")Se=Math.max(Se,U.value);else throw new RangeError("Unknown action type: "+U.action);oe+=1}Z[ee]=T(ee,_e,Se)}o(W,"updateTextObject");function te(q,oe,ae){for(var le=oe;Object.keys(le).length>0;){var Z={},ee=!0,ge=!1,be=void 0;try{for(var _e=Object.keys(le)[Symbol.iterator](),Se;!(ee=(Se=_e.next()).done);ee=!0){var xe=Se.value,N=ae[xe];N&&(Z[N]=!0)}}catch(K){ge=!0,be=K}finally{try{!ee&&_e.return&&_e.return()}finally{if(ge)throw be}}le=Z;var M=!0,U=!1,H=void 0;try{for(var J=Object.keys(Z)[Symbol.iterator](),re;!(M=(re=J.next()).done);M=!0){var D=re.value;Array.isArray(oe[D]||q[D])?z(D,q,oe):(oe[D]||q[D])instanceof O?R(D,q,oe):fe(D,q,oe)}}catch(K){U=!0,H=K}finally{try{!M&&J.return&&J.return()}finally{if(U)throw H}}}}o(te,"updateParentObjects");function ce(q,oe,ae,le){for(var Z=0,ee=0;ee<q.length;ee++){var ge=q[ee];if(ge.type==="map")pe(ge,oe,ae,le),Z=ee+1;else if(ge.type==="table")V(ge,oe,ae,le),Z=ee+1;else if(ge.type==="list")L(ge,oe,ae,le),Z=ee+1;else if(ge.type==="text")(ee===q.length-1||q[ee+1].obj!==ge.obj)&&(W(q,Z,ee,oe,ae),Z=ee+1);else throw new TypeError("Unknown object type: "+ge.type)}}o(ce,"applyDiffs");function ue(q){if(q[g]!==s)throw new RangeError("Not the root object: "+q[g]);return se(q,s)}o(ue,"cloneRootObject"),e.exports={applyDiffs:ce,updateParentObjects:te,cloneRootObject:ue}},"./frontend/constants.js":function(e,t,r){"use strict";var n=Symbol("_options"),i=Symbol("_cache"),s=Symbol("_inbound"),a=Symbol("_state"),u=Symbol("_objectId"),l=Symbol("_conflicts"),p=Symbol("_change"),d=Symbol("_elemIds"),g=Symbol("_maxElem");e.exports={OPTIONS:n,CACHE:i,INBOUND:s,STATE:a,OBJECT_ID:u,CONFLICTS:l,CHANGE:p,ELEM_IDS:d,MAX_ELEM:g}},"./frontend/context.js":function(e,t,r){"use strict";var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},i=function(){function fe(V,R){for(var P=0;P<R.length;P++){var L=R[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(V,L.key,L)}}return o(fe,"defineProperties"),function(V,R,P){return R&&fe(V.prototype,R),P&&fe(V,P),V}}();function s(fe){if(Array.isArray(fe)){for(var V=0,R=Array(fe.length);V<fe.length;V++)R[V]=fe[V];return R}else return Array.from(fe)}o(s,"_toConsumableArray");function a(fe,V){if(!(fe instanceof V))throw new TypeError("Cannot call a class as a function")}o(a,"_classCallCheck");var u=r("./frontend/constants.js"),l=u.CACHE,p=u.INBOUND,d=u.OBJECT_ID,g=u.CONFLICTS,m=u.MAX_ELEM,v=r("./frontend/apply_patch.js"),y=v.applyDiffs,S=r("./frontend/text.js"),E=S.Text,T=S.getElemId,w=r("./frontend/table.js"),O=w.Table,I=r("./frontend/counter.js"),j=I.Counter,k=I.getWriteableCounter,F=r("./src/common.js"),$=F.isObject,ne=F.copyObject,se=r("./src/uuid.js"),pe=function(){function fe(V,R){a(this,fe),this.actorId=R,this.cache=V[l],this.updated={},this.inbound=ne(V[p]),this.ops=[],this.diffs=[]}return o(fe,"Context"),i(fe,[{key:"addOp",value:o(function(R){this.ops.push(R)},"addOp")},{key:"apply",value:o(function(R){this.diffs.push(R),y([R],this.cache,this.updated,this.inbound)},"apply")},{key:"getObject",value:o(function(R){var P=this.updated[R]||this.cache[R];if(!P)throw new RangeError("Target object does not exist: "+R);return P},"getObject")},{key:"getObjectField",value:o(function(R,P){if(!!["string","number"].includes(typeof P=="undefined"?"undefined":n(P))){var L=this.getObject(R);return L[P]instanceof j?k(L[P].value,this,R,P):$(L[P])?this.instantiateObject(L[P][d]):L[P]}},"getObjectField")},{key:"createNestedObjects",value:o(function(R){if(typeof R[d]=="string")throw new TypeError("Cannot assign an object that already belongs to an Automerge document. See https://github.com/automerge/automerge#making-fine-grained-changes");var P=se();if(R instanceof E){this.apply({action:"create",type:"text",obj:P}),this.addOp({action:"makeText",obj:P}),R.length>0&&this.splice(P,0,0,[].concat(s(R)));var L=this.getObject(P);R[d]=P,R.elems=L.elems,R[m]=L.maxElem,R.context=this}else if(R instanceof O){if(R.count>0)throw new RangeError("Assigning a non-empty Table object is not supported");this.apply({action:"create",type:"table",obj:P}),this.addOp({action:"makeTable",obj:P})}else if(Array.isArray(R))this.apply({action:"create",type:"list",obj:P}),this.addOp({action:"makeList",obj:P}),this.splice(P,0,0,R);else{this.apply({action:"create",type:"map",obj:P}),this.addOp({action:"makeMap",obj:P});var z=!0,W=!1,te=void 0;try{for(var ce=Object.keys(R)[Symbol.iterator](),ue;!(z=(ue=ce.next()).done);z=!0){var q=ue.value;this.setMapKey(P,"map",q,R[q])}}catch(oe){W=!0,te=oe}finally{try{!z&&ce.return&&ce.return()}finally{if(W)throw te}}}return P},"createNestedObjects")},{key:"setValue",value:o(function(R,P,L){if(!["object","boolean","number","string"].includes(typeof L=="undefined"?"undefined":n(L)))throw new TypeError("Unsupported type of value: "+(typeof L=="undefined"?"undefined":n(L)));if($(L))if(L instanceof Date){var z=L.getTime();return this.addOp({action:"set",obj:R,key:P,value:z,datatype:"timestamp"}),{value:z,datatype:"timestamp"}}else{if(L instanceof j)return this.addOp({action:"set",obj:R,key:P,value:L.value,datatype:"counter"}),{value:L.value,datatype:"counter"};var W=this.createNestedObjects(L);return this.addOp({action:"link",obj:R,key:P,value:W}),{value:W,link:!0}}else return this.addOp({action:"set",obj:R,key:P,value:L}),{value:L}},"setValue")},{key:"setMapKey",value:o(function(R,P,L,z){if(typeof L!="string")throw new RangeError("The key of a map entry must be a string, not "+(typeof L=="undefined"?"undefined":n(L)));if(L==="")throw new RangeError("The key of a map entry must not be an empty string");var W=this.getObject(R);if(W[L]instanceof j)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");if(W[L]!==z||W[g][L]||z===void 0){var te=this.setValue(R,L,z);this.apply(Object.assign({action:"set",type:P,obj:R,key:L},te))}},"setMapKey")},{key:"deleteMapKey",value:o(function(R,P){var L=this.getObject(R);L[P]!==void 0&&(this.apply({action:"remove",type:"map",obj:R,key:P}),this.addOp({action:"del",obj:R,key:P}))},"deleteMapKey")},{key:"insertListItem",value:o(function(R,P,L){var z=this.getObject(R);if(P<0||P>z.length)throw new RangeError("List index "+P+" is out of bounds for list of length "+z.length);var W=z[m]+1,te=z instanceof E?"text":"list",ce=P===0?"_head":T(z,P-1),ue=this.actorId+":"+W;this.addOp({action:"ins",obj:R,key:ce,elem:W});var q=this.setValue(R,ue,L);this.apply(Object.assign({action:"insert",type:te,obj:R,index:P,elemId:ue},q)),this.getObject(R)[m]=W},"insertListItem")},{key:"setListIndex",value:o(function(R,P,L){var z=this.getObject(R);if(P===z.length){this.insertListItem(R,P,L);return}if(P<0||P>z.length)throw new RangeError("List index "+P+" is out of bounds for list of length "+z.length);if(z[P]instanceof j)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");if(z[P]!==L||z[g][P]||L===void 0){var W=T(z,P),te=z instanceof E?"text":"list",ce=this.setValue(R,W,L);this.apply(Object.assign({action:"set",type:te,obj:R,index:P},ce))}},"setListIndex")},{key:"splice",value:o(function(R,P,L,z){var W=this.getObject(R),te=W instanceof E?"text":"list";if(L>0){if(P<0||P>W.length-L)throw new RangeError(L+" deletions starting at index "+P+" are out of bounds for list of length "+W.length);for(var ce=0;ce<L;ce++)this.addOp({action:"del",obj:R,key:T(W,P)}),this.apply({action:"remove",type:te,obj:R,index:P}),ce===0&&(W=this.getObject(R))}for(var ue=0;ue<z.length;ue++)this.insertListItem(R,P+ue,z[ue])},"splice")},{key:"addTableRow",value:o(function(R,P){if(!$(P)||Array.isArray(P))throw new TypeError("A table row must be an object");if(P[d])throw new TypeError("Cannot reuse an existing object as table row");if(P.id)throw new TypeError('A table row must not have an "id" property; it is generated automatically');var L=this.createNestedObjects(P);return this.apply({action:"set",type:"table",obj:R,key:L,value:L,link:!0}),this.addOp({action:"link",obj:R,key:L,value:L}),L},"addTableRow")},{key:"deleteTableRow",value:o(function(R,P){this.apply({action:"remove",type:"table",obj:R,key:P}),this.addOp({action:"del",obj:R,key:P})},"deleteTableRow")},{key:"increment",value:o(function(R,P,L){var z=this.getObject(R);if(!(z[P]instanceof j))throw new TypeError("Only counter values can be incremented");var W=z[P].value+L;if(Array.isArray(z)||z instanceof E){var te=T(z,P),ce=z instanceof E?"text":"list";this.addOp({action:"inc",obj:R,key:te,value:L}),this.apply({action:"set",obj:R,type:ce,index:P,value:W,datatype:"counter"})}else this.addOp({action:"inc",obj:R,key:P,value:L}),this.apply({action:"set",obj:R,type:"map",key:P,value:W,datatype:"counter"})},"increment")}]),fe}();e.exports={Context:pe}},"./frontend/counter.js":function(e,t,r){"use strict";var n=function(){function d(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return o(d,"defineProperties"),function(g,m,v){return m&&d(g.prototype,m),v&&d(g,v),g}}();function i(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}o(i,"_possibleConstructorReturn");function s(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}o(s,"_inherits");function a(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}o(a,"_classCallCheck");var u=function(){function d(g){a(this,d),this.value=g||0,Object.freeze(this)}return o(d,"Counter"),n(d,[{key:"valueOf",value:o(function(){return this.value},"valueOf")},{key:"toString",value:o(function(){return this.valueOf().toString()},"toString")},{key:"toJSON",value:o(function(){return this.value},"toJSON")}]),d}(),l=function(d){s(g,d);function g(){return a(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,"WriteableCounter"),n(g,[{key:"increment",value:o(function(v){return v=typeof v=="number"?v:1,this.context.increment(this.objectId,this.key,v),this.value+=v,this.value},"increment")},{key:"decrement",value:o(function(v){return this.increment(typeof v=="number"?-v:-1)},"decrement")}]),g}(u);function p(d,g,m,v){var y=Object.create(l.prototype);return y.value=d,y.context=g,y.objectId=m,y.key=v,y}o(p,"getWriteableCounter"),e.exports={Counter:u,getWriteableCounter:p}},"./frontend/index.js":function(e,t,r){"use strict";var n=function(){function D(K,X){var de=[],he=!0,ve=!1,Ee=void 0;try{for(var Te=K[Symbol.iterator](),ke;!(he=(ke=Te.next()).done)&&(de.push(ke.value),!(X&&de.length===X));he=!0);}catch(He){ve=!0,Ee=He}finally{try{!he&&Te.return&&Te.return()}finally{if(ve)throw Ee}}return de}return o(D,"sliceIterator"),function(K,X){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return D(K,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(D,K,X){return K in D?Object.defineProperty(D,K,{value:X,enumerable:!0,configurable:!0,writable:!0}):D[K]=X,D}o(i,"_defineProperty");var s=r("./frontend/constants.js"),a=s.OPTIONS,u=s.CACHE,l=s.INBOUND,p=s.STATE,d=s.OBJECT_ID,g=s.CONFLICTS,m=s.CHANGE,v=s.ELEM_IDS,y=r("./src/common.js"),S=y.ROOT_ID,E=y.isObject,T=y.copyObject,w=r("./src/uuid.js"),O=r("./frontend/apply_patch.js"),I=O.applyDiffs,j=O.updateParentObjects,k=O.cloneRootObject,F=r("./frontend/proxies.js"),$=F.rootObjectProxy,ne=r("./frontend/context.js"),se=ne.Context,pe=r("./frontend/text.js"),fe=pe.Text,V=r("./frontend/table.js"),R=V.Table,P=r("./frontend/counter.js"),L=P.Counter;function z(D,K,X,de){var he=K[S];if(he||(he=k(D[u][S]),K[S]=he),Object.defineProperty(he,a,{value:D[a]}),Object.defineProperty(he,u,{value:K}),Object.defineProperty(he,l,{value:X}),Object.defineProperty(he,p,{value:de}),D[a].freeze){var ve=!0,Ee=!1,Te=void 0;try{for(var ke=Object.keys(K)[Symbol.iterator](),He;!(ve=(He=ke.next()).done);ve=!0){var Je=He.value;K[Je]instanceof R?K[Je]._freeze():(Object.freeze(K[Je]),Object.freeze(K[Je][g]))}}catch(ze){Ee=!0,Te=ze}finally{try{!ve&&ke.return&&ke.return()}finally{if(Ee)throw Te}}}var Ie=!0,$e=!1,Ot=void 0;try{for(var ft=Object.keys(D[u])[Symbol.iterator](),Ht;!(Ie=(Ht=ft.next()).done);Ie=!0){var on=Ht.value;K[on]||(K[on]=D[u][on])}}catch(ze){$e=!0,Ot=ze}finally{try{!Ie&&ft.return&&ft.return()}finally{if($e)throw Ot}}return D[a].freeze&&(Object.freeze(K),Object.freeze(X)),he}o(z,"updateRootObject");function W(D){for(var K={},X=[],de=D.length-1;de>=0;de--){var he=D[de],ve=he.obj,Ee=he.key,Te=he.action;["set","del","link","inc"].includes(Te)?K[ve]?K[ve][Ee]?K[ve][Ee].action==="inc"&&["set","inc"].includes(Te)&&(K[ve][Ee].action=Te,K[ve][Ee].value+=he.value):(K[ve][Ee]=he,X.push(he)):(K[ve]=i({},Ee,he),X.push(he)):X.push(he)}return X.reverse()}o(W,"ensureSingleAssignment");function te(D,K,X,de){var he=M(D);if(!he)throw new Error("Actor ID must be initialized with setActorId() before making a change");var ve=T(D[p]);ve.seq+=1;var Ee=T(ve.deps);delete Ee[he];var Te={requestType:K,actor:he,seq:ve.seq,deps:Ee};if(de&&de.message!==void 0&&(Te.message=de.message),de&&de.undoable===!1&&(Te.undoable=!1),X&&(Te.ops=W(X.ops)),D[a].backend){var ke=D[a].backend.applyLocalChange(ve.backendState,Te),He=n(ke,2),Je=He[0],Ie=He[1];return ve.backendState=Je,ve.requests=[],[ce(D,Ie,ve,!0),Te]}else{X||(X=new se(D,he));var $e=T(Te);return $e.before=D,$e.diffs=X.diffs,ve.requests=ve.requests.slice(),ve.requests.push($e),[z(D,X.updated,X.inbound,ve),Te]}}o(te,"makeChange");function ce(D,K,X,de){var he=M(D),ve=T(D[l]),Ee={};if(I(K.diffs,D[u],Ee,ve),j(D[u],Ee,ve),de){var Te=K.clock?K.clock[he]:void 0;Te&&Te>X.seq&&(X.seq=Te),X.deps=K.deps,X.canUndo=K.canUndo,X.canRedo=K.canRedo}return z(D,Ee,ve,X)}o(ce,"applyPatchToDoc");function ue(D,K){var X=[],de=!0,he=!1,ve=void 0;try{e:for(var Ee=D.diffs[Symbol.iterator](),Te;!(de=(Te=Ee.next()).done);de=!0){var ke=Te.value;ke=T(ke);var He=!0,Je=!1,Ie=void 0;try{for(var $e=K.diffs[Symbol.iterator](),Ot;!(He=(Ot=$e.next()).done);He=!0){var ft=Ot.value;if(ke.obj===ft.obj&&ke.type==="list"&&["insert","set","remove"].includes(ke.action)&&(ft.action==="insert"&&ft.index<=ke.index&&(ke.index+=1),ft.action==="remove"&&ft.index<ke.index&&(ke.index-=1),ft.action==="remove"&&ft.index===ke.index&&(ke.action==="set"&&(ke.action="insert"),ke.action==="remove")))continue e}}catch(Ht){Je=!0,Ie=Ht}finally{try{!He&&$e.return&&$e.return()}finally{if(Je)throw Ie}}X.push(ke)}}catch(Ht){he=!0,ve=Ht}finally{try{!de&&Ee.return&&Ee.return()}finally{if(he)throw ve}}D.diffs=X}o(ue,"transformRequest");function q(D){if(typeof D=="string")D={actorId:D};else if(typeof D=="undefined")D={};else if(!E(D))throw new TypeError("Unsupported value for init() options: "+D);D.actorId===void 0&&!D.deferActorId&&(D.actorId=w());var K={},X=i({},S,K),de={seq:0,requests:[],deps:{},canUndo:!1,canRedo:!1};return D.backend&&(de.backendState=D.backend.init()),Object.defineProperty(K,d,{value:S}),Object.defineProperty(K,a,{value:Object.freeze(D)}),Object.defineProperty(K,g,{value:Object.freeze({})}),Object.defineProperty(K,u,{value:Object.freeze(X)}),Object.defineProperty(K,l,{value:Object.freeze({})}),Object.defineProperty(K,p,{value:Object.freeze(de)}),Object.freeze(K)}o(q,"init");function oe(D,K){return ae(q(K),"Initialization",function(X){return Object.assign(X,D)})}o(oe,"from");function ae(D,K,X){if(D[d]!==S)throw new TypeError("The first argument to Automerge.change must be the document root");if(D[m])throw new TypeError("Calls to Automerge.change cannot be nested");if(typeof K=="function"&&X===void 0){var de=[X,K];K=de[0],X=de[1]}if(typeof K=="string"&&(K={message:K}),K!==void 0&&!E(K))throw new TypeError("Unsupported type of options");var he=M(D);if(!he)throw new Error("Actor ID must be initialized with setActorId() before making a change");var ve=new se(D,he);return X($(ve)),Object.keys(ve.updated).length===0?[D,null]:(j(D[u],ve.updated,ve.inbound),te(D,"change",ve,K))}o(ae,"change");function le(D,K){if(typeof K=="string"&&(K={message:K}),K!==void 0&&!E(K))throw new TypeError("Unsupported type of options");var X=M(D);if(!X)throw new Error("Actor ID must be initialized with setActorId() before making a change");return te(D,"change",new se(D,X),K)}o(le,"emptyChange");function Z(D,K){var X=T(D[p]),de=void 0;if(X.requests.length>0)if(de=X.requests[0].before,K.actor===M(D)&&K.seq!==void 0){if(X.requests[0].seq!==K.seq)throw new RangeError("Mismatched sequence number: patch "+K.seq+" does not match next request "+X.requests[0].seq);X.requests=X.requests.slice(1).map(T)}else X.requests=X.requests.slice().map(T);else de=D,X.requests=[];if(D[a].backend){if(!K.state)throw new RangeError("When an immediate backend is used, a patch must contain the new backend state");return X.backendState=K.state,X.requests=[],ce(D,K,X,!0)}var he=ce(de,K,X,!0),ve=!0,Ee=!1,Te=void 0;try{for(var ke=X.requests[Symbol.iterator](),He;!(ve=(He=ke.next()).done);ve=!0){var Je=He.value;Je.before=he,ue(Je,K),he=ce(Je.before,Je,X,!1)}}catch(Ie){Ee=!0,Te=Ie}finally{try{!ve&&ke.return&&ke.return()}finally{if(Ee)throw Te}}return he}o(Z,"applyPatch");function ee(D){return!!D[p].canUndo&&!ge(D)}o(ee,"canUndo");function ge(D){return D[p].requests.some(function(K){return["undo","redo"].includes(K.requestType)})}o(ge,"isUndoRedoInFlight");function be(D,K){if(typeof K=="string"&&(K={message:K}),K!==void 0&&!E(K))throw new TypeError("Unsupported type of options");if(!D[p].canUndo)throw new Error("Cannot undo: there is nothing to be undone");if(ge(D))throw new Error("Can only have one undo in flight at any one time");return te(D,"undo",null,K)}o(be,"undo");function _e(D){return!!D[p].canRedo&&!ge(D)}o(_e,"canRedo");function Se(D,K){if(typeof K=="string"&&(K={message:K}),K!==void 0&&!E(K))throw new TypeError("Unsupported type of options");if(!D[p].canRedo)throw new Error("Cannot redo: there is no prior undo");if(ge(D))throw new Error("Can only have one redo in flight at any one time");return te(D,"redo",null,K)}o(Se,"redo");function xe(D){return D[d]}o(xe,"getObjectId");function N(D,K){var X=D[m];return X?X.instantiateObject(K):D[u][K]}o(N,"getObjectById");function M(D){return D[p].actorId||D[a].actorId}o(M,"getActorId");function U(D,K){var X=Object.assign({},D[p],{actorId:K});return z(D,{},D[l],X)}o(U,"setActorId");function H(D,K){return D[g][K]}o(H,"getConflicts");function J(D){return D[p].backendState}o(J,"getBackendState");function re(D){return D[v]}o(re,"getElementIds"),e.exports={init:q,from:oe,change:ae,emptyChange:le,applyPatch:Z,canUndo:ee,undo:be,canRedo:_e,redo:Se,getObjectId:xe,getObjectById:N,getActorId:M,setActorId:U,getConflicts:H,getBackendState:J,getElementIds:re,Text:fe,Table:R,Counter:L}},"./frontend/proxies.js":function(e,t,r){"use strict";var n=function(){function k(F,$){var ne=[],se=!0,pe=!1,fe=void 0;try{for(var V=F[Symbol.iterator](),R;!(se=(R=V.next()).done)&&(ne.push(R.value),!($&&ne.length===$));se=!0);}catch(P){pe=!0,fe=P}finally{try{!se&&V.return&&V.return()}finally{if(pe)throw fe}}return ne}return o(k,"sliceIterator"),function(F,$){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return k(F,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=r("./src/common.js"),s=i.ROOT_ID,a=r("./frontend/constants.js"),u=a.OBJECT_ID,l=a.CHANGE,p=a.STATE,d=r("./frontend/text.js"),g=d.Text,m=r("./frontend/table.js"),v=m.Table;function y(k){if(typeof k=="string"&&/^[0-9]+$/.test(k)&&(k=parseInt(k)),typeof k!="number")throw new TypeError("A list index must be a number, but you passed "+JSON.stringify(k));if(k<0||isNaN(k)||k===Infinity||k===-Infinity)throw new RangeError("A list index must be positive, but you passed "+k);return k}o(y,"parseListIndex");function S(k,F){for(var $={deleteAt:o(function(W,te){return k.splice(F,y(W),te||1,[]),this},"deleteAt"),fill:o(function(W,te,ce){for(var ue=k.getObject(F),q=y(te||0);q<y(ce||ue.length);q++)k.setListIndex(F,q,W);return this},"fill"),indexOf:o(function(W){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ce=W[u];if(ce){for(var ue=k.getObject(F),q=te;q<ue.length;q++)if(ue[q][u]===ce)return q;return-1}else return k.getObject(F).indexOf(W,te)},"indexOf"),insertAt:o(function(W){for(var te=arguments.length,ce=Array(te>1?te-1:0),ue=1;ue<te;ue++)ce[ue-1]=arguments[ue];return k.splice(F,y(W),0,ce),this},"insertAt"),pop:o(function(){var W=k.getObject(F);if(W.length!=0){var te=k.getObjectField(F,W.length-1);return k.splice(F,W.length-1,1,[]),te}},"pop"),push:o(function(){for(var W=k.getObject(F),te=arguments.length,ce=Array(te),ue=0;ue<te;ue++)ce[ue]=arguments[ue];return k.splice(F,W.length,0,ce),k.getObject(F).length},"push"),shift:o(function(){var W=k.getObject(F);if(W.length!=0){var te=k.getObjectField(F,0);return k.splice(F,0,1,[]),te}},"shift"),splice:o(function(W,te){var ce=k.getObject(F);W=y(W),(te===void 0||te>ce.length-W)&&(te=ce.length-W);for(var ue=[],q=0;q<te;q++)ue.push(k.getObjectField(F,W+q));for(var oe=arguments.length,ae=Array(oe>2?oe-2:0),le=2;le<oe;le++)ae[le-2]=arguments[le];return k.splice(F,W,te,ae),ue},"splice"),unshift:o(function(){for(var W=arguments.length,te=Array(W),ce=0;ce<W;ce++)te[ce]=arguments[ce];return k.splice(F,0,0,te),k.getObject(F).length},"unshift")},ne=o(function(W){var te=k.getObject(F);$[W]=function(){return te[W]()}},"_loop"),se=["entries","keys","values"],pe=0;pe<se.length;pe++){var fe=se[pe];ne(fe)}for(var V=o(function(W){$[W]=function(){for(var te,ce=arguments.length,ue=Array(ce),q=0;q<ce;q++)ue[q]=arguments[q];var oe=k.getObject(F).map(function(ae,le){return k.getObjectField(F,le)});return(te=oe[W]).call.apply(te,[oe].concat(ue))}},"_loop2"),R=["concat","every","filter","find","findIndex","forEach","includes","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"],P=0;P<R.length;P++){var L=R[P];V(L)}return $}o(S,"listMethods");var E={get:o(function(F,$){var ne=F.context,se=F.objectId;return $===u?se:$===l?ne:$===p?{actorId:ne.actorId}:ne.getObjectField(se,$)},"get"),set:o(function(F,$,ne){var se=F.context,pe=F.objectId,fe=F.readonly;if(Array.isArray(fe)&&fe.indexOf($)>=0)throw new RangeError('Object property "'+$+'" cannot be modified');return se.setMapKey(pe,"map",$,ne),!0},"set"),deleteProperty:o(function(F,$){var ne=F.context,se=F.objectId,pe=F.readonly;if(Array.isArray(pe)&&pe.indexOf($)>=0)throw new RangeError('Object property "'+$+'" cannot be modified');return ne.deleteMapKey(se,$),!0},"deleteProperty"),has:o(function(F,$){var ne=F.context,se=F.objectId;return[u,l].includes($)||$ in ne.getObject(se)},"has"),getOwnPropertyDescriptor:o(function(F,$){var ne=F.context,se=F.objectId,pe=ne.getObject(se);if($ in pe)return{configurable:!0,enumerable:!0,value:ne.getObjectField(se,$)}},"getOwnPropertyDescriptor"),ownKeys:o(function(F){var $=F.context,ne=F.objectId;return Object.keys($.getObject(ne))},"ownKeys")},T={get:o(function(F,$){var ne=n(F,2),se=ne[0],pe=ne[1];return $===Symbol.iterator?se.getObject(pe)[Symbol.iterator]:$===u?pe:$===l?se:$==="length"?se.getObject(pe).length:typeof $=="string"&&/^[0-9]+$/.test($)?se.getObjectField(pe,y($)):S(se,pe)[$]},"get"),set:o(function(F,$,ne){var se=n(F,2),pe=se[0],fe=se[1];return pe.setListIndex(fe,y($),ne),!0},"set"),deleteProperty:o(function(F,$){var ne=n(F,2),se=ne[0],pe=ne[1];return se.splice(pe,y($),1,[]),!0},"deleteProperty"),has:o(function(F,$){var ne=n(F,2),se=ne[0],pe=ne[1];return typeof $=="string"&&/^[0-9]+$/.test($)?y($)<se.getObject(pe).length:["length",u,l].includes($)},"has"),getOwnPropertyDescriptor:o(function(F,$){var ne=n(F,2),se=ne[0],pe=ne[1],fe=se.getObject(pe);if($==="length")return{writable:!0,value:fe.length};if($===u)return{configurable:!1,enumerable:!1,value:pe};if(typeof $=="string"&&/^[0-9]+$/.test($)){var V=y($);if(V<fe.length)return{configurable:!0,enumerable:!0,value:se.getObjectField(pe,V)}}},"getOwnPropertyDescriptor"),ownKeys:o(function(F){var $=n(F,2),ne=$[0],se=$[1],pe=ne.getObject(se),fe=["length"],V=!0,R=!1,P=void 0;try{for(var L=Object.keys(pe)[Symbol.iterator](),z;!(V=(z=L.next()).done);V=!0){var W=z.value;fe.push(W)}}catch(te){R=!0,P=te}finally{try{!V&&L.return&&L.return()}finally{if(R)throw P}}return fe},"ownKeys")};function w(k,F,$){return new Proxy({context:k,objectId:F,readonly:$},E)}o(w,"mapProxy");function O(k,F){return new Proxy([k,F],T)}o(O,"listProxy");function I(k,F){var $=this.getObject(k);return Array.isArray($)?O(this,k):$ instanceof g||$ instanceof v?$.getWriteable(this):w(this,k,F)}o(I,"instantiateProxy");function j(k){return k.instantiateObject=I,w(k,s)}o(j,"rootObjectProxy"),e.exports={rootObjectProxy:j}},"./frontend/table.js":function(e,t,r){"use strict";var n=function(){function T(w,O){for(var I=0;I<O.length;I++){var j=O[I];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return o(T,"defineProperties"),function(w,O,I){return O&&T(w.prototype,O),I&&T(w,I),w}}();function i(T,w){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:T}o(i,"_possibleConstructorReturn");function s(T,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);T.prototype=Object.create(w&&w.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(T,w):T.__proto__=w)}o(s,"_inherits");function a(T,w){if(!(T instanceof w))throw new TypeError("Cannot call a class as a function")}o(a,"_classCallCheck");var u=r("./frontend/constants.js"),l=u.OBJECT_ID,p=u.CONFLICTS,d=r("./src/common.js"),g=d.isObject,m=d.copyObject;function v(T,w,O){var I=!0,j=!1,k=void 0;try{for(var F=T[Symbol.iterator](),$;!(I=($=F.next()).done);I=!0){var ne=$.value;if(w[ne]!==O[ne]){if(typeof w[ne]=="number"&&typeof O[ne]=="number")return w[ne]-O[ne];var se=""+w[ne],pe=""+O[ne];if(se===pe)continue;return se<pe?-1:1}}}catch(fe){j=!0,k=fe}finally{try{!I&&F.return&&F.return()}finally{if(j)throw k}}return 0}o(v,"compareRows");var y=function(){function T(){a(this,T),this.entries=Object.freeze({}),Object.freeze(this)}return o(T,"Table"),n(T,[{key:"byId",value:o(function(O){return this.entries[O]},"byId")},{key:"filter",value:o(function(O,I){return this.rows.filter(O,I)},"filter")},{key:"find",value:o(function(O,I){return this.rows.find(O,I)},"find")},{key:"map",value:o(function(O,I){return this.rows.map(O,I)},"map")},{key:"sort",value:o(function(O){if(typeof O=="function")return this.rows.sort(O);if(typeof O=="string")return this.rows.sort(function(I,j){return v([O],I,j)});if(Array.isArray(O))return this.rows.sort(function(I,j){return v(O,I,j)});if(O===void 0)return this.rows.sort(function(I,j){return v(["id"],I,j)});throw new TypeError("Unsupported sorting argument: "+O)},"sort")},{key:Symbol.iterator,value:o(function(){var O=this.rows,I=-1;return{next:o(function(){return I+=1,I<O.length?{done:!1,value:O[I]}:{done:!0}},"next")}},"value")},{key:"_clone",value:o(function(){if(!this[l])throw new RangeError("clone() requires the objectId to be set");return E(this[l],m(this.entries))},"_clone")},{key:"_set",value:o(function(O,I){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");g(I)&&!Array.isArray(I)&&Object.defineProperty(I,"id",{value:O,enumerable:!0}),this.entries[O]=I},"_set")},{key:"remove",value:o(function(O){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");delete this.entries[O]},"remove")},{key:"_freeze",value:o(function(){Object.freeze(this.entries),Object.freeze(this)},"_freeze")},{key:"getWriteable",value:o(function(O){if(!this[l])throw new RangeError("getWriteable() requires the objectId to be set");var I=Object.create(S.prototype);return I[l]=this[l],I.context=O,I.entries=this.entries,I},"getWriteable")},{key:"toJSON",value:o(function(){var O={},I=!0,j=!1,k=void 0;try{for(var F=this.ids[Symbol.iterator](),$;!(I=($=F.next()).done);I=!0){var ne=$.value;O[ne]=this.byId(ne)}}catch(se){j=!0,k=se}finally{try{!I&&F.return&&F.return()}finally{if(j)throw k}}return O},"toJSON")},{key:"ids",get:o(function(){var O=this;return Object.keys(this.entries).filter(function(I){var j=O.entries[I];return g(j)&&j.id===I})},"get")},{key:"count",get:o(function(){return this.ids.length},"get")},{key:"rows",get:o(function(){var O=this;return this.ids.map(function(I){return O.byId(I)})},"get")}]),T}(),S=function(T){s(w,T);function w(){return a(this,w),i(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,"WriteableTable"),n(w,[{key:"byId",value:o(function(I){if(g(this.entries[I])&&this.entries[I].id===I)return this.context.instantiateObject(I,["id"])},"byId")},{key:"add",value:o(function(I){return this.context.addTableRow(this[l],I)},"add")},{key:"remove",value:o(function(I){if(g(this.entries[I])&&this.entries[I].id===I)this.context.deleteTableRow(this[l],I);else throw new RangeError("There is no row with ID "+I+" in this table")},"remove")}]),w}(y);function E(T,w){var O=Object.create(y.prototype);return O[l]=T,O[p]=Object.freeze({}),O.entries=w||{},O}o(E,"instantiateTable"),e.exports={Table:y,instantiateTable:E}},"./frontend/text.js":function(e,t,r){"use strict";var n=function(){function T(w,O){for(var I=0;I<O.length;I++){var j=O[I];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return o(T,"defineProperties"),function(w,O,I){return O&&T(w.prototype,O),I&&T(w,I),w}}();function i(T){if(Array.isArray(T)){for(var w=0,O=Array(T.length);w<T.length;w++)O[w]=T[w];return O}else return Array.from(T)}o(i,"_toConsumableArray");function s(T,w){if(!(T instanceof w))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");for(var a=r("./frontend/constants.js"),u=a.OBJECT_ID,l=a.ELEM_IDS,p=a.MAX_ELEM,d=function(){function T(w){if(s(this,T),typeof w=="string"){var O=w.split("").map(function(j){return{value:j}});return S(void 0,O,void 0)}else if(Array.isArray(w)){var I=w.map(function(j){return{value:j}});return S(void 0,I,void 0)}else{if(w===void 0)return S(void 0,[],0);throw new TypeError("Unsupported initial value for Text: "+w)}}return o(T,"Text"),n(T,[{key:"get",value:o(function(O){return this.elems[O].value},"get")},{key:"getElemId",value:o(function(O){return this.elems[O].elemId},"getElemId")},{key:Symbol.iterator,value:o(function(){var O=this.elems,I=-1;return{next:o(function(){return I+=1,I<O.length?{done:!1,value:O[I].value}:{done:!0}},"next")}},"value")},{key:"toString",value:o(function(){var O="",I=!0,j=!1,k=void 0;try{for(var F=this.elems[Symbol.iterator](),$;!(I=($=F.next()).done);I=!0){var ne=$.value;typeof ne.value=="string"&&(O+=ne.value)}}catch(se){j=!0,k=se}finally{try{!I&&F.return&&F.return()}finally{if(j)throw k}}return O},"toString")},{key:"toSpans",value:o(function(){var O=[],I="",j=!0,k=!1,F=void 0;try{for(var $=this.elems[Symbol.iterator](),ne;!(j=(ne=$.next()).done);j=!0){var se=ne.value;typeof se.value=="string"?I+=se.value:(I.length>0&&(O.push(I),I=""),O.push(se.value))}}catch(pe){k=!0,F=pe}finally{try{!j&&$.return&&$.return()}finally{if(k)throw F}}return I.length>0&&O.push(I),O},"toSpans")},{key:"toJSON",value:o(function(){return this.toString()},"toJSON")},{key:"getWriteable",value:o(function(O){if(!this[u])throw new RangeError("getWriteable() requires the objectId to be set");var I=S(this[u],this.elems,this[p]);return I.context=O,I},"getWriteable")},{key:"set",value:o(function(O,I){if(this.context)this.context.setListIndex(this[u],O,I);else if(!this[u])this.elems[O].value=I;else throw new TypeError("Automerge.Text object cannot be modified outside of a change block");return this},"set")},{key:"insertAt",value:o(function(O){for(var I=arguments.length,j=Array(I>1?I-1:0),k=1;k<I;k++)j[k-1]=arguments[k];if(this.context)this.context.splice(this[u],O,0,j);else{if(this[u])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");var F;(F=this.elems).splice.apply(F,[O,0].concat(i(j.map(function($){return{value:$}}))))}return this},"insertAt")},{key:"deleteAt",value:o(function(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.context)this.context.splice(this[u],O,I,[]);else if(!this[u])this.elems.splice(O,I);else throw new TypeError("Automerge.Text object cannot be modified outside of a change block");return this},"deleteAt")},{key:"length",get:o(function(){return this.elems.length},"get")}]),T}(),g=o(function(w){d.prototype[w]=function(){for(var O,I=[].concat(i(this)),j=arguments.length,k=Array(j),F=0;F<j;F++)k[F]=arguments[F];return(O=I[w]).call.apply(O,[I].concat(k))}},"_loop"),m=["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString"],v=0;v<m.length;v++){var y=m[v];g(y)}function S(T,w,O){var I=Object.create(d.prototype);return I[u]=T,I.elems=w,I[p]=O,I}o(S,"instantiateText");function E(T,w){return T instanceof d?T.getElemId(w):T[l][w]}o(E,"getElemId"),e.exports={Text:d,getElemId:E,instantiateText:S}},"./node_modules/immutable/dist/immutable.js":function(e,t,r){(function(n,i){e.exports=i()})(this,function(){"use strict";var n=Array.prototype.slice;function i(c,f){f&&(c.prototype=Object.create(f.prototype)),c.prototype.constructor=c}o(i,"createClass");function s(c){return p(c)?c:M(c)}o(s,"Iterable"),i(a,s);function a(c){return d(c)?c:U(c)}o(a,"KeyedIterable"),i(u,s);function u(c){return g(c)?c:H(c)}o(u,"IndexedIterable"),i(l,s);function l(c){return p(c)&&!m(c)?c:J(c)}o(l,"SetIterable");function p(c){return!!(c&&c[y])}o(p,"isIterable");function d(c){return!!(c&&c[S])}o(d,"isKeyed");function g(c){return!!(c&&c[E])}o(g,"isIndexed");function m(c){return d(c)||g(c)}o(m,"isAssociative");function v(c){return!!(c&&c[T])}o(v,"isOrdered"),s.isIterable=p,s.isKeyed=d,s.isIndexed=g,s.isAssociative=m,s.isOrdered=v,s.Keyed=a,s.Indexed=u,s.Set=l;var y="@@__IMMUTABLE_ITERABLE__@@",S="@@__IMMUTABLE_KEYED__@@",E="@@__IMMUTABLE_INDEXED__@@",T="@@__IMMUTABLE_ORDERED__@@",w="delete",O=5,I=1<<O,j=I-1,k={},F={value:!1},$={value:!1};function ne(c){return c.value=!1,c}o(ne,"MakeRef");function se(c){c&&(c.value=!0)}o(se,"SetRef");function pe(){}o(pe,"OwnerID");function fe(c,f){f=f||0;for(var h=Math.max(0,c.length-f),_=new Array(h),b=0;b<h;b++)_[b]=c[b+f];return _}o(fe,"arrCopy");function V(c){return c.size===void 0&&(c.size=c.__iterate(P)),c.size}o(V,"ensureSize");function R(c,f){if(typeof f!="number"){var h=f>>>0;if(""+h!==f||h===4294967295)return NaN;f=h}return f<0?V(c)+f:f}o(R,"wrapIndex");function P(){return!0}o(P,"returnTrue");function L(c,f,h){return(c===0||h!==void 0&&c<=-h)&&(f===void 0||h!==void 0&&f>=h)}o(L,"wholeSlice");function z(c,f){return te(c,f,0)}o(z,"resolveBegin");function W(c,f){return te(c,f,f)}o(W,"resolveEnd");function te(c,f,h){return c===void 0?h:c<0?Math.max(0,f+c):f===void 0?c:Math.min(f,c)}o(te,"resolveIndex");var ce=0,ue=1,q=2,oe=typeof Symbol=="function"&&Symbol.iterator,ae="@@iterator",le=oe||ae;function Z(c){this.next=c}o(Z,"Iterator"),Z.prototype.toString=function(){return"[Iterator]"},Z.KEYS=ce,Z.VALUES=ue,Z.ENTRIES=q,Z.prototype.inspect=Z.prototype.toSource=function(){return this.toString()},Z.prototype[le]=function(){return this};function ee(c,f,h,_){var b=c===0?f:c===1?h:[f,h];return _?_.value=b:_={value:b,done:!1},_}o(ee,"iteratorValue");function ge(){return{value:void 0,done:!0}}o(ge,"iteratorDone");function be(c){return!!xe(c)}o(be,"hasIterator");function _e(c){return c&&typeof c.next=="function"}o(_e,"isIterator");function Se(c){var f=xe(c);return f&&f.call(c)}o(Se,"getIterator");function xe(c){var f=c&&(oe&&c[oe]||c[ae]);if(typeof f=="function")return f}o(xe,"getIteratorFn");function N(c){return c&&typeof c.length=="number"}o(N,"isArrayLike"),i(M,s);function M(c){return c==null?Ee():p(c)?c.toSeq():He(c)}o(M,"Seq"),M.of=function(){return M(arguments)},M.prototype.toSeq=function(){return this},M.prototype.toString=function(){return this.__toString("Seq {","}")},M.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},M.prototype.__iterate=function(c,f){return Ie(this,c,f,!0)},M.prototype.__iterator=function(c,f){return $e(this,c,f,!0)},i(U,M);function U(c){return c==null?Ee().toKeyedSeq():p(c)?d(c)?c.toSeq():c.fromEntrySeq():Te(c)}o(U,"KeyedSeq"),U.prototype.toKeyedSeq=function(){return this},i(H,M);function H(c){return c==null?Ee():p(c)?d(c)?c.entrySeq():c.toIndexedSeq():ke(c)}o(H,"IndexedSeq"),H.of=function(){return H(arguments)},H.prototype.toIndexedSeq=function(){return this},H.prototype.toString=function(){return this.__toString("Seq [","]")},H.prototype.__iterate=function(c,f){return Ie(this,c,f,!1)},H.prototype.__iterator=function(c,f){return $e(this,c,f,!1)},i(J,M);function J(c){return(c==null?Ee():p(c)?d(c)?c.entrySeq():c:ke(c)).toSetSeq()}o(J,"SetSeq"),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},M.isSeq=he,M.Keyed=U,M.Set=J,M.Indexed=H;var re="@@__IMMUTABLE_SEQ__@@";M.prototype[re]=!0,i(D,H);function D(c){this._array=c,this.size=c.length}o(D,"ArraySeq"),D.prototype.get=function(c,f){return this.has(c)?this._array[R(this,c)]:f},D.prototype.__iterate=function(c,f){for(var h=this._array,_=h.length-1,b=0;b<=_;b++)if(c(h[f?_-b:b],b,this)===!1)return b+1;return b},D.prototype.__iterator=function(c,f){var h=this._array,_=h.length-1,b=0;return new Z(function(){return b>_?ge():ee(c,b,h[f?_-b++:b++])})},i(K,U);function K(c){var f=Object.keys(c);this._object=c,this._keys=f,this.size=f.length}o(K,"ObjectSeq"),K.prototype.get=function(c,f){return f!==void 0&&!this.has(c)?f:this._object[c]},K.prototype.has=function(c){return this._object.hasOwnProperty(c)},K.prototype.__iterate=function(c,f){for(var h=this._object,_=this._keys,b=_.length-1,C=0;C<=b;C++){var A=_[f?b-C:C];if(c(h[A],A,this)===!1)return C+1}return C},K.prototype.__iterator=function(c,f){var h=this._object,_=this._keys,b=_.length-1,C=0;return new Z(function(){var A=_[f?b-C:C];return C++>b?ge():ee(c,A,h[A])})},K.prototype[T]=!0,i(X,H);function X(c){this._iterable=c,this.size=c.length||c.size}o(X,"IterableSeq"),X.prototype.__iterateUncached=function(c,f){if(f)return this.cacheResult().__iterate(c,f);var h=this._iterable,_=Se(h),b=0;if(_e(_))for(var C;!(C=_.next()).done&&c(C.value,b++,this)!==!1;);return b},X.prototype.__iteratorUncached=function(c,f){if(f)return this.cacheResult().__iterator(c,f);var h=this._iterable,_=Se(h);if(!_e(_))return new Z(ge);var b=0;return new Z(function(){var C=_.next();return C.done?C:ee(c,b++,C.value)})},i(de,H);function de(c){this._iterator=c,this._iteratorCache=[]}o(de,"IteratorSeq"),de.prototype.__iterateUncached=function(c,f){if(f)return this.cacheResult().__iterate(c,f);for(var h=this._iterator,_=this._iteratorCache,b=0;b<_.length;)if(c(_[b],b++,this)===!1)return b;for(var C;!(C=h.next()).done;){var A=C.value;if(_[b]=A,c(A,b++,this)===!1)break}return b},de.prototype.__iteratorUncached=function(c,f){if(f)return this.cacheResult().__iterator(c,f);var h=this._iterator,_=this._iteratorCache,b=0;return new Z(function(){if(b>=_.length){var C=h.next();if(C.done)return C;_[b]=C.value}return ee(c,b,_[b++])})};function he(c){return!!(c&&c[re])}o(he,"isSeq");var ve;function Ee(){return ve||(ve=new D([]))}o(Ee,"emptySequence");function Te(c){var f=Array.isArray(c)?new D(c).fromEntrySeq():_e(c)?new de(c).fromEntrySeq():be(c)?new X(c).fromEntrySeq():typeof c=="object"?new K(c):void 0;if(!f)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+c);return f}o(Te,"keyedSeqFromValue");function ke(c){var f=Je(c);if(!f)throw new TypeError("Expected Array or iterable object of values: "+c);return f}o(ke,"indexedSeqFromValue");function He(c){var f=Je(c)||typeof c=="object"&&new K(c);if(!f)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+c);return f}o(He,"seqFromValue");function Je(c){return N(c)?new D(c):_e(c)?new de(c):be(c)?new X(c):void 0}o(Je,"maybeIndexedSeqFromValue");function Ie(c,f,h,_){var b=c._cache;if(b){for(var C=b.length-1,A=0;A<=C;A++){var B=b[h?C-A:A];if(f(B[1],_?B[0]:A,c)===!1)return A+1}return A}return c.__iterateUncached(f,h)}o(Ie,"seqIterate");function $e(c,f,h,_){var b=c._cache;if(b){var C=b.length-1,A=0;return new Z(function(){var B=b[h?C-A:A];return A++>C?ge():ee(f,_?B[0]:A-1,B[1])})}return c.__iteratorUncached(f,h)}o($e,"seqIterator");function Ot(c,f){return f?ft(f,c,"",{"":c}):Ht(c)}o(Ot,"fromJS");function ft(c,f,h,_){return Array.isArray(f)?c.call(_,h,H(f).map(function(b,C){return ft(c,b,C,f)})):on(f)?c.call(_,h,U(f).map(function(b,C){return ft(c,b,C,f)})):f}o(ft,"fromJSWith");function Ht(c){return Array.isArray(c)?H(c).map(Ht).toList():on(c)?U(c).map(Ht).toMap():c}o(Ht,"fromJSDefault");function on(c){return c&&(c.constructor===Object||c.constructor===void 0)}o(on,"isPlainObj");function ze(c,f){if(c===f||c!==c&&f!==f)return!0;if(!c||!f)return!1;if(typeof c.valueOf=="function"&&typeof f.valueOf=="function"){if(c=c.valueOf(),f=f.valueOf(),c===f||c!==c&&f!==f)return!0;if(!c||!f)return!1}return!!(typeof c.equals=="function"&&typeof f.equals=="function"&&c.equals(f))}o(ze,"is");function pi(c,f){if(c===f)return!0;if(!p(f)||c.size!==void 0&&f.size!==void 0&&c.size!==f.size||c.__hash!==void 0&&f.__hash!==void 0&&c.__hash!==f.__hash||d(c)!==d(f)||g(c)!==g(f)||v(c)!==v(f))return!1;if(c.size===0&&f.size===0)return!0;var h=!m(c);if(v(c)){var _=c.entries();return f.every(function(G,Y){var Q=_.next().value;return Q&&ze(Q[1],G)&&(h||ze(Q[0],Y))})&&_.next().done}var b=!1;if(c.size===void 0)if(f.size===void 0)typeof c.cacheResult=="function"&&c.cacheResult();else{b=!0;var C=c;c=f,f=C}var A=!0,B=f.__iterate(function(G,Y){if(h?!c.has(G):b?!ze(G,c.get(Y,k)):!ze(c.get(Y,k),G))return A=!1,!1});return A&&c.size===B}o(pi,"deepEqual"),i(Ct,H);function Ct(c,f){if(!(this instanceof Ct))return new Ct(c,f);if(this._value=c,this.size=f===void 0?Infinity:Math.max(0,f),this.size===0){if(zl)return zl;zl=this}}o(Ct,"Repeat"),Ct.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Ct.prototype.get=function(c,f){return this.has(c)?this._value:f},Ct.prototype.includes=function(c){return ze(this._value,c)},Ct.prototype.slice=function(c,f){var h=this.size;return L(c,f,h)?this:new Ct(this._value,W(f,h)-z(c,h))},Ct.prototype.reverse=function(){return this},Ct.prototype.indexOf=function(c){return ze(this._value,c)?0:-1},Ct.prototype.lastIndexOf=function(c){return ze(this._value,c)?this.size:-1},Ct.prototype.__iterate=function(c,f){for(var h=0;h<this.size;h++)if(c(this._value,h,this)===!1)return h+1;return h},Ct.prototype.__iterator=function(c,f){var h=this,_=0;return new Z(function(){return _<h.size?ee(c,_++,h._value):ge()})},Ct.prototype.equals=function(c){return c instanceof Ct?ze(this._value,c._value):pi(c)};var zl;function Na(c,f){if(!c)throw new Error(f)}o(Na,"invariant"),i(xt,H);function xt(c,f,h){if(!(this instanceof xt))return new xt(c,f,h);if(Na(h!==0,"Cannot step a Range by 0"),c=c||0,f===void 0&&(f=Infinity),h=h===void 0?1:Math.abs(h),f<c&&(h=-h),this._start=c,this._end=f,this._step=h,this.size=Math.max(0,Math.ceil((f-c)/h-1)+1),this.size===0){if($l)return $l;$l=this}}o(xt,"Range"),xt.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},xt.prototype.get=function(c,f){return this.has(c)?this._start+R(this,c)*this._step:f},xt.prototype.includes=function(c){var f=(c-this._start)/this._step;return f>=0&&f<this.size&&f===Math.floor(f)},xt.prototype.slice=function(c,f){return L(c,f,this.size)?this:(c=z(c,this.size),f=W(f,this.size),f<=c?new xt(0,0):new xt(this.get(c,this._end),this.get(f,this._end),this._step))},xt.prototype.indexOf=function(c){var f=c-this._start;if(f%this._step==0){var h=f/this._step;if(h>=0&&h<this.size)return h}return-1},xt.prototype.lastIndexOf=function(c){return this.indexOf(c)},xt.prototype.__iterate=function(c,f){for(var h=this.size-1,_=this._step,b=f?this._start+h*_:this._start,C=0;C<=h;C++){if(c(b,C,this)===!1)return C+1;b+=f?-_:_}return C},xt.prototype.__iterator=function(c,f){var h=this.size-1,_=this._step,b=f?this._start+h*_:this._start,C=0;return new Z(function(){var A=b;return b+=f?-_:_,C>h?ge():ee(c,C++,A)})},xt.prototype.equals=function(c){return c instanceof xt?this._start===c._start&&this._end===c._end&&this._step===c._step:pi(this,c)};var $l;i(Rn,s);function Rn(){throw TypeError("Abstract")}o(Rn,"Collection"),i(fs,Rn);function fs(){}o(fs,"KeyedCollection"),i(Hi,Rn);function Hi(){}o(Hi,"IndexedCollection"),i(Da,Rn);function Da(){}o(Da,"SetCollection"),Rn.Keyed=fs,Rn.Indexed=Hi,Rn.Set=Da;var ds=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:o(function(f,h){f=f|0,h=h|0;var _=f&65535,b=h&65535;return _*b+((f>>>16)*b+_*(h>>>16)<<16>>>0)|0},"imul");function Wl(c){return c>>>1&1073741824|c&3221225471}o(Wl,"smi");function Gt(c){if(c===!1||c===null||c===void 0||typeof c.valueOf=="function"&&(c=c.valueOf(),c===!1||c===null||c===void 0))return 0;if(c===!0)return 1;var f=typeof c;if(f==="number"){if(c!==c||c===Infinity)return 0;var h=c|0;for(h!==c&&(h^=c*4294967295);c>4294967295;)c/=4294967295,h^=c;return Wl(h)}if(f==="string")return c.length>wq?xq(c):Jl(c);if(typeof c.hashCode=="function")return c.hashCode();if(f==="object")return Sq(c);if(typeof c.toString=="function")return Jl(c.toString());throw new Error("Value type "+f+" cannot be hashed.")}o(Gt,"hash");function xq(c){var f=Zl[c];return f===void 0&&(f=Jl(c),Xl===Tq&&(Xl=0,Zl={}),Xl++,Zl[c]=f),f}o(xq,"cachedHashString");function Jl(c){for(var f=0,h=0;h<c.length;h++)f=31*f+c.charCodeAt(h)|0;return Wl(f)}o(Jl,"hashString");function Sq(c){var f;if(Gl&&(f=Vl.get(c),f!==void 0)||(f=c[fi],f!==void 0)||!Kv&&(f=c.propertyIsEnumerable&&c.propertyIsEnumerable[fi],f!==void 0||(f=Eq(c),f!==void 0)))return f;if(f=++Yl,Yl&1073741824&&(Yl=0),Gl)Vl.set(c,f);else{if(Bv!==void 0&&Bv(c)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Kv)Object.defineProperty(c,fi,{enumerable:!1,configurable:!1,writable:!1,value:f});else if(c.propertyIsEnumerable!==void 0&&c.propertyIsEnumerable===c.constructor.prototype.propertyIsEnumerable)c.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},c.propertyIsEnumerable[fi]=f;else if(c.nodeType!==void 0)c[fi]=f;else throw new Error("Unable to set a non-enumerable property on object.")}return f}o(Sq,"hashJSObj");var Bv=Object.isExtensible,Kv=function(){try{return Object.defineProperty({},"@",{}),!0}catch(c){return!1}}();function Eq(c){if(c&&c.nodeType>0)switch(c.nodeType){case 1:return c.uniqueID;case 9:return c.documentElement&&c.documentElement.uniqueID}}o(Eq,"getIENodeHash");var Gl=typeof WeakMap=="function",Vl;Gl&&(Vl=new WeakMap);var Yl=0,fi="__immutablehash__";typeof Symbol=="function"&&(fi=Symbol(fi));var wq=16,Tq=255,Xl=0,Zl={};function Vt(c){Na(c!==Infinity,"Cannot perform this action with an infinite size.")}o(Vt,"assertNotInfinite"),i(Pe,fs);function Pe(c){return c==null?wr():Ql(c)&&!v(c)?c:wr().withMutations(function(f){var h=a(c);Vt(h.size),h.forEach(function(_,b){return f.set(b,_)})})}o(Pe,"Map"),Pe.of=function(){var c=n.call(arguments,0);return wr().withMutations(function(f){for(var h=0;h<c.length;h+=2){if(h+1>=c.length)throw new Error("Missing value for key: "+c[h]);f.set(c[h],c[h+1])}})},Pe.prototype.toString=function(){return this.__toString("Map {","}")},Pe.prototype.get=function(c,f){return this._root?this._root.get(0,void 0,c,f):f},Pe.prototype.set=function(c,f){return zv(this,c,f)},Pe.prototype.setIn=function(c,f){return this.updateIn(c,k,function(){return f})},Pe.prototype.remove=function(c){return zv(this,c,k)},Pe.prototype.deleteIn=function(c){return this.updateIn(c,function(){return k})},Pe.prototype.update=function(c,f,h){return arguments.length===1?c(this):this.updateIn([c],f,h)},Pe.prototype.updateIn=function(c,f,h){h||(h=f,f=void 0);var _=Vv(this,my(c),f,h);return _===k?void 0:_},Pe.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):wr()},Pe.prototype.merge=function(){return La(this,void 0,arguments)},Pe.prototype.mergeWith=function(c){var f=n.call(arguments,1);return La(this,c,f)},Pe.prototype.mergeIn=function(c){var f=n.call(arguments,1);return this.updateIn(c,wr(),function(h){return typeof h.merge=="function"?h.merge.apply(h,f):f[f.length-1]})},Pe.prototype.mergeDeep=function(){return La(this,Wv,arguments)},Pe.prototype.mergeDeepWith=function(c){var f=n.call(arguments,1);return La(this,Jv(c),f)},Pe.prototype.mergeDeepIn=function(c){var f=n.call(arguments,1);return this.updateIn(c,wr(),function(h){return typeof h.mergeDeep=="function"?h.mergeDeep.apply(h,f):f[f.length-1]})},Pe.prototype.sort=function(c){return tt(Yi(this,c))},Pe.prototype.sortBy=function(c,f){return tt(Yi(this,f,c))},Pe.prototype.withMutations=function(c){var f=this.asMutable();return c(f),f.wasAltered()?f.__ensureOwner(this.__ownerID):this},Pe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new pe)},Pe.prototype.asImmutable=function(){return this.__ensureOwner()},Pe.prototype.wasAltered=function(){return this.__altered},Pe.prototype.__iterator=function(c,f){return new ep(this,c,f)},Pe.prototype.__iterate=function(c,f){var h=this,_=0;return this._root&&this._root.iterate(function(b){return _++,c(b[1],b[0],h)},f),_},Pe.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?rp(this.size,this._root,c,this.__hash):(this.__ownerID=c,this.__altered=!1,this)};function Ql(c){return!!(c&&c[Uv])}o(Ql,"isMap"),Pe.isMap=Ql;var Uv="@@__IMMUTABLE_MAP__@@",Me=Pe.prototype;Me[Uv]=!0,Me[w]=Me.remove,Me.removeIn=Me.deleteIn;function gs(c,f){this.ownerID=c,this.entries=f}o(gs,"ArrayMapNode"),gs.prototype.get=function(c,f,h,_){for(var b=this.entries,C=0,A=b.length;C<A;C++)if(ze(h,b[C][0]))return b[C][1];return _},gs.prototype.update=function(c,f,h,_,b,C,A){for(var B=b===k,G=this.entries,Y=0,Q=G.length;Y<Q&&!ze(_,G[Y][0]);Y++);var me=Y<Q;if(me?G[Y][1]===b:B)return this;if(se(A),(B||!me)&&se(C),!(B&&G.length===1)){if(!me&&!B&&G.length>=qq)return Oq(c,G,_,b);var ye=c&&c===this.ownerID,we=ye?G:fe(G);return me?B?Y===Q-1?we.pop():we[Y]=we.pop():we[Y]=[_,b]:we.push([_,b]),ye?(this.entries=we,this):new gs(c,we)}};function zi(c,f,h){this.ownerID=c,this.bitmap=f,this.nodes=h}o(zi,"BitmapIndexedNode"),zi.prototype.get=function(c,f,h,_){f===void 0&&(f=Gt(h));var b=1<<((c===0?f:f>>>c)&j),C=this.bitmap;return(C&b)==0?_:this.nodes[Yv(C&b-1)].get(c+O,f,h,_)},zi.prototype.update=function(c,f,h,_,b,C,A){h===void 0&&(h=Gt(_));var B=(f===0?h:h>>>f)&j,G=1<<B,Y=this.bitmap,Q=(Y&G)!=0;if(!Q&&b===k)return this;var me=Yv(Y&G-1),ye=this.nodes,we=Q?ye[me]:void 0,qe=np(we,c,f+O,h,_,b,C,A);if(qe===we)return this;if(!Q&&qe&&ye.length>=jq)return Iq(c,ye,Y,B,qe);if(Q&&!qe&&ye.length===2&&$v(ye[me^1]))return ye[me^1];if(Q&&qe&&ye.length===1&&$v(qe))return qe;var Ve=c&&c===this.ownerID,Tr=Q?qe?Y:Y^G:Y|G,Hr=Q?qe?Xv(ye,me,qe,Ve):Aq(ye,me,Ve):kq(ye,me,qe,Ve);return Ve?(this.bitmap=Tr,this.nodes=Hr,this):new zi(c,Tr,Hr)};function hs(c,f,h){this.ownerID=c,this.count=f,this.nodes=h}o(hs,"HashArrayMapNode"),hs.prototype.get=function(c,f,h,_){f===void 0&&(f=Gt(h));var b=(c===0?f:f>>>c)&j,C=this.nodes[b];return C?C.get(c+O,f,h,_):_},hs.prototype.update=function(c,f,h,_,b,C,A){h===void 0&&(h=Gt(_));var B=(f===0?h:h>>>f)&j,G=b===k,Y=this.nodes,Q=Y[B];if(G&&!Q)return this;var me=np(Q,c,f+O,h,_,b,C,A);if(me===Q)return this;var ye=this.count;if(!Q)ye++;else if(!me&&(ye--,ye<Rq))return Cq(c,Y,ye,B);var we=c&&c===this.ownerID,qe=Xv(Y,B,me,we);return we?(this.count=ye,this.nodes=qe,this):new hs(c,ye,qe)};function $i(c,f,h){this.ownerID=c,this.keyHash=f,this.entries=h}o($i,"HashCollisionNode"),$i.prototype.get=function(c,f,h,_){for(var b=this.entries,C=0,A=b.length;C<A;C++)if(ze(h,b[C][0]))return b[C][1];return _},$i.prototype.update=function(c,f,h,_,b,C,A){h===void 0&&(h=Gt(_));var B=b===k;if(h!==this.keyHash)return B?this:(se(A),se(C),ip(this,c,f,h,[_,b]));for(var G=this.entries,Y=0,Q=G.length;Y<Q&&!ze(_,G[Y][0]);Y++);var me=Y<Q;if(me?G[Y][1]===b:B)return this;if(se(A),(B||!me)&&se(C),B&&Q===2)return new sn(c,this.keyHash,G[Y^1]);var ye=c&&c===this.ownerID,we=ye?G:fe(G);return me?B?Y===Q-1?we.pop():we[Y]=we.pop():we[Y]=[_,b]:we.push([_,b]),ye?(this.entries=we,this):new $i(c,this.keyHash,we)};function sn(c,f,h){this.ownerID=c,this.keyHash=f,this.entry=h}o(sn,"ValueNode"),sn.prototype.get=function(c,f,h,_){return ze(h,this.entry[0])?this.entry[1]:_},sn.prototype.update=function(c,f,h,_,b,C,A){var B=b===k,G=ze(_,this.entry[0]);if(G?b===this.entry[1]:B)return this;if(se(A),B){se(C);return}return G?c&&c===this.ownerID?(this.entry[1]=b,this):new sn(c,this.keyHash,[_,b]):(se(C),ip(this,c,f,Gt(_),[_,b]))},gs.prototype.iterate=$i.prototype.iterate=function(c,f){for(var h=this.entries,_=0,b=h.length-1;_<=b;_++)if(c(h[f?b-_:_])===!1)return!1},zi.prototype.iterate=hs.prototype.iterate=function(c,f){for(var h=this.nodes,_=0,b=h.length-1;_<=b;_++){var C=h[f?b-_:_];if(C&&C.iterate(c,f)===!1)return!1}},sn.prototype.iterate=function(c,f){return c(this.entry)},i(ep,Z);function ep(c,f,h){this._type=f,this._reverse=h,this._stack=c._root&&Fv(c._root)}o(ep,"MapIterator"),ep.prototype.next=function(){for(var c=this._type,f=this._stack;f;){var h=f.node,_=f.index++,b;if(h.entry){if(_===0)return tp(c,h.entry)}else if(h.entries){if(b=h.entries.length-1,_<=b)return tp(c,h.entries[this._reverse?b-_:_])}else if(b=h.nodes.length-1,_<=b){var C=h.nodes[this._reverse?b-_:_];if(C){if(C.entry)return tp(c,C.entry);f=this._stack=Fv(C,f)}continue}f=this._stack=this._stack.__prev}return ge()};function tp(c,f){return ee(c,f[0],f[1])}o(tp,"mapIteratorValue");function Fv(c,f){return{node:c,index:0,__prev:f}}o(Fv,"mapIteratorFrame");function rp(c,f,h,_){var b=Object.create(Me);return b.size=c,b._root=f,b.__ownerID=h,b.__hash=_,b.__altered=!1,b}o(rp,"makeMap");var Hv;function wr(){return Hv||(Hv=rp(0))}o(wr,"emptyMap");function zv(c,f,h){var _,b;if(c._root){var C=ne(F),A=ne($);if(_=np(c._root,c.__ownerID,0,void 0,f,h,C,A),!A.value)return c;b=c.size+(C.value?h===k?-1:1:0)}else{if(h===k)return c;b=1,_=new gs(c.__ownerID,[[f,h]])}return c.__ownerID?(c.size=b,c._root=_,c.__hash=void 0,c.__altered=!0,c):_?rp(b,_):wr()}o(zv,"updateMap");function np(c,f,h,_,b,C,A,B){return c?c.update(f,h,_,b,C,A,B):C===k?c:(se(B),se(A),new sn(f,_,[b,C]))}o(np,"updateNode");function $v(c){return c.constructor===sn||c.constructor===$i}o($v,"isLeafNode");function ip(c,f,h,_,b){if(c.keyHash===_)return new $i(f,_,[c.entry,b]);var C=(h===0?c.keyHash:c.keyHash>>>h)&j,A=(h===0?_:_>>>h)&j,B,G=C===A?[ip(c,f,h+O,_,b)]:(B=new sn(f,_,b),C<A?[c,B]:[B,c]);return new zi(f,1<<C|1<<A,G)}o(ip,"mergeIntoNode");function Oq(c,f,h,_){c||(c=new pe);for(var b=new sn(c,Gt(h),[h,_]),C=0;C<f.length;C++){var A=f[C];b=b.update(c,0,void 0,A[0],A[1])}return b}o(Oq,"createNodes");function Cq(c,f,h,_){for(var b=0,C=0,A=new Array(h),B=0,G=1,Y=f.length;B<Y;B++,G<<=1){var Q=f[B];Q!==void 0&&B!==_&&(b|=G,A[C++]=Q)}return new zi(c,b,A)}o(Cq,"packNodes");function Iq(c,f,h,_,b){for(var C=0,A=new Array(I),B=0;h!==0;B++,h>>>=1)A[B]=h&1?f[C++]:void 0;return A[_]=b,new hs(c,C+1,A)}o(Iq,"expandNodes");function La(c,f,h){for(var _=[],b=0;b<h.length;b++){var C=h[b],A=a(C);p(C)||(A=A.map(function(B){return Ot(B)})),_.push(A)}return Gv(c,f,_)}o(La,"mergeIntoMapWith");function Wv(c,f,h){return c&&c.mergeDeep&&p(f)?c.mergeDeep(f):ze(c,f)?c:f}o(Wv,"deepMerger");function Jv(c){return function(f,h,_){if(f&&f.mergeDeepWith&&p(h))return f.mergeDeepWith(c,h);var b=c(f,h,_);return ze(f,b)?f:b}}o(Jv,"deepMergerWith");function Gv(c,f,h){return h=h.filter(function(_){return _.size!==0}),h.length===0?c:c.size===0&&!c.__ownerID&&h.length===1?c.constructor(h[0]):c.withMutations(function(_){for(var b=f?function(A,B){_.update(B,k,function(G){return G===k?A:f(G,A,B)})}:function(A,B){_.set(B,A)},C=0;C<h.length;C++)h[C].forEach(b)})}o(Gv,"mergeIntoCollectionWith");function Vv(c,f,h,_){var b=c===k,C=f.next();if(C.done){var A=b?h:c,B=_(A);return B===A?c:B}Na(b||c&&c.set,"invalid keyPath");var G=C.value,Y=b?k:c.get(G,k),Q=Vv(Y,f,h,_);return Q===Y?c:Q===k?c.remove(G):(b?wr():c).set(G,Q)}o(Vv,"updateInDeepMap");function Yv(c){return c=c-(c>>1&1431655765),c=(c&858993459)+(c>>2&858993459),c=c+(c>>4)&252645135,c=c+(c>>8),c=c+(c>>16),c&127}o(Yv,"popCount");function Xv(c,f,h,_){var b=_?c:fe(c);return b[f]=h,b}o(Xv,"setIn");function kq(c,f,h,_){var b=c.length+1;if(_&&f+1===b)return c[f]=h,c;for(var C=new Array(b),A=0,B=0;B<b;B++)B===f?(C[B]=h,A=-1):C[B]=c[B+A];return C}o(kq,"spliceIn");function Aq(c,f,h){var _=c.length-1;if(h&&f===_)return c.pop(),c;for(var b=new Array(_),C=0,A=0;A<_;A++)A===f&&(C=1),b[A]=c[A+C];return b}o(Aq,"spliceOut");var qq=I/4,jq=I/2,Rq=I/4;i(We,Hi);function We(c){var f=op();if(c==null)return f;if(Zv(c))return c;var h=u(c),_=h.size;return _===0?f:(Vt(_),_>0&&_<I?vs(0,_,O,null,new Mn(h.toArray())):f.withMutations(function(b){b.setSize(_),h.forEach(function(C,A){return b.set(A,C)})}))}o(We,"List"),We.of=function(){return this(arguments)},We.prototype.toString=function(){return this.__toString("List [","]")},We.prototype.get=function(c,f){if(c=R(this,c),c>=0&&c<this.size){c+=this._origin;var h=ry(this,c);return h&&h.array[c&j]}return f},We.prototype.set=function(c,f){return Mq(this,c,f)},We.prototype.remove=function(c){return this.has(c)?c===0?this.shift():c===this.size-1?this.pop():this.splice(c,1):this},We.prototype.insert=function(c,f){return this.splice(c,0,f)},We.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=O,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):op()},We.prototype.push=function(){var c=arguments,f=this.size;return this.withMutations(function(h){Pn(h,0,f+c.length);for(var _=0;_<c.length;_++)h.set(f+_,c[_])})},We.prototype.pop=function(){return Pn(this,0,-1)},We.prototype.unshift=function(){var c=arguments;return this.withMutations(function(f){Pn(f,-c.length);for(var h=0;h<c.length;h++)f.set(h,c[h])})},We.prototype.shift=function(){return Pn(this,1)},We.prototype.merge=function(){return Ba(this,void 0,arguments)},We.prototype.mergeWith=function(c){var f=n.call(arguments,1);return Ba(this,c,f)},We.prototype.mergeDeep=function(){return Ba(this,Wv,arguments)},We.prototype.mergeDeepWith=function(c){var f=n.call(arguments,1);return Ba(this,Jv(c),f)},We.prototype.setSize=function(c){return Pn(this,0,c)},We.prototype.slice=function(c,f){var h=this.size;return L(c,f,h)?this:Pn(this,z(c,h),W(f,h))},We.prototype.__iterator=function(c,f){var h=0,_=ey(this,f);return new Z(function(){var b=_();return b===ms?ge():ee(c,h++,b)})},We.prototype.__iterate=function(c,f){for(var h=0,_=ey(this,f),b;(b=_())!==ms&&c(b,h++,this)!==!1;);return h},We.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?vs(this._origin,this._capacity,this._level,this._root,this._tail,c,this.__hash):(this.__ownerID=c,this)};function Zv(c){return!!(c&&c[Qv])}o(Zv,"isList"),We.isList=Zv;var Qv="@@__IMMUTABLE_LIST__@@",Mt=We.prototype;Mt[Qv]=!0,Mt[w]=Mt.remove,Mt.setIn=Me.setIn,Mt.deleteIn=Mt.removeIn=Me.removeIn,Mt.update=Me.update,Mt.updateIn=Me.updateIn,Mt.mergeIn=Me.mergeIn,Mt.mergeDeepIn=Me.mergeDeepIn,Mt.withMutations=Me.withMutations,Mt.asMutable=Me.asMutable,Mt.asImmutable=Me.asImmutable,Mt.wasAltered=Me.wasAltered;function Mn(c,f){this.array=c,this.ownerID=f}o(Mn,"VNode"),Mn.prototype.removeBefore=function(c,f,h){if(h===f?1<<f:this.array.length===0)return this;var _=h>>>f&j;if(_>=this.array.length)return new Mn([],c);var b=_===0,C;if(f>0){var A=this.array[_];if(C=A&&A.removeBefore(c,f-O,h),C===A&&b)return this}if(b&&!C)return this;var B=Wi(this,c);if(!b)for(var G=0;G<_;G++)B.array[G]=void 0;return C&&(B.array[_]=C),B},Mn.prototype.removeAfter=function(c,f,h){if(h===(f?1<<f:0)||this.array.length===0)return this;var _=h-1>>>f&j;if(_>=this.array.length)return this;var b;if(f>0){var C=this.array[_];if(b=C&&C.removeAfter(c,f-O,h),b===C&&_===this.array.length-1)return this}var A=Wi(this,c);return A.array.splice(_+1),b&&(A.array[_]=b),A};var ms={};function ey(c,f){var h=c._origin,_=c._capacity,b=ys(_),C=c._tail;return A(c._root,c._level,0);function A(Y,Q,me){return Q===0?B(Y,me):G(Y,Q,me)}function B(Y,Q){var me=Q===b?C&&C.array:Y&&Y.array,ye=Q>h?0:h-Q,we=_-Q;return we>I&&(we=I),function(){if(ye===we)return ms;var qe=f?--we:ye++;return me&&me[qe]}}function G(Y,Q,me){var ye,we=Y&&Y.array,qe=me>h?0:h-me>>Q,Ve=(_-me>>Q)+1;return Ve>I&&(Ve=I),function(){do{if(ye){var Tr=ye();if(Tr!==ms)return Tr;ye=null}if(qe===Ve)return ms;var Hr=f?--Ve:qe++;ye=A(we&&we[Hr],Q-O,me+(Hr<<Q))}while(!0)}}}o(ey,"iterateList");function vs(c,f,h,_,b,C,A){var B=Object.create(Mt);return B.size=f-c,B._origin=c,B._capacity=f,B._level=h,B._root=_,B._tail=b,B.__ownerID=C,B.__hash=A,B.__altered=!1,B}o(vs,"makeList");var ty;function op(){return ty||(ty=vs(0,0,O))}o(op,"emptyList");function Mq(c,f,h){if(f=R(c,f),f!==f)return c;if(f>=c.size||f<0)return c.withMutations(function(A){f<0?Pn(A,f).set(0,h):Pn(A,0,f+1).set(f,h)});f+=c._origin;var _=c._tail,b=c._root,C=ne($);return f>=ys(c._capacity)?_=sp(_,c.__ownerID,0,f,h,C):b=sp(b,c.__ownerID,c._level,f,h,C),C.value?c.__ownerID?(c._root=b,c._tail=_,c.__hash=void 0,c.__altered=!0,c):vs(c._origin,c._capacity,c._level,b,_):c}o(Mq,"updateList");function sp(c,f,h,_,b,C){var A=_>>>h&j,B=c&&A<c.array.length;if(!B&&b===void 0)return c;var G;if(h>0){var Y=c&&c.array[A],Q=sp(Y,f,h-O,_,b,C);return Q===Y?c:(G=Wi(c,f),G.array[A]=Q,G)}return B&&c.array[A]===b?c:(se(C),G=Wi(c,f),b===void 0&&A===G.array.length-1?G.array.pop():G.array[A]=b,G)}o(sp,"updateVNode");function Wi(c,f){return f&&c&&f===c.ownerID?c:new Mn(c?c.array.slice():[],f)}o(Wi,"editableVNode");function ry(c,f){if(f>=ys(c._capacity))return c._tail;if(f<1<<c._level+O){for(var h=c._root,_=c._level;h&&_>0;)h=h.array[f>>>_&j],_-=O;return h}}o(ry,"listNodeFor");function Pn(c,f,h){f!==void 0&&(f=f|0),h!==void 0&&(h=h|0);var _=c.__ownerID||new pe,b=c._origin,C=c._capacity,A=b+f,B=h===void 0?C:h<0?C+h:b+h;if(A===b&&B===C)return c;if(A>=B)return c.clear();for(var G=c._level,Y=c._root,Q=0;A+Q<0;)Y=new Mn(Y&&Y.array.length?[void 0,Y]:[],_),G+=O,Q+=1<<G;Q&&(A+=Q,b+=Q,B+=Q,C+=Q);for(var me=ys(C),ye=ys(B);ye>=1<<G+O;)Y=new Mn(Y&&Y.array.length?[Y]:[],_),G+=O;var we=c._tail,qe=ye<me?ry(c,B-1):ye>me?new Mn([],_):we;if(we&&ye>me&&A<C&&we.array.length){Y=Wi(Y,_);for(var Ve=Y,Tr=G;Tr>O;Tr-=O){var Hr=me>>>Tr&j;Ve=Ve.array[Hr]=Wi(Ve.array[Hr],_)}Ve.array[me>>>O&j]=we}if(B<C&&(qe=qe&&qe.removeAfter(_,0,B)),A>=ye)A-=ye,B-=ye,G=O,Y=null,qe=qe&&qe.removeBefore(_,0,A);else if(A>b||ye<me){for(Q=0;Y;){var Wa=A>>>G&j;if(Wa!==ye>>>G&j)break;Wa&&(Q+=(1<<G)*Wa),G-=O,Y=Y.array[Wa]}Y&&A>b&&(Y=Y.removeBefore(_,G,A-Q)),Y&&ye<me&&(Y=Y.removeAfter(_,G,ye-Q)),Q&&(A-=Q,B-=Q)}return c.__ownerID?(c.size=B-A,c._origin=A,c._capacity=B,c._level=G,c._root=Y,c._tail=qe,c.__hash=void 0,c.__altered=!0,c):vs(A,B,G,Y,qe)}o(Pn,"setListBounds");function Ba(c,f,h){for(var _=[],b=0,C=0;C<h.length;C++){var A=h[C],B=u(A);B.size>b&&(b=B.size),p(A)||(B=B.map(function(G){return Ot(G)})),_.push(B)}return b>c.size&&(c=c.setSize(b)),Gv(c,f,_)}o(Ba,"mergeIntoListWith");function ys(c){return c<I?0:c-1>>>O<<O}o(ys,"getTailOffset"),i(tt,Pe);function tt(c){return c==null?Ka():ny(c)?c:Ka().withMutations(function(f){var h=a(c);Vt(h.size),h.forEach(function(_,b){return f.set(b,_)})})}o(tt,"OrderedMap"),tt.of=function(){return this(arguments)},tt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},tt.prototype.get=function(c,f){var h=this._map.get(c);return h!==void 0?this._list.get(h)[1]:f},tt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ka()},tt.prototype.set=function(c,f){return oy(this,c,f)},tt.prototype.remove=function(c){return oy(this,c,k)},tt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},tt.prototype.__iterate=function(c,f){var h=this;return this._list.__iterate(function(_){return _&&c(_[1],_[0],h)},f)},tt.prototype.__iterator=function(c,f){return this._list.fromEntrySeq().__iterator(c,f)},tt.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var f=this._map.__ensureOwner(c),h=this._list.__ensureOwner(c);return c?ap(f,h,c,this.__hash):(this.__ownerID=c,this._map=f,this._list=h,this)};function ny(c){return Ql(c)&&v(c)}o(ny,"isOrderedMap"),tt.isOrderedMap=ny,tt.prototype[T]=!0,tt.prototype[w]=tt.prototype.remove;function ap(c,f,h,_){var b=Object.create(tt.prototype);return b.size=c?c.size:0,b._map=c,b._list=f,b.__ownerID=h,b.__hash=_,b}o(ap,"makeOrderedMap");var iy;function Ka(){return iy||(iy=ap(wr(),op()))}o(Ka,"emptyOrderedMap");function oy(c,f,h){var _=c._map,b=c._list,C=_.get(f),A=C!==void 0,B,G;if(h===k){if(!A)return c;b.size>=I&&b.size>=_.size*2?(G=b.filter(function(Y,Q){return Y!==void 0&&C!==Q}),B=G.toKeyedSeq().map(function(Y){return Y[0]}).flip().toMap(),c.__ownerID&&(B.__ownerID=G.__ownerID=c.__ownerID)):(B=_.remove(f),G=C===b.size-1?b.pop():b.set(C,void 0))}else if(A){if(h===b.get(C)[1])return c;B=_,G=b.set(C,[f,h])}else B=_.set(f,b.size),G=b.set(b.size,[f,h]);return c.__ownerID?(c.size=B.size,c._map=B,c._list=G,c.__hash=void 0,c):ap(B,G)}o(oy,"updateOrderedMap"),i(fr,U);function fr(c,f){this._iter=c,this._useKeys=f,this.size=c.size}o(fr,"ToKeyedSequence"),fr.prototype.get=function(c,f){return this._iter.get(c,f)},fr.prototype.has=function(c){return this._iter.has(c)},fr.prototype.valueSeq=function(){return this._iter.valueSeq()},fr.prototype.reverse=function(){var c=this,f=cp(this,!0);return this._useKeys||(f.valueSeq=function(){return c._iter.toSeq().reverse()}),f},fr.prototype.map=function(c,f){var h=this,_=ay(this,c,f);return this._useKeys||(_.valueSeq=function(){return h._iter.toSeq().map(c,f)}),_},fr.prototype.__iterate=function(c,f){var h=this,_;return this._iter.__iterate(this._useKeys?function(b,C){return c(b,C,h)}:(_=f?dy(this):0,function(b){return c(b,f?--_:_++,h)}),f)},fr.prototype.__iterator=function(c,f){if(this._useKeys)return this._iter.__iterator(c,f);var h=this._iter.__iterator(ue,f),_=f?dy(this):0;return new Z(function(){var b=h.next();return b.done?b:ee(c,f?--_:_++,b.value,b)})},fr.prototype[T]=!0,i(Ji,H);function Ji(c){this._iter=c,this.size=c.size}o(Ji,"ToIndexedSequence"),Ji.prototype.includes=function(c){return this._iter.includes(c)},Ji.prototype.__iterate=function(c,f){var h=this,_=0;return this._iter.__iterate(function(b){return c(b,_++,h)},f)},Ji.prototype.__iterator=function(c,f){var h=this._iter.__iterator(ue,f),_=0;return new Z(function(){var b=h.next();return b.done?b:ee(c,_++,b.value,b)})},i(Gi,J);function Gi(c){this._iter=c,this.size=c.size}o(Gi,"ToSetSequence"),Gi.prototype.has=function(c){return this._iter.includes(c)},Gi.prototype.__iterate=function(c,f){var h=this;return this._iter.__iterate(function(_){return c(_,_,h)},f)},Gi.prototype.__iterator=function(c,f){var h=this._iter.__iterator(ue,f);return new Z(function(){var _=h.next();return _.done?_:ee(c,_.value,_.value,_)})},i(Vi,U);function Vi(c){this._iter=c,this.size=c.size}o(Vi,"FromEntriesSequence"),Vi.prototype.entrySeq=function(){return this._iter.toSeq()},Vi.prototype.__iterate=function(c,f){var h=this;return this._iter.__iterate(function(_){if(_){fy(_);var b=p(_);return c(b?_.get(1):_[1],b?_.get(0):_[0],h)}},f)},Vi.prototype.__iterator=function(c,f){var h=this._iter.__iterator(ue,f);return new Z(function(){for(;;){var _=h.next();if(_.done)return _;var b=_.value;if(b){fy(b);var C=p(b);return ee(c,C?b.get(0):b[0],C?b.get(1):b[1],_)}}})},Ji.prototype.cacheResult=fr.prototype.cacheResult=Gi.prototype.cacheResult=Vi.prototype.cacheResult=pp;function sy(c){var f=Kr(c);return f._iter=c,f.size=c.size,f.flip=function(){return c},f.reverse=function(){var h=c.reverse.apply(this);return h.flip=function(){return c.reverse()},h},f.has=function(h){return c.includes(h)},f.includes=function(h){return c.has(h)},f.cacheResult=pp,f.__iterateUncached=function(h,_){var b=this;return c.__iterate(function(C,A){return h(A,C,b)!==!1},_)},f.__iteratorUncached=function(h,_){if(h===q){var b=c.__iterator(h,_);return new Z(function(){var C=b.next();if(!C.done){var A=C.value[0];C.value[0]=C.value[1],C.value[1]=A}return C})}return c.__iterator(h===ue?ce:ue,_)},f}o(sy,"flipFactory");function ay(c,f,h){var _=Kr(c);return _.size=c.size,_.has=function(b){return c.has(b)},_.get=function(b,C){var A=c.get(b,k);return A===k?C:f.call(h,A,b,c)},_.__iterateUncached=function(b,C){var A=this;return c.__iterate(function(B,G,Y){return b(f.call(h,B,G,Y),G,A)!==!1},C)},_.__iteratorUncached=function(b,C){var A=c.__iterator(q,C);return new Z(function(){var B=A.next();if(B.done)return B;var G=B.value,Y=G[0];return ee(b,Y,f.call(h,G[1],Y,c),B)})},_}o(ay,"mapFactory");function cp(c,f){var h=Kr(c);return h._iter=c,h.size=c.size,h.reverse=function(){return c},c.flip&&(h.flip=function(){var _=sy(c);return _.reverse=function(){return c.flip()},_}),h.get=function(_,b){return c.get(f?_:-1-_,b)},h.has=function(_){return c.has(f?_:-1-_)},h.includes=function(_){return c.includes(_)},h.cacheResult=pp,h.__iterate=function(_,b){var C=this;return c.__iterate(function(A,B){return _(A,B,C)},!b)},h.__iterator=function(_,b){return c.__iterator(_,!b)},h}o(cp,"reverseFactory");function cy(c,f,h,_){var b=Kr(c);return _&&(b.has=function(C){var A=c.get(C,k);return A!==k&&!!f.call(h,A,C,c)},b.get=function(C,A){var B=c.get(C,k);return B!==k&&f.call(h,B,C,c)?B:A}),b.__iterateUncached=function(C,A){var B=this,G=0;return c.__iterate(function(Y,Q,me){if(f.call(h,Y,Q,me))return G++,C(Y,_?Q:G-1,B)},A),G},b.__iteratorUncached=function(C,A){var B=c.__iterator(q,A),G=0;return new Z(function(){for(;;){var Y=B.next();if(Y.done)return Y;var Q=Y.value,me=Q[0],ye=Q[1];if(f.call(h,ye,me,c))return ee(C,_?me:G++,ye,Y)}})},b}o(cy,"filterFactory");function Pq(c,f,h){var _=Pe().asMutable();return c.__iterate(function(b,C){_.update(f.call(h,b,C,c),0,function(A){return A+1})}),_.asImmutable()}o(Pq,"countByFactory");function Nq(c,f,h){var _=d(c),b=(v(c)?tt():Pe()).asMutable();c.__iterate(function(A,B){b.update(f.call(h,A,B,c),function(G){return G=G||[],G.push(_?[B,A]:A),G})});var C=gy(c);return b.map(function(A){return Fe(c,C(A))})}o(Nq,"groupByFactory");function up(c,f,h,_){var b=c.size;if(f!==void 0&&(f=f|0),h!==void 0&&(h===Infinity?h=b:h=h|0),L(f,h,b))return c;var C=z(f,b),A=W(h,b);if(C!==C||A!==A)return up(c.toSeq().cacheResult(),f,h,_);var B=A-C,G;B===B&&(G=B<0?0:B);var Y=Kr(c);return Y.size=G===0?G:c.size&&G||void 0,!_&&he(c)&&G>=0&&(Y.get=function(Q,me){return Q=R(this,Q),Q>=0&&Q<G?c.get(Q+C,me):me}),Y.__iterateUncached=function(Q,me){var ye=this;if(G===0)return 0;if(me)return this.cacheResult().__iterate(Q,me);var we=0,qe=!0,Ve=0;return c.__iterate(function(Tr,Hr){if(!(qe&&(qe=we++<C)))return Ve++,Q(Tr,_?Hr:Ve-1,ye)!==!1&&Ve!==G}),Ve},Y.__iteratorUncached=function(Q,me){if(G!==0&&me)return this.cacheResult().__iterator(Q,me);var ye=G!==0&&c.__iterator(Q,me),we=0,qe=0;return new Z(function(){for(;we++<C;)ye.next();if(++qe>G)return ge();var Ve=ye.next();return _||Q===ue?Ve:Q===ce?ee(Q,qe-1,void 0,Ve):ee(Q,qe-1,Ve.value[1],Ve)})},Y}o(up,"sliceFactory");function Dq(c,f,h){var _=Kr(c);return _.__iterateUncached=function(b,C){var A=this;if(C)return this.cacheResult().__iterate(b,C);var B=0;return c.__iterate(function(G,Y,Q){return f.call(h,G,Y,Q)&&++B&&b(G,Y,A)}),B},_.__iteratorUncached=function(b,C){var A=this;if(C)return this.cacheResult().__iterator(b,C);var B=c.__iterator(q,C),G=!0;return new Z(function(){if(!G)return ge();var Y=B.next();if(Y.done)return Y;var Q=Y.value,me=Q[0],ye=Q[1];return f.call(h,ye,me,A)?b===q?Y:ee(b,me,ye,Y):(G=!1,ge())})},_}o(Dq,"takeWhileFactory");function uy(c,f,h,_){var b=Kr(c);return b.__iterateUncached=function(C,A){var B=this;if(A)return this.cacheResult().__iterate(C,A);var G=!0,Y=0;return c.__iterate(function(Q,me,ye){if(!(G&&(G=f.call(h,Q,me,ye))))return Y++,C(Q,_?me:Y-1,B)}),Y},b.__iteratorUncached=function(C,A){var B=this;if(A)return this.cacheResult().__iterator(C,A);var G=c.__iterator(q,A),Y=!0,Q=0;return new Z(function(){var me,ye,we;do{if(me=G.next(),me.done)return _||C===ue?me:C===ce?ee(C,Q++,void 0,me):ee(C,Q++,me.value[1],me);var qe=me.value;ye=qe[0],we=qe[1],Y&&(Y=f.call(h,we,ye,B))}while(Y);return C===q?me:ee(C,ye,we,me)})},b}o(uy,"skipWhileFactory");function Lq(c,f){var h=d(c),_=[c].concat(f).map(function(A){return p(A)?h&&(A=a(A)):A=h?Te(A):ke(Array.isArray(A)?A:[A]),A}).filter(function(A){return A.size!==0});if(_.length===0)return c;if(_.length===1){var b=_[0];if(b===c||h&&d(b)||g(c)&&g(b))return b}var C=new D(_);return h?C=C.toKeyedSeq():g(c)||(C=C.toSetSeq()),C=C.flatten(!0),C.size=_.reduce(function(A,B){if(A!==void 0){var G=B.size;if(G!==void 0)return A+G}},0),C}o(Lq,"concatFactory");function ly(c,f,h){var _=Kr(c);return _.__iterateUncached=function(b,C){var A=0,B=!1;function G(Y,Q){var me=this;Y.__iterate(function(ye,we){return(!f||Q<f)&&p(ye)?G(ye,Q+1):b(ye,h?we:A++,me)===!1&&(B=!0),!B},C)}return o(G,"flatDeep"),G(c,0),A},_.__iteratorUncached=function(b,C){var A=c.__iterator(b,C),B=[],G=0;return new Z(function(){for(;A;){var Y=A.next();if(Y.done!==!1){A=B.pop();continue}var Q=Y.value;if(b===q&&(Q=Q[1]),(!f||B.length<f)&&p(Q))B.push(A),A=Q.__iterator(b,C);else return h?Y:ee(b,G++,Q,Y)}return ge()})},_}o(ly,"flattenFactory");function Bq(c,f,h){var _=gy(c);return c.toSeq().map(function(b,C){return _(f.call(h,b,C,c))}).flatten(!0)}o(Bq,"flatMapFactory");function Kq(c,f){var h=Kr(c);return h.size=c.size&&c.size*2-1,h.__iterateUncached=function(_,b){var C=this,A=0;return c.__iterate(function(B,G){return(!A||_(f,A++,C)!==!1)&&_(B,A++,C)!==!1},b),A},h.__iteratorUncached=function(_,b){var C=c.__iterator(ue,b),A=0,B;return new Z(function(){return(!B||A%2)&&(B=C.next(),B.done)?B:A%2?ee(_,A++,f):ee(_,A++,B.value,B)})},h}o(Kq,"interposeFactory");function Yi(c,f,h){f||(f=hy);var _=d(c),b=0,C=c.toSeq().map(function(A,B){return[B,A,b++,h?h(A,B,c):A]}).toArray();return C.sort(function(A,B){return f(A[3],B[3])||A[2]-B[2]}).forEach(_?function(A,B){C[B].length=2}:function(A,B){C[B]=A[1]}),_?U(C):g(c)?H(C):J(C)}o(Yi,"sortFactory");function Ua(c,f,h){if(f||(f=hy),h){var _=c.toSeq().map(function(b,C){return[b,h(b,C,c)]}).reduce(function(b,C){return py(f,b[1],C[1])?C:b});return _&&_[0]}else return c.reduce(function(b,C){return py(f,b,C)?C:b})}o(Ua,"maxFactory");function py(c,f,h){var _=c(h,f);return _===0&&h!==f&&(h==null||h!==h)||_>0}o(py,"maxCompare");function lp(c,f,h){var _=Kr(c);return _.size=new D(h).map(function(b){return b.size}).min(),_.__iterate=function(b,C){for(var A=this.__iterator(ue,C),B,G=0;!(B=A.next()).done&&b(B.value,G++,this)!==!1;);return G},_.__iteratorUncached=function(b,C){var A=h.map(function(Y){return Y=s(Y),Se(C?Y.reverse():Y)}),B=0,G=!1;return new Z(function(){var Y;return G||(Y=A.map(function(Q){return Q.next()}),G=Y.some(function(Q){return Q.done})),G?ge():ee(b,B++,f.apply(null,Y.map(function(Q){return Q.value})))})},_}o(lp,"zipWithFactory");function Fe(c,f){return he(c)?f:c.constructor(f)}o(Fe,"reify");function fy(c){if(c!==Object(c))throw new TypeError("Expected [K, V] tuple: "+c)}o(fy,"validateEntry");function dy(c){return Vt(c.size),V(c)}o(dy,"resolveSize");function gy(c){return d(c)?a:g(c)?u:l}o(gy,"iterableClass");function Kr(c){return Object.create((d(c)?U:g(c)?H:J).prototype)}o(Kr,"makeSequence");function pp(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):M.prototype.cacheResult.call(this)}o(pp,"cacheResultThrough");function hy(c,f){return c>f?1:c<f?-1:0}o(hy,"defaultComparator");function my(c){var f=Se(c);if(!f){if(!N(c))throw new TypeError("Expected iterable or array-like: "+c);f=Se(s(c))}return f}o(my,"forceIterator"),i(Yt,fs);function Yt(c,f){var h,_=o(function(A){if(A instanceof _)return A;if(!(this instanceof _))return new _(A);if(!h){h=!0;var B=Object.keys(c);Uq(b,B),b.size=B.length,b._name=f,b._keys=B,b._defaultValues=c}this._map=Pe(A)},"Record"),b=_.prototype=Object.create(St);return b.constructor=_,_}o(Yt,"Record"),Yt.prototype.toString=function(){return this.__toString(vy(this)+" {","}")},Yt.prototype.has=function(c){return this._defaultValues.hasOwnProperty(c)},Yt.prototype.get=function(c,f){if(!this.has(c))return f;var h=this._defaultValues[c];return this._map?this._map.get(c,h):h},Yt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var c=this.constructor;return c._empty||(c._empty=Fa(this,wr()))},Yt.prototype.set=function(c,f){if(!this.has(c))throw new Error('Cannot set unknown key "'+c+'" on '+vy(this));if(this._map&&!this._map.has(c)){var h=this._defaultValues[c];if(f===h)return this}var _=this._map&&this._map.set(c,f);return this.__ownerID||_===this._map?this:Fa(this,_)},Yt.prototype.remove=function(c){if(!this.has(c))return this;var f=this._map&&this._map.remove(c);return this.__ownerID||f===this._map?this:Fa(this,f)},Yt.prototype.wasAltered=function(){return this._map.wasAltered()},Yt.prototype.__iterator=function(c,f){var h=this;return a(this._defaultValues).map(function(_,b){return h.get(b)}).__iterator(c,f)},Yt.prototype.__iterate=function(c,f){var h=this;return a(this._defaultValues).map(function(_,b){return h.get(b)}).__iterate(c,f)},Yt.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var f=this._map&&this._map.__ensureOwner(c);return c?Fa(this,f,c):(this.__ownerID=c,this._map=f,this)};var St=Yt.prototype;St[w]=St.remove,St.deleteIn=St.removeIn=Me.removeIn,St.merge=Me.merge,St.mergeWith=Me.mergeWith,St.mergeIn=Me.mergeIn,St.mergeDeep=Me.mergeDeep,St.mergeDeepWith=Me.mergeDeepWith,St.mergeDeepIn=Me.mergeDeepIn,St.setIn=Me.setIn,St.update=Me.update,St.updateIn=Me.updateIn,St.withMutations=Me.withMutations,St.asMutable=Me.asMutable,St.asImmutable=Me.asImmutable;function Fa(c,f,h){var _=Object.create(Object.getPrototypeOf(c));return _._map=f,_.__ownerID=h,_}o(Fa,"makeRecord");function vy(c){return c._name||c.constructor.name||"Record"}o(vy,"recordName");function Uq(c,f){try{f.forEach(Fq.bind(void 0,c))}catch(h){}}o(Uq,"setProps");function Fq(c,f){Object.defineProperty(c,f,{get:function(){return this.get(f)},set:function(h){Na(this.__ownerID,"Cannot set on an immutable record."),this.set(f,h)}})}o(Fq,"setProp"),i(Ge,Da);function Ge(c){return c==null?gp():fp(c)&&!v(c)?c:gp().withMutations(function(f){var h=l(c);Vt(h.size),h.forEach(function(_){return f.add(_)})})}o(Ge,"Set"),Ge.of=function(){return this(arguments)},Ge.fromKeys=function(c){return this(a(c).keySeq())},Ge.prototype.toString=function(){return this.__toString("Set {","}")},Ge.prototype.has=function(c){return this._map.has(c)},Ge.prototype.add=function(c){return dp(this,this._map.set(c,!0))},Ge.prototype.remove=function(c){return dp(this,this._map.remove(c))},Ge.prototype.clear=function(){return dp(this,this._map.clear())},Ge.prototype.union=function(){var c=n.call(arguments,0);return c=c.filter(function(f){return f.size!==0}),c.length===0?this:this.size===0&&!this.__ownerID&&c.length===1?this.constructor(c[0]):this.withMutations(function(f){for(var h=0;h<c.length;h++)l(c[h]).forEach(function(_){return f.add(_)})})},Ge.prototype.intersect=function(){var c=n.call(arguments,0);if(c.length===0)return this;c=c.map(function(h){return l(h)});var f=this;return this.withMutations(function(h){f.forEach(function(_){c.every(function(b){return b.includes(_)})||h.remove(_)})})},Ge.prototype.subtract=function(){var c=n.call(arguments,0);if(c.length===0)return this;c=c.map(function(h){return l(h)});var f=this;return this.withMutations(function(h){f.forEach(function(_){c.some(function(b){return b.includes(_)})&&h.remove(_)})})},Ge.prototype.merge=function(){return this.union.apply(this,arguments)},Ge.prototype.mergeWith=function(c){var f=n.call(arguments,1);return this.union.apply(this,f)},Ge.prototype.sort=function(c){return Ur(Yi(this,c))},Ge.prototype.sortBy=function(c,f){return Ur(Yi(this,f,c))},Ge.prototype.wasAltered=function(){return this._map.wasAltered()},Ge.prototype.__iterate=function(c,f){var h=this;return this._map.__iterate(function(_,b){return c(b,b,h)},f)},Ge.prototype.__iterator=function(c,f){return this._map.map(function(h,_){return _}).__iterator(c,f)},Ge.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var f=this._map.__ensureOwner(c);return c?this.__make(f,c):(this.__ownerID=c,this._map=f,this)};function fp(c){return!!(c&&c[yy])}o(fp,"isSet"),Ge.isSet=fp;var yy="@@__IMMUTABLE_SET__@@",Xt=Ge.prototype;Xt[yy]=!0,Xt[w]=Xt.remove,Xt.mergeDeep=Xt.merge,Xt.mergeDeepWith=Xt.mergeWith,Xt.withMutations=Me.withMutations,Xt.asMutable=Me.asMutable,Xt.asImmutable=Me.asImmutable,Xt.__empty=gp,Xt.__make=_y;function dp(c,f){return c.__ownerID?(c.size=f.size,c._map=f,c):f===c._map?c:f.size===0?c.__empty():c.__make(f)}o(dp,"updateSet");function _y(c,f){var h=Object.create(Xt);return h.size=c?c.size:0,h._map=c,h.__ownerID=f,h}o(_y,"makeSet");var by;function gp(){return by||(by=_y(wr()))}o(gp,"emptySet"),i(Ur,Ge);function Ur(c){return c==null?hp():xy(c)?c:hp().withMutations(function(f){var h=l(c);Vt(h.size),h.forEach(function(_){return f.add(_)})})}o(Ur,"OrderedSet"),Ur.of=function(){return this(arguments)},Ur.fromKeys=function(c){return this(a(c).keySeq())},Ur.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function xy(c){return fp(c)&&v(c)}o(xy,"isOrderedSet"),Ur.isOrderedSet=xy;var Ha=Ur.prototype;Ha[T]=!0,Ha.__empty=hp,Ha.__make=Sy;function Sy(c,f){var h=Object.create(Ha);return h.size=c?c.size:0,h._map=c,h.__ownerID=f,h}o(Sy,"makeOrderedSet");var Ey;function hp(){return Ey||(Ey=Sy(Ka()))}o(hp,"emptyOrderedSet"),i(ot,Hi);function ot(c){return c==null?mp():wy(c)?c:mp().unshiftAll(c)}o(ot,"Stack"),ot.of=function(){return this(arguments)},ot.prototype.toString=function(){return this.__toString("Stack [","]")},ot.prototype.get=function(c,f){var h=this._head;for(c=R(this,c);h&&c--;)h=h.next;return h?h.value:f},ot.prototype.peek=function(){return this._head&&this._head.value},ot.prototype.push=function(){if(arguments.length===0)return this;for(var c=this.size+arguments.length,f=this._head,h=arguments.length-1;h>=0;h--)f={value:arguments[h],next:f};return this.__ownerID?(this.size=c,this._head=f,this.__hash=void 0,this.__altered=!0,this):_s(c,f)},ot.prototype.pushAll=function(c){if(c=u(c),c.size===0)return this;Vt(c.size);var f=this.size,h=this._head;return c.reverse().forEach(function(_){f++,h={value:_,next:h}}),this.__ownerID?(this.size=f,this._head=h,this.__hash=void 0,this.__altered=!0,this):_s(f,h)},ot.prototype.pop=function(){return this.slice(1)},ot.prototype.unshift=function(){return this.push.apply(this,arguments)},ot.prototype.unshiftAll=function(c){return this.pushAll(c)},ot.prototype.shift=function(){return this.pop.apply(this,arguments)},ot.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):mp()},ot.prototype.slice=function(c,f){if(L(c,f,this.size))return this;var h=z(c,this.size),_=W(f,this.size);if(_!==this.size)return Hi.prototype.slice.call(this,c,f);for(var b=this.size-h,C=this._head;h--;)C=C.next;return this.__ownerID?(this.size=b,this._head=C,this.__hash=void 0,this.__altered=!0,this):_s(b,C)},ot.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?_s(this.size,this._head,c,this.__hash):(this.__ownerID=c,this.__altered=!1,this)},ot.prototype.__iterate=function(c,f){if(f)return this.reverse().__iterate(c);for(var h=0,_=this._head;_&&c(_.value,h++,this)!==!1;)_=_.next;return h},ot.prototype.__iterator=function(c,f){if(f)return this.reverse().__iterator(c);var h=0,_=this._head;return new Z(function(){if(_){var b=_.value;return _=_.next,ee(c,h++,b)}return ge()})};function wy(c){return!!(c&&c[Ty])}o(wy,"isStack"),ot.isStack=wy;var Ty="@@__IMMUTABLE_STACK__@@",Xi=ot.prototype;Xi[Ty]=!0,Xi.withMutations=Me.withMutations,Xi.asMutable=Me.asMutable,Xi.asImmutable=Me.asImmutable,Xi.wasAltered=Me.wasAltered;function _s(c,f,h,_){var b=Object.create(Xi);return b.size=c,b._head=f,b.__ownerID=h,b.__hash=_,b.__altered=!1,b}o(_s,"makeStack");var Oy;function mp(){return Oy||(Oy=_s(0))}o(mp,"emptyStack");function Fr(c,f){var h=o(function(_){c.prototype[_]=f[_]},"keyCopier");return Object.keys(f).forEach(h),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(f).forEach(h),c}o(Fr,"mixin"),s.Iterator=Z,Fr(s,{toArray:function(){Vt(this.size);var c=new Array(this.size||0);return this.valueSeq().__iterate(function(f,h){c[h]=f}),c},toIndexedSeq:function(){return new Ji(this)},toJS:function(){return this.toSeq().map(function(c){return c&&typeof c.toJS=="function"?c.toJS():c}).__toJS()},toJSON:function(){return this.toSeq().map(function(c){return c&&typeof c.toJSON=="function"?c.toJSON():c}).__toJS()},toKeyedSeq:function(){return new fr(this,!0)},toMap:function(){return Pe(this.toKeyedSeq())},toObject:function(){Vt(this.size);var c={};return this.__iterate(function(f,h){c[h]=f}),c},toOrderedMap:function(){return tt(this.toKeyedSeq())},toOrderedSet:function(){return Ur(d(this)?this.valueSeq():this)},toSet:function(){return Ge(d(this)?this.valueSeq():this)},toSetSeq:function(){return new Gi(this)},toSeq:function(){return g(this)?this.toIndexedSeq():d(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ot(d(this)?this.valueSeq():this)},toList:function(){return We(d(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(c,f){return this.size===0?c+f:c+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+f},concat:function(){var c=n.call(arguments,0);return Fe(this,Lq(this,c))},includes:function(c){return this.some(function(f){return ze(f,c)})},entries:function(){return this.__iterator(q)},every:function(c,f){Vt(this.size);var h=!0;return this.__iterate(function(_,b,C){if(!c.call(f,_,b,C))return h=!1,!1}),h},filter:function(c,f){return Fe(this,cy(this,c,f,!0))},find:function(c,f,h){var _=this.findEntry(c,f);return _?_[1]:h},forEach:function(c,f){return Vt(this.size),this.__iterate(f?c.bind(f):c)},join:function(c){Vt(this.size),c=c!==void 0?""+c:",";var f="",h=!0;return this.__iterate(function(_){h?h=!1:f+=c,f+=_!=null?_.toString():""}),f},keys:function(){return this.__iterator(ce)},map:function(c,f){return Fe(this,ay(this,c,f))},reduce:function(c,f,h){Vt(this.size);var _,b;return arguments.length<2?b=!0:_=f,this.__iterate(function(C,A,B){b?(b=!1,_=C):_=c.call(h,_,C,A,B)}),_},reduceRight:function(c,f,h){var _=this.toKeyedSeq().reverse();return _.reduce.apply(_,arguments)},reverse:function(){return Fe(this,cp(this,!0))},slice:function(c,f){return Fe(this,up(this,c,f,!0))},some:function(c,f){return!this.every($a(c),f)},sort:function(c){return Fe(this,Yi(this,c))},values:function(){return this.__iterator(ue)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(c,f){return V(c?this.toSeq().filter(c,f):this)},countBy:function(c,f){return Pq(this,c,f)},equals:function(c){return pi(this,c)},entrySeq:function(){var c=this;if(c._cache)return new D(c._cache);var f=c.toSeq().map(zq).toIndexedSeq();return f.fromEntrySeq=function(){return c.toSeq()},f},filterNot:function(c,f){return this.filter($a(c),f)},findEntry:function(c,f,h){var _=h;return this.__iterate(function(b,C,A){if(c.call(f,b,C,A))return _=[C,b],!1}),_},findKey:function(c,f){var h=this.findEntry(c,f);return h&&h[0]},findLast:function(c,f,h){return this.toKeyedSeq().reverse().find(c,f,h)},findLastEntry:function(c,f,h){return this.toKeyedSeq().reverse().findEntry(c,f,h)},findLastKey:function(c,f){return this.toKeyedSeq().reverse().findKey(c,f)},first:function(){return this.find(P)},flatMap:function(c,f){return Fe(this,Bq(this,c,f))},flatten:function(c){return Fe(this,ly(this,c,!0))},fromEntrySeq:function(){return new Vi(this)},get:function(c,f){return this.find(function(h,_){return ze(_,c)},void 0,f)},getIn:function(c,f){for(var h=this,_=my(c),b;!(b=_.next()).done;){var C=b.value;if(h=h&&h.get?h.get(C,k):k,h===k)return f}return h},groupBy:function(c,f){return Nq(this,c,f)},has:function(c){return this.get(c,k)!==k},hasIn:function(c){return this.getIn(c,k)!==k},isSubset:function(c){return c=typeof c.includes=="function"?c:s(c),this.every(function(f){return c.includes(f)})},isSuperset:function(c){return c=typeof c.isSubset=="function"?c:s(c),c.isSubset(this)},keyOf:function(c){return this.findKey(function(f){return ze(f,c)})},keySeq:function(){return this.toSeq().map(Hq).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(c){return this.toKeyedSeq().reverse().keyOf(c)},max:function(c){return Ua(this,c)},maxBy:function(c,f){return Ua(this,f,c)},min:function(c){return Ua(this,c?Cy(c):ky)},minBy:function(c,f){return Ua(this,f?Cy(f):ky,c)},rest:function(){return this.slice(1)},skip:function(c){return this.slice(Math.max(0,c))},skipLast:function(c){return Fe(this,this.toSeq().reverse().skip(c).reverse())},skipWhile:function(c,f){return Fe(this,uy(this,c,f,!0))},skipUntil:function(c,f){return this.skipWhile($a(c),f)},sortBy:function(c,f){return Fe(this,Yi(this,f,c))},take:function(c){return this.slice(0,Math.max(0,c))},takeLast:function(c){return Fe(this,this.toSeq().reverse().take(c).reverse())},takeWhile:function(c,f){return Fe(this,Dq(this,c,f))},takeUntil:function(c,f){return this.takeWhile($a(c),f)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Wq(this))}});var Pt=s.prototype;Pt[y]=!0,Pt[le]=Pt.values,Pt.__toJS=Pt.toArray,Pt.__toStringMapper=Iy,Pt.inspect=Pt.toSource=function(){return this.toString()},Pt.chain=Pt.flatMap,Pt.contains=Pt.includes,Fr(a,{flip:function(){return Fe(this,sy(this))},mapEntries:function(c,f){var h=this,_=0;return Fe(this,this.toSeq().map(function(b,C){return c.call(f,[C,b],_++,h)}).fromEntrySeq())},mapKeys:function(c,f){var h=this;return Fe(this,this.toSeq().flip().map(function(_,b){return c.call(f,_,b,h)}).flip())}});var za=a.prototype;za[S]=!0,za[le]=Pt.entries,za.__toJS=Pt.toObject,za.__toStringMapper=function(c,f){return JSON.stringify(f)+": "+Iy(c)},Fr(u,{toKeyedSeq:function(){return new fr(this,!1)},filter:function(c,f){return Fe(this,cy(this,c,f,!1))},findIndex:function(c,f){var h=this.findEntry(c,f);return h?h[0]:-1},indexOf:function(c){var f=this.keyOf(c);return f===void 0?-1:f},lastIndexOf:function(c){var f=this.lastKeyOf(c);return f===void 0?-1:f},reverse:function(){return Fe(this,cp(this,!1))},slice:function(c,f){return Fe(this,up(this,c,f,!1))},splice:function(c,f){var h=arguments.length;if(f=Math.max(f|0,0),h===0||h===2&&!f)return this;c=z(c,c<0?this.count():this.size);var _=this.slice(0,c);return Fe(this,h===1?_:_.concat(fe(arguments,2),this.slice(c+f)))},findLastIndex:function(c,f){var h=this.findLastEntry(c,f);return h?h[0]:-1},first:function(){return this.get(0)},flatten:function(c){return Fe(this,ly(this,c,!1))},get:function(c,f){return c=R(this,c),c<0||this.size===Infinity||this.size!==void 0&&c>this.size?f:this.find(function(h,_){return _===c},void 0,f)},has:function(c){return c=R(this,c),c>=0&&(this.size!==void 0?this.size===Infinity||c<this.size:this.indexOf(c)!==-1)},interpose:function(c){return Fe(this,Kq(this,c))},interleave:function(){var c=[this].concat(fe(arguments)),f=lp(this.toSeq(),H.of,c),h=f.flatten(!0);return f.size&&(h.size=f.size*c.length),Fe(this,h)},keySeq:function(){return xt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(c,f){return Fe(this,uy(this,c,f,!1))},zip:function(){var c=[this].concat(fe(arguments));return Fe(this,lp(this,$q,c))},zipWith:function(c){var f=fe(arguments);return f[0]=this,Fe(this,lp(this,c,f))}}),u.prototype[E]=!0,u.prototype[T]=!0,Fr(l,{get:function(c,f){return this.has(c)?c:f},includes:function(c){return this.has(c)},keySeq:function(){return this.valueSeq()}}),l.prototype.has=Pt.includes,l.prototype.contains=l.prototype.includes,Fr(U,a.prototype),Fr(H,u.prototype),Fr(J,l.prototype),Fr(fs,a.prototype),Fr(Hi,u.prototype),Fr(Da,l.prototype);function Hq(c,f){return f}o(Hq,"keyMapper");function zq(c,f){return[f,c]}o(zq,"entryMapper");function $a(c){return function(){return!c.apply(this,arguments)}}o($a,"not");function Cy(c){return function(){return-c.apply(this,arguments)}}o(Cy,"neg");function Iy(c){return typeof c=="string"?JSON.stringify(c):String(c)}o(Iy,"quoteString");function $q(){return fe(arguments)}o($q,"defaultZipper");function ky(c,f){return c<f?1:c>f?-1:0}o(ky,"defaultNegComparator");function Wq(c){if(c.size===Infinity)return 0;var f=v(c),h=d(c),_=f?1:0,b=c.__iterate(h?f?function(C,A){_=31*_+Ay(Gt(C),Gt(A))|0}:function(C,A){_=_+Ay(Gt(C),Gt(A))|0}:f?function(C){_=31*_+Gt(C)|0}:function(C){_=_+Gt(C)|0});return Jq(b,_)}o(Wq,"hashIterable");function Jq(c,f){return f=ds(f,3432918353),f=ds(f<<15|f>>>-15,461845907),f=ds(f<<13|f>>>-13,5),f=(f+3864292196|0)^c,f=ds(f^f>>>16,2246822507),f=ds(f^f>>>13,3266489909),f=Wl(f^f>>>16),f}o(Jq,"murmurHashOfSize");function Ay(c,f){return c^f+2654435769+(c<<6)+(c>>2)|0}o(Ay,"hashMerge");var Gq={Iterable:s,Seq:M,Collection:Rn,Map:Pe,OrderedMap:tt,List:We,Stack:ot,Set:Ge,OrderedSet:Ur,Record:Yt,Range:xt,Repeat:Ct,is:ze,fromJS:Ot};return Gq})},"./node_modules/transit-immutable-js/index.js":function(e,t,r){var n=r("./node_modules/transit-js/transit.js"),i=r("./node_modules/immutable/dist/immutable.js");function s(T){return n.reader("json",{mapBuilder:{init:function(){return{}},add:function(w,O,I){return w[O]=I,w},finalize:function(w){return w}},handlers:T})}o(s,"createReader");function a(T,w,O){var I={iM:function(j){for(var k=i.Map().asMutable(),F=0;F<j.length;F+=2)k=k.set(j[F],j[F+1]);return k.asImmutable()},iOM:function(j){for(var k=i.OrderedMap().asMutable(),F=0;F<j.length;F+=2)k=k.set(j[F],j[F+1]);return k.asImmutable()},iL:function(j){return i.List(j)},iS:function(j){return i.Set(j)},iOS:function(j){return i.OrderedSet(j)},iR:function(j){var k=w[j.n];return k?new k(j.v):O(j.n,j.v)}};return T.forEach(function(j){I[j.tag]=j.read}),I}o(a,"createReaderHandlers");function u(T){return n.writer("json",{handlers:T})}o(u,"createWriter");function l(T,w,O){function I(k){var F=0;O&&(k=k.filter(O));var $=new Array(2*k.size);return k.forEach(function(ne,se){$[F++]=se,$[F++]=ne}),$}o(I,"mapSerializer");var j=n.map([i.Map,n.makeWriteHandler({tag:function(){return"iM"},rep:I}),i.OrderedMap,n.makeWriteHandler({tag:function(){return"iOM"},rep:I}),i.List,n.makeWriteHandler({tag:function(){return"iL"},rep:function(k){return O&&(k=k.filter(O)),k.toArray()}}),i.Set,n.makeWriteHandler({tag:function(){return"iS"},rep:function(k){return O&&(k=k.filter(O)),k.toArray()}}),i.OrderedSet,n.makeWriteHandler({tag:function(){return"iOS"},rep:function(k){return O&&(k=k.filter(O)),k.toArray()}}),Function,n.makeWriteHandler({tag:function(){return"_"},rep:function(){return null}}),"default",n.makeWriteHandler({tag:function(){return"iM"},rep:function(k){if(!("toMap"in k)){var F="Error serializing unrecognized object "+k.toString();throw new Error(F)}return I(k.toMap())}})]);return Object.keys(w).forEach(function(k){j.set(w[k],m(k,O))}),T.forEach(function(k){j.set(k.class,n.makeWriteHandler({tag:function(){return k.tag},rep:k.write}))}),j}o(l,"createWriterHandlers");function p(T){Array.isArray(T)||d(T,"Expected array of handlers, got %j"),T.forEach(function(w){typeof w.tag!="string"&&d(w,"Expected %j to have property 'tag' which is a string"),typeof w.class!="function"&&d(w,"Expected %j to have property 'class' which is a constructor function"),typeof w.write!="function"&&d(w,"Expected %j to have property 'write' which is a function"),typeof w.read!="function"&&d(w,"Expected %j to have property 'write' which is a function")})}o(p,"validateExtras");function d(T,w){var O=JSON.stringify(T);throw new Error(w.replace("%j",O))}o(d,"invalidExtras");function g(T){return T._name||T.constructor.name||"Record"}o(g,"recordName");function m(T){return n.makeWriteHandler({tag:function(){return"iR"},rep:function(w){return{n:T,v:w.toObject()}}})}o(m,"makeRecordHandler");function v(T){var w={};return T.forEach(function(O){var I=new O({}),j=g(I);if(!j||j==="Record")throw new Error("Cannot (de)serialize Record() without a name");if(w[j])throw new Error("There's already a constructor for a Record named "+j);w[j]=O}),w}o(v,"buildRecordMap");function y(T){var w="Tried to deserialize Record type named `"+T+"`, but no type with that name was passed to withRecords()";throw new Error(w)}o(y,"defaultMissingRecordHandler");function S(T){var w=s(T.read),O=u(T.write);return{toJSON:o(function(j){return O.write(j)},"toJSON"),fromJSON:o(function(j){return w.read(j)},"fromJSON"),withExtraHandlers:function(I){return S(T.withExtraHandlers(I))},withFilter:function(I){return S(T.withFilter(I))},withRecords:function(I,j){return S(T.withRecords(I,j))}}}o(S,"createInstanceFromHandlers");function E(T){var w=T.records||{},O=T.filter||!1,I=T.missingRecordHandler||y,j=T.extras||[];return{read:a(j,w,I),write:l(j,w,O),withExtraHandlers:function(k){return p(k),E({extras:j.concat(k),records:w,filter:O,missingRecordHandler:I})},withFilter:function(k){return E({extras:j,records:w,filter:k,missingRecordHandler:I})},withRecords:function(k,F){var $=v(k);return E({extras:j,records:$,filter:O,missingRecordHandler:F})}}}o(E,"createHandlers"),e.exports=S(E({})),e.exports.handlers=E({})},"./node_modules/transit-js/transit.js":function(module,exports,__webpack_require__){(function(global){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.checkStringArgs=function(e,t,r){if(e==null)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.defineProperty=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return typeof window!="undefined"&&window===e?e:typeof global!="undefined"&&global!=null?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var i=e[n];i in r||(r[i]={}),r=r[i]}e=e[e.length-1],n=r[e],t=t(n),t!=n&&t!=null&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(t){var r=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)t&1&&(n+=r),(t>>>=1)&&(r+=r);return n}},"es6-impl","es3"),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),typeof Array.prototype[e]!="function"&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),e={next:e},e[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var r=0,n={next:function(){if(r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill("Array.prototype.entries",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t,r){return[t,r]})}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.values",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t,r){return r})}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(e){return e!==void 0},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||!r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}},goog.define=function(e,t){var r=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?r=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(r=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,r)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e];if(!goog.implicitNamespaces_[e])return e=goog.getObjectByName(e),e!=null?e:null}return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var r=e.split("."),n=t||goog.global,i;i=r.shift();)if(goog.isDefAndNotNull(n[i]))n=n[i];else return null;return n},goog.globalize=function(e,t){var r=t||goog.global,n;for(n in e)r[n]=e[n]},goog.addDependency=function(e,t,r,n){if(goog.DEPENDENCIES_ENABLED){var i;e=e.replace(/\\/g,"/");var s=goog.dependencies_;n&&typeof n!="boolean"||(n=n?{module:"goog"}:{});for(var a=0;i=t[a];a++)s.nameToPath[i]=e,s.loadFlags[e]=n;for(n=0;t=r[n];n++)e in s.requires||(s.requires[e]={}),s.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)goog.writeScripts_(t);else throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e)}return null}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.TRANSPILER="transpile.js",goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return e!=null&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var r=e[t].src,n=r.lastIndexOf("?"),n=n==-1?r.length:n;if(r.substr(n-7,7)=="base.js"){goog.basePath=r.substr(0,n-7);break}}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.oldIeWaiting_=!1,goog.importProcessedScript_=function(e,t,r){goog.importScript_("",'goog.retrieveAndExec_("'+e+'", '+t+", "+r+");")},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+`
//# sourceURL=`+e+`
`)+");":'goog.loadModule(function(exports) {"use strict";'+t+`
;return exports});
//# sourceURL=`+e+`
`},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(0<e){var t=goog.queuedModules_;goog.queuedModules_=[];for(var r=0;r<e;r++)goog.maybeProcessDeferredPath_(t[r])}goog.oldIeWaiting_=!1},goog.maybeProcessDeferredDep_=function(e){goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)&&(e=goog.getPathFromDeps_(e),goog.maybeProcessDeferredPath_(goog.basePath+e))},goog.isDeferredModule_=function(e){var t=(e=goog.getPathFromDeps_(e))&&goog.dependencies_.loadFlags[e]||{},r=t.lang||"es3";return e&&(t.module=="goog"||goog.needsTranspile_(r))?goog.basePath+e in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(e){if((e=goog.getPathFromDeps_(e))&&e in goog.dependencies_.requires){for(var t in goog.dependencies_.requires[e])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1}return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExec_(e,!0,!1)},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,r=t.createElement("script");r.type="text/javascript",r.src=e,r.defer=!1,r.async=!1,t.head.appendChild(r)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var r=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&r.readyState=="complete"){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}if(t===void 0)if(goog.IS_OLD_IE_){goog.oldIeWaiting_=!0;var n=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";r.write('<script type="text/javascript" src="'+e+'"'+n+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e);else r.write('<script type="text/javascript">'+goog.protectScriptTag_(t)+"<\/script>");return!0}return!1},goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.needsTranspile_=function(e){if(goog.TRANSPILE=="always")return!0;if(goog.TRANSPILE=="never")return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),e in goog.requiresTranspilation_)return goog.requiresTranspilation_[e];throw Error("Unknown language mode: "+e)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return e.readyState=="complete"&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){function t(p){if(!(p in i.written||p in i.visited)){if(i.visited[p]=!0,p in i.requires){for(var d in i.requires[p])if(!goog.isProvided_(d))if(d in i.nameToPath)t(i.nameToPath[d]);else throw Error("Undefined nameToPath for "+d)}p in n||(n[p]=!0,r.push(p))}}o(t,"b");var r=[],n={},i=goog.dependencies_;t(e);for(var s=0;s<r.length;s++)e=r[s],goog.dependencies_.written[e]=!0;var a=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,s=0;s<r.length;s++)if(e=r[s]){var u=i.loadFlags[e]||{},l=goog.needsTranspile_(u.lang||"es3");u.module=="goog"||l?goog.importProcessedScript_(goog.basePath+e,u.module=="goog",l):goog.importScript_(goog.basePath+e)}else throw goog.moduleLoaderState_=a,Error("Undefined script input");goog.moduleLoaderState_=a},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+`
;})();
`},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(e))var r=e.call(void 0,{});else if(goog.isString(e))goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e);else throw Error("Invalid module definition");var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof r=="object"&&r!=null&&Object.seal(r),goog.loadedModules_[n]=r}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)e[t]=="."?e.splice(t,1):t&&e[t]==".."&&e[t-1]&&e[t-1]!=".."?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.status==0||t.status==200?t.responseText:null}catch(r){return null}},goog.retrieveAndExec_=function(e,t,r){if(!COMPILED){var n=e;e=goog.normalizePath_(e);var i=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,s=goog.loadFileSync_(e);if(s==null)throw Error('Load of "'+e+'" failed');r&&(s=goog.transpile_.call(goog.global,s,e)),s=t?goog.wrapModule_(e,s):s+(`
//# sourceURL=`+e),goog.IS_OLD_IE_&&goog.oldIeWaiting_?(goog.dependencies_.deferred[n]=s,goog.queuedModules_.push(n)):i(e,s)}},goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){if(eval(f+`
//# sourceURL=`+e),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,c=goog.global.$jscomp,d=c.transpile}}return d||(d=c.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),d(a,b)},goog.typeOf=function(e){var t=typeof e;if(t=="object")if(e){if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if(r=="[object Window]")return"object";if(r=="[object Array]"||typeof e.length=="number"&&typeof e.splice!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("splice"))return"array";if(r=="[object Function]"||typeof e.call!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("call"))return"function"}else return"null";else if(t=="function"&&typeof e.call=="undefined")return"object";return t},goog.isNull=function(e){return e===null},goog.isDefAndNotNull=function(e){return e!=null},goog.isArray=function(e){return goog.typeOf(e)=="array"},goog.isArrayLike=function(e){var t=goog.typeOf(e);return t=="array"||t=="object"&&typeof e.length=="number"},goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"},goog.isString=function(e){return typeof e=="string"},goog.isBoolean=function(e){return typeof e=="boolean"},goog.isNumber=function(e){return typeof e=="number"},goog.isFunction=function(e){return goog.typeOf(e)=="function"},goog.isObject=function(e){var t=typeof e;return t=="object"&&e!=null||t=="function"},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){e!==null&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(e.clone)return e.clone();var t=t=="array"?[]:{},r;for(r in e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),e.apply(t,i)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),e.apply(this,n)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null)if(goog.global.eval("var _evalTest_ = 1;"),typeof goog.global._evalTest_!="undefined"){try{delete goog.global._evalTest_}catch(n){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.body.appendChild(r),t.body.removeChild(r)}}else throw Error("goog.globalEval not available")},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if(String(e).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=o(function(i){return goog.cssNameMapping_[i]||i},"c"),n=o(function(i){i=i.split("-");for(var s=[],a=0;a<i.length;a++)s.push(r(i[a]));return s.join("-")},"d"),n=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?r:n:function(i){return i},n=t?e+"-"+n(t):n(e);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(n):n},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(r,n){return t!=null&&n in t?t[n]:r})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}o(r,"c"),r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(n,i,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[i].apply(n,a)}},goog.base=function(e,t,r){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.superClass_){for(var i=Array(arguments.length-1),s=1;s<arguments.length;s++)i[s-1]=arguments[s];return n.superClass_.constructor.apply(e,i)}for(i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];for(var s=!1,a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===n)s=!0;else if(s)return a.prototype[t].apply(e,i);if(e[t]===n)return e.constructor.prototype[t].apply(e,i);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=o(function(){throw Error("cannot instantiate an interface (no constructor defined).")},"c")),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),n!=null&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),n=o(function(){var i=e.apply(this,arguments)||this;return i[goog.UID_PROPERTY_]=i[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(i),i},"d");return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){function a(e,t){d?c[e]=!0:t()?c[e]=!1:d=c[e]=!0}o(a,"a");function b(a){try{return!!eval(a)}catch(e){return!1}}o(b,"b");var c={es3:!1},d=!1,e=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){var e=e.match(/Edge\/(\d+)(\.\d)*/i);return e&&15>Number(e[1])?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es6-impl",function(){return!0}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),c},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xA0"},goog.string.startsWith=function(e,t){return e.lastIndexOf(t,0)==0},goog.string.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.caseInsensitiveStartsWith=function(e,t){return goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))==0},goog.string.caseInsensitiveEndsWith=function(e,t){return goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))==0},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e,t){for(var r=e.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<r.length;)n+=r.shift()+i.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return e.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return e==" "},goog.string.isUnicodeChar=function(e){return e.length==1&&" "<=e&&"~">=e||"\x80"<=e&&"\uFFFD">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var r=String(e).toLowerCase(),n=String(t).toLowerCase();return r<n?-1:r==n?0:1},goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(r),i=t.toLowerCase().match(r),s=Math.min(n.length,i.length),a=0;a<s;a++){r=n[a];var u=i[a];if(r!=u)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(u,10),!isNaN(t)&&e-t)?e-t:r<u?-1:1}return n.length!=i.length?n.length-i.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(e))return e;e.indexOf("&")!=-1&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&e.indexOf("e")!=-1&&(e=e.replace(goog.string.E_RE_,"&#101;"))}return e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(i,s){var a=r[i];if(a)return a;if(s.charAt(0)=="#"){var u=Number("0"+s.substr(1));isNaN(u)||(a=String.fromCharCode(u))}return a||(n.innerHTML=i+" ",a=n.firstChild.nodeValue.slice(0,-1)),r[i]=a})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(t,r){switch(r){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if(r.charAt(0)=="#"){var n=Number("0"+r.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return t}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,n=0;n<r;n++){var i=r==1?t:t.charAt(n);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,n){if(r&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var i=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(i)}else e.length>t&&(n=Math.floor(t/2),i=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(i));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n=e.charAt(r),i=n.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[n]||(31<i&&127>i?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=function(e,t){return e.indexOf(t)!=-1},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var n=e;return 0<=t&&t<e.length&&0<r&&(n=e.substr(0,t)+e.substr(t+r,e.length-t-r)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){var r=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(r,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return e=goog.isDef(r)?e.toFixed(r):String(e),r=e.indexOf("."),r==-1&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return e==null?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var r=0,n=goog.string.trim(String(e)).split("."),i=goog.string.trim(String(t)).split("."),s=Math.max(n.length,i.length),a=0;r==0&&a<s;a++){var u=n[a]||"",l=i[a]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],u[0].length==0&&l[0].length==0)break;var r=u[1].length==0?0:parseInt(u[1],10),p=l[1].length==0?0:parseInt(l[1],10),r=goog.string.compareElements_(r,p)||goog.string.compareElements_(u[2].length==0,l[2].length==0)||goog.string.compareElements_(u[2],l[2]),u=u[3],l=l[3]}while(r==0)}return r},goog.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return t==0&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(t,r){return r.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var r=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(r?"|["+r+"]+":"")+")([a-z])","g"),function(n,i,s){return i+s.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var n=[];0<r&&e.length;)n.push(e.shift()),r--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(t)typeof t=="string"&&(t=[t]);else return e;for(var r=-1,n=0;n<t.length;n++)if(t[n]!=""){var i=e.lastIndexOf(t[n]);i>r&&(r=i)}return r==-1?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var i=0;i<t.length+1;i++)r[i]=i;for(i=0;i<e.length;i++){n[0]=i+1;for(var s=0;s<t.length;s++)n[s+1]=Math.min(n[s]+1,r[s+1]+1,r[s]+Number(e[i]!=t[s]));for(s=0;s<r.length;s++)r[s]=n[s]}return n[t.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var s=n}else e&&(i+=": "+e,s=t);e=new goog.asserts.AssertionError(""+i,s||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e},goog.object={},goog.object.is=function(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t},goog.object.forEach=function(e,t,r){for(var n in e)t.call(r,e[n],n,e)},goog.object.filter=function(e,t,r){var n={},i;for(i in e)t.call(r,e[i],i,e)&&(n[i]=e[i]);return n},goog.object.map=function(e,t,r){var n={},i;for(i in e)n[i]=t.call(r,e[i],i,e);return n},goog.object.some=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,r){for(var n in e)if(!t.call(r,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t=0,r;for(r in e)t++;return t},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t=[],r=0,n;for(n in e)t[r++]=e[n];return t},goog.object.getKeys=function(e){var t=[],r=0,n;for(n in e)t[r++]=n;return t},goog.object.getValueByKeys=function(e,t){for(var r=goog.isArrayLike(t),n=r?t:arguments,r=r?0:1;r<n.length&&(e=e[n[r]],goog.isDef(e));r++);return e},goog.object.containsKey=function(e,t){return e!==null&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(e!==null&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return e!==null&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(r in t)if(!(r in e))return!1;return!0},goog.object.clone=function(e){var t={},r;for(r in e)t[r]=e[r];return t},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(goog.isFunction(e.clone))return e.clone();var t=t=="array"?[]:{},r;for(r in e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t={},r;for(r in e)t[e[r]]=r;return t},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,n,i=1;i<arguments.length;i++){n=arguments[i];for(r in n)e[r]=n[r];for(var s=0;s<goog.object.PROTOTYPE_FIELDS_.length;s++)r=goog.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}},goog.object.create=function(e){var t=arguments.length;if(t==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<t;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(t==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<t;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var i=Object.getOwnPropertyNames(e),s=0;s<i.length;s++)n[i[s]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(r){}return!1},goog.reflect.cache=function(e,t,r,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=r(t)},goog.math={},goog.math.Long=function(e,t){this.low_=e|0,this.high_=t|0},goog.math.Long.IntCache_={},goog.math.Long.valueCache_={},goog.math.Long.getCachedIntValue_=function(e){return goog.reflect.cache(goog.math.Long.IntCache_,e,function(t){return new goog.math.Long(t,0>t?-1:0)})},goog.math.Long.MAX_VALUE_FOR_RADIX_="  111111111111111111111111111111111111111111111111111111111111111 2021110011022210012102010021220101220221 13333333333333333333333333333333 1104332401304422434310311212 1540241003031030222122211 22341010611245052052300 777777777777777777777 67404283172107811827 9223372036854775807 1728002635214590697 41a792678515120367 10b269549075433c37 4340724c6c71dc7a7 160e2ad3246366807 7fffffffffffffff 33d3d8307b214008 16agh595df825fa7 ba643dci0ffeehh 5cbfjia3fh26ja7 2heiciiie82dh97 1adaibb21dckfa7 i6k448cf4192c2 acd772jnc9l0l7 64ie1focnn5g77 3igoecjbmca687 27c48l5b37oaop 1bk39f3ah3dmq7 q1se8f0m04isb hajppbc1fc207 bm03i95hia437 7vvvvvvvvvvvv 5hg4ck9jd4u37 3tdtk1v8j6tpp 2pijmikexrxp7 1y2p0ij32e8e7".split(" "),goog.math.Long.MIN_VALUE_FOR_RADIX_="  -1000000000000000000000000000000000000000000000000000000000000000 -2021110011022210012102010021220101220222 -20000000000000000000000000000000 -1104332401304422434310311213 -1540241003031030222122212 -22341010611245052052301 -1000000000000000000000 -67404283172107811828 -9223372036854775808 -1728002635214590698 -41a792678515120368 -10b269549075433c38 -4340724c6c71dc7a8 -160e2ad3246366808 -8000000000000000 -33d3d8307b214009 -16agh595df825fa8 -ba643dci0ffeehi -5cbfjia3fh26ja8 -2heiciiie82dh98 -1adaibb21dckfa8 -i6k448cf4192c3 -acd772jnc9l0l8 -64ie1focnn5g78 -3igoecjbmca688 -27c48l5b37oaoq -1bk39f3ah3dmq8 -q1se8f0m04isc -hajppbc1fc208 -bm03i95hia438 -8000000000000 -5hg4ck9jd4u38 -3tdtk1v8j6tpq -2pijmikexrxp8 -1y2p0ij32e8e8".split(" "),goog.math.Long.fromInt=function(e){var t=e|0;return goog.asserts.assert(e===t,"value should be a 32-bit integer"),-128<=t&&128>t?goog.math.Long.getCachedIntValue_(t):new goog.math.Long(t,0>t?-1:0)},goog.math.Long.fromNumber=function(e){return isNaN(e)?goog.math.Long.getZero():e<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMinValue():e+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMaxValue():0>e?goog.math.Long.fromNumber(-e).negate():new goog.math.Long(e%goog.math.Long.TWO_PWR_32_DBL_|0,e/goog.math.Long.TWO_PWR_32_DBL_|0)},goog.math.Long.fromBits=function(e,t){return new goog.math.Long(e,t)},goog.math.Long.fromString=function(e,t){if(e.length==0)throw Error("number format error: empty string");var r=t||10;if(2>r||36<r)throw Error("radix out of range: "+r);if(e.charAt(0)=="-")return goog.math.Long.fromString(e.substring(1),r).negate();if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character: '+e);for(var n=goog.math.Long.fromNumber(Math.pow(r,8)),i=goog.math.Long.getZero(),s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+a),r);8>a?(a=goog.math.Long.fromNumber(Math.pow(r,a)),i=i.multiply(a).add(goog.math.Long.fromNumber(u))):(i=i.multiply(n),i=i.add(goog.math.Long.fromNumber(u)))}return i},goog.math.Long.isStringInRange=function(e,t){var r=t||10;if(2>r||36<r)throw Error("radix out of range: "+r);return r=e.charAt(0)=="-"?goog.math.Long.MIN_VALUE_FOR_RADIX_[r]:goog.math.Long.MAX_VALUE_FOR_RADIX_[r],e.length<r.length?!0:e.length==r.length&&e<=r},goog.math.Long.TWO_PWR_16_DBL_=65536,goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_,goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2,goog.math.Long.getZero=function(){return goog.math.Long.getCachedIntValue_(0)},goog.math.Long.getOne=function(){return goog.math.Long.getCachedIntValue_(1)},goog.math.Long.getNegOne=function(){return goog.math.Long.getCachedIntValue_(-1)},goog.math.Long.getMaxValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MAX_VALUE,function(){return goog.math.Long.fromBits(-1,2147483647)})},goog.math.Long.getMinValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MIN_VALUE,function(){return goog.math.Long.fromBits(0,-2147483648)})},goog.math.Long.getTwoPwr24=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.TWO_PWR_24,function(){return goog.math.Long.fromInt(16777216)})},goog.math.Long.prototype.toInt=function(){return this.low_},goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},goog.math.Long.prototype.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.getMinValue())){var t=goog.math.Long.fromNumber(e),r=this.div(t);return t=r.multiply(t).subtract(this),r.toString(e)+t.toInt().toString(e)}return"-"+this.negate().toString(e)}r=goog.math.Long.fromNumber(Math.pow(e,6)),t=this;for(var n="";;){var i=t.div(r),s=(t.subtract(i.multiply(r)).toInt()>>>0).toString(e);if(t=i,t.isZero())return s+n;for(;6>s.length;)s="0"+s;n=""+s+n}},goog.math.Long.prototype.getHighBits=function(){return this.high_},goog.math.Long.prototype.getLowBits=function(){return this.low_},goog.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_},goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.getMinValue())?64:this.negate().getNumBitsAbs();for(var e=this.high_!=0?this.high_:this.low_,t=31;0<t&&(e&1<<t)==0;t--);return this.high_!=0?t+33:t+1},goog.math.Long.prototype.isZero=function(){return this.high_==0&&this.low_==0},goog.math.Long.prototype.isNegative=function(){return 0>this.high_},goog.math.Long.prototype.isOdd=function(){return(this.low_&1)==1},goog.math.Long.prototype.equals=function(e){return this.high_==e.high_&&this.low_==e.low_},goog.math.Long.prototype.notEquals=function(e){return this.high_!=e.high_||this.low_!=e.low_},goog.math.Long.prototype.lessThan=function(e){return 0>this.compare(e)},goog.math.Long.prototype.lessThanOrEqual=function(e){return 0>=this.compare(e)},goog.math.Long.prototype.greaterThan=function(e){return 0<this.compare(e)},goog.math.Long.prototype.greaterThanOrEqual=function(e){return 0<=this.compare(e)},goog.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.subtract(e).isNegative()?-1:1},goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.getMinValue())?goog.math.Long.getMinValue():this.not().add(goog.math.Long.getOne())},goog.math.Long.prototype.add=function(e){var t=this.high_>>>16,r=this.high_&65535,n=this.low_>>>16,i=e.high_>>>16,s=e.high_&65535,a=e.low_>>>16;return e=0+((this.low_&65535)+(e.low_&65535)),a=0+(e>>>16)+(n+a),n=0+(a>>>16),n+=r+s,t=0+(n>>>16)+(t+i)&65535,goog.math.Long.fromBits((a&65535)<<16|e&65535,t<<16|n&65535)},goog.math.Long.prototype.subtract=function(e){return this.add(e.negate())},goog.math.Long.prototype.multiply=function(e){if(this.isZero()||e.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue()))return e.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(e.equals(goog.math.Long.getMinValue()))return this.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(goog.math.Long.getTwoPwr24())&&e.lessThan(goog.math.Long.getTwoPwr24()))return goog.math.Long.fromNumber(this.toNumber()*e.toNumber());var t=this.high_>>>16,r=this.high_&65535,n=this.low_>>>16,i=this.low_&65535,s=e.high_>>>16,a=e.high_&65535,u=e.low_>>>16;e=e.low_&65535;var l=0+i*e,p=0+(l>>>16)+n*e,d=0+(p>>>16);p=(p&65535)+i*u,d+=p>>>16,d+=r*e;var g=0+(d>>>16);return d=(d&65535)+n*u,g+=d>>>16,d=(d&65535)+i*a,g=g+(d>>>16)+(t*e+r*u+n*a+i*s)&65535,goog.math.Long.fromBits((p&65535)<<16|l&65535,g<<16|d&65535)},goog.math.Long.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue())){if(e.equals(goog.math.Long.getOne())||e.equals(goog.math.Long.getNegOne()))return goog.math.Long.getMinValue();if(e.equals(goog.math.Long.getMinValue()))return goog.math.Long.getOne();var t=this.shiftRight(1);if(t=t.div(e).shiftLeft(1),t.equals(goog.math.Long.getZero()))return e.isNegative()?goog.math.Long.getOne():goog.math.Long.getNegOne();var r=this.subtract(e.multiply(t));return t.add(r.div(e))}if(e.equals(goog.math.Long.getMinValue()))return goog.math.Long.getZero();if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var n=goog.math.Long.getZero();for(r=this;r.greaterThanOrEqual(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=goog.math.Long.fromNumber(t),a=s.multiply(e);a.isNegative()||a.greaterThan(r);)t-=i,s=goog.math.Long.fromNumber(t),a=s.multiply(e);s.isZero()&&(s=goog.math.Long.getOne()),n=n.add(s),r=r.subtract(a)}return n},goog.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)},goog.math.Long.prototype.and=function(e){return goog.math.Long.fromBits(this.low_&e.low_,this.high_&e.high_)},goog.math.Long.prototype.or=function(e){return goog.math.Long.fromBits(this.low_|e.low_,this.high_|e.high_)},goog.math.Long.prototype.xor=function(e){return goog.math.Long.fromBits(this.low_^e.low_,this.high_^e.high_)},goog.math.Long.prototype.shiftLeft=function(e){if(e&=63,e==0)return this;var t=this.low_;return 32>e?goog.math.Long.fromBits(t<<e,this.high_<<e|t>>>32-e):goog.math.Long.fromBits(0,t<<e-32)},goog.math.Long.prototype.shiftRight=function(e){if(e&=63,e==0)return this;var t=this.high_;return 32>e?goog.math.Long.fromBits(this.low_>>>e|t<<32-e,t>>e):goog.math.Long.fromBits(t>>e-32,0<=t?0:-1)},goog.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,e==0)return this;var t=this.high_;return 32>e?goog.math.Long.fromBits(this.low_>>>e|t<<32-e,t>>>e):e==32?goog.math.Long.fromBits(t,0):goog.math.Long.fromBits(t>>>e-32,0)},goog.math.Long.ValueCacheId_={MAX_VALUE:1,MIN_VALUE:2,TWO_PWR_24:6};var com={cognitect:{}};com.cognitect.transit={},com.cognitect.transit.delimiters={},com.cognitect.transit.delimiters.ESC="~",com.cognitect.transit.delimiters.TAG="#",com.cognitect.transit.delimiters.SUB="^",com.cognitect.transit.delimiters.RES="`",com.cognitect.transit.delimiters.ESC_TAG="~#",com.cognitect.transit.caching={},com.cognitect.transit.caching.MIN_SIZE_CACHEABLE=3,com.cognitect.transit.caching.BASE_CHAR_IDX=48,com.cognitect.transit.caching.CACHE_CODE_DIGITS=44,com.cognitect.transit.caching.MAX_CACHE_ENTRIES=com.cognitect.transit.caching.CACHE_CODE_DIGITS*com.cognitect.transit.caching.CACHE_CODE_DIGITS,com.cognitect.transit.caching.MAX_CACHE_SIZE=4096,com.cognitect.transit.caching.isCacheable=function(e,t){if(e.length>com.cognitect.transit.caching.MIN_SIZE_CACHEABLE){if(t)return!0;var r=e.charAt(0),n=e.charAt(1);return r===com.cognitect.transit.delimiters.ESC?n===":"||n==="$"||n==="#":!1}return!1},com.cognitect.transit.caching.idxToCode=function(e){var t=Math.floor(e/com.cognitect.transit.caching.CACHE_CODE_DIGITS);return e=String.fromCharCode(e%com.cognitect.transit.caching.CACHE_CODE_DIGITS+com.cognitect.transit.caching.BASE_CHAR_IDX),t===0?com.cognitect.transit.delimiters.SUB+e:com.cognitect.transit.delimiters.SUB+String.fromCharCode(t+com.cognitect.transit.caching.BASE_CHAR_IDX)+e},com.cognitect.transit.caching.WriteCache=function(){this.cacheSize=this.gen=this.idx=0,this.cache={}},com.cognitect.transit.caching.WriteCache.prototype.write=function(e,t){if(com.cognitect.transit.caching.isCacheable(e,t)){this.cacheSize===com.cognitect.transit.caching.MAX_CACHE_SIZE?(this.clear(),this.gen=0,this.cache={}):this.idx===com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&this.clear();var r=this.cache[e];return r==null?(this.cache[e]=[com.cognitect.transit.caching.idxToCode(this.idx),this.gen],this.idx++,e):r[1]!=this.gen?(r[1]=this.gen,r[0]=com.cognitect.transit.caching.idxToCode(this.idx),this.idx++,e):r[0]}return e},com.cognitect.transit.caching.WriteCache.prototype.clear=function(){this.idx=0,this.gen++},com.cognitect.transit.caching.writeCache=function(){return new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.caching.isCacheCode=function(e){return e.charAt(0)===com.cognitect.transit.delimiters.SUB&&e.charAt(1)!==" "},com.cognitect.transit.caching.codeToIdx=function(e){if(e.length===2)return e.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX;var t=(e.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX)*com.cognitect.transit.caching.CACHE_CODE_DIGITS;return e=e.charCodeAt(2)-com.cognitect.transit.caching.BASE_CHAR_IDX,t+e},com.cognitect.transit.caching.ReadCache=function(){this.idx=0,this.cache=[]},com.cognitect.transit.caching.ReadCache.prototype.write=function(e,t){return this.idx==com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&(this.idx=0),this.cache[this.idx]=e,this.idx++,e},com.cognitect.transit.caching.ReadCache.prototype.read=function(e,t){return this.cache[com.cognitect.transit.caching.codeToIdx(e)]},com.cognitect.transit.caching.ReadCache.prototype.clear=function(){this.idx=0},com.cognitect.transit.caching.readCache=function(){return new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.util={},com.cognitect.transit.util.objectKeys=typeof Object.keys!="undefined"?function(e){return Object.keys(e)}:function(e){return goog.object.getKeys(e)},com.cognitect.transit.util.isArray=typeof Array.isArray!="undefined"?function(e){return Array.isArray(e)}:function(e){return goog.typeOf(e)==="array"},com.cognitect.transit.util.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",com.cognitect.transit.util.randInt=function(e){return Math.round(Math.random()*e)},com.cognitect.transit.util.randHex=function(){return com.cognitect.transit.util.randInt(15).toString(16)},com.cognitect.transit.util.randomUUID=function(){var e=(8|3&com.cognitect.transit.util.randInt(14)).toString(16);return com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-4"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+e+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()},com.cognitect.transit.util.btoa=function(e){if(typeof btoa!="undefined")return btoa(e);e=String(e);for(var t,r,n=0,i=com.cognitect.transit.util.chars,s="";e.charAt(n|0)||(i="=",n%1);s+=i.charAt(63&t>>8-n%1*8)){if(r=e.charCodeAt(n+=.75),255<r)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|r}return s},com.cognitect.transit.util.atob=function(e){if(typeof atob!="undefined")return atob(e);if(e=String(e).replace(/=+$/,""),e.length%4==1)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t=0,r,n,i=0,s="";n=e.charAt(i++);~n&&(r=t%4?64*r+n:n,t++%4)?s+=String.fromCharCode(255&r>>(-2*t&6)):0)n=com.cognitect.transit.util.chars.indexOf(n);return s},com.cognitect.transit.util.Uint8ToBase64=function(e){for(var t=0,r=e.length,n="",i;t<r;)i=e.subarray(t,Math.min(t+32768,r)),n+=String.fromCharCode.apply(null,i),t+=32768;return com.cognitect.transit.util.btoa(n)},com.cognitect.transit.util.Base64ToUint8=function(e){e=com.cognitect.transit.util.atob(e);for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++){var i=e.charCodeAt(n);r[n]=i}return r},com.cognitect.transit.eq={},com.cognitect.transit.eq.hashCodeProperty="transit$hashCode$",com.cognitect.transit.eq.hashCodeCounter=1,com.cognitect.transit.eq.equals=function(e,t){if(e==null)return t==null;if(e===t)return!0;if(typeof e=="object"){if(com.cognitect.transit.util.isArray(e)){if(com.cognitect.transit.util.isArray(t)&&e.length===t.length){for(var r=0;r<e.length;r++)if(!com.cognitect.transit.eq.equals(e[r],t[r]))return!1;return!0}return!1}if(e.com$cognitect$transit$equals)return e.com$cognitect$transit$equals(t);if(t!=null&&typeof t=="object"){if(t.com$cognitect$transit$equals)return t.com$cognitect$transit$equals(e);var r=0,n=com.cognitect.transit.util.objectKeys(t).length,i;for(i in e)if(e.hasOwnProperty(i)&&(r++,!t.hasOwnProperty(i)||!com.cognitect.transit.eq.equals(e[i],t[i])))return!1;return r===n}}return!1},com.cognitect.transit.eq.hashCombine=function(e,t){return e^t+2654435769+(e<<6)+(e>>2)},com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=0,com.cognitect.transit.eq.STR_CACHE_MAX=256,com.cognitect.transit.eq.hashString=function(e){var t=com.cognitect.transit.eq.stringCodeCache[e];if(t!=null)return t;for(var r=t=0;r<e.length;++r)t=31*t+e.charCodeAt(r),t%=4294967296;return com.cognitect.transit.eq.stringCodeCacheSize++,com.cognitect.transit.eq.stringCodeCacheSize>=com.cognitect.transit.eq.STR_CACHE_MAX&&(com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=1),com.cognitect.transit.eq.stringCodeCache[e]=t},com.cognitect.transit.eq.hashMapLike=function(e){var t=0;if(e.forEach!=null)e.forEach(function(a,u,l){t=(t+(com.cognitect.transit.eq.hashCode(u)^com.cognitect.transit.eq.hashCode(a)))%4503599627370496});else for(var r=com.cognitect.transit.util.objectKeys(e),n=0;n<r.length;n++)var i=r[n],s=e[i],t=(t+(com.cognitect.transit.eq.hashCode(i)^com.cognitect.transit.eq.hashCode(s)))%4503599627370496;return t},com.cognitect.transit.eq.hashArrayLike=function(e){var t=0;if(com.cognitect.transit.util.isArray(e))for(var r=0;r<e.length;r++)t=com.cognitect.transit.eq.hashCombine(t,com.cognitect.transit.eq.hashCode(e[r]));else e.forEach&&e.forEach(function(n,i){t=com.cognitect.transit.eq.hashCombine(t,com.cognitect.transit.eq.hashCode(n))});return t},com.cognitect.transit.eq.hashCode=function(e){if(e==null)return 0;switch(typeof e){case"number":return e;case"boolean":return e===!0?1:0;case"string":return com.cognitect.transit.eq.hashString(e);case"function":var t=e[com.cognitect.transit.eq.hashCodeProperty];return t||(t=com.cognitect.transit.eq.hashCodeCounter,typeof Object.defineProperty!="undefined"?Object.defineProperty(e,com.cognitect.transit.eq.hashCodeProperty,{value:t,enumerable:!1}):e[com.cognitect.transit.eq.hashCodeProperty]=t,com.cognitect.transit.eq.hashCodeCounter++),t;default:return e instanceof Date?e.valueOf():com.cognitect.transit.util.isArray(e)?com.cognitect.transit.eq.hashArrayLike(e):e.com$cognitect$transit$hashCode?e.com$cognitect$transit$hashCode():com.cognitect.transit.eq.hashMapLike(e)}},com.cognitect.transit.eq.extendToEQ=function(e,t){return e.com$cognitect$transit$hashCode=t.hashCode,e.com$cognitect$transit$equals=t.equals,e},com.cognitect.transit.types={},com.cognitect.transit.types.ITERATOR=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",com.cognitect.transit.types.TaggedValue=function(e,t){this.tag=e,this.rep=t,this.hashCode=-1},com.cognitect.transit.types.TaggedValue.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"},com.cognitect.transit.types.TaggedValue.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},com.cognitect.transit.types.TaggedValue.prototype.equiv=com.cognitect.transit.types.TaggedValue.prototype.equiv,com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$equals=function(e){return e instanceof com.cognitect.transit.types.TaggedValue?this.tag===e.tag&&com.cognitect.transit.eq.equals(this.rep,e.rep):!1},com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCombine(com.cognitect.transit.eq.hashCode(this.tag),com.cognitect.transit.eq.hashCode(this.rep))),this.hashCode},com.cognitect.transit.types.taggedValue=function(e,t){return new com.cognitect.transit.types.TaggedValue(e,t)},com.cognitect.transit.types.isTaggedValue=function(e){return e instanceof com.cognitect.transit.types.TaggedValue},com.cognitect.transit.types.nullValue=function(){return null},com.cognitect.transit.types.boolValue=function(e){return e==="t"},com.cognitect.transit.types.MAX_INT=goog.math.Long.fromString("9007199254740991"),com.cognitect.transit.types.MIN_INT=goog.math.Long.fromString("-9007199254740991"),com.cognitect.transit.types.intValue=function(e){return typeof e=="number"||e instanceof goog.math.Long?e:(e=goog.math.Long.fromString(e,10),e.greaterThan(com.cognitect.transit.types.MAX_INT)||e.lessThan(com.cognitect.transit.types.MIN_INT)?e:e.toNumber())},goog.math.Long.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},goog.math.Long.prototype.equiv=goog.math.Long.prototype.equiv,goog.math.Long.prototype.com$cognitect$transit$equals=function(e){return e instanceof goog.math.Long&&this.equals(e)},goog.math.Long.prototype.com$cognitect$transit$hashCode=function(){return this.toInt()},com.cognitect.transit.types.isInteger=function(e){return e instanceof goog.math.Long?!0:typeof e=="number"&&!isNaN(e)&&e!==Infinity&&parseFloat(e)===parseInt(e,10)},com.cognitect.transit.types.floatValue=function(e){return parseFloat(e)},com.cognitect.transit.types.bigInteger=function(e){return com.cognitect.transit.types.taggedValue("n",e)},com.cognitect.transit.types.isBigInteger=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="n"},com.cognitect.transit.types.bigDecimalValue=function(e){return com.cognitect.transit.types.taggedValue("f",e)},com.cognitect.transit.types.isBigDecimal=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="f"},com.cognitect.transit.types.charValue=function(e){return e},com.cognitect.transit.types.Keyword=function(e){this._name=e,this.hashCode=-1},com.cognitect.transit.types.Keyword.prototype.toString=function(){return":"+this._name},com.cognitect.transit.types.Keyword.prototype.namespace=function(){var e=this._name.indexOf("/");return e!=-1?this._name.substring(0,e):null},com.cognitect.transit.types.Keyword.prototype.name=function(){var e=this._name.indexOf("/");return e!=-1?this._name.substring(e+1,this._name.length):this._name},com.cognitect.transit.types.Keyword.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},com.cognitect.transit.types.Keyword.prototype.equiv=com.cognitect.transit.types.Keyword.prototype.equiv,com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$equals=function(e){return e instanceof com.cognitect.transit.types.Keyword&&this._name==e._name},com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.keyword=function(e){return new com.cognitect.transit.types.Keyword(e)},com.cognitect.transit.types.isKeyword=function(e){return e instanceof com.cognitect.transit.types.Keyword},com.cognitect.transit.types.Symbol=function(e){this._name=e,this.hashCode=-1},com.cognitect.transit.types.Symbol.prototype.namespace=function(){var e=this._name.indexOf("/");return e!=-1?this._name.substring(0,e):null},com.cognitect.transit.types.Symbol.prototype.name=function(){var e=this._name.indexOf("/");return e!=-1?this._name.substring(e+1,this._name.length):this._name},com.cognitect.transit.types.Symbol.prototype.toString=function(){return this._name},com.cognitect.transit.types.Symbol.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},com.cognitect.transit.types.Symbol.prototype.equiv=com.cognitect.transit.types.Symbol.prototype.equiv,com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$equals=function(e){return e instanceof com.cognitect.transit.types.Symbol&&this._name==e._name},com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.symbol=function(e){return new com.cognitect.transit.types.Symbol(e)},com.cognitect.transit.types.isSymbol=function(e){return e instanceof com.cognitect.transit.types.Symbol},com.cognitect.transit.types.hexFor=function(e,t,r){var n="";r=r||t+1;for(var i=8*(7-t),s=goog.math.Long.fromInt(255).shiftLeft(i);t<r;t++,i-=8,s=s.shiftRightUnsigned(8)){var a=e.and(s).shiftRightUnsigned(i).toString(16);a.length==1&&(a="0"+a),n+=a}return n},com.cognitect.transit.types.UUID=function(e,t){this.high=e,this.low=t,this.hashCode=-1},com.cognitect.transit.types.UUID.prototype.getLeastSignificantBits=function(){return this.low},com.cognitect.transit.types.UUID.prototype.getMostSignificantBits=function(){return this.high},com.cognitect.transit.types.UUID.prototype.toString=function(){var e=this.high,t=this.low,r=""+(com.cognitect.transit.types.hexFor(e,0,4)+"-");return r+=com.cognitect.transit.types.hexFor(e,4,6)+"-",r+=com.cognitect.transit.types.hexFor(e,6,8)+"-",r+=com.cognitect.transit.types.hexFor(t,0,2)+"-",r+=com.cognitect.transit.types.hexFor(t,2,8)},com.cognitect.transit.types.UUID.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},com.cognitect.transit.types.UUID.prototype.equiv=com.cognitect.transit.types.UUID.prototype.equiv,com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$equals=function(e){return e instanceof com.cognitect.transit.types.UUID&&this.high.equals(e.high)&&this.low.equals(e.low)},com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCode(this.toString())),this.hashCode},com.cognitect.transit.types.UUIDfromString=function(e){e=e.replace(/-/g,"");var t,r,n=t=0;for(r=24;8>n;n+=2,r-=8)t|=parseInt(e.substring(n,n+2),16)<<r;var i=0;for(n=8,r=24;16>n;n+=2,r-=8)i|=parseInt(e.substring(n,n+2),16)<<r;var s=goog.math.Long.fromBits(i,t);for(t=0,n=16,r=24;24>n;n+=2,r-=8)t|=parseInt(e.substring(n,n+2),16)<<r;for(i=0,r=n=24;32>n;n+=2,r-=8)i|=parseInt(e.substring(n,n+2),16)<<r;return e=goog.math.Long.fromBits(i,t),new com.cognitect.transit.types.UUID(s,e)},com.cognitect.transit.types.uuid=function(e){return com.cognitect.transit.types.UUIDfromString(e)},com.cognitect.transit.types.isUUID=function(e){return e instanceof com.cognitect.transit.types.UUID},com.cognitect.transit.types.date=function(e){return e=typeof e=="number"?e:parseInt(e,10),new Date(e)},com.cognitect.transit.types.verboseDate=function(e){return new Date(e)},Date.prototype.com$cognitect$transit$equals=function(e){return e instanceof Date?this.valueOf()===e.valueOf():!1},Date.prototype.com$cognitect$transit$hashCode=function(){return this.valueOf()},com.cognitect.transit.types.binary=function(e,t){return t&&t.preferBuffers===!1||typeof goog.global.Buffer=="undefined"?typeof Uint8Array!="undefined"?com.cognitect.transit.util.Base64ToUint8(e):com.cognitect.transit.types.taggedValue("b",e):new goog.global.Buffer(e,"base64")},com.cognitect.transit.types.isBinary=function(e){return typeof goog.global.Buffer!="undefined"&&e instanceof goog.global.Buffer||typeof Uint8Array!="undefined"&&e instanceof Uint8Array?!0:e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="b"},com.cognitect.transit.types.uri=function(e){return com.cognitect.transit.types.taggedValue("r",e)},com.cognitect.transit.types.isURI=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="r"},com.cognitect.transit.types.KEYS=0,com.cognitect.transit.types.VALUES=1,com.cognitect.transit.types.ENTRIES=2,com.cognitect.transit.types.TransitArrayMapIterator=function(e,t){this.entries=e,this.type=t||com.cognitect.transit.types.KEYS,this.idx=0},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=function(){if(this.idx<this.entries.length){var e={value:this.type===com.cognitect.transit.types.KEYS?this.entries[this.idx]:this.type===com.cognitect.transit.types.VALUES?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};return this.idx+=2,e}return{value:null,done:!0}},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=com.cognitect.transit.types.TransitArrayMapIterator.prototype.next,com.cognitect.transit.types.TransitArrayMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.TransitMapIterator=function(e,t){this.map=e,this.type=t||com.cognitect.transit.types.KEYS,this.keys=this.map.getKeys(),this.idx=0,this.bucket=null,this.bucketIdx=0},com.cognitect.transit.types.TransitMapIterator.prototype.next=function(){if(this.idx<this.map.size){this.bucket!=null&&this.bucketIdx<this.bucket.length||(this.bucket=this.map.map[this.keys[this.idx]],this.bucketIdx=0);var e={value:this.type===com.cognitect.transit.types.KEYS?this.bucket[this.bucketIdx]:this.type===com.cognitect.transit.types.VALUES?this.bucket[this.bucketIdx+1]:[this.bucket[this.bucketIdx],this.bucket[this.bucketIdx+1]],done:!1};return this.idx++,this.bucketIdx+=2,e}return{value:null,done:!0}},com.cognitect.transit.types.TransitMapIterator.prototype.next=com.cognitect.transit.types.TransitMapIterator.prototype.next,com.cognitect.transit.types.TransitMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.mapEquals=function(e,t){if(e instanceof com.cognitect.transit.types.TransitMap&&com.cognitect.transit.types.isMap(t)){if(e.size!==t.size)return!1;for(var r in e.map)for(var n=e.map[r],i=0;i<n.length;i+=2)if(!com.cognitect.transit.eq.equals(n[i+1],t.get(n[i])))return!1;return!0}if(e instanceof com.cognitect.transit.types.TransitArrayMap&&com.cognitect.transit.types.isMap(t)){if(e.size!==t.size)return!1;for(r=e._entries,i=0;i<r.length;i+=2)if(!com.cognitect.transit.eq.equals(r[i+1],t.get(r[i])))return!1;return!0}if(t!=null&&typeof t=="object"&&(i=com.cognitect.transit.util.objectKeys(t),r=i.length,e.size===r)){for(n=0;n<r;n++){var s=i[n];if(!e.has(s)||!com.cognitect.transit.eq.equals(t[s],e.get(s)))return!1}return!0}return!1},com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD=8,com.cognitect.transit.types.ARRAY_MAP_THRESHOLD=32,com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD=32,com.cognitect.transit.types.print=function(e){return e==null?"null":goog.isArray(e)?"["+e.toString()+"]":goog.isString(e)?'"'+e+'"':e.toString()},com.cognitect.transit.types.printMap=function(e){var t=0,r="TransitMap {";return e.forEach(function(n,i){r+=com.cognitect.transit.types.print(i)+" => "+com.cognitect.transit.types.print(n),t<e.size-1&&(r+=", "),t++}),r+"}"},com.cognitect.transit.types.printSet=function(e){var t=0,r="TransitSet {";return e.forEach(function(n){r+=com.cognitect.transit.types.print(n),t<e.size-1&&(r+=", "),t++}),r+"}"},com.cognitect.transit.types.TransitArrayMap=function(e){this._entries=e,this.backingMap=null,this.hashCode=-1,this.size=e.length/2,this.accesses=0},com.cognitect.transit.types.TransitArrayMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitArrayMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitArrayMap.prototype.convert=function(){if(this.backingMap)throw Error("Invalid operation, already converted");return this.size<com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD?!1:(this.accesses++,this.accesses>com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD?(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=[],!0):!1)},com.cognitect.transit.types.TransitArrayMap.prototype.clear=function(){this.hashCode=-1,this.backingMap?this.backingMap.clear():this._entries=[],this.size=0},com.cognitect.transit.types.TransitArrayMap.prototype.clear=com.cognitect.transit.types.TransitArrayMap.prototype.clear,com.cognitect.transit.types.TransitArrayMap.prototype.keys=function(){return this.backingMap?this.backingMap.keys():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitArrayMap.prototype.keys=com.cognitect.transit.types.TransitArrayMap.prototype.keys,com.cognitect.transit.types.TransitArrayMap.prototype.keySet=function(){if(this.backingMap)return this.backingMap.keySet();for(var e=[],t=0,r=0;r<this._entries.length;t++,r+=2)e[t]=this._entries[r];return e},com.cognitect.transit.types.TransitArrayMap.prototype.keySet=com.cognitect.transit.types.TransitArrayMap.prototype.keySet,com.cognitect.transit.types.TransitArrayMap.prototype.entries=function(){return this.backingMap?this.backingMap.entries():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitArrayMap.prototype.entries=com.cognitect.transit.types.TransitArrayMap.prototype.entries,com.cognitect.transit.types.TransitArrayMap.prototype.values=function(){return this.backingMap?this.backingMap.values():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitArrayMap.prototype.values=com.cognitect.transit.types.TransitArrayMap.prototype.values,com.cognitect.transit.types.TransitArrayMap.prototype.forEach=function(e){if(this.backingMap)this.backingMap.forEach(e);else for(var t=0;t<this._entries.length;t+=2)e(this._entries[t+1],this._entries[t])},com.cognitect.transit.types.TransitArrayMap.prototype.forEach=com.cognitect.transit.types.TransitArrayMap.prototype.forEach,com.cognitect.transit.types.TransitArrayMap.prototype.get=function(e,t){if(this.backingMap)return this.backingMap.get(e);if(this.convert())return this.get(e);for(var r=0;r<this._entries.length;r+=2)if(com.cognitect.transit.eq.equals(this._entries[r],e))return this._entries[r+1];return t},com.cognitect.transit.types.TransitArrayMap.prototype.get=com.cognitect.transit.types.TransitArrayMap.prototype.get,com.cognitect.transit.types.TransitArrayMap.prototype.has=function(e){if(this.backingMap)return this.backingMap.has(e);if(this.convert())return this.has(e);for(var t=0;t<this._entries.length;t+=2)if(com.cognitect.transit.eq.equals(this._entries[t],e))return!0;return!1},com.cognitect.transit.types.TransitArrayMap.prototype.has=com.cognitect.transit.types.TransitArrayMap.prototype.has,com.cognitect.transit.types.TransitArrayMap.prototype.set=function(e,t){if(this.hashCode=-1,this.backingMap)this.backingMap.set(e,t),this.size=this.backingMap.size;else{for(var r=0;r<this._entries.length;r+=2)if(com.cognitect.transit.eq.equals(this._entries[r],e)){this._entries[r+1]=t;return}this._entries.push(e),this._entries.push(t),this.size++,this.size>com.cognitect.transit.types.ARRAY_MAP_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=null)}},com.cognitect.transit.types.TransitArrayMap.prototype.set=com.cognitect.transit.types.TransitArrayMap.prototype.set,com.cognitect.transit.types.TransitArrayMap.prototype.delete=function(e){if(this.hashCode=-1,this.backingMap)return e=this.backingMap.delete(e),this.size=this.backingMap.size,e;for(var t=0;t<this._entries.length;t+=2)if(com.cognitect.transit.eq.equals(this._entries[t],e))return e=this._entries[t+1],this._entries.splice(t,2),this.size--,e},com.cognitect.transit.types.TransitArrayMap.prototype.clone=function(){var e=com.cognitect.transit.types.map();return this.forEach(function(t,r){e.set(r,t)}),e},com.cognitect.transit.types.TransitArrayMap.prototype.clone=com.cognitect.transit.types.TransitArrayMap.prototype.clone,com.cognitect.transit.types.TransitArrayMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$hashCode=function(){return this.backingMap?this.backingMap.com$cognitect$transit$hashCode():(this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode)},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$equals=function(e){return this.backingMap?com.cognitect.transit.types.mapEquals(this.backingMap,e):com.cognitect.transit.types.mapEquals(this,e)},com.cognitect.transit.types.TransitMap=function(e,t,r){this.map=t||{},this._keys=e||[],this.size=r||0,this.hashCode=-1},com.cognitect.transit.types.TransitMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitMap.prototype.clear=function(){this.hashCode=-1,this.map={},this._keys=[],this.size=0},com.cognitect.transit.types.TransitMap.prototype.clear=com.cognitect.transit.types.TransitMap.prototype.clear,com.cognitect.transit.types.TransitMap.prototype.getKeys=function(){return this._keys!=null?this._keys:com.cognitect.transit.util.objectKeys(this.map)},com.cognitect.transit.types.TransitMap.prototype.delete=function(e){this.hashCode=-1,this._keys=null;for(var t=com.cognitect.transit.eq.hashCode(e),r=this.map[t],n=0;n<r.length;n+=2)if(com.cognitect.transit.eq.equals(e,r[n]))return e=r[n+1],r.splice(n,2),r.length===0&&delete this.map[t],this.size--,e},com.cognitect.transit.types.TransitMap.prototype.entries=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitMap.prototype.entries=com.cognitect.transit.types.TransitMap.prototype.entries,com.cognitect.transit.types.TransitMap.prototype.forEach=function(e){for(var t=this.getKeys(),r=0;r<t.length;r++)for(var n=this.map[t[r]],i=0;i<n.length;i+=2)e(n[i+1],n[i],this)},com.cognitect.transit.types.TransitMap.prototype.forEach=com.cognitect.transit.types.TransitMap.prototype.forEach,com.cognitect.transit.types.TransitMap.prototype.get=function(e,t){var r=com.cognitect.transit.eq.hashCode(e),r=this.map[r];if(r!=null){for(var n=0;n<r.length;n+=2)if(com.cognitect.transit.eq.equals(e,r[n]))return r[n+1]}else return t},com.cognitect.transit.types.TransitMap.prototype.get=com.cognitect.transit.types.TransitMap.prototype.get,com.cognitect.transit.types.TransitMap.prototype.has=function(e){var t=com.cognitect.transit.eq.hashCode(e),t=this.map[t];if(t!=null){for(var r=0;r<t.length;r+=2)if(com.cognitect.transit.eq.equals(e,t[r]))return!0}return!1},com.cognitect.transit.types.TransitMap.prototype.has=com.cognitect.transit.types.TransitMap.prototype.has,com.cognitect.transit.types.TransitMap.prototype.keys=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitMap.prototype.keys=com.cognitect.transit.types.TransitMap.prototype.keys,com.cognitect.transit.types.TransitMap.prototype.keySet=function(){for(var e=this.getKeys(),t=[],r=0;r<e.length;r++)for(var n=this.map[e[r]],i=0;i<n.length;i+=2)t.push(n[i]);return t},com.cognitect.transit.types.TransitMap.prototype.keySet=com.cognitect.transit.types.TransitMap.prototype.keySet,com.cognitect.transit.types.TransitMap.prototype.set=function(e,t){this.hashCode=-1;var r=com.cognitect.transit.eq.hashCode(e),n=this.map[r];if(n==null)this._keys&&this._keys.push(r),this.map[r]=[e,t],this.size++;else{for(var r=!0,i=0;i<n.length;i+=2)if(com.cognitect.transit.eq.equals(t,n[i])){r=!1,n[i]=t;break}r&&(n.push(e),n.push(t),this.size++)}},com.cognitect.transit.types.TransitMap.prototype.set=com.cognitect.transit.types.TransitMap.prototype.set,com.cognitect.transit.types.TransitMap.prototype.values=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitMap.prototype.values=com.cognitect.transit.types.TransitMap.prototype.values,com.cognitect.transit.types.TransitMap.prototype.clone=function(){var e=com.cognitect.transit.types.map();return this.forEach(function(t,r){e.set(r,t)}),e},com.cognitect.transit.types.TransitMap.prototype.clone=com.cognitect.transit.types.TransitMap.prototype.clone,com.cognitect.transit.types.TransitMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$equals=function(e){return com.cognitect.transit.types.mapEquals(this,e)},com.cognitect.transit.types.map=function(e,t,r){if(e=e||[],t=t===!1?t:!0,(r!==!0||!r)&&e.length<=2*com.cognitect.transit.types.ARRAY_MAP_THRESHOLD){if(t){var n=e;for(e=[],t=0;t<n.length;t+=2){var i=!1;for(r=0;r<e.length;r+=2)if(com.cognitect.transit.eq.equals(e[r],n[t])){e[r+1]=n[t+1],i=!0;break}i||(e.push(n[t]),e.push(n[t+1]))}}return new com.cognitect.transit.types.TransitArrayMap(e)}var n={},i=[],s=0;for(t=0;t<e.length;t+=2){r=com.cognitect.transit.eq.hashCode(e[t]);var a=n[r];if(a==null)i.push(r),n[r]=[e[t],e[t+1]],s++;else{var u=!0;for(r=0;r<a.length;r+=2)if(com.cognitect.transit.eq.equals(a[r],e[t])){a[r+1]=e[t+1],u=!1;break}u&&(a.push(e[t]),a.push(e[t+1]),s++)}}return new com.cognitect.transit.types.TransitMap(i,n,s)},com.cognitect.transit.types.isArrayMap=function(e){return e instanceof com.cognitect.transit.types.TransitArrayMap},com.cognitect.transit.types.isMap=function(e){return e instanceof com.cognitect.transit.types.TransitArrayMap||e instanceof com.cognitect.transit.types.TransitMap},com.cognitect.transit.types.TransitSet=function(e){this.map=e,this.size=e.size},com.cognitect.transit.types.TransitSet.prototype.toString=function(){return com.cognitect.transit.types.printSet(this)},com.cognitect.transit.types.TransitSet.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitSet.prototype.add=function(e){this.map.set(e,e),this.size=this.map.size},com.cognitect.transit.types.TransitSet.prototype.add=com.cognitect.transit.types.TransitSet.prototype.add,com.cognitect.transit.types.TransitSet.prototype.clear=function(){this.map=new com.cognitect.transit.types.TransitMap,this.size=0},com.cognitect.transit.types.TransitSet.prototype.clear=com.cognitect.transit.types.TransitSet.prototype.clear,com.cognitect.transit.types.TransitSet.prototype.delete=function(e){return e=this.map.delete(e),this.size=this.map.size,e},com.cognitect.transit.types.TransitSet.prototype.entries=function(){return this.map.entries()},com.cognitect.transit.types.TransitSet.prototype.entries=com.cognitect.transit.types.TransitSet.prototype.entries,com.cognitect.transit.types.TransitSet.prototype.forEach=function(e,t){var r=this;this.map.forEach(function(n,i,s){e(i,r)})},com.cognitect.transit.types.TransitSet.prototype.forEach=com.cognitect.transit.types.TransitSet.prototype.forEach,com.cognitect.transit.types.TransitSet.prototype.has=function(e){return this.map.has(e)},com.cognitect.transit.types.TransitSet.prototype.has=com.cognitect.transit.types.TransitSet.prototype.has,com.cognitect.transit.types.TransitSet.prototype.keys=function(){return this.map.keys()},com.cognitect.transit.types.TransitSet.prototype.keys=com.cognitect.transit.types.TransitSet.prototype.keys,com.cognitect.transit.types.TransitSet.prototype.keySet=function(){return this.map.keySet()},com.cognitect.transit.types.TransitSet.prototype.keySet=com.cognitect.transit.types.TransitSet.prototype.keySet,com.cognitect.transit.types.TransitSet.prototype.values=function(){return this.map.values()},com.cognitect.transit.types.TransitSet.prototype.values=com.cognitect.transit.types.TransitSet.prototype.values,com.cognitect.transit.types.TransitSet.prototype.clone=function(){var e=com.cognitect.transit.types.set();return this.forEach(function(t){e.add(t)}),e},com.cognitect.transit.types.TransitSet.prototype.clone=com.cognitect.transit.types.TransitSet.prototype.clone,com.cognitect.transit.types.TransitSet.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.values()},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$equals=function(e){if(e instanceof com.cognitect.transit.types.TransitSet){if(this.size===e.size)return com.cognitect.transit.eq.equals(this.map,e.map)}else return!1},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$hashCode=function(e){return com.cognitect.transit.eq.hashCode(this.map)},com.cognitect.transit.types.set=function(e){e=e||[];for(var t={},r=[],n=0,i=0;i<e.length;i++){var s=com.cognitect.transit.eq.hashCode(e[i]),a=t[s];if(a==null)r.push(s),t[s]=[e[i],e[i]],n++;else{for(var s=!0,u=0;u<a.length;u+=2)if(com.cognitect.transit.eq.equals(a[u],e[i])){s=!1;break}s&&(a.push(e[i]),a.push(e[i]),n++)}}return new com.cognitect.transit.types.TransitSet(new com.cognitect.transit.types.TransitMap(r,t,n))},com.cognitect.transit.types.isSet=function(e){return e instanceof com.cognitect.transit.types.TransitSet},com.cognitect.transit.types.quoted=function(e){return com.cognitect.transit.types.taggedValue("'",e)},com.cognitect.transit.types.isQuoted=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="'"},com.cognitect.transit.types.list=function(e){return com.cognitect.transit.types.taggedValue("list",e)},com.cognitect.transit.types.isList=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="list"},com.cognitect.transit.types.link=function(e){return com.cognitect.transit.types.taggedValue("link",e)},com.cognitect.transit.types.isLink=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="link"},com.cognitect.transit.types.specialDouble=function(e){switch(e){case"-INF":return-Infinity;case"INF":return Infinity;case"NaN":return NaN;default:throw Error("Invalid special double value "+e)}},com.cognitect.transit.handlers={},com.cognitect.transit.handlers.ctorGuid=0,com.cognitect.transit.handlers.ctorGuidProperty="transit$guid$"+com.cognitect.transit.util.randomUUID(),com.cognitect.transit.handlers.typeTag=function(e){if(e==null)return"null";if(e===String)return"string";if(e===Boolean)return"boolean";if(e===Number)return"number";if(e===Array)return"array";if(e===Object)return"map";var t=e[com.cognitect.transit.handlers.ctorGuidProperty];return t==null&&(typeof Object.defineProperty!="undefined"?(t=++com.cognitect.transit.handlers.ctorGuid,Object.defineProperty(e,com.cognitect.transit.handlers.ctorGuidProperty,{value:t,enumerable:!1})):e[com.cognitect.transit.handlers.ctorGuidProperty]=t=++com.cognitect.transit.handlers.ctorGuid),t},com.cognitect.transit.handlers.constructor=function(e){return e==null?null:e.constructor},com.cognitect.transit.handlers.padZeros=function(e,t){for(var r=e.toString(),n=r.length;n<t;n++)r="0"+r;return r},com.cognitect.transit.handlers.stringableKeys=function(e){e=com.cognitect.transit.util.objectKeys(e);for(var t=0;t<e.length;t++);return!0},com.cognitect.transit.handlers.NilHandler=function(){},com.cognitect.transit.handlers.NilHandler.prototype.tag=function(e){return"_"},com.cognitect.transit.handlers.NilHandler.prototype.rep=function(e){return null},com.cognitect.transit.handlers.NilHandler.prototype.stringRep=function(e){return"null"},com.cognitect.transit.handlers.StringHandler=function(){},com.cognitect.transit.handlers.StringHandler.prototype.tag=function(e){return"s"},com.cognitect.transit.handlers.StringHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.StringHandler.prototype.stringRep=function(e){return e},com.cognitect.transit.handlers.NumberHandler=function(){},com.cognitect.transit.handlers.NumberHandler.prototype.tag=function(e){return"i"},com.cognitect.transit.handlers.NumberHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.NumberHandler.prototype.stringRep=function(e){return e.toString()},com.cognitect.transit.handlers.IntegerHandler=function(){},com.cognitect.transit.handlers.IntegerHandler.prototype.tag=function(e){return"i"},com.cognitect.transit.handlers.IntegerHandler.prototype.rep=function(e){return e.toString()},com.cognitect.transit.handlers.IntegerHandler.prototype.stringRep=function(e){return e.toString()},com.cognitect.transit.handlers.BooleanHandler=function(){},com.cognitect.transit.handlers.BooleanHandler.prototype.tag=function(e){return"?"},com.cognitect.transit.handlers.BooleanHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.BooleanHandler.prototype.stringRep=function(e){return e.toString()},com.cognitect.transit.handlers.ArrayHandler=function(){},com.cognitect.transit.handlers.ArrayHandler.prototype.tag=function(e){return"array"},com.cognitect.transit.handlers.ArrayHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.ArrayHandler.prototype.stringRep=function(e){return null},com.cognitect.transit.handlers.MapHandler=function(){},com.cognitect.transit.handlers.MapHandler.prototype.tag=function(e){return"map"},com.cognitect.transit.handlers.MapHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.MapHandler.prototype.stringRep=function(e){return null},com.cognitect.transit.handlers.VerboseDateHandler=function(){},com.cognitect.transit.handlers.VerboseDateHandler.prototype.tag=function(e){return"t"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.rep=function(e){return e.getUTCFullYear()+"-"+com.cognitect.transit.handlers.padZeros(e.getUTCMonth()+1,2)+"-"+com.cognitect.transit.handlers.padZeros(e.getUTCDate(),2)+"T"+com.cognitect.transit.handlers.padZeros(e.getUTCHours(),2)+":"+com.cognitect.transit.handlers.padZeros(e.getUTCMinutes(),2)+":"+com.cognitect.transit.handlers.padZeros(e.getUTCSeconds(),2)+"."+com.cognitect.transit.handlers.padZeros(e.getUTCMilliseconds(),3)+"Z"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.stringRep=function(e,t){return t.rep(e)},com.cognitect.transit.handlers.DateHandler=function(){},com.cognitect.transit.handlers.DateHandler.prototype.tag=function(e){return"m"},com.cognitect.transit.handlers.DateHandler.prototype.rep=function(e){return e.valueOf()},com.cognitect.transit.handlers.DateHandler.prototype.stringRep=function(e){return e.valueOf().toString()},com.cognitect.transit.handlers.DateHandler.prototype.getVerboseHandler=function(e){return new com.cognitect.transit.handlers.VerboseDateHandler},com.cognitect.transit.handlers.UUIDHandler=function(){},com.cognitect.transit.handlers.UUIDHandler.prototype.tag=function(e){return"u"},com.cognitect.transit.handlers.UUIDHandler.prototype.rep=function(e){return e.toString()},com.cognitect.transit.handlers.UUIDHandler.prototype.stringRep=function(e){return e.toString()},com.cognitect.transit.handlers.KeywordHandler=function(){},com.cognitect.transit.handlers.KeywordHandler.prototype.tag=function(e){return":"},com.cognitect.transit.handlers.KeywordHandler.prototype.rep=function(e){return e._name},com.cognitect.transit.handlers.KeywordHandler.prototype.stringRep=function(e,t){return t.rep(e)},com.cognitect.transit.handlers.SymbolHandler=function(){},com.cognitect.transit.handlers.SymbolHandler.prototype.tag=function(e){return"$"},com.cognitect.transit.handlers.SymbolHandler.prototype.rep=function(e){return e._name},com.cognitect.transit.handlers.SymbolHandler.prototype.stringRep=function(e,t){return t.rep(e)},com.cognitect.transit.handlers.TaggedHandler=function(){},com.cognitect.transit.handlers.TaggedHandler.prototype.tag=function(e){return e.tag},com.cognitect.transit.handlers.TaggedHandler.prototype.rep=function(e){return e.rep},com.cognitect.transit.handlers.TaggedHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.TransitSetHandler=function(){},com.cognitect.transit.handlers.TransitSetHandler.prototype.tag=function(e){return"set"},com.cognitect.transit.handlers.TransitSetHandler.prototype.rep=function(e){var t=[];return e.forEach(function(r,n){t.push(r)}),com.cognitect.transit.types.taggedValue("array",t)},com.cognitect.transit.handlers.TransitSetHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.TransitArrayMapHandler=function(){},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.tag=function(e){return"map"},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.TransitMapHandler=function(){},com.cognitect.transit.handlers.TransitMapHandler.prototype.tag=function(e){return"map"},com.cognitect.transit.handlers.TransitMapHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.TransitMapHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.BufferHandler=function(){},com.cognitect.transit.handlers.BufferHandler.prototype.tag=function(e){return"b"},com.cognitect.transit.handlers.BufferHandler.prototype.rep=function(e){return e.toString("base64")},com.cognitect.transit.handlers.BufferHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.Uint8ArrayHandler=function(){},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.tag=function(e){return"b"},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.rep=function(e){return com.cognitect.transit.util.Uint8ToBase64(e)},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.defaultHandlers=function(e){return e.set(null,new com.cognitect.transit.handlers.NilHandler),e.set(String,new com.cognitect.transit.handlers.StringHandler),e.set(Number,new com.cognitect.transit.handlers.NumberHandler),e.set(goog.math.Long,new com.cognitect.transit.handlers.IntegerHandler),e.set(Boolean,new com.cognitect.transit.handlers.BooleanHandler),e.set(Array,new com.cognitect.transit.handlers.ArrayHandler),e.set(Object,new com.cognitect.transit.handlers.MapHandler),e.set(Date,new com.cognitect.transit.handlers.DateHandler),e.set(com.cognitect.transit.types.UUID,new com.cognitect.transit.handlers.UUIDHandler),e.set(com.cognitect.transit.types.Keyword,new com.cognitect.transit.handlers.KeywordHandler),e.set(com.cognitect.transit.types.Symbol,new com.cognitect.transit.handlers.SymbolHandler),e.set(com.cognitect.transit.types.TaggedValue,new com.cognitect.transit.handlers.TaggedHandler),e.set(com.cognitect.transit.types.TransitSet,new com.cognitect.transit.handlers.TransitSetHandler),e.set(com.cognitect.transit.types.TransitArrayMap,new com.cognitect.transit.handlers.TransitArrayMapHandler),e.set(com.cognitect.transit.types.TransitMap,new com.cognitect.transit.handlers.TransitMapHandler),typeof goog.global.Buffer!="undefined"&&e.set(goog.global.Buffer,new com.cognitect.transit.handlers.BufferHandler),typeof Uint8Array!="undefined"&&e.set(Uint8Array,new com.cognitect.transit.handlers.Uint8ArrayHandler),e},com.cognitect.transit.handlers.Handlers=function(){this.handlers={},com.cognitect.transit.handlers.defaultHandlers(this)},com.cognitect.transit.handlers.Handlers.prototype.get=function(e){return e=typeof e=="string"?this.handlers[e]:this.handlers[com.cognitect.transit.handlers.typeTag(e)],e!=null?e:this.handlers.default},com.cognitect.transit.handlers.Handlers.prototype.get=com.cognitect.transit.handlers.Handlers.prototype.get,com.cognitect.transit.handlers.validTag=function(e){switch(e){case"null":case"string":case"boolean":case"number":case"array":case"map":return!1}return!0},com.cognitect.transit.handlers.Handlers.prototype.set=function(e,t){typeof e=="string"&&com.cognitect.transit.handlers.validTag(e)?this.handlers[e]=t:this.handlers[com.cognitect.transit.handlers.typeTag(e)]=t},com.cognitect.transit.impl={},com.cognitect.transit.impl.decoder={},com.cognitect.transit.impl.decoder.Tag=function(e){this.str=e},com.cognitect.transit.impl.decoder.tag=function(e){return new com.cognitect.transit.impl.decoder.Tag(e)},com.cognitect.transit.impl.decoder.isTag=function(e){return e&&e instanceof com.cognitect.transit.impl.decoder.Tag},com.cognitect.transit.impl.decoder.isGroundHandler=function(e){switch(e){case"_":case"s":case"?":case"i":case"d":case"b":case"'":case"array":case"map":return!0}return!1},com.cognitect.transit.impl.decoder.Decoder=function(e){this.options=e||{},this.handlers={};for(var t in this.defaults.handlers)this.handlers[t]=this.defaults.handlers[t];for(t in this.options.handlers){if(com.cognitect.transit.impl.decoder.isGroundHandler(t))throw Error('Cannot override handler for ground type "'+t+'"');this.handlers[t]=this.options.handlers[t]}this.preferStrings=this.options.preferStrings!=null?this.options.preferStrings:this.defaults.preferStrings,this.preferBuffers=this.options.preferBuffers!=null?this.options.preferBuffers:this.defaults.preferBuffers,this.defaultHandler=this.options.defaultHandler||this.defaults.defaultHandler,this.mapBuilder=this.options.mapBuilder,this.arrayBuilder=this.options.arrayBuilder},com.cognitect.transit.impl.decoder.Decoder.prototype.defaults={handlers:{_:function(e,t){return com.cognitect.transit.types.nullValue()},"?":function(e,t){return com.cognitect.transit.types.boolValue(e)},b:function(e,t){return com.cognitect.transit.types.binary(e,t)},i:function(e,t){return com.cognitect.transit.types.intValue(e)},n:function(e,t){return com.cognitect.transit.types.bigInteger(e)},d:function(e,t){return com.cognitect.transit.types.floatValue(e)},f:function(e,t){return com.cognitect.transit.types.bigDecimalValue(e)},c:function(e,t){return com.cognitect.transit.types.charValue(e)},":":function(e,t){return com.cognitect.transit.types.keyword(e)},$:function(e,t){return com.cognitect.transit.types.symbol(e)},r:function(e,t){return com.cognitect.transit.types.uri(e)},z:function(e,t){return com.cognitect.transit.types.specialDouble(e)},"'":function(e,t){return e},m:function(e,t){return com.cognitect.transit.types.date(e)},t:function(e,t){return com.cognitect.transit.types.verboseDate(e)},u:function(e,t){return com.cognitect.transit.types.uuid(e)},set:function(e,t){return com.cognitect.transit.types.set(e)},list:function(e,t){return com.cognitect.transit.types.list(e)},link:function(e,t){return com.cognitect.transit.types.link(e)},cmap:function(e,t){return com.cognitect.transit.types.map(e,!1)}},defaultHandler:function(e,t){return com.cognitect.transit.types.taggedValue(e,t)},preferStrings:!0,preferBuffers:!0},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=function(e,t,r,n){if(e==null)return null;switch(typeof e){case"string":return this.decodeString(e,t,r,n);case"object":return com.cognitect.transit.util.isArray(e)?e[0]==="^ "?this.decodeArrayHash(e,t,r,n):this.decodeArray(e,t,r,n):this.decodeHash(e,t,r,n)}return e},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=com.cognitect.transit.impl.decoder.Decoder.prototype.decode,com.cognitect.transit.impl.decoder.Decoder.prototype.decodeString=function(e,t,r,n){return com.cognitect.transit.caching.isCacheable(e,r)?(e=this.parseString(e,t,!1),t&&t.write(e,r),e):com.cognitect.transit.caching.isCacheCode(e)?t.read(e,r):this.parseString(e,t,r)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeHash=function(e,t,r,n){r=com.cognitect.transit.util.objectKeys(e);var i=r[0];if(n=r.length==1?this.decode(i,t,!1,!1):null,com.cognitect.transit.impl.decoder.isTag(n))return e=e[i],r=this.handlers[n.str],r!=null?r(this.decode(e,t,!1,!0),this):com.cognitect.transit.types.taggedValue(n.str,this.decode(e,t,!1,!1));if(this.mapBuilder){if(r.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD&&this.mapBuilder.fromArray){var s=[];for(i=0;i<r.length;i++)n=r[i],s.push(this.decode(n,t,!0,!1)),s.push(this.decode(e[n],t,!1,!1));return this.mapBuilder.fromArray(s,e)}for(s=this.mapBuilder.init(e),i=0;i<r.length;i++)n=r[i],s=this.mapBuilder.add(s,this.decode(n,t,!0,!1),this.decode(e[n],t,!1,!1),e);return this.mapBuilder.finalize(s,e)}for(s=[],i=0;i<r.length;i++)n=r[i],s.push(this.decode(n,t,!0,!1)),s.push(this.decode(e[n],t,!1,!1));return com.cognitect.transit.types.map(s,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArrayHash=function(e,t,r,n){if(this.mapBuilder){if(e.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD+1&&this.mapBuilder.fromArray){for(n=[],r=1;r<e.length;r+=2)n.push(this.decode(e[r],t,!0,!1)),n.push(this.decode(e[r+1],t,!1,!1));return this.mapBuilder.fromArray(n,e)}for(n=this.mapBuilder.init(e),r=1;r<e.length;r+=2)n=this.mapBuilder.add(n,this.decode(e[r],t,!0,!1),this.decode(e[r+1],t,!1,!1),e);return this.mapBuilder.finalize(n,e)}for(n=[],r=1;r<e.length;r+=2)n.push(this.decode(e[r],t,!0,!1)),n.push(this.decode(e[r+1],t,!1,!1));return com.cognitect.transit.types.map(n,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArray=function(e,t,r,n){if(n){var i=[];for(n=0;n<e.length;n++)i.push(this.decode(e[n],t,r,!1));return i}if(i=t&&t.idx,e.length===2&&typeof e[0]=="string"&&(n=this.decode(e[0],t,!1,!1),com.cognitect.transit.impl.decoder.isTag(n)))return i=e[1],e=this.handlers[n.str],e!=null?i=e(this.decode(i,t,r,!0),this):com.cognitect.transit.types.taggedValue(n.str,this.decode(i,t,r,!1));if(t&&i!=t.idx&&(t.idx=i),this.arrayBuilder){if(32>=e.length&&this.arrayBuilder.fromArray){for(i=[],n=0;n<e.length;n++)i.push(this.decode(e[n],t,r,!1));return this.arrayBuilder.fromArray(i,e)}for(i=this.arrayBuilder.init(e),n=0;n<e.length;n++)i=this.arrayBuilder.add(i,this.decode(e[n],t,r,!1),e);return this.arrayBuilder.finalize(i,e)}for(i=[],n=0;n<e.length;n++)i.push(this.decode(e[n],t,r,!1));return i},com.cognitect.transit.impl.decoder.Decoder.prototype.parseString=function(e,t,r){return e.charAt(0)===com.cognitect.transit.delimiters.ESC?(t=e.charAt(1),t===com.cognitect.transit.delimiters.ESC||t===com.cognitect.transit.delimiters.SUB||t===com.cognitect.transit.delimiters.RES?e.substring(1):t===com.cognitect.transit.delimiters.TAG?com.cognitect.transit.impl.decoder.tag(e.substring(2)):(r=this.handlers[t],r==null?this.defaultHandler(t,e.substring(2)):r(e.substring(2),this))):e},com.cognitect.transit.impl.decoder.decoder=function(e){return new com.cognitect.transit.impl.decoder.Decoder(e)},com.cognitect.transit.impl.reader={},com.cognitect.transit.impl.reader.JSONUnmarshaller=function(e){this.decoder=new com.cognitect.transit.impl.decoder.Decoder(e)},com.cognitect.transit.impl.reader.JSONUnmarshaller.prototype.unmarshal=function(e,t){return this.decoder.decode(JSON.parse(e),t)},com.cognitect.transit.impl.reader.Reader=function(e,t){this.unmarshaller=e,this.options=t||{},this.cache=this.options.cache?this.options.cache:new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.impl.reader.Reader.prototype.read=function(e){return e=this.unmarshaller.unmarshal(e,this.cache),this.cache.clear(),e},com.cognitect.transit.impl.reader.Reader.prototype.read=com.cognitect.transit.impl.reader.Reader.prototype.read,com.cognitect.transit.impl.writer={},com.cognitect.transit.impl.writer.escape=function(e){if(0<e.length){var t=e.charAt(0);return t===com.cognitect.transit.delimiters.ESC||t===com.cognitect.transit.delimiters.SUB||t===com.cognitect.transit.delimiters.RES?com.cognitect.transit.delimiters.ESC+e:e}return e},com.cognitect.transit.impl.writer.JSONMarshaller=function(e){if(this.opts=e||{},this.preferStrings=this.opts.preferStrings!=null?this.opts.preferStrings:!0,this.objectBuilder=this.opts.objectBuilder||null,this.transform=this.opts.transform||null,this.handlers=new com.cognitect.transit.handlers.Handlers,e=this.opts.handlers){if(com.cognitect.transit.util.isArray(e)||!e.forEach)throw Error('transit writer "handlers" option must be a map');var t=this;e.forEach(function(r,n){if(n!==void 0)t.handlers.set(n,r);else throw Error("Cannot create handler for JavaScript undefined")})}this.handlerForForeign=this.opts.handlerForForeign,this.unpack=this.opts.unpack||function(r){return com.cognitect.transit.types.isArrayMap(r)&&r.backingMap===null?r._entries:!1},this.verbose=this.opts&&this.opts.verbose||!1},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.handler=function(e){var t=this.handlers.get(com.cognitect.transit.handlers.constructor(e));return t!=null?t:(e=e&&e.transitTag)?this.handlers.get(e):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.registerHandler=function(e,t){this.handlers.set(e,t)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitNil=function(e,t){return e?this.emitString(com.cognitect.transit.delimiters.ESC,"_","",e,t):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitString=function(e,t,r,n,i){return e=e+t+r,i?i.write(e,n):e},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBoolean=function(e,t,r){return t?this.emitString(com.cognitect.transit.delimiters.ESC,"?",e.toString()[0],t,r):e},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitInteger=function(e,t,r){return e===Infinity?this.emitString(com.cognitect.transit.delimiters.ESC,"z","INF",t,r):e===-Infinity?this.emitString(com.cognitect.transit.delimiters.ESC,"z","-INF",t,r):isNaN(e)?this.emitString(com.cognitect.transit.delimiters.ESC,"z","NaN",t,r):t||typeof e=="string"||e instanceof goog.math.Long?this.emitString(com.cognitect.transit.delimiters.ESC,"i",e.toString(),t,r):e},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitDouble=function(e,t,r){return t?this.emitString(e.ESC,"d",e,t,r):e},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBinary=function(e,t,r){return this.emitString(com.cognitect.transit.delimiters.ESC,"b",e,t,r)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitQuoted=function(e,t,r){if(e.verbose){e={};var n=this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,r);return e[n]=com.cognitect.transit.impl.writer.marshal(this,t,!1,r),e}return[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,r),com.cognitect.transit.impl.writer.marshal(this,t,!1,r)]},com.cognitect.transit.impl.writer.emitObjects=function(e,t,r){var n=[];if(com.cognitect.transit.util.isArray(t))for(var i=0;i<t.length;i++)n.push(com.cognitect.transit.impl.writer.marshal(e,t[i],!1,r));else t.forEach(function(s,a){n.push(com.cognitect.transit.impl.writer.marshal(e,s,!1,r))});return n},com.cognitect.transit.impl.writer.emitArray=function(e,t,r,n){return com.cognitect.transit.impl.writer.emitObjects(e,t,n)},com.cognitect.transit.impl.writer.isStringableKey=function(e,t){if(typeof t!="string"){var r=e.handler(t);return r&&r.tag(t).length===1}return!0},com.cognitect.transit.impl.writer.stringableKeys=function(e,t){var r=e.unpack(t),n=!0;if(r){for(var i=0;i<r.length&&(n=com.cognitect.transit.impl.writer.isStringableKey(e,r[i]),n);i+=2);return n}if(t.keys&&(r=t.keys(),i=null,r.next)){for(i=r.next();!i.done&&(n=com.cognitect.transit.impl.writer.isStringableKey(e,i.value),!!n);)i=r.next();return n}if(t.forEach)return t.forEach(function(s,a){n=n&&com.cognitect.transit.impl.writer.isStringableKey(e,a)}),n;throw Error("Cannot walk keys of object type "+com.cognitect.transit.handlers.constructor(t).name)},com.cognitect.transit.impl.writer.isForeignObject=function(e){if(e.constructor.transit$isObject)return!0;var t=e.constructor.toString(),t=t.substr(9),t=t.substr(0,t.indexOf("(")),t=t=="Object";return typeof Object.defineProperty!="undefined"?Object.defineProperty(e.constructor,"transit$isObject",{value:t,enumerable:!1}):e.constructor.transit$isObject=t,t},com.cognitect.transit.impl.writer.emitMap=function(e,t,r,n){var i=null,s=null,a=null,i=null;if(r=0,t.constructor===Object||t.forEach!=null||e.handlerForForeign&&com.cognitect.transit.impl.writer.isForeignObject(t)){if(e.verbose){if(t.forEach!=null)if(com.cognitect.transit.impl.writer.stringableKeys(e,t)){var u={};t.forEach(function(l,p){u[com.cognitect.transit.impl.writer.marshal(e,p,!0,!1)]=com.cognitect.transit.impl.writer.marshal(e,l,!1,n)})}else{if(i=e.unpack(t),s=[],a=e.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,n),i)for(;r<i.length;r+=2)s.push(com.cognitect.transit.impl.writer.marshal(e,i[r],!1,!1)),s.push(com.cognitect.transit.impl.writer.marshal(e,i[r+1],!1,n));else t.forEach(function(l,p){s.push(com.cognitect.transit.impl.writer.marshal(e,p,!1,!1)),s.push(com.cognitect.transit.impl.writer.marshal(e,l,!1,n))});u={},u[a]=s}else for(i=com.cognitect.transit.util.objectKeys(t),u={};r<i.length;r++)u[com.cognitect.transit.impl.writer.marshal(e,i[r],!0,!1)]=com.cognitect.transit.impl.writer.marshal(e,t[i[r]],!1,n);return u}if(t.forEach!=null){if(com.cognitect.transit.impl.writer.stringableKeys(e,t)){if(i=e.unpack(t),u=["^ "],i)for(;r<i.length;r+=2)u.push(com.cognitect.transit.impl.writer.marshal(e,i[r],!0,n)),u.push(com.cognitect.transit.impl.writer.marshal(e,i[r+1],!1,n));else t.forEach(function(l,p){u.push(com.cognitect.transit.impl.writer.marshal(e,p,!0,n)),u.push(com.cognitect.transit.impl.writer.marshal(e,l,!1,n))});return u}if(i=e.unpack(t),s=[],a=e.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,n),i)for(;r<i.length;r+=2)s.push(com.cognitect.transit.impl.writer.marshal(e,i[r],!1,n)),s.push(com.cognitect.transit.impl.writer.marshal(e,i[r+1],!1,n));else t.forEach(function(l,p){s.push(com.cognitect.transit.impl.writer.marshal(e,p,!1,n)),s.push(com.cognitect.transit.impl.writer.marshal(e,l,!1,n))});return[a,s]}for(u=["^ "],i=com.cognitect.transit.util.objectKeys(t);r<i.length;r++)u.push(com.cognitect.transit.impl.writer.marshal(e,i[r],!0,n)),u.push(com.cognitect.transit.impl.writer.marshal(e,t[i[r]],!1,n));return u}if(e.objectBuilder!=null)return e.objectBuilder(t,function(l){return com.cognitect.transit.impl.writer.marshal(e,l,!0,n)},function(l){return com.cognitect.transit.impl.writer.marshal(e,l,!1,n)});throw r=com.cognitect.transit.handlers.constructor(t).name,i=Error("Cannot write "+r),i.data={obj:t,type:r},i},com.cognitect.transit.impl.writer.emitTaggedMap=function(e,t,r,n,i){return e.verbose?(n={},n[e.emitString(com.cognitect.transit.delimiters.ESC_TAG,t,"",!0,i)]=com.cognitect.transit.impl.writer.marshal(e,r,!1,i),n):[e.emitString(com.cognitect.transit.delimiters.ESC_TAG,t,"",!0,i),com.cognitect.transit.impl.writer.marshal(e,r,!1,i)]},com.cognitect.transit.impl.writer.emitEncoded=function(e,t,r,n,i,s,a){if(r.length===1){if(typeof n=="string")return e.emitString(com.cognitect.transit.delimiters.ESC,r,n,s,a);if(s||e.preferStrings){if((n=e.verbose&&t.getVerboseHandler())?(r=n.tag(i),n=n.stringRep(i,n)):n=t.stringRep(i,t),n!==null)return e.emitString(com.cognitect.transit.delimiters.ESC,r,n,s,a);throw e=Error('Tag "'+r+'" cannot be encoded as string'),e.data={tag:r,rep:n,obj:i},e}}return com.cognitect.transit.impl.writer.emitTaggedMap(e,r,n,s,a)},com.cognitect.transit.impl.writer.marshal=function(e,t,r,n){e.transform!==null&&(t=e.transform(t));var i=e.handler(t)||(e.handlerForForeign?e.handlerForForeign(t,e.handlers):null),s=i?i.tag(t):null,a=i?i.rep(t):null;if(i!=null&&s!=null)switch(s){case"_":return e.emitNil(r,n);case"s":return e.emitString("","",com.cognitect.transit.impl.writer.escape(a),r,n);case"?":return e.emitBoolean(a,r,n);case"i":return e.emitInteger(a,r,n);case"d":return e.emitDouble(a,r,n);case"b":return e.emitBinary(a,r,n);case"'":return e.emitQuoted(e,a,n);case"array":return com.cognitect.transit.impl.writer.emitArray(e,a,r,n);case"map":return com.cognitect.transit.impl.writer.emitMap(e,a,r,n);default:return com.cognitect.transit.impl.writer.emitEncoded(e,i,s,a,t,r,n)}else throw e=com.cognitect.transit.handlers.constructor(t).name,r=Error("Cannot write "+e),r.data={obj:t,type:e},r},com.cognitect.transit.impl.writer.maybeQuoted=function(e,t){var r=e.handler(t)||(e.handlerForForeign?e.handlerForForeign(t,e.handlers):null);if(r!=null)return r.tag(t).length===1?com.cognitect.transit.types.quoted(t):t;var r=com.cognitect.transit.handlers.constructor(t).name,n=Error("Cannot write "+r);throw n.data={obj:t,type:r},n},com.cognitect.transit.impl.writer.marshalTop=function(e,t,r,n){return JSON.stringify(com.cognitect.transit.impl.writer.marshal(e,com.cognitect.transit.impl.writer.maybeQuoted(e,t),r,n))},com.cognitect.transit.impl.writer.Writer=function(e,t){this._marshaller=e,this.options=t||{},this.cache=this.options.cache===!1?null:this.options.cache?this.options.cache:new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=function(){return this._marshaller},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=com.cognitect.transit.impl.writer.Writer.prototype.marshaller,com.cognitect.transit.impl.writer.Writer.prototype.write=function(e,t){var r=t||{},n=r.asMapKey||!1,i=this._marshaller.verbose?!1:this.cache;return r=r.marshalTop===!1?com.cognitect.transit.impl.writer.marshal(this._marshaller,e,n,i):com.cognitect.transit.impl.writer.marshalTop(this._marshaller,e,n,i),this.cache!=null&&this.cache.clear(),r},com.cognitect.transit.impl.writer.Writer.prototype.write=com.cognitect.transit.impl.writer.Writer.prototype.write,com.cognitect.transit.impl.writer.Writer.prototype.register=function(e,t){this._marshaller.registerHandler(e,t)},com.cognitect.transit.impl.writer.Writer.prototype.register=com.cognitect.transit.impl.writer.Writer.prototype.register;var TRANSIT_DEV=!0,TRANSIT_NODE_TARGET=!0,TRANSIT_BROWSER_TARGET=!1,TRANSIT_BROWSER_AMD_TARGET=!1;com.cognitect.transit.reader=function(e,t){if(e==="json"||e==="json-verbose"||e==null){var r=new com.cognitect.transit.impl.reader.JSONUnmarshaller(t);return new com.cognitect.transit.impl.reader.Reader(r,t)}throw Error("Cannot create reader of type "+e)},com.cognitect.transit.writer=function(e,t){if(e==="json"||e==="json-verbose"||e==null){e==="json-verbose"&&(t==null&&(t={}),t.verbose=!0);var r=new com.cognitect.transit.impl.writer.JSONMarshaller(t);return new com.cognitect.transit.impl.writer.Writer(r,t)}throw r=Error('Type must be "json"'),r.data={type:e},r},com.cognitect.transit.makeWriteHandler=function(e){var t=o(function(){},"b");return t.prototype.tag=e.tag,t.prototype.rep=e.rep,t.prototype.stringRep=e.stringRep,t.prototype.getVerboseHandler=e.getVerboseHandler,new t},com.cognitect.transit.makeBuilder=function(e){var t=o(function(){},"b");return t.prototype.init=e.init,t.prototype.add=e.add,t.prototype.finalize=e.finalize,t.prototype.fromArray=e.fromArray,new t},com.cognitect.transit.date=com.cognitect.transit.types.date,com.cognitect.transit.integer=com.cognitect.transit.types.intValue,com.cognitect.transit.isInteger=com.cognitect.transit.types.isInteger,com.cognitect.transit.uuid=com.cognitect.transit.types.uuid,com.cognitect.transit.isUUID=com.cognitect.transit.types.isUUID,com.cognitect.transit.bigInt=com.cognitect.transit.types.bigInteger,com.cognitect.transit.isBigInt=com.cognitect.transit.types.isBigInteger,com.cognitect.transit.bigDec=com.cognitect.transit.types.bigDecimalValue,com.cognitect.transit.isBigDec=com.cognitect.transit.types.isBigDecimal,com.cognitect.transit.keyword=com.cognitect.transit.types.keyword,com.cognitect.transit.isKeyword=com.cognitect.transit.types.isKeyword,com.cognitect.transit.symbol=com.cognitect.transit.types.symbol,com.cognitect.transit.isSymbol=com.cognitect.transit.types.isSymbol,com.cognitect.transit.binary=com.cognitect.transit.types.binary,com.cognitect.transit.isBinary=com.cognitect.transit.types.isBinary,com.cognitect.transit.uri=com.cognitect.transit.types.uri,com.cognitect.transit.isURI=com.cognitect.transit.types.isURI,com.cognitect.transit.map=com.cognitect.transit.types.map,com.cognitect.transit.isMap=com.cognitect.transit.types.isMap,com.cognitect.transit.set=com.cognitect.transit.types.set,com.cognitect.transit.isSet=com.cognitect.transit.types.isSet,com.cognitect.transit.list=com.cognitect.transit.types.list,com.cognitect.transit.isList=com.cognitect.transit.types.isList,com.cognitect.transit.quoted=com.cognitect.transit.types.quoted,com.cognitect.transit.isQuoted=com.cognitect.transit.types.isQuoted,com.cognitect.transit.tagged=com.cognitect.transit.types.taggedValue,com.cognitect.transit.isTaggedValue=com.cognitect.transit.types.isTaggedValue,com.cognitect.transit.link=com.cognitect.transit.types.link,com.cognitect.transit.isLink=com.cognitect.transit.types.isLink,com.cognitect.transit.hash=com.cognitect.transit.eq.hashCode,com.cognitect.transit.hashMapLike=com.cognitect.transit.eq.hashMapLike,com.cognitect.transit.hashArrayLike=com.cognitect.transit.eq.hashArrayLike,com.cognitect.transit.equals=com.cognitect.transit.eq.equals,com.cognitect.transit.extendToEQ=com.cognitect.transit.eq.extendToEQ,com.cognitect.transit.mapToObject=function(e){var t={};return e.forEach(function(r,n){if(typeof n!="string")throw Error("Cannot convert map with non-string keys");t[n]=r}),t},com.cognitect.transit.objectToMap=function(e){var t=com.cognitect.transit.map(),r;for(r in e)e.hasOwnProperty(r)&&t.set(r,e[r]);return t},com.cognitect.transit.decoder=com.cognitect.transit.impl.decoder.decoder,com.cognitect.transit.readCache=com.cognitect.transit.caching.readCache,com.cognitect.transit.writeCache=com.cognitect.transit.caching.writeCache,com.cognitect.transit.UUIDfromString=com.cognitect.transit.types.UUIDfromString,com.cognitect.transit.randomUUID=com.cognitect.transit.util.randomUUID,com.cognitect.transit.stringableKeys=com.cognitect.transit.impl.writer.stringableKeys,TRANSIT_BROWSER_TARGET&&(goog.exportSymbol("transit.reader",com.cognitect.transit.reader),goog.exportSymbol("transit.writer",com.cognitect.transit.writer),goog.exportSymbol("transit.makeBuilder",com.cognitect.transit.makeBuilder),goog.exportSymbol("transit.makeWriteHandler",com.cognitect.transit.makeWriteHandler),goog.exportSymbol("transit.date",com.cognitect.transit.types.date),goog.exportSymbol("transit.integer",com.cognitect.transit.types.intValue),goog.exportSymbol("transit.isInteger",com.cognitect.transit.types.isInteger),goog.exportSymbol("transit.uuid",com.cognitect.transit.types.uuid),goog.exportSymbol("transit.isUUID",com.cognitect.transit.types.isUUID),goog.exportSymbol("transit.bigInt",com.cognitect.transit.types.bigInteger),goog.exportSymbol("transit.isBigInt",com.cognitect.transit.types.isBigInteger),goog.exportSymbol("transit.bigDec",com.cognitect.transit.types.bigDecimalValue),goog.exportSymbol("transit.isBigDec",com.cognitect.transit.types.isBigDecimal),goog.exportSymbol("transit.keyword",com.cognitect.transit.types.keyword),goog.exportSymbol("transit.isKeyword",com.cognitect.transit.types.isKeyword),goog.exportSymbol("transit.symbol",com.cognitect.transit.types.symbol),goog.exportSymbol("transit.isSymbol",com.cognitect.transit.types.isSymbol),goog.exportSymbol("transit.binary",com.cognitect.transit.types.binary),goog.exportSymbol("transit.isBinary",com.cognitect.transit.types.isBinary),goog.exportSymbol("transit.uri",com.cognitect.transit.types.uri),goog.exportSymbol("transit.isURI",com.cognitect.transit.types.isURI),goog.exportSymbol("transit.map",com.cognitect.transit.types.map),goog.exportSymbol("transit.isMap",com.cognitect.transit.types.isMap),goog.exportSymbol("transit.set",com.cognitect.transit.types.set),goog.exportSymbol("transit.isSet",com.cognitect.transit.types.isSet),goog.exportSymbol("transit.list",com.cognitect.transit.types.list),goog.exportSymbol("transit.isList",com.cognitect.transit.types.isList),goog.exportSymbol("transit.quoted",com.cognitect.transit.types.quoted),goog.exportSymbol("transit.isQuoted",com.cognitect.transit.types.isQuoted),goog.exportSymbol("transit.tagged",com.cognitect.transit.types.taggedValue),goog.exportSymbol("transit.isTaggedValue",com.cognitect.transit.types.isTaggedValue),goog.exportSymbol("transit.link",com.cognitect.transit.types.link),goog.exportSymbol("transit.isLink",com.cognitect.transit.types.isLink),goog.exportSymbol("transit.hash",com.cognitect.transit.eq.hashCode),goog.exportSymbol("transit.hashMapLike",com.cognitect.transit.eq.hashMapLike),goog.exportSymbol("transit.hashArrayLike",com.cognitect.transit.eq.hashArrayLike),goog.exportSymbol("transit.equals",com.cognitect.transit.eq.equals),goog.exportSymbol("transit.extendToEQ",com.cognitect.transit.eq.extendToEQ),goog.exportSymbol("transit.mapToObject",com.cognitect.transit.mapToObject),goog.exportSymbol("transit.objectToMap",com.cognitect.transit.objectToMap),goog.exportSymbol("transit.decoder",com.cognitect.transit.impl.decoder.decoder),goog.exportSymbol("transit.UUIDfromString",com.cognitect.transit.types.UUIDfromString),goog.exportSymbol("transit.randomUUID",com.cognitect.transit.util.randomUUID),goog.exportSymbol("transit.stringableKeys",com.cognitect.transit.impl.writer.stringableKeys),goog.exportSymbol("transit.readCache",com.cognitect.transit.caching.readCache),goog.exportSymbol("transit.writeCache",com.cognitect.transit.caching.writeCache)),TRANSIT_NODE_TARGET&&(module.exports={reader:com.cognitect.transit.reader,writer:com.cognitect.transit.writer,makeBuilder:com.cognitect.transit.makeBuilder,makeWriteHandler:com.cognitect.transit.makeWriteHandler,date:com.cognitect.transit.types.date,integer:com.cognitect.transit.types.intValue,isInteger:com.cognitect.transit.types.isInteger,uuid:com.cognitect.transit.types.uuid,isUUID:com.cognitect.transit.types.isUUID,bigInt:com.cognitect.transit.types.bigInteger,isBigInt:com.cognitect.transit.types.isBigInteger,bigDec:com.cognitect.transit.types.bigDecimalValue,isBigDec:com.cognitect.transit.types.isBigDecimal,keyword:com.cognitect.transit.types.keyword,isKeyword:com.cognitect.transit.types.isKeyword,symbol:com.cognitect.transit.types.symbol,isSymbol:com.cognitect.transit.types.isSymbol,binary:com.cognitect.transit.types.binary,isBinary:com.cognitect.transit.types.isBinary,uri:com.cognitect.transit.types.uri,isURI:com.cognitect.transit.types.isURI,map:com.cognitect.transit.types.map,isMap:com.cognitect.transit.types.isMap,set:com.cognitect.transit.types.set,isSet:com.cognitect.transit.types.isSet,list:com.cognitect.transit.types.list,isList:com.cognitect.transit.types.isList,quoted:com.cognitect.transit.types.quoted,isQuoted:com.cognitect.transit.types.isQuoted,tagged:com.cognitect.transit.types.taggedValue,isTaggedValue:com.cognitect.transit.types.isTaggedValue,link:com.cognitect.transit.types.link,isLink:com.cognitect.transit.types.isLink,hash:com.cognitect.transit.eq.hashCode,hashArrayLike:com.cognitect.transit.eq.hashArrayLike,hashMapLike:com.cognitect.transit.eq.hashMapLike,equals:com.cognitect.transit.eq.equals,extendToEQ:com.cognitect.transit.eq.extendToEQ,mapToObject:com.cognitect.transit.mapToObject,objectToMap:com.cognitect.transit.objectToMap,decoder:com.cognitect.transit.impl.decoder.decoder,UUIDfromString:com.cognitect.transit.types.UUIDfromString,randomUUID:com.cognitect.transit.util.randomUUID,stringableKeys:com.cognitect.transit.impl.writer.stringableKeys,readCache:com.cognitect.transit.caching.readCache,writeCache:com.cognitect.transit.caching.writeCache})}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/lib/bytesToUuid.js":function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);function i(s,a){var u=a||0,l=r;return[l[s[u++]],l[s[u++]],l[s[u++]],l[s[u++]],"-",l[s[u++]],l[s[u++]],"-",l[s[u++]],l[s[u++]],"-",l[s[u++]],l[s[u++]],"-",l[s[u++]],l[s[u++]],l[s[u++]],l[s[u++]],l[s[u++]],l[s[u++]]].join("")}o(i,"bytesToUuid"),e.exports=i},"./node_modules/uuid/lib/rng-browser.js":function(e,t){var r=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=o(function(){return r(n),n},"whatwgRNG")}else{var i=new Array(16);e.exports=o(function(){for(var a=0,u;a<16;a++)(a&3)==0&&(u=Math.random()*4294967296),i[a]=u>>>((a&3)<<3)&255;return i},"mathRNG")}},"./node_modules/uuid/v4.js":function(e,t,r){var n=r("./node_modules/uuid/lib/rng-browser.js"),i=r("./node_modules/uuid/lib/bytesToUuid.js");function s(a,u,l){var p=u&&l||0;typeof a=="string"&&(u=a==="binary"?new Array(16):null,a=null),a=a||{};var d=a.random||(a.rng||n)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,u)for(var g=0;g<16;++g)u[p+g]=d[g];return u||i(d)}o(s,"v4"),e.exports=s},"./node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){typeof window=="object"&&(r=window)}e.exports=r},"./src/automerge.js":function(e,t,r){"use strict";var n=function(){function R(P,L){var z=[],W=!0,te=!1,ce=void 0;try{for(var ue=P[Symbol.iterator](),q;!(W=(q=ue.next()).done)&&(z.push(q.value),!(L&&z.length===L));W=!0);}catch(oe){te=!0,ce=oe}finally{try{!W&&ue.return&&ue.return()}finally{if(te)throw ce}}return z}return o(R,"sliceIterator"),function(P,L){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return R(P,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=r("./node_modules/transit-immutable-js/index.js"),s=r("./src/uuid.js"),a=r("./frontend/index.js"),u=r("./backend/index.js"),l=r("./src/common.js"),p=l.isObject;function d(R,P){var L=g(R),z=u.applyChanges(u.init(),P),W=n(z,2),te=W[0],ce=W[1],ue=u.getPatch(te);return ue.state=te,a.applyPatch(L,ue)}o(d,"docFromChanges");function g(R){if(typeof R=="string")R={actorId:R};else if(typeof R=="undefined")R={};else if(!p(R))throw new TypeError("Unsupported options for init(): "+R);return a.init(Object.assign({backend:u},R))}o(g,"init");function m(R,P){var L={message:"Initialization",undoable:!1};return v(g(P),L,function(z){return Object.assign(z,R)})}o(m,"from");function v(R,P,L){var z=a.change(R,P,L),W=n(z,2),te=W[0],ce=W[1];return te}o(v,"change");function y(R,P){var L=a.emptyChange(R,P),z=n(L,2),W=z[0],te=z[1];return W}o(y,"emptyChange");function S(R,P){var L=a.undo(R,P),z=n(L,2),W=z[0],te=z[1];return W}o(S,"undo");function E(R,P){var L=a.redo(R,P),z=n(L,2),W=z[0],te=z[1];return W}o(E,"redo");function T(R,P){return d(P,i.fromJSON(R))}o(T,"load");function w(R){var P=a.getBackendState(R);return i.toJSON(P.getIn(["opSet","history"]).concat(P.getIn(["opSet","queue"])))}o(w,"save");function O(R,P){if(a.getActorId(R)===a.getActorId(P))throw new RangeError("Cannot merge an actor with itself");var L=a.getBackendState(R),z=a.getBackendState(P),W=u.merge(L,z),te=n(W,2),ce=te[0],ue=te[1];return ue.diffs.length===0?R:(ue.state=ce,a.applyPatch(R,ue))}o(O,"merge");function I(R,P){var L=a.getBackendState(R),z=a.getBackendState(P),W=u.getChanges(L,z),te=u.applyChanges(L,W),ce=n(te,2),ue=ce[0],q=ce[1];return q.diffs}o(I,"diff");function j(R,P){var L=a.getBackendState(R),z=a.getBackendState(P);return u.getChanges(L,z)}o(j,"getChanges");function k(R){return j(g(),R)}o(k,"getAllChanges");function F(R,P){var L=a.getBackendState(R),z=u.applyChanges(L,P),W=n(z,2),te=W[0],ce=W[1];return ce.state=te,a.applyPatch(R,ce)}o(F,"applyChanges");function $(R){return u.getMissingDeps(a.getBackendState(R))}o($,"getMissingDeps");function ne(R,P){if(!p(R)||!p(P))return R===P;var L=Object.keys(R).sort(),z=Object.keys(P).sort();if(L.length!==z.length)return!1;for(var W=0;W<L.length;W++)if(L[W]!==z[W]||!ne(R[L[W]],P[z[W]]))return!1;return!0}o(ne,"equals");function se(R){var P=a.getBackendState(R),L=a.getActorId(R),z=P.getIn(["opSet","history"]);return z.map(function(W,te){return{get change(){return W.toJS()},get snapshot(){return d(L,z.slice(0,te+1))}}}).toArray()}o(se,"getHistory"),e.exports={init:g,from:m,change:v,emptyChange:y,undo:S,redo:E,load:T,save:w,merge:O,diff:I,getChanges:j,getAllChanges:k,applyChanges:F,getMissingDeps:$,equals:ne,getHistory:se,uuid:s,Frontend:a,Backend:u,DocSet:r("./src/doc_set.js"),WatchableDoc:r("./src/watchable_doc.js"),Connection:r("./src/connection.js")};for(var pe=["canUndo","canRedo","getObjectId","getObjectById","getActorId","setActorId","getConflicts","Text","Table","Counter"],fe=0;fe<pe.length;fe++){var V=pe[fe];e.exports[V]=a[V]}},"./src/common.js":function(e,t,r){"use strict";var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},i="00000000-0000-0000-0000-000000000000";function s(p){return(typeof p=="undefined"?"undefined":n(p))==="object"&&p!==null}o(s,"isObject");function a(p){if(!s(p))return{};var d={},g=!0,m=!1,v=void 0;try{for(var y=Object.keys(p)[Symbol.iterator](),S;!(g=(S=y.next()).done);g=!0){var E=S.value;d[E]=p[E]}}catch(T){m=!0,v=T}finally{try{!g&&y.return&&y.return()}finally{if(m)throw v}}return d}o(a,"copyObject");function u(p,d){return p.keySeq().concat(d.keySeq()).reduce(function(g,m){return g&&p.get(m,0)<=d.get(m,0)},!0)}o(u,"lessOrEqual");function l(p){var d=/^(.*):(\d+)$/.exec(p||"");if(!d)throw new RangeError("Not a valid elemId: "+p);return{counter:parseInt(d[2]),actorId:d[1]}}o(l,"parseElemId"),e.exports={ROOT_ID:i,isObject:s,copyObject:a,lessOrEqual:u,parseElemId:l}},"./src/connection.js":function(e,t,r){"use strict";var n=function(){function y(S,E){for(var T=0;T<E.length;T++){var w=E[T];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return o(y,"defineProperties"),function(S,E,T){return E&&y(S.prototype,E),T&&y(S,T),S}}();function i(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}o(i,"_classCallCheck");var s=r("./node_modules/immutable/dist/immutable.js"),a=s.Map,u=s.fromJS,l=r("./src/common.js"),p=l.lessOrEqual,d=r("./frontend/index.js"),g=r("./backend/index.js");function m(y,S,E){return E=y.get(S,a()).mergeWith(function(T,w){return Math.max(T,w)},E),y.set(S,E)}o(m,"clockUnion");var v=function(){function y(S,E){i(this,y),this._docSet=S,this._sendMsg=E,this._theirClock=a(),this._ourClock=a(),this._docChangedHandler=this.docChanged.bind(this)}return o(y,"Connection"),n(y,[{key:"open",value:o(function(){var E=!0,T=!1,w=void 0;try{for(var O=this._docSet.docIds[Symbol.iterator](),I;!(E=(I=O.next()).done);E=!0){var j=I.value;this.docChanged(j,this._docSet.getDoc(j))}}catch(k){T=!0,w=k}finally{try{!E&&O.return&&O.return()}finally{if(T)throw w}}this._docSet.registerHandler(this._docChangedHandler)},"open")},{key:"close",value:o(function(){this._docSet.unregisterHandler(this._docChangedHandler)},"close")},{key:"sendMsg",value:o(function(E,T,w){var O={docId:E,clock:T.toJS()};this._ourClock=m(this._ourClock,E,T),w&&(O.changes=w),this._sendMsg(O)},"sendMsg")},{key:"maybeSendChanges",value:o(function(E){var T=this._docSet.getDoc(E),w=d.getBackendState(T),O=w.getIn(["opSet","clock"]);if(this._theirClock.has(E)){var I=g.getMissingChanges(w,this._theirClock.get(E));if(I.length>0){this._theirClock=m(this._theirClock,E,O),this.sendMsg(E,O,I);return}}O.equals(this._ourClock.get(E,a()))||this.sendMsg(E,O)},"maybeSendChanges")},{key:"docChanged",value:o(function(E,T){var w=d.getBackendState(T),O=w.getIn(["opSet","clock"]);if(!O)throw new TypeError("This object cannot be used for network sync. Are you trying to sync a snapshot from the history?");if(!p(this._ourClock.get(E,a()),O))throw new RangeError("Cannot pass an old state object to a connection");this.maybeSendChanges(E)},"docChanged")},{key:"receiveMsg",value:o(function(E){return E.clock&&(this._theirClock=m(this._theirClock,E.docId,u(E.clock))),E.changes?this._docSet.applyChanges(E.docId,u(E.changes)):(this._docSet.getDoc(E.docId)?this.maybeSendChanges(E.docId):this._ourClock.has(E.docId)||this.sendMsg(E.docId,a()),this._docSet.getDoc(E.docId))},"receiveMsg")}]),y}();e.exports=v},"./src/doc_set.js":function(e,t,r){"use strict";var n=function(){function v(y,S){var E=[],T=!0,w=!1,O=void 0;try{for(var I=y[Symbol.iterator](),j;!(T=(j=I.next()).done)&&(E.push(j.value),!(S&&E.length===S));T=!0);}catch(k){w=!0,O=k}finally{try{!T&&I.return&&I.return()}finally{if(w)throw O}}return E}return o(v,"sliceIterator"),function(y,S){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return v(y,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function v(y,S){for(var E=0;E<S.length;E++){var T=S[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return o(v,"defineProperties"),function(y,S,E){return S&&v(y.prototype,S),E&&v(y,E),y}}();function s(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var a=r("./node_modules/immutable/dist/immutable.js"),u=a.Map,l=a.Set,p=r("./src/uuid.js"),d=r("./frontend/index.js"),g=r("./backend/index.js"),m=function(){function v(){s(this,v),this.docs=u(),this.handlers=l()}return o(v,"DocSet"),i(v,[{key:"getDoc",value:o(function(S){return this.docs.get(S)},"getDoc")},{key:"removeDoc",value:o(function(S){this.docs=this.docs.delete(S)},"removeDoc")},{key:"setDoc",value:o(function(S,E){this.docs=this.docs.set(S,E),this.handlers.forEach(function(T){return T(S,E)})},"setDoc")},{key:"applyChanges",value:o(function(S,E){var T=this.docs.get(S)||d.init({backend:g}),w=d.getBackendState(T),O=g.applyChanges(w,E),I=n(O,2),j=I[0],k=I[1];return k.state=j,T=d.applyPatch(T,k),this.setDoc(S,T),T},"applyChanges")},{key:"registerHandler",value:o(function(S){this.handlers=this.handlers.add(S)},"registerHandler")},{key:"unregisterHandler",value:o(function(S){this.handlers=this.handlers.remove(S)},"unregisterHandler")},{key:"docIds",get:o(function(){return this.docs.keys()},"get")}]),v}();e.exports=m},"./src/uuid.js":function(e,t,r){"use strict";var n=r("./node_modules/uuid/v4.js"),i=n;function s(){return i()}o(s,"makeUuid"),s.setFactory=function(a){return i=a},s.reset=function(){return i=n},e.exports=s},"./src/watchable_doc.js":function(e,t,r){"use strict";var n=function(){function g(m,v){var y=[],S=!0,E=!1,T=void 0;try{for(var w=m[Symbol.iterator](),O;!(S=(O=w.next()).done)&&(y.push(O.value),!(v&&y.length===v));S=!0);}catch(I){E=!0,T=I}finally{try{!S&&w.return&&w.return()}finally{if(E)throw T}}return y}return o(g,"sliceIterator"),function(m,v){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function g(m,v){for(var y=0;y<v.length;y++){var S=v[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return o(g,"defineProperties"),function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}();function s(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var a=r("./node_modules/immutable/dist/immutable.js"),u=a.Set,l=r("./frontend/index.js"),p=r("./backend/index.js"),d=function(){function g(m){if(s(this,g),!m)throw new Error("doc argument is required");this.doc=m,this.handlers=u()}return o(g,"WatchableDoc"),i(g,[{key:"get",value:o(function(){return this.doc},"get")},{key:"set",value:o(function(v){this.doc=v,this.handlers.forEach(function(y){return y(v)})},"set")},{key:"applyChanges",value:o(function(v){var y=l.getBackendState(this.doc),S=p.applyChanges(y,v),E=n(S,2),T=E[0],w=E[1];w.state=T;var O=l.applyPatch(this.doc,w);return this.set(O),O},"applyChanges")},{key:"registerHandler",value:o(function(v){this.handlers=this.handlers.add(v)},"registerHandler")},{key:"unregisterHandler",value:o(function(v){this.handlers=this.handlers.remove(v)},"unregisterHandler")}]),g}();e.exports=d}})})});var nt=x((hV,gc)=>{var Bx,Kx,Ux,Fx,Hx,zx,$x,Wx,Jx,dc,Qp,Gx,Vx,io,Yx,Xx,Zx,Qx,eS,tS,rS,nS,iS;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof gc=="object"&&typeof gc.exports=="object"?e(r(t,r(gc.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}o(r,"createExporter")})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};Bx=o(function(r,n){t(r,n);function i(){this.constructor=r}o(i,"__"),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},"__extends"),Kx=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Ux=o(function(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i},"__rest"),Fx=o(function(r,n,i,s){var a=arguments.length,u=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,s);else for(var p=r.length-1;p>=0;p--)(l=r[p])&&(u=(a<3?l(u):a>3?l(n,i,u):l(n,i))||u);return a>3&&u&&Object.defineProperty(n,i,u),u},"__decorate"),Hx=o(function(r,n){return function(i,s){n(i,s,r)}},"__param"),zx=o(function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},"__metadata"),$x=o(function(r,n,i,s){function a(u){return u instanceof i?u:new i(function(l){l(u)})}return o(a,"adopt"),new(i||(i=Promise))(function(u,l){function p(m){try{g(s.next(m))}catch(v){l(v)}}o(p,"fulfilled");function d(m){try{g(s.throw(m))}catch(v){l(v)}}o(d,"rejected");function g(m){m.done?u(m.value):a(m.value).then(p,d)}o(g,"step"),g((s=s.apply(r,n||[])).next())})},"__awaiter"),Wx=o(function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,l;return l={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function p(g){return function(m){return d([g,m])}}function d(g){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,a&&(u=g[0]&2?a.return:g[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,g[1])).done)return u;switch(a=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,a=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){i.label=g[1];break}if(g[0]===6&&i.label<u[1]){i.label=u[1],u=g;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(g);break}u[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(r,i)}catch(m){g=[6,m],a=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},"__generator"),iS=o(function(r,n,i,s){s===void 0&&(s=i),r[s]=n[i]},"__createBinding"),Jx=o(function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},"__exportStar"),dc=o(function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),Qp=o(function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),a,u=[],l;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(p){l={error:p}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(l)throw l.error}}return u},"__read"),Gx=o(function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Qp(arguments[n]));return r},"__spread"),Vx=o(function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var s=Array(r),a=0,n=0;n<i;n++)for(var u=arguments[n],l=0,p=u.length;l<p;l++,a++)s[a]=u[l];return s},"__spreadArrays"),io=o(function(r){return this instanceof io?(this.v=r,this):new io(r)},"__await"),Yx=o(function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,n||[]),a,u=[];return a={},l("next"),l("throw"),l("return"),a[Symbol.asyncIterator]=function(){return this},a;function l(y){s[y]&&(a[y]=function(S){return new Promise(function(E,T){u.push([y,S,E,T])>1||p(y,S)})})}function p(y,S){try{d(s[y](S))}catch(E){v(u[0][3],E)}}function d(y){y.value instanceof io?Promise.resolve(y.value.v).then(g,m):v(u[0][2],y)}function g(y){p("next",y)}function m(y){p("throw",y)}function v(y,S){y(S),u.shift(),u.length&&p(u[0][0],u[0][1])}},"__asyncGenerator"),Xx=o(function(r){var n,i;return n={},s("next"),s("throw",function(a){throw a}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(a,u){n[a]=r[a]?function(l){return(i=!i)?{value:io(r[a](l)),done:a==="return"}:u?u(l):l}:u}},"__asyncDelegator"),Zx=o(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof dc=="function"?dc(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=r[u]&&function(l){return new Promise(function(p,d){l=r[u](l),a(p,d,l.done,l.value)})}}function a(u,l,p,d){Promise.resolve(d).then(function(g){u({value:g,done:p})},l)}},"__asyncValues"),Qx=o(function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},"__makeTemplateObject"),eS=o(function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},"__importStar"),tS=o(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),rS=o(function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},"__classPrivateFieldGet"),nS=o(function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},"__classPrivateFieldSet"),e("__extends",Bx),e("__assign",Kx),e("__rest",Ux),e("__decorate",Fx),e("__param",Hx),e("__metadata",zx),e("__awaiter",$x),e("__generator",Wx),e("__exportStar",Jx),e("__createBinding",iS),e("__values",dc),e("__read",Qp),e("__spread",Gx),e("__spreadArrays",Vx),e("__await",io),e("__asyncGenerator",Yx),e("__asyncDelegator",Xx),e("__asyncValues",Zx),e("__makeTemplateObject",Qx),e("__importStar",eS),e("__importDefault",tS),e("__classPrivateFieldGet",rS),e("__classPrivateFieldSet",nS)})});var je=x((mV,mc)=>{var oS,sS,aS,cS,uS,lS,pS,fS,dS,hc,ef,gS,hS,oo,mS,vS,yS,_S,bS,xS,SS,ES,wS;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof mc=="object"&&typeof mc.exports=="object"?e(r(t,r(mc.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}o(r,"createExporter")})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};oS=o(function(r,n){t(r,n);function i(){this.constructor=r}o(i,"__"),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},"__extends"),sS=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},aS=o(function(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i},"__rest"),cS=o(function(r,n,i,s){var a=arguments.length,u=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,s);else for(var p=r.length-1;p>=0;p--)(l=r[p])&&(u=(a<3?l(u):a>3?l(n,i,u):l(n,i))||u);return a>3&&u&&Object.defineProperty(n,i,u),u},"__decorate"),uS=o(function(r,n){return function(i,s){n(i,s,r)}},"__param"),lS=o(function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},"__metadata"),pS=o(function(r,n,i,s){function a(u){return u instanceof i?u:new i(function(l){l(u)})}return o(a,"adopt"),new(i||(i=Promise))(function(u,l){function p(m){try{g(s.next(m))}catch(v){l(v)}}o(p,"fulfilled");function d(m){try{g(s.throw(m))}catch(v){l(v)}}o(d,"rejected");function g(m){m.done?u(m.value):a(m.value).then(p,d)}o(g,"step"),g((s=s.apply(r,n||[])).next())})},"__awaiter"),fS=o(function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,l;return l={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function p(g){return function(m){return d([g,m])}}function d(g){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,a&&(u=g[0]&2?a.return:g[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,g[1])).done)return u;switch(a=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,a=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){i.label=g[1];break}if(g[0]===6&&i.label<u[1]){i.label=u[1],u=g;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(g);break}u[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(r,i)}catch(m){g=[6,m],a=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},"__generator"),wS=o(function(r,n,i,s){s===void 0&&(s=i),r[s]=n[i]},"__createBinding"),dS=o(function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},"__exportStar"),hc=o(function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),ef=o(function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),a,u=[],l;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(p){l={error:p}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(l)throw l.error}}return u},"__read"),gS=o(function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(ef(arguments[n]));return r},"__spread"),hS=o(function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var s=Array(r),a=0,n=0;n<i;n++)for(var u=arguments[n],l=0,p=u.length;l<p;l++,a++)s[a]=u[l];return s},"__spreadArrays"),oo=o(function(r){return this instanceof oo?(this.v=r,this):new oo(r)},"__await"),mS=o(function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,n||[]),a,u=[];return a={},l("next"),l("throw"),l("return"),a[Symbol.asyncIterator]=function(){return this},a;function l(y){s[y]&&(a[y]=function(S){return new Promise(function(E,T){u.push([y,S,E,T])>1||p(y,S)})})}function p(y,S){try{d(s[y](S))}catch(E){v(u[0][3],E)}}function d(y){y.value instanceof oo?Promise.resolve(y.value.v).then(g,m):v(u[0][2],y)}function g(y){p("next",y)}function m(y){p("throw",y)}function v(y,S){y(S),u.shift(),u.length&&p(u[0][0],u[0][1])}},"__asyncGenerator"),vS=o(function(r){var n,i;return n={},s("next"),s("throw",function(a){throw a}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(a,u){n[a]=r[a]?function(l){return(i=!i)?{value:oo(r[a](l)),done:a==="return"}:u?u(l):l}:u}},"__asyncDelegator"),yS=o(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof hc=="function"?hc(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=r[u]&&function(l){return new Promise(function(p,d){l=r[u](l),a(p,d,l.done,l.value)})}}function a(u,l,p,d){Promise.resolve(d).then(function(g){u({value:g,done:p})},l)}},"__asyncValues"),_S=o(function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},"__makeTemplateObject"),bS=o(function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},"__importStar"),xS=o(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),SS=o(function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},"__classPrivateFieldGet"),ES=o(function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},"__classPrivateFieldSet"),e("__extends",oS),e("__assign",sS),e("__rest",aS),e("__decorate",cS),e("__param",uS),e("__metadata",lS),e("__awaiter",pS),e("__generator",fS),e("__exportStar",dS),e("__createBinding",wS),e("__values",hc),e("__read",ef),e("__spread",gS),e("__spreadArrays",hS),e("__await",oo),e("__asyncGenerator",mS),e("__asyncDelegator",vS),e("__asyncValues",yS),e("__makeTemplateObject",_S),e("__importStar",bS),e("__importDefault",xS),e("__classPrivateFieldGet",SS),e("__classPrivateFieldSet",ES)})});var TS=x(vc=>{Object.defineProperty(vc,"__esModule",{value:!0});var eN;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Debug=2]="Debug",e[e.Verbose=3]="Verbose"})(eN=vc.LogLevel||(vc.LogLevel={}))});var OS=x(so=>{Object.defineProperty(so,"__esModule",{value:!0});var tN;(function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"})(tN=so.SessionStatus||(so.SessionStatus={}));var rN;(function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"})(rN=so.RequestSessionStatus||(so.RequestSessionStatus={}))});var IS=x(ao=>{Object.defineProperty(ao,"__esModule",{value:!0});var CS;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(CS=ao.Severity||(ao.Severity={}));(function(e){function t(r){switch(r){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}o(t,"fromString"),e.fromString=t})(CS=ao.Severity||(ao.Severity={}))});var AS=x(co=>{Object.defineProperty(co,"__esModule",{value:!0});var kS;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"})(kS=co.Status||(co.Status={}));(function(e){function t(r){return r>=200&&r<300?e.Success:r===429?e.RateLimit:r>=400&&r<500?e.Invalid:r>=500?e.Failed:e.Unknown}o(t,"fromHttpCode"),e.fromHttpCode=t})(kS=co.Status||(co.Status={}))});var qS=x(yc=>{Object.defineProperty(yc,"__esModule",{value:!0});var nN;(function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"})(nN=yc.TransactionSamplingMethod||(yc.TransactionSamplingMethod={}))});var Nt=x(Un=>{Object.defineProperty(Un,"__esModule",{value:!0});var iN=TS();Un.LogLevel=iN.LogLevel;var jS=OS();Un.SessionStatus=jS.SessionStatus;Un.RequestSessionStatus=jS.RequestSessionStatus;var oN=IS();Un.Severity=oN.Severity;var sN=AS();Un.Status=sN.Status;var aN=qS();Un.TransactionSamplingMethod=aN.TransactionSamplingMethod});var RS=x(tf=>{Object.defineProperty(tf,"__esModule",{value:!0});function cN(e){e.then(null,function(t){console.error(t)})}o(cN,"forget");tf.forget=cN});var mi=x(Dt=>{Object.defineProperty(Dt,"__esModule",{value:!0});function uN(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return _c(e,Error)}}o(uN,"isError");Dt.isError=uN;function lN(e){return Object.prototype.toString.call(e)==="[object ErrorEvent]"}o(lN,"isErrorEvent");Dt.isErrorEvent=lN;function pN(e){return Object.prototype.toString.call(e)==="[object DOMError]"}o(pN,"isDOMError");Dt.isDOMError=pN;function fN(e){return Object.prototype.toString.call(e)==="[object DOMException]"}o(fN,"isDOMException");Dt.isDOMException=fN;function dN(e){return Object.prototype.toString.call(e)==="[object String]"}o(dN,"isString");Dt.isString=dN;function gN(e){return e===null||typeof e!="object"&&typeof e!="function"}o(gN,"isPrimitive");Dt.isPrimitive=gN;function MS(e){return Object.prototype.toString.call(e)==="[object Object]"}o(MS,"isPlainObject");Dt.isPlainObject=MS;function hN(e){return typeof Event!="undefined"&&_c(e,Event)}o(hN,"isEvent");Dt.isEvent=hN;function mN(e){return typeof Element!="undefined"&&_c(e,Element)}o(mN,"isElement");Dt.isElement=mN;function vN(e){return Object.prototype.toString.call(e)==="[object RegExp]"}o(vN,"isRegExp");Dt.isRegExp=vN;function yN(e){return Boolean(e&&e.then&&typeof e.then=="function")}o(yN,"isThenable");Dt.isThenable=yN;function _N(e){return MS(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}o(_N,"isSyntheticEvent");Dt.isSyntheticEvent=_N;function _c(e,t){try{return e instanceof t}catch(r){return!1}}o(_c,"isInstanceOf");Dt.isInstanceOf=_c});var nf=x(rf=>{Object.defineProperty(rf,"__esModule",{value:!0});var bN=mi();function xN(e,t){try{for(var r=e,n=5,i=80,s=[],a=0,u=0,l=" > ",p=l.length,d=void 0;r&&a++<n&&(d=SN(r,t),!(d==="html"||a>1&&u+s.length*p+d.length>=i));)s.push(d),u+=d.length,r=r.parentNode;return s.reverse().join(l)}catch(g){return"<unknown>"}}o(xN,"htmlTreeAsString");rf.htmlTreeAsString=xN;function SN(e,t){var r,n,i=e,s=[],a,u,l,p,d;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var g=((r=t)===null||r===void 0?void 0:r.length)?t.filter(function(v){return i.getAttribute(v)}).map(function(v){return[v,i.getAttribute(v)]}):null;if((n=g)===null||n===void 0?void 0:n.length)g.forEach(function(v){s.push("["+v[0]+'="'+v[1]+'"]')});else if(i.id&&s.push("#"+i.id),a=i.className,a&&bN.isString(a))for(u=a.split(/\s+/),d=0;d<u.length;d++)s.push("."+u[d]);var m=["type","name","title","alt"];for(d=0;d<m.length;d++)l=m[d],p=i.getAttribute(l),p&&s.push("["+l+'="'+p+'"]');return s.join("")}o(SN,"_htmlElementAsString")});var PS=x(of=>{Object.defineProperty(of,"__esModule",{value:!0});of.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?EN:wN);function EN(e,t){return e.__proto__=t,e}o(EN,"setProtoOf");function wN(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e}o(wN,"mixinProperties")});var bc=x(sf=>{Object.defineProperty(sf,"__esModule",{value:!0});var TN=je(),ON=PS(),CN=function(e){TN.__extends(t,e);function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,ON.setPrototypeOf(i,n.prototype),i}return o(t,"SentryError"),t}(Error);sf.SentryError=CN});var NS=x(af=>{Object.defineProperty(af,"__esModule",{value:!0});var IN=je(),Cs=bc(),kN=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Is="Invalid Dsn",AN=function(){function e(t){typeof t=="string"?this._fromString(t):this._fromComponents(t),this._validate()}return o(e,"Dsn"),e.prototype.toString=function(t){t===void 0&&(t=!1);var r=this,n=r.host,i=r.path,s=r.pass,a=r.port,u=r.projectId,l=r.protocol,p=r.publicKey;return l+"://"+p+(t&&s?":"+s:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+u)},e.prototype._fromString=function(t){var r=kN.exec(t);if(!r)throw new Cs.SentryError(Is);var n=IN.__read(r.slice(1),6),i=n[0],s=n[1],a=n[2],u=a===void 0?"":a,l=n[3],p=n[4],d=p===void 0?"":p,g=n[5],m="",v=g,y=v.split("/");if(y.length>1&&(m=y.slice(0,-1).join("/"),v=y.pop()),v){var S=v.match(/^\d+/);S&&(v=S[0])}this._fromComponents({host:l,pass:u,path:m,projectId:v,port:d,protocol:i,publicKey:s})},e.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},e.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!t[r])throw new Cs.SentryError(Is+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new Cs.SentryError(Is+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new Cs.SentryError(Is+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Cs.SentryError(Is+": Invalid port "+this.port)},e}();af.Dsn=AN});var Ec=x((ks,Sc)=>{Object.defineProperty(ks,"__esModule",{value:!0});function qN(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}o(qN,"isNodeEnv");ks.isNodeEnv=qN;function xc(e,t){return e.require(t)}o(xc,"dynamicRequire");ks.dynamicRequire=xc;function jN(e){var t;try{t=xc(Sc,e)}catch(n){}try{var r=xc(Sc,"process").cwd;t=xc(Sc,r()+"/node_modules/"+e)}catch(n){}return t}o(jN,"loadModule");ks.loadModule=jN});var wc=x(uo=>{Object.defineProperty(uo,"__esModule",{value:!0});var DS=mi();function RN(e,t){return t===void 0&&(t=0),typeof e!="string"||t===0||e.length<=t?e:e.substr(0,t)+"..."}o(RN,"truncate");uo.truncate=RN;function MN(e,t){var r=e,n=r.length;if(n<=150)return r;t>n&&(t=n);var i=Math.max(t-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}o(MN,"snipLine");uo.snipLine=MN;function PN(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{r.push(String(i))}catch(s){r.push("[value cannot be serialized]")}}return r.join(t)}o(PN,"safeJoin");uo.safeJoin=PN;function NN(e,t){return DS.isString(e)?DS.isRegExp(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}o(NN,"isMatchingPattern");uo.isMatchingPattern=NN});var lo=x($t=>{Object.defineProperty($t,"__esModule",{value:!0});var DN=Ec(),cf=wc(),LN={};function uf(){return DN.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:LN}o(uf,"getGlobalObject");$t.getGlobalObject=uf;function BN(){var e=uf(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=o(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,a=i==="x"?s:s&3|8;return a.toString(16)})}o(BN,"uuid4");$t.uuid4=BN;function KN(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}o(KN,"parseUrl");$t.parseUrl=KN;function UN(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}o(UN,"getEventDescription");$t.getEventDescription=UN;function FN(e){var t=uf(),r=["debug","info","warn","error","log","assert"];if(!("console"in t))return e();var n=t.console,i={};r.forEach(function(a){a in t.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var s=e();return Object.keys(i).forEach(function(a){n[a]=i[a]}),s}o(FN,"consoleSandbox");$t.consoleSandbox=FN;function HN(e,t,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||r||"Error"}o(HN,"addExceptionTypeValue");$t.addExceptionTypeValue=HN;function zN(e,t){t===void 0&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(r){e.exception.values[0].mechanism[r]=t[r]})}catch(r){}}o(zN,"addExceptionMechanism");$t.addExceptionMechanism=zN;function $N(){try{return document.location.href}catch(e){return""}}o($N,"getLocationHref");$t.getLocationHref=$N;var WN=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function JN(e){var t=e.match(WN)||[],r=parseInt(t[1],10),n=parseInt(t[2],10),i=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:t[4]}}o(JN,"parseSemver");$t.parseSemver=JN;var LS=60*1e3;function GN(e,t){if(!t)return LS;var r=parseInt(""+t,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+t);return isNaN(n)?LS:n-e}o(GN,"parseRetryAfterHeader");$t.parseRetryAfterHeader=GN;function VN(e,t,r){r===void 0&&(r=5);var n=t.lineno||0,i=e.length,s=Math.max(Math.min(i,n-1),0);t.pre_context=e.slice(Math.max(0,s-r),s).map(function(a){return cf.snipLine(a,0)}),t.context_line=cf.snipLine(e[Math.min(i-1,s)],t.colno||0),t.post_context=e.slice(Math.min(s+1,i),s+1+r).map(function(a){return cf.snipLine(a,0)})}o(VN,"addContextToFrame");$t.addContextToFrame=VN;function YN(e){return e.split(/[\?#]/,1)[0]}o(YN,"stripUrlQueryAndFragment");$t.stripUrlQueryAndFragment=YN});var Oc=x(pf=>{Object.defineProperty(pf,"__esModule",{value:!0});var Tc=lo(),vi=Tc.getGlobalObject(),lf="Sentry Logger ",XN=function(){function e(){this._enabled=!1}return o(e,"Logger"),e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Tc.consoleSandbox(function(){vi.console.log(lf+"[Log]: "+t.join(" "))})},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Tc.consoleSandbox(function(){vi.console.warn(lf+"[Warn]: "+t.join(" "))})},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Tc.consoleSandbox(function(){vi.console.error(lf+"[Error]: "+t.join(" "))})},e}();vi.__SENTRY__=vi.__SENTRY__||{};var ZN=vi.__SENTRY__.logger||(vi.__SENTRY__.logger=new XN);pf.logger=ZN});var df=x(ff=>{Object.defineProperty(ff,"__esModule",{value:!0});var QN=function(){function e(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return o(e,"Memo"),e.prototype.memoize=function(t){if(this._hasWeakSet)return this._inner.has(t)?!0:(this._inner.add(t),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===t)return!0}return this._inner.push(t),!1},e.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===t){this._inner.splice(r,1);break}},e}();ff.Memo=QN});var Cc=x(hf=>{Object.defineProperty(hf,"__esModule",{value:!0});var gf="<anonymous>";function eD(e){try{return!e||typeof e!="function"?gf:e.name||gf}catch(t){return gf}}o(eD,"getFunctionName");hf.getFunctionName=eD});var yf=x(ln=>{Object.defineProperty(ln,"__esModule",{value:!0});var tD=je(),BS=nf(),un=mi(),rD=df(),nD=Cc(),KS=wc();function iD(e,t,r){if(t in e){var n=e[t],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(s){}e[t]=i}}o(iD,"fill");ln.fill=iD;function oD(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}o(oD,"urlEncode");ln.urlEncode=oD;function US(e){if(un.isError(e)){var t=e,r={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(un.isEvent(e)){var i=e,s={};s.type=i.type;try{s.target=un.isElement(i.target)?BS.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(a){s.target="<unknown>"}try{s.currentTarget=un.isElement(i.currentTarget)?BS.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(a){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&un.isInstanceOf(e,CustomEvent)&&(s.detail=i.detail);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i);return s}return e}o(US,"getWalkSource");function sD(e){return~-encodeURI(e).split(/%..|./).length}o(sD,"utf8Length");function aD(e){return sD(JSON.stringify(e))}o(aD,"jsonSize");function FS(e,t,r){t===void 0&&(t=3),r===void 0&&(r=100*1024);var n=zS(e,t);return aD(n)>r?FS(e,t-1,r):n}o(FS,"normalizeToSize");ln.normalizeToSize=FS;function cD(e){var t=Object.prototype.toString.call(e);if(typeof e=="string")return e;if(t==="[object Object]")return"[Object]";if(t==="[object Array]")return"[Array]";var r=HS(e);return un.isPrimitive(r)?r:t}o(cD,"serializeValue");function HS(e,t){return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":un.isSyntheticEvent(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+nD.getFunctionName(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":e}o(HS,"normalizeValue");function mf(e,t,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new rD.Memo),r===0)return cD(t);if(t!=null&&typeof t.toJSON=="function")return t.toJSON();var i=HS(t,e);if(un.isPrimitive(i))return i;var s=US(t),a=Array.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var u in s)!Object.prototype.hasOwnProperty.call(s,u)||(a[u]=mf(u,s[u],r-1,n));return n.unmemoize(t),a}o(mf,"walk");ln.walk=mf;function zS(e,t){try{return JSON.parse(JSON.stringify(e,function(r,n){return mf(r,n,t)}))}catch(r){return"**non-serializable**"}}o(zS,"normalize");ln.normalize=zS;function uD(e,t){t===void 0&&(t=40);var r=Object.keys(US(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return KS.truncate(r[0],t);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length?i:KS.truncate(i,t)}return""}o(uD,"extractExceptionKeysForMessage");ln.extractExceptionKeysForMessage=uD;function vf(e){var t,r;if(un.isPlainObject(e)){var n=e,i={};try{for(var s=tD.__values(Object.keys(n)),a=s.next();!a.done;a=s.next()){var u=a.value;typeof n[u]!="undefined"&&(i[u]=vf(n[u]))}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(vf):e}o(vf,"dropUndefinedKeys");ln.dropUndefinedKeys=vf});var xf=x(Cr=>{Object.defineProperty(Cr,"__esModule",{value:!0});var lD=Oc(),Ic=lo();function pD(){try{return new ErrorEvent(""),!0}catch(e){return!1}}o(pD,"supportsErrorEvent");Cr.supportsErrorEvent=pD;function fD(){try{return new DOMError(""),!0}catch(e){return!1}}o(fD,"supportsDOMError");Cr.supportsDOMError=fD;function dD(){try{return new DOMException(""),!0}catch(e){return!1}}o(dD,"supportsDOMException");Cr.supportsDOMException=dD;function _f(){if(!("fetch"in Ic.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}o(_f,"supportsFetch");Cr.supportsFetch=_f;function bf(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}o(bf,"isNativeFetch");Cr.isNativeFetch=bf;function gD(){if(!_f())return!1;var e=Ic.getGlobalObject();if(bf(e.fetch))return!0;var t=!1,r=e.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=bf(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){lD.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}o(gD,"supportsNativeFetch");Cr.supportsNativeFetch=gD;function hD(){return"ReportingObserver"in Ic.getGlobalObject()}o(hD,"supportsReportingObserver");Cr.supportsReportingObserver=hD;function mD(){if(!_f())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}o(mD,"supportsReferrerPolicy");Cr.supportsReferrerPolicy=mD;function vD(){var e=Ic.getGlobalObject(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}o(vD,"supportsHistory");Cr.supportsHistory=vD});var VS=x(wf=>{Object.defineProperty(wf,"__esModule",{value:!0});var po=je(),kc=mi(),$S=Oc(),yD=lo(),pn=yf(),_D=Cc(),WS=xf(),Ye=yD.getGlobalObject(),As={},JS={};function bD(e){if(!JS[e])switch(JS[e]=!0,e){case"console":SD();break;case"dom":qD();break;case"xhr":OD();break;case"fetch":ED();break;case"history":CD();break;case"error":jD();break;case"unhandledrejection":RD();break;default:$S.logger.warn("unknown instrumentation type:",e)}}o(bD,"instrument");function xD(e){!e||typeof e.type!="string"||typeof e.callback!="function"||(As[e.type]=As[e.type]||[],As[e.type].push(e.callback),bD(e.type))}o(xD,"addInstrumentationHandler");wf.addInstrumentationHandler=xD;function Ir(e,t){var r,n;if(!(!e||!As[e]))try{for(var i=po.__values(As[e]||[]),s=i.next();!s.done;s=i.next()){var a=s.value;try{a(t)}catch(u){$S.logger.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+_D.getFunctionName(a)+`
Error: `+u)}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}o(Ir,"triggerHandlers");function SD(){"console"in Ye&&["debug","info","warn","error","log","assert"].forEach(function(e){e in Ye.console&&pn.fill(Ye.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Ir("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,Ye.console,r)}})})}o(SD,"instrumentConsole");function ED(){!WS.supportsNativeFetch()||pn.fill(Ye,"fetch",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:wD(t),url:TD(t)},startTimestamp:Date.now()};return Ir("fetch",po.__assign({},n)),e.apply(Ye,t).then(function(i){return Ir("fetch",po.__assign(po.__assign({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw Ir("fetch",po.__assign(po.__assign({},n),{endTimestamp:Date.now(),error:i})),i})}})}o(ED,"instrumentFetch");function wD(e){return e===void 0&&(e=[]),"Request"in Ye&&kc.isInstanceOf(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}o(wD,"getFetchMethod");function TD(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in Ye&&kc.isInstanceOf(e[0],Request)?e[0].url:String(e[0])}o(TD,"getFetchUrl");function OD(){if("XMLHttpRequest"in Ye){var e=[],t=[],r=XMLHttpRequest.prototype;pn.fill(r,"open",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=this,u=i[1];a.__sentry_xhr__={method:kc.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},kc.isString(u)&&a.__sentry_xhr__.method==="POST"&&u.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var l=o(function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(g){}try{var p=e.indexOf(a);if(p!==-1){e.splice(p);var d=t.splice(p)[0];a.__sentry_xhr__&&d[0]!==void 0&&(a.__sentry_xhr__.body=d[0])}}catch(g){}Ir("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}},"onreadystatechangeHandler");return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?pn.fill(a,"onreadystatechange",function(p){return function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return l(),p.apply(a,d)}}):a.addEventListener("readystatechange",l),n.apply(a,i)}}),pn.fill(r,"send",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return e.push(this),t.push(i),Ir("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}o(OD,"instrumentXHR");var Ac;function CD(){if(!WS.supportsHistory())return;var e=Ye.onpopstate;Ye.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=Ye.location.href,s=Ac;if(Ac=i,Ir("history",{from:s,to:i}),e)try{return e.apply(this,r)}catch(a){}};function t(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var a=Ac,u=String(s);Ac=u,Ir("history",{from:a,to:u})}return r.apply(this,n)}}o(t,"historyReplacementFunction"),pn.fill(Ye.history,"pushState",t),pn.fill(Ye.history,"replaceState",t)}o(CD,"instrumentHistory");var ID=1e3,qc,jc;function kD(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(r){}return!1}o(kD,"shouldShortcircuitPreviousDebounce");function AD(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch(r){}return!0}o(AD,"shouldSkipDOMEvent");function GS(e,t){return t===void 0&&(t=!1),function(r){if(!(!r||jc===r)&&!AD(r)){var n=r.type==="keypress"?"input":r.type;qc===void 0?(e({event:r,name:n,global:t}),jc=r):kD(jc,r)&&(e({event:r,name:n,global:t}),jc=r),clearTimeout(qc),qc=Ye.setTimeout(function(){qc=void 0},ID)}}}o(GS,"makeDOMEventHandler");function qD(){if("document"in Ye){var e=Ir.bind(null,"dom"),t=GS(e,!0);Ye.document.addEventListener("click",t,!1),Ye.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(r){var n=Ye[r]&&Ye[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(pn.fill(n,"addEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var l=this,p=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},d=p[s]=p[s]||{refCount:0};if(!d.handler){var g=GS(e);d.handler=g,i.call(this,s,g,u)}d.refCount+=1}catch(m){}return i.call(this,s,a,u)}}),pn.fill(n,"removeEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var l=this,p=l.__sentry_instrumentation_handlers__||{},d=p[s];d&&(d.refCount-=1,d.refCount<=0&&(i.call(this,s,d.handler,u),d.handler=void 0,delete p[s]),Object.keys(p).length===0&&delete l.__sentry_instrumentation_handlers__)}catch(g){}return i.call(this,s,a,u)}}))})}}o(qD,"instrumentDOM");var Sf=null;function jD(){Sf=Ye.onerror,Ye.onerror=function(e,t,r,n,i){return Ir("error",{column:n,error:i,line:r,msg:e,url:t}),Sf?Sf.apply(this,arguments):!1}}o(jD,"instrumentError");var Ef=null;function RD(){Ef=Ye.onunhandledrejection,Ye.onunhandledrejection=function(e){return Ir("unhandledrejection",e),Ef?Ef.apply(this,arguments):!0}}o(RD,"instrumentUnhandledRejection")});var tE=x(fn=>{Object.defineProperty(fn,"__esModule",{value:!0});function YS(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];i==="."?e.splice(n,1):i===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}o(YS,"normalizeArray");var MD=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function XS(e){var t=MD.exec(e);return t?t.slice(1):[]}o(XS,"splitPath");function Tf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r="",n=!1,i=e.length-1;i>=-1&&!n;i--){var s=i>=0?e[i]:"/";!s||(r=s+"/"+r,n=s.charAt(0)==="/")}return r=YS(r.split("/").filter(function(a){return!!a}),!n).join("/"),(n?"/":"")+r||"."}o(Tf,"resolve");fn.resolve=Tf;function ZS(e){for(var t=0;t<e.length&&e[t]==="";t++);for(var r=e.length-1;r>=0&&e[r]==="";r--);return t>r?[]:e.slice(t,r-t+1)}o(ZS,"trim");function PD(e,t){e=Tf(e).substr(1),t=Tf(t).substr(1);for(var r=ZS(e.split("/")),n=ZS(t.split("/")),i=Math.min(r.length,n.length),s=i,a=0;a<i;a++)if(r[a]!==n[a]){s=a;break}for(var u=[],a=s;a<r.length;a++)u.push("..");return u=u.concat(n.slice(s)),u.join("/")}o(PD,"relative");fn.relative=PD;function QS(e){var t=eE(e),r=e.substr(-1)==="/",n=YS(e.split("/").filter(function(i){return!!i}),!t).join("/");return!n&&!t&&(n="."),n&&r&&(n+="/"),(t?"/":"")+n}o(QS,"normalizePath");fn.normalizePath=QS;function eE(e){return e.charAt(0)==="/"}o(eE,"isAbsolute");fn.isAbsolute=eE;function ND(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return QS(e.join("/"))}o(ND,"join");fn.join=ND;function DD(e){var t=XS(e),r=t[0],n=t[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}o(DD,"dirname");fn.dirname=DD;function LD(e,t){var r=XS(e)[2];return t&&r.substr(t.length*-1)===t&&(r=r.substr(0,r.length-t.length)),r}o(LD,"basename");fn.basename=LD});var Cf=x(Of=>{Object.defineProperty(Of,"__esModule",{value:!0});var BD=mi(),dn;(function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"})(dn||(dn={}));var KD=function(){function e(t){var r=this;this._state=dn.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(dn.RESOLVED,n)},this._reject=function(n){r._setResult(dn.REJECTED,n)},this._setResult=function(n,i){if(r._state===dn.PENDING){if(BD.isThenable(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==dn.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===dn.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===dn.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return o(e,"SyncPromise"),e.resolve=function(t){return new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){return new e(function(r,n){if(!Array.isArray(t)){n(new TypeError("Promise.all requires an array as input."));return}if(t.length===0){r([]);return}var i=t.length,s=[];t.forEach(function(a,u){e.resolve(a).then(function(l){s[u]=l,i-=1,i===0&&r(s)}).then(null,n)})})},e.prototype.then=function(t,r){var n=this;return new e(function(i,s){n._attachHandler({done:!1,onfulfilled:function(a){if(!t){i(a);return}try{i(t(a));return}catch(u){s(u);return}},onrejected:function(a){if(!r){s(a);return}try{i(r(a));return}catch(u){s(u);return}}})})},e.prototype.catch=function(t){return this.then(function(r){return r},t)},e.prototype.finally=function(t){var r=this;return new e(function(n,i){var s,a;return r.then(function(u){a=!1,s=u,t&&t()},function(u){a=!0,s=u,t&&t()}).then(function(){if(a){i(s);return}n(s)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}();Of.SyncPromise=KD});var rE=x(kf=>{Object.defineProperty(kf,"__esModule",{value:!0});var UD=bc(),If=Cf(),FD=function(){function e(t){this._limit=t,this._buffer=[]}return o(e,"PromiseBuffer"),e.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},e.prototype.add=function(t){var r=this;if(!this.isReady())return If.SyncPromise.reject(new UD.SentryError("Not adding Promise due to buffer limit reached."));var n=t();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},e.prototype.remove=function(t){var r=this._buffer.splice(this._buffer.indexOf(t),1)[0];return r},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(t){var r=this;return new If.SyncPromise(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);If.SyncPromise.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},e}();kf.PromiseBuffer=FD});var aE=x((hr,sE)=>{Object.defineProperty(hr,"__esModule",{value:!0});var nE=lo(),iE=Ec(),Af={nowSeconds:function(){return Date.now()/1e3}};function HD(){var e=nE.getGlobalObject().performance;if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:t}}}o(HD,"getBrowserPerformance");function zD(){try{var e=iE.dynamicRequire(sE,"perf_hooks");return e.performance}catch(t){return}}o(zD,"getNodePerformance");var Rc=iE.isNodeEnv()?zD():HD(),oE=Rc===void 0?Af:{nowSeconds:function(){return(Rc.timeOrigin+Rc.now())/1e3}};hr.dateTimestampInSeconds=Af.nowSeconds.bind(Af);hr.timestampInSeconds=oE.nowSeconds.bind(oE);hr.timestampWithMs=hr.timestampInSeconds;hr.usingPerformanceAPI=Rc!==void 0;hr.browserPerformanceTimeOrigin=function(){var e=nE.getGlobalObject().performance;if(!e||!e.now){hr._browserPerformanceTimeOriginMode="none";return}var t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=i<t,a=e.timing&&e.timing.navigationStart,u=typeof a=="number",l=u?Math.abs(a+r-n):t,p=l<t;return s||p?i<=l?(hr._browserPerformanceTimeOriginMode="timeOrigin",e.timeOrigin):(hr._browserPerformanceTimeOriginMode="navigationStart",a):(hr._browserPerformanceTimeOriginMode="dateNow",n)}()});var Ae=x(st=>{Object.defineProperty(st,"__esModule",{value:!0});var dt=je();dt.__exportStar(RS(),st);dt.__exportStar(nf(),st);dt.__exportStar(NS(),st);dt.__exportStar(bc(),st);dt.__exportStar(VS(),st);dt.__exportStar(mi(),st);dt.__exportStar(Oc(),st);dt.__exportStar(df(),st);dt.__exportStar(lo(),st);dt.__exportStar(Ec(),st);dt.__exportStar(yf(),st);dt.__exportStar(tE(),st);dt.__exportStar(rE(),st);dt.__exportStar(Cc(),st);dt.__exportStar(wc(),st);dt.__exportStar(xf(),st);dt.__exportStar(Cf(),st);dt.__exportStar(aE(),st)});var qf=x(Mc=>{Object.defineProperty(Mc,"__esModule",{value:!0});var Oe=je(),qs=Ae(),cE=100,$D=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return o(e,"Scope"),e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=Oe.__spread(t._breadcrumbs),r._tags=Oe.__assign({},t._tags),r._extra=Oe.__assign({},t._extra),r._contexts=Oe.__assign({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=Oe.__spread(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(t){return this._requestSession=t,this},e.prototype.setTags=function(t){return this._tags=Oe.__assign(Oe.__assign({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,r){var n;return this._tags=Oe.__assign(Oe.__assign({},this._tags),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=Oe.__assign(Oe.__assign({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,r){var n;return this._extra=Oe.__assign(Oe.__assign({},this._extra),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,r){var n;return r===null?delete this._contexts[t]:this._contexts=Oe.__assign(Oe.__assign({},this._contexts),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t,r,n,i,s=this.getSpan();if((t=s)===null||t===void 0?void 0:t.transaction)return(r=s)===null||r===void 0?void 0:r.transaction;if((i=(n=s)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if(typeof t=="function"){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=Oe.__assign(Oe.__assign({},this._tags),t._tags),this._extra=Oe.__assign(Oe.__assign({},this._extra),t._extra),this._contexts=Oe.__assign(Oe.__assign({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):qs.isPlainObject(t)&&(t=t,this._tags=Oe.__assign(Oe.__assign({},this._tags),t.tags),this._extra=Oe.__assign(Oe.__assign({},this._extra),t.extra),this._contexts=Oe.__assign(Oe.__assign({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,r){var n=typeof r=="number"?Math.min(r,cE):cE;if(n<=0)return this;var i=Oe.__assign({timestamp:qs.dateTimestampInSeconds()},t);return this._breadcrumbs=Oe.__spread(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,r){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Oe.__assign(Oe.__assign({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Oe.__assign(Oe.__assign({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Oe.__assign(Oe.__assign({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Oe.__assign(Oe.__assign({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Oe.__assign({trace:this._span.getTraceContext()},t.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(t.tags=Oe.__assign({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Oe.__spread(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Oe.__spread(uE(),this._eventProcessors),t,r)},e.prototype._notifyEventProcessors=function(t,r,n,i){var s=this;return i===void 0&&(i=0),new qs.SyncPromise(function(a,u){var l=t[i];if(r===null||typeof l!="function")a(r);else{var p=l(Oe.__assign({},r),n);qs.isThenable(p)?p.then(function(d){return s._notifyEventProcessors(t,d,n,i+1).then(a)}).then(null,u):s._notifyEventProcessors(t,p,n,i+1).then(a).then(null,u)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();Mc.Scope=$D;function uE(){var e=qs.getGlobalObject();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}o(uE,"getGlobalEventProcessors");function WD(e){uE().push(e)}o(WD,"addGlobalEventProcessor");Mc.addGlobalEventProcessor=WD});var Mf=x(Rf=>{Object.defineProperty(Rf,"__esModule",{value:!0});var jf=Nt(),fo=Ae(),JD=function(){function e(t){this.errors=0,this.sid=fo.uuid4(),this.duration=0,this.status=jf.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var r=fo.timestampInSeconds();this.timestamp=r,this.started=r,t&&this.update(t)}return o(e,"Session"),e.prototype.update=function(t){if(t===void 0&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),!this.did&&!t.did&&(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||fo.timestampInSeconds(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=t.sid.length===32?t.sid:fo.uuid4()),t.init!==void 0&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),typeof t.started=="number"&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if(typeof t.duration=="number")this.duration=t.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),typeof t.errors=="number"&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status===jf.SessionStatus.Ok?this.update({status:jf.SessionStatus.Exited}):this.update()},e.prototype.toJSON=function(){return fo.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:fo.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}();Rf.Session=JD});var Df=x(Zt=>{Object.defineProperty(Zt,"__esModule",{value:!0});var kr=je(),lE=Nt(),Ar=Ae(),Pf=qf(),GD=Mf();Zt.API_VERSION=4;var VD=100,Pc=function(){function e(t,r,n){r===void 0&&(r=new Pf.Scope),n===void 0&&(n=Zt.API_VERSION),this._version=n,this._stack=[{}],this.getStackTop().scope=r,this.bindClient(t)}return o(e,"Hub"),e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){var r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=Pf.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(t){var r=this.pushScope();try{t(r)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,r){var n=this._lastEventId=Ar.uuid4(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}i={originalException:t,syntheticException:s}}return this._invokeClient("captureException",t,kr.__assign(kr.__assign({},i),{event_id:n})),n},e.prototype.captureMessage=function(t,r,n){var i=this._lastEventId=Ar.uuid4(),s=n;if(!n){var a=void 0;try{throw new Error(t)}catch(u){a=u}s={originalException:t,syntheticException:a}}return this._invokeClient("captureMessage",t,r,kr.__assign(kr.__assign({},s),{event_id:i})),i},e.prototype.captureEvent=function(t,r){var n=this._lastEventId=Ar.uuid4();return this._invokeClient("captureEvent",t,kr.__assign(kr.__assign({},r),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var a=s.getOptions&&s.getOptions()||{},u=a.beforeBreadcrumb,l=u===void 0?null:u,p=a.maxBreadcrumbs,d=p===void 0?VD:p;if(!(d<=0)){var g=Ar.dateTimestampInSeconds(),m=kr.__assign({timestamp:g},t),v=l?Ar.consoleSandbox(function(){return l(m,r)}):m;v!==null&&i.addBreadcrumb(v,d)}}},e.prototype.setUser=function(t){var r=this.getScope();r&&r.setUser(t)},e.prototype.setTags=function(t){var r=this.getScope();r&&r.setTags(t)},e.prototype.setExtras=function(t){var r=this.getScope();r&&r.setExtras(t)},e.prototype.setTag=function(t,r){var n=this.getScope();n&&n.setTag(t,r)},e.prototype.setExtra=function(t,r){var n=this.getScope();n&&n.setExtra(t,r)},e.prototype.setContext=function(t,r){var n=this.getScope();n&&n.setContext(t,r)},e.prototype.configureScope=function(t){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&t(n)},e.prototype.run=function(t){var r=Nf(this);try{t(this)}finally{Nf(r)}},e.prototype.getIntegration=function(t){var r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return Ar.logger.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,r){return this._callExtensionMethod("startTransaction",t,r)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(t===void 0&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t,r,n,i,s;(n=(r=(t=this.getStackTop())===null||t===void 0?void 0:t.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},e.prototype.startSession=function(t){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},a=s.release,u=s.environment,l=Ar.getGlobalObject(),p=(l.navigator||{}).userAgent,d=new GD.Session(kr.__assign(kr.__assign(kr.__assign({release:a,environment:u},n&&{user:n.getUser()}),p&&{userAgent:p}),t));if(n){var g=n.getSession&&n.getSession();g&&g.status===lE.SessionStatus.Ok&&g.update({status:lE.SessionStatus.Exited}),this.endSession(),n.setSession(d)}return d},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),r=t.scope,n=t.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(t){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,u=s.client;u&&u[t]&&(r=u)[t].apply(r,kr.__spread(n,[a]))},e.prototype._callExtensionMethod=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=go(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,r);Ar.logger.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();Zt.Hub=Pc;function go(){var e=Ar.getGlobalObject();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}o(go,"getMainCarrier");Zt.getMainCarrier=go;function Nf(e){var t=go(),r=gn(t);return Nc(t,e),r}o(Nf,"makeMain");Zt.makeMain=Nf;function YD(){var e=go();return(!pE(e)||gn(e).isOlderThan(Zt.API_VERSION))&&Nc(e,new Pc),Ar.isNodeEnv()?ZD(e):gn(e)}o(YD,"getCurrentHub");Zt.getCurrentHub=YD;function XD(){Ar.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var e=go().__SENTRY__;return e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active}o(XD,"getActiveDomain");Zt.getActiveDomain=XD;function ZD(e){var t,r,n;try{var i=(n=(r=(t=go().__SENTRY__)===null||t===void 0?void 0:t.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return gn(e);if(!pE(i)||gn(i).isOlderThan(Zt.API_VERSION)){var s=gn(e).getStackTop();Nc(i,new Pc(s.client,Pf.Scope.clone(s.scope)))}return gn(i)}catch(a){return gn(e)}}o(ZD,"getHubFromActiveDomain");function pE(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}o(pE,"hasHubOnCarrier");function gn(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new Pc),e.__SENTRY__.hub}o(gn,"getHubFromCarrier");Zt.getHubFromCarrier=gn;function Nc(e,t){return e?(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0):!1}o(Nc,"setHubOnCarrier");Zt.setHubOnCarrier=Nc});var fE=x(Kf=>{Object.defineProperty(Kf,"__esModule",{value:!0});var Lf=Nt(),Bf=Ae(),QD=Df(),eL=function(){function e(t,r){var n=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=t,this._intervalId=setInterval(function(){return n.flush()},this.flushTimeout*1e3),this._sessionAttrs=r}return o(e,"SessionFlusher"),e.prototype.sendSessionAggregates=function(t){if(!this._transport.sendSession){Bf.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(r){Bf.logger.error("Error while sending session: "+r)})},e.prototype.flush=function(){var t=this.getSessionAggregates();t.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(t))},e.prototype.getSessionAggregates=function(){var t=this,r=Object.keys(this._pendingAggregates).map(function(i){return t._pendingAggregates[parseInt(i)]}),n={attrs:this._sessionAttrs,aggregates:r};return Bf.dropUndefinedKeys(n)},e.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},e.prototype.incrementSessionStatusCount=function(){var t,r;if(!!this._isEnabled){var n=QD.getCurrentHub().getScope(),i=(t=n)===null||t===void 0?void 0:t.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(r=n)===null||r===void 0||r.setRequestSession(void 0))}},e.prototype._incrementSessionStatusCount=function(t,r){var n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var i=this._pendingAggregates[n];switch(i.started||(i.started=new Date(n).toISOString()),t){case Lf.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case Lf.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case Lf.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},e}();Kf.SessionFlusher=eL});var er=x(Qt=>{Object.defineProperty(Qt,"__esModule",{value:!0});var dE=qf();Qt.addGlobalEventProcessor=dE.addGlobalEventProcessor;Qt.Scope=dE.Scope;var tL=Mf();Qt.Session=tL.Session;var rL=fE();Qt.SessionFlusher=rL.SessionFlusher;var yi=Df();Qt.getActiveDomain=yi.getActiveDomain;Qt.getCurrentHub=yi.getCurrentHub;Qt.getHubFromCarrier=yi.getHubFromCarrier;Qt.getMainCarrier=yi.getMainCarrier;Qt.Hub=yi.Hub;Qt.makeMain=yi.makeMain;Qt.setHubOnCarrier=yi.setHubOnCarrier});var gE=x(It=>{Object.defineProperty(It,"__esModule",{value:!0});var Dc=je(),nL=er();function Wt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=nL.getCurrentHub();if(n&&n[e])return n[e].apply(n,Dc.__spread(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}o(Wt,"callOnHub");function iL(e,t){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return Wt("captureException",e,{captureContext:t,originalException:e,syntheticException:r})}o(iL,"captureException");It.captureException=iL;function oL(e,t){var r;try{throw new Error(e)}catch(s){r=s}var n=typeof t=="string"?t:void 0,i=typeof t!="string"?{captureContext:t}:void 0;return Wt("captureMessage",e,n,Dc.__assign({originalException:e,syntheticException:r},i))}o(oL,"captureMessage");It.captureMessage=oL;function sL(e){return Wt("captureEvent",e)}o(sL,"captureEvent");It.captureEvent=sL;function aL(e){Wt("configureScope",e)}o(aL,"configureScope");It.configureScope=aL;function cL(e){Wt("addBreadcrumb",e)}o(cL,"addBreadcrumb");It.addBreadcrumb=cL;function uL(e,t){Wt("setContext",e,t)}o(uL,"setContext");It.setContext=uL;function lL(e){Wt("setExtras",e)}o(lL,"setExtras");It.setExtras=lL;function pL(e){Wt("setTags",e)}o(pL,"setTags");It.setTags=pL;function fL(e,t){Wt("setExtra",e,t)}o(fL,"setExtra");It.setExtra=fL;function dL(e,t){Wt("setTag",e,t)}o(dL,"setTag");It.setTag=dL;function gL(e){Wt("setUser",e)}o(gL,"setUser");It.setUser=gL;function hL(e){Wt("withScope",e)}o(hL,"withScope");It.withScope=hL;function mL(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Wt.apply(void 0,Dc.__spread(["_invokeClient",e],t))}o(mL,"_callOnClient");It._callOnClient=mL;function vL(e,t){return Wt("startTransaction",Dc.__assign({},e),t)}o(vL,"startTransaction");It.startTransaction=vL});var vE=x(Uf=>{Object.defineProperty(Uf,"__esModule",{value:!0});var hE=Ae(),mE="7",yL=function(){function e(t,r,n){r===void 0&&(r={}),this.dsn=t,this._dsnObject=new hE.Dsn(t),this.metadata=r,this._tunnel=n}return o(e,"API"),e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var t=this.getDsn(),r=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return r+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var t=this.getDsn();return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},e.prototype.getRequestHeaders=function(t,r){var n=this.getDsn(),i=["Sentry sentry_version="+mE];return i.push("sentry_client="+t+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},e.prototype.getReportDialogEndpoint=function(t){t===void 0&&(t={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var s in t)if(s!=="dsn")if(s==="user"){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return i.length?n+"?"+i.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(t){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+t+"/"},e.prototype._encodedAuth=function(){var t=this.getDsn(),r={sentry_key:t.publicKey,sentry_version:mE};return hE.urlEncode(r)},e}();Uf.API=yL});var SE=x(Fn=>{Object.defineProperty(Fn,"__esModule",{value:!0});var Lc=je(),yE=er(),_L=Ae();Fn.installedIntegrations=[];function _E(e){return e.reduce(function(t,r){return t.every(function(n){return r.name!==n.name})&&t.push(r),t},[])}o(_E,"filterDuplicates");function bE(e){var t=e.defaultIntegrations&&Lc.__spread(e.defaultIntegrations)||[],r=e.integrations,n=Lc.__spread(_E(t));Array.isArray(r)?n=Lc.__spread(n.filter(function(a){return r.every(function(u){return u.name!==a.name})}),_E(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),s="Debug";return i.indexOf(s)!==-1&&n.push.apply(n,Lc.__spread(n.splice(i.indexOf(s),1))),n}o(bE,"getIntegrationsToSetup");Fn.getIntegrationsToSetup=bE;function xE(e){Fn.installedIntegrations.indexOf(e.name)===-1&&(e.setupOnce(yE.addGlobalEventProcessor,yE.getCurrentHub),Fn.installedIntegrations.push(e.name),_L.logger.log("Integration installed: "+e.name))}o(xE,"setupIntegration");Fn.setupIntegration=xE;function bL(e){var t={};return bE(e).forEach(function(r){t[r.name]=r,xE(r)}),t}o(bL,"setupIntegrations");Fn.setupIntegrations=bL});var wE=x(Ff=>{Object.defineProperty(Ff,"__esModule",{value:!0});var tr=je(),xL=er(),EE=Nt(),De=Ae(),SL=SE(),EL=function(){function e(t,r){this._integrations={},this._numProcessing=0,this._backend=new t(r),this._options=r,r.dsn&&(this._dsn=new De.Dsn(r.dsn))}return o(e,"BaseClient"),e.prototype.captureException=function(t,r,n){var i=this,s=r&&r.event_id;return this._process(this._getBackend().eventFromException(t,r).then(function(a){return i._captureEvent(a,r,n)}).then(function(a){s=a})),s},e.prototype.captureMessage=function(t,r,n,i){var s=this,a=n&&n.event_id,u=De.isPrimitive(t)?this._getBackend().eventFromMessage(String(t),r,n):this._getBackend().eventFromException(t,n);return this._process(u.then(function(l){return s._captureEvent(l,n,i)}).then(function(l){a=l})),a},e.prototype.captureEvent=function(t,r,n){var i=r&&r.event_id;return this._process(this._captureEvent(t,r,n).then(function(s){i=s})),i},e.prototype.captureSession=function(t){if(!this._isEnabled()){De.logger.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?De.logger.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(t){var r=this;return this._isClientDoneProcessing(t).then(function(n){return r._getBackend().getTransport().close(t).then(function(i){return n&&i})})},e.prototype.close=function(t){var r=this;return this.flush(t).then(function(n){return r.getOptions().enabled=!1,n})},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=SL.setupIntegrations(this._options))},e.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(r){return De.logger.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(t,r){var n,i,s=!1,a=!1,u=r.exception&&r.exception.values;if(u){a=!0;try{for(var l=tr.__values(u),p=l.next();!p.done;p=l.next()){var d=p.value,g=d.mechanism;if(g&&g.handled===!1){s=!0;break}}}catch(y){n={error:y}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}var m=t.status===EE.SessionStatus.Ok,v=m&&t.errors===0||m&&s;v&&(t.update(tr.__assign(tr.__assign({},s&&{status:EE.SessionStatus.Crashed}),{errors:t.errors||Number(a||s)})),this.captureSession(t))},e.prototype._sendSession=function(t){this._getBackend().sendSession(t)},e.prototype._isClientDoneProcessing=function(t){var r=this;return new De.SyncPromise(function(n){var i=0,s=1,a=setInterval(function(){r._numProcessing==0?(clearInterval(a),n(!0)):(i+=s,t&&i>=t&&(clearInterval(a),n(!1)))},s)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},e.prototype._prepareEvent=function(t,r,n){var i=this,s=this.getOptions().normalizeDepth,a=s===void 0?3:s,u=tr.__assign(tr.__assign({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:De.uuid4()),timestamp:t.timestamp||De.dateTimestampInSeconds()});this._applyClientOptions(u),this._applyIntegrationsMetadata(u);var l=r;n&&n.captureContext&&(l=xL.Scope.clone(l).update(n.captureContext));var p=De.SyncPromise.resolve(u);return l&&(p=l.applyToEvent(u,n)),p.then(function(d){return typeof a=="number"&&a>0?i._normalizeEvent(d,a):d})},e.prototype._normalizeEvent=function(t,r){if(!t)return null;var n=tr.__assign(tr.__assign(tr.__assign(tr.__assign(tr.__assign({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(a){return tr.__assign(tr.__assign({},a),a.data&&{data:De.normalize(a.data,r)})})}),t.user&&{user:De.normalize(t.user,r)}),t.contexts&&{contexts:De.normalize(t.contexts,r)}),t.extra&&{extra:De.normalize(t.extra,r)});t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace);var i=this.getOptions()._experiments,s=i===void 0?{}:i;return s.ensureNoCircularStructures?De.normalize(n):n},e.prototype._applyClientOptions=function(t){var r=this.getOptions(),n=r.environment,i=r.release,s=r.dist,a=r.maxValueLength,u=a===void 0?250:a;"environment"in t||(t.environment="environment"in r?n:"production"),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=De.truncate(t.message,u));var l=t.exception&&t.exception.values&&t.exception.values[0];l&&l.value&&(l.value=De.truncate(l.value,u));var p=t.request;p&&p.url&&(p.url=De.truncate(p.url,u))},e.prototype._applyIntegrationsMetadata=function(t){var r=Object.keys(this._integrations);r.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=tr.__spread(t.sdk.integrations||[],r))},e.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},e.prototype._captureEvent=function(t,r,n){return this._processEvent(t,r,n).then(function(i){return i.event_id},function(i){De.logger.error(i)})},e.prototype._processEvent=function(t,r,n){var i=this,s=this.getOptions(),a=s.beforeSend,u=s.sampleRate;if(!this._isEnabled())return De.SyncPromise.reject(new De.SentryError("SDK not enabled, will not capture event."));var l=t.type==="transaction";return!l&&typeof u=="number"&&Math.random()>u?De.SyncPromise.reject(new De.SentryError("Discarding event because it's not included in the random sample (sampling rate = "+u+")")):this._prepareEvent(t,n,r).then(function(p){if(p===null)throw new De.SentryError("An event processor returned null, will not send event.");var d=r&&r.data&&r.data.__sentry__===!0;if(d||l||!a)return p;var g=a(p,r);return i._ensureBeforeSendRv(g)}).then(function(p){if(p===null)throw new De.SentryError("`beforeSend` returned `null`, will not send event.");var d=n&&n.getSession&&n.getSession();return!l&&d&&i._updateSessionFromEvent(d,p),i._sendEvent(p),p}).then(null,function(p){throw p instanceof De.SentryError?p:(i.captureException(p,{data:{__sentry__:!0},originalException:p}),new De.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+p))})},e.prototype._process=function(t){var r=this;this._numProcessing+=1,t.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},e.prototype._ensureBeforeSendRv=function(t){var r="`beforeSend` method has to return `null` or a valid event.";if(De.isThenable(t))return t.then(function(n){if(!(De.isPlainObject(n)||n===null))throw new De.SentryError(r);return n},function(n){throw new De.SentryError("beforeSend rejected with "+n)});if(!(De.isPlainObject(t)||t===null))throw new De.SentryError(r);return t},e}();Ff.BaseClient=EL});var zf=x(Hf=>{Object.defineProperty(Hf,"__esModule",{value:!0});var wL=Nt(),TE=Ae(),TL=function(){function e(){}return o(e,"NoopTransport"),e.prototype.sendEvent=function(t){return TE.SyncPromise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:wL.Status.Skipped})},e.prototype.close=function(t){return TE.SyncPromise.resolve(!0)},e}();Hf.NoopTransport=TL});var OE=x($f=>{Object.defineProperty($f,"__esModule",{value:!0});var ho=Ae(),OL=zf(),CL=function(){function e(t){this._options=t,this._options.dsn||ho.logger.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return o(e,"BaseBackend"),e.prototype.eventFromException=function(t,r){throw new ho.SentryError("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(t,r,n){throw new ho.SentryError("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(r){ho.logger.error("Error while sending event: "+r)})},e.prototype.sendSession=function(t){if(!this._transport.sendSession){ho.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(r){ho.logger.error("Error while sending session: "+r)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new OL.NoopTransport},e}();$f.BaseBackend=CL});var IE=x(Bc=>{Object.defineProperty(Bc,"__esModule",{value:!0});var _i=je();function CE(e){if(!(!e.metadata||!e.metadata.sdk)){var t=e.metadata.sdk,r=t.name,n=t.version;return{name:r,version:n}}}o(CE,"getSdkMetadataForEnvelopeHeader");function IL(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=_i.__spread(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=_i.__spread(e.sdk.packages||[],t.packages||[])),e}o(IL,"enhanceEventWithSdkInfo");function kL(e,t){var r=CE(t),n=JSON.stringify(_i.__assign(_i.__assign({sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),i="aggregates"in e?"sessions":"session",s=JSON.stringify({type:i});return{body:n+`
`+s+`
`+JSON.stringify(e),type:i,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}o(kL,"sessionToSentryRequest");Bc.sessionToSentryRequest=kL;function AL(e,t){var r=CE(t),n=e.type||"event",i=n==="transaction"||t.forceEnvelope(),s=e.debug_meta||{},a=s.transactionSampling,u=_i.__rest(s,["transactionSampling"]),l=a||{},p=l.method,d=l.rate;Object.keys(u).length===0?delete e.debug_meta:e.debug_meta=u;var g={body:JSON.stringify(r?IL(e,t.metadata.sdk):e),type:n,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var m=JSON.stringify(_i.__assign(_i.__assign({event_id:e.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),v=JSON.stringify({type:n,sample_rates:[{id:p,rate:d}]}),y=m+`
`+v+`
`+g.body;g.body=y}return g}o(AL,"eventToSentryRequest");Bc.eventToSentryRequest=AL});var kE=x(Wf=>{Object.defineProperty(Wf,"__esModule",{value:!0});var qL=er(),jL=Ae();function RL(e,t){var r;t.debug===!0&&jL.logger.enable();var n=qL.getCurrentHub();(r=n.getScope())===null||r===void 0||r.update(t.initialScope);var i=new e(t);n.bindClient(i)}o(RL,"initAndBind");Wf.initAndBind=RL});var AE=x(Jf=>{Object.defineProperty(Jf,"__esModule",{value:!0});Jf.SDK_VERSION="6.9.0"});var jE=x(Gf=>{Object.defineProperty(Gf,"__esModule",{value:!0});var qE,ML=function(){function e(){this.name=e.id}return o(e,"FunctionToString"),e.prototype.setupOnce=function(){qE=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.__sentry_original__||this;return qE.apply(n,t)}},e.id="FunctionToString",e}();Gf.FunctionToString=ML});var ME=x(Yf=>{Object.defineProperty(Yf,"__esModule",{value:!0});var Vf=je(),RE=er(),Lt=Ae(),PL=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],NL=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id}return o(e,"InboundFilters"),e.prototype.setupOnce=function(){RE.addGlobalEventProcessor(function(t){var r=RE.getCurrentHub();if(!r)return t;var n=r.getIntegration(e);if(n){var i=r.getClient(),s=i?i.getOptions():{},a=typeof n._mergeOptions=="function"?n._mergeOptions(s):{};return typeof n._shouldDropEvent!="function"?t:n._shouldDropEvent(t,a)?null:t}return t})},e.prototype._shouldDropEvent=function(t,r){return this._isSentryError(t,r)?(Lt.logger.warn(`Event dropped due to being internal Sentry Error.
Event: `+Lt.getEventDescription(t)),!0):this._isIgnoredError(t,r)?(Lt.logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Lt.getEventDescription(t)),!0):this._isDeniedUrl(t,r)?(Lt.logger.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Lt.getEventDescription(t)+`.
Url: `+this._getEventFilterUrl(t)),!0):this._isAllowedUrl(t,r)?!1:(Lt.logger.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Lt.getEventDescription(t)+`.
Url: `+this._getEventFilterUrl(t)),!0)},e.prototype._isSentryError=function(t,r){if(!r.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].type==="SentryError"||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(t,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(t).some(function(n){return r.ignoreErrors.some(function(i){return Lt.isMatchingPattern(n,i)})})},e.prototype._isDeniedUrl=function(t,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return n?r.denyUrls.some(function(i){return Lt.isMatchingPattern(n,i)}):!1},e.prototype._isAllowedUrl=function(t,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return n?r.allowUrls.some(function(i){return Lt.isMatchingPattern(n,i)}):!0},e.prototype._mergeOptions=function(t){return t===void 0&&(t={}),{allowUrls:Vf.__spread(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Vf.__spread(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Vf.__spread(this._options.ignoreErrors||[],t.ignoreErrors||[],PL),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},e.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var r=t.exception.values&&t.exception.values[0]||{},n=r.type,i=n===void 0?"":n,s=r.value,a=s===void 0?"":s;return[""+a,i+": "+a]}catch(u){return Lt.logger.error("Cannot extract message for event "+Lt.getEventDescription(t)),[]}return[]},e.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var r=t.stacktrace.frames;return r&&r[r.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(i){return Lt.logger.error("Cannot extract url for event "+Lt.getEventDescription(t)),null}},e.id="InboundFilters",e}();Yf.InboundFilters=NL});var PE=x(Kc=>{Object.defineProperty(Kc,"__esModule",{value:!0});var DL=jE();Kc.FunctionToString=DL.FunctionToString;var LL=ME();Kc.InboundFilters=LL.InboundFilters});var Et=x(Be=>{Object.defineProperty(Be,"__esModule",{value:!0});var rr=gE();Be.addBreadcrumb=rr.addBreadcrumb;Be.captureException=rr.captureException;Be.captureEvent=rr.captureEvent;Be.captureMessage=rr.captureMessage;Be.configureScope=rr.configureScope;Be.startTransaction=rr.startTransaction;Be.setContext=rr.setContext;Be.setExtra=rr.setExtra;Be.setExtras=rr.setExtras;Be.setTag=rr.setTag;Be.setTags=rr.setTags;Be.setUser=rr.setUser;Be.withScope=rr.withScope;var mo=er();Be.addGlobalEventProcessor=mo.addGlobalEventProcessor;Be.getCurrentHub=mo.getCurrentHub;Be.getHubFromCarrier=mo.getHubFromCarrier;Be.Hub=mo.Hub;Be.makeMain=mo.makeMain;Be.Scope=mo.Scope;var BL=vE();Be.API=BL.API;var KL=wE();Be.BaseClient=KL.BaseClient;var UL=OE();Be.BaseBackend=UL.BaseBackend;var NE=IE();Be.eventToSentryRequest=NE.eventToSentryRequest;Be.sessionToSentryRequest=NE.sessionToSentryRequest;var FL=kE();Be.initAndBind=FL.initAndBind;var HL=zf();Be.NoopTransport=HL.NoopTransport;var zL=AE();Be.SDK_VERSION=zL.SDK_VERSION;var $L=PE();Be.Integrations=$L});var DE=x(Uc=>{(function(e,t){let r=typeof Uc=="object"?Uc:typeof e=="object"?e:{};t(r),typeof define=="function"&&define.amd&&define("lru",r)})(Uc,function(e){let t=Symbol("newer"),r=Symbol("older");function n(l,p){typeof l!="number"&&(p=l,l=0),this.size=0,this.limit=l,this.oldest=this.newest=void 0,this._keymap=new Map,p&&(this.assign(p),l<1&&(this.limit=this.size))}o(n,"LRUMap"),e.LRUMap=n;function i(l,p){this.key=l,this.value=p,this[t]=void 0,this[r]=void 0}o(i,"Entry"),n.prototype._markEntryAsUsed=function(l){l!==this.newest&&(l[t]&&(l===this.oldest&&(this.oldest=l[t]),l[t][r]=l[r]),l[r]&&(l[r][t]=l[t]),l[t]=void 0,l[r]=this.newest,this.newest&&(this.newest[t]=l),this.newest=l)},n.prototype.assign=function(l){let p,d=this.limit||Number.MAX_VALUE;this._keymap.clear();let g=l[Symbol.iterator]();for(let m=g.next();!m.done;m=g.next()){let v=new i(m.value[0],m.value[1]);if(this._keymap.set(v.key,v),p?(p[t]=v,v[r]=p):this.oldest=v,p=v,d--==0)throw new Error("overflow")}this.newest=p,this.size=this._keymap.size},n.prototype.get=function(l){var p=this._keymap.get(l);if(!!p)return this._markEntryAsUsed(p),p.value},n.prototype.set=function(l,p){var d=this._keymap.get(l);return d?(d.value=p,this._markEntryAsUsed(d),this):(this._keymap.set(l,d=new i(l,p)),this.newest?(this.newest[t]=d,d[r]=this.newest):this.oldest=d,this.newest=d,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var l=this.oldest;if(l)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),l[t]=l[r]=void 0,this._keymap.delete(l.key),--this.size,[l.key,l.value]},n.prototype.find=function(l){let p=this._keymap.get(l);return p?p.value:void 0},n.prototype.has=function(l){return this._keymap.has(l)},n.prototype.delete=function(l){var p=this._keymap.get(l);if(!!p)return this._keymap.delete(p.key),p[t]&&p[r]?(p[r][t]=p[t],p[t][r]=p[r]):p[t]?(p[t][r]=void 0,this.oldest=p[t]):p[r]?(p[r][t]=void 0,this.newest=p[r]):this.oldest=this.newest=void 0,this.size--,p.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()};function s(l){this.entry=l}o(s,"EntryIterator"),s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let l=this.entry;return l?(this.entry=l[t],{done:!1,value:[l.key,l.value]}):{done:!0,value:void 0}};function a(l){this.entry=l}o(a,"KeyIterator"),a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let l=this.entry;return l?(this.entry=l[t],{done:!1,value:l.key}):{done:!0,value:void 0}};function u(l){this.entry=l}o(u,"ValueIterator"),u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){let l=this.entry;return l?(this.entry=l[t],{done:!1,value:l.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new u(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(l,p){typeof p!="object"&&(p=this);let d=this.oldest;for(;d;)l.call(p,d.value,d.key,this),d=d[t]},n.prototype.toJSON=function(){for(var l=new Array(this.size),p=0,d=this.oldest;d;)l[p++]={key:d.key,value:d.value},d=d[t];return l},n.prototype.toString=function(){for(var l="",p=this.oldest;p;)l+=String(p.key)+":"+p.value,p=p[t],p&&(l+=" < ");return l}})});var LE=x(Xf=>{Object.defineProperty(Xf,"__esModule",{value:!0});function WL(e){if(!e.stack)return[];var t=e.stack.split(`
`).slice(1);return t.map(function(r){if(r.match(/^\s*[-]{4,}$/))return{columnNumber:null,fileName:r,functionName:null,lineNumber:null,methodName:null,native:null,typeName:null};var n=r.match(/at (?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!!n){var i=null,s=null,a=null,u=null,l=null,p=n[5]==="native";if(n[1]){a=n[1];var d=a.lastIndexOf(".");if(a[d-1]==="."&&d--,d>0){i=a.substr(0,d),s=a.substr(d+1);var g=i.indexOf(".Module");g>0&&(a=a.substr(g+1),i=i.substr(0,g))}u=null}s&&(u=i,l=s),s==="<anonymous>"&&(l=null,a=null);var m={columnNumber:parseInt(n[4],10)||null,fileName:n[2]||null,functionName:a,lineNumber:parseInt(n[3],10)||null,methodName:l,native:p,typeName:u};return m}}).filter(function(r){return!!r})}o(WL,"parse");Xf.parse=WL});var Qf=x(Hn=>{Object.defineProperty(Hn,"__esModule",{value:!0});var qr=Ae(),JL=require("fs"),GL=DE(),VL=LE(),YL=7,Zf=new GL.LRUMap(100);function XL(){Zf.clear()}o(XL,"resetFileContentCache");Hn.resetFileContentCache=XL;function ZL(e){try{return e.functionName||e.typeName+"."+(e.methodName||"<anonymous>")}catch(t){return"<anonymous>"}}o(ZL,"getFunction");var QL=(require.main&&require.main.filename&&qr.dirname(require.main.filename)||global.process.cwd())+"/";function eB(e,t){t||(t=QL);var r=qr.basename(e,".js");e=qr.dirname(e);var n=e.lastIndexOf("/node_modules/");if(n>-1)return e.substr(n+14).replace(/\//g,".")+":"+r;if(n=(e+"/").lastIndexOf(t,0),n===0){var i=e.substr(t.length).replace(/\//g,".");return i&&(i+=":"),i+=r,i}return r}o(eB,"getModule");function tB(e){return e.length===0?qr.SyncPromise.resolve({}):new qr.SyncPromise(function(t){for(var r={},n=0,i=o(function(a){var u=e[a],l=Zf.get(u);if(l!==void 0)return l!==null&&(r[u]=l),n++,n===e.length&&t(r),"continue";JL.readFile(u,function(p,d){var g=p?null:d.toString();r[u]=g,Zf.set(u,g),n++,n===e.length&&t(r)})},"_loop_1"),s=0;s<e.length;s++)i(s)})}o(tB,"readSourceFiles");function BE(e){var t=VL.parse(e);return t||[]}o(BE,"extractStackFromError");Hn.extractStackFromError=BE;function KE(e,t){var r=[],n=t&&t.frameContextLines!==void 0?t.frameContextLines:YL,i=e.map(function(s){var a,u={colno:s.columnNumber,filename:((a=s.fileName)===null||a===void 0?void 0:a.startsWith("file://"))?s.fileName.substr(7):s.fileName||"",function:ZL(s),lineno:s.lineNumber},l=s.native||u.filename&&!u.filename.startsWith("/")&&!u.filename.startsWith(".")&&u.filename.indexOf(":\\")!==1;return u.in_app=!l&&u.filename!==void 0&&u.filename.indexOf("node_modules/")===-1,u.filename&&(u.module=eB(u.filename),!l&&n>0&&r.indexOf(u.filename)===-1&&r.push(u.filename)),u});if(n<=0)return qr.SyncPromise.resolve(i);try{return rB(r,i,n)}catch(s){return qr.SyncPromise.resolve(i)}}o(KE,"parseStack");Hn.parseStack=KE;function rB(e,t,r){return new qr.SyncPromise(function(n){return tB(e).then(function(i){var s=t.map(function(a){if(a.filename&&i[a.filename])try{var u=i[a.filename].split(`
`);qr.addContextToFrame(u,a,r)}catch(l){}return a});n(s)})})}o(rB,"addPrePostContext");function UE(e,t){var r=e.name||e.constructor.name,n=BE(e);return new qr.SyncPromise(function(i){return KE(n,t).then(function(s){var a={stacktrace:{frames:FE(s)},type:r,value:e.message};i(a)})})}o(UE,"getExceptionFromError");Hn.getExceptionFromError=UE;function nB(e,t){return new qr.SyncPromise(function(r){return UE(e,t).then(function(n){r({exception:{values:[n]}})})})}o(nB,"parseError");Hn.parseError=nB;function FE(e){if(!e||!e.length)return[];var t=e,r=t[0].function||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(t=t.slice(1)),t.reverse()}o(FE,"prepareFramesForEvent");Hn.prepareFramesForEvent=FE});var td=x(ed=>{Object.defineProperty(ed,"__esModule",{value:!0});ed.SDK_NAME="sentry.javascript.node"});var Fc=x(nd=>{Object.defineProperty(nd,"__esModule",{value:!0});var hn=je(),HE=Et(),zE=Nt(),zn=Ae(),iB=require("fs"),oB=require("url"),sB=td(),rd={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},aB=function(){function e(t){this.options=t,this._buffer=new zn.PromiseBuffer(30),this._rateLimits={},this.urlParser=function(r){return new oB.URL(r)},this._api=new HE.API(t.dsn,t._metadata,t.tunnel)}return o(e,"BaseTransport"),e.prototype.sendEvent=function(t){throw new zn.SentryError("Transport Class has to implement `sendEvent` method.")},e.prototype.close=function(t){return this._buffer.drain(t)},e.prototype._getProxy=function(t){var r,n,i=process.env,s=i.no_proxy,a=i.http_proxy,u=i.https_proxy,l=this.options,p=l.httpProxy,d=l.httpsProxy,g=t==="http"?p||a:d||p||u||a;if(!s)return g;var m=this._api.getDsn(),v=m.host,y=m.port;try{for(var S=hn.__values(s.split(",")),E=S.next();!E.done;E=S.next()){var T=E.value;if(v.endsWith(T)||(v+":"+y).endsWith(T))return}}catch(w){r={error:w}}finally{try{E&&!E.done&&(n=S.return)&&n.call(S)}finally{if(r)throw r.error}}return g},e.prototype._getRequestOptions=function(t){var r=hn.__assign(hn.__assign({},this._api.getRequestHeaders(sB.SDK_NAME,HE.SDK_VERSION)),this.options.headers),n=t.hostname,i=t.pathname,s=t.port,a=t.protocol,u=""+i;return hn.__assign({agent:this.client,headers:r,hostname:n,method:"POST",path:u,port:s,protocol:a},this.options.caCerts&&{ca:iB.readFileSync(this.options.caCerts)})},e.prototype._disabledUntil=function(t){var r=rd[t];return this._rateLimits[r]||this._rateLimits.all},e.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},e.prototype._handleRateLimit=function(t){var r,n,i,s,a=Date.now(),u=t["x-sentry-rate-limits"],l=t["retry-after"];if(u){try{for(var p=hn.__values(u.trim().split(",")),d=p.next();!d.done;d=p.next()){var g=d.value,m=g.split(":",2),v=parseInt(m[0],10),y=(isNaN(v)?60:v)*1e3;try{for(var S=(i=void 0,hn.__values(m[1]&&m[1].split(";")||["all"])),E=S.next();!E.done;E=S.next()){var T=E.value,w=hn.__spread(Object.keys(rd).map(function(O){return rd[O]}),["all"]);w.includes(T)&&(this._rateLimits[T]=new Date(a+y))}}catch(O){i={error:O}}finally{try{E&&!E.done&&(s=S.return)&&s.call(S)}finally{if(i)throw i.error}}}}catch(O){r={error:O}}finally{try{d&&!d.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}return!0}else if(l)return this._rateLimits.all=new Date(a+zn.parseRetryAfterHeader(a,l)),!0;return!1},e.prototype._send=function(t,r){return hn.__awaiter(this,void 0,void 0,function(){var n=this;return hn.__generator(this,function(i){if(!this.module)throw new zn.SentryError("No module available");return r&&this._isRateLimited(t.type)?[2,Promise.reject({payload:r,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429})]:this._buffer.isReady()?[2,this._buffer.add(function(){return new Promise(function(s,a){if(!n.module)throw new zn.SentryError("No module available");var u=n._getRequestOptions(n.urlParser(t.url)),l=n.module.request(u,function(p){var d=p.statusCode||500,g=zE.Status.fromHttpCode(d);p.setEncoding("utf8");var m=p.headers?p.headers["retry-after"]:"";m=Array.isArray(m)?m[0]:m;var v=p.headers?p.headers["x-sentry-rate-limits"]:"";v=Array.isArray(v)?v[0]:v;var y={"x-sentry-rate-limits":v,"retry-after":m},S=n._handleRateLimit(y);if(S&&zn.logger.warn("Too many "+t.type+" requests, backing off until: "+n._disabledUntil(t.type)),g===zE.Status.Success)s({status:g});else{var E="HTTP Error ("+d+")";p.headers&&p.headers["x-sentry-error"]&&(E+=": "+p.headers["x-sentry-error"]),a(new zn.SentryError(E))}p.on("data",function(){}),p.on("end",function(){})});l.on("error",a),l.end(t.body)})})]:[2,Promise.reject(new zn.SentryError("Not adding Promise due to buffer limit reached."))]})})},e}();nd.BaseTransport=aB});var WE=x((lY,$E)=>{var vo=1e3,yo=vo*60,_o=yo*60,bi=_o*24,cB=bi*7,uB=bi*365.25;$E.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return lB(e);if(r==="number"&&isFinite(e))return t.long?fB(e):pB(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function lB(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*uB;case"weeks":case"week":case"w":return r*cB;case"days":case"day":case"d":return r*bi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*_o;case"minutes":case"minute":case"mins":case"min":case"m":return r*yo;case"seconds":case"second":case"secs":case"sec":case"s":return r*vo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(lB,"parse");function pB(e){var t=Math.abs(e);return t>=bi?Math.round(e/bi)+"d":t>=_o?Math.round(e/_o)+"h":t>=yo?Math.round(e/yo)+"m":t>=vo?Math.round(e/vo)+"s":e+"ms"}o(pB,"fmtShort");function fB(e){var t=Math.abs(e);return t>=bi?Hc(e,t,bi,"day"):t>=_o?Hc(e,t,_o,"hour"):t>=yo?Hc(e,t,yo,"minute"):t>=vo?Hc(e,t,vo,"second"):e+" ms"}o(fB,"fmtLong");function Hc(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}o(Hc,"plural")});var id=x((pY,JE)=>{function dB(e){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=i,r.enabled=a,r.humanize=WE(),r.destroy=p,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let g=0;for(let m=0;m<d.length;m++)g=(g<<5)-g+d.charCodeAt(m),g|=0;return r.colors[Math.abs(g)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(d){let g,m=null;function v(...y){if(!v.enabled)return;let S=v,E=Number(new Date),T=E-(g||E);S.diff=T,S.prev=g,S.curr=E,g=E,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let w=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(I,j)=>{if(I==="%%")return"%";w++;let k=r.formatters[j];if(typeof k=="function"){let F=y[w];I=k.call(S,F),y.splice(w,1),w--}return I}),r.formatArgs.call(S,y),(S.log||r.log).apply(S,y)}return o(v,"debug"),v.namespace=d,v.useColors=r.useColors(),v.color=r.selectColor(d),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>m===null?r.enabled(d):m,set:y=>{m=y}}),typeof r.init=="function"&&r.init(v),v}o(r,"createDebug");function n(d,g){let m=r(this.namespace+(typeof g=="undefined"?":":g)+d);return m.log=this.log,m}o(n,"extend");function i(d){r.save(d),r.names=[],r.skips=[];let g,m=(typeof d=="string"?d:"").split(/[\s,]+/),v=m.length;for(g=0;g<v;g++)!m[g]||(d=m[g].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.substr(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}o(i,"enable");function s(){let d=[...r.names.map(u),...r.skips.map(u).map(g=>"-"+g)].join(",");return r.enable(""),d}o(s,"disable");function a(d){if(d[d.length-1]==="*")return!0;let g,m;for(g=0,m=r.skips.length;g<m;g++)if(r.skips[g].test(d))return!1;for(g=0,m=r.names.length;g<m;g++)if(r.names[g].test(d))return!0;return!1}o(a,"enabled");function u(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}o(u,"toNamespace");function l(d){return d instanceof Error?d.stack||d.message:d}o(l,"coerce");function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(p,"destroy"),r.enable(r.load()),r}o(dB,"setup");JE.exports=dB});var GE=x((nr,zc)=>{nr.formatArgs=hB;nr.save=mB;nr.load=vB;nr.useColors=gB;nr.storage=yB();nr.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();nr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function gB(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(gB,"useColors");function hB(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+zc.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}o(hB,"formatArgs");nr.log=console.debug||console.log||(()=>{});function mB(e){try{e?nr.storage.setItem("debug",e):nr.storage.removeItem("debug")}catch(t){}}o(mB,"save");function vB(){let e;try{e=nr.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}o(vB,"load");function yB(){try{return localStorage}catch(e){}}o(yB,"localstorage");zc.exports=id()(nr);var{formatters:_B}=zc.exports;_B.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var YE=x((fY,VE)=>{"use strict";VE.exports=(e,t)=>{t=t||process.argv;let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var ZE=x((dY,XE)=>{"use strict";var bB=require("os"),jr=YE(),kt=process.env,bo;jr("no-color")||jr("no-colors")||jr("color=false")?bo=!1:(jr("color")||jr("colors")||jr("color=true")||jr("color=always"))&&(bo=!0);"FORCE_COLOR"in kt&&(bo=kt.FORCE_COLOR.length===0||parseInt(kt.FORCE_COLOR,10)!==0);function xB(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(xB,"translateLevel");function SB(e){if(bo===!1)return 0;if(jr("color=16m")||jr("color=full")||jr("color=truecolor"))return 3;if(jr("color=256"))return 2;if(e&&!e.isTTY&&bo!==!0)return 0;let t=bo?1:0;if(process.platform==="win32"){let r=bB.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in kt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in kt)||kt.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in kt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(kt.TEAMCITY_VERSION)?1:0;if(kt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in kt){let r=parseInt((kt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(kt.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(kt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(kt.TERM)||"COLORTERM"in kt?1:(kt.TERM==="dumb",t)}o(SB,"supportsColor");function od(e){let t=SB(e);return xB(t)}o(od,"getSupportLevel");XE.exports={supportsColor:od,stdout:od(process.stdout),stderr:od(process.stderr)}});var ew=x((wt,Wc)=>{var EB=require("tty"),$c=require("util");wt.init=AB;wt.log=CB;wt.formatArgs=TB;wt.save=IB;wt.load=kB;wt.useColors=wB;wt.destroy=$c.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");wt.colors=[6,2,3,4,5,1];try{let e=ZE();e&&(e.stderr||e).level>=2&&(wt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}wt.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function wB(){return"colors"in wt.inspectOpts?Boolean(wt.inspectOpts.colors):EB.isatty(process.stderr.fd)}o(wB,"useColors");function TB(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} [0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+Wc.exports.humanize(this.diff)+"[0m")}else e[0]=OB()+t+" "+e[0]}o(TB,"formatArgs");function OB(){return wt.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(OB,"getDate");function CB(...e){return process.stderr.write($c.format(...e)+`
`)}o(CB,"log");function IB(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(IB,"save");function kB(){return process.env.DEBUG}o(kB,"load");function AB(e){e.inspectOpts={};let t=Object.keys(wt.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=wt.inspectOpts[t[r]]}o(AB,"init");Wc.exports=id()(wt);var{formatters:QE}=Wc.exports;QE.o=function(e){return this.inspectOpts.colors=this.useColors,$c.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};QE.O=function(e){return this.inspectOpts.colors=this.useColors,$c.inspect(e,this.inspectOpts)}});var Jc=x((gY,sd)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?sd.exports=GE():sd.exports=ew()});var tw=x(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});function qB(e){return function(t,r){return new Promise((n,i)=>{e.call(this,t,r,(s,a)=>{s?i(s):n(a)})})}}o(qB,"promisify");ad.default=qB});var iw=x((ud,nw)=>{"use strict";var rw=ud&&ud.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},jB=require("events"),RB=rw(Jc()),MB=rw(tw()),js=RB.default("agent-base");function PB(e){return Boolean(e)&&typeof e.addRequest=="function"}o(PB,"isAgent");function cd(){let{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}o(cd,"isSecureEndpoint");function Gc(e,t){return new Gc.Agent(e,t)}o(Gc,"createAgent");(function(e){class t extends jB.EventEmitter{constructor(n,i){super();let s=i;typeof n=="function"?this.callback=n:n&&(s=n),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:cd()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:cd()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let s=Object.assign({},i);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=cd()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,n._last=!0,n.shouldKeepAlive=!1;let a=!1,u=null,l=s.timeout||this.timeout,p=o(v=>{n._hadError||(n.emit("error",v),n._hadError=!0)},"onerror"),d=o(()=>{u=null,a=!0;let v=new Error(`A "socket" was not created for HTTP request before ${l}ms`);v.code="ETIMEOUT",p(v)},"ontimeout"),g=o(v=>{a||(u!==null&&(clearTimeout(u),u=null),p(v))},"callbackError"),m=o(v=>{if(a)return;if(u!=null&&(clearTimeout(u),u=null),PB(v)){js("Callback returned another Agent instance %o",v.constructor.name),v.addRequest(n,s);return}if(v){v.once("free",()=>{this.freeSocket(v,s)}),n.onSocket(v);return}let y=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);p(y)},"onsocket");if(typeof this.callback!="function"){p(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(js("Converting legacy callback function to promise"),this.promisifiedCallback=MB.default(this.callback)):this.promisifiedCallback=this.callback),typeof l=="number"&&l>0&&(u=setTimeout(d,l)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{js("Resolving socket for %o request: %o",s.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,s)).then(m,g)}catch(v){Promise.reject(v).catch(g)}}freeSocket(n,i){js("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){js("Destroying agent %o",this.constructor.name)}}o(t,"Agent"),e.Agent=t,e.prototype=e.Agent.prototype})(Gc||(Gc={}));nw.exports=Gc});var ow=x(Ms=>{"use strict";var NB=Ms&&Ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ms,"__esModule",{value:!0});var DB=NB(Jc()),Rs=DB.default("https-proxy-agent:parse-proxy-response");function LB(e){return new Promise((t,r)=>{let n=0,i=[];function s(){let g=e.read();g?d(g):e.once("readable",s)}o(s,"read");function a(){e.removeListener("end",l),e.removeListener("error",p),e.removeListener("close",u),e.removeListener("readable",s)}o(a,"cleanup");function u(g){Rs("onclose had error %o",g)}o(u,"onclose");function l(){Rs("onend")}o(l,"onend");function p(g){a(),Rs("onerror %o",g),r(g)}o(p,"onerror");function d(g){i.push(g),n+=g.length;let m=Buffer.concat(i,n);if(m.indexOf(`\r
\r
`)===-1){Rs("have not received end of HTTP headers yet..."),s();return}let y=m.toString("ascii",0,m.indexOf(`\r
`)),S=+y.split(" ")[1];Rs("got proxy server response: %o",y),t({statusCode:S,buffered:m})}o(d,"ondata"),e.on("error",p),e.on("close",u),e.on("end",l),s()})}o(LB,"parseProxyResponse");Ms.default=LB});var cw=x(xi=>{"use strict";var BB=xi&&xi.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function u(d){try{p(n.next(d))}catch(g){a(g)}}o(u,"fulfilled");function l(d){try{p(n.throw(d))}catch(g){a(g)}}o(l,"rejected");function p(d){d.done?s(d.value):i(d.value).then(u,l)}o(p,"step"),p((n=n.apply(e,t||[])).next())})},xo=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});var sw=xo(require("net")),aw=xo(require("tls")),KB=xo(require("url")),UB=xo(require("assert")),FB=xo(Jc()),HB=iw(),zB=xo(ow()),Ps=FB.default("https-proxy-agent:agent"),ld=class extends HB.Agent{constructor(t){let r;if(typeof t=="string"?r=KB.default.parse(t):r=t,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Ps("creating new HttpsProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||JB(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(t,r){return BB(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,s;i?(Ps("Creating `tls.Socket`: %o",n),s=aw.default.connect(n)):(Ps("Creating `net.Socket`: %o",n),s=sw.default.connect(n));let a=Object.assign({},n.headers),l=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:p,port:d,secureEndpoint:g}=r;WB(d,g)||(p+=`:${d}`),a.Host=p,a.Connection="close";for(let E of Object.keys(a))l+=`${E}: ${a[E]}\r
`;let m=zB.default(s);s.write(`${l}\r
`);let{statusCode:v,buffered:y}=yield m;if(v===200){if(t.once("socket",$B),r.secureEndpoint){let E=r.servername||r.host;if(!E)throw new Error('Could not determine "servername"');return Ps("Upgrading socket connection to TLS"),aw.default.connect(Object.assign(Object.assign({},GB(r,"host","hostname","path","port")),{socket:s,servername:E}))}return s}s.destroy();let S=new sw.default.Socket;return S.readable=!0,t.once("socket",E=>{Ps("replaying proxy buffer for failed request"),UB.default(E.listenerCount("data")>0),E.push(y),E.push(null)}),S})}};o(ld,"HttpsProxyAgent");xi.default=ld;function $B(e){e.resume()}o($B,"resume");function WB(e,t){return Boolean(!t&&e===80||t&&e===443)}o(WB,"isDefaultPort");function JB(e){return typeof e=="string"?/^https:?$/i.test(e):!1}o(JB,"isHTTPS");function GB(e,...t){let r={},n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}o(GB,"omit")});var gd=x((dd,uw)=>{"use strict";var VB=dd&&dd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},pd=VB(cw());function fd(e){return new pd.default(e)}o(fd,"createHttpsProxyAgent");(function(e){e.HttpsProxyAgent=pd.default,e.prototype=pd.default.prototype})(fd||(fd={}));uw.exports=fd});var fw=x(hd=>{Object.defineProperty(hd,"__esModule",{value:!0});var YB=je(),lw=Et(),pw=require("http"),XB=Fc(),ZB=function(e){YB.__extends(t,e);function t(r){var n=e.call(this,r)||this;n.options=r;var i=n._getProxy("http");return n.module=pw,n.client=i?new(gd())(i):new pw.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return o(t,"HTTPTransport"),t.prototype.sendEvent=function(r){return this._send(lw.eventToSentryRequest(r,this._api),r)},t.prototype.sendSession=function(r){return this._send(lw.sessionToSentryRequest(r,this._api),r)},t}(XB.BaseTransport);hd.HTTPTransport=ZB});var hw=x(md=>{Object.defineProperty(md,"__esModule",{value:!0});var QB=je(),dw=Et(),gw=require("https"),e2=Fc(),t2=function(e){QB.__extends(t,e);function t(r){var n=e.call(this,r)||this;n.options=r;var i=n._getProxy("https");return n.module=gw,n.client=i?new(gd())(i):new gw.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return o(t,"HTTPSTransport"),t.prototype.sendEvent=function(r){return this._send(dw.eventToSentryRequest(r,this._api),r)},t.prototype.sendSession=function(r){return this._send(dw.sessionToSentryRequest(r,this._api),r)},t}(e2.BaseTransport);md.HTTPSTransport=t2});var vd=x(Ns=>{Object.defineProperty(Ns,"__esModule",{value:!0});var r2=Fc();Ns.BaseTransport=r2.BaseTransport;var n2=fw();Ns.HTTPTransport=n2.HTTPTransport;var i2=hw();Ns.HTTPSTransport=i2.HTTPSTransport});var _d=x(yd=>{Object.defineProperty(yd,"__esModule",{value:!0});var $n=je(),mw=Et(),o2=Nt(),mn=Ae(),Vc=Qf(),vw=vd(),s2=function(e){$n.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"NodeBackend"),t.prototype.eventFromException=function(r,n){var i=this,s=r,a=n&&n.data&&n.data.mechanism,u=a||{handled:!0,type:"generic"};if(!mn.isError(r)){if(mn.isPlainObject(r)){var l="Non-Error exception captured with keys: "+mn.extractExceptionKeysForMessage(r);mw.getCurrentHub().configureScope(function(p){p.setExtra("__serialized__",mn.normalizeToSize(r))}),s=n&&n.syntheticException||new Error(l),s.message=l}else s=n&&n.syntheticException||new Error(r),s.message=r;u.synthetic=!0}return new mn.SyncPromise(function(p,d){return Vc.parseError(s,i._options).then(function(g){mn.addExceptionTypeValue(g,void 0,void 0),mn.addExceptionMechanism(g,u),p($n.__assign($n.__assign({},g),{event_id:n&&n.event_id}))}).then(null,d)})},t.prototype.eventFromMessage=function(r,n,i){var s=this;n===void 0&&(n=o2.Severity.Info);var a={event_id:i&&i.event_id,level:n,message:r};return new mn.SyncPromise(function(u){if(s._options.attachStacktrace&&i&&i.syntheticException){var l=i.syntheticException?Vc.extractStackFromError(i.syntheticException):[];Vc.parseStack(l,s._options).then(function(p){a.stacktrace={frames:Vc.prepareFramesForEvent(p)},u(a)}).then(null,function(){u(a)})}else u(a)})},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var r=new mn.Dsn(this._options.dsn),n=$n.__assign($n.__assign($n.__assign($n.__assign($n.__assign({},this._options.transportOptions),this._options.httpProxy&&{httpProxy:this._options.httpProxy}),this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy}),this._options.caCerts&&{caCerts:this._options.caCerts}),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(n):r.protocol==="http"?new vw.HTTPTransport(n):new vw.HTTPSTransport(n)},t}(mw.BaseBackend);yd.NodeBackend=s2});var Sd=x(xd=>{Object.defineProperty(xd,"__esModule",{value:!0});var a2=je(),bd=Et(),c2=er(),Yc=Nt(),yw=Ae(),u2=_d(),l2=function(e){a2.__extends(t,e);function t(r){var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:bd.SDK_VERSION}],version:bd.SDK_VERSION},n=e.call(this,u2.NodeBackend,r)||this,n}return o(t,"NodeClient"),t.prototype.captureException=function(r,n,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=i.getRequestSession();s&&s.status===Yc.RequestSessionStatus.Ok&&(s.status=Yc.RequestSessionStatus.Errored)}return e.prototype.captureException.call(this,r,n,i)},t.prototype.captureEvent=function(r,n,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=r.type||"exception",a=s==="exception"&&r.exception&&r.exception.values&&r.exception.values.length>0;if(a){var u=i.getRequestSession();u&&u.status===Yc.RequestSessionStatus.Ok&&(u.status=Yc.RequestSessionStatus.Errored)}}return e.prototype.captureEvent.call(this,r,n,i)},t.prototype.close=function(r){var n;return(n=this._sessionFlusher)===null||n===void 0||n.close(),e.prototype.close.call(this,r)},t.prototype.initSessionFlusher=function(){var r=this._options,n=r.release,i=r.environment;n?this._sessionFlusher=new c2.SessionFlusher(this._backend.getTransport(),{release:n,environment:i}):yw.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")},t.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"node",this.getOptions().serverName&&(r.server_name=this.getOptions().serverName),e.prototype._prepareEvent.call(this,r,n,i)},t.prototype._captureRequestSession=function(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():yw.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")},t}(bd.BaseClient);xd.NodeClient=l2});var Sw=x(Ed=>{Object.defineProperty(Ed,"__esModule",{value:!0});var _w=je(),bw=Et(),Ds=Nt(),p2=Ae(),f2=require("util"),xw=function(){function e(){this.name=e.id}return o(e,"Console"),e.prototype.setupOnce=function(){var t,r;try{for(var n=_w.__values(["debug","info","warn","error","log"]),i=n.next();!i.done;i=n.next()){var s=i.value;p2.fill(console,s,d2(s))}}catch(a){t={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.id="Console",e}();Ed.Console=xw;function d2(e){return o(function(r){var n;switch(e){case"debug":n=Ds.Severity.Debug;break;case"error":n=Ds.Severity.Error;break;case"info":n=Ds.Severity.Info;break;case"warn":n=Ds.Severity.Warning;break;default:n=Ds.Severity.Log}return function(){bw.getCurrentHub().getIntegration(xw)&&bw.getCurrentHub().addBreadcrumb({category:"console",level:n,message:f2.format.apply(void 0,arguments)},{input:_w.__spread(arguments),level:e}),r.apply(this,arguments)}},"consoleWrapper")}o(d2,"createConsoleWrapper")});var Tw=x(Si=>{Object.defineProperty(Si,"__esModule",{value:!0});var wd=je(),g2=Et(),Ew=require("url");function h2(e){var t,r=(t=g2.getCurrentHub().getClient())===null||t===void 0?void 0:t.getDsn();return r?e.includes(r.host):!1}o(h2,"isSentryRequest");Si.isSentryRequest=h2;function ww(e){var t=e.protocol||"",r=e.hostname||e.host||"",n=!e.port||e.port===80||e.port===443?"":":"+e.port,i=e.path?e.path:"/";return t+"//"+r+n+i}o(ww,"extractUrl");Si.extractUrl=ww;function m2(e,t,r){var n,i,s;if(!e)return e;var a=wd.__read(e.split(" "),2),u=a[0],l=a[1];return t.host&&!t.protocol&&(t.protocol=(i=(n=r)===null||n===void 0?void 0:n.agent)===null||i===void 0?void 0:i.protocol,l=ww(t)),((s=l)===null||s===void 0?void 0:s.startsWith("///"))&&(l=l.slice(2)),u+" "+l}o(m2,"cleanSpanDescription");Si.cleanSpanDescription=m2;function Td(e){var t={protocol:e.protocol,hostname:typeof e.hostname=="string"&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:""+(e.pathname||"")+(e.search||""),href:e.href};return e.port!==""&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=e.username+":"+e.password),t}o(Td,"urlToOptions");Si.urlToOptions=Td;function v2(e){var t,r;return typeof e[e.length-1]=="function"&&(t=e.pop()),typeof e[0]=="string"?r=Td(new Ew.URL(e[0])):e[0]instanceof Ew.URL?r=Td(e[0]):r=e[0],e.length===2&&(r=wd.__assign(wd.__assign({},r),e[1])),t?[r,t]:[r]}o(v2,"normalizeRequestArgs");Si.normalizeRequestArgs=v2});var Aw=x(Cd=>{Object.defineProperty(Cd,"__esModule",{value:!0});var Ow=je(),Od=Et(),So=Ae(),Ls=Tw(),Cw=So.parseSemver(process.versions.node),Iw=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._breadcrumbs=typeof t.breadcrumbs=="undefined"?!0:t.breadcrumbs,this._tracing=typeof t.tracing=="undefined"?!1:t.tracing}return o(e,"Http"),e.prototype.setupOnce=function(){if(!(!this._breadcrumbs&&!this._tracing)){var t=y2(this._breadcrumbs,this._tracing),r=require("http");if(So.fill(r,"get",t),So.fill(r,"request",t),Cw.major&&Cw.major>8){var n=require("https");So.fill(n,"get",t),So.fill(n,"request",t)}}},e.id="Http",e}();Cd.Http=Iw;function y2(e,t){return o(function(n){return o(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=this,l=Ls.normalizeRequestArgs(s),p=l[0],d=Ls.extractUrl(p);if(Ls.isSentryRequest(d))return n.apply(u,l);var g,m,v=Od.getCurrentHub().getScope();if(v&&t&&(m=v.getSpan(),m)){g=m.startChild({description:(p.method||"GET")+" "+d,op:"request"});var y=g.toTraceparent();So.logger.log("[Tracing] Adding sentry-trace header "+y+" to outgoing request to "+d+": "),p.headers=Ow.__assign(Ow.__assign({},p.headers),{"sentry-trace":y})}return n.apply(u,l).once("response",function(S){var E=this;e&&kw("response",d,E,S),t&&g&&(S.statusCode&&g.setHttpStatus(S.statusCode),g.description=Ls.cleanSpanDescription(g.description,p,E),g.finish())}).once("error",function(){var S=this;e&&kw("error",d,S),t&&g&&(g.setHttpStatus(500),g.description=Ls.cleanSpanDescription(g.description,p,S),g.finish())})},"wrappedMethod")},"wrappedRequestMethodFactory")}o(y2,"_createWrappedRequestMethodFactory");function kw(e,t,r,n){!Od.getCurrentHub().getIntegration(Iw)||Od.getCurrentHub().addBreadcrumb({category:"http",data:{method:r.method,status_code:n&&n.statusCode,url:t},type:"http"},{event:e,request:r,response:n})}o(kw,"addRequestBreadcrumb")});var Ad=x(kd=>{Object.defineProperty(kd,"__esModule",{value:!0});var _2=Et(),Id=Ae(),b2=2e3;function x2(e){console.error(e&&e.stack?e.stack:e);var t=_2.getCurrentHub().getClient();if(t===void 0){Id.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);return}var r=t.getOptions(),n=r&&r.shutdownTimeout&&r.shutdownTimeout>0&&r.shutdownTimeout||b2;Id.forget(t.close(n).then(function(i){i||Id.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}))}o(x2,"logAndExitProcess");kd.logAndExitProcess=x2});var Rw=x(qd=>{Object.defineProperty(qd,"__esModule",{value:!0});var qw=Et(),S2=Nt(),E2=Ae(),jw=Ad(),w2=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id,this.handler=this._makeErrorHandler()}return o(e,"OnUncaughtException"),e.prototype.setupOnce=function(){global.process.on("uncaughtException",this.handler.bind(this))},e.prototype._makeErrorHandler=function(){var t=this,r=2e3,n=!1,i=!1,s=!1,a;return function(u){var l=jw.logAndExitProcess,p=qw.getCurrentHub().getClient();if(t._options.onFatalError?l=t._options.onFatalError:p&&p.getOptions().onFatalError&&(l=p.getOptions().onFatalError),n)s?(E2.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),jw.logAndExitProcess(u)):i||(i=!0,setTimeout(function(){s||(s=!0,l(a,u))},r));else{var d=qw.getCurrentHub();a=u,n=!0,d.getIntegration(e)?d.withScope(function(g){g.setLevel(S2.Severity.Fatal),d.captureException(u,{originalException:u,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),s||(s=!0,l(u))}):s||(s=!0,l(u))}}},e.id="OnUncaughtException",e}();qd.OnUncaughtException=w2});var Pw=x(jd=>{Object.defineProperty(jd,"__esModule",{value:!0});var T2=Et(),Mw=Ae(),O2=Ad(),C2=function(){function e(t){t===void 0&&(t={mode:"warn"}),this._options=t,this.name=e.id}return o(e,"OnUnhandledRejection"),e.prototype.setupOnce=function(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))},e.prototype.sendUnhandledPromise=function(t,r){var n=T2.getCurrentHub();if(!n.getIntegration(e)){this._handleRejection(t);return}var i=r.domain&&r.domain.sentryContext||{};n.withScope(function(s){s.setExtra("unhandledPromiseRejection",!0),i.user&&s.setUser(i.user),i.tags&&s.setTags(i.tags),i.extra&&s.setExtras(i.extra),n.captureException(t,{originalException:r,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})}),this._handleRejection(t)},e.prototype._handleRejection=function(t){var r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";this._options.mode==="warn"?Mw.consoleSandbox(function(){console.warn(r),console.error(t&&t.stack?t.stack:t)}):this._options.mode==="strict"&&(Mw.consoleSandbox(function(){console.warn(r)}),O2.logAndExitProcess(t))},e.id="OnUnhandledRejection",e}();jd.OnUnhandledRejection=C2});var Lw=x(Rd=>{Object.defineProperty(Rd,"__esModule",{value:!0});var Nw=je(),Dw=Et(),Eo=Ae(),I2=Qf(),k2="cause",A2=5,q2=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._key=t.key||k2,this._limit=t.limit||A2}return o(e,"LinkedErrors"),e.prototype.setupOnce=function(){Dw.addGlobalEventProcessor(function(t,r){var n=Dw.getCurrentHub().getIntegration(e);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(t,r):t}return t})},e.prototype._handler=function(t,r){var n=this;return!t.exception||!t.exception.values||!r||!Eo.isInstanceOf(r.originalException,Error)?Eo.SyncPromise.resolve(t):new Eo.SyncPromise(function(i){n._walkErrorTree(r.originalException,n._key).then(function(s){t&&t.exception&&t.exception.values&&(t.exception.values=Nw.__spread(s,t.exception.values)),i(t)}).then(null,function(){i(t)})})},e.prototype._walkErrorTree=function(t,r,n){var i=this;return n===void 0&&(n=[]),!Eo.isInstanceOf(t[r],Error)||n.length+1>=this._limit?Eo.SyncPromise.resolve(n):new Eo.SyncPromise(function(s,a){I2.getExceptionFromError(t[r]).then(function(u){i._walkErrorTree(t[r],r,Nw.__spread([u],n)).then(s).then(null,function(){a()})}).then(null,function(){a()})})},e.id="LinkedErrors",e}();Rd.LinkedErrors=q2});var Fw=x(Pd=>{Object.defineProperty(Pd,"__esModule",{value:!0});var Bw=je(),Kw=require("fs"),Uw=require("path"),Md;function j2(){try{return require.cache?Object.keys(require.cache):[]}catch(e){return[]}}o(j2,"getPaths");function R2(){var e=require.main&&require.main.paths||[],t=j2(),r={},n={};return t.forEach(function(i){var s=i,a=o(function(){var u=s;if(s=Uw.dirname(u),!(!s||u===s||n[u])){if(e.indexOf(s)<0)return a();var l=Uw.join(u,"package.json");if(n[u]=!0,!Kw.existsSync(l))return a();try{var p=JSON.parse(Kw.readFileSync(l,"utf8"));r[p.name]=p.version}catch(d){}}},"updir");a()}),r}o(R2,"collectModules");var M2=function(){function e(){this.name=e.id}return o(e,"Modules"),e.prototype.setupOnce=function(t,r){var n=this;t(function(i){return r().getIntegration(e)?Bw.__assign(Bw.__assign({},i),{modules:n._getModules()}):i})},e.prototype._getModules=function(){return Md||(Md=R2()),Md},e.id="Modules",e}();Pd.Modules=M2});var Nd=x(Wn=>{Object.defineProperty(Wn,"__esModule",{value:!0});var P2=Sw();Wn.Console=P2.Console;var N2=Aw();Wn.Http=N2.Http;var D2=Rw();Wn.OnUncaughtException=D2.OnUncaughtException;var L2=Pw();Wn.OnUnhandledRejection=L2.OnUnhandledRejection;var B2=Lw();Wn.LinkedErrors=B2.LinkedErrors;var K2=Fw();Wn.Modules=K2.Modules});var Dd=x(Gr=>{Object.defineProperty(Gr,"__esModule",{value:!0});var Bs=je(),Jn=Et(),Hw=er(),zw=Nt(),U2=Ae(),F2=require("domain"),H2=Sd(),Ks=Nd();Gr.defaultIntegrations=[new Jn.Integrations.InboundFilters,new Jn.Integrations.FunctionToString,new Ks.Console,new Ks.Http,new Ks.OnUncaughtException,new Ks.OnUnhandledRejection,new Ks.LinkedErrors];function z2(e){e===void 0&&(e={});var t,r=Hw.getMainCarrier(),n=((t=r.__SENTRY__)===null||t===void 0?void 0:t.integrations)||[];if(e.defaultIntegrations=e.defaultIntegrations===!1?[]:Bs.__spread(Array.isArray(e.defaultIntegrations)?e.defaultIntegrations:Gr.defaultIntegrations,n),e.dsn===void 0&&process.env.SENTRY_DSN&&(e.dsn=process.env.SENTRY_DSN),e.tracesSampleRate===void 0&&process.env.SENTRY_TRACES_SAMPLE_RATE){var i=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(i)&&(e.tracesSampleRate=i)}if(e.release===void 0){var s=$w();s!==void 0?e.release=s:e.autoSessionTracking=!1}e.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(e.environment=process.env.SENTRY_ENVIRONMENT),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),F2.active&&Hw.setHubOnCarrier(r,Jn.getCurrentHub()),Jn.initAndBind(H2.NodeClient,e),e.autoSessionTracking&&V2()}o(z2,"init");Gr.init=z2;function $2(){return Jn.getCurrentHub().lastEventId()}o($2,"lastEventId");Gr.lastEventId=$2;function W2(e){return Bs.__awaiter(this,void 0,void 0,function(){var t;return Bs.__generator(this,function(r){return t=Jn.getCurrentHub().getClient(),t?[2,t.flush(e)]:[2,Promise.reject(!1)]})})}o(W2,"flush");Gr.flush=W2;function J2(e){return Bs.__awaiter(this,void 0,void 0,function(){var t;return Bs.__generator(this,function(r){return t=Jn.getCurrentHub().getClient(),t?[2,t.close(e)]:[2,Promise.reject(!1)]})})}o(J2,"close");Gr.close=J2;function G2(e){if(e===void 0)return!1;var t=e&&e.getOptions();return t&&t.autoSessionTracking!==void 0?t.autoSessionTracking:!1}o(G2,"isAutoSessionTrackingEnabled");Gr.isAutoSessionTrackingEnabled=G2;function $w(e){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;var t=U2.getGlobalObject();return t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id?t.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||e}o($w,"getSentryRelease");Gr.getSentryRelease=$w;function V2(){var e=Jn.getCurrentHub();e.startSession(),process.on("beforeExit",function(){var t,r=(t=e.getScope())===null||t===void 0?void 0:t.getSession(),n=[zw.SessionStatus.Exited,zw.SessionStatus.Crashed];r&&!n.includes(r.status)&&e.endSession()})}o(V2,"startSessionTracking")});var Jw=x(Bd=>{Object.defineProperty(Bd,"__esModule",{value:!0});var Ww=je(),Xc=require("fs"),Ld=require("path");function Y2(e){var t=Ld.resolve(e);if(!Xc.existsSync(t))throw new Error("Cannot read contents of "+t+". Directory does not exist.");if(!Xc.statSync(t).isDirectory())throw new Error("Cannot read contents of "+t+", because it is not a directory.");var r=o(function(n){return Xc.readdirSync(n).reduce(function(i,s){var a=Ld.join(n,s);return Xc.statSync(a).isDirectory()?Ww.__spread(i,r(a)):Ww.__spread(i,[a])},[])},"deepReadCurrentDir");return r(t).map(function(n){return Ld.relative(t,n)})}o(Y2,"deepReadDirSync");Bd.deepReadDirSync=Y2});var Gn=x(wo=>{Object.defineProperty(wo,"__esModule",{value:!0});var Gw;(function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"})(Gw=wo.SpanStatus||(wo.SpanStatus={}));(function(e){function t(r){if(r<400)return e.Ok;if(r>=400&&r<500)switch(r){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}o(t,"fromHttpCode"),e.fromHttpCode=t})(Gw=wo.SpanStatus||(wo.SpanStatus={}))});var Vn=x(Vr=>{Object.defineProperty(Vr,"__esModule",{value:!0});var Vw=er();Vr.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function X2(e){e===void 0&&(e=(t=Vw.getCurrentHub().getClient())===null||t===void 0?void 0:t.getOptions());var t;return e?"tracesSampleRate"in e||"tracesSampler"in e:!1}o(X2,"hasTracingEnabled");Vr.hasTracingEnabled=X2;function Z2(e){var t=e.match(Vr.TRACEPARENT_REGEXP);if(t){var r=void 0;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}}o(Z2,"extractTraceparentData");Vr.extractTraceparentData=Z2;function Q2(e){e===void 0&&(e=Vw.getCurrentHub());var t,r;return(r=(t=e)===null||t===void 0?void 0:t.getScope())===null||r===void 0?void 0:r.getTransaction()}o(Q2,"getActiveTransaction");Vr.getActiveTransaction=Q2;function eK(e){return e/1e3}o(eK,"msToSec");Vr.msToSec=eK;function tK(e){return e*1e3}o(tK,"secToMs");Vr.secToMs=tK;var rK=Ae();Vr.stripUrlQueryAndFragment=rK.stripUrlQueryAndFragment});var Zw=x(Ud=>{Object.defineProperty(Ud,"__esModule",{value:!0});var Kd=Ae(),Yw=Gn(),nK=Vn();function iK(){Kd.addInstrumentationHandler({callback:Xw,type:"error"}),Kd.addInstrumentationHandler({callback:Xw,type:"unhandledrejection"})}o(iK,"registerErrorInstrumentation");Ud.registerErrorInstrumentation=iK;function Xw(){var e=nK.getActiveTransaction();e&&(Kd.logger.log("[Tracing] Transaction: "+Yw.SpanStatus.InternalError+" -> Global error occured"),e.setStatus(Yw.SpanStatus.InternalError))}o(Xw,"errorCallback")});var Qc=x(Zc=>{Object.defineProperty(Zc,"__esModule",{value:!0});var To=je(),Ei=Ae(),Fd=Gn(),oK=function(){function e(t){t===void 0&&(t=1e3),this.spans=[],this._maxlen=t}return o(e,"SpanRecorder"),e.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},e}();Zc.SpanRecorder=oK;var sK=function(){function e(t){if(this.traceId=Ei.uuid4(),this.spanId=Ei.uuid4().substring(16),this.startTimestamp=Ei.timestampWithMs(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return o(e,"Span"),e.prototype.child=function(t){return this.startChild(t)},e.prototype.startChild=function(t){var r=new e(To.__assign(To.__assign({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},e.prototype.setTag=function(t,r){var n;return this.tags=To.__assign(To.__assign({},this.tags),(n={},n[t]=r,n)),this},e.prototype.setData=function(t,r){var n;return this.data=To.__assign(To.__assign({},this.data),(n={},n[t]=r,n)),this},e.prototype.setStatus=function(t){return this.status=t,this},e.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var r=Fd.SpanStatus.fromHttpCode(t);return r!==Fd.SpanStatus.UnknownError&&this.setStatus(r),this},e.prototype.isSuccess=function(){return this.status===Fd.SpanStatus.Ok},e.prototype.finish=function(t){this.endTimestamp=typeof t=="number"?t:Ei.timestampWithMs()},e.prototype.toTraceparent=function(){var t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},e.prototype.toContext=function(){return Ei.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(t){var r,n,i,s,a;return this.data=(r=t.data,r!=null?r:{}),this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=(n=t.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=t.startTimestamp,i!=null?i:this.startTimestamp),this.status=t.status,this.tags=(s=t.tags,s!=null?s:{}),this.traceId=(a=t.traceId,a!=null?a:this.traceId),this},e.prototype.getTraceContext=function(){return Ei.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return Ei.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}();Zc.Span=sK});var eu=x(Hd=>{Object.defineProperty(Hd,"__esModule",{value:!0});var Oo=je(),Qw=er(),Co=Ae(),e0=Qc(),aK=function(e){Oo.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i._measurements={},i._hub=Qw.getCurrentHub(),Co.isInstanceOf(n,Qw.Hub)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return o(t,"Transaction"),t.prototype.setName=function(r){this.name=r},t.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new e0.SpanRecorder(r)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(r){this._measurements=Oo.__assign({},r)},t.prototype.setMetadata=function(r){this.metadata=Oo.__assign(Oo.__assign({},this.metadata),r)},t.prototype.finish=function(r){var n=this;if(this.endTimestamp===void 0){if(this.name||(Co.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,r),this.sampled!==!0){Co.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(u){return u!==n&&u.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(u,l){return u.endTimestamp&&l.endTimestamp?u.endTimestamp>l.endTimestamp?u:l:u}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},a=Object.keys(this._measurements).length>0;return a&&(Co.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),Co.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},t.prototype.toContext=function(){var r=e.prototype.toContext.call(this);return Co.dropUndefinedKeys(Oo.__assign(Oo.__assign({},r),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(r){var n;return e.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},t}(e0.Span);Hd.Transaction=aK});var tu=x(Io=>{Object.defineProperty(Io,"__esModule",{value:!0});var zd=je(),At=Ae(),cK=Qc(),t0=Gn(),uK=eu();Io.DEFAULT_IDLE_TIMEOUT=1e3;var r0=function(e){zd.__extends(t,e);function t(r,n,i,s){i===void 0&&(i="");var a=e.call(this,s)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return o(t,"IdleTransactionSpanRecorder"),t.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:At.timestampWithMs(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),e.prototype.add.call(this,r)},t}(cK.SpanRecorder);Io.IdleTransactionSpanRecorder=r0;var lK=function(e){zd.__extends(t,e);function t(r,n,i,s){i===void 0&&(i=Io.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var a=e.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=s,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&s&&(n0(n),At.logger.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(u){return u.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return o(t,"IdleTransaction"),t.prototype.finish=function(r){var n,i,s=this;if(r===void 0&&(r=At.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){At.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=zd.__values(this._beforeFinishCallbacks),u=a.next();!u.done;u=a.next()){var l=u.value;l(this,r)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(p){if(p.spanId===s.spanId)return!0;p.endTimestamp||(p.endTimestamp=r,p.setStatus(t0.SpanStatus.Cancelled),At.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(p,void 0,2)));var d=p.startTimestamp<r;return d||At.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(p,void 0,2)),d}),At.logger.log("[Tracing] flushing IdleTransaction")}else At.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&n0(this._idleHub),e.prototype.finish.call(this,r)},t.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},t.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=o(function(a){n._finished||n._pushActivity(a)},"pushActivity"),s=o(function(a){n._finished||n._popActivity(a)},"popActivity");this.spanRecorder=new r0(i,s,this.spanId,r),At.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),At.logger.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,At.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(At.logger.log("[Tracing] popActivity "+r),delete this.activities[r],At.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=At.timestampWithMs()+i/1e3;setTimeout(function(){n._finished||n.finish(s)},i)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,s){return i+s}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(At.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(t0.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var r=this;At.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},t}(uK.Transaction);Io.IdleTransaction=lK;function n0(e){if(e){var t=e.getScope();if(t){var r=t.getTransaction();r&&t.setSpan(void 0)}}}o(n0,"clearActiveTransaction")});var nu=x((Us,Fs)=>{Object.defineProperty(Us,"__esModule",{value:!0});var $d=je(),i0=er(),ru=Nt(),mr=Ae(),pK=Zw(),fK=tu(),dK=eu(),gK=Vn();function hK(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}o(hK,"traceHeaders");function o0(e,t,r){if(!gK.hasTracingEnabled())return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({transactionSampling:{method:ru.TransactionSamplingMethod.Explicit}}),e;var n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setMetadata({transactionSampling:{method:ru.TransactionSamplingMethod.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,e.setMetadata({transactionSampling:{method:ru.TransactionSamplingMethod.Inheritance}})):(n=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:ru.TransactionSamplingMethod.Rate,rate:Number(n)}})),mK(n)?n?(e.sampled=Math.random()<n,e.sampled?(mr.logger.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(mr.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),e)):(mr.logger.log("[Tracing] Discarding transaction because "+(typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(mr.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}o(o0,"sample");function mK(e){return isNaN(e)||!(typeof e=="number"||typeof e=="boolean")?(mr.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):e<0||e>1?(mr.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1):!0}o(mK,"isValidSampleRate");function vK(e,t){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},s=new dK.Transaction(e,this);return s=o0(s,i,$d.__assign({parentSampled:e.parentSampled,transactionContext:e},t)),s.sampled&&s.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),s}o(vK,"_startTransaction");function yK(e,t,r,n,i){var s,a,u=((s=e.getClient())===null||s===void 0?void 0:s.getOptions())||{},l=new fK.IdleTransaction(t,e,r,n);return l=o0(l,u,$d.__assign({parentSampled:t.parentSampled,transactionContext:t},i)),l.sampled&&l.initSpanRecorder((a=u._experiments)===null||a===void 0?void 0:a.maxSpans),l}o(yK,"startIdleTransaction");Us.startIdleTransaction=yK;function s0(){var e=i0.getMainCarrier();!e.__SENTRY__||(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=vK),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=hK))}o(s0,"_addTracingExtensions");Us._addTracingExtensions=s0;function _K(){var e=i0.getMainCarrier();if(!!e.__SENTRY__){var t={mongodb:function(){var n=mr.dynamicRequire(Fs,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=mr.dynamicRequire(Fs,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=mr.dynamicRequire(Fs,"./integrations/mysql");return new n.Mysql},pg:function(){var n=mr.dynamicRequire(Fs,"./integrations/postgres");return new n.Postgres}},r=Object.keys(t).filter(function(n){return!!mr.loadModule(n)}).map(function(n){try{return t[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(e.__SENTRY__.integrations=$d.__spread(e.__SENTRY__.integrations||[],r))}}o(_K,"_autoloadDatabaseIntegrations");function bK(){s0(),mr.isNodeEnv()&&_K(),pK.registerErrorInstrumentation()}o(bK,"addExtensionMethods");Us.addExtensionMethods=bK});var c0=x(Jd=>{Object.defineProperty(Jd,"__esModule",{value:!0});var Wd=Ae(),a0=Gn(),xK=Vn(),iu=Wd.getGlobalObject();function SK(){iu&&iu.document?iu.document.addEventListener("visibilitychange",function(){var e=xK.getActiveTransaction();iu.document.hidden&&e&&(Wd.logger.log("[Tracing] Transaction: "+a0.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(a0.SpanStatus.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):Wd.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(SK,"registerBackgroundTabDetection");Jd.registerBackgroundTabDetection=SK});var ou=x(Gd=>{Object.defineProperty(Gd,"__esModule",{value:!0});Gd.bindReporter=function(e,t,r,n){var i;return function(){r&&t.isFinal&&r.disconnect(),t.value>=0&&(n||t.isFinal||document.visibilityState==="hidden")&&(t.delta=t.value-(i||0),(t.delta||t.isFinal||i===void 0)&&(e(t),i=t.value))}}});var u0=x(Vd=>{Object.defineProperty(Vd,"__esModule",{value:!0});Vd.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var su=x(Yd=>{Object.defineProperty(Yd,"__esModule",{value:!0});var EK=u0();Yd.initMetric=function(e,t){return t===void 0&&(t=-1),{name:e,value:t,delta:0,entries:[],id:EK.generateUniqueID(),isFinal:!1}}});var au=x(Xd=>{Object.defineProperty(Xd,"__esModule",{value:!0});Xd.observe=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(n){return n.getEntries().map(t)});return r.observe({type:e,buffered:!0}),r}}catch(n){}}});var Hs=x(Zd=>{Object.defineProperty(Zd,"__esModule",{value:!0});var l0=!1,p0=!1,wK=o(function(e){l0=!e.persisted},"onPageHide"),TK=o(function(){addEventListener("pagehide",wK),addEventListener("beforeunload",function(){})},"addListeners");Zd.onHidden=function(e,t){t===void 0&&(t=!1),p0||(TK(),p0=!0),addEventListener("visibilitychange",function(r){var n=r.timeStamp;document.visibilityState==="hidden"&&e({timeStamp:n,isUnloading:l0})},{capture:!0,once:t})}});var f0=x(Qd=>{Object.defineProperty(Qd,"__esModule",{value:!0});var OK=ou(),CK=su(),IK=au(),kK=Hs();Qd.getCLS=function(e,t){t===void 0&&(t=!1);var r=CK.initMetric("CLS",0),n,i=o(function(a){a.hadRecentInput||(r.value+=a.value,r.entries.push(a),n())},"entryHandler"),s=IK.observe("layout-shift",i);s&&(n=OK.bindReporter(e,r,s,t),kK.onHidden(function(a){var u=a.isUnloading;s.takeRecords().map(i),u&&(r.isFinal=!0),n()}))}});var uu=x(eg=>{Object.defineProperty(eg,"__esModule",{value:!0});var AK=Hs(),cu;eg.getFirstHidden=function(){return cu===void 0&&(cu=document.visibilityState==="hidden"?0:Infinity,AK.onHidden(function(e){var t=e.timeStamp;return cu=t},!0)),{get timeStamp(){return cu}}}});var d0=x(tg=>{Object.defineProperty(tg,"__esModule",{value:!0});var qK=ou(),jK=uu(),RK=su(),MK=au(),PK=Hs();tg.getFID=function(e){var t=RK.initMetric("FID"),r=jK.getFirstHidden(),n=o(function(a){a.startTime<r.timeStamp&&(t.value=a.processingStart-a.startTime,t.entries.push(a),t.isFinal=!0,s())},"entryHandler"),i=MK.observe("first-input",n),s=qK.bindReporter(e,t,i);i?PK.onHidden(function(){i.takeRecords().map(n),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(a,u){u.timeStamp<r.timeStamp&&(t.value=a,t.isFinal=!0,t.entries=[{entryType:"first-input",name:u.type,target:u.target,cancelable:u.cancelable,startTime:u.timeStamp,processingStart:u.timeStamp+a}],s())})}});var g0=x(ng=>{Object.defineProperty(ng,"__esModule",{value:!0});var rg;ng.whenInput=function(){return rg||(rg=new Promise(function(e){return["scroll","keydown","pointerdown"].map(function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})})})),rg}});var h0=x(ig=>{Object.defineProperty(ig,"__esModule",{value:!0});var NK=ou(),DK=uu(),LK=su(),BK=au(),KK=Hs(),UK=g0();ig.getLCP=function(e,t){t===void 0&&(t=!1);var r=LK.initMetric("LCP"),n=DK.getFirstHidden(),i,s=o(function(l){var p=l.startTime;p<n.timeStamp?(r.value=p,r.entries.push(l)):r.isFinal=!0,i()},"entryHandler"),a=BK.observe("largest-contentful-paint",s);if(a){i=NK.bindReporter(e,r,a,t);var u=o(function(){r.isFinal||(a.takeRecords().map(s),r.isFinal=!0,i())},"onFinal");UK.whenInput().then(u),KK.onHidden(u,!0)}}});var y0=x(zs=>{Object.defineProperty(zs,"__esModule",{value:!0});var m0=je(),lt=Ae(),gt=Vn(),FK=f0(),HK=d0(),zK=h0(),$K=uu(),ir=lt.getGlobalObject(),WK=function(){function e(){var t;this._measurements={},this._performanceCursor=0,!lt.isNodeEnv()&&((t=ir)===null||t===void 0?void 0:t.performance)&&(ir.performance.mark&&ir.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return o(e,"MetricsInstrumentation"),e.prototype.addPerformanceEntries=function(t){var r=this;if(!(!ir||!ir.performance||!ir.performance.getEntries||!lt.browserPerformanceTimeOrigin)){lt.logger.log("[Tracing] Adding & adjusting spans using Performance API");var n=gt.msToSec(lt.browserPerformanceTimeOrigin),i;if(ir.document&&ir.document.scripts){for(var s=0;s<ir.document.scripts.length;s++)if(ir.document.scripts[s].dataset.entry==="true"){i=ir.document.scripts[s].src;break}}var a,u,l,p;if(ir.performance.getEntries().slice(this._performanceCursor).forEach(function(g){var m=gt.msToSec(g.startTime),v=gt.msToSec(g.duration);if(!(t.op==="navigation"&&n+m<t.startTimestamp))switch(g.entryType){case"navigation":{JK(t,g,n),l=n+gt.msToSec(g.responseStart),p=n+gt.msToSec(g.requestStart);break}case"mark":case"paint":case"measure":{var y=GK(t,g,m,v,n);u===void 0&&g.name==="sentry-tracing-init"&&(u=y);var S=$K.getFirstHidden(),E=g.startTime<S.timeStamp;g.name==="first-paint"&&E&&(lt.logger.log("[Measurements] Adding FP"),r._measurements.fp={value:g.startTime},r._measurements["mark.fp"]={value:y}),g.name==="first-contentful-paint"&&E&&(lt.logger.log("[Measurements] Adding FCP"),r._measurements.fcp={value:g.startTime},r._measurements["mark.fcp"]={value:y});break}case"resource":{var T=g.name.replace(window.location.origin,""),w=v0(t,g,T,m,v,n);a===void 0&&(i||"").indexOf(T)>-1&&(a=w);break}default:}}),a!==void 0&&u!==void 0&&Xn(t,{description:"evaluation",endTimestamp:u,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),t.op==="pageload"){var d=gt.msToSec(lt.browserPerformanceTimeOrigin);typeof l=="number"&&(lt.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(l-t.startTimestamp)*1e3},typeof p=="number"&&p<=l&&(this._measurements["ttfb.requestTime"]={value:(l-p)*1e3})),["fcp","fp","lcp"].forEach(function(g){if(!(!r._measurements[g]||d>=t.startTimestamp)){var m=r._measurements[g].value,v=d+gt.msToSec(m),y=Math.abs((v-t.startTimestamp)*1e3),S=y-m;lt.logger.log("[Measurements] Normalized "+g+" from "+m+" to "+y+" ("+S+")"),r._measurements[g].value=y}}),this._measurements["mark.fid"]&&this._measurements.fid&&Xn(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+gt.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements),this._tagMetricInfo(t)}}},e.prototype._tagMetricInfo=function(t){this._lcpEntry&&(lt.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",lt.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(lt.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(r,n){return t.setTag("cls.source."+(n+1),lt.htmlTreeAsString(r.node))}))},e.prototype._trackCLS=function(){var t=this;FK.getCLS(function(r){var n=r.entries.pop();!n||(lt.logger.log("[Measurements] Adding CLS"),t._measurements.cls={value:r.value},t._clsEntry=n)})},e.prototype._trackNavigator=function(t){var r=ir.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),lu(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),lu(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),lu(r.deviceMemory)&&t.setTag("deviceMemory",String(r.deviceMemory)),lu(r.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},e.prototype._trackLCP=function(){var t=this;zK.getLCP(function(r){var n=r.entries.pop();if(!!n){var i=gt.msToSec(lt.browserPerformanceTimeOrigin),s=gt.msToSec(n.startTime);lt.logger.log("[Measurements] Adding LCP"),t._measurements.lcp={value:r.value},t._measurements["mark.lcp"]={value:i+s},t._lcpEntry=n}})},e.prototype._trackFID=function(){var t=this;HK.getFID(function(r){var n=r.entries.pop();if(!!n){var i=gt.msToSec(lt.browserPerformanceTimeOrigin),s=gt.msToSec(n.startTime);lt.logger.log("[Measurements] Adding FID"),t._measurements.fid={value:r.value},t._measurements["mark.fid"]={value:i+s}}})},e}();zs.MetricsInstrumentation=WK;function JK(e,t,r){Yn({transaction:e,entry:t,event:"unloadEvent",timeOrigin:r}),Yn({transaction:e,entry:t,event:"redirect",timeOrigin:r}),Yn({transaction:e,entry:t,event:"domContentLoadedEvent",timeOrigin:r}),Yn({transaction:e,entry:t,event:"loadEvent",timeOrigin:r}),Yn({transaction:e,entry:t,event:"connect",timeOrigin:r}),Yn({transaction:e,entry:t,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),Yn({transaction:e,entry:t,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),Yn({transaction:e,entry:t,event:"domainLookup",timeOrigin:r,description:"DNS"}),VK(e,t,r)}o(JK,"addNavigationSpans");function GK(e,t,r,n,i){var s=i+r,a=s+n;return Xn(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:s}),s}o(GK,"addMeasureSpans");function v0(e,t,r,n,i,s){if(!(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")){var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var u=s+n,l=u+i;return Xn(e,{description:r,endTimestamp:l,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:u,data:a}),l}}o(v0,"addResourceSpans");zs.addResourceSpans=v0;function Yn(e){var t=e.transaction,r=e.entry,n=e.event,i=e.timeOrigin,s=e.eventEnd,a=e.description,u=s?r[s]:r[n+"End"],l=r[n+"Start"];!l||!u||Xn(t,{op:"browser",description:a!=null?a:n,startTimestamp:i+gt.msToSec(l),endTimestamp:i+gt.msToSec(u)})}o(Yn,"addPerformanceNavigationTiming");function VK(e,t,r){Xn(e,{op:"browser",description:"request",startTimestamp:r+gt.msToSec(t.requestStart),endTimestamp:r+gt.msToSec(t.responseEnd)}),Xn(e,{op:"browser",description:"response",startTimestamp:r+gt.msToSec(t.responseStart),endTimestamp:r+gt.msToSec(t.responseEnd)})}o(VK,"addRequest");function Xn(e,t){var r=t.startTimestamp,n=m0.__rest(t,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild(m0.__assign({startTimestamp:r},n))}o(Xn,"_startChild");zs._startChild=Xn;function lu(e){return typeof e=="number"&&isFinite(e)}o(lu,"isMeasurementValue")});var og=x(yn=>{Object.defineProperty(yn,"__esModule",{value:!0});var vn=je(),$s=Ae(),YK=Gn(),pu=Vn();yn.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];yn.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:yn.DEFAULT_TRACING_ORIGINS};function XK(e){var t=vn.__assign(vn.__assign({},yn.defaultRequestInstrumentationOptions),e),r=t.traceFetch,n=t.traceXHR,i=t.tracingOrigins,s=t.shouldCreateSpanForRequest,a={},u=o(function(d){if(a[d])return a[d];var g=i;return a[d]=g.some(function(m){return $s.isMatchingPattern(d,m)})&&!$s.isMatchingPattern(d,"sentry_key"),a[d]},"defaultShouldCreateSpan"),l=u;typeof s=="function"&&(l=o(function(d){return u(d)&&s(d)},"shouldCreateSpan"));var p={};r&&$s.addInstrumentationHandler({callback:function(d){_0(d,l,p)},type:"fetch"}),n&&$s.addInstrumentationHandler({callback:function(d){b0(d,l,p)},type:"xhr"})}o(XK,"instrumentOutgoingRequests");yn.instrumentOutgoingRequests=XK;function _0(e,t,r){if(!(!pu.hasTracingEnabled()||!(e.fetchData&&t(e.fetchData.url)))){if(e.endTimestamp&&e.fetchData.__span){var n=r[e.fetchData.__span];n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus(YK.SpanStatus.InternalError),n.finish(),delete r[e.fetchData.__span]);return}var i=pu.getActiveTransaction();if(i){var n=i.startChild({data:vn.__assign(vn.__assign({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http"});e.fetchData.__span=n.spanId,r[n.spanId]=n;var s=e.args[0]=e.args[0],a=e.args[1]=e.args[1]||{},u=a.headers;$s.isInstanceOf(s,Request)&&(u=s.headers),u?typeof u.append=="function"?u.append("sentry-trace",n.toTraceparent()):Array.isArray(u)?u=vn.__spread(u,[["sentry-trace",n.toTraceparent()]]):u=vn.__assign(vn.__assign({},u),{"sentry-trace":n.toTraceparent()}):u={"sentry-trace":n.toTraceparent()},a.headers=u}}}o(_0,"fetchCallback");yn.fetchCallback=_0;function b0(e,t,r){var n,i;if(!(!pu.hasTracingEnabled()||((n=e.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=e.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)))){var s=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){var a=r[e.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(s.status_code),a.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);return}var u=pu.getActiveTransaction();if(u){var a=u.startChild({data:vn.__assign(vn.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=a.spanId,r[e.xhr.__sentry_xhr_span_id__]=a,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(p){}}}}o(b0,"xhrCallback");yn.xhrCallback=b0});var x0=x(sg=>{Object.defineProperty(sg,"__esModule",{value:!0});var fu=Ae(),Ws=fu.getGlobalObject();function ZK(e,t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!0),!Ws||!Ws.location){fu.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var n=Ws.location.href,i;t&&(i=e({name:Ws.location.pathname,op:"pageload"})),r&&fu.addInstrumentationHandler({callback:function(s){var a=s.to,u=s.from;if(u===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}u!==a&&(n=void 0,i&&(fu.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=e({name:Ws.location.pathname,op:"navigation"}))},type:"history"})}o(ZK,"instrumentRoutingWithDefaults");sg.instrumentRoutingWithDefaults=ZK});var T0=x(wi=>{Object.defineProperty(wi,"__esModule",{value:!0});var _n=je(),ko=Ae(),QK=nu(),eU=tu(),tU=Gn(),S0=Vn(),rU=c0(),nU=y0(),du=og(),iU=x0();wi.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var oU=_n.__assign({idleTimeout:eU.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:wi.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:iU.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},du.defaultRequestInstrumentationOptions),sU=function(){function e(t){this.name=e.id,this._metrics=new nU.MetricsInstrumentation,this._emitOptionsWarning=!1;var r=du.defaultRequestInstrumentationOptions.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&t.tracingOrigins.length!==0?r=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=_n.__assign(_n.__assign(_n.__assign({},oU),t),{tracingOrigins:r})}return o(e,"BrowserTracing"),e.prototype.setupOnce=function(t,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(ko.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),ko.logger.warn("[Tracing] We added a reasonable default for you: "+du.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,a=i.startTransactionOnLocationChange,u=i.startTransactionOnPageLoad,l=i.markBackgroundTransactions,p=i.traceFetch,d=i.traceXHR,g=i.tracingOrigins,m=i.shouldCreateSpanForRequest;s(function(v){return n._createRouteTransaction(v)},u,a),l&&rU.registerBackgroundTabDetection(),du.instrumentOutgoingRequests({traceFetch:p,traceXHR:d,tracingOrigins:g,shouldCreateSpanForRequest:m})},e.prototype._createRouteTransaction=function(t){var r=this;if(!this._getCurrentHub){ko.logger.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,s=n.idleTimeout,a=n.maxTransactionDuration,u=t.op==="pageload"?E0():void 0,l=_n.__assign(_n.__assign(_n.__assign({},t),u),{trimEnd:!0}),p=typeof i=="function"?i(l):l,d=p===void 0?_n.__assign(_n.__assign({},l),{sampled:!1}):p;d.sampled===!1&&ko.logger.log("[Tracing] Will not send "+d.op+" transaction because of beforeNavigate."),ko.logger.log("[Tracing] Starting "+d.op+" transaction on scope");var g=this._getCurrentHub(),m=ko.getGlobalObject().location,v=QK.startIdleTransaction(g,d,s,!0,{location:m});return v.registerBeforeFinishCallback(function(y,S){r._metrics.addPerformanceEntries(y),aU(S0.secToMs(a),y,S)}),v},e.id="BrowserTracing",e}();wi.BrowserTracing=sU;function E0(){var e=w0("sentry-trace");if(e)return S0.extractTraceparentData(e)}o(E0,"getHeaderContext");wi.getHeaderContext=E0;function w0(e){var t=document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}o(w0,"getMetaContent");wi.getMetaContent=w0;function aU(e,t,r){var n=r-t.startTimestamp,i=r&&(n>e||n<0);i&&(t.setStatus(tU.SpanStatus.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}o(aU,"adjustTransactionDuration")});var ag=x(Js=>{Object.defineProperty(Js,"__esModule",{value:!0});var cU=T0();Js.BrowserTracing=cU.BrowserTracing;var O0=og();Js.instrumentOutgoingRequests=O0.instrumentOutgoingRequests;Js.defaultRequestInstrumentationOptions=O0.defaultRequestInstrumentationOptions});var I0=x(ug=>{Object.defineProperty(ug,"__esModule",{value:!0});var cg=je(),uU=Ae(),lU=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return o(e,"Express"),e.prototype.setupOnce=function(){if(!this._router){uU.logger.error("ExpressIntegration is missing an Express instance");return}dU(this._router,this._methods)},e.id="Express",e}();ug.Express=lU;function C0(e,t){var r=e.length;switch(r){case 2:return function(n,i){var s=i.__sentry_transaction;if(s){var a=s.startChild({description:e.name,op:"middleware."+t});i.once("finish",function(){a.finish()})}return e.call(this,n,i)};case 3:return function(n,i,s){var a,u=i.__sentry_transaction,l=(a=u)===null||a===void 0?void 0:a.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var g;(g=l)===null||g===void 0||g.finish(),s.call.apply(s,cg.__spread([this],p))})};case 4:return function(n,i,s,a){var u,l=s.__sentry_transaction,p=(u=l)===null||u===void 0?void 0:u.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,s,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];var m;(m=p)===null||m===void 0||m.finish(),a.call.apply(a,cg.__spread([this],d))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}o(C0,"wrap");function pU(e,t){return e.map(function(r){return typeof r=="function"?C0(r,t):Array.isArray(r)?r.map(function(n){return typeof n=="function"?C0(n,t):n}):r})}o(pU,"wrapMiddlewareArgs");function fU(e,t){var r=e[t];return e[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,cg.__spread([this],pU(n,t)))},e}o(fU,"patchMiddleware");function dU(e,t){t===void 0&&(t=[]),t.forEach(function(r){return fU(e,r)})}o(dU,"instrumentMiddlewares")});var k0=x(lg=>{Object.defineProperty(lg,"__esModule",{value:!0});var gu=Ae(),gU=function(){function e(){this.name=e.id}return o(e,"Postgres"),e.prototype.setupOnce=function(t,r){var n=gu.loadModule("pg");if(!n){gu.logger.error("Postgres Integration was unable to require `pg` package.");return}gu.fill(n.Client.prototype,"query",function(i){return function(s,a,u){var l,p,d,g=r().getScope(),m=(l=g)===null||l===void 0?void 0:l.getSpan(),v=(p=m)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof u=="function")return i.call(this,s,a,function(S,E){var T;(T=v)===null||T===void 0||T.finish(),u(S,E)});if(typeof a=="function")return i.call(this,s,function(S,E){var T;(T=v)===null||T===void 0||T.finish(),a(S,E)});var y=typeof a!="undefined"?i.call(this,s,a):i.call(this,s);return gu.isThenable(y)?y.then(function(S){var E;return(E=v)===null||E===void 0||E.finish(),S}):((d=v)===null||d===void 0||d.finish(),y)}})},e.id="Postgres",e}();lg.Postgres=gU});var A0=x(fg=>{Object.defineProperty(fg,"__esModule",{value:!0});var pg=Ae(),hU=function(){function e(){this.name=e.id}return o(e,"Mysql"),e.prototype.setupOnce=function(t,r){var n=pg.loadModule("mysql/lib/Connection.js");if(!n){pg.logger.error("Mysql Integration was unable to require `mysql` package.");return}pg.fill(n,"createQuery",function(i){return function(s,a,u){var l,p,d=r().getScope(),g=(l=d)===null||l===void 0?void 0:l.getSpan(),m=(p=g)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof u=="function"?i.call(this,s,a,function(v,y,S){var E;(E=m)===null||E===void 0||E.finish(),u(v,y,S)}):typeof a=="function"?i.call(this,s,function(v,y,S){var E;(E=m)===null||E===void 0||E.finish(),a(v,y,S)}):i.call(this,s,a,u)}})},e.id="Mysql",e}();fg.Mysql=hU});var q0=x(gg=>{Object.defineProperty(gg,"__esModule",{value:!0});var dg=je(),hu=Ae(),mU=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],vU={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},yU=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:mU,this._describeOperations="describeOperations"in t?t.describeOperations:!0,this._useMongoose=!!t.useMongoose}return o(e,"Mongo"),e.prototype.setupOnce=function(t,r){var n=this._useMongoose?"mongoose":"mongodb",i=hu.loadModule(n);if(!i){hu.logger.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},e.prototype._instrumentOperations=function(t,r,n){var i=this;r.forEach(function(s){return i._patchOperation(t,s,n)})},e.prototype._patchOperation=function(t,r,n){if(r in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);hu.fill(t.prototype,r,function(s){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var l,p,d,g,m=a[a.length-1],v=n().getScope(),y=(l=v)===null||l===void 0?void 0:l.getSpan();if(typeof m!="function"||r==="mapReduce"&&a.length===2){var S=(p=y)===null||p===void 0?void 0:p.startChild(i(this,r,a)),E=s.call.apply(s,dg.__spread([this],a));return hu.isThenable(E)?E.then(function(w){var O;return(O=S)===null||O===void 0||O.finish(),w}):((d=S)===null||d===void 0||d.finish(),E)}var T=(g=y)===null||g===void 0?void 0:g.startChild(i(this,r,a.slice(0,-1)));return s.call.apply(s,dg.__spread([this],a.slice(0,-1),[function(w,O){var I;(I=T)===null||I===void 0||I.finish(),m(w,O)}]))}})}},e.prototype._getSpanContextFromOperationArguments=function(t,r,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},s={op:"db",description:r,data:i},a=vU[r],u=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!u)return s;try{if(r==="mapReduce"){var l=dg.__read(n,2),p=l[0],d=l[1];i[a[0]]=typeof p=="string"?p:p.name||"<anonymous>",i[a[1]]=typeof d=="string"?d:d.name||"<anonymous>"}else for(var g=0;g<a.length;g++)i[a[g]]=JSON.stringify(n[g])}catch(m){}return s},e.id="Mongo",e}();gg.Mongo=yU});var j0=x(Ao=>{Object.defineProperty(Ao,"__esModule",{value:!0});var _U=I0();Ao.Express=_U.Express;var bU=k0();Ao.Postgres=bU.Postgres;var xU=A0();Ao.Mysql=xU.Mysql;var SU=q0();Ao.Mongo=SU.Mongo});var N0=x(qt=>{Object.defineProperty(qt,"__esModule",{value:!0});var R0=je(),EU=ag(),M0=nu();qt.addExtensionMethods=M0.addExtensionMethods;var wU=j0(),TU=R0.__assign(R0.__assign({},wU),{BrowserTracing:EU.BrowserTracing});qt.Integrations=TU;var OU=Qc();qt.Span=OU.Span;var CU=eu();qt.Transaction=CU.Transaction;var P0=ag();qt.registerRequestInstrumentation=P0.instrumentOutgoingRequests;qt.defaultRequestInstrumentationOptions=P0.defaultRequestInstrumentationOptions;var IU=Gn();qt.SpanStatus=IU.SpanStatus;var kU=tu();qt.IdleTransaction=kU.IdleTransaction;var AU=nu();qt.startIdleTransaction=AU.startIdleTransaction;M0.addExtensionMethods();var Gs=Vn();qt.extractTraceparentData=Gs.extractTraceparentData;qt.getActiveTransaction=Gs.getActiveTransaction;qt.hasTracingEnabled=Gs.hasTracingEnabled;qt.stripUrlQueryAndFragment=Gs.stripUrlQueryAndFragment;qt.TRACEPARENT_REGEXP=Gs.TRACEPARENT_REGEXP});var D0=x(hg=>{"use strict";hg.parse=MU;hg.serialize=PU;var qU=decodeURIComponent,jU=encodeURIComponent,RU=/; */,mu=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function MU(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},i=e.split(RU),s=n.decode||qU,a=0;a<i.length;a++){var u=i[a],l=u.indexOf("=");if(!(l<0)){var p=u.substr(0,l).trim(),d=u.substr(++l,u.length).trim();d[0]=='"'&&(d=d.slice(1,-1)),r[p]==null&&(r[p]=NU(d,s))}}return r}o(MU,"parse");function PU(e,t,r){var n=r||{},i=n.encode||jU;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!mu.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!mu.test(s))throw new TypeError("argument val is invalid");var a=e+"="+s;if(n.maxAge!=null){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(u)}if(n.domain){if(!mu.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!mu.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var l=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}o(PU,"serialize");function NU(e,t){try{return t(e)}catch(r){return e}}o(NU,"tryDecode")});var K0=x(Oi=>{Object.defineProperty(Oi,"__esModule",{value:!0});var Yr=je(),Ti=Et(),DU=N0(),L0=Nt(),qo=Ae(),LU=D0(),BU=require("domain"),KU=require("os"),UU=require("url"),Vs=Dd();function FU(){return o(function(t,r,n){var i;t.headers&&qo.isString(t.headers["sentry-trace"])&&(i=DU.extractTraceparentData(t.headers["sentry-trace"]));var s=Ti.startTransaction(Yr.__assign({name:vu(t,{path:!0,method:!0}),op:"http.server"},i),{request:yu(t)});Ti.getCurrentHub().configureScope(function(a){a.setSpan(s)}),r.__sentry_transaction=s,r.once("finish",function(){setImmediate(function(){HU(s,t),s.setHttpStatus(r.statusCode),s.finish()})}),n()},"sentryTracingMiddleware")}o(FU,"tracingHandler");Oi.tracingHandler=FU;function HU(e,t){!e||(e.name=vu(t,{path:!0,method:!0}),e.setData("url",t.originalUrl),e.setData("baseUrl",t.baseUrl),e.setData("query",t.query))}o(HU,"addExpressReqToTransaction");function vu(e,t){t===void 0&&(t={});var r,n=(r=e.method)===null||r===void 0?void 0:r.toUpperCase(),i="";e.route?i=""+(e.baseUrl||"")+e.route.path:(e.originalUrl||e.url)&&(i=qo.stripUrlQueryAndFragment(e.originalUrl||e.url||""));var s="";return t.method&&n&&(s+=n),t.method&&t.path&&(s+=" "),t.path&&i&&(s+=i),s}o(vu,"extractExpressTransactionName");function zU(e,t){var r;switch(t){case"path":return vu(e,{path:!0});case"handler":return((r=e.route)===null||r===void 0?void 0:r.stack[0].name)||"<anonymous>";case"methodPath":default:return vu(e,{path:!0,method:!0})}}o(zU,"extractTransaction");var $U=["id","username","email"];function WU(e,t){var r={},n=Array.isArray(t)?t:$U;return n.forEach(function(i){e&&i in e&&(r[i]=e[i])}),r}o(WU,"extractUserData");var JU=["cookies","data","headers","method","query_string","url"];function yu(e,t){t===void 0&&(t=JU);var r={},n=e.headers||e.header||{},i=e.method,s=e.hostname||e.host||n.host||"<no host>",a=e.protocol==="https"||e.secure||(e.socket||{}).encrypted?"https":"http",u=e.originalUrl||e.url||"",l=a+"://"+s+u;return t.forEach(function(p){switch(p){case"headers":r.headers=n;break;case"method":r.method=i;break;case"url":r.url=l;break;case"cookies":r.cookies=e.cookies||LU.parse(n.cookie||"");break;case"query_string":r.query_string=e.query||UU.parse(u||"",!1).query;break;case"data":if(i==="GET"||i==="HEAD")break;e.body!==void 0&&(r.data=qo.isString(e.body)?e.body:JSON.stringify(qo.normalize(e.body)));break;default:({}).hasOwnProperty.call(e,p)&&(r[p]=e[p])}}),r}o(yu,"extractRequestData");Oi.extractRequestData=yu;function B0(e,t,r){if(r=Yr.__assign({ip:!1,request:!0,serverName:!0,transaction:!0,user:!0,version:!0},r),r.version&&(e.contexts=Yr.__assign(Yr.__assign({},e.contexts),{runtime:{name:"node",version:global.process.version}})),r.request){var n=Array.isArray(r.request)?yu(t,r.request):yu(t);e.request=Yr.__assign(Yr.__assign({},e.request),n)}if(r.serverName&&!e.server_name&&(e.server_name=global.process.env.SENTRY_NAME||KU.hostname()),r.user){var i=t.user&&qo.isPlainObject(t.user)?WU(t.user,r.user):{};Object.keys(i)&&(e.user=Yr.__assign(Yr.__assign({},e.user),i))}if(r.ip){var s=t.ip||t.connection&&t.connection.remoteAddress;s&&(e.user=Yr.__assign(Yr.__assign({},e.user),{ip_address:s}))}return r.transaction&&!e.transaction&&(e.transaction=zU(t,r.transaction)),e}o(B0,"parseRequest");Oi.parseRequest=B0;function GU(e){var t=Ti.getCurrentHub(),r=t.getClient();if(r&&Vs.isAutoSessionTrackingEnabled(r)){r.initSessionFlusher();var n=t.getScope();n&&n.getSession()&&n.setSession()}return o(function(s,a,u){if(e&&e.flushTimeout&&e.flushTimeout>0){var l=a.end;a.end=function(d,g,m){var v=this;Vs.flush(e.flushTimeout).then(function(){l.call(v,d,g,m)}).then(null,function(y){qo.logger.error(y)})}}var p=BU.create();p.add(s),p.add(a),p.on("error",u),p.run(function(){var d=Ti.getCurrentHub();d.configureScope(function(g){g.addEventProcessor(function(y){return B0(y,s,e)});var m=d.getClient();if(Vs.isAutoSessionTrackingEnabled(m)){var v=d.getScope();v&&v.setRequestSession({status:L0.RequestSessionStatus.Ok})}}),a.once("finish",function(){var g=d.getClient();Vs.isAutoSessionTrackingEnabled(g)&&setImmediate(function(){g&&g._captureRequestSession&&g._captureRequestSession()})}),u()})},"sentryRequestMiddleware")}o(GU,"requestHandler");Oi.requestHandler=GU;function VU(e){var t=e.status||e.statusCode||e.status_code||e.output&&e.output.statusCode;return t?parseInt(t,10):500}o(VU,"getStatusCodeFromResponse");function YU(e){var t=VU(e);return t>=500}o(YU,"defaultShouldHandleError");function XU(e){return o(function(r,n,i,s){var a=e&&e.shouldHandleError||YU;if(a(r)){Ti.withScope(function(u){var l=i.__sentry_transaction;l&&u.getSpan()===void 0&&u.setSpan(l);var p=Ti.getCurrentHub().getClient();if(p&&Vs.isAutoSessionTrackingEnabled(p)){var d=p._sessionFlusher!==void 0;if(d){var g=u.getRequestSession();g&&g.status!==void 0&&(g.status=L0.RequestSessionStatus.Crashed)}}var m=Ti.captureException(r);i.sentry=m,s(r)});return}s(r)},"sentryErrorMiddleware")}o(XU,"errorHandler");Oi.errorHandler=XU});var vr=x(Re=>{Object.defineProperty(Re,"__esModule",{value:!0});var U0=je(),F0=Nt();Re.Severity=F0.Severity;Re.Status=F0.Status;var at=Et();Re.addGlobalEventProcessor=at.addGlobalEventProcessor;Re.addBreadcrumb=at.addBreadcrumb;Re.captureException=at.captureException;Re.captureEvent=at.captureEvent;Re.captureMessage=at.captureMessage;Re.configureScope=at.configureScope;Re.getHubFromCarrier=at.getHubFromCarrier;Re.getCurrentHub=at.getCurrentHub;Re.Hub=at.Hub;Re.makeMain=at.makeMain;Re.Scope=at.Scope;Re.startTransaction=at.startTransaction;Re.SDK_VERSION=at.SDK_VERSION;Re.setContext=at.setContext;Re.setExtra=at.setExtra;Re.setExtras=at.setExtras;Re.setTag=at.setTag;Re.setTags=at.setTags;Re.setUser=at.setUser;Re.withScope=at.withScope;var ZU=_d();Re.NodeBackend=ZU.NodeBackend;var QU=Sd();Re.NodeClient=QU.NodeClient;var jo=Dd();Re.defaultIntegrations=jo.defaultIntegrations;Re.init=jo.init;Re.lastEventId=jo.lastEventId;Re.flush=jo.flush;Re.close=jo.close;Re.getSentryRelease=jo.getSentryRelease;var eF=Jw();Re.deepReadDirSync=eF.deepReadDirSync;var tF=td();Re.SDK_NAME=tF.SDK_NAME;var rF=Et(),nF=er(),iF=require("domain"),oF=K0();Re.Handlers=oF;var sF=Nd(),aF=vd();Re.Transports=aF;var cF=U0.__assign(U0.__assign({},rF.Integrations),sF);Re.Integrations=cF;var Ys=nF.getMainCarrier();Ys.__SENTRY__&&(Ys.__SENTRY__.extensions=Ys.__SENTRY__.extensions||{},Ys.__SENTRY__.extensions.domain=Ys.__SENTRY__.extensions.domain||iF)});var H0=x(mg=>{Object.defineProperty(mg,"__esModule",{value:!0});function uF(e){e.then(null,function(t){console.error(t)})}o(uF,"forget");mg.forget=uF});var Ci=x(Bt=>{Object.defineProperty(Bt,"__esModule",{value:!0});function lF(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return _u(e,Error)}}o(lF,"isError");Bt.isError=lF;function pF(e){return Object.prototype.toString.call(e)==="[object ErrorEvent]"}o(pF,"isErrorEvent");Bt.isErrorEvent=pF;function fF(e){return Object.prototype.toString.call(e)==="[object DOMError]"}o(fF,"isDOMError");Bt.isDOMError=fF;function dF(e){return Object.prototype.toString.call(e)==="[object DOMException]"}o(dF,"isDOMException");Bt.isDOMException=dF;function gF(e){return Object.prototype.toString.call(e)==="[object String]"}o(gF,"isString");Bt.isString=gF;function hF(e){return e===null||typeof e!="object"&&typeof e!="function"}o(hF,"isPrimitive");Bt.isPrimitive=hF;function z0(e){return Object.prototype.toString.call(e)==="[object Object]"}o(z0,"isPlainObject");Bt.isPlainObject=z0;function mF(e){return typeof Event!="undefined"&&_u(e,Event)}o(mF,"isEvent");Bt.isEvent=mF;function vF(e){return typeof Element!="undefined"&&_u(e,Element)}o(vF,"isElement");Bt.isElement=vF;function yF(e){return Object.prototype.toString.call(e)==="[object RegExp]"}o(yF,"isRegExp");Bt.isRegExp=yF;function _F(e){return Boolean(e&&e.then&&typeof e.then=="function")}o(_F,"isThenable");Bt.isThenable=_F;function bF(e){return z0(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}o(bF,"isSyntheticEvent");Bt.isSyntheticEvent=bF;function _u(e,t){try{return e instanceof t}catch(r){return!1}}o(_u,"isInstanceOf");Bt.isInstanceOf=_u});var yg=x(vg=>{Object.defineProperty(vg,"__esModule",{value:!0});var xF=Ci();function SF(e,t){try{for(var r=e,n=5,i=80,s=[],a=0,u=0,l=" > ",p=l.length,d=void 0;r&&a++<n&&(d=EF(r,t),!(d==="html"||a>1&&u+s.length*p+d.length>=i));)s.push(d),u+=d.length,r=r.parentNode;return s.reverse().join(l)}catch(g){return"<unknown>"}}o(SF,"htmlTreeAsString");vg.htmlTreeAsString=SF;function EF(e,t){var r,n,i=e,s=[],a,u,l,p,d;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var g=((r=t)===null||r===void 0?void 0:r.length)?t.filter(function(v){return i.getAttribute(v)}).map(function(v){return[v,i.getAttribute(v)]}):null;if((n=g)===null||n===void 0?void 0:n.length)g.forEach(function(v){s.push("["+v[0]+'="'+v[1]+'"]')});else if(i.id&&s.push("#"+i.id),a=i.className,a&&xF.isString(a))for(u=a.split(/\s+/),d=0;d<u.length;d++)s.push("."+u[d]);var m=["type","name","title","alt"];for(d=0;d<m.length;d++)l=m[d],p=i.getAttribute(l),p&&s.push("["+l+'="'+p+'"]');return s.join("")}o(EF,"_htmlElementAsString")});var $0=x(_g=>{Object.defineProperty(_g,"__esModule",{value:!0});_g.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?wF:TF);function wF(e,t){return e.__proto__=t,e}o(wF,"setProtoOf");function TF(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e}o(TF,"mixinProperties")});var bu=x(bg=>{Object.defineProperty(bg,"__esModule",{value:!0});var OF=nt(),CF=$0(),IF=function(e){OF.__extends(t,e);function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,CF.setPrototypeOf(i,n.prototype),i}return o(t,"SentryError"),t}(Error);bg.SentryError=IF});var W0=x(xg=>{Object.defineProperty(xg,"__esModule",{value:!0});var kF=nt(),Xs=bu(),AF=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Zs="Invalid Dsn",qF=function(){function e(t){typeof t=="string"?this._fromString(t):this._fromComponents(t),this._validate()}return o(e,"Dsn"),e.prototype.toString=function(t){t===void 0&&(t=!1);var r=this,n=r.host,i=r.path,s=r.pass,a=r.port,u=r.projectId,l=r.protocol,p=r.publicKey;return l+"://"+p+(t&&s?":"+s:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+u)},e.prototype._fromString=function(t){var r=AF.exec(t);if(!r)throw new Xs.SentryError(Zs);var n=kF.__read(r.slice(1),6),i=n[0],s=n[1],a=n[2],u=a===void 0?"":a,l=n[3],p=n[4],d=p===void 0?"":p,g=n[5],m="",v=g,y=v.split("/");if(y.length>1&&(m=y.slice(0,-1).join("/"),v=y.pop()),v){var S=v.match(/^\d+/);S&&(v=S[0])}this._fromComponents({host:l,pass:u,path:m,projectId:v,port:d,protocol:i,publicKey:s})},e.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},e.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!t[r])throw new Xs.SentryError(Zs+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new Xs.SentryError(Zs+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new Xs.SentryError(Zs+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Xs.SentryError(Zs+": Invalid port "+this.port)},e}();xg.Dsn=qF});var Eu=x((Qs,Su)=>{Object.defineProperty(Qs,"__esModule",{value:!0});function jF(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}o(jF,"isNodeEnv");Qs.isNodeEnv=jF;function xu(e,t){return e.require(t)}o(xu,"dynamicRequire");Qs.dynamicRequire=xu;function RF(e){var t;try{t=xu(Su,e)}catch(n){}try{var r=xu(Su,"process").cwd;t=xu(Su,r()+"/node_modules/"+e)}catch(n){}return t}o(RF,"loadModule");Qs.loadModule=RF});var wu=x(Ro=>{Object.defineProperty(Ro,"__esModule",{value:!0});var J0=Ci();function MF(e,t){return t===void 0&&(t=0),typeof e!="string"||t===0||e.length<=t?e:e.substr(0,t)+"..."}o(MF,"truncate");Ro.truncate=MF;function PF(e,t){var r=e,n=r.length;if(n<=150)return r;t>n&&(t=n);var i=Math.max(t-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}o(PF,"snipLine");Ro.snipLine=PF;function NF(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{r.push(String(i))}catch(s){r.push("[value cannot be serialized]")}}return r.join(t)}o(NF,"safeJoin");Ro.safeJoin=NF;function DF(e,t){return J0.isString(e)?J0.isRegExp(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}o(DF,"isMatchingPattern");Ro.isMatchingPattern=DF});var Mo=x(Jt=>{Object.defineProperty(Jt,"__esModule",{value:!0});var LF=Eu(),Sg=wu(),BF={};function Eg(){return LF.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:BF}o(Eg,"getGlobalObject");Jt.getGlobalObject=Eg;function KF(){var e=Eg(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=o(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,a=i==="x"?s:s&3|8;return a.toString(16)})}o(KF,"uuid4");Jt.uuid4=KF;function UF(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}o(UF,"parseUrl");Jt.parseUrl=UF;function FF(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}o(FF,"getEventDescription");Jt.getEventDescription=FF;function HF(e){var t=Eg(),r=["debug","info","warn","error","log","assert"];if(!("console"in t))return e();var n=t.console,i={};r.forEach(function(a){a in t.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var s=e();return Object.keys(i).forEach(function(a){n[a]=i[a]}),s}o(HF,"consoleSandbox");Jt.consoleSandbox=HF;function zF(e,t,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||r||"Error"}o(zF,"addExceptionTypeValue");Jt.addExceptionTypeValue=zF;function $F(e,t){t===void 0&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(r){e.exception.values[0].mechanism[r]=t[r]})}catch(r){}}o($F,"addExceptionMechanism");Jt.addExceptionMechanism=$F;function WF(){try{return document.location.href}catch(e){return""}}o(WF,"getLocationHref");Jt.getLocationHref=WF;var JF=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function GF(e){var t=e.match(JF)||[],r=parseInt(t[1],10),n=parseInt(t[2],10),i=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:t[4]}}o(GF,"parseSemver");Jt.parseSemver=GF;var G0=60*1e3;function VF(e,t){if(!t)return G0;var r=parseInt(""+t,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+t);return isNaN(n)?G0:n-e}o(VF,"parseRetryAfterHeader");Jt.parseRetryAfterHeader=VF;function YF(e,t,r){r===void 0&&(r=5);var n=t.lineno||0,i=e.length,s=Math.max(Math.min(i,n-1),0);t.pre_context=e.slice(Math.max(0,s-r),s).map(function(a){return Sg.snipLine(a,0)}),t.context_line=Sg.snipLine(e[Math.min(i-1,s)],t.colno||0),t.post_context=e.slice(Math.min(s+1,i),s+1+r).map(function(a){return Sg.snipLine(a,0)})}o(YF,"addContextToFrame");Jt.addContextToFrame=YF;function XF(e){return e.split(/[\?#]/,1)[0]}o(XF,"stripUrlQueryAndFragment");Jt.stripUrlQueryAndFragment=XF});var Ou=x(Tg=>{Object.defineProperty(Tg,"__esModule",{value:!0});var Tu=Mo(),Ii=Tu.getGlobalObject(),wg="Sentry Logger ",ZF=function(){function e(){this._enabled=!1}return o(e,"Logger"),e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Tu.consoleSandbox(function(){Ii.console.log(wg+"[Log]: "+t.join(" "))})},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Tu.consoleSandbox(function(){Ii.console.warn(wg+"[Warn]: "+t.join(" "))})},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Tu.consoleSandbox(function(){Ii.console.error(wg+"[Error]: "+t.join(" "))})},e}();Ii.__SENTRY__=Ii.__SENTRY__||{};var QF=Ii.__SENTRY__.logger||(Ii.__SENTRY__.logger=new ZF);Tg.logger=QF});var Cg=x(Og=>{Object.defineProperty(Og,"__esModule",{value:!0});var eH=function(){function e(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return o(e,"Memo"),e.prototype.memoize=function(t){if(this._hasWeakSet)return this._inner.has(t)?!0:(this._inner.add(t),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===t)return!0}return this._inner.push(t),!1},e.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===t){this._inner.splice(r,1);break}},e}();Og.Memo=eH});var Cu=x(kg=>{Object.defineProperty(kg,"__esModule",{value:!0});var Ig="<anonymous>";function tH(e){try{return!e||typeof e!="function"?Ig:e.name||Ig}catch(t){return Ig}}o(tH,"getFunctionName");kg.getFunctionName=tH});var jg=x(xn=>{Object.defineProperty(xn,"__esModule",{value:!0});var rH=nt(),V0=yg(),bn=Ci(),nH=Cg(),iH=Cu(),Y0=wu();function oH(e,t,r){if(t in e){var n=e[t],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(s){}e[t]=i}}o(oH,"fill");xn.fill=oH;function sH(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}o(sH,"urlEncode");xn.urlEncode=sH;function X0(e){if(bn.isError(e)){var t=e,r={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(bn.isEvent(e)){var i=e,s={};s.type=i.type;try{s.target=bn.isElement(i.target)?V0.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(a){s.target="<unknown>"}try{s.currentTarget=bn.isElement(i.currentTarget)?V0.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(a){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&bn.isInstanceOf(e,CustomEvent)&&(s.detail=i.detail);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i);return s}return e}o(X0,"getWalkSource");function aH(e){return~-encodeURI(e).split(/%..|./).length}o(aH,"utf8Length");function cH(e){return aH(JSON.stringify(e))}o(cH,"jsonSize");function Z0(e,t,r){t===void 0&&(t=3),r===void 0&&(r=100*1024);var n=eT(e,t);return cH(n)>r?Z0(e,t-1,r):n}o(Z0,"normalizeToSize");xn.normalizeToSize=Z0;function uH(e){var t=Object.prototype.toString.call(e);if(typeof e=="string")return e;if(t==="[object Object]")return"[Object]";if(t==="[object Array]")return"[Array]";var r=Q0(e);return bn.isPrimitive(r)?r:t}o(uH,"serializeValue");function Q0(e,t){return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":bn.isSyntheticEvent(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+iH.getFunctionName(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":e}o(Q0,"normalizeValue");function Ag(e,t,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new nH.Memo),r===0)return uH(t);if(t!=null&&typeof t.toJSON=="function")return t.toJSON();var i=Q0(t,e);if(bn.isPrimitive(i))return i;var s=X0(t),a=Array.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var u in s)!Object.prototype.hasOwnProperty.call(s,u)||(a[u]=Ag(u,s[u],r-1,n));return n.unmemoize(t),a}o(Ag,"walk");xn.walk=Ag;function eT(e,t){try{return JSON.parse(JSON.stringify(e,function(r,n){return Ag(r,n,t)}))}catch(r){return"**non-serializable**"}}o(eT,"normalize");xn.normalize=eT;function lH(e,t){t===void 0&&(t=40);var r=Object.keys(X0(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return Y0.truncate(r[0],t);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length?i:Y0.truncate(i,t)}return""}o(lH,"extractExceptionKeysForMessage");xn.extractExceptionKeysForMessage=lH;function qg(e){var t,r;if(bn.isPlainObject(e)){var n=e,i={};try{for(var s=rH.__values(Object.keys(n)),a=s.next();!a.done;a=s.next()){var u=a.value;typeof n[u]!="undefined"&&(i[u]=qg(n[u]))}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(qg):e}o(qg,"dropUndefinedKeys");xn.dropUndefinedKeys=qg});var Pg=x(Rr=>{Object.defineProperty(Rr,"__esModule",{value:!0});var pH=Ou(),Iu=Mo();function fH(){try{return new ErrorEvent(""),!0}catch(e){return!1}}o(fH,"supportsErrorEvent");Rr.supportsErrorEvent=fH;function dH(){try{return new DOMError(""),!0}catch(e){return!1}}o(dH,"supportsDOMError");Rr.supportsDOMError=dH;function gH(){try{return new DOMException(""),!0}catch(e){return!1}}o(gH,"supportsDOMException");Rr.supportsDOMException=gH;function Rg(){if(!("fetch"in Iu.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}o(Rg,"supportsFetch");Rr.supportsFetch=Rg;function Mg(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}o(Mg,"isNativeFetch");Rr.isNativeFetch=Mg;function hH(){if(!Rg())return!1;var e=Iu.getGlobalObject();if(Mg(e.fetch))return!0;var t=!1,r=e.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Mg(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){pH.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}o(hH,"supportsNativeFetch");Rr.supportsNativeFetch=hH;function mH(){return"ReportingObserver"in Iu.getGlobalObject()}o(mH,"supportsReportingObserver");Rr.supportsReportingObserver=mH;function vH(){if(!Rg())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}o(vH,"supportsReferrerPolicy");Rr.supportsReferrerPolicy=vH;function yH(){var e=Iu.getGlobalObject(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}o(yH,"supportsHistory");Rr.supportsHistory=yH});var oT=x(Lg=>{Object.defineProperty(Lg,"__esModule",{value:!0});var Po=nt(),ku=Ci(),tT=Ou(),_H=Mo(),Sn=jg(),bH=Cu(),rT=Pg(),Xe=_H.getGlobalObject(),ea={},nT={};function xH(e){if(!nT[e])switch(nT[e]=!0,e){case"console":EH();break;case"dom":jH();break;case"xhr":CH();break;case"fetch":wH();break;case"history":IH();break;case"error":RH();break;case"unhandledrejection":MH();break;default:tT.logger.warn("unknown instrumentation type:",e)}}o(xH,"instrument");function SH(e){!e||typeof e.type!="string"||typeof e.callback!="function"||(ea[e.type]=ea[e.type]||[],ea[e.type].push(e.callback),xH(e.type))}o(SH,"addInstrumentationHandler");Lg.addInstrumentationHandler=SH;function Mr(e,t){var r,n;if(!(!e||!ea[e]))try{for(var i=Po.__values(ea[e]||[]),s=i.next();!s.done;s=i.next()){var a=s.value;try{a(t)}catch(u){tT.logger.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+bH.getFunctionName(a)+`
Error: `+u)}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}o(Mr,"triggerHandlers");function EH(){"console"in Xe&&["debug","info","warn","error","log","assert"].forEach(function(e){e in Xe.console&&Sn.fill(Xe.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Mr("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,Xe.console,r)}})})}o(EH,"instrumentConsole");function wH(){!rT.supportsNativeFetch()||Sn.fill(Xe,"fetch",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:TH(t),url:OH(t)},startTimestamp:Date.now()};return Mr("fetch",Po.__assign({},n)),e.apply(Xe,t).then(function(i){return Mr("fetch",Po.__assign(Po.__assign({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw Mr("fetch",Po.__assign(Po.__assign({},n),{endTimestamp:Date.now(),error:i})),i})}})}o(wH,"instrumentFetch");function TH(e){return e===void 0&&(e=[]),"Request"in Xe&&ku.isInstanceOf(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}o(TH,"getFetchMethod");function OH(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in Xe&&ku.isInstanceOf(e[0],Request)?e[0].url:String(e[0])}o(OH,"getFetchUrl");function CH(){if("XMLHttpRequest"in Xe){var e=[],t=[],r=XMLHttpRequest.prototype;Sn.fill(r,"open",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=this,u=i[1];a.__sentry_xhr__={method:ku.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},ku.isString(u)&&a.__sentry_xhr__.method==="POST"&&u.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var l=o(function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(g){}try{var p=e.indexOf(a);if(p!==-1){e.splice(p);var d=t.splice(p)[0];a.__sentry_xhr__&&d[0]!==void 0&&(a.__sentry_xhr__.body=d[0])}}catch(g){}Mr("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}},"onreadystatechangeHandler");return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?Sn.fill(a,"onreadystatechange",function(p){return function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return l(),p.apply(a,d)}}):a.addEventListener("readystatechange",l),n.apply(a,i)}}),Sn.fill(r,"send",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return e.push(this),t.push(i),Mr("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}o(CH,"instrumentXHR");var Au;function IH(){if(!rT.supportsHistory())return;var e=Xe.onpopstate;Xe.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=Xe.location.href,s=Au;if(Au=i,Mr("history",{from:s,to:i}),e)try{return e.apply(this,r)}catch(a){}};function t(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var a=Au,u=String(s);Au=u,Mr("history",{from:a,to:u})}return r.apply(this,n)}}o(t,"historyReplacementFunction"),Sn.fill(Xe.history,"pushState",t),Sn.fill(Xe.history,"replaceState",t)}o(IH,"instrumentHistory");var kH=1e3,qu,ju;function AH(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(r){}return!1}o(AH,"shouldShortcircuitPreviousDebounce");function qH(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch(r){}return!0}o(qH,"shouldSkipDOMEvent");function iT(e,t){return t===void 0&&(t=!1),function(r){if(!(!r||ju===r)&&!qH(r)){var n=r.type==="keypress"?"input":r.type;qu===void 0?(e({event:r,name:n,global:t}),ju=r):AH(ju,r)&&(e({event:r,name:n,global:t}),ju=r),clearTimeout(qu),qu=Xe.setTimeout(function(){qu=void 0},kH)}}}o(iT,"makeDOMEventHandler");function jH(){if("document"in Xe){var e=Mr.bind(null,"dom"),t=iT(e,!0);Xe.document.addEventListener("click",t,!1),Xe.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(r){var n=Xe[r]&&Xe[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Sn.fill(n,"addEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var l=this,p=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},d=p[s]=p[s]||{refCount:0};if(!d.handler){var g=iT(e);d.handler=g,i.call(this,s,g,u)}d.refCount+=1}catch(m){}return i.call(this,s,a,u)}}),Sn.fill(n,"removeEventListener",function(i){return function(s,a,u){if(s==="click"||s=="keypress")try{var l=this,p=l.__sentry_instrumentation_handlers__||{},d=p[s];d&&(d.refCount-=1,d.refCount<=0&&(i.call(this,s,d.handler,u),d.handler=void 0,delete p[s]),Object.keys(p).length===0&&delete l.__sentry_instrumentation_handlers__)}catch(g){}return i.call(this,s,a,u)}}))})}}o(jH,"instrumentDOM");var Ng=null;function RH(){Ng=Xe.onerror,Xe.onerror=function(e,t,r,n,i){return Mr("error",{column:n,error:i,line:r,msg:e,url:t}),Ng?Ng.apply(this,arguments):!1}}o(RH,"instrumentError");var Dg=null;function MH(){Dg=Xe.onunhandledrejection,Xe.onunhandledrejection=function(e){return Mr("unhandledrejection",e),Dg?Dg.apply(this,arguments):!0}}o(MH,"instrumentUnhandledRejection")});var pT=x(En=>{Object.defineProperty(En,"__esModule",{value:!0});function sT(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];i==="."?e.splice(n,1):i===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}o(sT,"normalizeArray");var PH=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function aT(e){var t=PH.exec(e);return t?t.slice(1):[]}o(aT,"splitPath");function Bg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r="",n=!1,i=e.length-1;i>=-1&&!n;i--){var s=i>=0?e[i]:"/";!s||(r=s+"/"+r,n=s.charAt(0)==="/")}return r=sT(r.split("/").filter(function(a){return!!a}),!n).join("/"),(n?"/":"")+r||"."}o(Bg,"resolve");En.resolve=Bg;function cT(e){for(var t=0;t<e.length&&e[t]==="";t++);for(var r=e.length-1;r>=0&&e[r]==="";r--);return t>r?[]:e.slice(t,r-t+1)}o(cT,"trim");function NH(e,t){e=Bg(e).substr(1),t=Bg(t).substr(1);for(var r=cT(e.split("/")),n=cT(t.split("/")),i=Math.min(r.length,n.length),s=i,a=0;a<i;a++)if(r[a]!==n[a]){s=a;break}for(var u=[],a=s;a<r.length;a++)u.push("..");return u=u.concat(n.slice(s)),u.join("/")}o(NH,"relative");En.relative=NH;function uT(e){var t=lT(e),r=e.substr(-1)==="/",n=sT(e.split("/").filter(function(i){return!!i}),!t).join("/");return!n&&!t&&(n="."),n&&r&&(n+="/"),(t?"/":"")+n}o(uT,"normalizePath");En.normalizePath=uT;function lT(e){return e.charAt(0)==="/"}o(lT,"isAbsolute");En.isAbsolute=lT;function DH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return uT(e.join("/"))}o(DH,"join");En.join=DH;function LH(e){var t=aT(e),r=t[0],n=t[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}o(LH,"dirname");En.dirname=LH;function BH(e,t){var r=aT(e)[2];return t&&r.substr(t.length*-1)===t&&(r=r.substr(0,r.length-t.length)),r}o(BH,"basename");En.basename=BH});var Ug=x(Kg=>{Object.defineProperty(Kg,"__esModule",{value:!0});var KH=Ci(),wn;(function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"})(wn||(wn={}));var UH=function(){function e(t){var r=this;this._state=wn.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(wn.RESOLVED,n)},this._reject=function(n){r._setResult(wn.REJECTED,n)},this._setResult=function(n,i){if(r._state===wn.PENDING){if(KH.isThenable(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==wn.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===wn.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===wn.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return o(e,"SyncPromise"),e.resolve=function(t){return new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){return new e(function(r,n){if(!Array.isArray(t)){n(new TypeError("Promise.all requires an array as input."));return}if(t.length===0){r([]);return}var i=t.length,s=[];t.forEach(function(a,u){e.resolve(a).then(function(l){s[u]=l,i-=1,i===0&&r(s)}).then(null,n)})})},e.prototype.then=function(t,r){var n=this;return new e(function(i,s){n._attachHandler({done:!1,onfulfilled:function(a){if(!t){i(a);return}try{i(t(a));return}catch(u){s(u);return}},onrejected:function(a){if(!r){s(a);return}try{i(r(a));return}catch(u){s(u);return}}})})},e.prototype.catch=function(t){return this.then(function(r){return r},t)},e.prototype.finally=function(t){var r=this;return new e(function(n,i){var s,a;return r.then(function(u){a=!1,s=u,t&&t()},function(u){a=!0,s=u,t&&t()}).then(function(){if(a){i(s);return}n(s)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}();Kg.SyncPromise=UH});var fT=x(Hg=>{Object.defineProperty(Hg,"__esModule",{value:!0});var FH=bu(),Fg=Ug(),HH=function(){function e(t){this._limit=t,this._buffer=[]}return o(e,"PromiseBuffer"),e.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},e.prototype.add=function(t){var r=this;if(!this.isReady())return Fg.SyncPromise.reject(new FH.SentryError("Not adding Promise due to buffer limit reached."));var n=t();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},e.prototype.remove=function(t){var r=this._buffer.splice(this._buffer.indexOf(t),1)[0];return r},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(t){var r=this;return new Fg.SyncPromise(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);Fg.SyncPromise.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},e}();Hg.PromiseBuffer=HH});var vT=x((yr,mT)=>{Object.defineProperty(yr,"__esModule",{value:!0});var dT=Mo(),gT=Eu(),zg={nowSeconds:function(){return Date.now()/1e3}};function zH(){var e=dT.getGlobalObject().performance;if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:t}}}o(zH,"getBrowserPerformance");function $H(){try{var e=gT.dynamicRequire(mT,"perf_hooks");return e.performance}catch(t){return}}o($H,"getNodePerformance");var Ru=gT.isNodeEnv()?$H():zH(),hT=Ru===void 0?zg:{nowSeconds:function(){return(Ru.timeOrigin+Ru.now())/1e3}};yr.dateTimestampInSeconds=zg.nowSeconds.bind(zg);yr.timestampInSeconds=hT.nowSeconds.bind(hT);yr.timestampWithMs=yr.timestampInSeconds;yr.usingPerformanceAPI=Ru!==void 0;yr.browserPerformanceTimeOrigin=function(){var e=dT.getGlobalObject().performance;if(!e||!e.now){yr._browserPerformanceTimeOriginMode="none";return}var t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=i<t,a=e.timing&&e.timing.navigationStart,u=typeof a=="number",l=u?Math.abs(a+r-n):t,p=l<t;return s||p?i<=l?(yr._browserPerformanceTimeOriginMode="timeOrigin",e.timeOrigin):(yr._browserPerformanceTimeOriginMode="navigationStart",a):(yr._browserPerformanceTimeOriginMode="dateNow",n)}()});var Ke=x(ct=>{Object.defineProperty(ct,"__esModule",{value:!0});var ht=nt();ht.__exportStar(H0(),ct);ht.__exportStar(yg(),ct);ht.__exportStar(W0(),ct);ht.__exportStar(bu(),ct);ht.__exportStar(oT(),ct);ht.__exportStar(Ci(),ct);ht.__exportStar(Ou(),ct);ht.__exportStar(Cg(),ct);ht.__exportStar(Mo(),ct);ht.__exportStar(Eu(),ct);ht.__exportStar(jg(),ct);ht.__exportStar(pT(),ct);ht.__exportStar(fT(),ct);ht.__exportStar(Cu(),ct);ht.__exportStar(wu(),ct);ht.__exportStar(Pg(),ct);ht.__exportStar(Ug(),ct);ht.__exportStar(vT(),ct)});var $g=x(Mu=>{Object.defineProperty(Mu,"__esModule",{value:!0});var Ce=nt(),ta=Ke(),yT=100,WH=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return o(e,"Scope"),e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=Ce.__spread(t._breadcrumbs),r._tags=Ce.__assign({},t._tags),r._extra=Ce.__assign({},t._extra),r._contexts=Ce.__assign({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=Ce.__spread(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(t){return this._requestSession=t,this},e.prototype.setTags=function(t){return this._tags=Ce.__assign(Ce.__assign({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,r){var n;return this._tags=Ce.__assign(Ce.__assign({},this._tags),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=Ce.__assign(Ce.__assign({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,r){var n;return this._extra=Ce.__assign(Ce.__assign({},this._extra),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,r){var n;return r===null?delete this._contexts[t]:this._contexts=Ce.__assign(Ce.__assign({},this._contexts),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t,r,n,i,s=this.getSpan();if((t=s)===null||t===void 0?void 0:t.transaction)return(r=s)===null||r===void 0?void 0:r.transaction;if((i=(n=s)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if(typeof t=="function"){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=Ce.__assign(Ce.__assign({},this._tags),t._tags),this._extra=Ce.__assign(Ce.__assign({},this._extra),t._extra),this._contexts=Ce.__assign(Ce.__assign({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):ta.isPlainObject(t)&&(t=t,this._tags=Ce.__assign(Ce.__assign({},this._tags),t.tags),this._extra=Ce.__assign(Ce.__assign({},this._extra),t.extra),this._contexts=Ce.__assign(Ce.__assign({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,r){var n=typeof r=="number"?Math.min(r,yT):yT;if(n<=0)return this;var i=Ce.__assign({timestamp:ta.dateTimestampInSeconds()},t);return this._breadcrumbs=Ce.__spread(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,r){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Ce.__assign(Ce.__assign({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Ce.__assign(Ce.__assign({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Ce.__assign(Ce.__assign({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Ce.__assign(Ce.__assign({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Ce.__assign({trace:this._span.getTraceContext()},t.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(t.tags=Ce.__assign({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Ce.__spread(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Ce.__spread(_T(),this._eventProcessors),t,r)},e.prototype._notifyEventProcessors=function(t,r,n,i){var s=this;return i===void 0&&(i=0),new ta.SyncPromise(function(a,u){var l=t[i];if(r===null||typeof l!="function")a(r);else{var p=l(Ce.__assign({},r),n);ta.isThenable(p)?p.then(function(d){return s._notifyEventProcessors(t,d,n,i+1).then(a)}).then(null,u):s._notifyEventProcessors(t,p,n,i+1).then(a).then(null,u)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();Mu.Scope=WH;function _T(){var e=ta.getGlobalObject();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}o(_T,"getGlobalEventProcessors");function JH(e){_T().push(e)}o(JH,"addGlobalEventProcessor");Mu.addGlobalEventProcessor=JH});var bT=x(Pu=>{Object.defineProperty(Pu,"__esModule",{value:!0});var GH;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Debug=2]="Debug",e[e.Verbose=3]="Verbose"})(GH=Pu.LogLevel||(Pu.LogLevel={}))});var xT=x(No=>{Object.defineProperty(No,"__esModule",{value:!0});var VH;(function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"})(VH=No.SessionStatus||(No.SessionStatus={}));var YH;(function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"})(YH=No.RequestSessionStatus||(No.RequestSessionStatus={}))});var ET=x(Do=>{Object.defineProperty(Do,"__esModule",{value:!0});var ST;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(ST=Do.Severity||(Do.Severity={}));(function(e){function t(r){switch(r){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}o(t,"fromString"),e.fromString=t})(ST=Do.Severity||(Do.Severity={}))});var TT=x(Lo=>{Object.defineProperty(Lo,"__esModule",{value:!0});var wT;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"})(wT=Lo.Status||(Lo.Status={}));(function(e){function t(r){return r>=200&&r<300?e.Success:r===429?e.RateLimit:r>=400&&r<500?e.Invalid:r>=500?e.Failed:e.Unknown}o(t,"fromHttpCode"),e.fromHttpCode=t})(wT=Lo.Status||(Lo.Status={}))});var OT=x(Nu=>{Object.defineProperty(Nu,"__esModule",{value:!0});var XH;(function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"})(XH=Nu.TransactionSamplingMethod||(Nu.TransactionSamplingMethod={}))});var ra=x(Zn=>{Object.defineProperty(Zn,"__esModule",{value:!0});var ZH=bT();Zn.LogLevel=ZH.LogLevel;var CT=xT();Zn.SessionStatus=CT.SessionStatus;Zn.RequestSessionStatus=CT.RequestSessionStatus;var QH=ET();Zn.Severity=QH.Severity;var e3=TT();Zn.Status=e3.Status;var t3=OT();Zn.TransactionSamplingMethod=t3.TransactionSamplingMethod});var Gg=x(Jg=>{Object.defineProperty(Jg,"__esModule",{value:!0});var Wg=ra(),Bo=Ke(),r3=function(){function e(t){this.errors=0,this.sid=Bo.uuid4(),this.duration=0,this.status=Wg.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var r=Bo.timestampInSeconds();this.timestamp=r,this.started=r,t&&this.update(t)}return o(e,"Session"),e.prototype.update=function(t){if(t===void 0&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),!this.did&&!t.did&&(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Bo.timestampInSeconds(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=t.sid.length===32?t.sid:Bo.uuid4()),t.init!==void 0&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),typeof t.started=="number"&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if(typeof t.duration=="number")this.duration=t.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),typeof t.errors=="number"&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status===Wg.SessionStatus.Ok?this.update({status:Wg.SessionStatus.Exited}):this.update()},e.prototype.toJSON=function(){return Bo.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:Bo.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}();Jg.Session=r3});var Xg=x(or=>{Object.defineProperty(or,"__esModule",{value:!0});var Pr=nt(),IT=ra(),Nr=Ke(),Vg=$g(),n3=Gg();or.API_VERSION=4;var i3=100,Du=function(){function e(t,r,n){r===void 0&&(r=new Vg.Scope),n===void 0&&(n=or.API_VERSION),this._version=n,this._stack=[{}],this.getStackTop().scope=r,this.bindClient(t)}return o(e,"Hub"),e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){var r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=Vg.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(t){var r=this.pushScope();try{t(r)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,r){var n=this._lastEventId=Nr.uuid4(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}i={originalException:t,syntheticException:s}}return this._invokeClient("captureException",t,Pr.__assign(Pr.__assign({},i),{event_id:n})),n},e.prototype.captureMessage=function(t,r,n){var i=this._lastEventId=Nr.uuid4(),s=n;if(!n){var a=void 0;try{throw new Error(t)}catch(u){a=u}s={originalException:t,syntheticException:a}}return this._invokeClient("captureMessage",t,r,Pr.__assign(Pr.__assign({},s),{event_id:i})),i},e.prototype.captureEvent=function(t,r){var n=this._lastEventId=Nr.uuid4();return this._invokeClient("captureEvent",t,Pr.__assign(Pr.__assign({},r),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var a=s.getOptions&&s.getOptions()||{},u=a.beforeBreadcrumb,l=u===void 0?null:u,p=a.maxBreadcrumbs,d=p===void 0?i3:p;if(!(d<=0)){var g=Nr.dateTimestampInSeconds(),m=Pr.__assign({timestamp:g},t),v=l?Nr.consoleSandbox(function(){return l(m,r)}):m;v!==null&&i.addBreadcrumb(v,d)}}},e.prototype.setUser=function(t){var r=this.getScope();r&&r.setUser(t)},e.prototype.setTags=function(t){var r=this.getScope();r&&r.setTags(t)},e.prototype.setExtras=function(t){var r=this.getScope();r&&r.setExtras(t)},e.prototype.setTag=function(t,r){var n=this.getScope();n&&n.setTag(t,r)},e.prototype.setExtra=function(t,r){var n=this.getScope();n&&n.setExtra(t,r)},e.prototype.setContext=function(t,r){var n=this.getScope();n&&n.setContext(t,r)},e.prototype.configureScope=function(t){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&t(n)},e.prototype.run=function(t){var r=Yg(this);try{t(this)}finally{Yg(r)}},e.prototype.getIntegration=function(t){var r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return Nr.logger.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,r){return this._callExtensionMethod("startTransaction",t,r)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(t===void 0&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t,r,n,i,s;(n=(r=(t=this.getStackTop())===null||t===void 0?void 0:t.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},e.prototype.startSession=function(t){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},a=s.release,u=s.environment,l=Nr.getGlobalObject(),p=(l.navigator||{}).userAgent,d=new n3.Session(Pr.__assign(Pr.__assign(Pr.__assign({release:a,environment:u},n&&{user:n.getUser()}),p&&{userAgent:p}),t));if(n){var g=n.getSession&&n.getSession();g&&g.status===IT.SessionStatus.Ok&&g.update({status:IT.SessionStatus.Exited}),this.endSession(),n.setSession(d)}return d},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),r=t.scope,n=t.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(t){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,u=s.client;u&&u[t]&&(r=u)[t].apply(r,Pr.__spread(n,[a]))},e.prototype._callExtensionMethod=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Ko(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,r);Nr.logger.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();or.Hub=Du;function Ko(){var e=Nr.getGlobalObject();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}o(Ko,"getMainCarrier");or.getMainCarrier=Ko;function Yg(e){var t=Ko(),r=Tn(t);return Lu(t,e),r}o(Yg,"makeMain");or.makeMain=Yg;function o3(){var e=Ko();return(!kT(e)||Tn(e).isOlderThan(or.API_VERSION))&&Lu(e,new Du),Nr.isNodeEnv()?a3(e):Tn(e)}o(o3,"getCurrentHub");or.getCurrentHub=o3;function s3(){Nr.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var e=Ko().__SENTRY__;return e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active}o(s3,"getActiveDomain");or.getActiveDomain=s3;function a3(e){var t,r,n;try{var i=(n=(r=(t=Ko().__SENTRY__)===null||t===void 0?void 0:t.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return Tn(e);if(!kT(i)||Tn(i).isOlderThan(or.API_VERSION)){var s=Tn(e).getStackTop();Lu(i,new Du(s.client,Vg.Scope.clone(s.scope)))}return Tn(i)}catch(a){return Tn(e)}}o(a3,"getHubFromActiveDomain");function kT(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}o(kT,"hasHubOnCarrier");function Tn(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new Du),e.__SENTRY__.hub}o(Tn,"getHubFromCarrier");or.getHubFromCarrier=Tn;function Lu(e,t){return e?(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0):!1}o(Lu,"setHubOnCarrier");or.setHubOnCarrier=Lu});var AT=x(eh=>{Object.defineProperty(eh,"__esModule",{value:!0});var Zg=ra(),Qg=Ke(),c3=Xg(),u3=function(){function e(t,r){var n=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=t,this._intervalId=setInterval(function(){return n.flush()},this.flushTimeout*1e3),this._sessionAttrs=r}return o(e,"SessionFlusher"),e.prototype.sendSessionAggregates=function(t){if(!this._transport.sendSession){Qg.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(r){Qg.logger.error("Error while sending session: "+r)})},e.prototype.flush=function(){var t=this.getSessionAggregates();t.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(t))},e.prototype.getSessionAggregates=function(){var t=this,r=Object.keys(this._pendingAggregates).map(function(i){return t._pendingAggregates[parseInt(i)]}),n={attrs:this._sessionAttrs,aggregates:r};return Qg.dropUndefinedKeys(n)},e.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},e.prototype.incrementSessionStatusCount=function(){var t,r;if(!!this._isEnabled){var n=c3.getCurrentHub().getScope(),i=(t=n)===null||t===void 0?void 0:t.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(r=n)===null||r===void 0||r.setRequestSession(void 0))}},e.prototype._incrementSessionStatusCount=function(t,r){var n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var i=this._pendingAggregates[n];switch(i.started||(i.started=new Date(n).toISOString()),t){case Zg.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case Zg.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case Zg.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},e}();eh.SessionFlusher=u3});var Bu=x(sr=>{Object.defineProperty(sr,"__esModule",{value:!0});var qT=$g();sr.addGlobalEventProcessor=qT.addGlobalEventProcessor;sr.Scope=qT.Scope;var l3=Gg();sr.Session=l3.Session;var p3=AT();sr.SessionFlusher=p3.SessionFlusher;var ki=Xg();sr.getActiveDomain=ki.getActiveDomain;sr.getCurrentHub=ki.getCurrentHub;sr.getHubFromCarrier=ki.getHubFromCarrier;sr.getMainCarrier=ki.getMainCarrier;sr.Hub=ki.Hub;sr.makeMain=ki.makeMain;sr.setHubOnCarrier=ki.setHubOnCarrier});var Qn=x(Uo=>{Object.defineProperty(Uo,"__esModule",{value:!0});var jT;(function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"})(jT=Uo.SpanStatus||(Uo.SpanStatus={}));(function(e){function t(r){if(r<400)return e.Ok;if(r>=400&&r<500)switch(r){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}o(t,"fromHttpCode"),e.fromHttpCode=t})(jT=Uo.SpanStatus||(Uo.SpanStatus={}))});var ei=x(Xr=>{Object.defineProperty(Xr,"__esModule",{value:!0});var RT=Bu();Xr.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function f3(e){e===void 0&&(e=(t=RT.getCurrentHub().getClient())===null||t===void 0?void 0:t.getOptions());var t;return e?"tracesSampleRate"in e||"tracesSampler"in e:!1}o(f3,"hasTracingEnabled");Xr.hasTracingEnabled=f3;function d3(e){var t=e.match(Xr.TRACEPARENT_REGEXP);if(t){var r=void 0;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}}o(d3,"extractTraceparentData");Xr.extractTraceparentData=d3;function g3(e){e===void 0&&(e=RT.getCurrentHub());var t,r;return(r=(t=e)===null||t===void 0?void 0:t.getScope())===null||r===void 0?void 0:r.getTransaction()}o(g3,"getActiveTransaction");Xr.getActiveTransaction=g3;function h3(e){return e/1e3}o(h3,"msToSec");Xr.msToSec=h3;function m3(e){return e*1e3}o(m3,"secToMs");Xr.secToMs=m3;var v3=Ke();Xr.stripUrlQueryAndFragment=v3.stripUrlQueryAndFragment});var NT=x(rh=>{Object.defineProperty(rh,"__esModule",{value:!0});var th=Ke(),MT=Qn(),y3=ei();function _3(){th.addInstrumentationHandler({callback:PT,type:"error"}),th.addInstrumentationHandler({callback:PT,type:"unhandledrejection"})}o(_3,"registerErrorInstrumentation");rh.registerErrorInstrumentation=_3;function PT(){var e=y3.getActiveTransaction();e&&(th.logger.log("[Tracing] Transaction: "+MT.SpanStatus.InternalError+" -> Global error occured"),e.setStatus(MT.SpanStatus.InternalError))}o(PT,"errorCallback")});var Uu=x(Ku=>{Object.defineProperty(Ku,"__esModule",{value:!0});var Fo=nt(),Ai=Ke(),nh=Qn(),b3=function(){function e(t){t===void 0&&(t=1e3),this.spans=[],this._maxlen=t}return o(e,"SpanRecorder"),e.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},e}();Ku.SpanRecorder=b3;var x3=function(){function e(t){if(this.traceId=Ai.uuid4(),this.spanId=Ai.uuid4().substring(16),this.startTimestamp=Ai.timestampWithMs(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return o(e,"Span"),e.prototype.child=function(t){return this.startChild(t)},e.prototype.startChild=function(t){var r=new e(Fo.__assign(Fo.__assign({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},e.prototype.setTag=function(t,r){var n;return this.tags=Fo.__assign(Fo.__assign({},this.tags),(n={},n[t]=r,n)),this},e.prototype.setData=function(t,r){var n;return this.data=Fo.__assign(Fo.__assign({},this.data),(n={},n[t]=r,n)),this},e.prototype.setStatus=function(t){return this.status=t,this},e.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var r=nh.SpanStatus.fromHttpCode(t);return r!==nh.SpanStatus.UnknownError&&this.setStatus(r),this},e.prototype.isSuccess=function(){return this.status===nh.SpanStatus.Ok},e.prototype.finish=function(t){this.endTimestamp=typeof t=="number"?t:Ai.timestampWithMs()},e.prototype.toTraceparent=function(){var t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},e.prototype.toContext=function(){return Ai.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(t){var r,n,i,s,a;return this.data=(r=t.data,r!=null?r:{}),this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=(n=t.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=t.startTimestamp,i!=null?i:this.startTimestamp),this.status=t.status,this.tags=(s=t.tags,s!=null?s:{}),this.traceId=(a=t.traceId,a!=null?a:this.traceId),this},e.prototype.getTraceContext=function(){return Ai.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return Ai.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}();Ku.Span=x3});var Fu=x(ih=>{Object.defineProperty(ih,"__esModule",{value:!0});var Ho=nt(),DT=Bu(),zo=Ke(),LT=Uu(),S3=function(e){Ho.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i._measurements={},i._hub=DT.getCurrentHub(),zo.isInstanceOf(n,DT.Hub)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return o(t,"Transaction"),t.prototype.setName=function(r){this.name=r},t.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new LT.SpanRecorder(r)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(r){this._measurements=Ho.__assign({},r)},t.prototype.setMetadata=function(r){this.metadata=Ho.__assign(Ho.__assign({},this.metadata),r)},t.prototype.finish=function(r){var n=this;if(this.endTimestamp===void 0){if(this.name||(zo.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,r),this.sampled!==!0){zo.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(u){return u!==n&&u.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(u,l){return u.endTimestamp&&l.endTimestamp?u.endTimestamp>l.endTimestamp?u:l:u}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},a=Object.keys(this._measurements).length>0;return a&&(zo.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),zo.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},t.prototype.toContext=function(){var r=e.prototype.toContext.call(this);return zo.dropUndefinedKeys(Ho.__assign(Ho.__assign({},r),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(r){var n;return e.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},t}(LT.Span);ih.Transaction=S3});var Hu=x($o=>{Object.defineProperty($o,"__esModule",{value:!0});var oh=nt(),jt=Ke(),E3=Uu(),BT=Qn(),w3=Fu();$o.DEFAULT_IDLE_TIMEOUT=1e3;var KT=function(e){oh.__extends(t,e);function t(r,n,i,s){i===void 0&&(i="");var a=e.call(this,s)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return o(t,"IdleTransactionSpanRecorder"),t.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:jt.timestampWithMs(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),e.prototype.add.call(this,r)},t}(E3.SpanRecorder);$o.IdleTransactionSpanRecorder=KT;var T3=function(e){oh.__extends(t,e);function t(r,n,i,s){i===void 0&&(i=$o.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var a=e.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=s,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&s&&(UT(n),jt.logger.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(u){return u.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return o(t,"IdleTransaction"),t.prototype.finish=function(r){var n,i,s=this;if(r===void 0&&(r=jt.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){jt.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=oh.__values(this._beforeFinishCallbacks),u=a.next();!u.done;u=a.next()){var l=u.value;l(this,r)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(p){if(p.spanId===s.spanId)return!0;p.endTimestamp||(p.endTimestamp=r,p.setStatus(BT.SpanStatus.Cancelled),jt.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(p,void 0,2)));var d=p.startTimestamp<r;return d||jt.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(p,void 0,2)),d}),jt.logger.log("[Tracing] flushing IdleTransaction")}else jt.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&UT(this._idleHub),e.prototype.finish.call(this,r)},t.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},t.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=o(function(a){n._finished||n._pushActivity(a)},"pushActivity"),s=o(function(a){n._finished||n._popActivity(a)},"popActivity");this.spanRecorder=new KT(i,s,this.spanId,r),jt.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),jt.logger.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,jt.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(jt.logger.log("[Tracing] popActivity "+r),delete this.activities[r],jt.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=jt.timestampWithMs()+i/1e3;setTimeout(function(){n._finished||n.finish(s)},i)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,s){return i+s}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(jt.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(BT.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var r=this;jt.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},t}(w3.Transaction);$o.IdleTransaction=T3;function UT(e){if(e){var t=e.getScope();if(t){var r=t.getTransaction();r&&t.setSpan(void 0)}}}o(UT,"clearActiveTransaction")});var $u=x((na,ia)=>{Object.defineProperty(na,"__esModule",{value:!0});var sh=nt(),FT=Bu(),zu=ra(),_r=Ke(),O3=NT(),C3=Hu(),I3=Fu(),k3=ei();function A3(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}o(A3,"traceHeaders");function HT(e,t,r){if(!k3.hasTracingEnabled())return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({transactionSampling:{method:zu.TransactionSamplingMethod.Explicit}}),e;var n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setMetadata({transactionSampling:{method:zu.TransactionSamplingMethod.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,e.setMetadata({transactionSampling:{method:zu.TransactionSamplingMethod.Inheritance}})):(n=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:zu.TransactionSamplingMethod.Rate,rate:Number(n)}})),q3(n)?n?(e.sampled=Math.random()<n,e.sampled?(_r.logger.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(_r.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),e)):(_r.logger.log("[Tracing] Discarding transaction because "+(typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(_r.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}o(HT,"sample");function q3(e){return isNaN(e)||!(typeof e=="number"||typeof e=="boolean")?(_r.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):e<0||e>1?(_r.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1):!0}o(q3,"isValidSampleRate");function j3(e,t){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},s=new I3.Transaction(e,this);return s=HT(s,i,sh.__assign({parentSampled:e.parentSampled,transactionContext:e},t)),s.sampled&&s.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),s}o(j3,"_startTransaction");function R3(e,t,r,n,i){var s,a,u=((s=e.getClient())===null||s===void 0?void 0:s.getOptions())||{},l=new C3.IdleTransaction(t,e,r,n);return l=HT(l,u,sh.__assign({parentSampled:t.parentSampled,transactionContext:t},i)),l.sampled&&l.initSpanRecorder((a=u._experiments)===null||a===void 0?void 0:a.maxSpans),l}o(R3,"startIdleTransaction");na.startIdleTransaction=R3;function zT(){var e=FT.getMainCarrier();!e.__SENTRY__||(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=j3),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=A3))}o(zT,"_addTracingExtensions");na._addTracingExtensions=zT;function M3(){var e=FT.getMainCarrier();if(!!e.__SENTRY__){var t={mongodb:function(){var n=_r.dynamicRequire(ia,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=_r.dynamicRequire(ia,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=_r.dynamicRequire(ia,"./integrations/mysql");return new n.Mysql},pg:function(){var n=_r.dynamicRequire(ia,"./integrations/postgres");return new n.Postgres}},r=Object.keys(t).filter(function(n){return!!_r.loadModule(n)}).map(function(n){try{return t[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(e.__SENTRY__.integrations=sh.__spread(e.__SENTRY__.integrations||[],r))}}o(M3,"_autoloadDatabaseIntegrations");function P3(){zT(),_r.isNodeEnv()&&M3(),O3.registerErrorInstrumentation()}o(P3,"addExtensionMethods");na.addExtensionMethods=P3});var WT=x(ch=>{Object.defineProperty(ch,"__esModule",{value:!0});var ah=Ke(),$T=Qn(),N3=ei(),Wu=ah.getGlobalObject();function D3(){Wu&&Wu.document?Wu.document.addEventListener("visibilitychange",function(){var e=N3.getActiveTransaction();Wu.document.hidden&&e&&(ah.logger.log("[Tracing] Transaction: "+$T.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus($T.SpanStatus.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):ah.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(D3,"registerBackgroundTabDetection");ch.registerBackgroundTabDetection=D3});var Ju=x(uh=>{Object.defineProperty(uh,"__esModule",{value:!0});uh.bindReporter=function(e,t,r,n){var i;return function(){r&&t.isFinal&&r.disconnect(),t.value>=0&&(n||t.isFinal||document.visibilityState==="hidden")&&(t.delta=t.value-(i||0),(t.delta||t.isFinal||i===void 0)&&(e(t),i=t.value))}}});var JT=x(lh=>{Object.defineProperty(lh,"__esModule",{value:!0});lh.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var Gu=x(ph=>{Object.defineProperty(ph,"__esModule",{value:!0});var L3=JT();ph.initMetric=function(e,t){return t===void 0&&(t=-1),{name:e,value:t,delta:0,entries:[],id:L3.generateUniqueID(),isFinal:!1}}});var Vu=x(fh=>{Object.defineProperty(fh,"__esModule",{value:!0});fh.observe=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(n){return n.getEntries().map(t)});return r.observe({type:e,buffered:!0}),r}}catch(n){}}});var oa=x(dh=>{Object.defineProperty(dh,"__esModule",{value:!0});var GT=!1,VT=!1,B3=o(function(e){GT=!e.persisted},"onPageHide"),K3=o(function(){addEventListener("pagehide",B3),addEventListener("beforeunload",function(){})},"addListeners");dh.onHidden=function(e,t){t===void 0&&(t=!1),VT||(K3(),VT=!0),addEventListener("visibilitychange",function(r){var n=r.timeStamp;document.visibilityState==="hidden"&&e({timeStamp:n,isUnloading:GT})},{capture:!0,once:t})}});var YT=x(gh=>{Object.defineProperty(gh,"__esModule",{value:!0});var U3=Ju(),F3=Gu(),H3=Vu(),z3=oa();gh.getCLS=function(e,t){t===void 0&&(t=!1);var r=F3.initMetric("CLS",0),n,i=o(function(a){a.hadRecentInput||(r.value+=a.value,r.entries.push(a),n())},"entryHandler"),s=H3.observe("layout-shift",i);s&&(n=U3.bindReporter(e,r,s,t),z3.onHidden(function(a){var u=a.isUnloading;s.takeRecords().map(i),u&&(r.isFinal=!0),n()}))}});var Xu=x(hh=>{Object.defineProperty(hh,"__esModule",{value:!0});var $3=oa(),Yu;hh.getFirstHidden=function(){return Yu===void 0&&(Yu=document.visibilityState==="hidden"?0:Infinity,$3.onHidden(function(e){var t=e.timeStamp;return Yu=t},!0)),{get timeStamp(){return Yu}}}});var XT=x(mh=>{Object.defineProperty(mh,"__esModule",{value:!0});var W3=Ju(),J3=Xu(),G3=Gu(),V3=Vu(),Y3=oa();mh.getFID=function(e){var t=G3.initMetric("FID"),r=J3.getFirstHidden(),n=o(function(a){a.startTime<r.timeStamp&&(t.value=a.processingStart-a.startTime,t.entries.push(a),t.isFinal=!0,s())},"entryHandler"),i=V3.observe("first-input",n),s=W3.bindReporter(e,t,i);i?Y3.onHidden(function(){i.takeRecords().map(n),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(a,u){u.timeStamp<r.timeStamp&&(t.value=a,t.isFinal=!0,t.entries=[{entryType:"first-input",name:u.type,target:u.target,cancelable:u.cancelable,startTime:u.timeStamp,processingStart:u.timeStamp+a}],s())})}});var ZT=x(yh=>{Object.defineProperty(yh,"__esModule",{value:!0});var vh;yh.whenInput=function(){return vh||(vh=new Promise(function(e){return["scroll","keydown","pointerdown"].map(function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})})})),vh}});var QT=x(_h=>{Object.defineProperty(_h,"__esModule",{value:!0});var X3=Ju(),Z3=Xu(),Q3=Gu(),e6=Vu(),t6=oa(),r6=ZT();_h.getLCP=function(e,t){t===void 0&&(t=!1);var r=Q3.initMetric("LCP"),n=Z3.getFirstHidden(),i,s=o(function(l){var p=l.startTime;p<n.timeStamp?(r.value=p,r.entries.push(l)):r.isFinal=!0,i()},"entryHandler"),a=e6.observe("largest-contentful-paint",s);if(a){i=X3.bindReporter(e,r,a,t);var u=o(function(){r.isFinal||(a.takeRecords().map(s),r.isFinal=!0,i())},"onFinal");r6.whenInput().then(u),t6.onHidden(u,!0)}}});var rO=x(sa=>{Object.defineProperty(sa,"__esModule",{value:!0});var eO=nt(),pt=Ke(),mt=ei(),n6=YT(),i6=XT(),o6=QT(),s6=Xu(),ar=pt.getGlobalObject(),a6=function(){function e(){var t;this._measurements={},this._performanceCursor=0,!pt.isNodeEnv()&&((t=ar)===null||t===void 0?void 0:t.performance)&&(ar.performance.mark&&ar.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return o(e,"MetricsInstrumentation"),e.prototype.addPerformanceEntries=function(t){var r=this;if(!(!ar||!ar.performance||!ar.performance.getEntries||!pt.browserPerformanceTimeOrigin)){pt.logger.log("[Tracing] Adding & adjusting spans using Performance API");var n=mt.msToSec(pt.browserPerformanceTimeOrigin),i;if(ar.document&&ar.document.scripts){for(var s=0;s<ar.document.scripts.length;s++)if(ar.document.scripts[s].dataset.entry==="true"){i=ar.document.scripts[s].src;break}}var a,u,l,p;if(ar.performance.getEntries().slice(this._performanceCursor).forEach(function(g){var m=mt.msToSec(g.startTime),v=mt.msToSec(g.duration);if(!(t.op==="navigation"&&n+m<t.startTimestamp))switch(g.entryType){case"navigation":{c6(t,g,n),l=n+mt.msToSec(g.responseStart),p=n+mt.msToSec(g.requestStart);break}case"mark":case"paint":case"measure":{var y=u6(t,g,m,v,n);u===void 0&&g.name==="sentry-tracing-init"&&(u=y);var S=s6.getFirstHidden(),E=g.startTime<S.timeStamp;g.name==="first-paint"&&E&&(pt.logger.log("[Measurements] Adding FP"),r._measurements.fp={value:g.startTime},r._measurements["mark.fp"]={value:y}),g.name==="first-contentful-paint"&&E&&(pt.logger.log("[Measurements] Adding FCP"),r._measurements.fcp={value:g.startTime},r._measurements["mark.fcp"]={value:y});break}case"resource":{var T=g.name.replace(window.location.origin,""),w=tO(t,g,T,m,v,n);a===void 0&&(i||"").indexOf(T)>-1&&(a=w);break}default:}}),a!==void 0&&u!==void 0&&ri(t,{description:"evaluation",endTimestamp:u,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),t.op==="pageload"){var d=mt.msToSec(pt.browserPerformanceTimeOrigin);typeof l=="number"&&(pt.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(l-t.startTimestamp)*1e3},typeof p=="number"&&p<=l&&(this._measurements["ttfb.requestTime"]={value:(l-p)*1e3})),["fcp","fp","lcp"].forEach(function(g){if(!(!r._measurements[g]||d>=t.startTimestamp)){var m=r._measurements[g].value,v=d+mt.msToSec(m),y=Math.abs((v-t.startTimestamp)*1e3),S=y-m;pt.logger.log("[Measurements] Normalized "+g+" from "+m+" to "+y+" ("+S+")"),r._measurements[g].value=y}}),this._measurements["mark.fid"]&&this._measurements.fid&&ri(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+mt.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements),this._tagMetricInfo(t)}}},e.prototype._tagMetricInfo=function(t){this._lcpEntry&&(pt.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",pt.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(pt.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(r,n){return t.setTag("cls.source."+(n+1),pt.htmlTreeAsString(r.node))}))},e.prototype._trackCLS=function(){var t=this;n6.getCLS(function(r){var n=r.entries.pop();!n||(pt.logger.log("[Measurements] Adding CLS"),t._measurements.cls={value:r.value},t._clsEntry=n)})},e.prototype._trackNavigator=function(t){var r=ar.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Zu(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Zu(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Zu(r.deviceMemory)&&t.setTag("deviceMemory",String(r.deviceMemory)),Zu(r.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},e.prototype._trackLCP=function(){var t=this;o6.getLCP(function(r){var n=r.entries.pop();if(!!n){var i=mt.msToSec(pt.browserPerformanceTimeOrigin),s=mt.msToSec(n.startTime);pt.logger.log("[Measurements] Adding LCP"),t._measurements.lcp={value:r.value},t._measurements["mark.lcp"]={value:i+s},t._lcpEntry=n}})},e.prototype._trackFID=function(){var t=this;i6.getFID(function(r){var n=r.entries.pop();if(!!n){var i=mt.msToSec(pt.browserPerformanceTimeOrigin),s=mt.msToSec(n.startTime);pt.logger.log("[Measurements] Adding FID"),t._measurements.fid={value:r.value},t._measurements["mark.fid"]={value:i+s}}})},e}();sa.MetricsInstrumentation=a6;function c6(e,t,r){ti({transaction:e,entry:t,event:"unloadEvent",timeOrigin:r}),ti({transaction:e,entry:t,event:"redirect",timeOrigin:r}),ti({transaction:e,entry:t,event:"domContentLoadedEvent",timeOrigin:r}),ti({transaction:e,entry:t,event:"loadEvent",timeOrigin:r}),ti({transaction:e,entry:t,event:"connect",timeOrigin:r}),ti({transaction:e,entry:t,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),ti({transaction:e,entry:t,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),ti({transaction:e,entry:t,event:"domainLookup",timeOrigin:r,description:"DNS"}),l6(e,t,r)}o(c6,"addNavigationSpans");function u6(e,t,r,n,i){var s=i+r,a=s+n;return ri(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:s}),s}o(u6,"addMeasureSpans");function tO(e,t,r,n,i,s){if(!(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")){var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var u=s+n,l=u+i;return ri(e,{description:r,endTimestamp:l,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:u,data:a}),l}}o(tO,"addResourceSpans");sa.addResourceSpans=tO;function ti(e){var t=e.transaction,r=e.entry,n=e.event,i=e.timeOrigin,s=e.eventEnd,a=e.description,u=s?r[s]:r[n+"End"],l=r[n+"Start"];!l||!u||ri(t,{op:"browser",description:a!=null?a:n,startTimestamp:i+mt.msToSec(l),endTimestamp:i+mt.msToSec(u)})}o(ti,"addPerformanceNavigationTiming");function l6(e,t,r){ri(e,{op:"browser",description:"request",startTimestamp:r+mt.msToSec(t.requestStart),endTimestamp:r+mt.msToSec(t.responseEnd)}),ri(e,{op:"browser",description:"response",startTimestamp:r+mt.msToSec(t.responseStart),endTimestamp:r+mt.msToSec(t.responseEnd)})}o(l6,"addRequest");function ri(e,t){var r=t.startTimestamp,n=eO.__rest(t,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild(eO.__assign({startTimestamp:r},n))}o(ri,"_startChild");sa._startChild=ri;function Zu(e){return typeof e=="number"&&isFinite(e)}o(Zu,"isMeasurementValue")});var bh=x(Cn=>{Object.defineProperty(Cn,"__esModule",{value:!0});var On=nt(),aa=Ke(),p6=Qn(),Qu=ei();Cn.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];Cn.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:Cn.DEFAULT_TRACING_ORIGINS};function f6(e){var t=On.__assign(On.__assign({},Cn.defaultRequestInstrumentationOptions),e),r=t.traceFetch,n=t.traceXHR,i=t.tracingOrigins,s=t.shouldCreateSpanForRequest,a={},u=o(function(d){if(a[d])return a[d];var g=i;return a[d]=g.some(function(m){return aa.isMatchingPattern(d,m)})&&!aa.isMatchingPattern(d,"sentry_key"),a[d]},"defaultShouldCreateSpan"),l=u;typeof s=="function"&&(l=o(function(d){return u(d)&&s(d)},"shouldCreateSpan"));var p={};r&&aa.addInstrumentationHandler({callback:function(d){nO(d,l,p)},type:"fetch"}),n&&aa.addInstrumentationHandler({callback:function(d){iO(d,l,p)},type:"xhr"})}o(f6,"instrumentOutgoingRequests");Cn.instrumentOutgoingRequests=f6;function nO(e,t,r){if(!(!Qu.hasTracingEnabled()||!(e.fetchData&&t(e.fetchData.url)))){if(e.endTimestamp&&e.fetchData.__span){var n=r[e.fetchData.__span];n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus(p6.SpanStatus.InternalError),n.finish(),delete r[e.fetchData.__span]);return}var i=Qu.getActiveTransaction();if(i){var n=i.startChild({data:On.__assign(On.__assign({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http"});e.fetchData.__span=n.spanId,r[n.spanId]=n;var s=e.args[0]=e.args[0],a=e.args[1]=e.args[1]||{},u=a.headers;aa.isInstanceOf(s,Request)&&(u=s.headers),u?typeof u.append=="function"?u.append("sentry-trace",n.toTraceparent()):Array.isArray(u)?u=On.__spread(u,[["sentry-trace",n.toTraceparent()]]):u=On.__assign(On.__assign({},u),{"sentry-trace":n.toTraceparent()}):u={"sentry-trace":n.toTraceparent()},a.headers=u}}}o(nO,"fetchCallback");Cn.fetchCallback=nO;function iO(e,t,r){var n,i;if(!(!Qu.hasTracingEnabled()||((n=e.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=e.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)))){var s=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){var a=r[e.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(s.status_code),a.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);return}var u=Qu.getActiveTransaction();if(u){var a=u.startChild({data:On.__assign(On.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=a.spanId,r[e.xhr.__sentry_xhr_span_id__]=a,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(p){}}}}o(iO,"xhrCallback");Cn.xhrCallback=iO});var oO=x(xh=>{Object.defineProperty(xh,"__esModule",{value:!0});var el=Ke(),ca=el.getGlobalObject();function d6(e,t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!0),!ca||!ca.location){el.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var n=ca.location.href,i;t&&(i=e({name:ca.location.pathname,op:"pageload"})),r&&el.addInstrumentationHandler({callback:function(s){var a=s.to,u=s.from;if(u===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}u!==a&&(n=void 0,i&&(el.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=e({name:ca.location.pathname,op:"navigation"}))},type:"history"})}o(d6,"instrumentRoutingWithDefaults");xh.instrumentRoutingWithDefaults=d6});var uO=x(qi=>{Object.defineProperty(qi,"__esModule",{value:!0});var In=nt(),Wo=Ke(),g6=$u(),h6=Hu(),m6=Qn(),sO=ei(),v6=WT(),y6=rO(),tl=bh(),_6=oO();qi.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var b6=In.__assign({idleTimeout:h6.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:qi.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:_6.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},tl.defaultRequestInstrumentationOptions),x6=function(){function e(t){this.name=e.id,this._metrics=new y6.MetricsInstrumentation,this._emitOptionsWarning=!1;var r=tl.defaultRequestInstrumentationOptions.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&t.tracingOrigins.length!==0?r=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=In.__assign(In.__assign(In.__assign({},b6),t),{tracingOrigins:r})}return o(e,"BrowserTracing"),e.prototype.setupOnce=function(t,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(Wo.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Wo.logger.warn("[Tracing] We added a reasonable default for you: "+tl.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,a=i.startTransactionOnLocationChange,u=i.startTransactionOnPageLoad,l=i.markBackgroundTransactions,p=i.traceFetch,d=i.traceXHR,g=i.tracingOrigins,m=i.shouldCreateSpanForRequest;s(function(v){return n._createRouteTransaction(v)},u,a),l&&v6.registerBackgroundTabDetection(),tl.instrumentOutgoingRequests({traceFetch:p,traceXHR:d,tracingOrigins:g,shouldCreateSpanForRequest:m})},e.prototype._createRouteTransaction=function(t){var r=this;if(!this._getCurrentHub){Wo.logger.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,s=n.idleTimeout,a=n.maxTransactionDuration,u=t.op==="pageload"?aO():void 0,l=In.__assign(In.__assign(In.__assign({},t),u),{trimEnd:!0}),p=typeof i=="function"?i(l):l,d=p===void 0?In.__assign(In.__assign({},l),{sampled:!1}):p;d.sampled===!1&&Wo.logger.log("[Tracing] Will not send "+d.op+" transaction because of beforeNavigate."),Wo.logger.log("[Tracing] Starting "+d.op+" transaction on scope");var g=this._getCurrentHub(),m=Wo.getGlobalObject().location,v=g6.startIdleTransaction(g,d,s,!0,{location:m});return v.registerBeforeFinishCallback(function(y,S){r._metrics.addPerformanceEntries(y),S6(sO.secToMs(a),y,S)}),v},e.id="BrowserTracing",e}();qi.BrowserTracing=x6;function aO(){var e=cO("sentry-trace");if(e)return sO.extractTraceparentData(e)}o(aO,"getHeaderContext");qi.getHeaderContext=aO;function cO(e){var t=document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}o(cO,"getMetaContent");qi.getMetaContent=cO;function S6(e,t,r){var n=r-t.startTimestamp,i=r&&(n>e||n<0);i&&(t.setStatus(m6.SpanStatus.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}o(S6,"adjustTransactionDuration")});var Sh=x(ua=>{Object.defineProperty(ua,"__esModule",{value:!0});var E6=uO();ua.BrowserTracing=E6.BrowserTracing;var lO=bh();ua.instrumentOutgoingRequests=lO.instrumentOutgoingRequests;ua.defaultRequestInstrumentationOptions=lO.defaultRequestInstrumentationOptions});var fO=x(wh=>{Object.defineProperty(wh,"__esModule",{value:!0});var Eh=nt(),w6=Ke(),T6=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return o(e,"Express"),e.prototype.setupOnce=function(){if(!this._router){w6.logger.error("ExpressIntegration is missing an Express instance");return}I6(this._router,this._methods)},e.id="Express",e}();wh.Express=T6;function pO(e,t){var r=e.length;switch(r){case 2:return function(n,i){var s=i.__sentry_transaction;if(s){var a=s.startChild({description:e.name,op:"middleware."+t});i.once("finish",function(){a.finish()})}return e.call(this,n,i)};case 3:return function(n,i,s){var a,u=i.__sentry_transaction,l=(a=u)===null||a===void 0?void 0:a.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var g;(g=l)===null||g===void 0||g.finish(),s.call.apply(s,Eh.__spread([this],p))})};case 4:return function(n,i,s,a){var u,l=s.__sentry_transaction,p=(u=l)===null||u===void 0?void 0:u.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,s,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];var m;(m=p)===null||m===void 0||m.finish(),a.call.apply(a,Eh.__spread([this],d))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}o(pO,"wrap");function O6(e,t){return e.map(function(r){return typeof r=="function"?pO(r,t):Array.isArray(r)?r.map(function(n){return typeof n=="function"?pO(n,t):n}):r})}o(O6,"wrapMiddlewareArgs");function C6(e,t){var r=e[t];return e[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,Eh.__spread([this],O6(n,t)))},e}o(C6,"patchMiddleware");function I6(e,t){t===void 0&&(t=[]),t.forEach(function(r){return C6(e,r)})}o(I6,"instrumentMiddlewares")});var dO=x(Th=>{Object.defineProperty(Th,"__esModule",{value:!0});var rl=Ke(),k6=function(){function e(){this.name=e.id}return o(e,"Postgres"),e.prototype.setupOnce=function(t,r){var n=rl.loadModule("pg");if(!n){rl.logger.error("Postgres Integration was unable to require `pg` package.");return}rl.fill(n.Client.prototype,"query",function(i){return function(s,a,u){var l,p,d,g=r().getScope(),m=(l=g)===null||l===void 0?void 0:l.getSpan(),v=(p=m)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof u=="function")return i.call(this,s,a,function(S,E){var T;(T=v)===null||T===void 0||T.finish(),u(S,E)});if(typeof a=="function")return i.call(this,s,function(S,E){var T;(T=v)===null||T===void 0||T.finish(),a(S,E)});var y=typeof a!="undefined"?i.call(this,s,a):i.call(this,s);return rl.isThenable(y)?y.then(function(S){var E;return(E=v)===null||E===void 0||E.finish(),S}):((d=v)===null||d===void 0||d.finish(),y)}})},e.id="Postgres",e}();Th.Postgres=k6});var gO=x(Ch=>{Object.defineProperty(Ch,"__esModule",{value:!0});var Oh=Ke(),A6=function(){function e(){this.name=e.id}return o(e,"Mysql"),e.prototype.setupOnce=function(t,r){var n=Oh.loadModule("mysql/lib/Connection.js");if(!n){Oh.logger.error("Mysql Integration was unable to require `mysql` package.");return}Oh.fill(n,"createQuery",function(i){return function(s,a,u){var l,p,d=r().getScope(),g=(l=d)===null||l===void 0?void 0:l.getSpan(),m=(p=g)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof u=="function"?i.call(this,s,a,function(v,y,S){var E;(E=m)===null||E===void 0||E.finish(),u(v,y,S)}):typeof a=="function"?i.call(this,s,function(v,y,S){var E;(E=m)===null||E===void 0||E.finish(),a(v,y,S)}):i.call(this,s,a,u)}})},e.id="Mysql",e}();Ch.Mysql=A6});var hO=x(kh=>{Object.defineProperty(kh,"__esModule",{value:!0});var Ih=nt(),nl=Ke(),q6=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],j6={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},R6=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:q6,this._describeOperations="describeOperations"in t?t.describeOperations:!0,this._useMongoose=!!t.useMongoose}return o(e,"Mongo"),e.prototype.setupOnce=function(t,r){var n=this._useMongoose?"mongoose":"mongodb",i=nl.loadModule(n);if(!i){nl.logger.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},e.prototype._instrumentOperations=function(t,r,n){var i=this;r.forEach(function(s){return i._patchOperation(t,s,n)})},e.prototype._patchOperation=function(t,r,n){if(r in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);nl.fill(t.prototype,r,function(s){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var l,p,d,g,m=a[a.length-1],v=n().getScope(),y=(l=v)===null||l===void 0?void 0:l.getSpan();if(typeof m!="function"||r==="mapReduce"&&a.length===2){var S=(p=y)===null||p===void 0?void 0:p.startChild(i(this,r,a)),E=s.call.apply(s,Ih.__spread([this],a));return nl.isThenable(E)?E.then(function(w){var O;return(O=S)===null||O===void 0||O.finish(),w}):((d=S)===null||d===void 0||d.finish(),E)}var T=(g=y)===null||g===void 0?void 0:g.startChild(i(this,r,a.slice(0,-1)));return s.call.apply(s,Ih.__spread([this],a.slice(0,-1),[function(w,O){var I;(I=T)===null||I===void 0||I.finish(),m(w,O)}]))}})}},e.prototype._getSpanContextFromOperationArguments=function(t,r,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},s={op:"db",description:r,data:i},a=j6[r],u=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!u)return s;try{if(r==="mapReduce"){var l=Ih.__read(n,2),p=l[0],d=l[1];i[a[0]]=typeof p=="string"?p:p.name||"<anonymous>",i[a[1]]=typeof d=="string"?d:d.name||"<anonymous>"}else for(var g=0;g<a.length;g++)i[a[g]]=JSON.stringify(n[g])}catch(m){}return s},e.id="Mongo",e}();kh.Mongo=R6});var mO=x(Jo=>{Object.defineProperty(Jo,"__esModule",{value:!0});var M6=fO();Jo.Express=M6.Express;var P6=dO();Jo.Postgres=P6.Postgres;var N6=gO();Jo.Mysql=N6.Mysql;var D6=hO();Jo.Mongo=D6.Mongo});var Ah=x(Rt=>{Object.defineProperty(Rt,"__esModule",{value:!0});var vO=nt(),L6=Sh(),yO=$u();Rt.addExtensionMethods=yO.addExtensionMethods;var B6=mO(),K6=vO.__assign(vO.__assign({},B6),{BrowserTracing:L6.BrowserTracing});Rt.Integrations=K6;var U6=Uu();Rt.Span=U6.Span;var F6=Fu();Rt.Transaction=F6.Transaction;var _O=Sh();Rt.registerRequestInstrumentation=_O.instrumentOutgoingRequests;Rt.defaultRequestInstrumentationOptions=_O.defaultRequestInstrumentationOptions;var H6=Qn();Rt.SpanStatus=H6.SpanStatus;var z6=Hu();Rt.IdleTransaction=z6.IdleTransaction;var $6=$u();Rt.startIdleTransaction=$6.startIdleTransaction;yO.addExtensionMethods();var la=ei();Rt.extractTraceparentData=la.extractTraceparentData;Rt.getActiveTransaction=la.getActiveTransaction;Rt.hasTracingEnabled=la.hasTracingEnabled;Rt.stripUrlQueryAndFragment=la.stripUrlQueryAndFragment;Rt.TRACEPARENT_REGEXP=la.TRACEPARENT_REGEXP});var jh=x(qh=>{Object.defineProperty(qh,"__esModule",{value:!0});var W6=vr(),J6=Ke(),Go=class{constructor(t={}){this.name=Go.id,this._optional=t.optional||!1}setupOnce(){try{let t=require("aws-sdk/global");J6.fill(t.Service.prototype,"makeRequest",G6)}catch(t){if(!this._optional)throw t}}};o(Go,"AWSServices");qh.AWSServices=Go;Go.id="AWSServices";function G6(e){return function(t,r,n){let i,s,a=W6.getCurrentHub().getScope();a&&(i=a.getTransaction());let u=e.call(this,t,r);return u.on("afterBuild",()=>{i&&(s=i.startChild({description:V6(this,t,r),op:"aws.request"}))}),u.on("complete",()=>{s&&s.finish()}),n&&u.send(n),u}}o(G6,"wrapMakeRequest");function V6(e,t,r){let n=`aws.${e.serviceIdentifier}.${t}`;if(r===void 0)return n;switch(e.serviceIdentifier){case"s3":n+=X6(t,r);break;case"lambda":n+=Y6(t,r);break}return n}o(V6,"describe");function Y6(e,t){let r="";return"FunctionName"in t&&(r+=` ${t.FunctionName}`),r}o(Y6,"describeLambdaOperation");function X6(e,t){let r="";return"Bucket"in t&&(r+=` ${t.Bucket}`),r}o(X6,"describeS3Operation")});var Yo=x(Vo=>{Object.defineProperty(Vo,"__esModule",{value:!0});var Z6=Ke(),bO=require("domain");function Q6(e){return Z6.addExceptionMechanism(e,{handled:!1}),e}o(Q6,"serverlessEventProcessor");Vo.serverlessEventProcessor=Q6;function xO(){return bO.active}o(xO,"getActiveDomain");Vo.getActiveDomain=xO;function ez(e){return(...t)=>xO()?e(...t):bO.create().run(()=>e(...t))}o(ez,"domainify");Vo.domainify=ez;function tz(e,t,r){let n=t(e),i={apply:(s,a,u)=>n.apply(a,u)};return r&&(i.get=(s,a)=>r.hasOwnProperty(a)?r[a]:s[a]),new Proxy(e,i)}o(tz,"proxyFunction");Vo.proxyFunction=tz});var OO=x(ni=>{Object.defineProperty(ni,"__esModule",{value:!0});var rz=nt(),ji=vr(),pa=vr(),nz=Ah(),fa=Ke(),SO=require("fs"),iz=require("os"),EO=require("path"),wO=require("perf_hooks"),oz=require("util"),sz=jh(),az=Yo();rz.__exportStar(vr(),ni);var{isPromise:cz}=oz.types;ni.defaultIntegrations=[...pa.defaultIntegrations,new sz.AWSServices({optional:!0})];function uz(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=ni.defaultIntegrations),e._metadata=e._metadata||{},e._metadata.sdk={name:"sentry.javascript.serverless",integrations:["AWSLambda"],packages:[{name:"npm:@sentry/serverless",version:pa.SDK_VERSION}],version:pa.SDK_VERSION},pa.init(e),pa.addGlobalEventProcessor(az.serverlessEventProcessor)}o(uz,"init");ni.init=uz;function lz(e,t,r){let n=EO.resolve(e,t,r);return SO.existsSync(n)||SO.existsSync(`${n}.js`)?require(n):require(require.resolve(r,{paths:[e,t]}))}o(lz,"tryRequire");function pz(e,t){let r=EO.basename(t),n=r.match(/^([^.]*)\.(.*)$/);if(!n){fa.logger.error(`Bad handler ${r}`);return}let[,i,s]=n,a;try{let p=t.substring(0,t.indexOf(r));a=lz(e,p,i)}catch(p){fa.logger.error(`Cannot require ${t} in ${e}`,p);return}let u,l;if(s.split(".").forEach(p=>{u=a,a=a&&a[p],l=p}),!a){fa.logger.error(`${t} is undefined or not exported`);return}if(typeof a!="function"){fa.logger.error(`${t} is not a function`);return}u[l]=TO(a)}o(pz,"tryPatchHandler");ni.tryPatchHandler=pz;function Rh(e){return typeof e.getRemainingTimeInMillis=="function"?e.getRemainingTimeInMillis():0}o(Rh,"tryGetRemainingTimeInMillis");function fz(e,t,r){e.setTransactionName(t.functionName),e.setTag("server_name",process.env._AWS_XRAY_DAEMON_ADDRESS||process.env.SENTRY_NAME||iz.hostname()),e.setTag("url",`awslambda:///${t.functionName}`),e.setContext("runtime",{name:"node",version:global.process.version}),e.setContext("aws.lambda",{aws_request_id:t.awsRequestId,function_name:t.functionName,function_version:t.functionVersion,invoked_function_arn:t.invokedFunctionArn,execution_duration_in_millis:wO.performance.now()-r,remaining_time_in_millis:Rh(t),"sys.argv":process.argv}),e.setContext("aws.cloudwatch.logs",{log_group:t.logGroupName,log_stream:t.logStreamName,url:`https://console.aws.amazon.com/cloudwatch/home?region=${process.env.AWS_REGION}#logsV2:log-groups/log-group/${encodeURIComponent(t.logGroupName)}/log-events/${encodeURIComponent(t.logStreamName)}`})}o(fz,"enhanceScopeWithEnvironmentData");function TO(e,t={}){let r=wO.performance.now(),n=ie({flushTimeout:2e3,rethrowAfterCapture:!0,callbackWaitsForEmptyEventLoop:!1,captureTimeoutWarning:!0,timeoutWarningLimit:500},t),i,s=e.length>2?(a,u)=>new Promise((l,p)=>{let d=e(a,u,(g,m)=>{g==null?l(m):p(g)});cz(d)&&d.then(l,p)}):e;return async(a,u)=>{u.callbackWaitsForEmptyEventLoop=n.callbackWaitsForEmptyEventLoop;let l=Math.ceil(Rh(u)/1e3),p=Math.floor(l/60),d=l%60,g=p>0?`${p}m${d}s`:`${d}s`;if(n.captureTimeoutWarning){let w=Rh(u)-n.timeoutWarningLimit;i=setTimeout(()=>{ji.withScope(O=>{O.setTag("timeout",g),ji.captureMessage(`Possible function timeout: ${u.functionName}`,ji.Severity.Warning)})},w)}let m,v=a;v.headers&&fa.isString(v.headers["sentry-trace"])&&(m=nz.extractTraceparentData(v.headers["sentry-trace"]));let y=ji.startTransaction(ie({name:u.functionName,op:"awslambda.handler"},m)),S=ji.getCurrentHub(),E=S.pushScope(),T;try{fz(E,u,r),E.setSpan(y),T=await s(a,u)}catch(w){if(ji.captureException(w),n.rethrowAfterCapture)throw w}finally{clearTimeout(i),y.finish(),S.popScope(),await ji.flush(n.flushTimeout)}return T}}o(TO,"wrapHandler");ni.wrapHandler=TO});var IO=x(Mh=>{Object.defineProperty(Mh,"__esModule",{value:!0});var dz=vr(),CO=Ke(),Xo=class{constructor(t={}){this.name=Xo.id,this._optional=t.optional||!1}setupOnce(){try{let t=require("google-gax");CO.fill(t.GrpcClient.prototype,"createStub",gz)}catch(t){if(!this._optional)throw t}}};o(Xo,"GoogleCloudGrpc");Mh.GoogleCloudGrpc=Xo;Xo.id="GoogleCloudGrpc";function gz(e){return async function(...t){var r;let n=(r=t[1])===null||r===void 0?void 0:r.servicePath;if(n==null||n==null)return e.apply(this,t);let i=mz(n),s=await e.apply(this,t);for(let a of Object.keys(Object.getPrototypeOf(s)))hz(s,i,a);return s}}o(gz,"wrapCreateStub");function hz(e,t,r){let n=e[r];if(typeof n!="function")return;let i=!n.requestStream&&!n.responseStream?"unary call":n.requestStream&&!n.responseStream?"client stream":!n.requestStream&&n.responseStream?"server stream":"bidi stream";i=="unary call"&&CO.fill(e,r,s=>(...a)=>{var u;let l=s.apply(e,a);if(typeof((u=l)===null||u===void 0?void 0:u.on)!="function")return l;let p,d,g=dz.getCurrentHub().getScope();return g&&(p=g.getTransaction()),p&&(d=p.startChild({description:`${i} ${r}`,op:`gcloud.grpc.${t}`})),l.on("status",()=>{d&&d.finish()}),l})}o(hz,"fillGrpcFunction");function mz(e){let t=e.match(/^(\w+)\.googleapis.com$/);return t?t[1]:e}o(mz,"identifyService")});var kO=x(Ph=>{Object.defineProperty(Ph,"__esModule",{value:!0});var vz=vr(),yz=Ke(),Zo=class{constructor(t={}){this.name=Zo.id,this._optional=t.optional||!1}setupOnce(){try{let t=require("@google-cloud/common");yz.fill(t.Service.prototype,"request",_z)}catch(t){if(!this._optional)throw t}}};o(Zo,"GoogleCloudHttp");Ph.GoogleCloudHttp=Zo;Zo.id="GoogleCloudHttp";function _z(e){return function(t,r){let n,i,s=vz.getCurrentHub().getScope();if(s&&(n=s.getTransaction()),n){let a=t.method||"GET";i=n.startChild({description:`${a} ${t.uri}`,op:`gcloud.http.${bz(this.apiEndpoint)}`})}e.call(this,t,(...a)=>{i&&i.finish(),r(...a)})}}o(_z,"wrapRequestFunction");function bz(e){let t=e.match(/^https:\/\/(\w+)\.googleapis.com$/);return t?t[1]:e.replace(/^(http|https)?:\/\//,"")}o(bz,"identifyService")});var AO=x(Dh=>{Object.defineProperty(Dh,"__esModule",{value:!0});var da=vr(),xz=Ah(),Nh=Ke(),il=Yo(),{parseRequest:Sz}=da.Handlers;function Ez(e,t={}){let r=o(s=>il.domainify(wz(s,t)),"wrap"),n,i=e.__emulator_func;return i&&(n={__emulator_func:il.proxyFunction(i,r)}),il.proxyFunction(e,r,n)}o(Ez,"wrapHttpFunction");Dh.wrapHttpFunction=Ez;function wz(e,t={}){let r=ie({flushTimeout:2e3,parseRequestOptions:{}},t);return(n,i)=>{let s=(n.method||"").toUpperCase(),a=Nh.stripUrlQueryAndFragment(n.originalUrl||n.url||""),u,l=n;l.headers&&Nh.isString(l.headers["sentry-trace"])&&(u=xz.extractTraceparentData(l.headers["sentry-trace"]));let p=da.startTransaction(ie({name:`${s} ${a}`,op:"gcp.function.http"},u));da.getCurrentHub().configureScope(g=>{g.addEventProcessor(m=>Sz(m,n,r.parseRequestOptions)),g.setSpan(p)}),i.__sentry_transaction=p,il.getActiveDomain().on("error",g=>{da.captureException(g)});let d=i.end;return i.end=function(g,m,v){p.setHttpStatus(i.statusCode),p.finish(),da.flush(r.flushTimeout).then(()=>{d.call(this,g,m,v)}).then(null,y=>{Nh.logger.error(y)})},e(n,i)}}o(wz,"_wrapHttpFunction")});var Bh=x(Lh=>{Object.defineProperty(Lh,"__esModule",{value:!0});var Tz=require("os");function Oz(e,t){e.setContext("runtime",{name:"node",version:global.process.version}),e.setTag("server_name",process.env.SENTRY_NAME||Tz.hostname()),e.setContext("gcp.function.context",ie({},t))}o(Oz,"configureScopeWithContext");Lh.configureScopeWithContext=Oz});var qO=x(Uh=>{Object.defineProperty(Uh,"__esModule",{value:!0});var ga=vr(),Cz=Ke(),Kh=Yo(),Iz=Bh();function kz(e,t={}){return Kh.proxyFunction(e,r=>Kh.domainify(Az(r,t)))}o(kz,"wrapEventFunction");Uh.wrapEventFunction=kz;function Az(e,t={}){let r=ie({flushTimeout:2e3},t);return(n,i,s)=>{let a=ga.startTransaction({name:i.eventType,op:"gcp.function.event"});ga.getCurrentHub().configureScope(p=>{Iz.configureScopeWithContext(p,i),p.setSpan(a)});let u=Kh.getActiveDomain();u.on("error",ga.captureException);let l=u.bind((...p)=>{p[0]!==null&&p[0]!==void 0&&ga.captureException(p[0]),a.finish(),ga.flush(r.flushTimeout).then(()=>{s(...p)}).then(null,d=>{Cz.logger.error(d)})});return e.length>2?e(n,i,l):Promise.resolve().then(()=>e(n,i)).then(p=>l(null,p),p=>l(p,void 0))}}o(Az,"_wrapEventFunction")});var jO=x(Hh=>{Object.defineProperty(Hh,"__esModule",{value:!0});var ha=vr(),qz=Ke(),Fh=Yo(),jz=Bh();function Rz(e,t={}){return Fh.proxyFunction(e,r=>Fh.domainify(Mz(r,t)))}o(Rz,"wrapCloudEventFunction");Hh.wrapCloudEventFunction=Rz;function Mz(e,t={}){let r=ie({flushTimeout:2e3},t);return(n,i)=>{let s=ha.startTransaction({name:n.type||"<unknown>",op:"gcp.function.cloud_event"});ha.getCurrentHub().configureScope(l=>{jz.configureScopeWithContext(l,n),l.setSpan(s)});let a=Fh.getActiveDomain();a.on("error",ha.captureException);let u=a.bind((...l)=>{l[0]!==null&&l[0]!==void 0&&ha.captureException(l[0]),s.finish(),ha.flush(r.flushTimeout).then(()=>{i(...l)}).then(null,p=>{qz.logger.error(p)})});return e.length>1?e(n,u):Promise.resolve().then(()=>e(n)).then(l=>u(null,l),l=>u(l,void 0))}}o(Mz,"_wrapCloudEventFunction")});var RO=x(ii=>{Object.defineProperty(ii,"__esModule",{value:!0});var zh=nt(),ma=vr(),Pz=IO(),Nz=kO(),Dz=Yo();zh.__exportStar(AO(),ii);zh.__exportStar(qO(),ii);zh.__exportStar(jO(),ii);ii.defaultIntegrations=[...ma.defaultIntegrations,new Nz.GoogleCloudHttp({optional:!0}),new Pz.GoogleCloudGrpc({optional:!0})];function Lz(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=ii.defaultIntegrations),e._metadata=e._metadata||{},e._metadata.sdk={name:"sentry.javascript.serverless",integrations:["GCPFunction"],packages:[{name:"npm:@sentry/serverless",version:ma.SDK_VERSION}],version:ma.SDK_VERSION},ma.init(e),ma.addGlobalEventProcessor(Dz.serverlessEventProcessor)}o(Lz,"init");ii.init=Lz});var PO=x(Qo=>{Object.defineProperty(Qo,"__esModule",{value:!0});var MO=nt(),Bz=OO();Qo.AWSLambda=Bz;var Kz=RO();Qo.GCPFunction=Kz;MO.__exportStar(jh(),Qo);MO.__exportStar(vr(),Qo)});var JO=x(($O,WO)=>{function Vz(e){if(!e)return!1;typeof e=="string"&&(e=new Date(e)),typeof e=="number"&&(e=new Date(e));var t=(e.valueOf()-new Date().valueOf())/1e3;return"Expires="+e.toGMTString()+";Max-Age="+Math.round(t)}o(Vz,"printExpires");var Yz={stringify:function(e){var t;try{t=encodeURIComponent(e.value)}catch(r){t=e.value}return[e.name+"="+t,typeof e.expires!="undefined"&&e.expires?Vz(e.expires):"",typeof e.path!="undefined"?e.path?"Path="+e.path:"":"Path=/",typeof e.domain!="undefined"&&e.domain?"Domain="+e.domain:"",typeof e.secure!="undefined"&&e.secure?"secure":"",typeof e.httponly!="undefined"&&e.httponly?"HttpOnly":"",typeof e.samesite!="undefined"&&e.samesite?"SameSite="+e.samesite:""].join(";").replace(/;+/g,";").replace(/;$/,"").replace(/;/g,"; ")},parse:function(e,t,r){var n=e.replace(/;\s+/g,";").split(";").map(function(p){return p.replace(/\s+\s+/g,"=").split("=")}),i=n.shift(),s={};s.expires=!1,s.httponly=!1,s.secure=!1,s.path=t||"/",s.domain=r||"",s.samesite="";var a,u={httponly:function(){s.httponly=!0},secure:function(){s.secure=!0},expires:function(p){s.expires=new Date(p)},"max-age":function(p){s.expires||(s.expires=new Date(new Date().valueOf()+p*1e3))},path:function(p){s.path=p},domain:function(p){s.domain=p},samesite:function(p){s.samesite=p}};for(var l in n)a=n[l][0].toLowerCase(),typeof u[a]!="undefined"&&u[a](n[l].length==2?n[l][1]:"");return s.expires||(s.expires=0),s.name=i.shift(),i=i.map(p=>{var d;try{d=decodeURIComponent(p)}catch(g){d=p}return p}),s.value=i.join("="),s},tokenize:function(e){return e.map(function(t){return t.name+"="+t.value}).join("; ")}};WO.exports=$O=Yz});var GO=x((P7,va)=>{function Xz(e){return e&&e.__esModule?e:{default:e}}o(Xz,"_interopRequireDefault");va.exports=Xz;va.exports.default=va.exports,va.exports.__esModule=!0});var ut=x((N7,Dr)=>{Dr.exports.KEYOBJECT=Symbol("KEYOBJECT");Dr.exports.PRIVATE_MEMBERS=Symbol("PRIVATE_MEMBERS");Dr.exports.PUBLIC_MEMBERS=Symbol("PUBLIC_MEMBERS");Dr.exports.THUMBPRINT_MATERIAL=Symbol("THUMBPRINT_MATERIAL");Dr.exports.JWK_MEMBERS=Symbol("JWK_MEMBERS");Dr.exports.KEY_MANAGEMENT_ENCRYPT=Symbol("KEY_MANAGEMENT_ENCRYPT");Dr.exports.KEY_MANAGEMENT_DECRYPT=Symbol("KEY_MANAGEMENT_DECRYPT");var sl={sig:new Set(["sign","verify"]),enc:new Set(["encrypt","decrypt","wrapKey","unwrapKey","deriveKey"])},Zz=new Set([...sl.sig,...sl.enc]),Qz=new Set(Object.keys(sl));Dr.exports.USES_MAPPING=sl;Dr.exports.OPS=Zz;Dr.exports.USES=Qz});var Mi=x((D7,Gh)=>{var{deprecate:e$}=require("util"),t$=e$(()=>{},'"P-256K" EC curve name is deprecated');Gh.exports={name:"secp256k1",rename(e){e!=="secp256k1"&&t$(),Gh.exports.name=e}}});var YO=x((L7,VO)=>{var{getCurves:al}=require("crypto"),{name:r$}=Mi(),ya=new Set;al().includes("prime256v1")&&ya.add("P-256");al().includes("secp256k1")&&ya.add(r$);al().includes("secp384r1")&&ya.add("P-384");al().includes("secp521r1")&&ya.add("P-521");VO.exports=ya});var ZO=x((B7,XO)=>{XO.exports=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]])});var e1=x((K7,QO)=>{QO.exports={sign:new Map,verify:new Map,keyManagementEncrypt:new Map,keyManagementDecrypt:new Map,encrypt:new Map,decrypt:new Map}});var r1=x((U7,t1)=>{t1.exports={oct:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},EC:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},RSA:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},OKP:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}}}});var i1=x((F7,n1)=>{n1.exports=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]])});var s1=x((H7,o1)=>{var cl=new Set(["Ed25519"]);"electron"in process.versions||(cl.add("Ed448"),cl.add("X25519"),cl.add("X448"));o1.exports=cl});var c1=x((z7,a1)=>{a1.exports=new Map});var Zr=x(($7,u1)=>{var n$=YO(),i$=ZO(),o$=e1(),s$=r1(),a$=i1(),c$=s1(),u$=c1();u1.exports={EC_CURVES:n$,ECDH_DERIVE_LENGTHS:u$,IVLENGTHS:i$,JWA:o$,JWK:s$,KEYLENGTHS:a$,OKP_CURVES:c$}});var Vh=x((W7,l1)=>{var{randomBytes:l$}=require("crypto"),{IVLENGTHS:p$}=Zr();l1.exports=e=>l$(p$.get(e)/8)});var Kt=x((J7,Pi)=>{var p1=o(e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),"fromBase64"),f1=o((e,t="utf8")=>p1(Buffer.from(e,t).toString("base64")),"encode"),d1=o(e=>p1(e.toString("base64")),"encodeBuffer"),g1=o(e=>Buffer.from(e,"base64"),"decodeToBuffer"),Yh=o((e,t="utf8")=>g1(e).toString(t),"decode"),Xh={encode:e=>f1(JSON.stringify(e)),decode:(e,t="utf8")=>JSON.parse(Yh(e,t))};Xh.decode.try=(e,t="utf8")=>{try{return Xh.decode(e,t)}catch(r){return Yh(e,t)}};var f$=o(e=>{let t=BigInt(e).toString(16);t.length%2&&(t=`0${t}`);let r=t.length/2,n=new Uint8Array(r),i=0,s=0;for(;i<r;)n[i]=parseInt(t.slice(s,s+2),16),i+=1,s+=2;return n},"bnToBuf"),d$=o(e=>d1(Buffer.from(f$(e))),"encodeBigInt");Pi.exports.decode=Yh;Pi.exports.decodeToBuffer=g1;Pi.exports.encode=f1;Pi.exports.encodeBuffer=d1;Pi.exports.JSON=Xh;Pi.exports.encodeBigInt=d$});var Ze=x((cX,yt)=>{var g$={JOSEAlgNotWhitelisted:"ERR_JOSE_ALG_NOT_WHITELISTED",JOSECritNotUnderstood:"ERR_JOSE_CRIT_NOT_UNDERSTOOD",JOSEInvalidEncoding:"ERR_JOSE_INVALID_ENCODING",JOSEMultiError:"ERR_JOSE_MULTIPLE_ERRORS",JOSENotSupported:"ERR_JOSE_NOT_SUPPORTED",JWEDecryptionFailed:"ERR_JWE_DECRYPTION_FAILED",JWEInvalid:"ERR_JWE_INVALID",JWKImportFailed:"ERR_JWK_IMPORT_FAILED",JWKInvalid:"ERR_JWK_INVALID",JWKKeySupport:"ERR_JWK_KEY_SUPPORT",JWKSNoMatchingKey:"ERR_JWKS_NO_MATCHING_KEY",JWSInvalid:"ERR_JWS_INVALID",JWSVerificationFailed:"ERR_JWS_VERIFICATION_FAILED",JWTClaimInvalid:"ERR_JWT_CLAIM_INVALID",JWTExpired:"ERR_JWT_EXPIRED",JWTMalformed:"ERR_JWT_MALFORMED"},h$={JWEDecryptionFailed:"decryption operation failed",JWEInvalid:"JWE invalid",JWKSNoMatchingKey:"no matching key found in the KeyStore",JWSInvalid:"JWS invalid",JWSVerificationFailed:"signature verification failed"},vt=class extends Error{constructor(t){super(t);t===void 0&&(this.message=h$[this.constructor.name]),this.name=this.constructor.name,this.code=g$[this.constructor.name],Error.captureStackTrace(this,this.constructor)}};o(vt,"JOSEError");var m$=o(e=>e instanceof ul,"isMulti"),ul=class extends vt{constructor(t){super();let r;for(;(r=t.findIndex(m$))&&r!==-1;)t.splice(r,1,...t[r]);Object.defineProperty(this,"errors",{value:t})}*[Symbol.iterator](){for(let t of this.errors)yield t}};o(ul,"JOSEMultiError");yt.exports.JOSEError=vt;yt.exports.JOSEAlgNotWhitelisted=o(class extends vt{},"JOSEAlgNotWhitelisted");yt.exports.JOSECritNotUnderstood=o(class extends vt{},"JOSECritNotUnderstood");yt.exports.JOSEInvalidEncoding=o(class extends vt{},"JOSEInvalidEncoding");yt.exports.JOSEMultiError=ul;yt.exports.JOSENotSupported=o(class extends vt{},"JOSENotSupported");yt.exports.JWEDecryptionFailed=o(class extends vt{},"JWEDecryptionFailed");yt.exports.JWEInvalid=o(class extends vt{},"JWEInvalid");yt.exports.JWKImportFailed=o(class extends vt{},"JWKImportFailed");yt.exports.JWKInvalid=o(class extends vt{},"JWKInvalid");yt.exports.JWKKeySupport=o(class extends vt{},"JWKKeySupport");yt.exports.JWKSNoMatchingKey=o(class extends vt{},"JWKSNoMatchingKey");yt.exports.JWSInvalid=o(class extends vt{},"JWSInvalid");yt.exports.JWSVerificationFailed=o(class extends vt{},"JWSVerificationFailed");var ll=class extends vt{constructor(t,r="unspecified",n="unspecified"){super(t);this.claim=r,this.reason=n}};o(ll,"JWTClaimInvalid");yt.exports.JWTClaimInvalid=ll;yt.exports.JWTExpired=o(class extends ll{},"JWTExpired");yt.exports.JWTMalformed=o(class extends vt{},"JWTMalformed")});var ur=x((uX,h1)=>{var{diffieHellman:v$,KeyObject:y$,sign:_$,verify:b$}=require("crypto"),[es,Zh]=process.version.substr(1).split(".").map(e=>parseInt(e,10));h1.exports={oaepHashSupported:es>12||es===12&&Zh>=9,keyObjectSupported:!!y$&&es>=12,edDSASupported:!!_$&&!!b$,dsaEncodingSupported:es>13||es===13&&Zh>=2||es===12&&Zh>=16,improvedDH:!!v$}});var br=x((lX,m1)=>{m1.exports=e=>!!e&&e.constructor===Object});var pl=x(v1=>{var{inherits:x$}=require("util");function xr(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}o(xr,"Reporter");xr.prototype.isError=o(function(t){return t instanceof ts},"isError");xr.prototype.save=o(function(){let t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},"save");xr.prototype.restore=o(function(t){let r=this._reporterState;r.obj=t.obj,r.path=r.path.slice(0,t.pathLen)},"restore");xr.prototype.enterKey=o(function(t){return this._reporterState.path.push(t)},"enterKey");xr.prototype.exitKey=o(function(t){let r=this._reporterState;r.path=r.path.slice(0,t-1)},"exitKey");xr.prototype.leaveKey=o(function(t,r,n){let i=this._reporterState;this.exitKey(t),i.obj!==null&&(i.obj[r]=n)},"leaveKey");xr.prototype.path=o(function(){return this._reporterState.path.join("/")},"path");xr.prototype.enterObject=o(function(){let t=this._reporterState,r=t.obj;return t.obj={},r},"enterObject");xr.prototype.leaveObject=o(function(t){let r=this._reporterState,n=r.obj;return r.obj=t,n},"leaveObject");xr.prototype.error=o(function(t){let r,n=this._reporterState,i=t instanceof ts;if(i?r=t:r=new ts(n.path.map(function(s){return`[${JSON.stringify(s)}]`}).join(""),t.message||t,t.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},"error");xr.prototype.wrapResult=o(function(t){let r=this._reporterState;return r.options.partial?{result:this.isError(t)?null:t,errors:r.errors}:t},"wrapResult");function ts(e,t){this.path=e,this.rethrow(t)}o(ts,"ReporterError");x$(ts,Error);ts.prototype.rethrow=o(function(t){if(this.message=`${t} at: ${this.path||"(shallow)"}`,Error.captureStackTrace&&Error.captureStackTrace(this,ts),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this},"rethrow");v1.Reporter=xr});var dl=x((fX,y1)=>{var{inherits:S$}=require("util"),{Reporter:fl}=pl();function Sr(e,t){if(fl.call(this,t),!Buffer.isBuffer(e)){this.error("Input not Buffer");return}this.base=e,this.offset=0,this.length=e.length}o(Sr,"DecoderBuffer");S$(Sr,fl);Sr.isDecoderBuffer=o(function(t){return t instanceof Sr?!0:typeof t=="object"&&Buffer.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function"},"isDecoderBuffer");Sr.prototype.save=o(function(){return{offset:this.offset,reporter:fl.prototype.save.call(this)}},"save");Sr.prototype.restore=o(function(t){let r=new Sr(this.base);return r.offset=t.offset,r.length=this.offset,this.offset=t.offset,fl.prototype.restore.call(this,t.reporter),r},"restore");Sr.prototype.isEmpty=o(function(){return this.offset===this.length},"isEmpty");Sr.prototype.readUInt8=o(function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},"readUInt8");Sr.prototype.skip=o(function(t,r){if(!(this.offset+t<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new Sr(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},"skip");Sr.prototype.raw=o(function(t){return this.base.slice(t?t.offset:this.offset,this.length)},"raw");function rs(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(r){return rs.isEncoderBuffer(r)||(r=new rs(r,t)),this.length+=r.length,r},this);else if(typeof e=="number"){if(!(e>=0&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if(typeof e=="string")this.value=e,this.length=Buffer.byteLength(e);else if(Buffer.isBuffer(e))this.value=e,this.length=e.length;else return t.error(`Unsupported type: ${typeof e}`)}o(rs,"EncoderBuffer");rs.isEncoderBuffer=o(function(t){return t instanceof rs?!0:typeof t=="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function"},"isEncoderBuffer");rs.prototype.join=o(function(t,r){return t||(t=Buffer.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,r),r+=n.length}):(typeof this.value=="number"?t[r]=this.value:typeof this.value=="string"?t.write(this.value,r):Buffer.isBuffer(this.value)&&this.value.copy(t,r),r+=this.length)),t},"join");y1.exports={DecoderBuffer:Sr,EncoderBuffer:rs}});var gl=x((dX,b1)=>{var{strict:Ut}=require("assert"),{Reporter:E$}=pl(),{DecoderBuffer:w$,EncoderBuffer:T$}=dl(),_1=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],O$=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(_1),C$=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Ue(e,t,r){let n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}o(Ue,"Node");var I$=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Ue.prototype.clone=o(function(){let t=this._baseState,r={};I$.forEach(function(i){r[i]=t[i]});let n=new this.constructor(r.parent);return n._baseState=r,n},"clone");Ue.prototype._wrap=o(function(){let t=this._baseState;O$.forEach(function(r){this[r]=o(function(){let i=new this.constructor(this);return t.children.push(i),i[r].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");Ue.prototype._init=o(function(t){let r=this._baseState;Ut(r.parent===null),t.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Ut.equal(r.children.length,1,"Root node can have only one child")},"init");Ue.prototype._useArgs=o(function(t){let r=this._baseState,n=t.filter(function(i){return i instanceof this.constructor},this);t=t.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Ut(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),t.length!==0&&(Ut(r.args===null),r.args=t,r.reverseArgs=t.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(a){a==(a|0)&&(a|=0);let u=i[a];s[u]=a}),s}))},"useArgs");C$.forEach(function(e){Ue.prototype[e]=o(function(){let r=this._baseState;throw new Error(`${e} not implemented for encoding: ${r.enc}`)},"_overrided")});_1.forEach(function(e){Ue.prototype[e]=o(function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Ut(r.tag===null),r.tag=e,this._useArgs(n),this},"_tagMethod")});Ue.prototype.use=o(function(t){Ut(t);let r=this._baseState;return Ut(r.use===null),r.use=t,this},"use");Ue.prototype.optional=o(function(){let t=this._baseState;return t.optional=!0,this},"optional");Ue.prototype.def=o(function(t){let r=this._baseState;return Ut(r.default===null),r.default=t,r.optional=!0,this},"def");Ue.prototype.explicit=o(function(t){let r=this._baseState;return Ut(r.explicit===null&&r.implicit===null),r.explicit=t,this},"explicit");Ue.prototype.implicit=o(function(t){let r=this._baseState;return Ut(r.explicit===null&&r.implicit===null),r.implicit=t,this},"implicit");Ue.prototype.obj=o(function(){let t=this._baseState,r=Array.prototype.slice.call(arguments);return t.obj=!0,r.length!==0&&this._useArgs(r),this},"obj");Ue.prototype.key=o(function(t){let r=this._baseState;return Ut(r.key===null),r.key=t,this},"key");Ue.prototype.any=o(function(){let t=this._baseState;return t.any=!0,this},"any");Ue.prototype.choice=o(function(t){let r=this._baseState;return Ut(r.choice===null),r.choice=t,this._useArgs(Object.keys(t).map(function(n){return t[n]})),this},"choice");Ue.prototype.contains=o(function(t){let r=this._baseState;return Ut(r.use===null),r.contains=t,this},"contains");Ue.prototype._decode=o(function(t,r){let n=this._baseState;if(n.parent===null)return t.wrapResult(n.children[0]._decode(t,r));let i=n.default,s=!0,a=null;if(n.key!==null&&(a=t.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let p=t.save();try{n.choice===null?this._decodeGeneric(n.tag,t,r):this._decodeChoice(t,r),s=!0}catch(d){s=!1}t.restore(p)}else if(s=this._peekTag(t,l,n.any),t.isError(s))return s}let u;if(n.obj&&s&&(u=t.enterObject()),s){if(n.explicit!==null){let p=this._decodeTag(t,n.explicit);if(t.isError(p))return p;t=p}let l=t.offset;if(n.use===null&&n.choice===null){let p;n.any&&(p=t.save());let d=this._decodeTag(t,n.implicit!==null?n.implicit:n.tag,n.any);if(t.isError(d))return d;n.any?i=t.raw(p):t=d}if(r&&r.track&&n.tag!==null&&r.track(t.path(),l,t.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(t.path(),t.offset,t.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,t,r):i=this._decodeChoice(t,r)),t.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(o(function(d){d._decode(t,r)},"decodeChildren")),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let p=new w$(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(p,r)}}return n.obj&&s&&(i=t.leaveObject(u)),n.key!==null&&(i!==null||s===!0)?t.leaveKey(a,n.key,i):a!==null&&t.exitKey(a),i},"decode");Ue.prototype._decodeGeneric=o(function(t,r,n){let i=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(r,t,i.args[0],n):/str$/.test(t)?this._decodeStr(r,t,n):t==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):t==="objid"?this._decodeObjid(r,null,null,n):t==="gentime"||t==="utctime"?this._decodeTime(r,t,n):t==="null_"?this._decodeNull(r,n):t==="bool"?this._decodeBool(r,n):t==="objDesc"?this._decodeStr(r,t,n):t==="int"||t==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error(`unknown tag: ${t}`)},"decodeGeneric");Ue.prototype._getUse=o(function(t,r){let n=this._baseState;return n.useDecoder=this._use(t,r),Ut(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},"_getUse");Ue.prototype._decodeChoice=o(function(t,r){let n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(a){let u=t.save(),l=n.choice[a];try{let p=l._decode(t,r);if(t.isError(p))return!1;i={type:a,value:p},s=!0}catch(p){return t.restore(u),!1}return!0},this),s?i:t.error("Choice not matched")},"decodeChoice");Ue.prototype._createEncoderBuffer=o(function(t){return new T$(t,this.reporter)},"createEncoderBuffer");Ue.prototype._encode=o(function(t,r,n){let i=this._baseState;if(i.default!==null&&i.default===t)return;let s=this._encodeValue(t,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},"encode");Ue.prototype._encodeValue=o(function(t,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(t,r||new E$);let s=null;if(this.reporter=r,i.optional&&t===void 0)if(i.default!==null)t=i.default;else return;let a=null,u=!1;if(i.any)s=this._createEncoderBuffer(t);else if(i.choice)s=this._encodeChoice(t,r);else if(i.contains)a=this._getUse(i.contains,n)._encode(t,r),u=!0;else if(i.children)a=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,t);if(l._baseState.key===null)return r.error("Child should have a key");let p=r.enterKey(l._baseState.key);if(typeof t!="object")return r.error("Child expected, but input is not object");let d=l._encode(t[l._baseState.key],r,t);return r.leaveKey(p),d},this).filter(function(l){return l}),a=this._createEncoderBuffer(a);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error(`Too many args for: ${i.tag}`);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,a=this._createEncoderBuffer(t.map(function(p){let d=this._baseState;return this._getUse(d.args[0],t)._encode(p,r)},l))}else i.use!==null?s=this._getUse(i.use,n)._encode(t,r):(a=this._encodePrimitive(i.tag,t),u=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,p=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(l,u,p,a))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");Ue.prototype._encodeChoice=o(function(t,r){let n=this._baseState,i=n.choice[t.type];return i||Ut(!1,`${t.type} not found in ${JSON.stringify(Object.keys(n.choice))}`),i._encode(t.value,r)},"encodeChoice");Ue.prototype._encodePrimitive=o(function(t,r){let n=this._baseState;if(/str$/.test(t))return this._encodeStr(r,t);if(t==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(t==="objid")return this._encodeObjid(r,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(r,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(t==="bool")return this._encodeBool(r);if(t==="objDesc")return this._encodeStr(r,t);throw new Error(`Unsupported tag: ${t}`)},"encodePrimitive");Ue.prototype._isNumstr=o(function(t){return/^[0-9 ]*$/.test(t)},"isNumstr");Ue.prototype._isPrintstr=o(function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)},"isPrintstr");b1.exports=Ue});var hl=x(Ni=>{function x1(e){let t={};return Object.keys(e).forEach(function(r){(r|0)==r&&(r=r|0);let n=e[r];t[n]=r}),t}o(x1,"reverse");Ni.tagClass={0:"universal",1:"application",2:"context",3:"private"};Ni.tagClassByName=x1(Ni.tagClass);Ni.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Ni.tagByName=x1(Ni.tag)});var em=x((hX,w1)=>{var{inherits:k$}=require("util"),S1=gl(),Qh=hl();function E1(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new Lr,this.tree._init(e.body)}o(E1,"DEREncoder");E1.prototype.encode=o(function(t,r){return this.tree._encode(t,r).join()},"encode");function Lr(e){S1.call(this,"der",e)}o(Lr,"DERNode");k$(Lr,S1);Lr.prototype._encodeComposite=o(function(t,r,n,i){let s=q$(t,r,n,this.reporter);if(i.length<128){let l=Buffer.alloc(2);return l[0]=s,l[1]=i.length,this._createEncoderBuffer([l,i])}let a=1;for(let l=i.length;l>=256;l>>=8)a++;let u=Buffer.alloc(1+1+a);u[0]=s,u[1]=128|a;for(let l=1+a,p=i.length;p>0;l--,p>>=8)u[l]=p&255;return this._createEncoderBuffer([u,i])},"encodeComposite");Lr.prototype._encodeStr=o(function(t,r){if(r==="bitstr")return this._createEncoderBuffer([t.unused|0,t.data]);if(r==="bmpstr"){let n=Buffer.alloc(t.length*2);for(let i=0;i<t.length;i++)n.writeUInt16BE(t.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(t):r==="objDesc"?this._createEncoderBuffer(t):this.reporter.error(`Encoding of string type: ${r} unsupported`)},"encodeStr");Lr.prototype._encodeObjid=o(function(t,r,n){if(typeof t=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!Object.prototype.hasOwnProperty.call(r,t))return this.reporter.error("objid not found in values map");t=r[t].split(/[\s.]+/g);for(let u=0;u<t.length;u++)t[u]|=0}else if(Array.isArray(t)){t=t.slice();for(let u=0;u<t.length;u++)t[u]|=0}if(!Array.isArray(t))return this.reporter.error(`objid() should be either array or string, got: ${JSON.stringify(t)}`);if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,t[0]*40+t[1])}let i=0;for(let u=0;u<t.length;u++){let l=t[u];for(i++;l>=128;l>>=7)i++}let s=Buffer.alloc(i),a=s.length-1;for(let u=t.length-1;u>=0;u--){let l=t[u];for(s[a--]=l&127;(l>>=7)>0;)s[a--]=128|l&127}return this._createEncoderBuffer(s)},"encodeObjid");function Er(e){return e<10?`0${e}`:e}o(Er,"two");Lr.prototype._encodeTime=o(function(t,r){let n,i=new Date(t);return r==="gentime"?n=[Er(i.getUTCFullYear()),Er(i.getUTCMonth()+1),Er(i.getUTCDate()),Er(i.getUTCHours()),Er(i.getUTCMinutes()),Er(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[Er(i.getUTCFullYear()%100),Er(i.getUTCMonth()+1),Er(i.getUTCDate()),Er(i.getUTCHours()),Er(i.getUTCMinutes()),Er(i.getUTCSeconds()),"Z"].join(""):this.reporter.error(`Encoding ${r} time is not supported yet`),this._encodeStr(n,"octstr")},"encodeTime");Lr.prototype._encodeNull=o(function(){return this._createEncoderBuffer("")},"encodeNull");function A$(e){var t=BigInt(e).toString(16);t.length%2&&(t="0"+t);for(var r=t.length/2,n=new Uint8Array(r),i=0,s=0;i<r;)n[i]=parseInt(t.slice(s,s+2),16),i+=1,s+=2;return n}o(A$,"bnToBuf");Lr.prototype._encodeInt=o(function(t,r){if(typeof t=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!Object.prototype.hasOwnProperty.call(r,t))return this.reporter.error(`Values map doesn't contain: ${JSON.stringify(t)}`);t=r[t]}if(typeof t=="bigint"){let s=[...A$(t)];s[0]&128&&s.unshift(0),t=Buffer.from(s)}if(Buffer.isBuffer(t)){let s=t.length;t.length===0&&s++;let a=Buffer.alloc(s);return t.copy(a),t.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let n=1;for(let s=t;s>=256;s>>=8)n++;let i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=t&255,t>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Buffer.from(i))},"encodeInt");Lr.prototype._encodeBool=o(function(t){return this._createEncoderBuffer(t?255:0)},"encodeBool");Lr.prototype._use=o(function(t,r){return typeof t=="function"&&(t=t(r)),t._getEncoder("der").tree},"use");Lr.prototype._skipDefault=o(function(t,r,n){let i=this._baseState,s;if(i.default===null)return!1;let a=t.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),a.length!==i.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function q$(e,t,r,n){let i;if(e==="seqof"?e="seq":e==="setof"&&(e="set"),Object.prototype.hasOwnProperty.call(Qh.tagByName,e))i=Qh.tagByName[e];else if(typeof e=="number"&&(e|0)===e)i=e;else return n.error(`Unknown tag: ${e}`);return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=Qh.tagClassByName[r||"universal"]<<6,i)}o(q$,"encodeTag");w1.exports=E1});var O1=x((mX,T1)=>{var{inherits:j$}=require("util"),tm=em();function rm(e){tm.call(this,e),this.enc="pem"}o(rm,"PEMEncoder");j$(rm,tm);rm.prototype.encode=o(function(t,r){let i=tm.prototype.encode.call(this,t).toString("base64"),s=[`-----BEGIN ${r.label}-----`];for(let a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push(`-----END ${r.label}-----`),s.join(`
`)},"encode");T1.exports=rm});var nm=x((vX,C1)=>{C1.exports={der:em(),pem:O1()}});var om=x((yX,R1)=>{var{inherits:R$}=require("util"),{DecoderBuffer:I1}=dl(),k1=gl(),A1=hl();function q1(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new lr,this.tree._init(e.body)}o(q1,"DERDecoder");q1.prototype.decode=o(function(t,r){return I1.isDecoderBuffer(t)||(t=new I1(t,r)),this.tree._decode(t,r)},"decode");function lr(e){k1.call(this,"der",e)}o(lr,"DERNode");R$(lr,k1);lr.prototype._peekTag=o(function(t,r,n){if(t.isEmpty())return!1;let i=t.save(),s=im(t,`Failed to peek tag: "${r}"`);return t.isError(s)?s:(t.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},"peekTag");lr.prototype._decodeTag=o(function(t,r,n){let i=im(t,`Failed to decode tag of "${r}"`);if(t.isError(i))return i;let s=j1(t,i.primitive,`Failed to get length of "${r}"`);if(t.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return t.error(`Failed to match tag: "${r}"`);if(i.primitive||s!==null)return t.skip(s,`Failed to match body of: "${r}"`);let a=t.save(),u=this._skipUntilEnd(t,`Failed to skip indefinite length body: "${this.tag}"`);return t.isError(u)?u:(s=t.offset-a.offset,t.restore(a),t.skip(s,`Failed to match body of: "${r}"`))},"decodeTag");lr.prototype._skipUntilEnd=o(function(t,r){for(;;){let n=im(t,r);if(t.isError(n))return n;let i=j1(t,n.primitive,r);if(t.isError(i))return i;let s;if(n.primitive||i!==null?s=t.skip(i):s=this._skipUntilEnd(t,r),t.isError(s))return s;if(n.tagStr==="end")break}},"skipUntilEnd");lr.prototype._decodeList=o(function(t,r,n,i){let s=[];for(;!t.isEmpty();){let a=this._peekTag(t,"end");if(t.isError(a))return a;let u=n.decode(t,"der",i);if(t.isError(u)&&a)break;s.push(u)}return s},"decodeList");lr.prototype._decodeStr=o(function(t,r){if(r==="bitstr"){let n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}else if(r==="bmpstr"){let n=t.raw();if(n.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){let n=t.raw().toString("ascii");return this._isNumstr(n)?n:t.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return t.raw();if(r==="objDesc")return t.raw();if(r==="printstr"){let n=t.raw().toString("ascii");return this._isPrintstr(n)?n:t.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?t.raw().toString():t.error(`Decoding of string type: ${r} unsupported`)}},"decodeStr");lr.prototype._decodeObjid=o(function(t,r,n){let i,s=[],a=0,u=0;for(;!t.isEmpty();)u=t.readUInt8(),a<<=7,a|=u&127,(u&128)==0&&(s.push(a),a=0);u&128&&s.push(a);let l=s[0]/40|0,p=s[0]%40;if(n?i=s:i=[l,p].concat(s.slice(1)),r){let d=r[i.join(" ")];d===void 0&&(d=r[i.join(".")]),d!==void 0&&(i=d)}return i},"decodeObjid");lr.prototype._decodeTime=o(function(t,r){let n=t.raw().toString(),i,s,a,u,l,p;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,u=n.slice(8,10)|0,l=n.slice(10,12)|0,p=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,a=n.slice(4,6)|0,u=n.slice(6,8)|0,l=n.slice(8,10)|0,p=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return t.error(`Decoding ${r} time is not supported yet`);return Date.UTC(i,s-1,a,u,l,p,0)},"decodeTime");lr.prototype._decodeNull=o(function(){return null},"decodeNull");lr.prototype._decodeBool=o(function(t){let r=t.readUInt8();return t.isError(r)?r:r!==0},"decodeBool");lr.prototype._decodeInt=o(function(t,r){let n=t.raw(),i=BigInt(`0x${n.toString("hex")}`);return r&&(i=r[i.toString(10)]||i),i},"decodeInt");lr.prototype._use=o(function(t,r){return typeof t=="function"&&(t=t(r)),t._getDecoder("der").tree},"use");function im(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;let n=A1.tagClass[r>>6],i=(r&32)==0;if((r&31)==31){let a=r;for(r=0;(a&128)==128;){if(a=e.readUInt8(t),e.isError(a))return a;r<<=7,r|=a&127}}else r&=31;let s=A1.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}o(im,"derDecodeTag");function j1(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&n===128)return null;if((n&128)==0)return n;let i=n&127;if(i>4)return e.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;let a=e.readUInt8(r);if(e.isError(a))return a;n|=a}return n}o(j1,"derDecodeLen");R1.exports=q1});var P1=x((_X,M1)=>{var{inherits:M$}=require("util"),sm=om();function am(e){sm.call(this,e),this.enc="pem"}o(am,"PEMDecoder");M$(am,sm);am.prototype.decode=o(function(t,r){let n=t.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1;for(let d=0;d<n.length;d++){let g=n[d].match(s);if(g!==null&&g[2]===i)if(a===-1){if(g[1]!=="BEGIN")break;a=d}else{if(g[1]!=="END")break;u=d;break}}if(a===-1||u===-1)throw new Error(`PEM section not found for: ${i}`);let l=n.slice(a+1,u).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let p=Buffer.from(l,"base64");return sm.prototype.decode.call(this,p,r)},"decode");M1.exports=am});var cm=x((bX,N1)=>{N1.exports={der:om(),pem:P1()}});var L1=x((xX,D1)=>{var{inherits:P$}=require("util"),N$=nm(),D$=cm();D1.exports.define=o(function(t,r){return new ns(t,r)},"define");function ns(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}o(ns,"Entity");ns.prototype._createNamed=o(function(t){let r=this.name;function n(i){this._initNamed(i,r)}return o(n,"Generated"),P$(n,t),n.prototype._initNamed=o(function(s,a){t.call(this,s,a)},"_initNamed"),new n(this)},"createNamed");ns.prototype._getDecoder=o(function(t){return t=t||"der",Object.prototype.hasOwnProperty.call(this.decoders,t)||(this.decoders[t]=this._createNamed(D$[t])),this.decoders[t]},"_getDecoder");ns.prototype.decode=o(function(t,r,n){return this._getDecoder(r).decode(t,n)},"decode");ns.prototype._getEncoder=o(function(t){return t=t||"der",Object.prototype.hasOwnProperty.call(this.encoders,t)||(this.encoders[t]=this._createNamed(N$[t])),this.encoders[t]},"_getEncoder");ns.prototype.encode=o(function(t,r,n){return this._getEncoder(r).encode(t,n)},"encode")});var K1=x((SX,B1)=>{var{Reporter:L$}=pl(),{DecoderBuffer:B$,EncoderBuffer:K$}=dl(),U$=gl();B1.exports={DecoderBuffer:B$,EncoderBuffer:K$,Node:U$,Reporter:L$}});var F1=x((EX,U1)=>{U1.exports={der:hl()}});var z1=x((wX,H1)=>{var{define:F$}=L1(),H$=K1(),z$=F1(),$$=cm(),W$=nm();H1.exports={base:H$,constants:z$,decoders:$$,define:F$,encoders:W$}});var um=x((TX,$1)=>{var{name:J$}=Mi(),G$={"1 2 840 10045 3 1 7":"P-256","1 3 132 0 10":J$,"1 3 132 0 34":"P-384","1 3 132 0 35":"P-521","1 2 840 10045 2 1":"ecPublicKey","1 2 840 113549 1 1 1":"rsaEncryption","1 3 101 110":"X25519","1 3 101 111":"X448","1 3 101 112":"Ed25519","1 3 101 113":"Ed448"};$1.exports=G$});var G1=x((OX,J1)=>{var W1=um();J1.exports=function(){this.seq().obj(this.key("algorithm").objid(W1),this.key("parameters").optional().choice({namedCurve:this.objid(W1),null:this.null_()}))}});var Y1=x((CX,V1)=>{var V$=um();V1.exports=function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().choice({namedCurve:this.objid(V$)}),this.key("publicKey").explicit(1).optional().bitstr())}});var Z1=x((IX,X1)=>{X1.exports=e=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("privateKey").octstr())}});var eC=x((kX,Q1)=>{Q1.exports=e=>function(){this.seq().obj(this.key("algorithm").use(e),this.key("publicKey").bitstr())}});var rC=x((AX,tC)=>{tC.exports=function(){this.octstr().contains().obj(this.key("privateKey").octstr())}});var iC=x((qX,nC)=>{nC.exports=(e,t)=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("privateKey").use(t))}});var sC=x((jX,oC)=>{oC.exports=function(){this.seq().obj(this.key("version").int({0:"two-prime",1:"multi"}),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int())}});var cC=x((RX,aC)=>{aC.exports=function(){this.seq().obj(this.key("n").int(),this.key("e").int())}});var lm=x((MX,lC)=>{var oi=z1(),kn=new Map,ml=oi.define("AlgorithmIdentifier",G1());kn.set("AlgorithmIdentifier",ml);var Y$=oi.define("ECPrivateKey",Y1());kn.set("ECPrivateKey",Y$);var X$=oi.define("PrivateKeyInfo",Z1()(ml));kn.set("PrivateKeyInfo",X$);var Z$=oi.define("PublicKeyInfo",eC()(ml));kn.set("PublicKeyInfo",Z$);var uC=oi.define("PrivateKey",rC());kn.set("PrivateKey",uC);var Q$=oi.define("OneAsymmetricKey",iC()(ml,uC));kn.set("OneAsymmetricKey",Q$);var e4=oi.define("RSAPrivateKey",sC());kn.set("RSAPrivateKey",e4);var t4=oi.define("RSAPublicKey",cC());kn.set("RSAPublicKey",t4);lC.exports=kn});var _t=x((NX,pC)=>{var{keyObjectSupported:r4}=ur(),Qr,si,vl,en,pm;if(r4)({createPublicKey:Qr,createPrivateKey:si,createSecretKey:vl,KeyObject:en}=require("crypto")),pm=o(e=>e,"asInput");else{let{EOL:e}=require("os"),t=Ze(),r=br(),n=lm(),i=Symbol("toInput"),s=Symbol("namedCurve");pm=o((p,d)=>p instanceof en?p[i](d):vl(p)[i](d),"asInput");let a=o(p=>Buffer.from(p.replace(/(?:-----(?:BEGIN|END)(?: (?:RSA|EC))? (?:PRIVATE|PUBLIC) KEY-----|\s)/g,""),"base64"),"pemToDer"),u=o((p,d)=>`-----BEGIN ${d}-----${e}${(p.toString("base64").match(/.{1,64}/g)||[]).join(e)}${e}-----END ${d}-----`,"derToPem"),l=o(p=>{let d=typeof p=="string"?p:`OID ${p.join(".")}`;throw new t.JOSENotSupported(`${d} is not supported in your Node.js runtime version`)},"unsupported");en=o(class{export({cipher:d,passphrase:g,type:m,format:v}={}){if(this._type==="secret")return this._buffer;if(this._type==="public"){if(this.asymmetricKeyType==="rsa")switch(m){case"pkcs1":return v==="pem"?this._pem:a(this._pem);case"spki":{let S=n.get("PublicKeyInfo").encode({algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}},publicKey:{unused:0,data:a(this._pem)}},"pem",{label:"PUBLIC KEY"});return v==="pem"?S:a(S)}default:throw new TypeError(`The value ${m} is invalid for option "type"`)}if(this.asymmetricKeyType==="ec"){if(m!=="spki")throw new TypeError(`The value ${m} is invalid for option "type"`);return v==="pem"?this._pem:a(this._pem)}}if(this._type==="private"){if(g!==void 0||d!==void 0)throw new t.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if(m==="pkcs8"){if(this._pkcs8)return v==="der"&&typeof this._pkcs8=="string"?a(this._pkcs8):v==="pem"&&Buffer.isBuffer(this._pkcs8)?u(this._pkcs8,"PRIVATE KEY"):this._pkcs8;if(this.asymmetricKeyType==="rsa"){let y=this._asn1,E=n.get("RSAPrivateKey").encode(y),w=n.get("PrivateKeyInfo").encode({version:0,privateKey:E,algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}}});return this._pkcs8=w,this.export({type:m,format:v})}if(this.asymmetricKeyType==="ec"){let y=this._asn1,E=n.get("ECPrivateKey").encode({version:y.version,privateKey:y.privateKey,publicKey:y.publicKey}),w=n.get("PrivateKeyInfo").encode({version:0,privateKey:E,algorithm:{algorithm:"ecPublicKey",parameters:this._asn1.parameters}});return this._pkcs8=w,this.export({type:m,format:v})}}if(this.asymmetricKeyType==="rsa"&&m==="pkcs1")return v==="pem"?this._pem:a(this._pem);if(this.asymmetricKeyType==="ec"&&m==="sec1")return v==="pem"?this._pem:a(this._pem);throw new TypeError(`The value ${m} is invalid for option "type"`)}}get type(){return this._type}get asymmetricKeyType(){return this._asymmetricKeyType}get symmetricKeySize(){return this._symmetricKeySize}[i](d){switch(this._type){case"secret":return this._buffer;case"public":return this._pem;default:return d?("_pub"in this||(this._pub=Qr(this)),this._pub[i](!1)):this._pem}}},"KeyObject"),vl=o(p=>{if(!Buffer.isBuffer(p)||!p.length)throw new TypeError("input must be a non-empty Buffer instance");let d=new en;return d._buffer=Buffer.from(p),d._symmetricKeySize=p.length,d._type="secret",d},"createSecretKey"),Qr=o(p=>{if(p instanceof en){if(p.type!=="private")throw new TypeError(`Invalid key object type ${p.type}, expected private.`);switch(p.asymmetricKeyType){case"ec":{let E=n.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:p._asn1.parameters},publicKey:p._asn1.publicKey});return Qr({key:E,format:"der",type:"spki"})}case"rsa":{let E=n.get("RSAPublicKey").encode(p._asn1);return Qr({key:E,format:"der",type:"pkcs1"})}}}if((typeof p=="string"||Buffer.isBuffer(p))&&(p={key:p,format:"pem"}),!r(p))throw new TypeError("input must be a string, Buffer or an object");let{format:d,passphrase:g}=p,{key:m,type:v}=p;if(typeof m!="string"&&!Buffer.isBuffer(m))throw new TypeError("key must be a string or Buffer");if(d!=="pem"&&d!=="der")throw new TypeError('format must be one of "pem" or "der"');let y;if(d==="pem")switch(m=m.toString(),m.split(/\r?\n/g)[0].toString()){case"-----BEGIN PUBLIC KEY-----":v="spki",y="PUBLIC KEY";break;case"-----BEGIN RSA PUBLIC KEY-----":v="pkcs1",y="RSA PUBLIC KEY";break;case"-----BEGIN CERTIFICATE-----":throw new t.JOSENotSupported("X.509 certificates are not supported in your Node.js runtime version");case"-----BEGIN PRIVATE KEY-----":case"-----BEGIN EC PRIVATE KEY-----":case"-----BEGIN RSA PRIVATE KEY-----":return Qr(si(m));default:throw new TypeError("unknown/unsupported PEM type")}switch(v){case"spki":{let S=n.get("PublicKeyInfo"),E=S.decode(m,d,{label:y}),T,w;switch(E.algorithm.algorithm){case"ecPublicKey":{w=new en,w._asn1=E,w._asymmetricKeyType="ec",w._type="public",w._pem=S.encode(E,"pem",{label:"PUBLIC KEY"});break}case"rsaEncryption":{T="pkcs1",w=Qr({type:T,key:E.publicKey.data,format:"der"});break}default:l(E.algorithm.algorithm)}return w}case"pkcs1":{let S=n.get("RSAPublicKey"),E=S.decode(m,d,{label:y});if(E.n===BigInt(0))return Qr(si({key:m,format:d,type:v,passphrase:g}));let T=new en;return T._asn1=E,T._asymmetricKeyType="rsa",T._type="public",T._pem=S.encode(E,"pem",{label:"RSA PUBLIC KEY"}),T}case"pkcs8":case"sec1":return Qr(si({format:d,key:m,type:v,passphrase:g}));default:throw new TypeError(`The value ${v} is invalid for option "type"`)}},"createPublicKey"),si=o((p,d)=>{if((typeof p=="string"||Buffer.isBuffer(p))&&(p={key:p,format:"pem"}),!r(p))throw new TypeError("input must be a string, Buffer or an object");let{format:g,passphrase:m}=p,{key:v,type:y}=p;if(typeof v!="string"&&!Buffer.isBuffer(v))throw new TypeError("key must be a string or Buffer");if(m!==void 0)throw new t.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if(g!=="pem"&&g!=="der")throw new TypeError('format must be one of "pem" or "der"');let S;if(g==="pem")switch(v=v.toString(),v.split(/\r?\n/g)[0].toString()){case"-----BEGIN PRIVATE KEY-----":y="pkcs8",S="PRIVATE KEY";break;case"-----BEGIN EC PRIVATE KEY-----":y="sec1",S="EC PRIVATE KEY";break;case"-----BEGIN RSA PRIVATE KEY-----":y="pkcs1",S="RSA PRIVATE KEY";break;default:throw new TypeError("unknown/unsupported PEM type")}switch(y){case"pkcs8":{let T=n.get("PrivateKeyInfo").decode(v,g,{label:S}),w,O;switch(T.algorithm.algorithm){case"ecPublicKey":{w="sec1",O=si({type:w,key:T.privateKey,format:"der"},{[s]:T.algorithm.parameters.value});break}case"rsaEncryption":{w="pkcs1",O=si({type:w,key:T.privateKey,format:"der"});break}default:l(T.algorithm.algorithm)}return O._pkcs8=v,O}case"pkcs1":{let E=n.get("RSAPrivateKey"),T=E.decode(v,g,{label:S}),w=new en;return w._asn1=T,w._asymmetricKeyType="rsa",w._type="private",w._pem=E.encode(T,"pem",{label:"RSA PRIVATE KEY"}),w}case"sec1":{let E=n.get("ECPrivateKey"),T=E.decode(v,g,{label:S});if(!("parameters"in T)&&!d[s])throw new Error("invalid sec1");"parameters"in T||(T=Le(ie({},T),{parameters:{type:"namedCurve",value:d[s]}}));let w=new en;return w._asn1=T,w._asymmetricKeyType="ec",w._type="private",w._pem=E.encode(T,"pem",{label:"EC PRIVATE KEY"}),w}default:throw new TypeError(`The value ${y} is invalid for option "type"`)}},"createPrivateKey")}pC.exports={createPublicKey:Qr,createPrivateKey:si,createSecretKey:vl,KeyObject:en,asInput:pm}});var dC=x((DX,fC)=>{var{randomBytes:n4}=require("crypto"),yl=Kt(),fm=Ze(),is=BigInt(0),Tt=BigInt(1),_a=BigInt(2),ba=o(e=>{let t=e.toString(16);return yl.encodeBuffer(Buffer.from(t.length%2?`0${t}`:t,"hex"))},"toJWKParameter"),_l=o(e=>BigInt(`0x${e.toString("hex")}`),"fromBuffer"),i4=o(e=>e.toString(2).length,"bitLength"),o4=o((e,t)=>{let r=is,n=Tt,i=Tt,s=is;for(;e!==is;){let a=t/e,u=t%e,l=r-i*a,p=n-s*a;t=e,e=u,r=i,n=s,i=l,s=p}return r},"eGcdX"),s4=o((e,t)=>{let r=is;for(;!((e|t)&Tt);)e>>=Tt,t>>=Tt,r++;for(;!(e&Tt);)e>>=Tt;do{for(;!(t&Tt);)t>>=Tt;if(e>t){let n=e;e=t,t=n}t-=e}while(t);return e<<r},"gcd"),a4=o((e,t,r)=>{e=dm(e,r);let n=Tt,i=e;for(;t>0;){var s=t%_a;t=t/_a,s===Tt&&(n=n*i,n=n%r),i=i*i,i=i%r}return n},"modPow"),c4=o((e,t)=>{let r=t-e,n=i4(r),i;do i=_l(u4(n));while(i>r);return i+e},"randBetween"),u4=o(e=>{let t=Math.ceil(e/8),r=n4(t);return r[0]=r[0]&2**(e%8)-1,r},"randBits"),dm=o((e,t)=>(e=e%t,e<0?e+t:e),"toZn"),l4=o(e=>{let t=e;for(;t%_a===is;)t=t/_a;return t},"odd"),p4=30,f4=22,d4=o((e,t,r)=>{let n=l4(e*t-Tt),i=0,s;do{if(i++,i===p4)throw new fm.JWKImportFailed("failed to calculate missing primes");let l=0,p=a4(c4(_a,r),n,r),d=is;for(;p!==Tt;){if(l++,l===f4)throw new fm.JWKImportFailed("failed to calculate missing primes");d=p,p=p*p%r}d!==r-Tt&&(s=d)}while(!s);let a=s4(s-Tt,r),u=r/a;return a>u?{p:a,q:u}:{p:u,q:a}},"getPrimeFactors");fC.exports=e=>{let t=_l(yl.decodeToBuffer(e.e)),r=_l(yl.decodeToBuffer(e.d)),n=_l(yl.decodeToBuffer(e.n));if(r>=n)throw new fm.JWKInvalid("invalid RSA private exponent");let{p:i,q:s}=d4(t,r,n),a=r%(i-Tt),u=r%(s-Tt),l=dm(o4(dm(s,i),i),i);return Le(ie({},e),{p:ba(i),q:ba(s),dp:ba(a),dq:ba(u),qi:ba(l)})}});var vm=x((LX,mm)=>{var{EOL:gm}=require("os"),ai=Ze(),{keyObjectSupported:g4}=ur(),{createPublicKey:gC}=_t(),Ne=Kt(),Ft=lm(),h4=dC(),{OKP_CURVES:m4,EC_CURVES:v4}=Zr(),y4=o((e,t)=>`-----BEGIN ${t} KEY-----${gm}${(e.match(/.{1,64}/g)||[]).join(gm)}${gm}-----END ${t} KEY-----`,"formatPem"),An={private(e,t){let r=t.export({type:"pkcs8",format:"der"}),n=Ft.get("OneAsymmetricKey"),{privateKey:{privateKey:i}}=n.decode(r);return Le(ie({},An.public(e,gC(t))),{d:Ne.encodeBuffer(i)})},public(e,t){let r=t.export({type:"spki",format:"der"}),n=Ft.get("PublicKeyInfo"),{publicKey:{data:i}}=n.decode(r);return{kty:"OKP",crv:e,x:Ne.encodeBuffer(i)}}},hm={rsa:{private(e){let t=e.export({type:"pkcs8",format:"der"}),r=Ft.get("PrivateKeyInfo"),n=Ft.get("RSAPrivateKey"),{privateKey:i}=r.decode(t),{version:s,n:a,e:u,d:l,p,q:d,dp:g,dq:m,qi:v}=n.decode(i);if(s!=="two-prime")throw new ai.JOSENotSupported("Private RSA keys with more than two primes are not supported");return{kty:"RSA",n:Ne.encodeBigInt(a),e:Ne.encodeBigInt(u),d:Ne.encodeBigInt(l),p:Ne.encodeBigInt(p),q:Ne.encodeBigInt(d),dp:Ne.encodeBigInt(g),dq:Ne.encodeBigInt(m),qi:Ne.encodeBigInt(v)}},public(e){let t=e.export({type:"spki",format:"der"}),r=Ft.get("PublicKeyInfo"),n=Ft.get("RSAPublicKey"),{publicKey:{data:i}}=r.decode(t),{n:s,e:a}=n.decode(i);return{kty:"RSA",n:Ne.encodeBigInt(s),e:Ne.encodeBigInt(a)}}},ec:{private(e){let t=e.export({type:"pkcs8",format:"der"}),r=Ft.get("PrivateKeyInfo"),n=Ft.get("ECPrivateKey"),{privateKey:i,algorithm:{parameters:{value:s}}}=r.decode(t),{privateKey:a,publicKey:u}=n.decode(i);if(typeof u=="undefined"){if(g4)return Le(ie({},hm.ec.public(gC(e))),{d:Ne.encodeBuffer(a)});throw new ai.JOSENotSupported("Private EC keys without the public key embedded are not supported in your Node.js runtime version")}let l=u.data.slice(1,(u.data.length-1)/2+1),p=u.data.slice((u.data.length-1)/2+1);return{kty:"EC",crv:s,d:Ne.encodeBuffer(a),x:Ne.encodeBuffer(l),y:Ne.encodeBuffer(p)}},public(e){let t=e.export({type:"spki",format:"der"}),r=Ft.get("PublicKeyInfo"),{publicKey:{data:n},algorithm:{parameters:{value:i}}}=r.decode(t),s=n.slice(1,(n.length-1)/2+1),a=n.slice((n.length-1)/2+1);return{kty:"EC",crv:i,x:Ne.encodeBuffer(s),y:Ne.encodeBuffer(a)}}},ed25519:{private(e){return An.private("Ed25519",e)},public(e){return An.public("Ed25519",e)}},ed448:{private(e){return An.private("Ed448",e)},public(e){return An.public("Ed448",e)}},x25519:{private(e){return An.private("X25519",e)},public(e){return An.public("X25519",e)}},x448:{private(e){return An.private("X448",e)},public(e){return An.public("X448",e)}}};mm.exports.keyObjectToJWK=e=>e.type==="private"?hm[e.asymmetricKeyType].private(e):hm[e.asymmetricKeyType].public(e);var hC=o((e,t)=>({unused:0,data:Buffer.concat([Buffer.alloc(1,4),Ne.decodeToBuffer(e),Ne.decodeToBuffer(t)])}),"concatEcPublicKey"),mC={RSA:{private(e,{calculateMissingRSAPrimes:t}){let r=Ft.get("RSAPrivateKey");if("oth"in e)throw new ai.JOSENotSupported("Private RSA keys with more than two primes are not supported");if(e.p||e.q||e.dp||e.dq||e.qi){if(!(e.p&&e.q&&e.dp&&e.dq&&e.qi))throw new ai.JWKInvalid("all other private key parameters must be present when any one of them is present")}else if(t)e=h4(e);else if(!t)throw new ai.JOSENotSupported("importing private RSA keys without all other private key parameters is not enabled, see documentation and its advisory on how and when its ok to enable it");return r.encode({version:0,n:BigInt(`0x${Ne.decodeToBuffer(e.n).toString("hex")}`),e:BigInt(`0x${Ne.decodeToBuffer(e.e).toString("hex")}`),d:BigInt(`0x${Ne.decodeToBuffer(e.d).toString("hex")}`),p:BigInt(`0x${Ne.decodeToBuffer(e.p).toString("hex")}`),q:BigInt(`0x${Ne.decodeToBuffer(e.q).toString("hex")}`),dp:BigInt(`0x${Ne.decodeToBuffer(e.dp).toString("hex")}`),dq:BigInt(`0x${Ne.decodeToBuffer(e.dq).toString("hex")}`),qi:BigInt(`0x${Ne.decodeToBuffer(e.qi).toString("hex")}`)},"pem",{label:"RSA PRIVATE KEY"})},public(e){return Ft.get("RSAPublicKey").encode({version:0,n:BigInt(`0x${Ne.decodeToBuffer(e.n).toString("hex")}`),e:BigInt(`0x${Ne.decodeToBuffer(e.e).toString("hex")}`)},"pem",{label:"RSA PUBLIC KEY"})}},EC:{private(e){return Ft.get("ECPrivateKey").encode({version:1,privateKey:Ne.decodeToBuffer(e.d),parameters:{type:"namedCurve",value:e.crv},publicKey:hC(e.x,e.y)},"pem",{label:"EC PRIVATE KEY"})},public(e){return Ft.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:{type:"namedCurve",value:e.crv}},publicKey:hC(e.x,e.y)},"pem",{label:"PUBLIC KEY"})}},OKP:{private(e){let r=Ft.get("OneAsymmetricKey").encode({version:0,privateKey:{privateKey:Ne.decodeToBuffer(e.d)},algorithm:{algorithm:e.crv}},"der");return r.write("04",12,1,"hex"),y4(r.toString("base64"),"PRIVATE")},public(e){return Ft.get("PublicKeyInfo").encode({algorithm:{algorithm:e.crv},publicKey:{unused:0,data:Ne.decodeToBuffer(e.x)}},"pem",{label:"PUBLIC KEY"})}}};mm.exports.jwkToPem=(e,{calculateMissingRSAPrimes:t=!1}={})=>{switch(e.kty){case"EC":if(!v4.has(e.crv))throw new ai.JOSENotSupported(`unsupported EC key curve: ${e.crv}`);break;case"OKP":if(!m4.has(e.crv))throw new ai.JOSENotSupported(`unsupported OKP key curve: ${e.crv}`);break;case"RSA":break;default:throw new ai.JOSENotSupported(`unsupported key type: ${e.kty}`)}return e.d?mC[e.kty].private(e,{calculateMissingRSAPrimes:t}):mC[e.kty].public(e)}});var bC=x((BX,bl)=>{var{createHash:vC}=require("crypto"),yC=Kt(),_C=o((e,t)=>yC.encodeBuffer(vC(e).update(Buffer.from(t,"base64")).digest()),"x5t");bl.exports.kid=e=>yC.encodeBuffer(vC("sha256").update(JSON.stringify(e)).digest());bl.exports.x5t=_C.bind(void 0,"sha1");bl.exports["x5t#S256"]=_C.bind(void 0,"sha256")});var tn=x((KX,OC)=>{var{strict:_4}=require("assert"),{inspect:xC}=require("util"),{EOL:ym}=require("os"),{keyObjectSupported:SC}=ur(),{createPublicKey:_m}=_t(),{keyObjectToJWK:b4}=vm(),{THUMBPRINT_MATERIAL:EC,PUBLIC_MEMBERS:xa,PRIVATE_MEMBERS:bm,JWK_MEMBERS:x4,KEYOBJECT:Sa,USES_MAPPING:wC,OPS:S4,USES:E4}=ut(),w4=br(),xm=bC(),xl=Ze(),TC=Symbol("privateApi"),{JWK:T4}=Zr(),Sm=class{constructor(t,{alg:r,use:n,kid:i,key_ops:s,x5c:a,x5t:u,"x5t#S256":l}={}){if(n!==void 0&&(typeof n!="string"||!E4.has(n)))throw new TypeError('`use` must be either "sig" or "enc" string when provided');if(r!==void 0&&(typeof r!="string"||!r))throw new TypeError("`alg` must be a non-empty string when provided");if(i!==void 0&&(typeof i!="string"||!i))throw new TypeError("`kid` must be a non-empty string when provided");if(s!==void 0){if(!Array.isArray(s)||!s.length||s.some(p=>typeof p!="string"))throw new TypeError("`key_ops` must be a non-empty array of strings when provided");s=Array.from(new Set(s)).filter(p=>S4.has(p))}if(s&&n&&(n==="enc"&&s.some(p=>wC.sig.has(p))||n==="sig"&&s.some(p=>wC.enc.has(p))))throw new xl.JWKInvalid('inconsistent JWK "use" and "key_ops"');if(SC&&a!==void 0){if(!Array.isArray(a)||!a.length||a.some(p=>typeof p!="string"))throw new TypeError("`x5c` must be an array of one or more PKIX certificates when provided");a.forEach((p,d)=>{let g;try{g=_m({key:`-----BEGIN CERTIFICATE-----${ym}${(p.match(/.{1,64}/g)||[]).join(ym)}${ym}-----END CERTIFICATE-----`,format:"pem"})}catch(m){throw new xl.JWKInvalid(`\`x5c\` member at index ${d} is not a valid base64-encoded DER PKIX certificate`)}if(d===0)try{_4.deepEqual(g.export({type:"spki",format:"der"}),(t.type==="public"?t:_m(t)).export({type:"spki",format:"der"}))}catch(m){throw new xl.JWKInvalid("The key in the first `x5c` certificate MUST match the public key represented by the JWK")}})}Object.defineProperties(this,Le(ie(ie({[Sa]:{value:w4(t)?void 0:t},keyObject:{get(){if(!SC)throw new xl.JOSENotSupported("KeyObject class is not supported in your Node.js runtime version");return this[Sa]}},type:{value:t.type},private:{value:t.type==="private"},public:{value:t.type==="public"},secret:{value:t.type==="secret"},alg:{value:r,enumerable:r!==void 0},use:{value:n,enumerable:n!==void 0},x5c:ie({enumerable:a!==void 0},a?{get(){return[...a]}}:{value:void 0}),key_ops:ie({enumerable:s!==void 0},s?{get(){return[...s]}}:{value:void 0}),kid:ie({enumerable:!0},i?{value:i}:{get(){return Object.defineProperty(this,"kid",{value:this.thumbprint,configurable:!1}),this.kid},configurable:!0})},a?{x5t:ie({enumerable:!0},u?{value:u}:{get(){return Object.defineProperty(this,"x5t",{value:xm.x5t(this.x5c[0]),configurable:!1}),this.x5t},configurable:!0})}:void 0),a?{"x5t#S256":ie({enumerable:!0},l?{value:l}:{get(){return Object.defineProperty(this,"x5t#S256",{value:xm["x5t#S256"](this.x5c[0]),configurable:!1}),this["x5t#S256"]},configurable:!0})}:void 0),{thumbprint:{get(){return Object.defineProperty(this,"thumbprint",{value:xm.kid(this[EC]()),configurable:!1}),this.thumbprint},configurable:!0}}))}toPEM(t=!1,r={}){if(this.secret)throw new TypeError("symmetric keys cannot be exported as PEM");if(t&&this.public===!0)throw new TypeError("public key cannot be exported as private");let{type:n=t?"pkcs8":"spki",cipher:i,passphrase:s}=r,a=this[Sa];if(!t&&(this.private&&(a=_m(a)),i||s))throw new TypeError("cipher and passphrase can only be applied when exporting private keys");return t?a.export({format:"pem",type:n,cipher:i,passphrase:s}):a.export({format:"pem",type:n})}toJWK(t=!1){if(t&&this.public===!0)throw new TypeError("public key cannot be exported as private");let r=[...this.constructor[t?bm:xa]].map(i=>[i,this[i]]),n={};return Object.keys(r).forEach(i=>{let[s,a]=r[i];n[s]=a}),n.kty=this.kty,n.kid=this.kid,this.alg&&(n.alg=this.alg),this.key_ops&&this.key_ops.length&&(n.key_ops=this.key_ops),this.use&&(n.use=this.use),this.x5c&&(n.x5c=this.x5c),this.x5t&&(n.x5t=this.x5t),this["x5t#S256"]&&(n["x5t#S256"]=this["x5t#S256"]),n}[x4](){let t=this[Sa].type==="private"?this.constructor[bm]:this.constructor[xa];Object.defineProperties(this,[...t].reduce((r,n)=>(r[n]={get(){let i=b4(this[Sa]);return Object.defineProperties(this,Object.entries(i).filter(([s])=>t.has(s)).reduce((s,[a,u])=>(s[a]={value:u,enumerable:this.constructor[xa].has(a),configurable:!1},s),{})),this[n]},enumerable:this.constructor[xa].has(n),configurable:!0},r),{}))}[xC.custom](){return`${this.constructor.name} ${xC(this.toJWK(!1),{depth:Infinity,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}[EC](){throw new Error(`"[THUMBPRINT_MATERIAL]()" is not implemented on ${this.constructor.name}`)}algorithms(t,r,n){let{use:i=this.use,alg:s=this.alg,key_ops:a=this.key_ops}=r===TC?n:{};if(s)return new Set(this.algorithms(t,TC,{alg:null,use:i,key_ops:a}).has(s)?[s]:void 0);if(typeof t=="symbol")try{return this[t]()}catch(u){return new Set}if(t&&a&&!a.includes(t))return new Set;switch(t){case"decrypt":case"deriveKey":case"encrypt":case"sign":case"unwrapKey":case"verify":case"wrapKey":return new Set(Object.entries(T4[this.kty][t]).map(([u,l])=>l(this)?u:void 0).filter(Boolean));case void 0:return new Set([...this.algorithms("sign"),...this.algorithms("verify"),...this.algorithms("decrypt"),...this.algorithms("encrypt"),...this.algorithms("unwrapKey"),...this.algorithms("wrapKey"),...this.algorithms("deriveKey")]);default:throw new TypeError("invalid key operation")}}static async generate(){throw new Error(`"static async generate()" is not implemented on ${this.name}`)}static generateSync(){throw new Error(`"static generateSync()" is not implemented on ${this.name}`)}static get[xa](){throw new Error(`"static get [PUBLIC_MEMBERS]()" is not implemented on ${this.name}`)}static get[bm](){throw new Error(`"static get [PRIVATE_MEMBERS]()" is not implemented on ${this.name}`)}};o(Sm,"Key");OC.exports=Sm});var Tm=x((UX,RC)=>{var{generateKeyPairSync:CC,generateKeyPair:O4}=require("crypto"),{promisify:C4}=require("util"),{THUMBPRINT_MATERIAL:I4,JWK_MEMBERS:k4,PUBLIC_MEMBERS:A4,PRIVATE_MEMBERS:q4,KEY_MANAGEMENT_DECRYPT:j4,KEY_MANAGEMENT_ENCRYPT:R4}=ut(),{keyObjectSupported:IC}=ur(),{createPublicKey:kC,createPrivateKey:AC}=_t(),M4=tn(),qC=C4(O4),Em=new Set(["e","n"]);Object.freeze(Em);var jC=new Set([...Em,"d","p","q","dp","dq","qi"]);Object.freeze(jC);var wm=class extends M4{constructor(...t){super(...t);this[k4](),Object.defineProperties(this,{kty:{value:"RSA",enumerable:!0},length:{get(){return Object.defineProperty(this,"length",{value:Buffer.byteLength(this.n,"base64")*8,configurable:!1}),this.length},configurable:!0}})}static get[A4](){return Em}static get[q4](){return jC}[I4](){return{e:this.e,kty:"RSA",n:this.n}}[R4](){return this.algorithms("wrapKey")}[j4](){return this.algorithms("unwrapKey")}static async generate(t=2048,r=!0){if(!Number.isSafeInteger(t)||t<512||t%8!=0||"electron"in process.versions&&t%128!=0)throw new TypeError("invalid bit length");let n,i;return IC?({privateKey:n,publicKey:i}=await qC("rsa",{modulusLength:t}),r?n:i):({privateKey:n,publicKey:i}=await qC("rsa",{modulusLength:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),r?AC(n):kC(i))}static generateSync(t=2048,r=!0){if(!Number.isSafeInteger(t)||t<512||t%8!=0||"electron"in process.versions&&t%128!=0)throw new TypeError("invalid bit length");let n,i;return IC?({privateKey:n,publicKey:i}=CC("rsa",{modulusLength:t}),r?n:i):({privateKey:n,publicKey:i}=CC("rsa",{modulusLength:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),r?AC(n):kC(i))}};o(wm,"RSAKey");RC.exports=wm});var Am=x((FX,UC)=>{var{generateKeyPairSync:MC,generateKeyPair:P4}=require("crypto"),{promisify:N4}=require("util"),{THUMBPRINT_MATERIAL:D4,JWK_MEMBERS:L4,PUBLIC_MEMBERS:B4,PRIVATE_MEMBERS:K4,KEY_MANAGEMENT_DECRYPT:U4,KEY_MANAGEMENT_ENCRYPT:F4}=ut(),{EC_CURVES:Om}=Zr(),{keyObjectSupported:PC}=ur(),{createPublicKey:NC,createPrivateKey:DC}=_t(),Cm=Ze(),{name:LC}=Mi(),H4=tn(),BC=N4(P4),Im=new Set(["crv","x","y"]);Object.freeze(Im);var KC=new Set([...Im,"d"]);Object.freeze(KC);var km=class extends H4{constructor(...t){super(...t);if(this[L4](),Object.defineProperty(this,"kty",{value:"EC",enumerable:!0}),!Om.has(this.crv))throw new Cm.JOSENotSupported("unsupported EC key curve")}static get[B4](){return Im}static get[K4](){return KC}[D4](){return{crv:this.crv,kty:"EC",x:this.x,y:this.y}}[F4](){return this.algorithms("deriveKey")}[U4](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(t="P-256",r=!0){if(!Om.has(t))throw new Cm.JOSENotSupported(`unsupported EC key curve: ${t}`);t===LC&&t!=="secp256k1"&&(t="secp256k1");let n,i;return PC?({privateKey:n,publicKey:i}=await BC("ec",{namedCurve:t}),r?n:i):({privateKey:n,publicKey:i}=await BC("ec",{namedCurve:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),r?DC(n):NC(i))}static generateSync(t="P-256",r=!0){if(!Om.has(t))throw new Cm.JOSENotSupported(`unsupported EC key curve: ${t}`);t===LC&&t!=="secp256k1"&&(t="secp256k1");let n,i;return PC?({privateKey:n,publicKey:i}=MC("ec",{namedCurve:t}),r?n:i):({privateKey:n,publicKey:i}=MC("ec",{namedCurve:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),r?DC(n):NC(i))}};o(km,"ECKey");UC.exports=km});var Mm=x((HX,zC)=>{var{generateKeyPairSync:z4,generateKeyPair:$4}=require("crypto"),{promisify:W4}=require("util"),{THUMBPRINT_MATERIAL:J4,JWK_MEMBERS:G4,PUBLIC_MEMBERS:V4,PRIVATE_MEMBERS:Y4,KEY_MANAGEMENT_DECRYPT:X4,KEY_MANAGEMENT_ENCRYPT:Z4}=ut(),{OKP_CURVES:qm}=Zr(),{edDSASupported:FC}=ur(),Ea=Ze(),Q4=tn(),eW=W4($4),jm=new Set(["crv","x"]);Object.freeze(jm);var HC=new Set([...jm,"d"]);Object.freeze(HC);var Rm=class extends Q4{constructor(...t){super(...t);if(this[G4](),Object.defineProperty(this,"kty",{value:"OKP",enumerable:!0}),!qm.has(this.crv))throw new Ea.JOSENotSupported("unsupported OKP key curve")}static get[V4](){return jm}static get[Y4](){return HC}[J4](){return{crv:this.crv,kty:"OKP",x:this.x}}[Z4](){return this.algorithms("deriveKey")}[X4](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(t="Ed25519",r=!0){if(!FC)throw new Ea.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!qm.has(t))throw new Ea.JOSENotSupported(`unsupported OKP key curve: ${t}`);let{privateKey:n,publicKey:i}=await eW(t.toLowerCase());return r?n:i}static generateSync(t="Ed25519",r=!0){if(!FC)throw new Ea.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!qm.has(t))throw new Ea.JOSENotSupported(`unsupported OKP key curve: ${t}`);let{privateKey:n,publicKey:i}=z4(t.toLowerCase());return r?n:i}};o(Rm,"OKPKey");zC.exports=Rm});var Sl=x((zX,VC)=>{var{randomBytes:tW}=require("crypto"),{createSecretKey:rW}=_t(),nW=Kt(),{THUMBPRINT_MATERIAL:iW,PUBLIC_MEMBERS:oW,PRIVATE_MEMBERS:sW,KEY_MANAGEMENT_DECRYPT:aW,KEY_MANAGEMENT_ENCRYPT:$C,KEYOBJECT:os}=ut(),WC=tn(),JC=new Set;Object.freeze(JC);var GC=new Set(["k"]);Object.freeze(GC);var Pm=class extends WC{constructor(...t){super(...t);Object.defineProperties(this,{kty:{value:"oct",enumerable:!0},length:{value:this[os]?this[os].symmetricKeySize*8:void 0},k:{enumerable:!1,get(){return this[os]?Object.defineProperty(this,"k",{value:nW.encodeBuffer(this[os].export()),configurable:!1}):Object.defineProperty(this,"k",{value:void 0,configurable:!1}),this.k},configurable:!0}})}static get[oW](){return JC}static get[sW](){return GC}[iW](){if(!this[os])throw new TypeError('reference "oct" keys without "k" cannot have their thumbprint calculated');return{k:this.k,kty:"oct"}}[$C](){return new Set([...this.algorithms("wrapKey"),...this.algorithms("deriveKey")])}[aW](){return this[$C]()}algorithms(...t){return this[os]?WC.prototype.algorithms.call(this,...t):new Set}static async generate(...t){return this.generateSync(...t)}static generateSync(t=256,r=!0){if(!r)throw new TypeError('"oct" keys cannot be generated as public');if(!Number.isSafeInteger(t)||!t||t%8!=0)throw new TypeError("invalid bit length");return rW(tW(t/8))}};o(Pm,"OctKey");VC.exports=Pm});var ss=x(($X,QC)=>{var{deprecate:cW}=require("util"),{createPublicKey:YC,createPrivateKey:XC,createSecretKey:ZC,KeyObject:uW}=_t(),lW=Kt(),pW=br(),{jwkToPem:fW}=vm(),wa=Ze(),dW=Tm(),gW=Am(),hW=Mm(),mW=Sl(),vW=new Set(["string","buffer","object"]),Nm=o((e={},t={})=>ie({alg:t.alg,key_ops:t.key_ops,kid:t.kid,use:t.use,x5c:t.x5c,x5t:t.x5t,"x5t#S256":t["x5t#S256"]},e),"mergedParameters"),yW=/^[a-zA-Z0-9-]+ AAAA(?:[0-9A-Za-z+/])+(?:==|=)?(?: .*)?$/,Dm=o((e,t,{calculateMissingRSAPrimes:r=!1}={})=>{let n,i,s;if(!vW.has(typeof e))throw new TypeError("key argument must be a string, buffer or an object");if(t!==void 0&&!pW(t))throw new TypeError("parameters argument must be a plain object when provided");if(e instanceof uW)switch(e.type){case"private":n=e;break;case"public":i=e;break;case"secret":s=e;break}else if(typeof e=="object"&&e&&"kty"in e&&e.kty==="oct"){try{s=ZC(lW.decodeToBuffer(e.k))}catch(u){"k"in e||(s={type:"secret"})}t=Nm(t,e)}else if(typeof e=="object"&&e&&"kty"in e){({calculateMissingRSAPrimes:r=!1}=t||{calculateMissingRSAPrimes:r});let u;try{u=fW(e,{calculateMissingRSAPrimes:r})}catch(l){if(l instanceof wa.JOSEError)throw l}u&&e.d?n=XC(u):u&&(i=YC(u)),t=Nm({},e)}else if(e&&(typeof e=="object"||typeof e=="string")){try{n=XC(e)}catch(u){if(u instanceof wa.JOSEError)throw u}try{i=YC(e),e.startsWith("-----BEGIN CERTIFICATE-----")&&(!t||!("x5c"in t))&&(t=Nm(t,{x5c:[e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,"")]}))}catch(u){if(u instanceof wa.JOSEError)throw u}try{!e.includes("-----BEGIN")&&!yW.test(e.toString("ascii").replace(/[\r\n]/g,""))&&(s=ZC(Buffer.isBuffer(e)?e:Buffer.from(e)))}catch(u){}}let a=n||i||s;if(n||i)switch(a.asymmetricKeyType){case"rsa":return new dW(a,t);case"ec":return new gW(a,t);case"ed25519":case"ed448":case"x25519":case"x448":return new hW(a,t);default:throw new wa.JOSENotSupported("only RSA, EC and OKP asymmetric keys are supported")}else if(s)return new mW(a,t);throw new wa.JWKImportFailed("key import failed")},"asKey");QC.exports=Dm;Object.defineProperty(Dm,"deprecated",{value:cW((e,t)=>Dm(e,t,{calculateMissingRSAPrimes:!0}),"JWK.importKey() is deprecated, use JWK.asKey() instead"),enumerable:!1})});var Ta=x((WX,Lm)=>{var eI=Ze(),ci=ss(),tI=Tm(),rI=Am(),nI=Mm(),iI=Sl(),_W=o(async(e,t,r,n=!0)=>{switch(e){case"RSA":return ci(await tI.generate(t,n),r);case"EC":return ci(await rI.generate(t,n),r);case"OKP":return ci(await nI.generate(t,n),r);case"oct":return ci(await iI.generate(t,n),r);default:throw new eI.JOSENotSupported(`unsupported key type: ${e}`)}},"generate"),bW=o((e,t,r,n=!0)=>{switch(e){case"RSA":return ci(tI.generateSync(t,n),r);case"EC":return ci(rI.generateSync(t,n),r);case"OKP":return ci(nI.generateSync(t,n),r);case"oct":return ci(iI.generateSync(t,n),r);default:throw new eI.JOSENotSupported(`unsupported key type: ${e}`)}},"generateSync");Lm.exports.generate=_W;Lm.exports.generateSync=bW});var sI=x((JX,oI)=>{var{inspect:xW}=require("util"),SW=tn(),Bm=class extends SW{constructor(){super({type:"unsecured"},{alg:"none"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[xW.custom](){return"None {}"}algorithms(t){switch(t){case"sign":case"verify":case void 0:return new Set(["none"]);default:return new Set}}};o(Bm,"NoneKey");oI.exports=new Bm});var cI=x((GX,aI)=>{var{inspect:EW}=require("util"),wW=tn(),Km=class extends wW{constructor(){super({type:"embedded"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[EW.custom](){return"Embedded.JWK {}"}algorithms(){return new Set}};o(Km,"EmbeddedJWK");aI.exports=new Km});var lI=x((VX,uI)=>{var{inspect:TW}=require("util"),OW=tn(),Um=class extends OW{constructor(){super({type:"embedded"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[TW.custom](){return"Embedded.X5C {}"}algorithms(){return new Set}};o(Um,"EmbeddedX5C");uI.exports=new Um});var Oa=x((YX,Fm)=>{var CW=tn(),IW=sI(),kW=cI(),AW=lI(),pI=ss(),qW=Ta();Fm.exports=Le(ie({},qW),{asKey:pI,isKey:e=>e instanceof CW,None:IW,EmbeddedJWK:kW,EmbeddedX5C:AW});Object.defineProperty(Fm.exports,"importKey",{value:pI.deprecated,enumerable:!1})});var zm=x((XX,mI)=>{var{deprecate:jW,inspect:fI}=require("util"),dI=br(),{generate:RW,generateSync:MW}=Ta(),{USES_MAPPING:PW}=ut(),{isKey:Hm,asKey:NW}=Oa(),gI=o((e,{alg:t,use:r,ops:n})=>{let i=0;return t&&e.alg&&i++,r&&e.use&&i++,n&&e.key_ops&&i++,i},"keyscore"),Ca=class{constructor(...t){for(;t.some(Array.isArray);)t=t.flat?t.flat():t.reduce((r,n)=>Array.isArray(n)?[...r,...n]:(r.push(n),r),[]);if(t.some(r=>!Hm(r)||!r.kty))throw new TypeError("all keys must be instances of a key instantiated by JWK.asKey");this._keys=new Set(t)}all({alg:t,kid:r,thumbprint:n,use:i,kty:s,key_ops:a,x5t:u,"x5t#S256":l,crv:p}={}){if(a!==void 0&&(!Array.isArray(a)||!a.length||a.some(g=>typeof g!="string")))throw new TypeError("`key_ops` must be a non-empty array of strings");let d={alg:t,use:i,ops:a};return[...this._keys].filter(g=>{let m=!0;if(m&&r!==void 0&&g.kid!==r&&(m=!1),m&&n!==void 0&&g.thumbprint!==n&&(m=!1),m&&u!==void 0&&g.x5t!==u&&(m=!1),m&&l!==void 0&&g["x5t#S256"]!==l&&(m=!1),m&&s!==void 0&&g.kty!==s&&(m=!1),m&&p!==void 0&&g.crv!==p&&(m=!1),t!==void 0&&!g.algorithms().has(t)&&(m=!1),m&&i!==void 0&&g.use!==void 0&&g.use!==i&&(m=!1),m&&a!==void 0&&(g.key_ops!==void 0||g.use!==void 0)){let v;g.key_ops?v=new Set(g.key_ops):v=PW[g.use],a.some(y=>!v.has(y))&&(m=!1)}return m}).sort((g,m)=>gI(m,d)-gI(g,d))}get(...t){return this.all(...t)[0]}add(t){if(!Hm(t)||!t.kty)throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.add(t)}remove(t){if(!Hm(t))throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.delete(t)}toJWKS(t=!1){return{keys:[...this._keys.values()].map(r=>r.toJWK(t&&(r.private||r.secret&&r.k)))}}async generate(...t){this._keys.add(await RW(...t))}generateSync(...t){this._keys.add(MW(...t))}get size(){return this._keys.size}[fI.custom](){return`${this.constructor.name} ${fI(this.toJWKS(!1),{depth:Infinity,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}*[Symbol.iterator](){for(let t of this._keys)yield t}};o(Ca,"KeyStore");function hI(e,{ignoreErrors:t=!1,calculateMissingRSAPrimes:r=!1}={}){if(!dI(e)||!Array.isArray(e.keys)||e.keys.some(i=>!dI(i)||!("kty"in i)))throw new TypeError("jwks must be a JSON Web Key Set formatted object");let n=e.keys.map(i=>{try{return NW(i,{calculateMissingRSAPrimes:r})}catch(s){if(!t)throw s}}).filter(Boolean);return new Ca(...n)}o(hI,"asKeyStore");Object.defineProperty(Ca,"fromJWKS",{value:jW(e=>hI(e,{calculateMissingRSAPrimes:!0}),"JWKS.KeyStore.fromJWKS() is deprecated, use JWKS.asKeyStore() instead"),enumerable:!1});mI.exports={KeyStore:Ca,asKeyStore:hI}});var Di=x((ZX,yI)=>{var vI=Ze(),DW=tn(),LW=ss(),{KeyStore:BW}=zm();yI.exports=(e,t=!1)=>{if(e instanceof DW)return e;if(e instanceof BW){if(!t)throw new TypeError("key argument for this operation must not be a JWKS.KeyStore instance");return e}try{return LW(e)}catch(r){if(r instanceof vI.JOSEError&&!(r instanceof vI.JWKImportFailed))throw r;let n;throw t?n="key must be an instance of a key instantiated by JWK.asKey, a valid JWK.asKey input, or a JWKS.KeyStore instance":n="key must be an instance of a key instantiated by JWK.asKey, or a valid JWK.asKey input",new TypeError(n)}}});var $m=x((QX,_I)=>{_I.exports=e=>JSON.parse(JSON.stringify(e))});var Wm=x((eZ,xI)=>{var{timingSafeEqual:KW}=require("crypto"),bI=o((e,t)=>{if(e.length===t)return e;let r=Buffer.alloc(t);return e.copy(r),r},"paddedBuffer"),UW=o((e,t)=>{let r=Math.max(e.length,t.length);return KW(bI(e,r),bI(t,r))},"timingSafeEqual");xI.exports=UW});var Ia=x((tZ,SI)=>{SI.exports=e=>`sha${e.substr(2,3)}`});var TI=x((rZ,wI)=>{var{createHmac:FW}=require("crypto"),{KEYOBJECT:HW}=ut(),zW=Wm(),$W=Ia(),{asInput:WW}=_t(),EI=o((e,t,{[HW]:r},n)=>{let i=FW(t,WW(r,!1));return i.update(n),i.digest()},"sign"),JW=o((e,t,r,n,i)=>{let s=EI(e,t,r,n);return zW(i,s)},"verify");wI.exports=(e,t)=>{["HS256","HS384","HS512"].forEach(r=>{let n=$W(r);e.sign.set(r,EI.bind(void 0,r,n)),e.verify.set(r,JW.bind(void 0,r,n)),t.oct.sign[r]=t.oct.verify[r]=i=>i.use==="sig"||i.use===void 0})}});var kI=x((nZ,Jm)=>{var El=128,OI=0,GW=32,VW=16,YW=2,CI=VW|GW|OI<<6,wl=YW|OI<<6,Tl=o(e=>(e/8|0)+(e%8==0?0:1),"getParamSize"),Ol={ES256:Tl(256),ES256K:Tl(256),ES384:Tl(384),ES512:Tl(521)},II=o((e,t,r)=>{let n=0;for(;t+n<r&&e[t+n]===0;)++n;return e[t+n]>=El&&--n,n},"countPadding");Jm.exports.derToJose=(e,t)=>{if(!Buffer.isBuffer(e))throw new TypeError("ECDSA signature must be a Buffer");if(!Ol[t])throw new Error(`Unknown algorithm "${t}"`);let r=Ol[t],n=r+1,i=e.length,s=0;if(e[s++]!==CI)throw new Error('Could not find expected "seq"');let a=e[s++];if(a===(El|1)&&(a=e[s++]),i-s<a)throw new Error(`"seq" specified length of ${a}", only ${i-s}" remaining`);if(e[s++]!==wl)throw new Error('Could not find expected "int" for "r"');let u=e[s++];if(i-s-2<u)throw new Error(`"r" specified length of "${u}", only "${i-s-2}" available`);if(n<u)throw new Error(`"r" specified length of "${u}", max of "${n}" is acceptable`);let l=s;if(s+=u,e[s++]!==wl)throw new Error('Could not find expected "int" for "s"');let p=e[s++];if(i-s!==p)throw new Error(`"s" specified length of "${p}", expected "${i-s}"`);if(n<p)throw new Error(`"s" specified length of "${p}", max of "${n}" is acceptable`);let d=s;if(s+=p,s!==i)throw new Error(`Expected to consume entire buffer, but "${i-s}" bytes remain`);let g=r-u,m=r-p,v=Buffer.allocUnsafe(g+u+m+p);for(s=0;s<g;++s)v[s]=0;e.copy(v,s,l+Math.max(-g,0),l+u),s=r;for(let y=s;s<y+m;++s)v[s]=0;return e.copy(v,s,d+Math.max(-m,0),d+p),v};Jm.exports.joseToDer=(e,t)=>{if(!Buffer.isBuffer(e))throw new TypeError("ECDSA signature must be a Buffer");if(!Ol[t])throw new TypeError(`Unknown algorithm "${t}"`);let r=Ol[t],n=e.length;if(n!==r*2)throw new Error(`"${t}" signatures must be "${r*2}" bytes, saw "${n}"`);let i=II(e,0,r),s=II(e,r,e.length),a=r-i,u=r-s,l=1+1+a+1+1+u,p=l<El,d=Buffer.allocUnsafe((p?2:3)+l),g=0;return d[g++]=CI,p?d[g++]=l:(d[g++]=El|1,d[g++]=l&255),d[g++]=wl,d[g++]=a,i<0?(d[g++]=0,g+=e.copy(d,g,0,r)):g+=e.copy(d,g,i,r),d[g++]=wl,d[g++]=u,s<0?(d[g++]=0,e.copy(d,g,r)):e.copy(d,g,r+s),d}});var qI=x((iZ,AI)=>{var{sign:XW,verify:ZW,createSign:QW,createVerify:e5,getCurves:Cl}=require("crypto"),{derToJose:t5,joseToDer:r5}=kI(),{KEYOBJECT:Il}=ut(),n5=Ia(),{asInput:kl}=_t(),{dsaEncodingSupported:i5}=ur(),{name:o5}=Mi(),Gm,Vm;i5?(Gm=o((e,t,{[Il]:r},n)=>(typeof n=="string"&&(n=Buffer.from(n)),XW(t,n,{key:kl(r,!1),dsaEncoding:"ieee-p1363"})),"sign"),Vm=o((e,t,{[Il]:r},n,i)=>{try{return ZW(t,n,{key:kl(r,!0),dsaEncoding:"ieee-p1363"},i)}catch(s){return!1}},"verify")):(Gm=o((e,t,{[Il]:r},n)=>t5(QW(t).update(n).sign(kl(r,!1)),e),"sign"),Vm=o((e,t,{[Il]:r},n,i)=>{try{return e5(t).update(n).verify(kl(r,!0),r5(i,e))}catch(s){return!1}},"verify"));var s5=o(e=>{switch(e){case"P-256":return"ES256";case o5:return"ES256K";case"P-384":return"ES384";case"P-521":return"ES512"}},"crvToAlg");AI.exports=(e,t)=>{let r=[];Cl().includes("prime256v1")&&r.push("ES256"),Cl().includes("secp256k1")&&r.push("ES256K"),Cl().includes("secp384r1")&&r.push("ES384"),Cl().includes("secp521r1")&&r.push("ES512"),r.forEach(n=>{let i=n5(n);e.sign.set(n,Gm.bind(void 0,n,i)),e.verify.set(n,Vm.bind(void 0,n,i)),t.EC.sign[n]=s=>s.private&&t.EC.verify[n](s),t.EC.verify[n]=s=>(s.use==="sig"||s.use===void 0)&&s5(s.crv)===n})}});var MI=x((oZ,RI)=>{var{sign:a5,verify:c5}=require("crypto"),{KEYOBJECT:jI}=ut(),{edDSASupported:u5}=ur(),l5=o(({[jI]:e},t)=>(typeof t=="string"&&(t=Buffer.from(t)),a5(void 0,t,e)),"sign"),p5=o(({[jI]:e},t,r)=>c5(void 0,t,e,r),"verify");RI.exports=(e,t)=>{u5&&(e.sign.set("EdDSA",l5),e.verify.set("EdDSA",p5),t.OKP.sign.EdDSA=r=>r.private&&t.OKP.verify.EdDSA(r),t.OKP.verify.EdDSA=r=>(r.use==="sig"||r.use===void 0)&&r.keyObject.asymmetricKeyType.startsWith("ed"))}});var LI=x((sZ,DI)=>{var{createSign:f5,createVerify:d5,constants:Al}=require("crypto"),{KEYOBJECT:PI}=ut(),g5=Ia(),{asInput:NI}=_t(),h5=o((e,{[PI]:t},r)=>{let n=NI(t,!1);return f5(e).update(r).sign({key:n,padding:Al.RSA_PKCS1_PSS_PADDING,saltLength:Al.RSA_PSS_SALTLEN_DIGEST})},"sign"),m5=o((e,{[PI]:t},r,n)=>{let i=NI(t,!0);return d5(e).update(r).verify({key:i,padding:Al.RSA_PKCS1_PSS_PADDING,saltLength:Al.RSA_PSS_SALTLEN_DIGEST},n)},"verify"),v5={PS256:528,PS384:784,PS512:1040};DI.exports=(e,t)=>{["PS256","PS384","PS512"].forEach(r=>{let n=g5(r);e.sign.set(r,h5.bind(void 0,n)),e.verify.set(r,m5.bind(void 0,n)),t.RSA.sign[r]=i=>i.private&&t.RSA.verify[r](i),t.RSA.verify[r]=i=>(i.use==="sig"||i.use===void 0)&&i.length>=v5[r]})}});var FI=x((aZ,UI)=>{var{createSign:y5,createVerify:_5}=require("crypto"),{KEYOBJECT:BI}=ut(),b5=Ia(),{asInput:KI}=_t(),x5=o((e,{[BI]:t},r)=>y5(e).update(r).sign(KI(t,!1)),"sign"),S5=o((e,{[BI]:t},r,n)=>_5(e).update(r).verify(KI(t,!0),n),"verify"),E5={RS256:0,RS384:624,RS512:752};UI.exports=(e,t)=>{["RS256","RS384","RS512"].forEach(r=>{let n=b5(r);e.sign.set(r,x5.bind(void 0,n)),e.verify.set(r,S5.bind(void 0,n)),t.RSA.sign[r]=i=>i.private&&t.RSA.verify[r](i),t.RSA.verify[r]=i=>(i.use==="sig"||i.use===void 0)&&i.length>=E5[r]})}});var zI=x((cZ,HI)=>{var w5=o(()=>Buffer.from(""),"sign"),T5=o((e,t,r)=>!r.length,"verify");HI.exports=(e,t)=>{e.sign.set("none",w5),e.verify.set("none",T5)}});var JI=x((uZ,WI)=>{var $I=Math.pow(2,32);WI.exports=(e,t=Buffer.allocUnsafe(8))=>{let r=Math.floor(e/$I),n=e%$I;return t.writeUInt32BE(r,0),t.writeUInt32BE(n,4),t}});var QI=x((lZ,ZI)=>{var{createCipheriv:O5,createDecipheriv:C5,getCiphers:I5}=require("crypto"),GI=JI(),k5=Wm(),{KEYOBJECT:ql}=ut(),{JWEInvalid:VI,JWEDecryptionFailed:YI}=Ze(),XI=o(function(e,t,r){if(t.length!==16)throw new VI("invalid iv");if(arguments.length===3&&r.length!==e/8)throw new VI("invalid tag")},"checkInput"),A5=o((e,t,{[ql]:r},n,{iv:i,aad:s=Buffer.alloc(0)})=>{let a=r.export();XI(e,i);let u=e/8,l=a.slice(u),p=O5(`aes-${e}-cbc`,l,i),d=Buffer.concat([p.update(n),p.final()]),g=Buffer.concat([s,i,d,GI(s.length*8)]),m=a.slice(0,u),v=t({[ql]:m},g).slice(0,u);return{ciphertext:d,tag:v}},"encrypt"),q5=o((e,t,{[ql]:r},n,{iv:i,tag:s=Buffer.alloc(0),aad:a=Buffer.alloc(0)})=>{XI(e,i,s);let u=e/8,l=r.export(),p=l.slice(u),d=l.slice(0,u),g=Buffer.concat([a,i,n,GI(a.length*8)]),m=t({[ql]:d},g,s).slice(0,u);if(!k5(s,m))throw new YI;let y;try{let S=C5(`aes-${e}-cbc`,p,i);y=Buffer.concat([S.update(n),S.final()])}catch(S){}if(!y)throw new YI;return y},"decrypt");ZI.exports=(e,t)=>{["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach(r=>{let n=parseInt(r.substr(1,3),10),i=e.sign.get(`HS${n*2}`);I5().includes(`aes-${n}-cbc`)&&(e.encrypt.set(r,A5.bind(void 0,n,i)),e.decrypt.set(r,q5.bind(void 0,n,i)),t.oct.encrypt[r]=t.oct.decrypt[r]=s=>(s.use==="enc"||s.use===void 0)&&s.length/2===n)})}});var ok=x((pZ,ik)=>{var{createCipheriv:j5,createDecipheriv:R5,getCiphers:M5}=require("crypto"),{KEYOBJECT:ek}=ut(),{JWEInvalid:tk,JWEDecryptionFailed:P5}=Ze(),{asInput:rk}=_t(),nk=o(function(e,t,r){if(t.length!==12)throw new tk("invalid iv");if(arguments.length===3&&r.length!==16)throw new tk("invalid tag")},"checkInput"),N5=o((e,{[ek]:t},r,{iv:n,aad:i=Buffer.alloc(0)})=>{let s=rk(t,!1);nk(e,n);let a=j5(`aes-${e}-gcm`,s,n,{authTagLength:16});a.setAAD(i);let u=Buffer.concat([a.update(r),a.final()]),l=a.getAuthTag();return{ciphertext:u,tag:l}},"encrypt"),D5=o((e,{[ek]:t},r,{iv:n,tag:i=Buffer.alloc(0),aad:s=Buffer.alloc(0)})=>{let a=rk(t,!1);nk(e,n,i);try{let u=R5(`aes-${e}-gcm`,a,n,{authTagLength:16});return u.setAuthTag(i),u.setAAD(s),Buffer.concat([u.update(r),u.final()])}catch(u){throw new P5}},"decrypt");ik.exports=(e,t)=>{["A128GCM","A192GCM","A256GCM"].forEach(r=>{let n=parseInt(r.substr(1,3),10);M5().includes(`aes-${n}-gcm`)&&(e.encrypt.set(r,N5.bind(void 0,n)),e.decrypt.set(r,D5.bind(void 0,n)),t.oct.encrypt[r]=t.oct.decrypt[r]=i=>(i.use==="enc"||i.use===void 0)&&i.length===n)})}});var pk=x((fZ,lk)=>{var{publicEncrypt:L5,privateDecrypt:B5,constants:sk}=require("crypto"),{oaepHashSupported:K5}=ur(),{KEYOBJECT:ak}=ut(),{asInput:ck}=_t(),U5=o(e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return sk.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return sk.RSA_PKCS1_PADDING}},"resolvePadding"),F5=o(e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}},"resolveOaepHash"),H5=o((e,t,{[ak]:r},n)=>{let i=ck(r,!0);return{wrapped:L5({key:i,oaepHash:t,padding:e},n)}},"wrapKey"),z5=o((e,t,{[ak]:r},n)=>{let i=ck(r,!1);return B5({key:i,oaepHash:t,padding:e},n)},"unwrapKey"),uk={RSA1_5:0,"RSA-OAEP":592,"RSA-OAEP-256":784,"RSA-OAEP-384":1040,"RSA-OAEP-512":1296};lk.exports=(e,t)=>{let r=["RSA-OAEP","RSA1_5"];K5&&r.splice(1,0,"RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"),r.forEach(n=>{let i=U5(n),s=F5(n);e.keyManagementEncrypt.set(n,H5.bind(void 0,i,s)),e.keyManagementDecrypt.set(n,z5.bind(void 0,i,s)),t.RSA.wrapKey[n]=a=>(a.use==="enc"||a.use===void 0)&&a.length>=uk[n],t.RSA.unwrapKey[n]=a=>a.private&&(a.use==="enc"||a.use===void 0)&&a.length>=uk[n]})}});var hk=x((dZ,gk)=>{var{createCipheriv:$5,createDecipheriv:W5,getCiphers:J5}=require("crypto"),{KEYOBJECT:fk}=ut(),{asInput:dk}=_t(),G5=o(e=>{if(e!==void 0&&e.length%8!=0)throw new Error("invalid data length")},"checkInput"),V5=o((e,{[fk]:t},r)=>{let n=dk(t,!1),i=$5(e,n,Buffer.alloc(8,"a6","hex"));return{wrapped:Buffer.concat([i.update(r),i.final()])}},"wrapKey"),Y5=o((e,{[fk]:t},r)=>{let n=dk(t,!1);G5(r);let i=W5(e,n,Buffer.alloc(8,"a6","hex"));return Buffer.concat([i.update(r),i.final()])},"unwrapKey");gk.exports=(e,t)=>{["A128KW","A192KW","A256KW"].forEach(r=>{let n=parseInt(r.substr(1,3),10),i=`aes${n}-wrap`;J5().includes(i)&&(e.keyManagementEncrypt.set(r,V5.bind(void 0,i)),e.keyManagementDecrypt.set(r,Y5.bind(void 0,i)),t.oct.wrapKey[r]=t.oct.unwrapKey[r]=s=>(s.use==="enc"||s.use===void 0)&&s.length===n)})}});var yk=x((gZ,vk)=>{var X5=Vh(),mk=Kt();vk.exports=(e,t)=>{["A128GCMKW","A192GCMKW","A256GCMKW"].forEach(r=>{let n=r.substr(0,7),i=parseInt(r.substr(1,3),10),s=e.encrypt.get(n),a=e.decrypt.get(n);s&&a&&(e.keyManagementEncrypt.set(r,(u,l)=>{let p=X5(r),{ciphertext:d,tag:g}=s(u,l,{iv:p});return{wrapped:d,header:{tag:mk.encodeBuffer(g),iv:mk.encodeBuffer(p)}}}),e.keyManagementDecrypt.set(r,a),t.oct.wrapKey[r]=t.oct.unwrapKey[r]=u=>(u.use==="enc"||u.use===void 0)&&u.length===i)})}});var Sk=x((hZ,xk)=>{var{pbkdf2Sync:_k,randomBytes:Z5}=require("crypto"),{KEYOBJECT:jl}=ut(),Q5=Kt(),e8=16,t8=Buffer.alloc(1,0),bk=o((e,t)=>Buffer.concat([Buffer.from(e,"utf8"),t8,t]),"concatSalt"),r8=o((e,t,r,n,{[jl]:i},s)=>{let a=Math.floor(Math.random()*2049+2048),u=Z5(e8),l=r(u),p=_k(i.export(),l,a,e,t),d=n({[jl]:p},s);return d.header=d.header||{},Object.assign(d.header,{p2c:a,p2s:Q5.encodeBuffer(u)}),d},"wrapKey"),n8=o((e,t,r,n,{[jl]:i},s,a)=>{let{p2s:u,p2c:l}=a,p=r(u),d=_k(i.export(),p,l,e,t);return n({[jl]:d},s,a)},"unwrapKey");xk.exports=(e,t)=>{["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach(r=>{let n=r.substr(-6),i=e.keyManagementEncrypt.get(n),s=e.keyManagementDecrypt.get(n),a=parseInt(r.substr(13,3),10)/8,u=`sha${r.substr(8,3)}`;i&&s&&(e.keyManagementEncrypt.set(r,r8.bind(void 0,a,u,bk.bind(void 0,r),i)),e.keyManagementDecrypt.set(r,n8.bind(void 0,a,u,bk.bind(void 0,r),s)),t.oct.deriveKey[r]=l=>l.use==="enc"||l.use===void 0)})}});var Ek=x((mZ,Ym)=>{var{improvedDH:i8}=ur();if(i8){let{diffieHellman:e}=require("crypto"),{KeyObject:t}=_t(),r=ss();Ym.exports=({keyObject:n},i)=>(i instanceof t||({keyObject:i}=r(i)),e({privateKey:n,publicKey:i}))}else{let{createECDH:e,constants:{POINT_CONVERSION_UNCOMPRESSED:t}}=require("crypto"),r=Kt(),n=o(a=>{switch(a){case"P-256":return"prime256v1";case"P-384":return"secp384r1";case"P-521":return"secp521r1"}},"crvToCurve"),i=Buffer.alloc(1,t),s=o((a,u)=>Buffer.concat([i,r.decodeToBuffer(a),r.decodeToBuffer(u)]),"pubToBuffer");Ym.exports=({crv:a,d:u},{x:l,y:p})=>{let d=n(a),g=e(d);return g.setPrivateKey(r.decodeToBuffer(u)),g.computeSecret(s(l,p))}}});var Zm=x((vZ,Ok)=>{var{createHash:wk}=require("crypto"),o8=Ek(),s8=o((e,t,r)=>{let n=Math.ceil(t/32),i;for(let s=1;s<=n;s++){let a=Buffer.allocUnsafe(4+e.length+r.length);a.writeUInt32BE(s,0),e.copy(a,4),r.copy(a,4+e.length),i?i=Buffer.concat([i,wk("sha256").update(a).digest()]):i=wk("sha256").update(a).digest()}return i.slice(0,t)},"concat"),Tk=o((e,t=Buffer.allocUnsafe(4))=>(t.writeUInt32BE(e),t),"uint32be"),Xm=o(e=>Buffer.concat([Tk(e.length),e]),"lengthAndInput");Ok.exports=(e,t,r,n,{apu:i=Buffer.alloc(0),apv:s=Buffer.alloc(0)}={},a=o8)=>{let u=Buffer.concat([Xm(Buffer.from(e)),Xm(i),Xm(s),Tk(t)]),l=a(r,n);return s8(l,t/8,u)}});var Ak=x((yZ,kk)=>{var{improvedDH:a8}=ur(),{KEYLENGTHS:Ck}=Zr(),{generateSync:c8}=Ta(),{name:u8}=Mi(),Ik=Zm(),l8=o((e,t,{enc:r})=>{let n=c8(e.kty,e.crv);return{wrapped:Ik(r,Ck.get(r),n,e),header:{epk:{kty:e.kty,crv:e.crv,x:n.x,y:n.y}}}},"wrapKey"),p8=o((e,t,r)=>{let{enc:n,epk:i}=r;return Ik(n,Ck.get(n),e,i,r)},"unwrapKey");kk.exports=(e,t)=>{e.keyManagementEncrypt.set("ECDH-ES",l8),e.keyManagementDecrypt.set("ECDH-ES",p8),t.EC.deriveKey["ECDH-ES"]=r=>(r.use==="enc"||r.use===void 0)&&r.crv!==u8,a8&&(t.OKP.deriveKey["ECDH-ES"]=r=>(r.use==="enc"||r.use===void 0)&&r.keyObject.asymmetricKeyType.startsWith("x"))}});var Pk=x((_Z,Rl)=>{var{improvedDH:f8}=ur(),{KEYOBJECT:qk}=ut(),{generateSync:d8}=Ta(),{name:g8}=Mi(),{ECDH_DERIVE_LENGTHS:h8}=Zr(),jk=Zm(),Rk=o((e,t,r,n)=>{let i=d8(r.kty,r.crv),s=t(i,r,n),a=e({[qk]:s},n);return a.header=a.header||{},Object.assign(a.header,{epk:{kty:r.kty,crv:r.crv,x:i.x,y:i.y}}),a},"wrapKey"),Mk=o((e,t,r,n,i)=>{let{epk:s}=i,a=t(r,s,i);return e({[qk]:a},n,i)},"unwrapKey");Rl.exports=(e,t)=>{["ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach(r=>{let n=r.substr(-6),i=e.keyManagementEncrypt.get(n),s=e.keyManagementDecrypt.get(n),a=parseInt(r.substr(9,3),10);h8.set(r,a),i&&s&&(e.keyManagementEncrypt.set(r,Rk.bind(void 0,i,jk.bind(void 0,r,a))),e.keyManagementDecrypt.set(r,Mk.bind(void 0,s,jk.bind(void 0,r,a))),t.EC.deriveKey[r]=u=>(u.use==="enc"||u.use===void 0)&&u.crv!==g8,f8&&(t.OKP.deriveKey[r]=u=>(u.use==="enc"||u.use===void 0)&&u.keyObject.asymmetricKeyType.startsWith("x")))})};Rl.exports.wrapKey=Rk;Rl.exports.unwrapKey=Mk});var ka=x((bZ,Nk)=>{var{JWKKeySupport:m8,JOSENotSupported:v8}=Ze(),{KEY_MANAGEMENT_ENCRYPT:y8,KEY_MANAGEMENT_DECRYPT:_8}=ut(),{JWA:it,JWK:pr}=Zr();TI()(it,pr);qI()(it,pr);MI()(it,pr);LI()(it,pr);FI()(it,pr);zI()(it);QI()(it,pr);ok()(it,pr);pk()(it,pr);hk()(it,pr);yk()(it,pr);Sk()(it,pr);Ak()(it,pr);Pk()(it,pr);var ui=o((e,t,r)=>{let n=`_${t}_${r}`,i,s;if(t==="keyManagementEncrypt"?(i="key management (encryption)",s=y8):t==="keyManagementDecrypt"&&(i="key management (decryption)",s=_8),n in e){if(e[n])return;throw new m8(`the key does not support ${r} ${i||t} algorithm`)}let a=!0;if(it[t].has(r))e.algorithms(s).has(r)||(a=!1);else throw new v8(`unsupported ${i||t} alg: ${r}`);if(Object.defineProperty(e,n,{value:a,enumerable:!1}),!a)return ui(e,t,r)},"check");Nk.exports={check:ui,sign:(e,t,r)=>(ui(t,"sign",e),it.sign.get(e)(t,r)),verify:(e,t,r,n)=>(ui(t,"verify",e),it.verify.get(e)(t,r,n)),keyManagementEncrypt:(e,t,r,n)=>(ui(t,"keyManagementEncrypt",e),it.keyManagementEncrypt.get(e)(t,r,n)),keyManagementDecrypt:(e,t,r,n)=>(ui(t,"keyManagementDecrypt",e),it.keyManagementDecrypt.get(e)(t,r,n)),encrypt:(e,t,r,n)=>(ui(t,"encrypt",e),it.encrypt.get(e)(t,r,n)),decrypt:(e,t,r,n)=>(ui(t,"decrypt",e),it.decrypt.get(e)(t,r,n))}});var Aa=x((xZ,Lk)=>{var{JOSECritNotUnderstood:b8,JWSInvalid:Dk}=Ze(),x8=new Set(["alg","jku","jwk","kid","x5u","x5c","x5t","x5t#S256","typ","cty","crit","enc","zip","epk","apu","apv","iv","tag","p2s","p2c"]);Lk.exports=o(function(t,r,n,i){if(r&&"crit"in r){if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(u=>typeof u!="string"||!u))throw new t('"crit" Header Parameter MUST be an array of non-empty strings when present');let s=new Set(i),a=ie(ie({},r),n);r.crit.forEach(u=>{if(x8.has(u))throw new t(`The critical list contains a non-extension Header Parameter ${u}`);if(!s.has(u))throw new b8(`critical "${u}" is not understood`);if(u==="b64"){if(!("b64"in r))throw new Dk('"b64" critical parameter must be integrity protected');if(typeof r.b64!="boolean")throw new Dk('"b64" critical parameter must be a boolean')}else if(!(u in a))throw new t(`critical parameter "${u}" is missing`)})}if(n&&"crit"in n)throw new t('"crit" Header Parameter MUST be integrity protected when present')},"validateCrit")});var Qm=x((SZ,Fk)=>{var qa=br(),ja=Aa(),{JWEInvalid:Ml}=Ze();ja=ja.bind(void 0,Ml);var Bk=o((e,[t])=>`${e.protected}.${t.encrypted_key}.${e.iv}.${e.ciphertext}.${e.tag}`,"compactSerializer");Bk.validate=(e,t,r,{0:{header:n},length:i})=>{if(i!==1||r||t||n)throw new Ml("JWE Compact Serialization doesn't support multiple recipients, JWE unprotected headers or AAD");ja(e,t,e?e.crit:void 0)};var Kk=o((e,[t])=>{let{header:r,encrypted_key:n}=t;return Le(ie(ie(ie(ie(ie({},e.protected?{protected:e.protected}:void 0),e.unprotected?{unprotected:e.unprotected}:void 0),r?{header:r}:void 0),n?{encrypted_key:n}:void 0),e.aad?{aad:e.aad}:void 0),{iv:e.iv,ciphertext:e.ciphertext,tag:e.tag})},"flattenedSerializer");Kk.validate=(e,t,r,{0:{header:n},length:i})=>{if(i!==1)throw new Ml("Flattened JWE JSON Serialization doesn't support multiple recipients");ja(e,ie(ie({},t),n),e?e.crit:void 0)};var Uk=o((e,t)=>{let r=Le(ie(Le(ie(ie({},e.protected?{protected:e.protected}:void 0),e.unprotected?{unprotected:e.unprotected}:void 0),{recipients:t.map(({header:n,encrypted_key:i,generatedHeader:s})=>!n&&!i&&!s?!1:ie(ie({},n||s?{header:ie(ie({},n),s)}:void 0),i?{encrypted_key:i}:void 0)).filter(Boolean)}),e.aad?{aad:e.aad}:void 0),{iv:e.iv,ciphertext:e.ciphertext,tag:e.tag});return r.recipients.length||delete r.recipients,r},"generalSerializer");Uk.validate=(e,t,r,n)=>{n.forEach(({header:i})=>{ja(e,ie(ie({},i),t),e?e.crit:void 0)})};var S8=o(e=>qa(e)&&typeof e.ciphertext=="string"&&typeof e.iv=="string"&&typeof e.tag=="string"&&(e.unprotected===void 0||qa(e.unprotected))&&(e.protected===void 0||typeof e.protected=="string")&&(e.aad===void 0||typeof e.aad=="string"),"isJSON"),E8=o(e=>(e.encrypted_key===void 0||typeof e.encrypted_key=="string")&&(e.header===void 0||qa(e.header)),"isSingleRecipient"),w8=o(e=>qa(e)&&typeof e.encrypted_key=="string"&&(e.header===void 0||qa(e.header)),"isValidRecipient"),T8=o(e=>!!(Array.isArray(e.recipients)&&e.recipients.every(w8)),"isMultiRecipient"),O8=o(e=>{if(typeof e=="string"&&e.split(".").length===5)return"compact";if(S8(e)){if(T8(e))return"general";if(E8(e))return"flattened"}throw new Ml("JWE malformed or invalid serialization")},"detect");Fk.exports={compact:Bk,flattened:Kk,general:Uk,detect:O8}});var ev=x((EZ,zk)=>{var{randomBytes:C8}=require("crypto"),{createSecretKey:I8}=_t(),{KEYLENGTHS:k8}=Zr(),Hk=Sl();zk.exports=e=>{let t=k8.get(e);return t?new Hk(I8(C8(t/8)),{use:"enc",alg:e}):new Hk({type:"secret"})}});var Pl=x((wZ,$k)=>{$k.exports=(e={},t={})=>{let r=Object.keys(e),n=new Set(Object.keys(t));return!r.some(i=>n.has(i))}});var nv=x((TZ,Wk)=>{var tv=Pl(),A8=Kt(),rv=Aa(),{JWEInvalid:qn,JOSENotSupported:q8}=Ze();rv=rv.bind(void 0,qn);Wk.exports=(e,t,r,n,i)=>{if(typeof e=="string")try{e=A8.JSON.decode(e)}catch(u){throw new qn("could not parse JWE protected header")}let s=[],a=new Set;if(!tv(e,t)||!r.every(({header:u})=>{typeof u=="object"&&(s.push(u.alg),a.add(u.enc));let l=ie(ie({},t),u);if(rv(e,l,i),"zip"in l)throw new qn('"zip" Header Parameter MUST be integrity protected');if(e&&"zip"in e&&e.zip!=="DEF")throw new q8('only "DEF" compression algorithm is supported');return tv(u,e)&&tv(u,t)}))throw new qn("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");if(typeof e=="object"&&(s.push(e.alg),a.add(e.enc)),typeof t=="object"&&(s.push(t.alg),a.add(t.enc)),s=s.filter(Boolean),a.delete(void 0),r.length!==1&&(s.includes("dir")||s.includes("ECDH-ES")))throw new qn("dir and ECDH-ES alg may only be used with a single recipient");if(n){if(s.length!==r.length)throw new qn("missing Key Management algorithm");if(a.size===0)throw new qn("missing Content Encryption algorithm");if(a.size!==1)throw new qn("there must only be one Content Encryption algorithm")}else if(a.size>1)throw new qn("there must only be one Content Encryption algorithm");return[...a][0]}});var Zk=x((OZ,Xk)=>{var{deflateRawSync:j8}=require("zlib"),{KEYOBJECT:Jk}=ut(),R8=Vh(),as=Kt(),M8=Di(),iv=br(),{createSecretKey:P8}=_t(),ov=$m(),Gk=ss(),{JWEInvalid:Vk}=Ze(),{check:sv,keyManagementEncrypt:N8,encrypt:D8}=ka(),L8=Qm(),B8=ev(),K8=nv(),Yk=Symbol("PROCESS_RECIPIENT"),av=class{constructor(t,r,n,i){if(!Buffer.isBuffer(t)&&typeof t!="string")throw new TypeError("cleartext argument must be a Buffer or a string");if(t=Buffer.from(t),i!==void 0&&!Buffer.isBuffer(i)&&typeof i!="string")throw new TypeError("aad argument must be a Buffer or a string when provided");if(i=i?Buffer.from(i):void 0,r!==void 0&&!iv(r))throw new TypeError("protectedHeader argument must be a plain object when provided");if(n!==void 0&&!iv(n))throw new TypeError("unprotectedHeader argument must be a plain object when provided");this._recipients=[],this._cleartext=t,this._aad=i,this._unprotected=n?ov(n):void 0,this._protected=r?ov(r):void 0}recipient(t,r){if(t=M8(t),r!==void 0&&!iv(r))throw new TypeError("header argument must be a plain object when provided");return this._recipients.push({key:t,header:r?ov(r):void 0}),this}[Yk](t){let r=this._unprotected,n=this._protected,{length:i}=this._recipients,s=ie(ie(ie({},n),r),t.header),{key:a}=t,u=s.enc,l=s.alg;if(a.use==="sig")throw new TypeError('a key with "use":"sig" is not usable for encryption');if(l==="dir")sv(a,"encrypt",u);else if(l)sv(a,"keyManagementEncrypt",l);else{if(l=a.alg||[...a.algorithms("wrapKey")][0]||[...a.algorithms("deriveKey")][0],l==="ECDH-ES"&&i!==1&&(l=[...a.algorithms("deriveKey")][1]),!l)throw new Vk('could not resolve a usable "alg" for a recipient');i===1?n?n.alg=l:this._protected={alg:l}:t.header?t.header.alg=l:t.header={alg:l}}let p,d;a.kty==="oct"&&l==="dir"?this._cek=Gk(a[Jk],{use:"enc",alg:u}):(sv(this._cek,"encrypt",u),{wrapped:p,header:d}=N8(l,a,this._cek[Jk].export(),{enc:u,alg:l}),l==="ECDH-ES"&&(this._cek=Gk(P8(p),{use:"enc",alg:u}))),l==="dir"||l==="ECDH-ES"?t.encrypted_key="":t.encrypted_key=as.encodeBuffer(p),d&&(t.generatedHeader=d)}encrypt(t){let r=L8[t];if(!r)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new Vk("missing recipients");r.validate(this._protected,this._unprotected,this._aad,this._recipients);let n=K8(this._protected,this._unprotected,this._recipients,!1,this._protected?this._protected.crit:void 0);n||(n="A128CBC-HS256",this._protected?this._protected.enc=n:this._protected={enc:n});let i={};this._cek=B8(n);for(let d of this._recipients)this[Yk](d);let s=R8(n);if(i.iv=as.encodeBuffer(s),this._recipients.length===1&&this._recipients[0].generatedHeader){let[{generatedHeader:d}]=this._recipients;delete this._recipients[0].generatedHeader,this._protected=ie(ie({},this._protected),d)}this._protected&&(i.protected=as.JSON.encode(this._protected)),i.unprotected=this._unprotected;let a;this._aad?(i.aad=as.encode(this._aad),a=Buffer.concat([Buffer.from(i.protected||""),Buffer.from("."),Buffer.from(i.aad)])):a=Buffer.from(i.protected||"");let u=this._cleartext;this._protected&&"zip"in this._protected&&(u=j8(u));let{ciphertext:l,tag:p}=D8(n,this._cek,u,{iv:s,aad:a});return i.tag=as.encodeBuffer(p),i.ciphertext=as.encodeBuffer(l),r(i,this._recipients)}};o(av,"Encrypt");Xk.exports=av});var Nl=x((CZ,Qk)=>{var U8=zm();Qk.exports=U8});var iA=x((IZ,nA)=>{var{inflateRawSync:F8}=require("zlib"),Br=Kt(),H8=Di(),{KeyStore:z8}=Nl(),rn=Ze(),{check:$8,decrypt:W8,keyManagementDecrypt:eA}=ka(),cv=Oa(),{createSecretKey:tA}=_t(),J8=ev(),rA=nv(),{detect:G8}=Qm(),V8=new Set(["compact","flattened"]),Y8=o((e={},t={},r={})=>{typeof e=="string"&&(e=Br.JSON.decode(e));let n=e.p2s||t.p2s||r.p2s,i=e.apu||t.apu||r.apu,s=e.apv||t.apv||r.apv,a=e.iv||t.iv||r.iv,u=e.tag||t.tag||r.tag;return ie(ie(ie(ie(ie(ie(ie(ie({},e),t),r),typeof n=="string"?{p2s:Br.decodeToBuffer(n)}:void 0),typeof i=="string"?{apu:Br.decodeToBuffer(i)}:void 0),typeof s=="string"?{apv:Br.decodeToBuffer(s)}:void 0),typeof a=="string"?{iv:Br.decodeToBuffer(a)}:void 0),typeof u=="string"?{tag:Br.decodeToBuffer(u)}:void 0)},"combineHeader"),uv=o((e,t,r,n,{crit:i=[],complete:s=!1,algorithms:a}={})=>{if(n=H8(n,!0),a!==void 0&&(!Array.isArray(a)||a.some(ne=>typeof ne!="string"||!ne)))throw new TypeError('"algorithms" option must be an array of non-empty strings');if(a&&(a=new Set(a)),!Array.isArray(i)||i.some(ne=>typeof ne!="string"||!ne))throw new TypeError('"crit" option must be an array of non-empty strings');t||(t=G8(r));let u,l,p,d,g,m,v,y,S,E,T,w;if(t==="general"&&r.recipients.length===1){t="flattened";let F=r,{recipients:ne}=F,se=zr(F,["recipients"]);r=ie(ie({},se),ne[0])}if(V8.has(t)){if(t==="compact"?[v,d,g,l,y]=r.split("."):{protected:v,encrypted_key:d,iv:g,ciphertext:l,tag:y,unprotected:S,aad:T,header:w}=r,e||rA(v,S,[{header:w}],!0,i),m=Y8(v,S,w),{alg:u,enc:p}=m,a&&!a.has(u==="dir"?p:u))throw new rn.JOSEAlgNotWhitelisted("alg not whitelisted");if(n instanceof z8){let pe=n,fe;switch(m.alg==="dir"?fe=pe.all({kid:m.kid,alg:m.enc,key_ops:["decrypt"]}):fe=pe.all({kid:m.kid,alg:m.alg,key_ops:["unwrapKey"]}),fe.length){case 0:throw new rn.JWKSNoMatchingKey;case 1:n=fe[0];break;default:{let V=[];for(let P of fe)try{return uv(!0,t,r,P,{crit:i,complete:s,algorithms:a?[...a]:void 0})}catch(L){V.push(L);continue}let R=new rn.JOSEMultiError(V);throw[...R].some(P=>P instanceof rn.JWEDecryptionFailed)?new rn.JWEDecryptionFailed:R}}}$8(n,...u==="dir"?["decrypt",p]:["keyManagementDecrypt",u]);try{if(u==="dir")E=cv.asKey(n,{alg:p,use:"enc"});else if(u==="ECDH-ES"){let pe=eA(u,n,void 0,m);E=cv.asKey(tA(pe),{alg:p,use:"enc"})}else{let pe=eA(u,n,Br.decodeToBuffer(d),m);E=cv.asKey(tA(pe),{alg:p,use:"enc"})}}catch(pe){E=J8(p)}let ne;T?ne=Buffer.concat([Buffer.from(v||""),Buffer.from("."),Buffer.from(T)]):ne=Buffer.from(v||"");try{g=Br.decodeToBuffer(g)}catch(pe){}try{y=Br.decodeToBuffer(y)}catch(pe){}let se=W8(p,E,Br.decodeToBuffer(l),{iv:g,tag:y,aad:ne});if(m.zip&&(se=F8(se)),s){let pe={cleartext:se,key:n,cek:E};return T&&(pe.aad=T),w&&(pe.header=w),S&&(pe.unprotected=S),v&&(pe.protected=Br.JSON.decode(v)),pe}return se}rA(r.protected,r.unprotected,r.recipients.map(({header:ne})=>({header:ne})),!0,i);let $=r,{recipients:O}=$,I=zr($,["recipients"]),j=[];for(let ne of O)try{return uv(!0,"flattened",ie(ie({},I),ne),n,{crit:i,complete:s,algorithms:a?[...a]:void 0})}catch(se){j.push(se);continue}let k=new rn.JOSEMultiError(j);throw[...k].some(ne=>ne instanceof rn.JWEDecryptionFailed)?new rn.JWEDecryptionFailed:[...k].every(ne=>ne instanceof rn.JWKSNoMatchingKey)?new rn.JWKSNoMatchingKey:k},"jweDecrypt");nA.exports=uv.bind(void 0,!1,void 0)});var sA=x((kZ,cs)=>{var oA=Zk(),X8=iA(),lv=o((e,t,r,n,i,s)=>new oA(t,n,i,s).recipient(r).encrypt(e),"single");cs.exports.Encrypt=oA;cs.exports.encrypt=lv.bind(void 0,"compact");cs.exports.encrypt.flattened=lv.bind(void 0,"flattened");cs.exports.encrypt.general=lv.bind(void 0,"general");cs.exports.decrypt=X8});var fv=x((AZ,pA)=>{var pv=br(),Ra=Aa(),{JWSInvalid:Ma}=Ze();Ra=Ra.bind(void 0,Ma);var aA=o((e,[t])=>`${t.protected}.${e}.${t.signature}`,"compactSerializer");aA.validate=(e,{0:{unprotectedHeader:t,protectedHeader:r},length:n})=>{if(n!==1||t)throw new Ma("JWS Compact Serialization doesn't support multiple recipients or JWS unprotected headers");Ra(r,t,r?r.crit:void 0)};var cA=o((e,[t])=>{let{header:r,signature:n,protected:i}=t;return Le(ie(ie({payload:e},i?{protected:i}:void 0),r?{header:r}:void 0),{signature:n})},"flattenedSerializer");cA.validate=(e,{0:{unprotectedHeader:t,protectedHeader:r},length:n})=>{if(n!==1)throw new Ma("Flattened JWS JSON Serialization doesn't support multiple recipients");Ra(r,t,r?r.crit:void 0)};var uA=o((e,t)=>({payload:e,signatures:t.map(({header:r,signature:n,protected:i})=>Le(ie(ie({},i?{protected:i}:void 0),r?{header:r}:void 0),{signature:n}))}),"generalSerializer");uA.validate=(e,t)=>{let r=!1;if(t.forEach(({protectedHeader:n,unprotectedHeader:i})=>{n&&!r&&"b64"in n&&(r=!0),Ra(n,i,n?n.crit:void 0)}),r&&!t.map(({protectedHeader:i})=>i&&i.b64).every((i,s,[a])=>i===a))throw new Ma('the "b64" Header Parameter value MUST be the same for all recipients')};var Z8=o(e=>pv(e)&&(typeof e.payload=="string"||Buffer.isBuffer(e.payload)),"isJSON"),lA=o(e=>pv(e)&&typeof e.signature=="string"&&(e.header===void 0||pv(e.header))&&(e.protected===void 0||typeof e.protected=="string"),"isValidRecipient"),Q8=o(e=>!!(Array.isArray(e.signatures)&&e.signatures.every(lA)),"isMultiRecipient"),eJ=o(e=>{if(typeof e=="string"&&e.split(".").length===3)return"compact";if(Z8(e)){if(Q8(e))return"general";if(lA(e))return"flattened"}throw new Ma("JWS malformed or invalid serialization")},"detect");pA.exports={compact:aA,flattened:cA,general:uA,detect:eJ}});var hA=x((qZ,gA)=>{var Li=Kt(),tJ=Pl(),dv=br(),fA=$m(),{JWSInvalid:gv}=Ze(),{sign:rJ}=ka(),nJ=Di(),iJ=fv(),dA=Symbol("PROCESS_RECIPIENT"),hv=class{constructor(t){if(typeof t=="string")t=Li.encode(t);else if(Buffer.isBuffer(t))t=Li.encodeBuffer(t),this._binary=!0;else if(dv(t))t=Li.JSON.encode(t);else throw new TypeError("payload argument must be a Buffer, string or an object");this._payload=t,this._recipients=[]}recipient(t,r,n){if(t=nJ(t),r!==void 0&&!dv(r))throw new TypeError("protectedHeader argument must be a plain object when provided");if(n!==void 0&&!dv(n))throw new TypeError("unprotectedHeader argument must be a plain object when provided");if(!tJ(r,n))throw new gv("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");return this._recipients.push({key:t,protectedHeader:r?fA(r):void 0,unprotectedHeader:n?fA(n):void 0}),this}[dA](t,r){let{key:n,protectedHeader:i,unprotectedHeader:s}=t;if(n.use==="enc")throw new TypeError('a key with "use":"enc" is not usable for signing');let a={protected:i||{},unprotected:s||{}},u=a.protected.alg||a.unprotected.alg;if(u||(u=n.alg||[...n.algorithms("sign")][0],t.protectedHeader?a.protected.alg=t.protectedHeader.alg=u:a.protected=t.protectedHeader={alg:u}),!u)throw new gv('could not resolve a usable "alg" for a recipient');t.header=s,t.protected=Object.keys(a.protected).length?Li.JSON.encode(a.protected):"",r&&a.protected.crit&&a.protected.crit.includes("b64")&&a.protected.b64===!1&&(this._binary?this._payload=Li.decodeToBuffer(this._payload):this._payload=Li.decode(this._payload));let l=Buffer.concat([Buffer.from(t.protected||""),Buffer.from("."),Buffer.from(this._payload)]);t.signature=Li.encodeBuffer(rJ(u,n,l))}sign(t){let r=iJ[t];if(!r)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new gv("missing recipients");return r.validate(this,this._recipients),this._recipients.forEach((n,i)=>{this[dA](n,i===0)}),r(this._payload,this._recipients)}};o(hv,"Sign");gA.exports=hv});var yv=x((jZ,mA)=>{var{EOL:mv}=require("os"),Dl=Kt(),oJ=Pl(),sJ=br(),vv=Aa(),aJ=Di(),{KeyStore:cJ}=Nl(),bt=Ze(),{check:uJ,verify:lJ}=ka(),Ll=Oa(),{detect:pJ}=fv();vv=vv.bind(void 0,bt.JWSInvalid);var fJ=new Set(["compact","flattened","preparsed"]),Bl=o((e,t,r,n,{crit:i=[],complete:s=!1,algorithms:a,parse:u=!0,encoding:l="utf8"}={})=>{if(n=aJ(n,!0),a!==void 0&&(!Array.isArray(a)||a.some(j=>typeof j!="string"||!j)))throw new TypeError('"algorithms" option must be an array of non-empty strings');if(a&&(a=new Set(a)),!Array.isArray(i)||i.some(j=>typeof j!="string"||!j))throw new TypeError('"crit" option must be an array of non-empty strings');t||(t=pJ(r));let p,d,g,m,v;if(t==="general"&&r.signatures.length===1){t="flattened";let O=r,{signatures:j}=O,k=zr(O,["signatures"]);r=ie(ie({},k),j[0])}let y;if(fJ.has(t)){let j={};switch(t){case"compact":[p,g,m]=r.split(".");break;case"flattened":({protected:p,payload:g,signature:m,header:d}=r);break;case"preparsed":{({decoded:y}=r),[p,g,m]=r.token.split(".");break}}if(d||(e=!0),y)j=y.header;else if(p)try{j=Dl.JSON.decode(p)}catch($){throw new bt.JWSInvalid("could not parse JWS protected header")}else e=e||!0;if(!e&&!oJ(j,d))throw new bt.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let k=ie(ie({},j),d);if(vv(j,d,i),v=j.alg||d&&d.alg,v){if(a&&!a.has(v))throw new bt.JOSEAlgNotWhitelisted("alg not whitelisted")}else throw new bt.JWSInvalid("missing JWS signature algorithm");if(n instanceof cJ){let ne=n.all({kid:k.kid,alg:k.alg,key_ops:["verify"]});switch(ne.length){case 0:throw new bt.JWKSNoMatchingKey;case 1:n=ne[0];break;default:{let se=[];for(let fe of ne)try{return Bl(!0,t,r,fe,{crit:i,complete:s,encoding:l,parse:u,algorithms:a?[...a]:void 0})}catch(V){se.push(V);continue}let pe=new bt.JOSEMultiError(se);throw[...pe].some(fe=>fe instanceof bt.JWSVerificationFailed)?new bt.JWSVerificationFailed:pe}}}if(n===Ll.EmbeddedJWK){if(!sJ(k.jwk))throw new bt.JWSInvalid('JWS Header Parameter "jwk" must be a JSON object');if(n=Ll.asKey(k.jwk),n.type!=="public")throw new bt.JWSInvalid('JWS Header Parameter "jwk" must be a public key')}else if(n===Ll.EmbeddedX5C){if(!Array.isArray(k.x5c)||!k.x5c.length||k.x5c.some($=>typeof $!="string"||!$))throw new bt.JWSInvalid('JWS Header Parameter "x5c" must be a JSON array of certificate value strings');n=Ll.asKey(`-----BEGIN CERTIFICATE-----${mv}${(k.x5c[0].match(/.{1,64}/g)||[]).join(mv)}${mv}-----END CERTIFICATE-----`,{x5c:k.x5c})}uJ(n,"verify",v);let F=Buffer.concat([Buffer.from(p||""),Buffer.from("."),Buffer.isBuffer(g)?g:Buffer.from(g)]);if(!lJ(v,n,F,Dl.decodeToBuffer(m)))throw new bt.JWSVerificationFailed;if((!k.crit||!k.crit.includes("b64")||k.b64)&&(u?g=y?y.payload:Dl.JSON.decode.try(g,l):g=Dl.decodeToBuffer(g)),s){let $={payload:g,key:n};return p&&($.protected=j),d&&($.header=d),$}return g}let I=r,{signatures:S}=I,E=zr(I,["signatures"]),T=[];for(let j of S)try{return Bl(!1,"flattened",ie(ie({},E),j),n,{crit:i,complete:s,encoding:l,parse:u,algorithms:a?[...a]:void 0})}catch(k){T.push(k);continue}let w=new bt.JOSEMultiError(T);throw[...w].some(j=>j instanceof bt.JWSVerificationFailed)?new bt.JWSVerificationFailed:[...w].every(j=>j instanceof bt.JWKSNoMatchingKey)?new bt.JWKSNoMatchingKey:w},"jwsVerify");mA.exports={bare:Bl,verify:Bl.bind(void 0,!1,void 0)}});var bv=x((RZ,us)=>{var vA=hA(),{verify:dJ}=yv(),_v=o((e,t,r,n,i)=>new vA(t).recipient(r,n,i).sign(e),"single");us.exports.Sign=vA;us.exports.sign=_v.bind(void 0,"compact");us.exports.sign.flattened=_v.bind(void 0,"flattened");us.exports.sign.general=_v.bind(void 0,"general");us.exports.verify=dJ});var xv=x((MZ,bA)=>{var yA=Kt(),_A=Ze();bA.exports=(e,{complete:t=!1}={})=>{if(typeof e!="string"||!e)throw new TypeError("JWT must be a string");let{0:r,1:n,2:i,length:s}=e.split(".");if(s===5)throw new TypeError("JWTs must be decrypted first");if(s!==3)throw new _A.JWTMalformed("JWTs must have three components");try{let a={header:yA.JSON.decode(r),payload:yA.JSON.decode(n),signature:i};return t?a:a.payload}catch(a){throw new _A.JWTMalformed("JWT is malformed")}}});var Ev=x((PZ,EA)=>{var xA=60,SA=xA*60,Sv=SA*24,gJ=Sv*7,hJ=Sv*365.25,mJ=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;EA.exports=e=>{let t=mJ.exec(e);if(!t)throw new TypeError(`invalid time period format ("${e}")`);let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*xA);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*SA);case"day":case"days":case"d":return Math.round(r*Sv);case"week":case"weeks":case"w":return Math.round(r*gJ);case"year":case"years":case"yr":case"yrs":case"y":return Math.round(r*hJ)}}});var wv=x((NZ,wA)=>{wA.exports=e=>Math.floor(e.getTime()/1e3)});var Ov=x((DZ,Tv)=>{var TA=o(e=>typeof e!="string"||e.length===0,"isNotString");Tv.exports.isNotString=TA;Tv.exports.isString=o(function(t,r,n,i,s=!1){if(s&&r===void 0)throw new t(`${n} is missing`,i,"missing");if(r!==void 0&&TA(r))throw new t(`${n} must be a string`,i,"invalid")},"isString")});var IA=x((LZ,CA)=>{var Cv=br(),OA=Ev(),vJ=wv(),yJ=Di(),_J=bv(),Bi=Ov().isString.bind(void 0,TypeError),bJ=o(e=>{if(typeof e.iat!="boolean")throw new TypeError("options.iat must be a boolean");if(typeof e.kid!="boolean")throw new TypeError("options.kid must be a boolean");if(Bi(e.subject,"options.subject"),Bi(e.issuer,"options.issuer"),e.audience!==void 0&&(typeof e.audience!="string"||!e.audience)&&(!Array.isArray(e.audience)||e.audience.length===0||e.audience.some(t=>!t||typeof t!="string")))throw new TypeError("options.audience must be a string or an array of strings");if(!Cv(e.header))throw new TypeError("options.header must be an object");if(Bi(e.algorithm,"options.algorithm"),Bi(e.expiresIn,"options.expiresIn"),Bi(e.notBefore,"options.notBefore"),Bi(e.jti,"options.jti"),Bi(e.nonce,"options.nonce"),e.now!==void 0&&(!(e.now instanceof Date)||!e.now.getTime()))throw new TypeError("options.now must be a valid Date object")},"validateOptions");CA.exports=(e,t,r={})=>{if(!Cv(r))throw new TypeError("options must be an object");let{algorithm:n,audience:i,expiresIn:s,header:a={},iat:u=!0,issuer:l,jti:p,kid:d=!0,nonce:g,notBefore:m,subject:v,now:y}=r;if(bJ({algorithm:n,audience:i,expiresIn:s,header:a,iat:u,issuer:l,jti:p,kid:d,nonce:g,notBefore:m,now:y,subject:v}),!Cv(e))throw new TypeError("payload must be an object");let S;(s||m||u)&&(S=vJ(y||new Date)),e=Le(ie({},e),{sub:v||e.sub,aud:i||e.aud,iss:l||e.iss,jti:p||e.jti,iat:u?S:e.iat,nonce:g||e.nonce,exp:s?S+OA(s):e.exp,nbf:m?S+OA(m):e.nbf}),t=yJ(t);let E;return typeof r.kid=="boolean"?E=d:E=!t.secret,_J.sign(JSON.stringify(e),t,Le(ie({},a),{alg:n||a.alg,kid:E?t.kid:a.kid}))}});var qv=x((BZ,RA)=>{var Iv=br(),xJ=wv(),kv=Ev(),SJ=Di(),{bare:kA}=yv(),{JWTClaimInvalid:et,JWTExpired:AA}=Ze(),{isString:qA,isNotString:Kl}=Ov(),EJ=xv(),jn=qA.bind(void 0,et),li=qA.bind(void 0,TypeError),ls="id_token",Ul="logout_token",Ki="at+JWT",Fl=o((e,t,r=!1)=>{if(r&&e===void 0)throw new et(`"${t}" claim is missing`,t,"missing");if(e!==void 0&&typeof e!="number")throw new et(`"${t}" claim must be a JSON numeric value`,t,"invalid")},"isTimestamp"),Av=o((e,t,r=!1)=>{if(r&&e===void 0)throw new et(`"${t}" claim is missing`,t,"missing");if(e!==void 0&&Kl(e)&&Pa(e))throw new et(`"${t}" claim must be a string or array of strings`,t,"invalid")},"isStringOrArrayOfStrings"),Pa=o(e=>!Array.isArray(e)||e.length===0||e.some(Kl),"isNotArrayOfStrings"),jA=o(e=>e.toLowerCase().replace(/^application\//,""),"normalizeTyp"),wJ=o(({algorithms:e,audience:t,clockTolerance:r,complete:n=!1,crit:i,ignoreExp:s=!1,ignoreIat:a=!1,ignoreNbf:u=!1,issuer:l,jti:p,maxAuthAge:d,maxTokenAge:g,nonce:m,now:v=new Date,profile:y,subject:S,typ:E})=>{if(li(y,"options.profile"),typeof n!="boolean")throw new TypeError("options.complete must be a boolean");if(typeof s!="boolean")throw new TypeError("options.ignoreExp must be a boolean");if(typeof u!="boolean")throw new TypeError("options.ignoreNbf must be a boolean");if(typeof a!="boolean")throw new TypeError("options.ignoreIat must be a boolean");if(li(g,"options.maxTokenAge"),li(S,"options.subject"),li(d,"options.maxAuthAge"),li(p,"options.jti"),li(r,"options.clockTolerance"),li(E,"options.typ"),l!==void 0&&Kl(l)&&Pa(l))throw new TypeError("options.issuer must be a string or an array of strings");if(t!==void 0&&Kl(t)&&Pa(t))throw new TypeError("options.audience must be a string or an array of strings");if(e!==void 0&&Pa(e))throw new TypeError("options.algorithms must be an array of strings");if(li(m,"options.nonce"),!(v instanceof Date)||!v.getTime())throw new TypeError("options.now must be a valid Date object");if(a&&g!==void 0)throw new TypeError("options.ignoreIat and options.maxTokenAge cannot used together");if(i!==void 0&&Pa(i))throw new TypeError("options.crit must be an array of strings");switch(y){case ls:if(!l)throw new TypeError('"issuer" option is required to validate an ID Token');if(!t)throw new TypeError('"audience" option is required to validate an ID Token');break;case Ki:if(!l)throw new TypeError('"issuer" option is required to validate a JWT Access Token');if(!t)throw new TypeError('"audience" option is required to validate a JWT Access Token');E=Ki;break;case Ul:if(!l)throw new TypeError('"issuer" option is required to validate a Logout Token');if(!t)throw new TypeError('"audience" option is required to validate a Logout Token');break;case void 0:break;default:throw new TypeError(`unsupported options.profile value "${y}"`)}return{algorithms:e,audience:t,clockTolerance:r,complete:n,crit:i,ignoreExp:s,ignoreIat:a,ignoreNbf:u,issuer:l,jti:p,maxAuthAge:d,maxTokenAge:g,nonce:m,now:v,profile:y,subject:S,typ:E}},"validateOptions"),TJ=o(({header:e,payload:t},r,n)=>{if(jn(e.alg,'"alg" header parameter',"alg",!0),Fl(t.iat,"iat",r===ls||r===Ul||r===Ki||!!n.maxTokenAge),Fl(t.exp,"exp",r===ls||r===Ki),Fl(t.auth_time,"auth_time",!!n.maxAuthAge),Fl(t.nbf,"nbf"),jn(t.jti,'"jti" claim',"jti",r===Ul||r===Ki||!!n.jti),jn(t.acr,'"acr" claim',"acr"),jn(t.nonce,'"nonce" claim',"nonce",!!n.nonce),Av(t.iss,"iss",!!n.issuer),jn(t.sub,'"sub" claim',"sub",r===ls||r===Ki||!!n.subject),Av(t.aud,"aud",!!n.audience),jn(t.azp,'"azp" claim',"azp",r===ls&&Array.isArray(t.aud)&&t.aud.length>1),Av(t.amr,"amr"),jn(e.typ,'"typ" header parameter',"typ",!!n.typ),r===Ki&&jn(t.client_id,'"client_id" claim',"client_id",!0),r===Ul){if(jn(t.sid,'"sid" claim',"sid"),!("sid"in t)&&!("sub"in t))throw new et('either "sid" or "sub" (or both) claims must be present');if("nonce"in t)throw new et('"nonce" claim is prohibited',"nonce","prohibited");if(!("events"in t))throw new et('"events" claim is missing',"events","missing");if(!Iv(t.events))throw new et('"events" claim must be an object',"events","invalid");if(!("http://schemas.openid.net/event/backchannel-logout"in t.events))throw new et('"http://schemas.openid.net/event/backchannel-logout" member is missing in the "events" claim',"events","invalid");if(!Iv(t.events["http://schemas.openid.net/event/backchannel-logout"]))throw new et('"http://schemas.openid.net/event/backchannel-logout" member in the "events" claim must be an object',"events","invalid")}},"validateTypes"),OJ=o((e,t,r)=>typeof e=="string"?t.includes(e):(e=new Set(e),t.some(Set.prototype.has.bind(e))),"checkAudiencePresence");RA.exports=(e,t,r={})=>{if(!Iv(r))throw new TypeError("options must be an object");let{algorithms:n,audience:i,clockTolerance:s,complete:a,crit:u,ignoreExp:l,ignoreIat:p,ignoreNbf:d,issuer:g,jti:m,maxAuthAge:v,maxTokenAge:y,nonce:S,now:E,profile:T,subject:w,typ:O}=r=wJ(r),I=EJ(e,{complete:!0});t=SJ(t,!0),a?({key:t}=kA(!0,"preparsed",{decoded:I,token:e},t,{crit:u,algorithms:n,complete:!0}),I.key=t):kA(!0,"preparsed",{decoded:I,token:e},t,{crit:u,algorithms:n});let j=xJ(E);if(TJ(I,T,r),g&&(typeof I.payload.iss!="string"||!(typeof g=="string"?[g]:g).includes(I.payload.iss)))throw new et('unexpected "iss" claim value',"iss","check_failed");if(S&&I.payload.nonce!==S)throw new et('unexpected "nonce" claim value',"nonce","check_failed");if(w&&I.payload.sub!==w)throw new et('unexpected "sub" claim value',"sub","check_failed");if(m&&I.payload.jti!==m)throw new et('unexpected "jti" claim value',"jti","check_failed");if(i&&!OJ(I.payload.aud,typeof i=="string"?[i]:i,T))throw new et('unexpected "aud" claim value',"aud","check_failed");if(O&&jA(I.header.typ)!==jA(O))throw new et('unexpected "typ" JWT header value',"typ","check_failed");let k=s?kv(s):0;if(v){let F=kv(v);if(I.payload.auth_time+F<j-k)throw new et('"auth_time" claim timestamp check failed (too much time has elapsed since the last End-User authentication)',"auth_time","check_failed")}if(!p&&!("exp"in I.payload)&&"iat"in I.payload&&I.payload.iat>j+k)throw new et('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed");if(!d&&"nbf"in I.payload&&I.payload.nbf>j+k)throw new et('"nbf" claim timestamp check failed',"nbf","check_failed");if(!l&&"exp"in I.payload&&I.payload.exp<=j-k)throw new AA('"exp" claim timestamp check failed',"exp","check_failed");if(y){let F=j-I.payload.iat,$=kv(y);if(F-k>$)throw new AA('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(F<0-k)throw new et('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(T===ls&&Array.isArray(I.payload.aud)&&I.payload.aud.length>1&&I.payload.azp!==i)throw new et('unexpected "azp" claim value',"azp","check_failed");return a?I:I.payload}});var PA=x((KZ,MA)=>{var jv=qv();MA.exports={IdToken:{verify:(e,t,r)=>jv(e,t,Le(ie({},r),{profile:"id_token"}))},LogoutToken:{verify:(e,t,r)=>jv(e,t,Le(ie({},r),{profile:"logout_token"}))},AccessToken:{verify:(e,t,r)=>jv(e,t,Le(ie({},r),{profile:"at+JWT"}))}}});var DA=x((UZ,NA)=>{var CJ=xv(),IJ=IA(),kJ=qv(),AJ=PA();NA.exports=ie({decode:CJ,sign:IJ,verify:kJ},AJ)});var BA=x((FZ,LA)=>{LA.exports={JWE:sA(),JWK:Oa(),JWKS:Nl(),JWS:bv(),JWT:DA(),errors:Ze()}});var KA=x(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.setLogger=qJ;ps.proxyLogger=RJ;ps.default=void 0;var Ui={error(e,...t){console.error(`[next-auth][error][${e.toLowerCase()}]`,`
https://next-auth.js.org/errors#${e.toLowerCase()}`,...t)},warn(e,...t){console.warn(`[next-auth][warn][${e.toLowerCase()}]`,`
https://next-auth.js.org/warnings#${e.toLowerCase()}`,...t)},debug(e,...t){var r,n;!((r=process)!==null&&r!==void 0&&(n=r.env)!==null&&n!==void 0&&n._NEXTAUTH_DEBUG)||console.log(`[next-auth][debug][${e.toLowerCase()}]`,...t)}};function qJ(e={}){e.error&&(Ui.error=e.error),e.warn&&(Ui.warn=e.warn),e.debug&&(Ui.debug=e.debug)}o(qJ,"setLogger");var jJ=Ui;ps.default=jJ;function RJ(e=Ui,t){try{if(typeof window=="undefined")return e;let r={};for(let n in e)r[n]=(i,...s)=>{Ui[n](i,...s);let a=`${t}/_log`,u=new URLSearchParams({level:n,code:i,message:JSON.stringify(s.map(l=>l instanceof Error?{name:l.name,message:l.message,stack:l.stack}:l))});return navigator.sendBeacon?navigator.sendBeacon(a,u):fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:u})};return r}catch(r){return Ui}}o(RJ,"proxyLogger")});var GA=x((zZ,JA)=>{"use strict";var{createHash:MJ,createHmac:UA}=require("crypto"),FA={},HA=o(e=>{switch(e){case"sha256":return 32;case"sha512":return 64;case"sha224":return 28;case"sha384":return 48;case"sha3-256":return 32;case"sha3-512":return 64;case"sha3-224":return 28;case"sha3-384":return 48;case"blake2s256":return 32;case"blake2b512":return 64;case"sha1":return 20;case"md5":return 16;default:{let t=FA[e];return t===void 0&&(t=MJ(e).digest().length,FA[e]=t),t}}},"hash_length"),zA=o((e,t,r,n)=>{let i=Buffer.isBuffer(r)?r:Buffer.from(r),s=n&&n.length?Buffer.from(n):Buffer.alloc(t,0);return UA(e,s).update(i).digest()},"hkdf_extract"),$A=o((e,t,r,n,i)=>{let s=Buffer.from(i||""),a=s.length,u=Math.ceil(n/t);if(u>255)throw new Error(`OKM length ${n} is too long for ${e} hash`);let l=Buffer.alloc(t*u+a+1);for(let p=1,d=0,g=0;p<=u;++p)s.copy(l,g),l[g+a]=p,UA(e,r).update(l.slice(d,g+a+1)).digest().copy(l,g),d=g,g+=t;return l.slice(0,n)},"hkdf_expand");function WA(e,t,{salt:r="",info:n="",hash:i="SHA-256"}={}){i=i.toLowerCase().replace("-","");let s=HA(i),a=zA(i,s,e,r);return $A(i,s,a,t,n)}o(WA,"hkdf");Object.defineProperties(WA,{hash_length:{configurable:!1,enumerable:!1,writable:!1,value:HA},extract:{configurable:!1,enumerable:!1,writable:!1,value:zA},expand:{configurable:!1,enumerable:!1,writable:!1,value:$A}});JA.exports=WA});var Nv=x(Fi=>{"use strict";var Rv=GO();Object.defineProperty(Fi,"__esModule",{value:!0});Fi.encode=eq;Fi.decode=Pv;Fi.getToken=tq;Fi.default=void 0;var VA=Rv(require("crypto")),nn=Rv(BA()),YA=Rv(KA()),XA="HS512",Mv="A256GCM",ZA=!1,QA=30*24*60*60;async function eq({token:e={},maxAge:t=QA,secret:r,signingKey:n,signingOptions:i={expiresIn:`${t}s`},encryptionKey:s,encryptionOptions:a={alg:"dir",enc:Mv,zip:"DEF"},encryption:u=ZA}={}){let l=n?nn.default.JWK.asKey(JSON.parse(n)):oq(r),p=nn.default.JWT.sign(e,l,i);if(u){let d=s?nn.default.JWK.asKey(JSON.parse(s)):sq(r);return nn.default.JWE.encrypt(p,d,a)}return p}o(eq,"encode");async function Pv({secret:e,token:t,maxAge:r=QA,signingKey:n,verificationKey:i=n,verificationOptions:s={maxTokenAge:`${r}s`,algorithms:[XA]},encryptionKey:a,decryptionKey:u=a,decryptionOptions:l={algorithms:[Mv]},encryption:p=ZA}={}){if(!t)return null;let d=t;if(p){let m=u?nn.default.JWK.asKey(JSON.parse(u)):sq(e);d=nn.default.JWE.decrypt(t,m,l).toString("utf8")}let g=i?nn.default.JWK.asKey(JSON.parse(i)):oq(e);return nn.default.JWT.verify(d,g,s)}o(Pv,"decode");async function tq(e){var t;let{req:r,secureCookie:n=!(!process.env.NEXTAUTH_URL||process.env.NEXTAUTH_URL.startsWith("http://")),cookieName:i=n?"__Secure-next-auth.session-token":"next-auth.session-token",raw:s=!1,decode:a=Pv}=e;if(!r)throw new Error("Must pass `req` to JWT getToken()");let u=r.cookies[i];if(!u&&((t=r.headers.authorization)===null||t===void 0?void 0:t.split(" ")[0])==="Bearer"){let l=r.headers.authorization.split(" ")[1];u=decodeURIComponent(l)}if(s)return u;try{return a(ie({token:u},e))}catch(l){return null}}o(tq,"getToken");var rq=!1,nq=!1;function iq(e,{byteLength:t,encryptionInfo:r,digest:n="sha256"}){return VA.default.hkdfSync?Buffer.from(VA.default.hkdfSync(n,e,Buffer.alloc(0),r,t)):GA()(e,t,{info:r,hash:n})}o(iq,"hkdf");function oq(e){rq||(YA.default.warn("JWT_AUTO_GENERATED_SIGNING_KEY"),rq=!0);let t=iq(e,{byteLength:64,encryptionInfo:"NextAuth.js Generated Signing Key"});return nn.default.JWK.asKey(t,{alg:XA,use:"sig",kid:"nextauth-auto-generated-signing-key"})}o(oq,"getDerivedSigningKey");function sq(e){nq||(YA.default.warn("JWT_AUTO_GENERATED_ENCRYPTION_KEY"),nq=!0);let t=iq(e,{byteLength:32,encryptionInfo:"NextAuth.js Generated Encryption Key"});return nn.default.JWK.asKey(t,{alg:Mv,use:"enc",kid:"nextauth-auto-generated-encryption-key"})}o(sq,"getDerivedEncryptionKey");var PJ={encode:eq,decode:Pv,getToken:tq};Fi.default=PJ});tj(exports,{handler:()=>$J});var bq=an(Zp()),Hl=an(Lx());var $h=an(PO());var NO=an(require("assert"));function DO(){return{endpoint:cr("DECI_S3_ENDPOINT","localhost:4568"),accessKeyId:cr("DECI_S3_ACCESS_KEY_ID"),secretAccessKey:cr("DECI_S3_SECRET_ACCESS_KEY"),buckets:{pads:cr("DECI_S3_PADS_BUCKET"),attachments:cr("DECI_S3_ATTACHMENTS_BUCKET")}}}o(DO,"s3");function LO(){return{sentry:{dsn:cr("SENTRY_DSN","")}}}o(LO,"monitor");function BO(){return{userKeyValidationExpirationSeconds:Number(cr("DECI_KEY_VALIDATION_EXPIRATION_SECONDS","2592000")),inviteExpirationSeconds:Number(cr("DECI_INVITE_EXPIRATION_SECONDS","86400")),jwt:{secret:cr("JWT_SECRET"),signingKey:Buffer.from(cr("JWT_SIGNING_PRIVATE_KEY"),"base64").toString(),maxAge:Number(cr("JWT_MAX_AGE","2592000"))},providers:{github:{clientId:cr("GITHUB_CLIENT_ID"),clientSecret:cr("GITHUB_CLIENT_SECRET")}}}}o(BO,"auth");function cr(e,t=void 0){let r=process.env[e];return r==null&&(t!==void 0?r=t:(0,NO.fail)(`${e} env var must be defined`)),r}o(cr,"env");var KO="0.0.1";var{sentry:{dsn:Wh}}=LO();Wh&&$h.AWSLambda.init({dsn:Wh,tracesSampleRate:1,environment:process.env.NODE_ENV,release:KO});function UO(e,t={}){if(Wh){let{rethrow:r=!0}=t;return $h.AWSLambda.wrapHandler(e,{rethrowAfterCapture:r})}return e}o(UO,"wrapHandler");var FO=o(e=>UO(async t=>{try{let r=await e(t);return r==null?{statusCode:404}:typeof r=="string"?{statusCode:HO(t),body:r,headers:{"content-type":"text/plain"}}:Fz(r)?r:{statusCode:HO(t),headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify(r)}}catch(r){return console.error(r),{statusCode:500,json:{name:r.name,message:r.message,stack:r.stack}}}}),"default");function Fz(e){return!!e.statusCode||!!e.json}o(Fz,"isFullReturnObject");function HO(e){switch(e.routeKey.split(" ")[0]){case"PUT":case"DELETE":return 202;case"POST":return 201}return 200}o(HO,"okStatusCodeFor");var ol=an(Zp());function Jh(){return Math.round(Date.now()/1e3)}o(Jh,"timestamp");var Hz=["users","userkeys","permissions","workspaces","pads","workspaceroles","invites","futurefileattachments","fileattachments"],zz=["userkeys","permissions","tags","usertaggedresources","fileattachments"],zO;async function Ri(){return zO||new Promise((t,r)=>{ol.default.tables().then(n=>{let i=n;for(let s of Hz)Gz(i,s);for(let s of zz)$z(i,s);t(i)}).catch(r)})}o(Ri,"tables");function $z(e,t){let r=e[t];if(!r)throw new Error("No table named "+t);r.__deci_observed__||(r.__deci_observed__=!0,r.put=Wz(r,t,r.put),r.delete=Jz(r,t,r.delete))}o($z,"observe");function Wz(e,t,r){return o(async function(i){let s=await r.call(e,i);return await ol.default.queues.publish({name:`${t}-changes`,payload:{table:t,action:"put",args:i}}),s},"putReplacer")}o(Wz,"putReplacer");function Jz(e,t,r){return o(async function(i){let s=await e.get({id:i.id}),a=await r.call(e,i);return await ol.default.queues.publish({name:`${t}-changes`,payload:{table:t,action:"delete",args:i,recordBeforeDelete:s}}),a},"deleteReplacer")}o(Jz,"deleteReplacer");function Gz(e,t){let r=e[t];if(!r)throw new Error("No table named "+t);typeof r.create!="function"&&(r.create=o(async function(i){return i.createdAt||(i.createdAt=Jh()),r.put(i)},"create"))}o(Gz,"enhance");var cq=an(JO()),uq=an(Nv());var Dv=an(Nv());var NJ=BO().jwt,aq=Le(ie({},NJ),{encode:Dv.default.encode,decode:Dv.default.decode});var lq=["next-auth.session-token","__Secure-next-auth.session-token"];async function DJ(e){let{token:t,gotFromSecProtocolHeader:r}=LJ(e),n=null,i=null;if(t){let{decode:a}=uq.default;try{let u=await a(Le(ie({},aq),{token:t}));if(u.accessToken){let l=await KJ(u.accessToken);if(l){let s=l,{secret:p}=s,d=zr(s,["secret"]);i=p,n=d}}}catch(u){console.error(u.message)}}return{user:n,token:t,secret:i,gotFromSecProtocolHeader:r}}o(DJ,"auth");function LJ(e){let t=!1,r=BJ(e.headers.Cookie||e.cookies||[]),n=r[lq[0]]||r[lq[1]]||e.headers.authorization||e.headers.Authorization;if(!n){let i=e.headers["sec-websocket-protocol"]||e.headers["Sec-WebSocket-Protocol"];if(i){let s=i.split(",").map(a=>a.trim()).filter(a=>a!=="graphql-transport-ws");s.length===1&&(n=s[0],t=!0)}}return n&&n.startsWith("Bearer ")&&(n=n.substring("Bearer ".length)),{token:n,gotFromSecProtocolHeader:t}}o(LJ,"getSessionToken");function BJ(e){return e||(e=[]),Array.isArray(e)||(e=[e]),e.reduce((t,r)=>{let{name:n,value:i}=(0,cq.parse)(r);return t[n]=i,t},{})}o(BJ,"parseCookies");async function KJ(e){return(await(await Ri()).users.query({IndexName:"bySecret",KeyConditionExpression:"secret = :secret",ExpressionAttributeValues:{":secret":e}})).Items[0]}o(KJ,"findUserByAccessToken");var pq=DJ;async function fq(e,t,r="READ"){return e.endsWith("/")&&(e=e.substring(0,e.length-1)),(await(await Ri()).permissions.query({IndexName:"byResourceAndUser",KeyConditionExpression:"user_id = :user_id and resource_uri = :resource_uri",ExpressionAttributeValues:{":user_id":t.id,":resource_uri":e}})).Items.some(UJ(r))}o(fq,"isAuthorized");function UJ(e){return t=>e==="READ"?!0:e==="WRITE"?t.type==="WRITE"||t.type==="ADMIN":t.type===e}o(UJ,"isEnoughPermissionFor");function dq(e){let t=(e||"").replace(/:/g,"/");return t.startsWith("/")||(t="/"+t),t}o(dq,"decode");var gq=an(require("aws-sdk/clients/s3"));var _q=DO(),{buckets:FJ}=_q,HJ=zr(_q,["buckets"]),zJ=Le(ie({},HJ),{sslEnabled:process.env.NODE_ENV!=="testing",s3ForcePathStyle:!0,signatureVersion:"v4"}),Lv=FJ.pads,hq=new gq.default(zJ);function mq(e,t){let r=Buffer.from(t,"utf-8"),n=yq(e),i={Bucket:Lv,Key:n,Body:r};return hq.putObject(i).promise().catch(s=>{throw console.log(`Error putting ${e} in ${Lv}:`,s),s})}o(mq,"put");function vq(e){let t={Bucket:Lv,Key:yq(e)};return hq.getObject(t).promise().catch(r=>{if(r.statusCode===404||r.statusCode===403)return null;throw console.log(`Error getting ${e}:`,r),r}).then(r=>(r==null?void 0:r.Body)?r.Body.toString("utf-8"):null)}o(vq,"get");function yq(e){return encodeURIComponent(e)}o(yq,"encodeId");var $J=FO(async e=>{var u;let t=dq((u=e.pathParameters)==null?void 0:u.id),{user:r}=await pq(e);if(!r||!await fq(t,r,"WRITE"))return{status:403,body:"Forbidden"};let n=await vq(t);if(!n)return{statusCode:404};let i=Hl.default.load(n);if(!e.body)return{statusCode:401,body:"Need some changes"};let s=e.isBase64Encoded?Buffer.from(e.body,"base64").toString():e.body,a=JSON.parse(s);if(a.length>0){let l=Hl.default.applyChanges(i,a);n=Hl.default.save(l),await mq(t,n);let d=await(await Ri()).collabs.query({IndexName:"room-index",KeyConditionExpression:"room = :room",ExpressionAttributeValues:{":room":t}});for(let g of d.Items)try{await bq.default.ws.send({id:g.conn,payload:{o:"c",t,c:a}})}catch(m){console.error(m)}}return{ok:!0}});0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
