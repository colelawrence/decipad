var pv=Object.create;var Kn=Object.defineProperty,lv=Object.defineProperties,fv=Object.getOwnPropertyDescriptor,dv=Object.getOwnPropertyDescriptors,mv=Object.getOwnPropertyNames,Gr=Object.getOwnPropertySymbols,gv=Object.getPrototypeOf,Co=Object.prototype.hasOwnProperty,Gc=Object.prototype.propertyIsEnumerable;var Yc=(e,t,n)=>t in e?Kn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ce=(e,t)=>{for(var n in t||(t={}))Co.call(t,n)&&Yc(e,n,t[n]);if(Gr)for(var n of Gr(t))Gc.call(t,n)&&Yc(e,n,t[n]);return e},Me=(e,t)=>lv(e,dv(t)),Xc=e=>Kn(e,"__esModule",{value:!0}),s=(e,t)=>Kn(e,"name",{value:t,configurable:!0});var nn=(e,t)=>{var n={};for(var r in e)Co.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gr)for(var r of Gr(e))t.indexOf(r)<0&&Gc.call(e,r)&&(n[r]=e[r]);return n};var L=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),hv=(e,t)=>{Xc(e);for(var n in t)Kn(e,n,{get:t[n],enumerable:!0})},yv=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of mv(t))!Co.call(e,r)&&r!=="default"&&Kn(e,r,{get:()=>t[r],enumerable:!(n=fv(t,r))||n.enumerable});return e},rn=e=>yv(Xc(Kn(e!=null?pv(gv(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var ko=L((hO,Zc)=>{Zc.exports=s(function(t=""){return t.split(";").map(i=>i.trim()).filter(Boolean).reverse().find(i=>i.startsWith("_idx="))||""},"getIdx")});var jo=L(Io=>{"use strict";Io.parse=_v;Io.serialize=wv;var vv=decodeURIComponent,xv=encodeURIComponent,bv=/; */,Yr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function _v(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(bv),a=r.decode||vv,c=0;c<i.length;c++){var p=i[c],f=p.indexOf("=");if(!(f<0)){var d=p.substr(0,f).trim(),g=p.substr(++f,p.length).trim();g[0]=='"'&&(g=g.slice(1,-1)),n[d]==null&&(n[d]=Ev(g,a))}}return n}s(_v,"parse");function wv(e,t,n){var r=n||{},i=r.encode||xv;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Yr.test(e))throw new TypeError("argument name is invalid");var a=i(t);if(a&&!Yr.test(a))throw new TypeError("argument val is invalid");var c=e+"="+a;if(r.maxAge!=null){var p=r.maxAge-0;if(isNaN(p)||!isFinite(p))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(p)}if(r.domain){if(!Yr.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!Yr.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.sameSite){var f=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(f){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c}s(wv,"serialize");function Ev(e,t){try{return t(e)}catch(n){return e}}s(Ev,"tryDecode")});var eu=L(qo=>{var Un="Could not extract parameters from DER signature";qo.derToConcat=(e,t)=>{let n=0;if(e[n++]!==48)throw new Error(Un);let r=e[n++];if(r===129&&(r=e[n++]),r>e.length-n||e[n++]!==2)throw new Error(Un);let i=e[n++];if(i>e.length-n-2||i>t+1)throw new Error(Un);let a=n;if(n+=i,e[n++]!==2)throw new Error(Un);let c=e[n++];if(c!==e.length-n||c>t+1)throw new Error(Un);let p=n;if(n+=c,n!==e.length)throw new Error(Un);let f=t-i,d=t-c,g=Buffer.allocUnsafe(f+i+d+c);for(n=0;n<f;n++)g[n]=0;let y=Math.max(-f,0);e.copy(g,n,a+y,a+i),n=t;for(let _=n;n<_+d;n++)g[n]=0;let v=Math.max(-d,0);return e.copy(g,n,p+v,p+c),g};qo.concatToDer=(e,t)=>{let n=Qc(e,0,t),r=Qc(e,t,e.length),i=t-n,a=t-r,c=i+a+4,p=c<128,f=Buffer.allocUnsafe((p?2:3)+c),d=0;return f[d++]=48,p?f[d++]=c:(f[d++]=129,f[d++]=c&255),f[d++]=2,f[d++]=i,n<0?(f[d++]=0,d+=e.copy(f,d,0,t)):d+=e.copy(f,d,n,t),f[d++]=2,f[d++]=a,r<0?(f[d++]=0,e.copy(f,d,t)):e.copy(f,d,t+r),f};function Qc(e,t,n){let r=0;for(;t+r<n&&e[t+r]===0;)r++;return e[t+r]>=128?--r:r}s(Qc,"countPadding")});var Zr=L(Xr=>{Xr.buf2b64url=e=>e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");function on(e,t,n){if(n)n(e,t);else{if(e)throw e;return t}}s(on,"responder");Xr.responder=on;Xr.payloadVerifications=(e,t)=>{if(e.audList){if(e.payload.aud===void 0)return e.error={message:"Missing aud claim in payload"},on(null,e,t);if(!e.audList.includes(e.payload.aud))return e.error={message:"Mismatching aud claim in payload"},on(null,e,t)}if(e.issList){if(e.payload.iss===void 0)return e.error={message:"Missing iss claim in payload"},on(null,e,t);if(!e.issList.includes(e.payload.iss))return e.error={message:"Mismatching iss claim in payload"},on(null,e,t)}let n=Number(e.payload.iat);if(!n)return e.error={message:"Missing or invalid iat claim in payload"},on(null,e,t);let r=Number(e.payload.exp);if(e.lifetime){let i=n+e.lifetime;(!r||i<r)&&(r=i)}return r&&Date.now()>r*1e3?(e.expired=r,on(null,e,t)):(e.valid=!0,on(null,e,t))}});var ru=L(Ro=>{var vn=require("crypto"),tu=eu(),{responder:Bt,buf2b64url:fr,payloadVerifications:Sv}=Zr(),nu=/^(HS|RS|ES)(256|384|512)$/;Ro.generate=(e,t,...n)=>{let r,i,a={alg:e};if(n[0].constructor!==Object)r=n[0],i=typeof n[1]=="function"?n[1]:void 0;else if(a.kid=n[1],r=n[0][n[1]],i=typeof n[2]=="function"?n[2]:void 0,!r)return Bt(new TypeError("Invalid key identifier"),null,i);let c=typeof e=="string"?e.match(nu):null;if(!c)return Bt(new TypeError("Unrecognized algorithm"),null,i);let p;c[1]==="HS"?p=Tv:c[1]==="RS"?p=Av:p=kv,t.iat=Math.floor(Date.now()/1e3);let f=fr(Buffer.from(JSON.stringify(a))),d=fr(Buffer.from(JSON.stringify(t))),g;try{g=p(`${f}.${d}`,+c[2],r)}catch(y){return Bt(y,null,i)}return Bt(null,g,i)};Ro.verify=(e,t,n)=>{if(e.error)return Bt(null,e,n);if(typeof e.header.alg!="string")return e.error={message:"Missing or invalid alg claim in header"},Bt(null,e,n);let r=e.header.alg.match(nu);if(!r)return e.error={message:`Unrecognized algorithm ${e.header.alg}`},Bt(null,e,n);if(e.algList&&!e.algList.includes(e.header.alg))return e.error={message:`Unwanted algorithm ${e.header.alg}`},Bt(null,e,n);let i=`${e.parts[0]}.${e.parts[1]}`,a;r[1]==="HS"?a=Ov:r[1]==="RS"?a=Cv:a=Iv;let c;try{c=a(i,e.parts[2],+r[2],t)}catch(p){return e.error={message:`Could not verify integrity. ${p.message}`},Bt(null,e,n)}return c?Sv(e,n):(e.error={message:"Integrity check failed"},Bt(null,e,n))};function Tv(e,t,n){if(typeof n=="string")n=Buffer.from(n,"base64");else if(!(n instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");let r=t>>3;if(n.length<r)throw new TypeError(`Key length must be at least ${r} bytes`);let i=vn.createHmac(`SHA${t}`,n),a=fr(i.update(e).digest());return`${e}.${a}`}s(Tv,"generateHsJws");function Ov(e,t,n,r){if(typeof r=="string")r=Buffer.from(r,"base64");else if(!(r instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");let i=n>>3;if(r.length<i)throw new TypeError(`Key length must be at least ${i} bytes`);let a=vn.createHmac(`SHA${n}`,r);return a.update(e),vn.timingSafeEqual(a.digest(),Buffer.from(t,"base64"))}s(Ov,"verifyHsJws");function Av(e,t,n){if(n instanceof Buffer)n=n.toString();else if(typeof n!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!n.includes("-----BEGIN")||!n.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted RSA private key");let r=vn.createSign(`SHA${t}`),i=fr(r.update(e).sign(n));return`${e}.${i}`}s(Av,"generateRsJws");function Cv(e,t,n,r){if(r instanceof Buffer)r=r.toString();else if(typeof r!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!r.includes("-----BEGIN")||!(r.includes("KEY-----")||r.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted RSA public key");let i=vn.createVerify(`SHA${n}`);return i.update(e),i.verify(r,t,"base64")}s(Cv,"verifyRsJws");function kv(e,t,n){if(n instanceof Buffer)n=n.toString();else if(typeof n!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!n.includes("-----BEGIN")||!n.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted EC private key");let r=vn.createSign(`SHA${t}`);r.update(e);let i=32;t===384?i=48:t===512&&(i=66);let a=fr(tu.derToConcat(r.sign(n),i));return`${e}.${a}`}s(kv,"generateEsJws");function Iv(e,t,n,r){if(r instanceof Buffer)r=r.toString();else if(typeof r!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!r.includes("-----BEGIN")||!(r.includes("KEY-----")||r.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted EC public key");t=Buffer.from(t,"base64");let i=32;if(n===384?i=48:n===512&&(i=66),t.length!==i<<1)return!1;let a=vn.createVerify(`SHA${n}`);return a.update(e),a.verify(r,tu.concatToDer(t,i))}s(Iv,"verifyEsJws")});var cu=L(Mo=>{var Je=require("crypto"),{responder:ze,buf2b64url:Lt,payloadVerifications:jv}=Zr(),iu=/^(PBES2-HS(256|384|512)\053)?(RSA-OAEP|dir|A(128|192|256)KW)$/,ou=/^A(128|192|256)(GCM|CBC-HS(256|384|512))$/;Mo.generate=(e,t,n,...r)=>{let i,a,c={alg:e,enc:t};if(r[0].constructor!==Object)i=r[0],a=typeof r[1]=="function"?r[1]:void 0;else if(c.kid=r[1],i=r[0][r[1]],a=typeof r[2]=="function"?r[2]:void 0,!i)return ze(new TypeError("Invalid key identifier"),null,a);let p=typeof e=="string"?e.match(iu):null;if(!p||p[2]&&+p[2]!=p[4]*2){let v=new TypeError("Unrecognized key management algorithm");return ze(v,null,a)}let f=typeof t=="string"?t.match(ou):null;if(!f||f[3]&&+f[3]!=f[1]*2){let v=new TypeError("Unrecognized content encryption algorithm");return ze(v,null,a)}let d;if(p[2]){let v=Je.randomBytes(16);if(c.p2c=1024,c.p2s=Lt(v),d=Buffer.concat([Buffer.from(e),Buffer.from([0]),v]),!a){let _=Number(p[2]);i=Je.pbkdf2Sync(i,d,c.p2c,_>>4,`sha${_}`)}}let g=Lt(Buffer.from(JSON.stringify(c)));if(!p[2]||!a)return su(p,f,g,n,i,a);let y=Number(p[2]);Je.pbkdf2(i,d,c.p2c,y>>4,`sha${y}`,(v,_)=>{if(v)return a(v);su(p,f,g,n,_,a)})};function su(e,t,n,r,i,a){let c=t[3]?+t[1]>>2:+t[1]>>3,p=t[3]?Mv:qv,f,d;if(e[0]!=="dir"){f=Je.randomBytes(c);let y=e[4]?Lv:Pv;try{d=y(f,i,+e[4])}catch(v){return ze(v,null,a)}}else{if(typeof i=="string")i=Buffer.from(i,"base64");else if(!(i instanceof Buffer)){let y=new TypeError("Key must be a buffer or a base64 string");return ze(y,null,a)}if(i.length<c){let y=new TypeError(`Key must be at least ${c} bytes`);return ze(y,null,a)}f=i.slice(0,c),d=""}r.iat=Math.floor(Date.now()/1e3);let g=p(n,f,d,JSON.stringify(r),+t[1]);return ze(null,g,a)}s(su,"generateJwe");Mo.verify=(e,t,n)=>{if(e.error)return ze(null,e,n);if(typeof e.header.alg!="string")return e.error={message:"Missing or invalid alg claim in header"},ze(null,e,n);if(typeof e.header.enc!="string")return e.error={message:"Missing or invalid enc claim in header"},ze(null,e,n);let r=e.header.alg.match(iu);if(!r||r[2]&&+r[2]!=r[4]*2)return e.error={message:`Unrecognized key management algorithm ${e.header.alg}`},ze(null,e,n);if(e.algList&&!e.algList.includes(e.header.alg))return e.error={message:`Unwanted key management algorithm ${e.header.alg}`},ze(null,e,n);let i=e.header.enc.match(ou);if(!i||i[3]&&+i[3]!=i[1]*2)return e.error={message:`Unrecognized content encryption algorithm ${e.header.enc}`},ze(null,e,n);if(e.encList&&!e.encList.includes(e.header.enc))return e.error={message:`Unwanted content encryption algorithm ${e.header.enc}`},ze(null,e,n);let a,c;if(r[2]){if(c=e.header.p2c,!Number.isInteger(c)||c<1||c>16384)return e.error={message:"Missing or invalid p2c claim in header"},ze(null,e,n);if(!n&&c>1024)return e.error={message:"p2c value too large for synchronous mode"},ze(null,e,n);if(typeof e.header.p2s!="string")return e.error={message:"Missing or invalid p2s claim in header"},ze(null,e,n);let f=Buffer.from(e.header.p2s,"base64"),d=e.header.alg;if(a=Buffer.concat([Buffer.from(d),Buffer.from([0]),f]),!n){let g=Number(r[2]);t=Je.pbkdf2Sync(t,a,c,g>>4,`sha${g}`)}}if(!r[2]||!n)return au(e,r,i,t,n);let p=Number(r[2]);Je.pbkdf2(t,a,c,p>>4,`sha${p}`,(f,d)=>{if(f)return n(f);au(e,r,i,d,n)})};function au(e,t,n,r,i){let a=Buffer.from(e.parts[0]),c=Buffer.from(e.parts[1],"base64"),p=Buffer.from(e.parts[2],"base64"),f=Buffer.from(e.parts[3],"base64"),d=Buffer.from(e.parts[4],"base64"),g=n[3]?+n[1]>>2:+n[1]>>3,y=n[3]?Nv:Rv,v;if(t[0]!=="dir"){let x=t[4]?Dv:Bv;try{v=x(c,r,+t[4])}catch(O){return e.error={message:`Could not decrypt token. ${O.message}`},ze(null,e,i)}}else{if(typeof r=="string")r=Buffer.from(r,"base64");else if(!(r instanceof Buffer))return e.error={message:"Invalid key"},ze(null,e,i);if(r.length<g)return e.error={message:`Invalid key length. Must be at least ${g} bytes`},ze(null,e,i);v=r.slice(0,g)}let _;try{_=y(f,a,d,v,p,+n[1])}catch(x){return e.error={message:`Could not decrypt token. ${x.message}`},ze(null,e,i)}try{e.payload=JSON.parse(_)}catch(x){return e.error={message:`Non parsable payload. ${x.message}`},ze(null,e,i)}return jv(e,i)}s(au,"decryptJwe");function qv(e,t,n,r,i){let a=Je.randomBytes(12),c=Je.createCipheriv(`id-aes${i}-GCM`,t,a);c.setAutoPadding(!1),c.setAAD(Buffer.from(e));let p=Lt(Buffer.concat([c.update(r),c.final()])),f=Lt(c.getAuthTag());return`${e}.${n}.${Lt(a)}.${p}.${f}`}s(qv,"contentEncryptGcm");function Rv(e,t,n,r,i,a){let c=Je.createDecipheriv(`id-aes${a}-GCM`,r,i);return c.setAutoPadding(!1),c.setAAD(t),c.setAuthTag(n),Buffer.concat([c.update(e),c.final()])}s(Rv,"contentDecryptGcm");function Mv(e,t,n,r,i){let a=Je.randomBytes(16),c=i>>3,p=Je.createCipheriv(`AES-${i}-CBC`,t.slice(c),a),f=Buffer.concat([p.update(r),p.final()]),d=e.length<<3,g=Buffer.from(`000000000000000${d.toString(16)}`.slice(-16),"hex"),y=Je.createHmac(`SHA${i<<1}`,t.slice(0,c));y.update(Buffer.from(e)).update(a).update(f).update(g);let v=Lt(y.digest().slice(0,c));return`${e}.${n}.${Lt(a)}.${Lt(f)}.${v}`}s(Mv,"contentEncryptCbc");function Nv(e,t,n,r,i,a){let c=a>>3,p=t.length<<3,f=Buffer.from(`000000000000000${p.toString(16)}`.slice(-16),"hex"),d=Je.createHmac(`SHA${a<<1}`,r.slice(0,c));if(d.update(t).update(i).update(e).update(f),!Je.timingSafeEqual(d.digest().slice(0,c),n))throw new Error("Authentication of encrypted data failed");let g=r.slice(c),y=Je.createDecipheriv(`AES-${a}-CBC`,g,i);return Buffer.concat([y.update(e),y.final()])}s(Nv,"contentDecryptCbc");function Pv(e,t){if(t instanceof Buffer)t=t.toString();else if(typeof t!="string")throw new TypeError("Key must be a buffer or a string");if(!t.includes("-----BEGIN")||!(t.includes("KEY-----")||t.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted RSA public key");let n={key:t,padding:Je.constants.RSA_PKCS1_OAEP_PADDING};return Lt(Je.publicEncrypt(n,e))}s(Pv,"rsaOaepEncrypt");function Bv(e,t){if(t instanceof Buffer&&(t=t.toString()),typeof t!="string"||!t.includes("-----BEGIN")||!t.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted RSA private key");let n={key:t,padding:Je.constants.RSA_PKCS1_OAEP_PADDING};return Je.privateDecrypt(n,e)}s(Bv,"rsaOaepDecrypt");function Lv(e,t,n){let r=n>>3;if(typeof t=="string")t=Buffer.from(t,"base64");else if(!(t instanceof Buffer))throw new TypeError("Key must be a buffer or a base64-encoded string");if(t.length<r)throw new TypeError(`Key length must be at least ${r} bytes`);t=t.slice(0,r);let i=[];for(let f=0;f<e.length;f+=8)i.push(e.slice(f,f+8));let a=Buffer.alloc(16),c=Buffer.from("A6A6A6A6A6A6A6A6","hex"),p=1;for(let f=0;f<6;f++)for(let d=0;d<i.length;d++){let g=Je.createCipheriv(`AES${n}`,t,a),y=`000000000000000${p.toString(16)}`.slice(-16),v=g.update(Buffer.concat([c,i[d]]));c=Buffer.from(y,"hex");for(let _=0;_<8;_++)c[_]^=v[_];i[d]=v.slice(8,16),p++}return Lt(Buffer.concat([c].concat(i)))}s(Lv,"aesKeyWrap");function Dv(e,t,n){let r=n>>3;if(typeof t=="string")t=Buffer.from(t,"base64");else if(!(t instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");if(t.length<r)throw new TypeError(`Key must be at least ${r} bytes`);t=t.slice(0,r);let i=e.slice(0,8),a=[];for(let f=8;f<e.length;f+=8)a.push(e.slice(f,f+8));let c=Buffer.alloc(16),p=6*a.length;for(let f=5;f>=0;f--)for(let d=a.length-1;d>=0;d--){let g=`000000000000000${p.toString(16)}`.slice(-16);g=Buffer.from(g,"hex");for(let _=0;_<8;_++)i[_]^=g[_];let v=Je.createDecipheriv(`AES${n}`,t,c).update(Buffer.concat([i,a[d],c]));i=v.slice(0,8),a[d]=v.slice(8,16),p--}if(!i.equals(Buffer.from("A6A6A6A6A6A6A6A6","hex")))throw new Error("Key unwrapping failed");return Buffer.concat(a)}s(Dv,"aesKeyUnwrap")});var lu=L(Po=>{var uu=ru(),pu=cu(),{responder:No}=Zr();Po.generate=(e,...t)=>{if(t[0].constructor===Object)return uu.generate(e,...t);if(t[1].constructor===Object)return pu.generate(e,...t);let n=t.length-1;if(n>1&&n<5&&typeof t[n]=="function")t[n](error);else throw error};Po.parse=e=>new $n(e);function $n(e){if(this.parts=typeof e=="string"?e.split("."):[],this.parts.length===3)this.type="JWS";else if(this.parts.length===5)this.type="JWE";else{this.error={message:"Invalid token"};return}try{this.header=JSON.parse(Buffer.from(this.parts[0],"base64"))}catch(t){this.error={message:`Non parsable header. ${t.message}`};return}if(this.type==="JWS")try{this.payload=JSON.parse(Buffer.from(this.parts[1],"base64"))}catch(t){this.error={message:`Non parsable payload. ${t.message}`}}}s($n,"ParsedToken");$n.prototype.setAlgorithmList=function(e,t){return typeof e=="string"?this.algList=[e]:Array.isArray(e)&&(this.algList=e),typeof t=="string"?this.encList=[t]:Array.isArray(t)&&(this.encList=t),this};$n.prototype.setTokenLifetime=function(e){return Number.isInteger(e)&&e>0&&(this.lifetime=e),this};$n.prototype.setAudience=function(e){return typeof e=="string"?this.audList=[e]:Array.isArray(e)&&(this.audList=e),this};$n.prototype.setIssuer=function(e){return typeof e=="string"?this.issList=[e]:Array.isArray(e)&&(this.issList=e),this};$n.prototype.verify=function(e,t){if(t=typeof t=="function"?t:void 0,this.error)return No(null,this,t);let n;if(e.constructor!==Object)n=e;else{if(this.header.kid===void 0)return this.error={message:"Missing kid claim in header"},No(null,this,t);if(e[this.header.kid]===void 0)return this.error={message:"Key with id not found",kid:this.header.kid},No(null,this,t);n=e[this.header.kid]}return(this.type==="JWS"?uu.verify:pu.verify)(this,n,t)}});var Bo=L((EO,hu)=>{var Kv=ko(),fu=jo(),du=lu(),Uv="dir",$v="A128GCM",zv=Buffer.from("1234567890123456").toString("base64"),mu=process.env.ARC_APP_SECRET||zv,gu={create(e){return du.generate(Uv,$v,e,mu)},parse(e){let t=604800;return du.parse(e).setTokenLifetime(t).verify(mu)}};function Hv(e,t){let n;t||(n=new Promise(s(function(f,d){t=s(function(y,v){y?d(y):f(v)},"errback")},"argh")));let r=e.headers&&(e.headers.cookie||e.headers.Cookie);!r&&e.cookies&&(r=e.cookies.join(";"));let i=Kv(r),a=fu.parse(i)._idx,c=gu.parse(a);return t(null,c.valid?c.payload:{}),n}s(Hv,"read");function Fv(e,t){let n;t||(n=new Promise(s(function(d,g){t=s(function(v,_){v?g(v):d(_)},"errback")},"ugh")));let r="_idx",i=gu.create(e),a=process.env.SESSION_TTL||7884e5,c=process.env.ARC_SESSION_SAME_SITE||"lax",p={maxAge:a,expires:new Date(Date.now()+a*1e3),secure:!0,httpOnly:!0,path:"/",sameSite:c};return process.env.SESSION_DOMAIN&&(p.domain=process.env.SESSION_DOMAIN),process.env.NODE_ENV==="testing"&&delete p.secure,t(null,fu.serialize(r,i,p)),n}s(Fv,"write");hu.exports={read:Hv,write:Fv}});var vu=L(Qr=>{var yu=require("crypto");Qr.sign=function(e,t){if(typeof e!="string")throw new TypeError("Cookie value must be provided as a string.");if(typeof t!="string")throw new TypeError("Secret string must be provided.");return e+"."+yu.createHmac("sha256",t).update(e).digest("base64").replace(/\=+$/,"")};Qr.unsign=function(e,t){if(typeof e!="string")throw new TypeError("Signed cookie string must be provided.");if(typeof t!="string")throw new TypeError("Secret string must be provided.");var n=e.slice(0,e.lastIndexOf(".")),r=Qr.sign(n,t),i=Buffer.from(r),a=Buffer.alloc(i.length);return a.write(e),yu.timingSafeEqual(i,a)?n:!1}});var zn=L((TO,xu)=>{var ei=require("aws-sdk"),Jv=require("https");function dr(e,t){if(!e)throw ReferenceError("Must supply Dynamo service interface type");let n=process.env.NODE_ENV==="testing",r=process.env.ARC_LOCAL,i=process.env.ARC_TABLES_PORT||5e3,a={endpoint:new ei.Endpoint(`http://localhost:${i}`),region:process.env.AWS_REGION||"us-west-2"},c=ei.DynamoDB,p=ei.DynamoDB.DocumentClient,f;if(!n&&!r){let d=new Jv.Agent({keepAlive:!0,maxSockets:50,rejectUnauthorized:!0});ei.config.update({httpOptions:{agent:d}})}if(e==="db"&&(f=n?new c(a):new c),e==="doc"&&(f=n?new p(a):new p),e==="session"){let d=!process.env.SESSION_TABLE_NAME;f=n?new p(a):d?{get(y,v){v()},put(y,v){v()}}:new p}if(t)t(null,f);else return f}s(dr,"getDynamo");xu.exports={db:dr.bind({},"db"),doc:dr.bind({},"doc"),session:dr.bind({},"session"),direct:{db:dr("db"),doc:dr("doc")}}});var bu=L((OO,Ko)=>{"use strict";var ti=require("crypto"),Lo=ti.randomBytes===ti.pseudoRandomBytes?1:3;Ko.exports=Wv;Ko.exports.sync=Vv;function Wv(e,t){if(t!==void 0&&typeof t!="function")throw new TypeError("argument callback must be a function");if(!t&&!global.Promise)throw new TypeError("argument callback is required");return t?Do(e,Lo,t):new Promise(s(function(r,i){Do(e,Lo,s(function(c,p){if(c)return i(c);r(p)},"onRandomBytes"))},"executor"))}s(Wv,"randomBytes");function Vv(e){for(var t=null,n=0;n<Lo;n++)try{return ti.randomBytes(e)}catch(r){t=r}throw t}s(Vv,"randomBytesSync");function Do(e,t,n){ti.randomBytes(e,s(function(i,a){if(!i)return n(null,a);if(!--t)return n(i);setTimeout(Do.bind(null,e,t,n),10)},"onRandomBytes"))}s(Do,"generateRandomBytes")});var $o=L((AO,Uo)=>{"use strict";var _u=bu(),Gv=/=+$/,Yv=/\+/g,Xv=/\//g;Uo.exports=Zv;Uo.exports.sync=Qv;function Zv(e,t){if(t!==void 0&&typeof t!="function")throw new TypeError("argument callback must be a function");if(!t&&!global.Promise)throw new TypeError("argument callback is required");return t?wu(e,t):new Promise(s(function(r,i){wu(e,s(function(c,p){if(c)return i(c);r(p)},"onUid"))},"executor"))}s(Zv,"uid");function Qv(e){return Eu(_u.sync(e))}s(Qv,"uidSync");function wu(e,t){_u(e,function(n,r){if(n)return t(n);t(null,Eu(r))})}s(wu,"generateUid");function Eu(e){return e.toString("base64").replace(Gv,"").replace(Yv,"-").replace(Xv,"_")}s(Eu,"toString")});var zo=L((CO,Su)=>{Su.exports=s(function(){return Date.now()/1e3+604800},"_weekFromNow")});var Au=L((xn,Ou)=>{var Tu=require("assert"),ex="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",tx="abcdefghijklmnopqrstuvwxyz0123456789",nx="0123456789";xn=Ou.exports=ni(ex);xn.base62=xn;xn.base36=ni(tx);xn.base10=ni(nx);xn.create=ni;function ni(e){Tu(typeof e=="string","the list of characters must be a string!");var t=Buffer.byteLength(e);return s(function(r){r=r||10,Tu(typeof r=="number"&&r>=0,"the length of the random string must be a number!");for(var i="",a=0;a<r;a++)i+=e[Math.floor(t*Math.random())];return i},"rndm")}s(ni,"create")});var ku=L((kO,Cu)=>{"use strict";var mr=require("crypto");function rx(e,t){if(e.length!==t.length)return!1;if(mr.timingSafeEqual)return mr.timingSafeEqual(e,t);for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}s(rx,"bufferEqual");function ix(e,t){var n=String(e),r=String(t),i=mr.pseudoRandomBytes(32),a=mr.createHmac("sha256",i).update(n).digest(),c=mr.createHmac("sha256",i).update(r).digest();return rx(a,c)&&e===t}s(ix,"timeSafeCompare");Cu.exports=ix});var qu=L((IO,ju)=>{"use strict";var ox=Au(),Iu=$o(),sx=ku(),ax=require("crypto"),cx=/=/g,ux=/\+/g,px=/\//g;ju.exports=sn;function sn(e){if(!(this instanceof sn))return new sn(e);var t=e||{},n=t.saltLength!==void 0?t.saltLength:8;if(typeof n!="number"||!isFinite(n)||n<1)throw new TypeError("option saltLength must be finite number > 1");var r=t.secretLength!==void 0?t.secretLength:18;if(typeof r!="number"||!isFinite(r)||r<1)throw new TypeError("option secretLength must be finite number > 1");this.saltLength=n,this.secretLength=r}s(sn,"Tokens");sn.prototype.create=s(function(t){if(!t||typeof t!="string")throw new TypeError("argument secret is required");return this._tokenize(t,ox(this.saltLength))},"create");sn.prototype.secret=s(function(t){return Iu(this.secretLength,t)},"secret");sn.prototype.secretSync=s(function(){return Iu.sync(this.secretLength)},"secretSync");sn.prototype._tokenize=s(function(t,n){return n+"-"+lx(n+"-"+t)},"tokenize");sn.prototype.verify=s(function(t,n){if(!t||typeof t!="string"||!n||typeof n!="string")return!1;var r=n.indexOf("-");if(r===-1)return!1;var i=n.substr(0,r),a=this._tokenize(t,i);return sx(n,a)},"verify");function lx(e){return ax.createHash("sha1").update(e,"ascii").digest("base64").replace(ux,"-").replace(px,"_").replace(cx,"")}s(lx,"hash")});var Nu=L((jO,Mu)=>{var Ru;Mu.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):e=>(Ru||(Ru=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var bn=L((qO,Pu)=>{Pu.exports=dx;var fx=Nu();function dx(e,t){let n,r,i,a=!0;Array.isArray(e)?(n=[],r=e.length):(i=Object.keys(e),n={},r=i.length);function c(f){function d(){t&&t(f,n),t=null}s(d,"end"),a?fx(d):d()}s(c,"done");function p(f,d,g){n[f]=g,(--r==0||d)&&c(d)}s(p,"each"),r?i?i.forEach(function(f){e[f](function(d,g){p(f,d,g)})}):e.forEach(function(f,d){f(function(g,y){p(d,g,y)})}):c(null),a=!1}s(dx,"runParallel")});var Ho=L((RO,Bu)=>{var mx=$o(),gx=zo(),hx=zn().session,yx=qu(),vx=bn();Bu.exports=s(function(t,n,r){vx([s(function(a){mx(18,s(function(p,f){p?a(p):a(null,{_idx:f})},"_uid"))},"_key"),s(function(a){new yx().secret(s(function(p,f){p?a(p):a(null,{_secret:f})},"_uid"))},"_secret")],s(function(a,c){if(a)throw a;c.push({_ttl:gx()});let p=c.reduce((d,g)=>Object.assign(d,g)),f=Object.assign(n,p);hx(s(function(g,y){g?r(g):y.put({TableName:t,Item:f},s(function(_){_?r(_):r(null,f)},"_create"))},"_gotDB"))},"_put"))},"_create")});var Du=L((MO,Lu)=>{var xx=zn().session,bx=Ho();Lu.exports=s(function(t,n,r){xx(s(function(a,c){a?r(a):c.get({TableName:t,ConsistentRead:!0,Key:{_idx:n}},s(function(f,d){if(f)r(f);else{let g=typeof d=="undefined"?!1:d.Item;g&&g._secret?r(null,g):bx(t,{},r)}},"_get"))},"_gotDB"))},"_find")});var Uu=L((NO,Ku)=>{var _x=zn().session,wx=zo();Ku.exports=s(function(t,n,r){let i=wx(),a=Object.assign(n,{_ttl:i});_x(s(function(p,f){p?r(p):f.put({TableName:t,Item:a},s(function(g){g?r(g):r(null,a)},"_create"))},"_gotDB"))},"_update")});var Fo=L((PO,Hu)=>{var $u=jo(),Ex=ko(),{unsign:Sx,sign:Tx}=vu(),Ox=Du(),Ax=Ho(),Cx=Uu();Hu.exports={read:kx,write:Ix};function kx(e,t){let n;t||(n=new Promise(function(y,v){t=s(function(_,x){_?v(_):y(x)},"callback")}));let r=process.env.SESSION_TABLE_NAME||zu("arc-sessions"),i=process.env.ARC_APP_SECRET||process.env.ARC_APP_NAME||"fallback",a=e.headers&&(e.headers.Cookie||e.headers.cookie);!a&&e.cookies&&(a=e.cookies.join(";"));let c=Ex(a),p=$u.parse(c)._idx,f=Sx(p||"",i);return(p&&f?Ox.bind({},r):Ax.bind({},r))(p&&f?f:{},t),n}s(kx,"read");function Ix(e,t){let n;t||(n=new Promise(function(a,c){t=s(function(p,f){p?c(p):a(f)},"callback")}));let r=process.env.SESSION_TABLE_NAME||zu("arc-sessions"),i=process.env.ARC_APP_SECRET||process.env.ARC_APP_NAME||"fallback";return Cx(r,e,s(function(c){if(c)t(c);else{let p=process.env.SESSION_TTL||7884e5,f={maxAge:p,expires:new Date(Date.now()+p*1e3),secure:!0,httpOnly:!0,path:"/",sameSite:"lax"};process.env.SESSION_DOMAIN&&(f.domain=process.env.SESSION_DOMAIN),process.env.NODE_ENV==="testing"&&delete f.secure;let d=$u.serialize("_idx",Tx(e._idx,i),f);t(null,d)}},"_update")),n}s(Ix,"write");function zu(e){let t=process.env.NODE_ENV==="production"?"production":"staging";return`${process.env.ARC_APP_NAME}-${t}-${e}`}s(zu,"tableLogicalId")});var ri=L((BO,Fu)=>{var jx=Bo(),qx=Fo();Fu.exports=s(function(t,n){return process.env.SESSION_TABLE_NAME==="jwe"?jx.read(t,n):qx.read(t,n)},"read")});var ii=L((LO,Ju)=>{var Rx=Bo(),Mx=Fo();Ju.exports=s(function(t,n){return process.env.SESSION_TABLE_NAME==="jwe"?Rx.write(t,n):Mx.write(t,n)},"write")});var oi=L((DO,Wu)=>{var Nx=require("querystring");Wu.exports=s(function(t){let n=t.headers["Content-Type"]||t.headers["content-type"];if(!t.body||!t.headers||!n||!Object.getOwnPropertyNames(t.body).length)return t.body;{let i=JSON.parse(JSON.stringify(t)),a=i.headers,c=s(x=>a&&a["Content-Type"]&&a["Content-Type"].includes(x)||a&&a["content-type"]&&a["content-type"].includes(x),"contentType"),p=typeof i.body=="string",f=i.isBase64Encoded,d=p&&f,g=(c("application/json")||c("application/vnd.api+json"))&&p,y=c("application/x-www-form-urlencoded")&&d,v=c("multipart/form-data")&&d,_=c("application/octet-stream")&&d;if(g)try{let x=f?Buffer.from(i.body,"base64").toString():i.body;i.body=JSON.parse(x)||{}}catch(x){throw Error("Invalid request body encoding or invalid JSON")}if(y){let x=new Buffer.from(i.body,"base64").toString();i.body=Nx.parse(x)}return(v||_)&&(i.body=i.body.base64?i.body:{base64:i.body}),i.body}},"parseBody")});var si=L((KO,Vu)=>{Vu.exports=s(function(t){if(t.version&&t.version==="2.0"){let{requestContext:i}=t;i&&i.http&&i.http.method&&(t.httpMethod=i.http.method),["body","pathParameters","queryStringParameters"].forEach(c=>{t[c]===void 0&&(t[c]={})}),t.resource=t.routeKey.split(" ")[1]||t.routeKey,t.path=t.rawPath}["body","pathParameters","queryStringParameters","multiValueQueryStringParameters"].forEach(i=>{t[i]===null&&(t[i]={})}),t.method||(t.method=t.httpMethod),t.params||(t.params=t.pathParameters),t.query||(t.query=t.queryStringParameters);let r=/\{\w+\}/g;if(r.test(t.path)){let i=t.path.match(r),a=i.map(p=>p.replace(/\{|\}/g,"")),c=0;i.forEach(p=>{t.path=t.path.replace(p,t.params[a[c]]),c+=1})}return t},"interpolateParams")});var Hn=L((UO,Yu)=>{Yu.exports={httpError:Gu,proxyConfig:Px()};function Px(){return Gu({title:"Index not found",message:`No static asset bucket or <code>get /</code> function found in your project. Possible solutions:<br?
<ul>
  <li>Add <code>@static</code> to your project manifest</li>
  <li>Add <code>get /</code> to the <code>@http</code> pragma of your project manifest</li>
  <li>Manually specify an S3 bucket (containing an <code>index.html</code> file) with the <code>ARC_STATIC_BUCKET</code> env var</li>
  <li>If using <code>arc.http.proxy</code>, pass in a valid config object</li>
</ul>
<a href="https://arc.codes/primitives/static" target="_blank">Learn more</a>`})}s(Px,"proxyConfig");function Gu({statusCode:e=502,title:t="Unknown error",message:n=""}){return t=t==="Error"?`${e} error`:`${e} error: ${t}`,{statusCode:e,headers:{"Content-Type":"text/html; charset=utf8;","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"},body:`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>${t}</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    }
    code {
      font-size: 1.25rem;
      color: #00c26e;
    }
    .max-width-320 {
      max-width: 20rem;
    }
    .margin-left-8 {
      margin-left: 0.5rem;
    }
    .margin-bottom-16 {
      margin-bottom: 1rem;
    }
    .margin-bottom-8 {
      margin-bottom: 0.5rem;
    }
    .padding-32 {
      padding: 2rem;
    }
    .padding-top-16 {
      padding-top: 1rem;
    }
    a, a:hover {
      color: #333;
    }
    p, li {
      padding-bottom: 0.5rem;
    }
  </style>
</head>
<body class="padding-32">
  <div>
    <div class="margin-left-8">
      <div class="margin-bottom-16">
        <h1 class="margin-bottom-16">
          ${t}
        </h1>
        <p>
          ${n}
        </p>
      </div>
      <div class="padding-top-16">
        <p>
          View Architect documentation at:
        </p>
        <a href="https://arc.codes">https://arc.codes</a>
      </div>
    </div>
  </div>
</body>
</html>
`}}s(Gu,"httpError")});var ai=L(($O,Xu)=>{Xu.exports=["application/octet-stream","application/epub+zip","application/msword","application/pdf","application/rtf","application/vnd.amazon.ebook","application/vnd.ms-excel","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","font/otf","font/woff","font/woff2","image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/vnd.microsoft.icon","image/webp","audio/3gpp","audio/aac","audio/basic","audio/mpeg","audio/ogg","audio/wavaudio/webm","audio/x-aiff","audio/x-midi","audio/x-wav","video/3gpp","video/mp2t","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-msvideo","application/java-archive","application/vnd.apple.installer+xml","application/x-7z-compressed","application/x-apple-diskimage","application/x-bzip","application/x-bzip2","application/x-gzip","application/x-java-archive","application/x-rar-compressed","application/x-tar","application/x-zip","application/zip"]});var Jo=L((zO,Zu)=>{var{httpError:Bx}=Hn(),Lx=ai();Zu.exports=s(function(t,n){if(t.version&&t.version==="2.0"){let A=["statusCode","body","headers","isBase64Encoded","cookies"],z=s(G=>A.some(j=>j===G),"hasKnownParams"),F=["code","cookie","cors","location","session","status"],re=s(G=>F.some(j=>j===G),"hasTidyParams"),oe=["html","css","js","text","json","xml"],le=s(G=>oe.some(j=>j===G),"isStaticallyBound"),fe=s(G=>typeof n===G,"is");fe("object")&&n!==null&&!Array.isArray(n)&&Object.keys.length===1&&(Object.keys(n).some(z)||Object.keys(n).some(re)||Object.keys(n).some(le))||(fe("number")||fe("object")&&n!==null||fe("string")&&n||Array.isArray(n)||n instanceof Buffer?n={body:JSON.stringify(n)}:n||(n={}))}let r=n instanceof Error,i,a=n.body&&n.body instanceof Buffer;a&&(i=n.body),r||(n=JSON.parse(JSON.stringify(n))),a&&(n.body=i);let c=n.body||"",p=n.cacheControl||n.headers&&n.headers["Cache-Control"]||n.headers&&n.headers["cache-control"]||"";n.headers&&n.headers["cache-control"]&&delete n.headers["cache-control"];let f=n.type||n.headers&&n.headers["Content-Type"]||n.headers&&n.headers["content-type"]||"application/json; charset=utf8";n.headers&&n.headers["content-type"]&&delete n.headers["content-type"];let d=n.cors;n.html?(f="text/html; charset=utf8",c=n.html):n.css?(f="text/css; charset=utf8",c=n.css):n.js?(f="text/javascript; charset=utf8",c=n.js):n.text?(f="text/plain; charset=utf8",c=n.text):n.json?(f="application/json; charset=utf8",c=JSON.stringify(n.json)):n.xml&&(f="application/xml; charset=utf8",c=n.xml);let g=n.status||n.code||n.statusCode,y=g||200,v={headers:Object.assign({},{"Content-Type":f},n.headers||{}),statusCode:y,body:c};if(n.multiValueHeaders&&(v.multiValueHeaders=n.multiValueHeaders),n.cookies&&(v.cookies=n.cookies),r){let A=g||500,z=n.name,F=`
      ${n.message}<br>
      <pre>${n.stack}<pre>
    `;v=Bx({statusCode:A,title:z,message:F})}let _=!process.env.ARC_CLOUDFORMATION,x=!process.env.ARC_HTTP||process.env.ARC_HTTP==="aws",O=_&&x,C=!t.resource||t.resource&&t.resource!=="/{proxy+}";O&&C&&(v.type=f);let T=v.headers;p&&(T["Cache-Control"]=p);let b=f.includes("text/html")||f.includes("application/json")||f.includes("application/vnd.api+json");T&&!T["Cache-Control"]&&b?T["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0, s-maxage=0":T&&!T["Cache-Control"]&&(T["Cache-Control"]="max-age=86400"),d&&(T["Access-Control-Allow-Origin"]="*"),n.isBase64Encoded&&(v.isBase64Encoded=!0),n.location&&(v.statusCode=g||302,v.headers.Location=n.location);let E=Lx.some(A=>v.headers["Content-Type"].includes(A)),S=typeof v.body=="string",q=s(A=>new Buffer.from(A).toString("base64"),"b64enc");return a&&(v.body=q(v.body),v.isBase64Encoded=!0),S&&E&&(v.isBase64Encoded=!0),v},"responseFormatter")});var ep=L((HO,Qu)=>{var Dx=ri(),Kx=ii(),Ux=oi(),$x=si(),zx=Jo();Qu.exports=s(function(...t){return t.forEach(n=>{if(typeof n!="function")throw TypeError(n+" not a function")}),s(function(r,i,a){r.headers||(r.headers={});let c=t.slice();Dx(r,s(function(f,d){if(f)throw f;let g=$x(Object.assign({},r,{session:d}));g.body=Ux(g);let y=Hx.bind({},g,a);s(function v(_){function x(){throw Error("next() called from last function")}s(x,"fail");let O=v.bind({},c.shift()||x);_.call({},g,y,O)},"iterator")(c.shift())},"_read"))},"lambda")},"http");function Hx(e,t,n){let r=zx(e,n);if(n&&n.cookie&&(r.headers["Set-Cookie"]=n.cookie),n&&n.session){let{_idx:i,_secret:a,_ttl:c}=e.session,p=ce({_idx:i,_secret:a,_ttl:c},n.session);Kx(p,s(function(d,g){d?t(d):(r.headers["Set-Cookie"]=g,t(null,r))},"_write"))}else t(null,r)}s(Hx,"response")});var Wo=L((FO,tp)=>{var{readFileSync:Fx,existsSync:Jx}=require("fs"),{join:Wx}=require("path");tp.exports=s(function(t,n={}){let r=t[0]==="/"?t.substring(1):t,i=t==="/",a=Wx(process.cwd(),"node_modules","@architect","shared","static.json"),c=Jx(a),p=process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL,d=`${n.stagePath&&!p?"/"+process.env.NODE_ENV:""}/_static`;if(!p&&c&&!i){let g=s(_=>Fx(_).toString(),"read"),v=JSON.parse(g(a))[r];if(!v)throw ReferenceError(`Could not find asset in static.json (asset fingerprint manifest): ${r}`);return`${d}/${v}`}return`${d}/${i?"":r}`},"_static")});var rp=L((JO,np)=>{np.exports=s(function e(e){let t=process.env.NODE_ENV==="staging",n=process.env.NODE_ENV==="production";return!process.env.ARC_LOCAL&&(t||n)?`/${process.env.NODE_ENV}${e}`:e},"url")});var op=L((WO,ip)=>{var Vx=ri(),Gx=ii(),Yx=oi(),Xx=si(),Zx=Jo();ip.exports=s(function(...t){t.forEach(r=>{if(typeof r!="function")throw TypeError(r+" not a function")});async function n(r,i){let a,c=!0;for(let f of t){if(c){c=!1;let y=await Vx(r),v=Xx(Object.assign({},r,{session:y}));v.body=Yx(v),r=v}let d=await f(r,i);if(d&&d.httpMethod)r=d;else if(d){a=d;break}}let p=r.version&&r.version==="2.0";if(!a&&!p)throw new Error("Finished all functions without returning a response.");return Qx(r,a)}return s(n,"combined"),n},"httpAsync");async function Qx(e,t){let n=Zx(e,t);if(t&&t.cookie&&(n.headers["Set-Cookie"]=t.cookie),t&&t.session){let{_idx:r,_secret:i,_ttl:a}=e.session,c=ce({_idx:r,_secret:i,_ttl:a},t.session),p=await Gx(c);n.headers["Set-Cookie"]=p}return n}s(Qx,"response")});var cp=L((VO,ap)=>{"use strict";ap.exports=an;function an(e,t,n){return(!n||typeof n!="object")&&(n={}),n.hasOwnProperty("allowOverflow")||(n.allowOverflow=!0),t>an.maxNumber(e)&&!n.allowOverflow?!1:sp(e,t)}s(an,"binaryCase");an.iterator=function(e,t){let n=an.maxNumber(e);if((!t||typeof t!="object")&&(t={}),t.hasOwnProperty("startIndex")||(t.startIndex=0),typeof t.startIndex!="number"||!Number.isInteger(t.startIndex)||t.startIndex<0)throw Error("Option startIndex must be a non-negative integer.");let r=t.startIndex;return{next:function(){return r>n?{done:!0}:{done:!1,value:sp(e,r++)}}}};an.maxNumber=function(e){let t=e.match(/[a-z]/ig).length;return Math.pow(2,t)-1};an.variations=function(e){let t=[],n=an.maxNumber(e);for(let r=0;r<=n;r++)t.push(an(e,r));return t};function sp(e,t){let n="";for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=65&&i<=90?(n+=t&1?String.fromCharCode(i+32):String.fromCharCode(i),t>>>=1):i>=97&&i<=122?(n+=t&1?String.fromCharCode(i-32):String.fromCharCode(i),t>>>=1):n+=String.fromCharCode(i),t===0)return n+e.substr(r+1)}return n}s(sp,"getBinaryCase")});var fp=L(Vo=>{var up=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,eb=/^[\u0020-\u007e\u0080-\u00ff]+$/,pp=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,tb=/\\([\u0000-\u007f])/g,nb=/([\\"])/g,rb=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,lp=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,ib=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;Vo.format=ob;Vo.parse=sb;function ob(e){if(!e||typeof e!="object")throw new TypeError("argument obj is required");var t=e.parameters,n=e.subtype,r=e.suffix,i=e.type;if(!i||!lp.test(i))throw new TypeError("invalid type");if(!n||!rb.test(n))throw new TypeError("invalid subtype");var a=i+"/"+n;if(r){if(!lp.test(r))throw new TypeError("invalid suffix");a+="+"+r}if(t&&typeof t=="object")for(var c,p=Object.keys(t).sort(),f=0;f<p.length;f++){if(c=p[f],!pp.test(c))throw new TypeError("invalid parameter name");a+="; "+c+"="+cb(t[c])}return a}s(ob,"format");function sb(e){if(!e)throw new TypeError("argument string is required");if(typeof e=="object"&&(e=ab(e)),typeof e!="string")throw new TypeError("argument string is required to be a string");var t=e.indexOf(";"),n=t!==-1?e.substr(0,t):e,r,i,a=ub(n),c={},p;for(up.lastIndex=t;i=up.exec(e);){if(i.index!==t)throw new TypeError("invalid parameter format");t+=i[0].length,r=i[1].toLowerCase(),p=i[2],p[0]==='"'&&(p=p.substr(1,p.length-2).replace(tb,"$1")),c[r]=p}if(t!==-1&&t!==e.length)throw new TypeError("invalid parameter format");return a.parameters=c,a}s(sb,"parse");function ab(e){if(typeof e.getHeader=="function")return e.getHeader("content-type");if(typeof e.headers=="object")return e.headers&&e.headers["content-type"]}s(ab,"getcontenttype");function cb(e){var t=String(e);if(pp.test(t))return t;if(t.length>0&&!eb.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(nb,"\\$1")+'"'}s(cb,"qstring");function ub(e){var t=ib.exec(e.toLowerCase());if(!t)throw new TypeError("invalid media type");var n=t[1],r=t[2],i,a=r.lastIndexOf("+");a!==-1&&(i=r.substr(a+1),r=r.substr(0,a));var c={type:n,subtype:r,suffix:i};return c}s(ub,"splitType")});var dp=L((YO,pb)=>{pb.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var gp=L((XO,mp)=>{mp.exports=dp()});var gr=L(ft=>{"use strict";var ci=gp(),lb=require("path").extname,hp=/^\s*([^;\s]*)(?:;|\s|$)/,fb=/^text\//i;ft.charset=yp;ft.charsets={lookup:yp};ft.contentType=db;ft.extension=mb;ft.extensions=Object.create(null);ft.lookup=gb;ft.types=Object.create(null);hb(ft.extensions,ft.types);function yp(e){if(!e||typeof e!="string")return!1;var t=hp.exec(e),n=t&&ci[t[1].toLowerCase()];return n&&n.charset?n.charset:t&&fb.test(t[1])?"UTF-8":!1}s(yp,"charset");function db(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?ft.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var n=ft.charset(t);n&&(t+="; charset="+n.toLowerCase())}return t}s(db,"contentType");function mb(e){if(!e||typeof e!="string")return!1;var t=hp.exec(e),n=t&&ft.extensions[t[1].toLowerCase()];return!n||!n.length?!1:n[0]}s(mb,"extension");function gb(e){if(!e||typeof e!="string")return!1;var t=lb("x."+e).toLowerCase().substr(1);return t&&ft.types[t]||!1}s(gb,"lookup");function hb(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(ci).forEach(s(function(i){var a=ci[i],c=a.extensions;if(!(!c||!c.length)){e[i]=c;for(var p=0;p<c.length;p++){var f=c[p];if(t[f]){var d=n.indexOf(ci[t[f]].source),g=n.indexOf(a.source);if(t[f]!=="application/octet-stream"&&(d>g||d===g&&t[f].substr(0,12)==="application/"))continue}t[f]=i}}},"forEachMimeType"))}s(hb,"populateMaps")});var Ep=L((QO,Fn)=>{"use strict";var vp=fp(),yb=gr();Fn.exports=vb;Fn.exports.is=xp;Fn.exports.hasBody=bp;Fn.exports.normalize=_p;Fn.exports.match=wp;function xp(e,t){var n,r=t,i=bb(e);if(!i)return!1;if(r&&!Array.isArray(r))for(r=new Array(arguments.length-1),n=0;n<r.length;n++)r[n]=arguments[n+1];if(!r||!r.length)return i;var a;for(n=0;n<r.length;n++)if(wp(_p(a=r[n]),i))return a[0]==="+"||a.indexOf("*")!==-1?i:a;return!1}s(xp,"typeis");function bp(e){return e.headers["transfer-encoding"]!==void 0||!isNaN(e.headers["content-length"])}s(bp,"hasbody");function vb(e,t){var n=t;if(!bp(e))return null;if(arguments.length>2){n=new Array(arguments.length-1);for(var r=0;r<n.length;r++)n[r]=arguments[r+1]}var i=e.headers["content-type"];return xp(i,n)}s(vb,"typeofrequest");function _p(e){if(typeof e!="string")return!1;switch(e){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return e[0]==="+"?"*/*"+e:e.indexOf("/")===-1?yb.lookup(e):e}s(_p,"normalize");function wp(e,t){if(e===!1)return!1;var n=t.split("/"),r=e.split("/");return n.length!==2||r.length!==2||r[0]!=="*"&&r[0]!==n[0]?!1:r[1].substr(0,2)==="*+"?r[1].length<=n[1].length+1&&r[1].substr(1)===n[1].substr(1-r[1].length):!(r[1]!=="*"&&r[1]!==n[1])}s(wp,"mimeMatch");function xb(e){var t=vp.parse(e);return t.parameters=void 0,vp.format(t)}s(xb,"normalizeType");function bb(e){if(!e)return null;try{return xb(e)}catch(t){return null}}s(bb,"tryNormalizeType")});var Rp=L(_t=>{"use strict";var Sp=require("http"),_b=require("url"),wb=cp(),Eb=Ep();function Tp(e){return _b.format({pathname:e.path,query:e.queryStringParameters})}s(Tp,"getPathWithQueryStringParams");function Op(e){return Buffer.from(e.body,e.isBase64Encoded?"base64":"utf8")}s(Op,"getEventBody");function Sb(e){return JSON.parse(JSON.stringify(e))}s(Sb,"clone");function Tb(e){return e.contentTypeHeader?e.contentTypeHeader.split(";")[0]:""}s(Tb,"getContentType");function Ob(e){return e.binaryMimeTypes.length>0&&!!Eb.is(e.contentType,e.binaryMimeTypes)}s(Ob,"isContentTypeBinaryMimeType");function Ap(e,t,n){let r=Object.assign({},e.headers);if(e.body&&!r["Content-Length"]){let a=Op(e);r["Content-Length"]=Buffer.byteLength(a)}let i=Sb(e);return delete i.body,r["x-apigateway-event"]=encodeURIComponent(JSON.stringify(i)),r["x-apigateway-context"]=encodeURIComponent(JSON.stringify(t)),{method:e.httpMethod,path:Tp(e),headers:r,socketPath:n}}s(Ap,"mapApiGatewayEventToHttpRequest");function Cp(e,t,n){let r=[];t.on("data",i=>r.push(i)).on("end",()=>{let i=Buffer.concat(r),a=t.statusCode,c=t.headers;c["transfer-encoding"]==="chunked"&&delete c["transfer-encoding"],Object.keys(c).forEach(y=>{Array.isArray(c[y])&&(y.toLowerCase()==="set-cookie"?(c[y].forEach((v,_)=>{c[wb(y,_+1)]=v}),delete c[y]):c[y]=c[y].join(","))});let p=Tb({contentTypeHeader:c["content-type"]}),f=Ob({contentType:p,binaryMimeTypes:e._binaryTypes}),d=i.toString(f?"base64":"utf8"),g={statusCode:a,body:d,headers:c,isBase64Encoded:f};n.succeed({response:g})})}s(Cp,"forwardResponseToApiGateway");function kp(e,t){console.log("ERROR: @vendia/serverless-express connection error"),console.error(e);let n={statusCode:502,body:"",headers:{}};t.succeed({response:n})}s(kp,"forwardConnectionErrorResponseToApiGateway");function Ip(e,t){console.log("ERROR: @vendia/serverless-express error"),console.error(e);let n={statusCode:500,body:"",headers:{}};t.succeed({response:n})}s(Ip,"forwardLibraryErrorResponseToApiGateway");function ui(e,t,n,r){try{let i=Ap(t,n,li(e._socketPathSuffix)),a=Sp.request(i,c=>Cp(e,c,r));if(t.body){let c=Op(t);a.write(c)}a.on("error",c=>kp(c,r)).end()}catch(i){return Ip(i,r),e}}s(ui,"forwardRequestToNodeServer");function pi(e){return e.listen(li(e._socketPathSuffix))}s(pi,"startServer");function li(e){return/^win/.test(process.platform)?require("path").join("\\\\?\\pipe",process.cwd(),`server-${e}`):`/tmp/server-${e}.sock`}s(li,"getSocketPath");function jp(){return Math.random().toString(36).substring(2,15)}s(jp,"getRandomString");function Ab(e,t,n){let r=Sp.createServer(e);return r._socketPathSuffix=jp(),r._binaryTypes=n?n.slice():[],r.on("listening",()=>{r._isListening=!0,t&&t()}),r.on("close",()=>{r._isListening=!1}).on("error",i=>{if(i.code==="EADDRINUSE")return console.warn(`WARNING: Attempting to listen on socket ${li(r._socketPathSuffix)}, but it is already in use. This is likely as a result of a previous invocation error or timeout. Check the logs for the invocation(s) immediately prior to this for root cause, and consider increasing the timeout and/or cpu/memory allocation if this is purely as a result of a timeout. @vendia/serverless-express will restart the Node.js server listening on a new port and continue with this request.`),r._socketPathSuffix=jp(),r.close(()=>pi(r));console.log("ERROR: server error"),console.error(i)}),r}s(Ab,"createServer");function qp(e,t,n,r,i){if(!r){let a=Go({context:n,resolutionMode:"CONTEXT_SUCCEED"});return e._isListening?(ui(e,t,n,a),e):pi(e).on("listening",()=>qp(e,t,n))}return{promise:new Promise((a,c)=>{let f=Go({context:n,callback:i,promise:{resolve:a,reject:c},resolutionMode:r});e._isListening?ui(e,t,n,f):pi(e).on("listening",()=>ui(e,t,n,f))})}}s(qp,"proxy");function Go(e){return{succeed:t=>{if(e.resolutionMode==="CONTEXT_SUCCEED")return e.context.succeed(t.response);if(e.resolutionMode==="CALLBACK")return e.callback(null,t.response);if(e.resolutionMode==="PROMISE")return e.promise.resolve(t.response)}}}s(Go,"makeResolver");_t.createServer=Ab;_t.proxy=qp;process.env.NODE_ENV==="test"&&(_t.getPathWithQueryStringParams=Tp,_t.mapApiGatewayEventToHttpRequest=Ap,_t.forwardResponseToApiGateway=Cp,_t.forwardConnectionErrorResponseToApiGateway=kp,_t.forwardLibraryErrorResponseToApiGateway=Ip,_t.forwardRequestToNodeServer=ui,_t.startServer=pi,_t.getSocketPath=li,_t.makeResolver=Go)});var Np=L((tA,Mp)=>{"use strict";Mp.exports=Rp()});var Pp=L(wt=>{var kt=Np();wt.createServer=kt.createServer;wt.proxy=kt.proxy;process.env.NODE_ENV==="test"&&(wt.getPathWithQueryStringParams=kt.getPathWithQueryStringParams,wt.mapApiGatewayEventToHttpRequest=kt.mapApiGatewayEventToHttpRequest,wt.forwardResponseToApiGateway=kt.forwardResponseToApiGateway,wt.forwardConnectionErrorResponseToApiGateway=kt.forwardConnectionErrorResponseToApiGateway,wt.forwardLibraryErrorResponseToApiGateway=kt.forwardLibraryErrorResponseToApiGateway,wt.forwardRequestToNodeServer=kt.forwardRequestToNodeServer,wt.startServer=kt.startServer,wt.getSocketPath=kt.getSocketPath,wt.makeResolver=kt.makeResolver)});var Lp=L((rA,Bp)=>{"use strict";Bp.exports=Pp()});var Kp=L((iA,Dp)=>{var Yo=Lp();Dp.exports=s(function(t){let n=Yo.createServer(t);return s(function(i,a,c){return process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?Yo.proxy(n,i,a,"CALLBACK",c):Yo.proxy(n,i,a)},"http")},"unexpress")});var Xo=L((oA,Up)=>{Up.exports=s(function({Key:t,config:n,isBinary:r,defaults:i}){let a=t.split(".").pop(),c=n.plugins?n.plugins[a]||[]:[];return c.length===0||r?i:(i.body=i.body.toString(),c.reduce(s(function(f,d){return(typeof d=="function"?d:require(d))(t,f,n)},"run"),i))},"transform")});var Zo=L((sA,$p)=>{$p.exports=s(function(t){let{isBinary:n,assets:r,response:i,isLocal:a=!1}=t;if(n)return i;{let c=/\${(STATIC|arc\.static)\(.*\)}/g,p=i.body instanceof Buffer?i.body.toString():i.body;return i.body=p.replace(c,s(function(d){let g=d.startsWith("${STATIC(")?10:14,y=d.slice(g,d.length-3),v=y.startsWith("/"),_=v?y.substr(1):y;return r&&r[_]&&!a&&(y=r[_],y=v?`/${y}`:y),y},"fingerprint")),i.body=Buffer.from(i.body),i}},"templatizeResponse")});var Qo=L((aA,Hp)=>{var{gzipSync:Cb,gunzipSync:kb,brotliCompressSync:Ib,brotliDecompressSync:jb,deflateSync:qb,inflateSync:Rb}=require("zlib");function zp(e,t,n){let r=e==="compress",i={gzip:r?Cb:kb,br:r?Ib:jb,deflate:r?qb:Rb};if(!i[t])throw ReferenceError("Invalid compression type specified, must be gzip, br, or deflate");return i[t](n)}s(zp,"compressor");Hp.exports={compress:zp.bind({},"compress"),decompress:zp.bind({},"decompress")}});var es=L((cA,Fp)=>{var Mb=gr(),Nb=require("path"),{compress:Pb}=Qo();Fp.exports=s(function(t){let{response:n,result:r,Key:i,isProxy:a,contentEncoding:c,config:p}=t,f=["text/html","application/json","application/vnd.api+json"];n.headers=n.headers||{};let d=n.headers["Content-Type"]||n.headers["content-type"]||r&&r.ContentType||Mb.contentType(Nb.extname(i));n.headers["Content-Type"]=d;let g=f.some(O=>d.includes(O));p.cacheControl?n.headers["Cache-Control"]=p.cacheControl:g?n.headers["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0, s-maxage=0":r&&r.CacheControl?n.headers["Cache-Control"]=r.CacheControl:n.headers["Cache-Control"]="public, max-age=0, must-revalidate",p.headers&&Object.keys(p.headers).forEach(O=>n.headers[O]=p.headers[O]),n.headers["content-type"]&&(n.headers["Content-Type"]=n.headers["content-type"],delete n.headers["content-type"]),n.headers["cache-control"]&&(n.headers["Cache-Control"]=n.headers["cache-control"],delete n.headers["cache-control"]);let y=!process.env.ARC_CLOUDFORMATION,v=!process.env.ARC_HTTP||process.env.ARC_HTTP==="aws",_=y&&v,x=n.headers["Content-Type"].includes("text/html");return _&&x&&!a?(n.body=Buffer.from(n.body).toString(),n.type=n.headers["Content-Type"]):(c&&(n.body=Pb(c,n.body),n.headers["Content-Encoding"]=c),n.body=Buffer.from(n.body).toString("base64"),n.isBase64Encoded=!0),n.headers.ETag=r.ETag,n},"normalizeResponse")});var ts=L((uA,Jp)=>{var Bb=require("aws-sdk"),{existsSync:Lb,readFileSync:Db}=require("fs"),{join:Kb}=require("path"),{httpError:Ub}=Hn();Jp.exports=s(async function(t){let{Bucket:n,Key:r,assets:i,headers:a,isFolder:c,prefix:p}=t,{ARC_LOCAL:f,ARC_SANDBOX_PATH_TO_STATIC:d,NODE_ENV:g}=process.env,y=g==="testing"||f,v=new Bb.S3;function _(E){let S=E.replace(p+"/","");return i&&i[S]&&(E=i[S],E=p?`${p}/${E}`:E),E}s(_,"getKey");async function x(E){let S=d;if(E.startsWith(S)||(E=Kb(S,E)),Lb(E))return{Body:Db(E)};{let q=ReferenceError(`NoSuchKey: ${r} not found`);throw q.name="NoSuchKey",q}}s(x,"getLocal");async function O(E){return await v.getObject({Bucket:n,Key:E}).promise()}s(O,"getS3");async function C(E){let S=y?x:O;try{return await S(E)}catch(q){return q.name==="NoSuchKey"?(q.statusCode=404,q):(q.statusCode=500,q)}}if(s(C,"get"),c&&!r.endsWith("/")){let E=_(`${r}/index.html`),S=await C(E);if(S.Body){let q=S.Body.toString();return{headers:a,statusCode:200,body:q}}}let T=_("404.html"),b=await C(T);if(b.Body){let E=b.Body.toString();return{headers:{"Content-Type":"text/html; charset=utf8;","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"},statusCode:404,body:E}}else{let E=b,{statusCode:S}=E,q=E.name,A=`
      ${E.message} <pre><b>${r}</b></pre><br>
      <pre>${E.stack}</pre>
    `;return Ub({statusCode:S,title:q,message:A})}},"pretty")});var Xp=L((pA,Yp)=>{var{existsSync:Wp,readFileSync:Vp}=require("fs"),{extname:$b,join:ns,sep:zb}=require("path"),Hb=gr(),Fb=require("crypto"),Jb=ai(),{httpError:Wb}=Hn(),Vb=Xo(),Gb=Zo(),Yb=es(),Gp=ts();Yp.exports=s(async function(t){let{ARC_SANDBOX_PATH_TO_STATIC:n,ARC_STATIC_PREFIX:r,ARC_STATIC_FOLDER:i}=process.env,{Key:a,IfNoneMatch:c,isFolder:p,isProxy:f,config:d}=t,g={},y={},v,_=n||ns(process.cwd(),"..","..","..","public"),x=ns(_,"static.json");Wp(x)&&(v=JSON.parse(Vp(x)));let O=d.assets||v,C=ns(_,a),T=r||i;C.includes(T)&&(C=C.replace(`${T}${zb}`,""));try{let b=!1,E=Hb.contentType($b(a));if(!Wp(C))return await Gp({Key:C,config:d,isFolder:p});let S=Vp(C),q=Fb.createHash("sha256").update(S).digest("hex"),A={ContentType:E,ETag:q};if(c===q&&(b=!0,g.ETag=c,y={statusCode:304,headers:g}),!b){let z=Jb.some(F=>A.ContentType.includes(F)||E.includes(F));y=Vb({Key:a,config:d,isBinary:z,defaults:{headers:g,body:S}}),y=Gb({isBinary:z,assets:O,response:y,isLocal:!0}),y=Yb({response:y,result:A,Key:a,isProxy:f,config:d}),y.headers.ETag=A.ETag}return y.statusCode||(y.statusCode=200),y}catch(b){if(b.name==="NoSuchKey")return await Gp({Key:C,config:d,isFolder:p});{let S=b.name,q=`
        ${b.message}<br>
        <pre>${b.stack}</pre>
      `;return Wb({statusCode:500,title:S,message:q})}}},"readLocal")});var el=L((lA,Qp)=>{var{existsSync:Xb,readFileSync:Zb}=require("fs"),{extname:Qb,join:e_}=require("path"),t_=gr(),n_=require("aws-sdk"),r_=ai(),{httpError:i_}=Hn(),o_=Xo(),s_=Zo(),a_=es(),c_=ts(),{decompress:u_}=Qo();Qp.exports=s(async function(t){let{Bucket:n,Key:r,IfNoneMatch:i,isFolder:a,isProxy:c,config:p,rootPath:f}=t,{ARC_STATIC_PREFIX:d,ARC_STATIC_FOLDER:g}=process.env,y=d||g||p.bucket&&p.bucket.folder,v=p.assets||hr,_={},x={};try{let O=!1,C=new n_.S3,T=t_.contentType(Qb(r)),E=["text/html","application/json"].some(A=>T.includes(A));if(v&&v[r]&&E&&(r=v[r]),v&&v[r]&&!E){let A=f?`/${f}/_static/${v[r]}`:`/_static/${v[r]}`;return{statusCode:302,headers:{location:A,"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"}}}y&&(r=`${y}/${r}`);let S={Bucket:n,Key:r};i&&(S.IfNoneMatch=i);let q=await C.getObject(S).promise().catch(A=>{if(A.code==="NotModified")O=!0,_.ETag=i,x={statusCode:304,headers:_};else throw A});if(!O){let A=q.ContentEncoding;A&&(q.Body=u_(A,q.Body));let z=r_.some(F=>q.ContentType.includes(F)||T.includes(F));x=o_({Key:r,config:p,isBinary:z,defaults:{headers:_,body:q.Body}}),x=s_({isBinary:z,assets:v,response:x}),x=a_({response:x,result:q,Key:r,isProxy:c,contentEncoding:A,config:p})}return x.statusCode||(x.statusCode=200),x}catch(O){if(O.name==="NoSuchKey")return await c_({Bucket:n,Key:r,assets:v,headers:_,isFolder:a,prefix:y});{let T=O.name,b=`
        ${O.message}<br>
        <pre>${O.stack}</pre>
      `;return i_({statusCode:500,title:T,message:b})}}},"readS3");var hr,Zp=e_(process.cwd(),"node_modules","@architect","shared","static.json");hr===!1||(Xb(Zp)&&!hr?hr=JSON.parse(Zb(Zp)):hr=!1)});var nl=L((fA,tl)=>{var p_=Xp(),l_=el();function f_(){let{ARC_LOCAL:e,NODE_ENV:t}=process.env;return t==="testing"||e?p_:l_}s(f_,"read");tl.exports=f_()});var ol=L((dA,il)=>{var rl=nl(),d_=Hn();function m_(e={}){return s(async function(n){let{ARC_STATIC_BUCKET:r,ARC_STATIC_SPA:i,NODE_ENV:a}=process.env,c=n.version===void 0||n.version==="1.0",p=a==="production",f=c?n.path:n.rawPath,d=f.split("/").pop().indexOf(".")===-1,g,y=e.bucket,v=p?y&&y.production:y&&y.staging,_=r||v;if(!_)return d_.proxyConfig;let x=i==="false"?!1:e&&e.spa;if(x||(e.spa=!1),x)g=d?"index.html":f.substring(1);else{let q=f.split("/").filter(Boolean).pop(),A=q?q.includes("."):!1,z=f==="/";g=z?"index.html":f.substring(1),z===!1&&A===!1&&(g=`${g.replace(/\/$/,"")}/index.html`)}e&&e.alias&&e.alias[f]&&(g=e.alias[f].substring(1)),g.startsWith("staging/")&&(g=g.replace("staging/","")),g.startsWith("production/")&&(g=g.replace("production/",""));let C,T=n.requestContext&&n.requestContext.path;c&&T&&(T&&T.startsWith("/staging/")&&(C="staging"),T&&T.startsWith("/production/")&&(C="production"));let b=s(q=>q.toLowerCase()==="if-none-match","find"),E=n.headers&&n.headers[Object.keys(n.headers).find(b)],S=n.resource==="/{proxy+}"||!!n.rawPath;return await rl({Key:g,Bucket:_,IfNoneMatch:E,isFolder:d,isProxy:S,config:e,rootPath:C})},"httpProxy")}s(m_,"proxy");il.exports={proxy:m_,read:rl}});var cl=L((mA,al)=>{var Vt=ep(),g_=oi(),h_=si(),y_=Wo(),v_=rp(),x_=ri(),b_=ii(),sl=op(),__=Kp(),rs=ol();Vt.helpers={bodyParser:g_,interpolate:h_,static:y_,url:v_};Vt.session={read:x_,write:b_};Vt.async=sl;Vt.express=__;Vt.proxy=rs.proxy;Vt.proxy.public=rs.proxy;Vt.proxy.read=rs.read;Vt.middleware=sl;al.exports=Vt});var ll=L((gA,pl)=>{var ul=require("aws-sdk"),w_=require("http");pl.exports=s(function(t){let n=`/${process.env.ARC_CLOUDFORMATION}`,r=!0,i=[],a=process.env.NODE_ENV==="testing",c;if(a){let d=process.env.ARC_INTERNAL||3332,g=process.env.AWS_REGION||"us-west-2";c={endpoint:new ul.Endpoint(`http://localhost:${d}/_arc/ssm`),region:g,httpOptions:{agent:new w_.Agent}}}let p=new ul.SSM(c);function f(d){p.getParametersByPath(d,s(function(y,v){y?t(y):v.NextToken?(i=i.concat(v.Parameters),f({Path:n,Recursive:r,NextToken:v.NextToken})):(i=i.concat(v.Parameters),t(null,i.reduce((_,x)=>{let O=x.Name.split("/");O.shift(),O.shift();let C=O.shift();_[C]||(_[C]={});let T=_[C],b,E,S;for(;b=O.shift();)T[b]||(T[b]={}),S=T,T=T[b],E=b;return S[E]=x.Value,_},{})))},"done"))}s(f,"getParams"),f({Path:n,Recursive:r})},"lookup")});var dl=L((hA,fl)=>{var E_=require("http");fl.exports=s(function({id:t,payload:n},r){let i=process.env.PORT||3333,a=JSON.stringify({id:t,payload:n}),c=E_.request({method:"POST",port:i,path:"/__arc",headers:{"Content-Type":"application/json","Content-Length":Buffer.byteLength(a)}});c.on("error",r),c.on("close",()=>r()),c.write(a),c.end()},"send")});var gl=L((yA,ml)=>{var S_=require("aws-sdk");ml.exports=s(function({id:t,payload:n},r){let i,a=process.env.ARC_WSS_URL;a.startsWith("wss://")?i=`https://${a.replace("wss://","")}`:i=`https://${a}/${process.env.NODE_ENV}`,new S_.ApiGatewayManagementApi({apiVersion:"2018-11-29",endpoint:i}).postToConnection({ConnectionId:t,Data:JSON.stringify(n)},s(function(f){f?r(f):r()},"postToConnection"))},"send")});var yl=L((vA,hl)=>{var T_=dl(),O_=gl();hl.exports=s(function({id:t,payload:n},r){let i;return r||(i=new Promise(function(p,f){r=s(function(d,g){d?f(d):p(g)},"callback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?T_:O_)({id:t,payload:n},r),i},"send")});var is=L((xA,vl)=>{vl.exports=A_;function A_(e,t){var n=0,r=!0;function i(c,p){function f(){p=p?[].concat(c,p):[c],t&&t.apply(void 0,p)}s(f,"end"),r?process.nextTick(f):f()}s(i,"done");function a(c){var p=Array.prototype.slice.call(arguments,1);++n>=e.length||c?i(c,p):e[n].apply(void 0,[].concat(p,a))}s(a,"each"),e.length?e[0](a):i(null),r=!1}s(A_,"runWaterfall")});var bl=L((bA,xl)=>{var C_=bn();function cn(e,t){return s(function(r,i){var a=r.Records.map(function(c){return s(function(f){var d=e.indexOf(c.eventName)>-1;d?t(c,f):f()},"__actualHandler")});C_(a,s(function(p,f){p?i.fail(p):i.succeed(f)},"__processedRecords"))},"__lambdaSignature")}s(cn,"__trigger");xl.exports={insert:cn.bind({},["INSERT"]),modify:cn.bind({},["MODIFY"]),update:cn.bind({},["MODIFY"]),remove:cn.bind({},["REMOVE"]),destroy:cn.bind({},["REMOVE"]),all:cn.bind({},["INSERT","MODIFY","REMOVE"]),save:cn.bind({},["INSERT","MODIFY"]),change:cn.bind({},["INSERT","REMOVE"])}});var os=L((_A,_l)=>{_l.exports=s(function(t){var n={};return Object.keys(t).forEach(r=>{n[r]=k_(t[r])}),n},"pfy");function k_(e){return s(function(n,r){if(r)e(n,r);else return new Promise(function(i,a){e(n,function(c,p){c?a(c):i(p)})})},"_promisified")}s(k_,"promised")});var El=L((wA,wl)=>{var I_=zn(),j_=os(),q_=bn();wl.exports=s(function(t,n){let{db:r,doc:i}=I_;q_({db:r,doc:i},s(function(c,{db:p,doc:f}){if(c)throw c;{let v=function(_){return j_({delete(x,O){let C={};C.TableName=_,C.Key=x,f.delete(C,O)},get(x,O){let C={};C.TableName=_,C.Key=x,f.get(C,s(function(b,E){b?O(b):O(null,E.Item)},"_get"))},put(x,O){let C={};C.TableName=_,C.Item=x,f.put(C,s(function(b){b?O(b):O(null,x)},"_put"))},query(x,O){x.TableName=_,f.query(x,O)},scan(x,O){x.TableName=_,f.scan(x,O)},update(x,O){x.TableName=_,f.update(x,O)}})};var d=v;s(v,"factory");let g=Object.keys(t).reduce((_,x)=>(_[x]=v(t[x]),_),{});Object.defineProperty(g,"_db",{enumerable:!1,value:p}),Object.defineProperty(g,"_doc",{enumerable:!1,value:f}),g.reflect=s(async function(){return t},"reflect");let y=s(_=>t[_],"_name");g.name=y,g._name=y,n(null,g)}},"done"))},"reflectFactory")});var Tl=L((EA,Sl)=>{var R_=os(),M_=bn(),N_=s(e=>!e.includes("-production-"),"stagingTables");function P_(e,t){return R_({delete(r,i){let a={};a.TableName=t,a.Key=r,e.delete(a,i)},get(r,i){let a={};a.TableName=t,a.Key=r,e.get(a,s(function(p,f){p?i(p):i(null,f.Item)},"_get"))},put(r,i){let a={};a.TableName=t,a.Item=r,e.put(a,s(function(p){p?i(p):i(null,r)},"_put"))},query(r,i){r.TableName=t,e.query(r,i)},scan(r,i){r.TableName=t,e.scan(r,i)},update(r,i){r.TableName=t,e.update(r,i)}})}s(P_,"client");Sl.exports=s(function(t,n){function r(i,a){if(i)return n(i);let c=a[0],p=a[1];c.listTables({},s(function(d,g){if(d)return n(d);let y=g.TableNames.filter(N_),v={},_={};y.forEach(O=>{let C=O.replace(/.+-staging-/,"");_[C]=O,v[C]=P_(p,O)}),Object.defineProperty(v,"_db",{enumerable:!1,value:c}),Object.defineProperty(v,"_doc",{enumerable:!1,value:p}),v.reflect=async()=>_;let x=s(O=>_[O],"_name");v.name=x,v._name=x,n(null,v)},"listed"))}s(r,"done"),M_([t.db,t.doc],r)},"sandbox")});var Al=L((SA,Ol)=>{var B_=is(),un=bl(),L_=El(),D_=Tl(),ss=zn(),fi=!1;function K_(e){function t(n){let r;return n||(r=new Promise(s(function(c,p){n=s(function(d,g){d?p(d):c(g)},"errback")},"ugh"))),process.env.NODE_ENV==="testing"?D_(ss,n):fi?n(null,fi):B_([function(a){e.services().then(function(c){a(null,c.tables)}).catch(a)},L_,function(a,c){fi=a,c(null,fi)}],n),r}return s(t,"api"),t.doc=ss.direct.doc,t.db=ss.direct.db,t.insert=un.insert,t.modify=un.modify,t.update=un.update,t.remove=un.remove,t.destroy=un.destroy,t.all=un.all,t.save=un.save,t.change=un.change,t}s(K_,"tables");Ol.exports=K_});var kl=L((TA,Cl)=>{var U_=require("http"),$_=is(),z_=require("aws-sdk");Cl.exports=s(function(t,n){if(!t.name)throw ReferenceError("missing params.name");if(!t.payload)throw ReferenceError("missing params.payload");let r=`${process.env.ARC_APP_NAME}-${process.env.NODE_ENV}-${t.name}`,i=t.payload,a;if(n||(a=new Promise((p,f)=>{n=s(function(g,y){g?f(g):p(y)},"errback")})),process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL){let p=process.env.ARC_EVENTS_PORT||3334,f=U_.request({method:"POST",port:p,path:"/queues"},s(function(g){let y=[];g.resume(),g.on("data",v=>y.push(v)),g.on("end",()=>{let v=Buffer.concat(y).toString(),_=`${g.statusCode}`;_.startsWith(2)?n(null,v):n(Error(`${v} (${_})`))})},"done"));f.write(JSON.stringify(t)),f.end(`
`)}else{let p=new z_.SQS;$_([s(function(d){p.getQueueUrl({QueueName:r},d)},"reads"),s(function(d,g){let y=d.QueueUrl,v=t.delaySeconds||0;p.sendMessage({QueueUrl:y,DelaySeconds:v,MessageBody:JSON.stringify(i)},g)},"publishes")],s(function(d,g){if(d)throw d;n(null,g)},"_published"))}return a},"_publish")});var jl=L((OA,Il)=>{var H_=bn();Il.exports=s(function(t){return t.constructor.name==="AsyncFunction"?s(async function(r){return await Promise.all(r.Records.map(async i=>{try{let a=JSON.parse(i.body);return await t(a)}catch(a){throw console.log("Queue subscribe error:",a),a}}))},"lambda"):s(function(r,i,a){H_(r.Records.map(s(function(p){return s(function(d){try{t(JSON.parse(p.body),d)}catch(g){d(g)}},"_actualHandler")},"_iterator")),a)},"_lambdaSignature")},"_subscribe")});var Rl=L((AA,ql)=>{var F_=require("http");ql.exports=s(function(t,n){let r=process.env.ARC_EVENTS_PORT||3334,i=F_.request({method:"POST",port:r,path:"/queues"},s(function(c){let p=[];c.resume(),c.on("data",f=>p.push(f)),c.on("end",()=>{let f=Buffer.concat(p).toString(),d=`${c.statusCode}`;d.startsWith(2)?n(null,f):n(Error(`${f} (${d})`))})},"done"));i.write(JSON.stringify(t)),i.end(`
`)},"sandbox")});var Nl=L((CA,Ml)=>{var J_=require("aws-sdk"),yr={};Ml.exports=s(function(t){return s(function({name:r,payload:i,delaySeconds:a,groupID:c},p){function f(y,v,_){let x=new J_.SQS,O={QueueUrl:y,DelaySeconds:a||0,MessageBody:JSON.stringify(v)};y.endsWith(".fifo")&&(O.MessageGroupId=c||r),x.sendMessage(O,_)}s(f,"publish");function d(y){yr=y.queues,yr[r]?f(yr[r],i,p):p(ReferenceError(`${r} queue not found`))}s(d,"cacheLedgerAndPublish"),yr[r]?f(yr[r],i,p):t.services().then(d).catch(p)},"live")},"liveFactory")});var Bl=L((kA,Pl)=>{var W_=Rl(),V_=Nl();Pl.exports=s(function(t){let n=V_(t);return s(function(i,a){if(!i.name)throw ReferenceError("missing params.name");if(!i.payload)throw ReferenceError("missing params.payload");let c;return a||(c=new Promise((d,g)=>{a=s(function(v,_){v?g(v):d(_)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?W_:n)(i,a),c},"publish")},"publishFactory")});var Dl=L((IA,Ll)=>{var G_=kl(),Y_=jl(),X_=Bl();Ll.exports=s(function(t){let n=X_(t);return{publish(r,i){return process.env.ARC_CLOUDFORMATION?n(r,i):G_(r,i)},subscribe:Y_}},"queueFactory")});var zl=L((jA,$l)=>{var Z_=require("http"),Kl=require("aws-sdk"),Q_=new Kl.SNS,di={};function Ul(e,t,n){Q_.publish({TopicArn:e,Message:JSON.stringify(t)},s(function(i,a){if(i)throw i;n(null,a)},"_published"))}s(Ul,"__publish");$l.exports=s(function(t,n){if(!t.name)throw ReferenceError("missing params.name");if(!t.payload)throw ReferenceError("missing params.payload");let r;return n||(r=new Promise((c,p)=>{n=s(function(d,g){d?p(d):c(g)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?tw:ew)(t,n),r},"_publish");function ew(e,t){let{name:n,payload:r}=e;if(di[n])Ul(di[n],r,t);else{let c=`${e.app?e.app:process.env.ARC_APP_NAME}-${process.env.NODE_ENV}-${n}`;nw({eventName:c},s(function(f,d){if(f)throw f;di[n]=d,Ul(di[n],r,t)},"_scan"))}}s(ew,"_live");function tw(e,t){let n=process.env.ARC_EVENTS_PORT||3334,r=Z_.request({method:"POST",port:n,path:"/events"},s(function(a){let c=[];a.resume(),a.on("data",p=>c.push(p)),a.on("end",()=>{let p=Buffer.concat(c).toString(),f=`${a.statusCode}`;f.startsWith(2)?t(null,p):t(Error(`${p} (${f})`))})},"done"));r.write(JSON.stringify(e)),r.end(`
`)}s(tw,"_local");function nw({eventName:e},t){let n=new Kl.SNS;s(function r(i={},a){n.listTopics(i,s(function(p,f){if(p)throw p;let d=f.Topics.find(g=>{let y=g.TopicArn.split(":");return y[y.length-1]===e});d?a(null,d.TopicArn):f.NextToken?setTimeout(()=>{r({NextToken:f.NextToken},a)},50):a(Error(`topic ${e} not found`))},"_listTopics"))},"__scanner")({},t)}s(nw,"_scan")});var Jl=L((qA,Fl)=>{var rw=bn(),Hl={Records:[{Sns:{Message:JSON.stringify({})}}]};Fl.exports=s(function(t){return t.constructor.name==="AsyncFunction"?s(async function(r){return r=r&&Object.keys(r).length?r:Hl,await Promise.all(r.Records.map(async i=>{try{let a=JSON.parse(i.Sns.Message);return await t(a)}catch(a){throw console.log("Event subscribe error:",a),a}}))},"lambda"):s(function(r,i,a){r=r&&Object.keys(r).length?r:Hl,rw(r.Records.map(s(function(p){return s(function(d){try{t(JSON.parse(p.Sns.Message),d)}catch(g){d(g)}},"_actualHandler")},"_iterator")),a)},"_lambdaSignature")},"_subscribe")});var Vl=L((RA,Wl)=>{var iw=require("http");Wl.exports=s(function(t,n){let r=process.env.ARC_EVENTS_PORT||3334,i=iw.request({method:"POST",port:r,path:"/events"},s(function(c){let p=[];c.resume(),c.on("data",f=>p.push(f)),c.on("end",()=>{let f=Buffer.concat(p).toString(),d=`${c.statusCode}`;d.startsWith(2)?n(null,f):n(Error(`${f} (${d})`))})},"done"));i.write(JSON.stringify(t)),i.end(`
`)},"publishLocal")});var Yl=L((MA,Gl)=>{var ow=require("aws-sdk"),vr={};Gl.exports=s(function(t){return s(function({name:r,payload:i},a){function c(d,g,y){new ow.SNS().publish({TopicArn:d,Message:JSON.stringify(g)},y)}s(c,"publish");function p(d){vr=d.events,vr[r]?c(vr[r],i,a):a(ReferenceError(`${r} event not found`))}s(p,"cacheLedgerAndPublish"),vr[r]?c(vr[r],i,a):t.services().then(p).catch(a)},"live")},"liveFactory")});var Zl=L((NA,Xl)=>{var sw=Vl(),aw=Yl();Xl.exports=s(function(t){let n=aw(t);return s(function(i,a){if(!i.name)throw ReferenceError("missing params.name");if(!i.payload)throw ReferenceError("missing params.payload");let c;return a||(c=new Promise((d,g)=>{a=s(function(v,_){v?g(v):d(_)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?sw:n)(i,a),c},"publish")},"publishFactory")});var ef=L((PA,Ql)=>{var cw=zl(),uw=Jl(),pw=Zl();Ql.exports=s(function(t){let n=pw(t);return{publish(r,i){return process.env.ARC_CLOUDFORMATION?n(r,i):cw(r,i)},subscribe:uw}},"eventFactory")});var us=L((BA,tf)=>{var as=process.env.NODE_ENV,lw=as!=="staging"&&as!=="production";(!as||lw)&&(process.env.NODE_ENV="testing");var cs=cl(),fw=Wo(),dw=ll(),mi,mw=yl(),Dt={http:cs,static:fw,ws:{send:mw},services:function(){return new Promise(function(e,t){mi?e(mi):dw(function(n,r){n?t(n):(mi=r,e(mi))})})}};Dt.tables=Al()(Dt);Dt.queues=Dl()(Dt);Dt.events=ef()(Dt);Dt.proxy={};Dt.proxy.public=cs.proxy.public;Dt.middleware=cs.middleware;tf.exports=Dt});var nf=L((exports,module)=>{s(function(t,n){typeof exports=="object"&&typeof module=="object"?module.exports=n():typeof define=="function"&&define.amd?define([],n):typeof exports=="object"?exports.Automerge=n():t.Automerge=n()},"webpackUniversalModuleDefinition")(exports,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return s(n,"__webpack_require__"),n.m=e,n.c=t,n.d=function(r,i,a){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:a})},n.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(i&1&&(r=n(r)),i&8||i&4&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),i&2&&typeof r!="string")for(var c in r)n.d(a,c,function(p){return r[p]}.bind(null,c));return a},n.n=function(r){var i=r&&r.__esModule?s(function(){return r.default},"getDefault"):s(function(){return r},"getModuleExports");return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s="./src/automerge.js")}({"./backend/index.js":function(e,t,n){"use strict";var r=function(){function G(j,M){var B=[],H=!0,J=!1,te=void 0;try{for(var ae=j[Symbol.iterator](),ue;!(H=(ue=ae.next()).done)&&(B.push(ue.value),!(M&&B.length===M));H=!0);}catch(I){J=!0,te=I}finally{try{!H&&ae.return&&ae.return()}finally{if(J)throw te}}return B}return s(G,"sliceIterator"),function(j,M){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return G(j,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function G(j,M){for(var B=0;B<M.length;B++){var H=M[B];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(j,H.key,H)}}return s(G,"defineProperties"),function(j,M,B){return M&&G(j.prototype,M),B&&G(j,B),j}}();function a(G,j){if(!(G instanceof j))throw new TypeError("Cannot call a class as a function")}s(a,"_classCallCheck");var c=n("./node_modules/immutable/dist/immutable.js"),p=c.Map,f=c.List,d=c.fromJS,g=n("./src/common.js"),y=g.isObject,v=g.lessOrEqual,_=g.parseElemId,x=n("./backend/op_set.js"),O=function(){function G(){a(this,G),this.diffs={},this.children={}}return s(G,"MaterializationContext"),i(G,[{key:"unpackValue",value:s(function(M,B,H){Object.assign(B,H),H.link&&this.children[M].push(H.value)},"unpackValue")},{key:"unpackConflicts",value:s(function(M,B,H){if(H){B.conflicts=[];var J=!0,te=!1,ae=void 0;try{for(var ue=H[Symbol.iterator](),I;!(J=(I=ue.next()).done);J=!0){var ie=I.value,se=r(ie,2),pe=se[0],Z=se[1],ee={actor:pe};this.unpackValue(M,ee,Z),B.conflicts.push(ee)}}catch(me){te=!0,ae=me}finally{try{!J&&ue.return&&ue.return()}finally{if(te)throw ae}}}},"unpackConflicts")},{key:"instantiateMap",value:s(function(M,B,H){var J=this.diffs[B];B!==x.ROOT_ID&&J.push({obj:B,type:H,action:"create"});var te=x.getObjectConflicts(M,B,this),ae=!0,ue=!1,I=void 0;try{for(var ie=x.getObjectFields(M,B)[Symbol.iterator](),se;!(ae=(se=ie.next()).done);ae=!0){var pe=se.value,Z={obj:B,type:H,action:"set",key:pe};this.unpackValue(B,Z,x.getObjectField(M,B,pe,this)),this.unpackConflicts(B,Z,te.get(pe)),J.push(Z)}}catch(ee){ue=!0,I=ee}finally{try{!ae&&ie.return&&ie.return()}finally{if(ue)throw I}}},"instantiateMap")},{key:"instantiateList",value:s(function(M,B,H){var J=this.diffs[B],te=0;J.push({obj:B,type:H,action:"create"});var ae=!0,ue=!1,I=void 0;try{for(var ie=x.listIterator(M,B,this)[Symbol.iterator](),se;!(ae=(se=ie.next()).done);ae=!0){var pe=se.value,Z=pe.index,ee=pe.elemId,me=pe.value,be=pe.conflicts;if(te=Math.max(te,_(ee).counter),Z!==void 0){var xe={obj:B,type:H,action:"insert",index:Z,elemId:ee};this.unpackValue(B,xe,me),this.unpackConflicts(B,xe,be),J.push(xe)}}}catch(we){ue=!0,I=we}finally{try{!ae&&ie.return&&ie.return()}finally{if(ue)throw I}}J.push({obj:B,type:H,action:"maxElem",value:te})},"instantiateList")},{key:"instantiateObject",value:s(function(M,B){if(this.diffs[B])return{value:B,link:!0};var H=B===x.ROOT_ID,J=M.getIn(["byObject",B,"_init","action"]);if(this.diffs[B]=[],this.children[B]=[],H||J==="makeMap")this.instantiateMap(M,B,"map");else if(J==="makeTable")this.instantiateMap(M,B,"table");else if(J==="makeList")this.instantiateList(M,B,"list");else if(J==="makeText")this.instantiateList(M,B,"text");else throw new RangeError("Unknown object type: "+J);return{value:B,link:!0}},"instantiateObject")},{key:"makePatch",value:s(function(M,B){var H=!0,J=!1,te=void 0;try{for(var ae=this.children[M][Symbol.iterator](),ue;!(H=(ue=ae.next()).done);H=!0){var I=ue.value;this.makePatch(I,B)}}catch(be){J=!0,te=be}finally{try{!H&&ae.return&&ae.return()}finally{if(J)throw te}}var ie=!0,se=!1,pe=void 0;try{for(var Z=this.diffs[M][Symbol.iterator](),ee;!(ie=(ee=Z.next()).done);ie=!0){var me=ee.value;B.push(me)}}catch(be){se=!0,pe=be}finally{try{!ie&&Z.return&&Z.return()}finally{if(se)throw pe}}},"makePatch")}]),G}();function C(){return p({opSet:x.init()})}s(C,"init");function T(G,j){var M=G.getIn(["opSet","undoPos"])>0,B=!G.getIn(["opSet","redoStack"]).isEmpty(),H=G.getIn(["opSet","clock"]).toJS(),J=G.getIn(["opSet","deps"]).toJS();return{clock:H,deps:J,canUndo:M,canRedo:B,diffs:j}}s(T,"makePatch");function b(G,j,M){var B=[],H=G.get("opSet"),J=!0,te=!1,ae=void 0;try{for(var ue=d(j)[Symbol.iterator](),I;!(J=(I=ue.next()).done);J=!0){var ie=I.value;ie=ie.remove("requestType");var se=x.addChange(H,ie,M),pe=r(se,2),Z=pe[0],ee=pe[1],me=!0,be=!1,xe=void 0;try{for(var we=ee[Symbol.iterator](),_e;!(me=(_e=we.next()).done);me=!0){var N=_e.value;B.push(N)}}catch(R){be=!0,xe=R}finally{try{!me&&we.return&&we.return()}finally{if(be)throw xe}}H=Z}}catch(R){te=!0,ae=R}finally{try{!J&&ue.return&&ue.return()}finally{if(te)throw ae}}return G=G.set("opSet",H),[G,T(G,B)]}s(b,"apply");function E(G,j){return b(G,j,!1)}s(E,"applyChanges");function S(G,j){if(typeof j.actor!="string"||typeof j.seq!="number")throw new TypeError("Change request requries `actor` and `seq` properties");if(j.seq<=G.getIn(["opSet","clock",j.actor],0))throw new RangeError("Change request has already been applied");var M=void 0;if(j.requestType==="change"){var B=j.undoable!==!1,H=b(G,[j],B),J=r(H,2);G=J[0],M=J[1]}else if(j.requestType==="undo"){var te=le(G,j),ae=r(te,2);G=ae[0],M=ae[1]}else if(j.requestType==="redo"){var ue=fe(G,j),I=r(ue,2);G=I[0],M=I[1]}else throw new RangeError("Unknown requestType: "+j.requestType);return M.actor=j.actor,M.seq=j.seq,[G,M]}s(S,"applyLocalChange");function q(G){var j=[],M=G.get("opSet"),B=new O(M);return B.instantiateObject(M,x.ROOT_ID),B.makePatch(x.ROOT_ID,j),T(G,j)}s(q,"getPatch");function A(G,j){var M=G.getIn(["opSet","clock"]),B=j.getIn(["opSet","clock"]);if(!v(M,B))throw new RangeError("Cannot diff two states that have diverged");return x.getMissingChanges(j.get("opSet"),M).toJS()}s(A,"getChanges");function z(G,j){return x.getChangesForActor(G.get("opSet"),j).toJS()}s(z,"getChangesForActor");function F(G,j){return x.getMissingChanges(G.get("opSet"),j).toJS()}s(F,"getMissingChanges");function re(G){return x.getMissingDeps(G.get("opSet"))}s(re,"getMissingDeps");function oe(G,j){var M=x.getMissingChanges(j.get("opSet"),G.getIn(["opSet","clock"]));return E(G,M)}s(oe,"merge");function le(G,j){var M=G.getIn(["opSet","undoPos"]),B=G.getIn(["opSet","undoStack",M-1]);if(M<1||!B)throw new RangeError("Cannot undo: there is nothing to be undone");var H=j.actor,J=j.seq,te=j.deps,ae=j.message,ue=p({actor:H,seq:J,deps:d(te),message:ae,ops:B}),I=G.get("opSet"),ie=f().withMutations(function(me){var be=!0,xe=!1,we=void 0;try{for(var _e=B[Symbol.iterator](),N;!(be=(N=_e.next()).done);be=!0){var R=N.value;if(!["set","del","link","inc"].includes(R.get("action")))throw new RangeError("Unexpected operation type in undo history: "+R);var U=x.getFieldOps(I,R.get("obj"),R.get("key"));if(R.get("action")==="inc")me.push(p({action:"inc",obj:R.get("obj"),key:R.get("key"),value:-R.get("value")}));else if(U.isEmpty())me.push(p({action:"del",obj:R.get("obj"),key:R.get("key")}));else{var $=!0,W=!1,ne=void 0;try{for(var P=U[Symbol.iterator](),K;!($=(K=P.next()).done);$=!0){var X=K.value;me.push(X.remove("actor").remove("seq"))}}catch(de){W=!0,ne=de}finally{try{!$&&P.return&&P.return()}finally{if(W)throw ne}}}}}catch(de){xe=!0,we=de}finally{try{!be&&_e.return&&_e.return()}finally{if(xe)throw we}}});I=I.set("undoPos",M-1).update("redoStack",function(me){return me.push(ie)});var se=x.addChange(I,ue,!1),pe=r(se,2),Z=pe[0],ee=pe[1];return G=G.set("opSet",Z),[G,T(G,ee)]}s(le,"undo");function fe(G,j){var M=G.getIn(["opSet","redoStack"]).last();if(!M)throw new RangeError("Cannot redo: the last change was not an undo");var B=j.actor,H=j.seq,J=j.deps,te=j.message,ae=p({actor:B,seq:H,deps:d(J),message:te,ops:M}),ue=G.get("opSet").update("undoPos",function(Z){return Z+1}).update("redoStack",function(Z){return Z.pop()}),I=x.addChange(ue,ae,!1),ie=r(I,2),se=ie[0],pe=ie[1];return G=G.set("opSet",se),[G,T(G,pe)]}s(fe,"redo"),e.exports={init:C,applyChanges:E,applyLocalChange:S,getPatch:q,getChanges:A,getChangesForActor:z,getMissingChanges:F,getMissingDeps:re,merge:oe}},"./backend/op_set.js":function(e,t,n){"use strict";var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},i=function(){function N(R,U){var $=[],W=!0,ne=!1,P=void 0;try{for(var K=R[Symbol.iterator](),X;!(W=(X=K.next()).done)&&($.push(X.value),!(U&&$.length===U));W=!0);}catch(de){ne=!0,P=de}finally{try{!W&&K.return&&K.return()}finally{if(ne)throw P}}return $}return s(N,"sliceIterator"),function(R,U){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return N(R,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n("./node_modules/immutable/dist/immutable.js"),c=a.Map,p=a.List,f=a.Set,d=n("./backend/skip_list.js"),g=d.SkipList,y=n("./src/common.js"),v=y.ROOT_ID,_=y.parseElemId;function x(N,R,U){var $=[R.get("actor"),R.get("seq")],W=$[0],ne=$[1],P=[U.get("actor"),U.get("seq")],K=P[0],X=P[1];if(!W||!K||!ne||!X)return!1;var de=N.getIn(["states",W,ne-1,"allDeps"]),ge=N.getIn(["states",K,X-1,"allDeps"]);return de.get(K,0)<X&&ge.get(W,0)<ne}s(x,"isConcurrent");function O(N,R){var U=R.get("actor"),$=R.get("seq"),W=!0;return R.get("deps").set(U,$-1).forEach(function(ne,P){N.getIn(["clock",P],0)<ne&&(W=!1)}),W}s(O,"causallyReady");function C(N,R){return R.reduce(function(U,$,W){if($<=0)return U;var ne=N.getIn(["states",W,$-1,"allDeps"]);return U.mergeWith(function(P,K){return Math.max(P,K)},ne).set(W,$)},c())}s(C,"transitiveDeps");function T(N,R){for(var U=[];R!==v;){var $=N.getIn(["byObject",R,"_inbound"],f()).first();if(!$)return null;R=$.get("obj");var W=N.getIn(["byObject",R,"_init","action"]);if(W==="makeList"||W==="makeText"){var ne=N.getIn(["byObject",R,"_elemIds"]).indexOf($.get("key"));if(ne<0)return null;U.unshift(ne)}else U.unshift($.get("key"))}return U}s(T,"getPath");function b(N,R){var U=R.get("obj");if(N.hasIn(["byObject",U,"_keys"]))throw new Error("Duplicate creation of object "+U);var $={action:"create",obj:U},W=c({_init:R,_inbound:f(),_keys:c()});return R.get("action")==="makeMap"?$.type="map":R.get("action")==="makeTable"?$.type="table":($.type=R.get("action")==="makeText"?"text":"list",W=W.set("_elemIds",new g)),N=N.setIn(["byObject",U],W),[N,[$]]}s(b,"applyMake");function E(N,R){var U=R.get("obj"),$=R.get("elem"),W=R.get("actor")+":"+$,ne=Math.max($,N.getIn(["byObject",U,"_maxElem"],0)),P=N.getIn(["byObject",U,"_init","action"])==="makeText"?"text":"list";if(!N.get("byObject").has(U))throw new Error("Modification of unknown object "+U);if(N.hasIn(["byObject",U,"_insertion",W]))throw new Error("Duplicate list element ID "+W);return N=N.updateIn(["byObject",U,"_following",R.get("key")],p(),function(K){return K.push(R)}).setIn(["byObject",U,"_maxElem"],ne).setIn(["byObject",U,"_insertion",W],R),[N,[{obj:U,type:P,action:"maxElem",value:ne,path:T(N,U)}]]}s(E,"applyInsert");function S(N){var R=[],U=!0,$=!1,W=void 0;try{for(var ne=N.shift()[Symbol.iterator](),P;!(U=(P=ne.next()).done);U=!0){var K=P.value,X={actor:K.get("actor"),value:K.get("value")};K.get("action")==="link"&&(X.link=!0),K.get("datatype")&&(X.datatype=K.get("datatype")),R.push(X)}}catch(de){$=!0,W=de}finally{try{!U&&ne.return&&ne.return()}finally{if($)throw W}}return R}s(S,"getConflicts");function q(N,R,U,$,W,ne){var P=N.getIn(["byObject",R,"_init","action"])==="makeText"?"text":"list",K=ne?ne.first():null,X=N.getIn(["byObject",R,"_elemIds"]),de=K?K.get("value"):null,ge={action:W,type:P,obj:R,index:U,path:T(N,R)};if(K&&K.get("action")==="link"&&(ge.link=!0,de={obj:K.get("value")}),W==="insert")X=X.insertIndex(U,K.get("key"),de),ge.elemId=$,ge.value=K.get("value"),K.get("datatype")&&(ge.datatype=K.get("datatype"));else if(W==="set")X=X.setValue(K.get("key"),de),ge.value=K.get("value"),K.get("datatype")&&(ge.datatype=K.get("datatype"));else if(W==="remove")X=X.removeIndex(U);else throw new Error("Unknown action type: "+W);return ne&&ne.size>1&&(ge.conflicts=S(ne)),N=N.setIn(["byObject",R,"_elemIds"],X),[N,[ge]]}s(q,"patchList");function A(N,R,U){var $=te(N,R,U),W=N.getIn(["byObject",R,"_elemIds"]),ne=W.indexOf(U);if(ne>=0)return $.isEmpty()?q(N,R,ne,U,"remove",null):q(N,R,ne,U,"set",$);if($.isEmpty())return[N,[]];for(var P=U;ne=-1,P=se(N,R,P),!(!P||(ne=W.indexOf(P),ne>=0)););return q(N,R,ne+1,U,"insert",$)}s(A,"updateListElement");function z(N,R,U,$){var W=te(N,R,$),ne=W.first(),P={action:"",type:U,obj:R,key:$,path:T(N,R)};return W.isEmpty()?P.action="remove":(P.action="set",P.value=ne.get("value"),ne.get("action")==="link"&&(P.link=!0),ne.get("datatype")&&(P.datatype=ne.get("datatype")),W.size>1&&(P.conflicts=S(W))),[N,[P]]}s(z,"updateMapKey");function F(N,R,U){var $=R.get("obj"),W=N.getIn(["byObject",$,"_init","action"]);if(!N.get("byObject").has($))throw new Error("Modification of unknown object "+$);if(N.has("undoLocal")&&U){var ne=void 0;R.get("action")==="inc"?ne=p.of(c({action:"inc",obj:$,key:R.get("key"),value:-R.get("value")})):ne=N.getIn(["byObject",$,"_keys",R.get("key")],p()).map(function(Oe){return Oe.filter(function(Be,it){return["action","obj","key","value","datatype"].includes(it)})}),ne.isEmpty()&&(ne=p.of(c({action:"del",obj:$,key:R.get("key")}))),N=N.update("undoLocal",function(Oe){return Oe.concat(ne)})}var P=N.getIn(["byObject",$,"_keys",R.get("key")],p()),K=void 0,X=void 0;if(R.get("action")==="inc")K=p(),X=P.map(function(Oe){return Oe.get("action")==="set"&&typeof Oe.get("value")=="number"&&Oe.get("datatype")==="counter"&&!x(N,Oe,R)?Oe.set("value",Oe.get("value")+R.get("value")):Oe});else{var de=P.groupBy(function(Oe){return!!x(N,Oe,R)});K=de.get(!1,p()),X=de.get(!0,p())}var ge=s(function(Be){N=N.updateIn(["byObject",Be.get("value"),"_inbound"],function(it){return it.remove(Be)})},"_loop"),ye=!0,Ee=!1,Te=void 0;try{for(var Ae=K.filter(function(Oe){return Oe.get("action")==="link"})[Symbol.iterator](),Ne;!(ye=(Ne=Ae.next()).done);ye=!0){var De=Ne.value;ge(De)}}catch(Oe){Ee=!0,Te=Oe}finally{try{!ye&&Ae.return&&Ae.return()}finally{if(Ee)throw Te}}if(R.get("action")==="link"&&(N=N.updateIn(["byObject",R.get("value"),"_inbound"],f(),function(Oe){return Oe.add(R)})),["set","link"].includes(R.get("action"))&&(X=X.push(R)),X=X.sortBy(function(Oe){return Oe.get("actor")}).reverse(),N=N.setIn(["byObject",$,"_keys",R.get("key")],X),$===v||W==="makeMap")return z(N,$,"map",R.get("key"));if(W==="makeTable")return z(N,$,"table",R.get("key"));if(W==="makeList"||W==="makeText")return A(N,$,R.get("key"));throw new RangeError("Unknown operation type "+W)}s(F,"applyAssign");function re(N){for(var R={},U=[],$=N.length-1;$>=0;$--){var W=N[$],ne=W.obj,P=W.action;if(P==="maxElem")(R[ne]===void 0||R[ne]<W.value)&&(R[ne]=W.value,U.push(W));else if(P==="insert"){var K=_(W.elemId).counter;(R[ne]===void 0||R[ne]<K)&&(R[ne]=K),U.push(W)}else U.push(W)}return U.reverse()}s(re,"simplifyDiffs");function oe(N,R){var U=[],$=f(),W=!0,ne=!1,P=void 0;try{for(var K=R[Symbol.iterator](),X;!(W=(X=K.next()).done);W=!0){var de=X.value,ge=void 0,ye=de.get("action");if(["makeMap","makeList","makeText","makeTable"].includes(ye)){$=$.add(de.get("obj"));var Ee=b(N,de),Te=i(Ee,2);N=Te[0],ge=Te[1]}else if(ye==="ins"){var Ae=E(N,de),Ne=i(Ae,2);N=Ne[0],ge=Ne[1]}else if(["set","del","link","inc"].includes(ye)){var De=F(N,de,!$.contains(de.get("obj"))),Oe=i(De,2);N=Oe[0],ge=Oe[1]}else throw new RangeError("Unknown operation type "+ye);var Be=!0,it=!1,Ye=void 0;try{for(var lt=ge[Symbol.iterator](),Jt;!(Be=(Jt=lt.next()).done);Be=!0){var Pe=Jt.value;U.push(Pe)}}catch(hn){it=!0,Ye=hn}finally{try{!Be&&lt.return&&lt.return()}finally{if(it)throw Ye}}}}catch(hn){ne=!0,P=hn}finally{try{!W&&K.return&&K.return()}finally{if(ne)throw P}}return[N,re(U)]}s(oe,"applyOps");function le(N,R){var U=R.get("actor"),$=R.get("seq"),W=N.getIn(["states",U],p());if($<=W.size){if(!W.get($-1).get("change").equals(R))throw new Error("Inconsistent reuse of sequence number "+$+" by "+U);return[N,[]]}var ne=C(N,R.get("deps").set(U,$-1));N=N.setIn(["states",U],W.push(c({change:R,allDeps:ne})));var P=void 0,K=R.get("ops").map(function(ye){return ye.merge({actor:U,seq:$})}),X=oe(N,K),de=i(X,2);N=de[0],P=de[1];var ge=N.get("deps").filter(function(ye,Ee){return ye>ne.get(Ee,0)}).set(U,$);return N=N.set("deps",ge).setIn(["clock",U],$).update("history",function(ye){return ye.push(R)}),[N,P]}s(le,"applyChange");function fe(N){for(var R=p(),U=void 0,$=[];;){var W=!0,ne=!1,P=void 0;try{for(var K=N.get("queue")[Symbol.iterator](),X;!(W=(X=K.next()).done);W=!0){var de=X.value;if(O(N,de)){var ge=le(N,de),ye=i(ge,2);N=ye[0],U=ye[1];var Ee=!0,Te=!1,Ae=void 0;try{for(var Ne=U[Symbol.iterator](),De;!(Ee=(De=Ne.next()).done);Ee=!0){var Oe=De.value;$.push(Oe)}}catch(Be){Te=!0,Ae=Be}finally{try{!Ee&&Ne.return&&Ne.return()}finally{if(Te)throw Ae}}}else R=R.push(de)}}catch(Be){ne=!0,P=Be}finally{try{!W&&K.return&&K.return()}finally{if(ne)throw P}}if(R.count()===N.get("queue").count())return[N,$];N=N.set("queue",R),R=p()}}s(fe,"applyQueuedOps");function G(N){var R=N.get("undoPos");return N.update("undoStack",function(U){return U.slice(0,R).push(N.get("undoLocal"))}).set("undoPos",R+1).set("redoStack",p()).remove("undoLocal")}s(G,"pushUndoHistory");function j(){return c().set("states",c()).set("history",p()).set("byObject",c().set(v,c().set("_keys",c()))).set("clock",c()).set("deps",c()).set("undoPos",0).set("undoStack",p()).set("redoStack",p()).set("queue",p())}s(j,"init");function M(N,R,U){if(N=N.update("queue",function(P){return P.push(R)}),U){N=N.set("undoLocal",p());var $=void 0,W=fe(N),ne=i(W,2);return N=ne[0],$=ne[1],N=G(N),[N,$]}else return fe(N)}s(M,"addChange");function B(N,R){var U=C(N,R);return N.get("states").map(function($,W){return $.skip(U.get(W,0))}).valueSeq().flatten(1).map(function($){return $.get("change")})}s(B,"getMissingChanges");function H(N,R,U){return U=U||0,N.get("states").filter(function($,W){return W===R}).map(function($,W){return $.skip(U)}).valueSeq().flatten(1).map(function($){return $.get("change")})}s(H,"getChangesForActor");function J(N){var R={},U=!0,$=!1,W=void 0;try{for(var ne=N.get("queue")[Symbol.iterator](),P;!(U=(P=ne.next()).done);U=!0){var K=P.value,X=K.get("deps").set(K.get("actor"),K.get("seq")-1);X.forEach(function(de,ge){N.getIn(["clock",ge],0)<de&&(R[ge]=Math.max(de,R[ge]||0))})}}catch(de){$=!0,W=de}finally{try{!U&&ne.return&&ne.return()}finally{if($)throw W}}return R}s(J,"getMissingDeps");function te(N,R,U){return N.getIn(["byObject",R,"_keys",U],p())}s(te,"getFieldOps");function ae(N,R,U){if(U!=="_head"){var $=N.getIn(["byObject",R,"_insertion",U]);if(!$)throw new TypeError("Missing index entry for list element "+U);return $.get("key")}}s(ae,"getParent");function ue(N,R){return N.get("elem")<R.get("elem")?-1:N.get("elem")>R.get("elem")?1:N.get("actor")<R.get("actor")?-1:N.get("actor")>R.get("actor")?1:0}s(ue,"lamportCompare");function I(N,R,U,$){var W=null;if($){var ne=_($);W=c({actor:ne.actorId,elem:ne.counter})}return N.getIn(["byObject",R,"_following",U],p()).filter(function(P){return P.get("action")==="ins"}).filter(function(P){return!W||ue(P,W)<0}).sort(ue).reverse().map(function(P){return P.get("actor")+":"+P.get("elem")})}s(I,"insertionsAfter");function ie(N,R,U){var $=I(N,R,U);if(!$.isEmpty())return $.first();for(var W=void 0;;){if(W=ae(N,R,U),!W)return;var ne=I(N,R,W,U);if(!ne.isEmpty())return ne.first();U=W}}s(ie,"getNext");function se(N,R,U){var $=ae(N,R,U),W=I(N,R,$);if(W.first()===U)return $==="_head"?null:$;var ne=void 0,P=!0,K=!1,X=void 0;try{for(var de=W[Symbol.iterator](),ge;!(P=(ge=de.next()).done);P=!0){var ye=ge.value;if(ye===U)break;ne=ye}}catch(Ee){K=!0,X=Ee}finally{try{!P&&de.return&&de.return()}finally{if(K)throw X}}for(;;){if(W=I(N,R,ne),W.isEmpty())return ne;ne=W.last()}}s(se,"getPrevious");function pe(N,R,U){if((typeof R=="undefined"?"undefined":r(R))!=="object"||R===null)return R;if(R.get("action")==="link")return U.instantiateObject(N,R.get("value"));if(R.get("action")==="set"){var $={value:R.get("value")};return R.get("datatype")&&($.datatype=R.get("datatype")),$}else throw new TypeError("Unexpected operation action: "+R.get("action"))}s(pe,"getOpValue");function Z(N,R,U){return!te(N,R,U).isEmpty()}s(Z,"isFieldPresent");function ee(N,R){return N.getIn(["byObject",R,"_keys"]).keySeq().filter(function(U){return Z(N,R,U)}).toSet()}s(ee,"getObjectFields");function me(N,R,U,$){var W=te(N,R,U);if(!W.isEmpty())return pe(N,W.first(),$)}s(me,"getObjectField");function be(N,R,U){return N.getIn(["byObject",R,"_keys"]).filter(function($,W){return te(N,R,W).size>1}).mapEntries(function($){var W=i($,2),ne=W[0],P=W[1];return[ne,P.shift().toMap().mapEntries(function(K){var X=i(K,2),de=X[0],ge=X[1];return[ge.get("actor"),pe(N,ge,U)]})]})}s(be,"getObjectConflicts");function xe(N,R,U,$){var W=N.getIn(["byObject",R,"_elemIds"]).keyOf(U);if(W){var ne=te(N,R,W);if(!ne.isEmpty())return pe(N,ne.first(),$)}}s(xe,"listElemByIndex");function we(N,R){return N.getIn(["byObject",R,"_elemIds"]).length}s(we,"listLength");function _e(N,R,U){var $="_head",W=-1,ne=s(function(){for(;$;){if($=ie(N,R,$),!$)return{done:!0};var X={elemId:$},de=te(N,R,$);return de.isEmpty()||(W+=1,X.index=W,X.value=pe(N,de.first(),U),X.conflicts=null,de.size>1&&(X.conflicts=de.shift().toMap().mapEntries(function(ge){var ye=i(ge,2),Ee=ye[0],Te=ye[1];return[Te.get("actor"),pe(N,Te,U)]}))),{done:!1,value:X}}},"next"),P={next:ne};return P[Symbol.iterator]=function(){return P},P}s(_e,"listIterator"),e.exports={init:j,addChange:M,getMissingChanges:B,getChangesForActor:H,getMissingDeps:J,getObjectFields:ee,getObjectField:me,getObjectConflicts:be,getFieldOps:te,listElemByIndex:xe,listLength:we,listIterator:_e,ROOT_ID:v}},"./backend/skip_list.js":function(e,t,n){"use strict";var r=function(){function v(_,x){for(var O=0;O<x.length;O++){var C=x[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return s(v,"defineProperties"),function(_,x,O){return x&&v(_.prototype,x),O&&v(_,O),_}}();function i(v,_,x){return _ in v?Object.defineProperty(v,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):v[_]=x,v}s(i,"_defineProperty");function a(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}s(a,"_classCallCheck");var c=n("./node_modules/immutable/dist/immutable.js"),p=c.Map;function f(){return{next:s(function(){for(var _=Math.floor(Math.random()*4294967296),x=1;_<1<<32-2*x&&x<16;)x+=1;return{value:x,done:!1}},"next")}}s(f,"randomLevel");var d=function(){function v(_,x,O,C,T,b,E){a(this,v),this.key=_,this.value=x,this.level=O,this.prevKey=C,this.nextKey=T,this.prevCount=b,this.nextCount=E}return s(v,"Node"),r(v,[{key:"setValue",value:s(function(x){return new v(this.key,x,this.level,this.prevKey,this.nextKey,this.prevCount,this.nextCount)},"setValue")},{key:"insertAfter",value:s(function(x,O,C,T){if(O>this.level&&this.key!==null)throw new RangeError("Cannot increase the level of a non-head node");for(var b=Math.max(this.level,O),E=this.nextKey.slice(),S=this.nextCount.slice(),q=C;q<b;q++)q<O?(E[q]=x,S[q]=T):S[q]+=1;return new v(this.key,this.value,b,this.prevKey,E,this.prevCount,S)},"insertAfter")},{key:"insertBefore",value:s(function(x,O,C,T){if(O>this.level)throw new RangeError("Cannot increase node level");for(var b=this.prevKey.slice(),E=this.prevCount.slice(),S=C;S<this.level;S++)S<O?(b[S]=x,E[S]=T):E[S]+=1;return new v(this.key,this.value,this.level,b,this.nextKey,E,this.nextCount)},"insertBefore")},{key:"removeAfter",value:s(function(x,O,C,T){for(var b=this.nextKey.slice(),E=this.nextCount.slice(),S=x;S<this.level;S++)S<O?(b[S]=C[S],E[S]=T[S]):E[S]-=1;return new v(this.key,this.value,this.level,this.prevKey,b,this.prevCount,E)},"removeAfter")},{key:"removeBefore",value:s(function(x,O,C,T){for(var b=this.prevKey.slice(),E=this.prevCount.slice(),S=x;S<this.level;S++)S<O?(b[S]=C[S],E[S]=T[S]):E[S]-=1;return new v(this.key,this.value,this.level,b,this.nextKey,E,this.nextCount)},"removeBefore")}]),v}(),g=function(){function v(_){a(this,v);var x=new d(null,null,1,[],[null],[],[null]),O=_?_():f();return y(0,p().set(null,x),O)}return s(v,"SkipList"),r(v,[{key:"predecessors",value:s(function(x,O){for(var C=[x],T=[1],b=1;b<O;b++){for(var E=C[b-1],S=T[b-1];E;){var q=this._nodes.get(E);if(q.level>b)break;if(q.level<b)throw new RangeError("Node "+E+" below expected level "+(b-1));S+=q.prevCount[b-1],E=q.prevKey[b-1]}C[b]=E,T[b]=S}return{preKeys:C,preCounts:T}},"predecessors")},{key:"successors",value:s(function(x,O){for(var C=[x],T=[1],b=1;b<O;b++){for(var E=C[b-1],S=T[b-1];E;){var q=this._nodes.get(E);if(q.level>b)break;if(q.level<b)throw new RangeError("Node "+E+" below expected level "+(b-1));S+=q.nextCount[b-1],E=q.nextKey[b-1]}C[b]=E,T[b]=S}return{sucKeys:C,sucCounts:T}},"successors")},{key:"insertAfter",value:s(function(x,O,C){if(typeof O!="string"||O==="")throw new RangeError("Key must be a nonempty string");if(!this._nodes.has(x))throw new RangeError("The referenced predecessor key does not exist");if(this._nodes.has(O))throw new RangeError("Cannot insert a key that already exists");var T=this._randomSource.next().value,b=Math.max(T,this.headNode.level),E=this._nodes.get(x).nextKey[0]||null,S=this.predecessors(x,b),q=S.preKeys,A=S.preCounts,z=this.successors(E,b),F=z.sucKeys,re=z.sucCounts;return y(this.length+1,this._nodes.withMutations(function(oe){for(var le=0,fe=0,G=s(function(B){var H=Math.min(B,T);(B===b||q[B]!==q[le])&&(oe.update(q[le],function(J){return J.insertAfter(O,H,le,A[le])}),le=B),F[fe]&&(B===b||F[B]!==F[fe])&&(oe.update(F[fe],function(J){return J.insertBefore(O,H,fe,re[fe])}),fe=B)},"_loop"),j=1;j<=b;j++)G(j);oe.set(O,new d(O,C,T,q.slice(0,T),F.slice(0,T),A.slice(0,T),re.slice(0,T)))}),this._randomSource)},"insertAfter")},{key:"insertIndex",value:s(function(x,O,C){if(typeof x!="number"||x<0)throw new RangeError("Index must be a non-negative integer");return x===0?this.insertAfter(null,O,C):this.insertAfter(this.keyOf(x-1),O,C)},"insertIndex")},{key:"removeKey",value:s(function(x){if(typeof x!="string"||!this._nodes.has(x))throw new RangeError("The given key cannot be removed because it does not exist");for(var O=this._nodes.get(x),C=this.headNode.level,T=this.predecessors(O.prevKey[0],C),b=T.preKeys,E=T.preCounts,S=this.successors(O.nextKey[0],C),q=S.sucKeys,A=S.sucCounts,z=new Array(C),F=0;F<C;F++)z[F]=E[F]+A[F]-1;return y(this.length-1,this._nodes.withMutations(function(re){re.remove(x);for(var oe=0,le=0,fe=s(function(M){var B=Math.min(M,O.level);(M===C||b[M]!==b[oe])&&(re.update(b[oe],function(H){return H.removeAfter(oe,B,q,z)}),oe=M),q[le]&&(M===C||q[M]!==q[le])&&(re.update(q[le],function(H){return H.removeBefore(le,B,b,z)}),le=M)},"_loop2"),G=1;G<=C;G++)fe(G)}),this._randomSource)},"removeKey")},{key:"removeIndex",value:s(function(x){return this.removeKey(this.keyOf(x))},"removeIndex")},{key:"indexOf",value:s(function(x){if(typeof x!="string"||x===""||!this._nodes.has(x))return-1;for(var O=this._nodes.get(x),C=0;O&&O.key;)C+=O.prevCount[O.level-1],O=this._nodes.get(O.prevKey[O.level-1]);return C-1},"indexOf")},{key:"keyOf",value:s(function(x){if(typeof x!="number"||(x<0&&(x=x+this.length),x<0||x>=this.length))return null;for(var O=this._nodes.get(null),C=O.level-1,T=0;;){if(T===x+1)return O.key;T+O.nextCount[C]>x+1?C-=1:(T+=O.nextCount[C],O=this._nodes.get(O.nextKey[C]))}},"keyOf")},{key:"getValue",value:s(function(x){if(typeof x!="string"||x==="")throw new RangeError("Key must be a nonempty string");var O=this._nodes.get(x);return O&&O.value},"getValue")},{key:"setValue",value:s(function(x,O){if(typeof x!="string"||x==="")throw new RangeError("Key must be a nonempty string");var C=this._nodes.get(x);if(!C)throw new RangeError("The referenced key does not exist");return C=C.setValue(O),y(this.length,this._nodes.set(x,C),this._randomSource)},"setValue")},{key:"iterator",value:s(function(x){var O=this,C=this._nodes,T=C.get(null).nextKey[0];return i({next:s(function(){if(!T)return{value:void 0,done:!0};var E=C.get(T),S=void 0;switch(x){case"keys":S={value:T,done:!1};break;case"values":S={value:E.value,done:!1};break;case"entries":S={value:[T,E.value],done:!1};break}return T=E.nextKey[0],S},"next")},Symbol.iterator,function(){return O.iterator(x)})},"iterator")},{key:Symbol.iterator,value:s(function(){return this.iterator("values")},"value")},{key:"headNode",get:s(function(){return this._nodes.get(null)},"get")}]),v}();function y(v,_,x){var O=Object.create(g.prototype);return O.length=v,O._nodes=_,O._randomSource=x,O}s(y,"makeInstance"),e.exports={SkipList:g}},"./frontend/apply_patch.js":function(e,t,n){"use strict";function r(I){if(Array.isArray(I)){for(var ie=0,se=Array(I.length);ie<I.length;ie++)se[ie]=I[ie];return se}else return Array.from(I)}s(r,"_toConsumableArray");var i=n("./src/common.js"),a=i.ROOT_ID,c=i.isObject,p=i.copyObject,f=i.parseElemId,d=n("./frontend/constants.js"),g=d.OPTIONS,y=d.OBJECT_ID,v=d.CONFLICTS,_=d.ELEM_IDS,x=d.MAX_ELEM,O=n("./frontend/text.js"),C=O.Text,T=O.instantiateText,b=n("./frontend/table.js"),E=b.Table,S=b.instantiateTable,q=n("./frontend/counter.js"),A=q.Counter;function z(I,ie,se){if(I.link)return se[I.value]||ie[I.value];if(I.datatype==="timestamp")return new Date(I.value);if(I.datatype==="counter")return new A(I.value);if(I.datatype!==void 0)throw new TypeError("Unknown datatype: "+I.datatype);return I.value}s(z,"getValue");function F(I,ie){var se={},pe=I[v][ie]||{},Z=[I[ie]].concat(Object.values(pe)),ee=!0,me=!1,be=void 0;try{for(var xe=Z[Symbol.iterator](),we;!(ee=(we=xe.next()).done);ee=!0){var _e=we.value;c(_e)&&_e[y]&&(se[_e[y]]=!0)}}catch(N){me=!0,be=N}finally{try{!ee&&xe.return&&xe.return()}finally{if(me)throw be}}return se}s(F,"childReferences");function re(I,ie,se,pe){var Z=!0,ee=!1,me=void 0;try{for(var be=Object.keys(ie)[Symbol.iterator](),xe;!(Z=(xe=be.next()).done);Z=!0){var we=xe.value;se[we]||delete pe[we]}}catch(ne){ee=!0,me=ne}finally{try{!Z&&be.return&&be.return()}finally{if(ee)throw me}}var _e=!0,N=!1,R=void 0;try{for(var U=Object.keys(se)[Symbol.iterator](),$;!(_e=($=U.next()).done);_e=!0){var W=$.value;if(pe[W]&&pe[W]!==I)throw new RangeError("Object "+W+" has multiple parents");pe[W]||(pe[W]=I)}}catch(ne){N=!0,R=ne}finally{try{!_e&&U.return&&U.return()}finally{if(N)throw R}}}s(re,"updateInbound");function oe(I,ie){if(I&&I[y]!==ie)throw new RangeError("cloneMapObject ID mismatch: "+I[y]+" !== "+ie);var se=p(I),pe=p(I?I[v]:void 0);return Object.defineProperty(se,v,{value:pe}),Object.defineProperty(se,y,{value:ie}),se}s(oe,"cloneMapObject");function le(I,ie,se,pe){se[I.obj]||(se[I.obj]=oe(ie[I.obj],I.obj));var Z=se[I.obj],ee=Z[v],me={},be={};if(I.action!=="create")if(I.action==="set"){if(me=F(Z,I.key),Z[I.key]=z(I,ie,se),I.conflicts){ee[I.key]={};var xe=!0,we=!1,_e=void 0;try{for(var N=I.conflicts[Symbol.iterator](),R;!(xe=(R=N.next()).done);xe=!0){var U=R.value;ee[I.key][U.actor]=z(U,ie,se)}}catch($){we=!0,_e=$}finally{try{!xe&&N.return&&N.return()}finally{if(we)throw _e}}Object.freeze(ee[I.key])}else delete ee[I.key];be=F(Z,I.key)}else if(I.action==="remove")me=F(Z,I.key),delete Z[I.key],delete ee[I.key];else throw new RangeError("Unknown action type: "+I.action);re(I.obj,me,be,pe)}s(le,"updateMapObject");function fe(I,ie,se){se[I]||(se[I]=oe(ie[I],I));var pe=se[I],Z=!0,ee=!1,me=void 0;try{for(var be=Object.keys(pe)[Symbol.iterator](),xe;!(Z=(xe=be.next()).done);Z=!0){var we=xe.value,_e=pe[we];c(_e)&&se[_e[y]]&&(pe[we]=se[_e[y]]);var N=pe[v][we]||{},R=null,U=!0,$=!1,W=void 0;try{for(var ne=Object.keys(N)[Symbol.iterator](),P;!(U=(P=ne.next()).done);U=!0){var K=P.value;_e=N[K],c(_e)&&se[_e[y]]&&(R||(R=p(N),pe[v][we]=R),R[K]=se[_e[y]])}}catch(X){$=!0,W=X}finally{try{!U&&ne.return&&ne.return()}finally{if($)throw W}}R&&ie[a][g].freeze&&Object.freeze(R)}}catch(X){ee=!0,me=X}finally{try{!Z&&be.return&&be.return()}finally{if(ee)throw me}}}s(fe,"parentMapObject");function G(I,ie,se,pe){se[I.obj]||(se[I.obj]=ie[I.obj]?ie[I.obj]._clone():S(I.obj));var Z=se[I.obj],ee={},me={};if(I.action!=="create")if(I.action==="set"){var be=Z.byId(I.key);c(be)&&(ee[be[y]]=!0),I.link?(Z._set(I.key,se[I.value]||ie[I.value]),me[I.value]=!0):Z._set(I.key,I.value)}else if(I.action==="remove"){var xe=Z.byId(I.key);c(xe)&&(ee[xe[y]]=!0),Z.remove(I.key)}else throw new RangeError("Unknown action type: "+I.action);re(I.obj,ee,me,pe)}s(G,"updateTableObject");function j(I,ie,se){se[I]||(se[I]=ie[I]._clone());var pe=se[I],Z=!0,ee=!1,me=void 0;try{for(var be=Object.keys(pe.entries)[Symbol.iterator](),xe;!(Z=(xe=be.next()).done);Z=!0){var we=xe.value,_e=pe.byId(we);c(_e)&&se[_e[y]]&&pe._set(we,se[_e[y]])}}catch(N){ee=!0,me=N}finally{try{!Z&&be.return&&be.return()}finally{if(ee)throw me}}}s(j,"parentTableObject");function M(I,ie){if(I&&I[y]!==ie)throw new RangeError("cloneListObject ID mismatch: "+I[y]+" !== "+ie);var se=I?I.slice():[],pe=I&&I[v]?I[v].slice():[],Z=I&&I[_]?I[_].slice():[],ee=I&&I[x]?I[x]:0;return Object.defineProperty(se,y,{value:ie}),Object.defineProperty(se,v,{value:pe}),Object.defineProperty(se,_,{value:Z}),Object.defineProperty(se,x,{value:ee,writable:!0}),se}s(M,"cloneListObject");function B(I,ie,se,pe){se[I.obj]||(se[I.obj]=M(ie[I.obj],I.obj));var Z=se[I.obj],ee=Z[v],me=Z[_],be=null,xe=null;if(["insert","set"].includes(I.action)&&(be=z(I,ie,se),I.conflicts)){xe={};var we=!0,_e=!1,N=void 0;try{for(var R=I.conflicts[Symbol.iterator](),U;!(we=(U=R.next()).done);we=!0){var $=U.value;xe[$.actor]=z($,ie,se)}}catch(P){_e=!0,N=P}finally{try{!we&&R.return&&R.return()}finally{if(_e)throw N}}Object.freeze(xe)}var W={},ne={};if(I.action!=="create")if(I.action==="insert")Z[x]=Math.max(Z[x],f(I.elemId).counter),Z.splice(I.index,0,be),ee.splice(I.index,0,xe),me.splice(I.index,0,I.elemId),ne=F(Z,I.index);else if(I.action==="set")W=F(Z,I.index),Z[I.index]=be,ee[I.index]=xe,ne=F(Z,I.index);else if(I.action==="remove")W=F(Z,I.index),Z.splice(I.index,1),ee.splice(I.index,1),me.splice(I.index,1);else if(I.action==="maxElem")Z[x]=Math.max(Z[x],I.value);else throw new RangeError("Unknown action type: "+I.action);re(I.obj,W,ne,pe)}s(B,"updateListObject");function H(I,ie,se){se[I]||(se[I]=M(ie[I],I));for(var pe=se[I],Z=0;Z<pe.length;Z++){var ee=pe[Z];c(ee)&&se[ee[y]]&&(pe[Z]=se[ee[y]]);var me=pe[v][Z]||{},be=null,xe=!0,we=!1,_e=void 0;try{for(var N=Object.keys(me)[Symbol.iterator](),R;!(xe=(R=N.next()).done);xe=!0){var U=R.value;ee=me[U],c(ee)&&se[ee[y]]&&(be||(be=p(me),pe[v][Z]=be),be[U]=se[ee[y]])}}catch($){we=!0,_e=$}finally{try{!xe&&N.return&&N.return()}finally{if(we)throw _e}}be&&ie[a][g].freeze&&Object.freeze(be)}}s(H,"parentListObject");function J(I,ie,se,pe,Z){var ee=I[ie].obj;if(!Z[ee])if(pe[ee]){var me=pe[ee].elems.slice(),be=pe[ee][x];Z[ee]=T(ee,me,be)}else Z[ee]=T(ee,[],0);for(var xe=Z[ee].elems,we=Z[ee][x],_e=-1,N=void 0,R=void 0;ie<=se;){var U=I[ie];if(U.action!=="create")if(U.action==="insert"){_e<0&&(_e=U.index,N=0,R=[]),we=Math.max(we,f(U.elemId).counter);var $=z(U,pe,Z);R.push({elemId:U.elemId,value:$,conflicts:U.conflicts}),(ie===se||I[ie+1].action!=="insert"||I[ie+1].index!==U.index+1)&&(xe.splice.apply(xe,[_e,N].concat(r(R))),_e=-1)}else if(U.action==="set")xe[U.index]={elemId:xe[U.index].elemId,value:z(U,pe,Z),conflicts:U.conflicts};else if(U.action==="remove")_e<0&&(_e=U.index,N=0,R=[]),N+=1,(ie===se||!["insert","remove"].includes(I[ie+1].action)||I[ie+1].index!==U.index)&&(xe.splice(_e,N),_e=-1);else if(U.action==="maxElem")we=Math.max(we,U.value);else throw new RangeError("Unknown action type: "+U.action);ie+=1}Z[ee]=T(ee,xe,we)}s(J,"updateTextObject");function te(I,ie,se){for(var pe=ie;Object.keys(pe).length>0;){var Z={},ee=!0,me=!1,be=void 0;try{for(var xe=Object.keys(pe)[Symbol.iterator](),we;!(ee=(we=xe.next()).done);ee=!0){var _e=we.value,N=se[_e];N&&(Z[N]=!0)}}catch(K){me=!0,be=K}finally{try{!ee&&xe.return&&xe.return()}finally{if(me)throw be}}pe=Z;var R=!0,U=!1,$=void 0;try{for(var W=Object.keys(Z)[Symbol.iterator](),ne;!(R=(ne=W.next()).done);R=!0){var P=ne.value;Array.isArray(ie[P]||I[P])?H(P,I,ie):(ie[P]||I[P])instanceof E?j(P,I,ie):fe(P,I,ie)}}catch(K){U=!0,$=K}finally{try{!R&&W.return&&W.return()}finally{if(U)throw $}}}}s(te,"updateParentObjects");function ae(I,ie,se,pe){for(var Z=0,ee=0;ee<I.length;ee++){var me=I[ee];if(me.type==="map")le(me,ie,se,pe),Z=ee+1;else if(me.type==="table")G(me,ie,se,pe),Z=ee+1;else if(me.type==="list")B(me,ie,se,pe),Z=ee+1;else if(me.type==="text")(ee===I.length-1||I[ee+1].obj!==me.obj)&&(J(I,Z,ee,ie,se),Z=ee+1);else throw new TypeError("Unknown object type: "+me.type)}}s(ae,"applyDiffs");function ue(I){if(I[y]!==a)throw new RangeError("Not the root object: "+I[y]);return oe(I,a)}s(ue,"cloneRootObject"),e.exports={applyDiffs:ae,updateParentObjects:te,cloneRootObject:ue}},"./frontend/constants.js":function(e,t,n){"use strict";var r=Symbol("_options"),i=Symbol("_cache"),a=Symbol("_inbound"),c=Symbol("_state"),p=Symbol("_objectId"),f=Symbol("_conflicts"),d=Symbol("_change"),g=Symbol("_elemIds"),y=Symbol("_maxElem");e.exports={OPTIONS:r,CACHE:i,INBOUND:a,STATE:c,OBJECT_ID:p,CONFLICTS:f,CHANGE:d,ELEM_IDS:g,MAX_ELEM:y}},"./frontend/context.js":function(e,t,n){"use strict";var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},i=function(){function fe(G,j){for(var M=0;M<j.length;M++){var B=j[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(G,B.key,B)}}return s(fe,"defineProperties"),function(G,j,M){return j&&fe(G.prototype,j),M&&fe(G,M),G}}();function a(fe){if(Array.isArray(fe)){for(var G=0,j=Array(fe.length);G<fe.length;G++)j[G]=fe[G];return j}else return Array.from(fe)}s(a,"_toConsumableArray");function c(fe,G){if(!(fe instanceof G))throw new TypeError("Cannot call a class as a function")}s(c,"_classCallCheck");var p=n("./frontend/constants.js"),f=p.CACHE,d=p.INBOUND,g=p.OBJECT_ID,y=p.CONFLICTS,v=p.MAX_ELEM,_=n("./frontend/apply_patch.js"),x=_.applyDiffs,O=n("./frontend/text.js"),C=O.Text,T=O.getElemId,b=n("./frontend/table.js"),E=b.Table,S=n("./frontend/counter.js"),q=S.Counter,A=S.getWriteableCounter,z=n("./src/common.js"),F=z.isObject,re=z.copyObject,oe=n("./src/uuid.js"),le=function(){function fe(G,j){c(this,fe),this.actorId=j,this.cache=G[f],this.updated={},this.inbound=re(G[d]),this.ops=[],this.diffs=[]}return s(fe,"Context"),i(fe,[{key:"addOp",value:s(function(j){this.ops.push(j)},"addOp")},{key:"apply",value:s(function(j){this.diffs.push(j),x([j],this.cache,this.updated,this.inbound)},"apply")},{key:"getObject",value:s(function(j){var M=this.updated[j]||this.cache[j];if(!M)throw new RangeError("Target object does not exist: "+j);return M},"getObject")},{key:"getObjectField",value:s(function(j,M){if(!!["string","number"].includes(typeof M=="undefined"?"undefined":r(M))){var B=this.getObject(j);return B[M]instanceof q?A(B[M].value,this,j,M):F(B[M])?this.instantiateObject(B[M][g]):B[M]}},"getObjectField")},{key:"createNestedObjects",value:s(function(j){if(typeof j[g]=="string")throw new TypeError("Cannot assign an object that already belongs to an Automerge document. See https://github.com/automerge/automerge#making-fine-grained-changes");var M=oe();if(j instanceof C){this.apply({action:"create",type:"text",obj:M}),this.addOp({action:"makeText",obj:M}),j.length>0&&this.splice(M,0,0,[].concat(a(j)));var B=this.getObject(M);j[g]=M,j.elems=B.elems,j[v]=B.maxElem,j.context=this}else if(j instanceof E){if(j.count>0)throw new RangeError("Assigning a non-empty Table object is not supported");this.apply({action:"create",type:"table",obj:M}),this.addOp({action:"makeTable",obj:M})}else if(Array.isArray(j))this.apply({action:"create",type:"list",obj:M}),this.addOp({action:"makeList",obj:M}),this.splice(M,0,0,j);else{this.apply({action:"create",type:"map",obj:M}),this.addOp({action:"makeMap",obj:M});var H=!0,J=!1,te=void 0;try{for(var ae=Object.keys(j)[Symbol.iterator](),ue;!(H=(ue=ae.next()).done);H=!0){var I=ue.value;this.setMapKey(M,"map",I,j[I])}}catch(ie){J=!0,te=ie}finally{try{!H&&ae.return&&ae.return()}finally{if(J)throw te}}}return M},"createNestedObjects")},{key:"setValue",value:s(function(j,M,B){if(!["object","boolean","number","string"].includes(typeof B=="undefined"?"undefined":r(B)))throw new TypeError("Unsupported type of value: "+(typeof B=="undefined"?"undefined":r(B)));if(F(B))if(B instanceof Date){var H=B.getTime();return this.addOp({action:"set",obj:j,key:M,value:H,datatype:"timestamp"}),{value:H,datatype:"timestamp"}}else{if(B instanceof q)return this.addOp({action:"set",obj:j,key:M,value:B.value,datatype:"counter"}),{value:B.value,datatype:"counter"};var J=this.createNestedObjects(B);return this.addOp({action:"link",obj:j,key:M,value:J}),{value:J,link:!0}}else return this.addOp({action:"set",obj:j,key:M,value:B}),{value:B}},"setValue")},{key:"setMapKey",value:s(function(j,M,B,H){if(typeof B!="string")throw new RangeError("The key of a map entry must be a string, not "+(typeof B=="undefined"?"undefined":r(B)));if(B==="")throw new RangeError("The key of a map entry must not be an empty string");var J=this.getObject(j);if(J[B]instanceof q)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");if(J[B]!==H||J[y][B]||H===void 0){var te=this.setValue(j,B,H);this.apply(Object.assign({action:"set",type:M,obj:j,key:B},te))}},"setMapKey")},{key:"deleteMapKey",value:s(function(j,M){var B=this.getObject(j);B[M]!==void 0&&(this.apply({action:"remove",type:"map",obj:j,key:M}),this.addOp({action:"del",obj:j,key:M}))},"deleteMapKey")},{key:"insertListItem",value:s(function(j,M,B){var H=this.getObject(j);if(M<0||M>H.length)throw new RangeError("List index "+M+" is out of bounds for list of length "+H.length);var J=H[v]+1,te=H instanceof C?"text":"list",ae=M===0?"_head":T(H,M-1),ue=this.actorId+":"+J;this.addOp({action:"ins",obj:j,key:ae,elem:J});var I=this.setValue(j,ue,B);this.apply(Object.assign({action:"insert",type:te,obj:j,index:M,elemId:ue},I)),this.getObject(j)[v]=J},"insertListItem")},{key:"setListIndex",value:s(function(j,M,B){var H=this.getObject(j);if(M===H.length){this.insertListItem(j,M,B);return}if(M<0||M>H.length)throw new RangeError("List index "+M+" is out of bounds for list of length "+H.length);if(H[M]instanceof q)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");if(H[M]!==B||H[y][M]||B===void 0){var J=T(H,M),te=H instanceof C?"text":"list",ae=this.setValue(j,J,B);this.apply(Object.assign({action:"set",type:te,obj:j,index:M},ae))}},"setListIndex")},{key:"splice",value:s(function(j,M,B,H){var J=this.getObject(j),te=J instanceof C?"text":"list";if(B>0){if(M<0||M>J.length-B)throw new RangeError(B+" deletions starting at index "+M+" are out of bounds for list of length "+J.length);for(var ae=0;ae<B;ae++)this.addOp({action:"del",obj:j,key:T(J,M)}),this.apply({action:"remove",type:te,obj:j,index:M}),ae===0&&(J=this.getObject(j))}for(var ue=0;ue<H.length;ue++)this.insertListItem(j,M+ue,H[ue])},"splice")},{key:"addTableRow",value:s(function(j,M){if(!F(M)||Array.isArray(M))throw new TypeError("A table row must be an object");if(M[g])throw new TypeError("Cannot reuse an existing object as table row");if(M.id)throw new TypeError('A table row must not have an "id" property; it is generated automatically');var B=this.createNestedObjects(M);return this.apply({action:"set",type:"table",obj:j,key:B,value:B,link:!0}),this.addOp({action:"link",obj:j,key:B,value:B}),B},"addTableRow")},{key:"deleteTableRow",value:s(function(j,M){this.apply({action:"remove",type:"table",obj:j,key:M}),this.addOp({action:"del",obj:j,key:M})},"deleteTableRow")},{key:"increment",value:s(function(j,M,B){var H=this.getObject(j);if(!(H[M]instanceof q))throw new TypeError("Only counter values can be incremented");var J=H[M].value+B;if(Array.isArray(H)||H instanceof C){var te=T(H,M),ae=H instanceof C?"text":"list";this.addOp({action:"inc",obj:j,key:te,value:B}),this.apply({action:"set",obj:j,type:ae,index:M,value:J,datatype:"counter"})}else this.addOp({action:"inc",obj:j,key:M,value:B}),this.apply({action:"set",obj:j,type:"map",key:M,value:J,datatype:"counter"})},"increment")}]),fe}();e.exports={Context:le}},"./frontend/counter.js":function(e,t,n){"use strict";var r=function(){function g(y,v){for(var _=0;_<v.length;_++){var x=v[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return s(g,"defineProperties"),function(y,v,_){return v&&g(y.prototype,v),_&&g(y,_),y}}();function i(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}s(i,"_possibleConstructorReturn");function a(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}s(a,"_inherits");function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}s(c,"_classCallCheck");var p=function(){function g(y){c(this,g),this.value=y||0,Object.freeze(this)}return s(g,"Counter"),r(g,[{key:"valueOf",value:s(function(){return this.value},"valueOf")},{key:"toString",value:s(function(){return this.valueOf().toString()},"toString")},{key:"toJSON",value:s(function(){return this.value},"toJSON")}]),g}(),f=function(g){a(y,g);function y(){return c(this,y),i(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,"WriteableCounter"),r(y,[{key:"increment",value:s(function(_){return _=typeof _=="number"?_:1,this.context.increment(this.objectId,this.key,_),this.value+=_,this.value},"increment")},{key:"decrement",value:s(function(_){return this.increment(typeof _=="number"?-_:-1)},"decrement")}]),y}(p);function d(g,y,v,_){var x=Object.create(f.prototype);return x.value=g,x.context=y,x.objectId=v,x.key=_,x}s(d,"getWriteableCounter"),e.exports={Counter:p,getWriteableCounter:d}},"./frontend/index.js":function(e,t,n){"use strict";var r=function(){function P(K,X){var de=[],ge=!0,ye=!1,Ee=void 0;try{for(var Te=K[Symbol.iterator](),Ae;!(ge=(Ae=Te.next()).done)&&(de.push(Ae.value),!(X&&de.length===X));ge=!0);}catch(Ne){ye=!0,Ee=Ne}finally{try{!ge&&Te.return&&Te.return()}finally{if(ye)throw Ee}}return de}return s(P,"sliceIterator"),function(K,X){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return P(K,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(P,K,X){return K in P?Object.defineProperty(P,K,{value:X,enumerable:!0,configurable:!0,writable:!0}):P[K]=X,P}s(i,"_defineProperty");var a=n("./frontend/constants.js"),c=a.OPTIONS,p=a.CACHE,f=a.INBOUND,d=a.STATE,g=a.OBJECT_ID,y=a.CONFLICTS,v=a.CHANGE,_=a.ELEM_IDS,x=n("./src/common.js"),O=x.ROOT_ID,C=x.isObject,T=x.copyObject,b=n("./src/uuid.js"),E=n("./frontend/apply_patch.js"),S=E.applyDiffs,q=E.updateParentObjects,A=E.cloneRootObject,z=n("./frontend/proxies.js"),F=z.rootObjectProxy,re=n("./frontend/context.js"),oe=re.Context,le=n("./frontend/text.js"),fe=le.Text,G=n("./frontend/table.js"),j=G.Table,M=n("./frontend/counter.js"),B=M.Counter;function H(P,K,X,de){var ge=K[O];if(ge||(ge=A(P[p][O]),K[O]=ge),Object.defineProperty(ge,c,{value:P[c]}),Object.defineProperty(ge,p,{value:K}),Object.defineProperty(ge,f,{value:X}),Object.defineProperty(ge,d,{value:de}),P[c].freeze){var ye=!0,Ee=!1,Te=void 0;try{for(var Ae=Object.keys(K)[Symbol.iterator](),Ne;!(ye=(Ne=Ae.next()).done);ye=!0){var De=Ne.value;K[De]instanceof j?K[De]._freeze():(Object.freeze(K[De]),Object.freeze(K[De][y]))}}catch(Pe){Ee=!0,Te=Pe}finally{try{!ye&&Ae.return&&Ae.return()}finally{if(Ee)throw Te}}}var Oe=!0,Be=!1,it=void 0;try{for(var Ye=Object.keys(P[p])[Symbol.iterator](),lt;!(Oe=(lt=Ye.next()).done);Oe=!0){var Jt=lt.value;K[Jt]||(K[Jt]=P[p][Jt])}}catch(Pe){Be=!0,it=Pe}finally{try{!Oe&&Ye.return&&Ye.return()}finally{if(Be)throw it}}return P[c].freeze&&(Object.freeze(K),Object.freeze(X)),ge}s(H,"updateRootObject");function J(P){for(var K={},X=[],de=P.length-1;de>=0;de--){var ge=P[de],ye=ge.obj,Ee=ge.key,Te=ge.action;["set","del","link","inc"].includes(Te)?K[ye]?K[ye][Ee]?K[ye][Ee].action==="inc"&&["set","inc"].includes(Te)&&(K[ye][Ee].action=Te,K[ye][Ee].value+=ge.value):(K[ye][Ee]=ge,X.push(ge)):(K[ye]=i({},Ee,ge),X.push(ge)):X.push(ge)}return X.reverse()}s(J,"ensureSingleAssignment");function te(P,K,X,de){var ge=R(P);if(!ge)throw new Error("Actor ID must be initialized with setActorId() before making a change");var ye=T(P[d]);ye.seq+=1;var Ee=T(ye.deps);delete Ee[ge];var Te={requestType:K,actor:ge,seq:ye.seq,deps:Ee};if(de&&de.message!==void 0&&(Te.message=de.message),de&&de.undoable===!1&&(Te.undoable=!1),X&&(Te.ops=J(X.ops)),P[c].backend){var Ae=P[c].backend.applyLocalChange(ye.backendState,Te),Ne=r(Ae,2),De=Ne[0],Oe=Ne[1];return ye.backendState=De,ye.requests=[],[ae(P,Oe,ye,!0),Te]}else{X||(X=new oe(P,ge));var Be=T(Te);return Be.before=P,Be.diffs=X.diffs,ye.requests=ye.requests.slice(),ye.requests.push(Be),[H(P,X.updated,X.inbound,ye),Te]}}s(te,"makeChange");function ae(P,K,X,de){var ge=R(P),ye=T(P[f]),Ee={};if(S(K.diffs,P[p],Ee,ye),q(P[p],Ee,ye),de){var Te=K.clock?K.clock[ge]:void 0;Te&&Te>X.seq&&(X.seq=Te),X.deps=K.deps,X.canUndo=K.canUndo,X.canRedo=K.canRedo}return H(P,Ee,ye,X)}s(ae,"applyPatchToDoc");function ue(P,K){var X=[],de=!0,ge=!1,ye=void 0;try{e:for(var Ee=P.diffs[Symbol.iterator](),Te;!(de=(Te=Ee.next()).done);de=!0){var Ae=Te.value;Ae=T(Ae);var Ne=!0,De=!1,Oe=void 0;try{for(var Be=K.diffs[Symbol.iterator](),it;!(Ne=(it=Be.next()).done);Ne=!0){var Ye=it.value;if(Ae.obj===Ye.obj&&Ae.type==="list"&&["insert","set","remove"].includes(Ae.action)&&(Ye.action==="insert"&&Ye.index<=Ae.index&&(Ae.index+=1),Ye.action==="remove"&&Ye.index<Ae.index&&(Ae.index-=1),Ye.action==="remove"&&Ye.index===Ae.index&&(Ae.action==="set"&&(Ae.action="insert"),Ae.action==="remove")))continue e}}catch(lt){De=!0,Oe=lt}finally{try{!Ne&&Be.return&&Be.return()}finally{if(De)throw Oe}}X.push(Ae)}}catch(lt){ge=!0,ye=lt}finally{try{!de&&Ee.return&&Ee.return()}finally{if(ge)throw ye}}P.diffs=X}s(ue,"transformRequest");function I(P){if(typeof P=="string")P={actorId:P};else if(typeof P=="undefined")P={};else if(!C(P))throw new TypeError("Unsupported value for init() options: "+P);P.actorId===void 0&&!P.deferActorId&&(P.actorId=b());var K={},X=i({},O,K),de={seq:0,requests:[],deps:{},canUndo:!1,canRedo:!1};return P.backend&&(de.backendState=P.backend.init()),Object.defineProperty(K,g,{value:O}),Object.defineProperty(K,c,{value:Object.freeze(P)}),Object.defineProperty(K,y,{value:Object.freeze({})}),Object.defineProperty(K,p,{value:Object.freeze(X)}),Object.defineProperty(K,f,{value:Object.freeze({})}),Object.defineProperty(K,d,{value:Object.freeze(de)}),Object.freeze(K)}s(I,"init");function ie(P,K){return se(I(K),"Initialization",function(X){return Object.assign(X,P)})}s(ie,"from");function se(P,K,X){if(P[g]!==O)throw new TypeError("The first argument to Automerge.change must be the document root");if(P[v])throw new TypeError("Calls to Automerge.change cannot be nested");if(typeof K=="function"&&X===void 0){var de=[X,K];K=de[0],X=de[1]}if(typeof K=="string"&&(K={message:K}),K!==void 0&&!C(K))throw new TypeError("Unsupported type of options");var ge=R(P);if(!ge)throw new Error("Actor ID must be initialized with setActorId() before making a change");var ye=new oe(P,ge);return X(F(ye)),Object.keys(ye.updated).length===0?[P,null]:(q(P[p],ye.updated,ye.inbound),te(P,"change",ye,K))}s(se,"change");function pe(P,K){if(typeof K=="string"&&(K={message:K}),K!==void 0&&!C(K))throw new TypeError("Unsupported type of options");var X=R(P);if(!X)throw new Error("Actor ID must be initialized with setActorId() before making a change");return te(P,"change",new oe(P,X),K)}s(pe,"emptyChange");function Z(P,K){var X=T(P[d]),de=void 0;if(X.requests.length>0)if(de=X.requests[0].before,K.actor===R(P)&&K.seq!==void 0){if(X.requests[0].seq!==K.seq)throw new RangeError("Mismatched sequence number: patch "+K.seq+" does not match next request "+X.requests[0].seq);X.requests=X.requests.slice(1).map(T)}else X.requests=X.requests.slice().map(T);else de=P,X.requests=[];if(P[c].backend){if(!K.state)throw new RangeError("When an immediate backend is used, a patch must contain the new backend state");return X.backendState=K.state,X.requests=[],ae(P,K,X,!0)}var ge=ae(de,K,X,!0),ye=!0,Ee=!1,Te=void 0;try{for(var Ae=X.requests[Symbol.iterator](),Ne;!(ye=(Ne=Ae.next()).done);ye=!0){var De=Ne.value;De.before=ge,ue(De,K),ge=ae(De.before,De,X,!1)}}catch(Oe){Ee=!0,Te=Oe}finally{try{!ye&&Ae.return&&Ae.return()}finally{if(Ee)throw Te}}return ge}s(Z,"applyPatch");function ee(P){return!!P[d].canUndo&&!me(P)}s(ee,"canUndo");function me(P){return P[d].requests.some(function(K){return["undo","redo"].includes(K.requestType)})}s(me,"isUndoRedoInFlight");function be(P,K){if(typeof K=="string"&&(K={message:K}),K!==void 0&&!C(K))throw new TypeError("Unsupported type of options");if(!P[d].canUndo)throw new Error("Cannot undo: there is nothing to be undone");if(me(P))throw new Error("Can only have one undo in flight at any one time");return te(P,"undo",null,K)}s(be,"undo");function xe(P){return!!P[d].canRedo&&!me(P)}s(xe,"canRedo");function we(P,K){if(typeof K=="string"&&(K={message:K}),K!==void 0&&!C(K))throw new TypeError("Unsupported type of options");if(!P[d].canRedo)throw new Error("Cannot redo: there is no prior undo");if(me(P))throw new Error("Can only have one redo in flight at any one time");return te(P,"redo",null,K)}s(we,"redo");function _e(P){return P[g]}s(_e,"getObjectId");function N(P,K){var X=P[v];return X?X.instantiateObject(K):P[p][K]}s(N,"getObjectById");function R(P){return P[d].actorId||P[c].actorId}s(R,"getActorId");function U(P,K){var X=Object.assign({},P[d],{actorId:K});return H(P,{},P[f],X)}s(U,"setActorId");function $(P,K){return P[y][K]}s($,"getConflicts");function W(P){return P[d].backendState}s(W,"getBackendState");function ne(P){return P[_]}s(ne,"getElementIds"),e.exports={init:I,from:ie,change:se,emptyChange:pe,applyPatch:Z,canUndo:ee,undo:be,canRedo:xe,redo:we,getObjectId:_e,getObjectById:N,getActorId:R,setActorId:U,getConflicts:$,getBackendState:W,getElementIds:ne,Text:fe,Table:j,Counter:B}},"./frontend/proxies.js":function(e,t,n){"use strict";var r=function(){function A(z,F){var re=[],oe=!0,le=!1,fe=void 0;try{for(var G=z[Symbol.iterator](),j;!(oe=(j=G.next()).done)&&(re.push(j.value),!(F&&re.length===F));oe=!0);}catch(M){le=!0,fe=M}finally{try{!oe&&G.return&&G.return()}finally{if(le)throw fe}}return re}return s(A,"sliceIterator"),function(z,F){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return A(z,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n("./src/common.js"),a=i.ROOT_ID,c=n("./frontend/constants.js"),p=c.OBJECT_ID,f=c.CHANGE,d=c.STATE,g=n("./frontend/text.js"),y=g.Text,v=n("./frontend/table.js"),_=v.Table;function x(A){if(typeof A=="string"&&/^[0-9]+$/.test(A)&&(A=parseInt(A)),typeof A!="number")throw new TypeError("A list index must be a number, but you passed "+JSON.stringify(A));if(A<0||isNaN(A)||A===Infinity||A===-Infinity)throw new RangeError("A list index must be positive, but you passed "+A);return A}s(x,"parseListIndex");function O(A,z){for(var F={deleteAt:s(function(J,te){return A.splice(z,x(J),te||1,[]),this},"deleteAt"),fill:s(function(J,te,ae){for(var ue=A.getObject(z),I=x(te||0);I<x(ae||ue.length);I++)A.setListIndex(z,I,J);return this},"fill"),indexOf:s(function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ae=J[p];if(ae){for(var ue=A.getObject(z),I=te;I<ue.length;I++)if(ue[I][p]===ae)return I;return-1}else return A.getObject(z).indexOf(J,te)},"indexOf"),insertAt:s(function(J){for(var te=arguments.length,ae=Array(te>1?te-1:0),ue=1;ue<te;ue++)ae[ue-1]=arguments[ue];return A.splice(z,x(J),0,ae),this},"insertAt"),pop:s(function(){var J=A.getObject(z);if(J.length!=0){var te=A.getObjectField(z,J.length-1);return A.splice(z,J.length-1,1,[]),te}},"pop"),push:s(function(){for(var J=A.getObject(z),te=arguments.length,ae=Array(te),ue=0;ue<te;ue++)ae[ue]=arguments[ue];return A.splice(z,J.length,0,ae),A.getObject(z).length},"push"),shift:s(function(){var J=A.getObject(z);if(J.length!=0){var te=A.getObjectField(z,0);return A.splice(z,0,1,[]),te}},"shift"),splice:s(function(J,te){var ae=A.getObject(z);J=x(J),(te===void 0||te>ae.length-J)&&(te=ae.length-J);for(var ue=[],I=0;I<te;I++)ue.push(A.getObjectField(z,J+I));for(var ie=arguments.length,se=Array(ie>2?ie-2:0),pe=2;pe<ie;pe++)se[pe-2]=arguments[pe];return A.splice(z,J,te,se),ue},"splice"),unshift:s(function(){for(var J=arguments.length,te=Array(J),ae=0;ae<J;ae++)te[ae]=arguments[ae];return A.splice(z,0,0,te),A.getObject(z).length},"unshift")},re=s(function(J){var te=A.getObject(z);F[J]=function(){return te[J]()}},"_loop"),oe=["entries","keys","values"],le=0;le<oe.length;le++){var fe=oe[le];re(fe)}for(var G=s(function(J){F[J]=function(){for(var te,ae=arguments.length,ue=Array(ae),I=0;I<ae;I++)ue[I]=arguments[I];var ie=A.getObject(z).map(function(se,pe){return A.getObjectField(z,pe)});return(te=ie[J]).call.apply(te,[ie].concat(ue))}},"_loop2"),j=["concat","every","filter","find","findIndex","forEach","includes","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"],M=0;M<j.length;M++){var B=j[M];G(B)}return F}s(O,"listMethods");var C={get:s(function(z,F){var re=z.context,oe=z.objectId;return F===p?oe:F===f?re:F===d?{actorId:re.actorId}:re.getObjectField(oe,F)},"get"),set:s(function(z,F,re){var oe=z.context,le=z.objectId,fe=z.readonly;if(Array.isArray(fe)&&fe.indexOf(F)>=0)throw new RangeError('Object property "'+F+'" cannot be modified');return oe.setMapKey(le,"map",F,re),!0},"set"),deleteProperty:s(function(z,F){var re=z.context,oe=z.objectId,le=z.readonly;if(Array.isArray(le)&&le.indexOf(F)>=0)throw new RangeError('Object property "'+F+'" cannot be modified');return re.deleteMapKey(oe,F),!0},"deleteProperty"),has:s(function(z,F){var re=z.context,oe=z.objectId;return[p,f].includes(F)||F in re.getObject(oe)},"has"),getOwnPropertyDescriptor:s(function(z,F){var re=z.context,oe=z.objectId,le=re.getObject(oe);if(F in le)return{configurable:!0,enumerable:!0,value:re.getObjectField(oe,F)}},"getOwnPropertyDescriptor"),ownKeys:s(function(z){var F=z.context,re=z.objectId;return Object.keys(F.getObject(re))},"ownKeys")},T={get:s(function(z,F){var re=r(z,2),oe=re[0],le=re[1];return F===Symbol.iterator?oe.getObject(le)[Symbol.iterator]:F===p?le:F===f?oe:F==="length"?oe.getObject(le).length:typeof F=="string"&&/^[0-9]+$/.test(F)?oe.getObjectField(le,x(F)):O(oe,le)[F]},"get"),set:s(function(z,F,re){var oe=r(z,2),le=oe[0],fe=oe[1];return le.setListIndex(fe,x(F),re),!0},"set"),deleteProperty:s(function(z,F){var re=r(z,2),oe=re[0],le=re[1];return oe.splice(le,x(F),1,[]),!0},"deleteProperty"),has:s(function(z,F){var re=r(z,2),oe=re[0],le=re[1];return typeof F=="string"&&/^[0-9]+$/.test(F)?x(F)<oe.getObject(le).length:["length",p,f].includes(F)},"has"),getOwnPropertyDescriptor:s(function(z,F){var re=r(z,2),oe=re[0],le=re[1],fe=oe.getObject(le);if(F==="length")return{writable:!0,value:fe.length};if(F===p)return{configurable:!1,enumerable:!1,value:le};if(typeof F=="string"&&/^[0-9]+$/.test(F)){var G=x(F);if(G<fe.length)return{configurable:!0,enumerable:!0,value:oe.getObjectField(le,G)}}},"getOwnPropertyDescriptor"),ownKeys:s(function(z){var F=r(z,2),re=F[0],oe=F[1],le=re.getObject(oe),fe=["length"],G=!0,j=!1,M=void 0;try{for(var B=Object.keys(le)[Symbol.iterator](),H;!(G=(H=B.next()).done);G=!0){var J=H.value;fe.push(J)}}catch(te){j=!0,M=te}finally{try{!G&&B.return&&B.return()}finally{if(j)throw M}}return fe},"ownKeys")};function b(A,z,F){return new Proxy({context:A,objectId:z,readonly:F},C)}s(b,"mapProxy");function E(A,z){return new Proxy([A,z],T)}s(E,"listProxy");function S(A,z){var F=this.getObject(A);return Array.isArray(F)?E(this,A):F instanceof y||F instanceof _?F.getWriteable(this):b(this,A,z)}s(S,"instantiateProxy");function q(A){return A.instantiateObject=S,b(A,a)}s(q,"rootObjectProxy"),e.exports={rootObjectProxy:q}},"./frontend/table.js":function(e,t,n){"use strict";var r=function(){function T(b,E){for(var S=0;S<E.length;S++){var q=E[S];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(b,q.key,q)}}return s(T,"defineProperties"),function(b,E,S){return E&&T(b.prototype,E),S&&T(b,S),b}}();function i(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}s(i,"_possibleConstructorReturn");function a(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}s(a,"_inherits");function c(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}s(c,"_classCallCheck");var p=n("./frontend/constants.js"),f=p.OBJECT_ID,d=p.CONFLICTS,g=n("./src/common.js"),y=g.isObject,v=g.copyObject;function _(T,b,E){var S=!0,q=!1,A=void 0;try{for(var z=T[Symbol.iterator](),F;!(S=(F=z.next()).done);S=!0){var re=F.value;if(b[re]!==E[re]){if(typeof b[re]=="number"&&typeof E[re]=="number")return b[re]-E[re];var oe=""+b[re],le=""+E[re];if(oe===le)continue;return oe<le?-1:1}}}catch(fe){q=!0,A=fe}finally{try{!S&&z.return&&z.return()}finally{if(q)throw A}}return 0}s(_,"compareRows");var x=function(){function T(){c(this,T),this.entries=Object.freeze({}),Object.freeze(this)}return s(T,"Table"),r(T,[{key:"byId",value:s(function(E){return this.entries[E]},"byId")},{key:"filter",value:s(function(E,S){return this.rows.filter(E,S)},"filter")},{key:"find",value:s(function(E,S){return this.rows.find(E,S)},"find")},{key:"map",value:s(function(E,S){return this.rows.map(E,S)},"map")},{key:"sort",value:s(function(E){if(typeof E=="function")return this.rows.sort(E);if(typeof E=="string")return this.rows.sort(function(S,q){return _([E],S,q)});if(Array.isArray(E))return this.rows.sort(function(S,q){return _(E,S,q)});if(E===void 0)return this.rows.sort(function(S,q){return _(["id"],S,q)});throw new TypeError("Unsupported sorting argument: "+E)},"sort")},{key:Symbol.iterator,value:s(function(){var E=this.rows,S=-1;return{next:s(function(){return S+=1,S<E.length?{done:!1,value:E[S]}:{done:!0}},"next")}},"value")},{key:"_clone",value:s(function(){if(!this[f])throw new RangeError("clone() requires the objectId to be set");return C(this[f],v(this.entries))},"_clone")},{key:"_set",value:s(function(E,S){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");y(S)&&!Array.isArray(S)&&Object.defineProperty(S,"id",{value:E,enumerable:!0}),this.entries[E]=S},"_set")},{key:"remove",value:s(function(E){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");delete this.entries[E]},"remove")},{key:"_freeze",value:s(function(){Object.freeze(this.entries),Object.freeze(this)},"_freeze")},{key:"getWriteable",value:s(function(E){if(!this[f])throw new RangeError("getWriteable() requires the objectId to be set");var S=Object.create(O.prototype);return S[f]=this[f],S.context=E,S.entries=this.entries,S},"getWriteable")},{key:"toJSON",value:s(function(){var E={},S=!0,q=!1,A=void 0;try{for(var z=this.ids[Symbol.iterator](),F;!(S=(F=z.next()).done);S=!0){var re=F.value;E[re]=this.byId(re)}}catch(oe){q=!0,A=oe}finally{try{!S&&z.return&&z.return()}finally{if(q)throw A}}return E},"toJSON")},{key:"ids",get:s(function(){var E=this;return Object.keys(this.entries).filter(function(S){var q=E.entries[S];return y(q)&&q.id===S})},"get")},{key:"count",get:s(function(){return this.ids.length},"get")},{key:"rows",get:s(function(){var E=this;return this.ids.map(function(S){return E.byId(S)})},"get")}]),T}(),O=function(T){a(b,T);function b(){return c(this,b),i(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,"WriteableTable"),r(b,[{key:"byId",value:s(function(S){if(y(this.entries[S])&&this.entries[S].id===S)return this.context.instantiateObject(S,["id"])},"byId")},{key:"add",value:s(function(S){return this.context.addTableRow(this[f],S)},"add")},{key:"remove",value:s(function(S){if(y(this.entries[S])&&this.entries[S].id===S)this.context.deleteTableRow(this[f],S);else throw new RangeError("There is no row with ID "+S+" in this table")},"remove")}]),b}(x);function C(T,b){var E=Object.create(x.prototype);return E[f]=T,E[d]=Object.freeze({}),E.entries=b||{},E}s(C,"instantiateTable"),e.exports={Table:x,instantiateTable:C}},"./frontend/text.js":function(e,t,n){"use strict";var r=function(){function T(b,E){for(var S=0;S<E.length;S++){var q=E[S];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(b,q.key,q)}}return s(T,"defineProperties"),function(b,E,S){return E&&T(b.prototype,E),S&&T(b,S),b}}();function i(T){if(Array.isArray(T)){for(var b=0,E=Array(T.length);b<T.length;b++)E[b]=T[b];return E}else return Array.from(T)}s(i,"_toConsumableArray");function a(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}s(a,"_classCallCheck");for(var c=n("./frontend/constants.js"),p=c.OBJECT_ID,f=c.ELEM_IDS,d=c.MAX_ELEM,g=function(){function T(b){if(a(this,T),typeof b=="string"){var E=b.split("").map(function(q){return{value:q}});return O(void 0,E,void 0)}else if(Array.isArray(b)){var S=b.map(function(q){return{value:q}});return O(void 0,S,void 0)}else{if(b===void 0)return O(void 0,[],0);throw new TypeError("Unsupported initial value for Text: "+b)}}return s(T,"Text"),r(T,[{key:"get",value:s(function(E){return this.elems[E].value},"get")},{key:"getElemId",value:s(function(E){return this.elems[E].elemId},"getElemId")},{key:Symbol.iterator,value:s(function(){var E=this.elems,S=-1;return{next:s(function(){return S+=1,S<E.length?{done:!1,value:E[S].value}:{done:!0}},"next")}},"value")},{key:"toString",value:s(function(){var E="",S=!0,q=!1,A=void 0;try{for(var z=this.elems[Symbol.iterator](),F;!(S=(F=z.next()).done);S=!0){var re=F.value;typeof re.value=="string"&&(E+=re.value)}}catch(oe){q=!0,A=oe}finally{try{!S&&z.return&&z.return()}finally{if(q)throw A}}return E},"toString")},{key:"toSpans",value:s(function(){var E=[],S="",q=!0,A=!1,z=void 0;try{for(var F=this.elems[Symbol.iterator](),re;!(q=(re=F.next()).done);q=!0){var oe=re.value;typeof oe.value=="string"?S+=oe.value:(S.length>0&&(E.push(S),S=""),E.push(oe.value))}}catch(le){A=!0,z=le}finally{try{!q&&F.return&&F.return()}finally{if(A)throw z}}return S.length>0&&E.push(S),E},"toSpans")},{key:"toJSON",value:s(function(){return this.toString()},"toJSON")},{key:"getWriteable",value:s(function(E){if(!this[p])throw new RangeError("getWriteable() requires the objectId to be set");var S=O(this[p],this.elems,this[d]);return S.context=E,S},"getWriteable")},{key:"set",value:s(function(E,S){if(this.context)this.context.setListIndex(this[p],E,S);else if(!this[p])this.elems[E].value=S;else throw new TypeError("Automerge.Text object cannot be modified outside of a change block");return this},"set")},{key:"insertAt",value:s(function(E){for(var S=arguments.length,q=Array(S>1?S-1:0),A=1;A<S;A++)q[A-1]=arguments[A];if(this.context)this.context.splice(this[p],E,0,q);else{if(this[p])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");var z;(z=this.elems).splice.apply(z,[E,0].concat(i(q.map(function(F){return{value:F}}))))}return this},"insertAt")},{key:"deleteAt",value:s(function(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.context)this.context.splice(this[p],E,S,[]);else if(!this[p])this.elems.splice(E,S);else throw new TypeError("Automerge.Text object cannot be modified outside of a change block");return this},"deleteAt")},{key:"length",get:s(function(){return this.elems.length},"get")}]),T}(),y=s(function(b){g.prototype[b]=function(){for(var E,S=[].concat(i(this)),q=arguments.length,A=Array(q),z=0;z<q;z++)A[z]=arguments[z];return(E=S[b]).call.apply(E,[S].concat(A))}},"_loop"),v=["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString"],_=0;_<v.length;_++){var x=v[_];y(x)}function O(T,b,E){var S=Object.create(g.prototype);return S[p]=T,S.elems=b,S[d]=E,S}s(O,"instantiateText");function C(T,b){return T instanceof g?T.getElemId(b):T[f][b]}s(C,"getElemId"),e.exports={Text:g,getElemId:C,instantiateText:O}},"./node_modules/immutable/dist/immutable.js":function(e,t,n){(function(r,i){e.exports=i()})(this,function(){"use strict";var r=Array.prototype.slice;function i(o,u){u&&(o.prototype=Object.create(u.prototype)),o.prototype.constructor=o}s(i,"createClass");function a(o){return d(o)?o:R(o)}s(a,"Iterable"),i(c,a);function c(o){return g(o)?o:U(o)}s(c,"KeyedIterable"),i(p,a);function p(o){return y(o)?o:$(o)}s(p,"IndexedIterable"),i(f,a);function f(o){return d(o)&&!v(o)?o:W(o)}s(f,"SetIterable");function d(o){return!!(o&&o[x])}s(d,"isIterable");function g(o){return!!(o&&o[O])}s(g,"isKeyed");function y(o){return!!(o&&o[C])}s(y,"isIndexed");function v(o){return g(o)||y(o)}s(v,"isAssociative");function _(o){return!!(o&&o[T])}s(_,"isOrdered"),a.isIterable=d,a.isKeyed=g,a.isIndexed=y,a.isAssociative=v,a.isOrdered=_,a.Keyed=c,a.Indexed=p,a.Set=f;var x="@@__IMMUTABLE_ITERABLE__@@",O="@@__IMMUTABLE_KEYED__@@",C="@@__IMMUTABLE_INDEXED__@@",T="@@__IMMUTABLE_ORDERED__@@",b="delete",E=5,S=1<<E,q=S-1,A={},z={value:!1},F={value:!1};function re(o){return o.value=!1,o}s(re,"MakeRef");function oe(o){o&&(o.value=!0)}s(oe,"SetRef");function le(){}s(le,"OwnerID");function fe(o,u){u=u||0;for(var l=Math.max(0,o.length-u),m=new Array(l),h=0;h<l;h++)m[h]=o[h+u];return m}s(fe,"arrCopy");function G(o){return o.size===void 0&&(o.size=o.__iterate(M)),o.size}s(G,"ensureSize");function j(o,u){if(typeof u!="number"){var l=u>>>0;if(""+l!==u||l===4294967295)return NaN;u=l}return u<0?G(o)+u:u}s(j,"wrapIndex");function M(){return!0}s(M,"returnTrue");function B(o,u,l){return(o===0||l!==void 0&&o<=-l)&&(u===void 0||l!==void 0&&u>=l)}s(B,"wholeSlice");function H(o,u){return te(o,u,0)}s(H,"resolveBegin");function J(o,u){return te(o,u,u)}s(J,"resolveEnd");function te(o,u,l){return o===void 0?l:o<0?Math.max(0,u+o):u===void 0?o:Math.min(u,o)}s(te,"resolveIndex");var ae=0,ue=1,I=2,ie=typeof Symbol=="function"&&Symbol.iterator,se="@@iterator",pe=ie||se;function Z(o){this.next=o}s(Z,"Iterator"),Z.prototype.toString=function(){return"[Iterator]"},Z.KEYS=ae,Z.VALUES=ue,Z.ENTRIES=I,Z.prototype.inspect=Z.prototype.toSource=function(){return this.toString()},Z.prototype[pe]=function(){return this};function ee(o,u,l,m){var h=o===0?u:o===1?l:[u,l];return m?m.value=h:m={value:h,done:!1},m}s(ee,"iteratorValue");function me(){return{value:void 0,done:!0}}s(me,"iteratorDone");function be(o){return!!_e(o)}s(be,"hasIterator");function xe(o){return o&&typeof o.next=="function"}s(xe,"isIterator");function we(o){var u=_e(o);return u&&u.call(o)}s(we,"getIterator");function _e(o){var u=o&&(ie&&o[ie]||o[se]);if(typeof u=="function")return u}s(_e,"getIteratorFn");function N(o){return o&&typeof o.length=="number"}s(N,"isArrayLike"),i(R,a);function R(o){return o==null?Ee():d(o)?o.toSeq():Ne(o)}s(R,"Seq"),R.of=function(){return R(arguments)},R.prototype.toSeq=function(){return this},R.prototype.toString=function(){return this.__toString("Seq {","}")},R.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},R.prototype.__iterate=function(o,u){return Oe(this,o,u,!0)},R.prototype.__iterator=function(o,u){return Be(this,o,u,!0)},i(U,R);function U(o){return o==null?Ee().toKeyedSeq():d(o)?g(o)?o.toSeq():o.fromEntrySeq():Te(o)}s(U,"KeyedSeq"),U.prototype.toKeyedSeq=function(){return this},i($,R);function $(o){return o==null?Ee():d(o)?g(o)?o.entrySeq():o.toIndexedSeq():Ae(o)}s($,"IndexedSeq"),$.of=function(){return $(arguments)},$.prototype.toIndexedSeq=function(){return this},$.prototype.toString=function(){return this.__toString("Seq [","]")},$.prototype.__iterate=function(o,u){return Oe(this,o,u,!1)},$.prototype.__iterator=function(o,u){return Be(this,o,u,!1)},i(W,R);function W(o){return(o==null?Ee():d(o)?g(o)?o.entrySeq():o:Ae(o)).toSetSeq()}s(W,"SetSeq"),W.of=function(){return W(arguments)},W.prototype.toSetSeq=function(){return this},R.isSeq=ge,R.Keyed=U,R.Set=W,R.Indexed=$;var ne="@@__IMMUTABLE_SEQ__@@";R.prototype[ne]=!0,i(P,$);function P(o){this._array=o,this.size=o.length}s(P,"ArraySeq"),P.prototype.get=function(o,u){return this.has(o)?this._array[j(this,o)]:u},P.prototype.__iterate=function(o,u){for(var l=this._array,m=l.length-1,h=0;h<=m;h++)if(o(l[u?m-h:h],h,this)===!1)return h+1;return h},P.prototype.__iterator=function(o,u){var l=this._array,m=l.length-1,h=0;return new Z(function(){return h>m?me():ee(o,h,l[u?m-h++:h++])})},i(K,U);function K(o){var u=Object.keys(o);this._object=o,this._keys=u,this.size=u.length}s(K,"ObjectSeq"),K.prototype.get=function(o,u){return u!==void 0&&!this.has(o)?u:this._object[o]},K.prototype.has=function(o){return this._object.hasOwnProperty(o)},K.prototype.__iterate=function(o,u){for(var l=this._object,m=this._keys,h=m.length-1,w=0;w<=h;w++){var k=m[u?h-w:w];if(o(l[k],k,this)===!1)return w+1}return w},K.prototype.__iterator=function(o,u){var l=this._object,m=this._keys,h=m.length-1,w=0;return new Z(function(){var k=m[u?h-w:w];return w++>h?me():ee(o,k,l[k])})},K.prototype[T]=!0,i(X,$);function X(o){this._iterable=o,this.size=o.length||o.size}s(X,"IterableSeq"),X.prototype.__iterateUncached=function(o,u){if(u)return this.cacheResult().__iterate(o,u);var l=this._iterable,m=we(l),h=0;if(xe(m))for(var w;!(w=m.next()).done&&o(w.value,h++,this)!==!1;);return h},X.prototype.__iteratorUncached=function(o,u){if(u)return this.cacheResult().__iterator(o,u);var l=this._iterable,m=we(l);if(!xe(m))return new Z(me);var h=0;return new Z(function(){var w=m.next();return w.done?w:ee(o,h++,w.value)})},i(de,$);function de(o){this._iterator=o,this._iteratorCache=[]}s(de,"IteratorSeq"),de.prototype.__iterateUncached=function(o,u){if(u)return this.cacheResult().__iterate(o,u);for(var l=this._iterator,m=this._iteratorCache,h=0;h<m.length;)if(o(m[h],h++,this)===!1)return h;for(var w;!(w=l.next()).done;){var k=w.value;if(m[h]=k,o(k,h++,this)===!1)break}return h},de.prototype.__iteratorUncached=function(o,u){if(u)return this.cacheResult().__iterator(o,u);var l=this._iterator,m=this._iteratorCache,h=0;return new Z(function(){if(h>=m.length){var w=l.next();if(w.done)return w;m[h]=w.value}return ee(o,h,m[h++])})};function ge(o){return!!(o&&o[ne])}s(ge,"isSeq");var ye;function Ee(){return ye||(ye=new P([]))}s(Ee,"emptySequence");function Te(o){var u=Array.isArray(o)?new P(o).fromEntrySeq():xe(o)?new de(o).fromEntrySeq():be(o)?new X(o).fromEntrySeq():typeof o=="object"?new K(o):void 0;if(!u)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+o);return u}s(Te,"keyedSeqFromValue");function Ae(o){var u=De(o);if(!u)throw new TypeError("Expected Array or iterable object of values: "+o);return u}s(Ae,"indexedSeqFromValue");function Ne(o){var u=De(o)||typeof o=="object"&&new K(o);if(!u)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+o);return u}s(Ne,"seqFromValue");function De(o){return N(o)?new P(o):xe(o)?new de(o):be(o)?new X(o):void 0}s(De,"maybeIndexedSeqFromValue");function Oe(o,u,l,m){var h=o._cache;if(h){for(var w=h.length-1,k=0;k<=w;k++){var D=h[l?w-k:k];if(u(D[1],m?D[0]:k,o)===!1)return k+1}return k}return o.__iterateUncached(u,l)}s(Oe,"seqIterate");function Be(o,u,l,m){var h=o._cache;if(h){var w=h.length-1,k=0;return new Z(function(){var D=h[l?w-k:k];return k++>w?me():ee(u,m?D[0]:k-1,D[1])})}return o.__iteratorUncached(u,l)}s(Be,"seqIterator");function it(o,u){return u?Ye(u,o,"",{"":o}):lt(o)}s(it,"fromJS");function Ye(o,u,l,m){return Array.isArray(u)?o.call(m,l,$(u).map(function(h,w){return Ye(o,h,w,u)})):Jt(u)?o.call(m,l,U(u).map(function(h,w){return Ye(o,h,w,u)})):u}s(Ye,"fromJSWith");function lt(o){return Array.isArray(o)?$(o).map(lt).toList():Jt(o)?U(o).map(lt).toMap():o}s(lt,"fromJSDefault");function Jt(o){return o&&(o.constructor===Object||o.constructor===void 0)}s(Jt,"isPlainObj");function Pe(o,u){if(o===u||o!==o&&u!==u)return!0;if(!o||!u)return!1;if(typeof o.valueOf=="function"&&typeof u.valueOf=="function"){if(o=o.valueOf(),u=u.valueOf(),o===u||o!==o&&u!==u)return!0;if(!o||!u)return!1}return!!(typeof o.equals=="function"&&typeof u.equals=="function"&&o.equals(u))}s(Pe,"is");function hn(o,u){if(o===u)return!0;if(!d(u)||o.size!==void 0&&u.size!==void 0&&o.size!==u.size||o.__hash!==void 0&&u.__hash!==void 0&&o.__hash!==u.__hash||g(o)!==g(u)||y(o)!==y(u)||_(o)!==_(u))return!1;if(o.size===0&&u.size===0)return!0;var l=!v(o);if(_(o)){var m=o.entries();return u.every(function(V,Y){var Q=m.next().value;return Q&&Pe(Q[1],V)&&(l||Pe(Q[0],Y))})&&m.next().done}var h=!1;if(o.size===void 0)if(u.size===void 0)typeof o.cacheResult=="function"&&o.cacheResult();else{h=!0;var w=o;o=u,u=w}var k=!0,D=u.__iterate(function(V,Y){if(l?!o.has(V):h?!Pe(V,o.get(Y,A)):!Pe(o.get(Y,A),V))return k=!1,!1});return k&&o.size===D}s(hn,"deepEqual"),i(ot,$);function ot(o,u){if(!(this instanceof ot))return new ot(o,u);if(this._value=o,this.size=u===void 0?Infinity:Math.max(0,u),this.size===0){if(eo)return eo;eo=this}}s(ot,"Repeat"),ot.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ot.prototype.get=function(o,u){return this.has(o)?this._value:u},ot.prototype.includes=function(o){return Pe(this._value,o)},ot.prototype.slice=function(o,u){var l=this.size;return B(o,u,l)?this:new ot(this._value,J(u,l)-H(o,l))},ot.prototype.reverse=function(){return this},ot.prototype.indexOf=function(o){return Pe(this._value,o)?0:-1},ot.prototype.lastIndexOf=function(o){return Pe(this._value,o)?this.size:-1},ot.prototype.__iterate=function(o,u){for(var l=0;l<this.size;l++)if(o(this._value,l,this)===!1)return l+1;return l},ot.prototype.__iterator=function(o,u){var l=this,m=0;return new Z(function(){return m<l.size?ee(o,m++,l._value):me()})},ot.prototype.equals=function(o){return o instanceof ot?Pe(this._value,o._value):hn(o)};var eo;function Lr(o,u){if(!o)throw new Error(u)}s(Lr,"invariant"),i(tt,$);function tt(o,u,l){if(!(this instanceof tt))return new tt(o,u,l);if(Lr(l!==0,"Cannot step a Range by 0"),o=o||0,u===void 0&&(u=Infinity),l=l===void 0?1:Math.abs(l),u<o&&(l=-l),this._start=o,this._end=u,this._step=l,this.size=Math.max(0,Math.ceil((u-o)/l-1)+1),this.size===0){if(to)return to;to=this}}s(tt,"Range"),tt.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},tt.prototype.get=function(o,u){return this.has(o)?this._start+j(this,o)*this._step:u},tt.prototype.includes=function(o){var u=(o-this._start)/this._step;return u>=0&&u<this.size&&u===Math.floor(u)},tt.prototype.slice=function(o,u){return B(o,u,this.size)?this:(o=H(o,this.size),u=J(u,this.size),u<=o?new tt(0,0):new tt(this.get(o,this._end),this.get(u,this._end),this._step))},tt.prototype.indexOf=function(o){var u=o-this._start;if(u%this._step==0){var l=u/this._step;if(l>=0&&l<this.size)return l}return-1},tt.prototype.lastIndexOf=function(o){return this.indexOf(o)},tt.prototype.__iterate=function(o,u){for(var l=this.size-1,m=this._step,h=u?this._start+l*m:this._start,w=0;w<=l;w++){if(o(h,w,this)===!1)return w+1;h+=u?-m:m}return w},tt.prototype.__iterator=function(o,u){var l=this.size-1,m=this._step,h=u?this._start+l*m:this._start,w=0;return new Z(function(){var k=h;return h+=u?-m:m,w>l?me():ee(o,w++,k)})},tt.prototype.equals=function(o){return o instanceof tt?this._start===o._start&&this._end===o._end&&this._step===o._step:hn(this,o)};var to;i(Qt,a);function Qt(){throw TypeError("Abstract")}s(Qt,"Collection"),i(ir,Qt);function ir(){}s(ir,"KeyedCollection"),i(jn,Qt);function jn(){}s(jn,"IndexedCollection"),i(Dr,Qt);function Dr(){}s(Dr,"SetCollection"),Qt.Keyed=ir,Qt.Indexed=jn,Qt.Set=Dr;var or=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:s(function(u,l){u=u|0,l=l|0;var m=u&65535,h=l&65535;return m*h+((u>>>16)*h+m*(l>>>16)<<16>>>0)|0},"imul");function no(o){return o>>>1&1073741824|o&3221225471}s(no,"smi");function dt(o){if(o===!1||o===null||o===void 0||typeof o.valueOf=="function"&&(o=o.valueOf(),o===!1||o===null||o===void 0))return 0;if(o===!0)return 1;var u=typeof o;if(u==="number"){if(o!==o||o===Infinity)return 0;var l=o|0;for(l!==o&&(l^=o*4294967295);o>4294967295;)o/=4294967295,l^=o;return no(l)}if(u==="string")return o.length>Dy?Py(o):ro(o);if(typeof o.hashCode=="function")return o.hashCode();if(u==="object")return By(o);if(typeof o.toString=="function")return ro(o.toString());throw new Error("Value type "+u+" cannot be hashed.")}s(dt,"hash");function Py(o){var u=co[o];return u===void 0&&(u=ro(o),ao===Ky&&(ao=0,co={}),ao++,co[o]=u),u}s(Py,"cachedHashString");function ro(o){for(var u=0,l=0;l<o.length;l++)u=31*u+o.charCodeAt(l)|0;return no(u)}s(ro,"hashString");function By(o){var u;if(io&&(u=oo.get(o),u!==void 0)||(u=o[yn],u!==void 0)||!ic&&(u=o.propertyIsEnumerable&&o.propertyIsEnumerable[yn],u!==void 0||(u=Ly(o),u!==void 0)))return u;if(u=++so,so&1073741824&&(so=0),io)oo.set(o,u);else{if(rc!==void 0&&rc(o)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(ic)Object.defineProperty(o,yn,{enumerable:!1,configurable:!1,writable:!1,value:u});else if(o.propertyIsEnumerable!==void 0&&o.propertyIsEnumerable===o.constructor.prototype.propertyIsEnumerable)o.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},o.propertyIsEnumerable[yn]=u;else if(o.nodeType!==void 0)o[yn]=u;else throw new Error("Unable to set a non-enumerable property on object.")}return u}s(By,"hashJSObj");var rc=Object.isExtensible,ic=function(){try{return Object.defineProperty({},"@",{}),!0}catch(o){return!1}}();function Ly(o){if(o&&o.nodeType>0)switch(o.nodeType){case 1:return o.uniqueID;case 9:return o.documentElement&&o.documentElement.uniqueID}}s(Ly,"getIENodeHash");var io=typeof WeakMap=="function",oo;io&&(oo=new WeakMap);var so=0,yn="__immutablehash__";typeof Symbol=="function"&&(yn=Symbol(yn));var Dy=16,Ky=255,ao=0,co={};function mt(o){Lr(o!==Infinity,"Cannot perform this action with an infinite size.")}s(mt,"assertNotInfinite"),i(Ie,ir);function Ie(o){return o==null?At():uo(o)&&!_(o)?o:At().withMutations(function(u){var l=c(o);mt(l.size),l.forEach(function(m,h){return u.set(h,m)})})}s(Ie,"Map"),Ie.of=function(){var o=r.call(arguments,0);return At().withMutations(function(u){for(var l=0;l<o.length;l+=2){if(l+1>=o.length)throw new Error("Missing value for key: "+o[l]);u.set(o[l],o[l+1])}})},Ie.prototype.toString=function(){return this.__toString("Map {","}")},Ie.prototype.get=function(o,u){return this._root?this._root.get(0,void 0,o,u):u},Ie.prototype.set=function(o,u){return cc(this,o,u)},Ie.prototype.setIn=function(o,u){return this.updateIn(o,A,function(){return u})},Ie.prototype.remove=function(o){return cc(this,o,A)},Ie.prototype.deleteIn=function(o){return this.updateIn(o,function(){return A})},Ie.prototype.update=function(o,u,l){return arguments.length===1?o(this):this.updateIn([o],u,l)},Ie.prototype.updateIn=function(o,u,l){l||(l=u,u=void 0);var m=dc(this,Mc(o),u,l);return m===A?void 0:m},Ie.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):At()},Ie.prototype.merge=function(){return Kr(this,void 0,arguments)},Ie.prototype.mergeWith=function(o){var u=r.call(arguments,1);return Kr(this,o,u)},Ie.prototype.mergeIn=function(o){var u=r.call(arguments,1);return this.updateIn(o,At(),function(l){return typeof l.merge=="function"?l.merge.apply(l,u):u[u.length-1]})},Ie.prototype.mergeDeep=function(){return Kr(this,pc,arguments)},Ie.prototype.mergeDeepWith=function(o){var u=r.call(arguments,1);return Kr(this,lc(o),u)},Ie.prototype.mergeDeepIn=function(o){var u=r.call(arguments,1);return this.updateIn(o,At(),function(l){return typeof l.mergeDeep=="function"?l.mergeDeep.apply(l,u):u[u.length-1]})},Ie.prototype.sort=function(o){return Fe(Ln(this,o))},Ie.prototype.sortBy=function(o,u){return Fe(Ln(this,u,o))},Ie.prototype.withMutations=function(o){var u=this.asMutable();return o(u),u.wasAltered()?u.__ensureOwner(this.__ownerID):this},Ie.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new le)},Ie.prototype.asImmutable=function(){return this.__ensureOwner()},Ie.prototype.wasAltered=function(){return this.__altered},Ie.prototype.__iterator=function(o,u){return new po(this,o,u)},Ie.prototype.__iterate=function(o,u){var l=this,m=0;return this._root&&this._root.iterate(function(h){return m++,o(h[1],h[0],l)},u),m},Ie.prototype.__ensureOwner=function(o){return o===this.__ownerID?this:o?fo(this.size,this._root,o,this.__hash):(this.__ownerID=o,this.__altered=!1,this)};function uo(o){return!!(o&&o[oc])}s(uo,"isMap"),Ie.isMap=uo;var oc="@@__IMMUTABLE_MAP__@@",ke=Ie.prototype;ke[oc]=!0,ke[b]=ke.remove,ke.removeIn=ke.deleteIn;function sr(o,u){this.ownerID=o,this.entries=u}s(sr,"ArrayMapNode"),sr.prototype.get=function(o,u,l,m){for(var h=this.entries,w=0,k=h.length;w<k;w++)if(Pe(l,h[w][0]))return h[w][1];return m},sr.prototype.update=function(o,u,l,m,h,w,k){for(var D=h===A,V=this.entries,Y=0,Q=V.length;Y<Q&&!Pe(m,V[Y][0]);Y++);var he=Y<Q;if(he?V[Y][1]===h:D)return this;if(oe(k),(D||!he)&&oe(w),!(D&&V.length===1)){if(!he&&!D&&V.length>=Jy)return Uy(o,V,m,h);var ve=o&&o===this.ownerID,Se=ve?V:fe(V);return he?D?Y===Q-1?Se.pop():Se[Y]=Se.pop():Se[Y]=[m,h]:Se.push([m,h]),ve?(this.entries=Se,this):new sr(o,Se)}};function qn(o,u,l){this.ownerID=o,this.bitmap=u,this.nodes=l}s(qn,"BitmapIndexedNode"),qn.prototype.get=function(o,u,l,m){u===void 0&&(u=dt(l));var h=1<<((o===0?u:u>>>o)&q),w=this.bitmap;return(w&h)==0?m:this.nodes[mc(w&h-1)].get(o+E,u,l,m)},qn.prototype.update=function(o,u,l,m,h,w,k){l===void 0&&(l=dt(m));var D=(u===0?l:l>>>u)&q,V=1<<D,Y=this.bitmap,Q=(Y&V)!=0;if(!Q&&h===A)return this;var he=mc(Y&V-1),ve=this.nodes,Se=Q?ve[he]:void 0,Ce=mo(Se,o,u+E,l,m,h,w,k);if(Ce===Se)return this;if(!Q&&Ce&&ve.length>=Wy)return zy(o,ve,Y,D,Ce);if(Q&&!Ce&&ve.length===2&&uc(ve[he^1]))return ve[he^1];if(Q&&Ce&&ve.length===1&&uc(Ce))return Ce;var Ue=o&&o===this.ownerID,Ct=Q?Ce?Y:Y^V:Y|V,Pt=Q?Ce?gc(ve,he,Ce,Ue):Fy(ve,he,Ue):Hy(ve,he,Ce,Ue);return Ue?(this.bitmap=Ct,this.nodes=Pt,this):new qn(o,Ct,Pt)};function ar(o,u,l){this.ownerID=o,this.count=u,this.nodes=l}s(ar,"HashArrayMapNode"),ar.prototype.get=function(o,u,l,m){u===void 0&&(u=dt(l));var h=(o===0?u:u>>>o)&q,w=this.nodes[h];return w?w.get(o+E,u,l,m):m},ar.prototype.update=function(o,u,l,m,h,w,k){l===void 0&&(l=dt(m));var D=(u===0?l:l>>>u)&q,V=h===A,Y=this.nodes,Q=Y[D];if(V&&!Q)return this;var he=mo(Q,o,u+E,l,m,h,w,k);if(he===Q)return this;var ve=this.count;if(!Q)ve++;else if(!he&&(ve--,ve<Vy))return $y(o,Y,ve,D);var Se=o&&o===this.ownerID,Ce=gc(Y,D,he,Se);return Se?(this.count=ve,this.nodes=Ce,this):new ar(o,ve,Ce)};function Rn(o,u,l){this.ownerID=o,this.keyHash=u,this.entries=l}s(Rn,"HashCollisionNode"),Rn.prototype.get=function(o,u,l,m){for(var h=this.entries,w=0,k=h.length;w<k;w++)if(Pe(l,h[w][0]))return h[w][1];return m},Rn.prototype.update=function(o,u,l,m,h,w,k){l===void 0&&(l=dt(m));var D=h===A;if(l!==this.keyHash)return D?this:(oe(k),oe(w),go(this,o,u,l,[m,h]));for(var V=this.entries,Y=0,Q=V.length;Y<Q&&!Pe(m,V[Y][0]);Y++);var he=Y<Q;if(he?V[Y][1]===h:D)return this;if(oe(k),(D||!he)&&oe(w),D&&Q===2)return new Wt(o,this.keyHash,V[Y^1]);var ve=o&&o===this.ownerID,Se=ve?V:fe(V);return he?D?Y===Q-1?Se.pop():Se[Y]=Se.pop():Se[Y]=[m,h]:Se.push([m,h]),ve?(this.entries=Se,this):new Rn(o,this.keyHash,Se)};function Wt(o,u,l){this.ownerID=o,this.keyHash=u,this.entry=l}s(Wt,"ValueNode"),Wt.prototype.get=function(o,u,l,m){return Pe(l,this.entry[0])?this.entry[1]:m},Wt.prototype.update=function(o,u,l,m,h,w,k){var D=h===A,V=Pe(m,this.entry[0]);if(V?h===this.entry[1]:D)return this;if(oe(k),D){oe(w);return}return V?o&&o===this.ownerID?(this.entry[1]=h,this):new Wt(o,this.keyHash,[m,h]):(oe(w),go(this,o,u,dt(m),[m,h]))},sr.prototype.iterate=Rn.prototype.iterate=function(o,u){for(var l=this.entries,m=0,h=l.length-1;m<=h;m++)if(o(l[u?h-m:m])===!1)return!1},qn.prototype.iterate=ar.prototype.iterate=function(o,u){for(var l=this.nodes,m=0,h=l.length-1;m<=h;m++){var w=l[u?h-m:m];if(w&&w.iterate(o,u)===!1)return!1}},Wt.prototype.iterate=function(o,u){return o(this.entry)},i(po,Z);function po(o,u,l){this._type=u,this._reverse=l,this._stack=o._root&&sc(o._root)}s(po,"MapIterator"),po.prototype.next=function(){for(var o=this._type,u=this._stack;u;){var l=u.node,m=u.index++,h;if(l.entry){if(m===0)return lo(o,l.entry)}else if(l.entries){if(h=l.entries.length-1,m<=h)return lo(o,l.entries[this._reverse?h-m:m])}else if(h=l.nodes.length-1,m<=h){var w=l.nodes[this._reverse?h-m:m];if(w){if(w.entry)return lo(o,w.entry);u=this._stack=sc(w,u)}continue}u=this._stack=this._stack.__prev}return me()};function lo(o,u){return ee(o,u[0],u[1])}s(lo,"mapIteratorValue");function sc(o,u){return{node:o,index:0,__prev:u}}s(sc,"mapIteratorFrame");function fo(o,u,l,m){var h=Object.create(ke);return h.size=o,h._root=u,h.__ownerID=l,h.__hash=m,h.__altered=!1,h}s(fo,"makeMap");var ac;function At(){return ac||(ac=fo(0))}s(At,"emptyMap");function cc(o,u,l){var m,h;if(o._root){var w=re(z),k=re(F);if(m=mo(o._root,o.__ownerID,0,void 0,u,l,w,k),!k.value)return o;h=o.size+(w.value?l===A?-1:1:0)}else{if(l===A)return o;h=1,m=new sr(o.__ownerID,[[u,l]])}return o.__ownerID?(o.size=h,o._root=m,o.__hash=void 0,o.__altered=!0,o):m?fo(h,m):At()}s(cc,"updateMap");function mo(o,u,l,m,h,w,k,D){return o?o.update(u,l,m,h,w,k,D):w===A?o:(oe(D),oe(k),new Wt(u,m,[h,w]))}s(mo,"updateNode");function uc(o){return o.constructor===Wt||o.constructor===Rn}s(uc,"isLeafNode");function go(o,u,l,m,h){if(o.keyHash===m)return new Rn(u,m,[o.entry,h]);var w=(l===0?o.keyHash:o.keyHash>>>l)&q,k=(l===0?m:m>>>l)&q,D,V=w===k?[go(o,u,l+E,m,h)]:(D=new Wt(u,m,h),w<k?[o,D]:[D,o]);return new qn(u,1<<w|1<<k,V)}s(go,"mergeIntoNode");function Uy(o,u,l,m){o||(o=new le);for(var h=new Wt(o,dt(l),[l,m]),w=0;w<u.length;w++){var k=u[w];h=h.update(o,0,void 0,k[0],k[1])}return h}s(Uy,"createNodes");function $y(o,u,l,m){for(var h=0,w=0,k=new Array(l),D=0,V=1,Y=u.length;D<Y;D++,V<<=1){var Q=u[D];Q!==void 0&&D!==m&&(h|=V,k[w++]=Q)}return new qn(o,h,k)}s($y,"packNodes");function zy(o,u,l,m,h){for(var w=0,k=new Array(S),D=0;l!==0;D++,l>>>=1)k[D]=l&1?u[w++]:void 0;return k[m]=h,new ar(o,w+1,k)}s(zy,"expandNodes");function Kr(o,u,l){for(var m=[],h=0;h<l.length;h++){var w=l[h],k=c(w);d(w)||(k=k.map(function(D){return it(D)})),m.push(k)}return fc(o,u,m)}s(Kr,"mergeIntoMapWith");function pc(o,u,l){return o&&o.mergeDeep&&d(u)?o.mergeDeep(u):Pe(o,u)?o:u}s(pc,"deepMerger");function lc(o){return function(u,l,m){if(u&&u.mergeDeepWith&&d(l))return u.mergeDeepWith(o,l);var h=o(u,l,m);return Pe(u,h)?u:h}}s(lc,"deepMergerWith");function fc(o,u,l){return l=l.filter(function(m){return m.size!==0}),l.length===0?o:o.size===0&&!o.__ownerID&&l.length===1?o.constructor(l[0]):o.withMutations(function(m){for(var h=u?function(k,D){m.update(D,A,function(V){return V===A?k:u(V,k,D)})}:function(k,D){m.set(D,k)},w=0;w<l.length;w++)l[w].forEach(h)})}s(fc,"mergeIntoCollectionWith");function dc(o,u,l,m){var h=o===A,w=u.next();if(w.done){var k=h?l:o,D=m(k);return D===k?o:D}Lr(h||o&&o.set,"invalid keyPath");var V=w.value,Y=h?A:o.get(V,A),Q=dc(Y,u,l,m);return Q===Y?o:Q===A?o.remove(V):(h?At():o).set(V,Q)}s(dc,"updateInDeepMap");function mc(o){return o=o-(o>>1&1431655765),o=(o&858993459)+(o>>2&858993459),o=o+(o>>4)&252645135,o=o+(o>>8),o=o+(o>>16),o&127}s(mc,"popCount");function gc(o,u,l,m){var h=m?o:fe(o);return h[u]=l,h}s(gc,"setIn");function Hy(o,u,l,m){var h=o.length+1;if(m&&u+1===h)return o[u]=l,o;for(var w=new Array(h),k=0,D=0;D<h;D++)D===u?(w[D]=l,k=-1):w[D]=o[D+k];return w}s(Hy,"spliceIn");function Fy(o,u,l){var m=o.length-1;if(l&&u===m)return o.pop(),o;for(var h=new Array(m),w=0,k=0;k<m;k++)k===u&&(w=1),h[k]=o[k+w];return h}s(Fy,"spliceOut");var Jy=S/4,Wy=S/2,Vy=S/4;i(Le,jn);function Le(o){var u=ho();if(o==null)return u;if(hc(o))return o;var l=p(o),m=l.size;return m===0?u:(mt(m),m>0&&m<S?ur(0,m,E,null,new en(l.toArray())):u.withMutations(function(h){h.setSize(m),l.forEach(function(w,k){return h.set(k,w)})}))}s(Le,"List"),Le.of=function(){return this(arguments)},Le.prototype.toString=function(){return this.__toString("List [","]")},Le.prototype.get=function(o,u){if(o=j(this,o),o>=0&&o<this.size){o+=this._origin;var l=bc(this,o);return l&&l.array[o&q]}return u},Le.prototype.set=function(o,u){return Gy(this,o,u)},Le.prototype.remove=function(o){return this.has(o)?o===0?this.shift():o===this.size-1?this.pop():this.splice(o,1):this},Le.prototype.insert=function(o,u){return this.splice(o,0,u)},Le.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=E,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ho()},Le.prototype.push=function(){var o=arguments,u=this.size;return this.withMutations(function(l){tn(l,0,u+o.length);for(var m=0;m<o.length;m++)l.set(u+m,o[m])})},Le.prototype.pop=function(){return tn(this,0,-1)},Le.prototype.unshift=function(){var o=arguments;return this.withMutations(function(u){tn(u,-o.length);for(var l=0;l<o.length;l++)u.set(l,o[l])})},Le.prototype.shift=function(){return tn(this,1)},Le.prototype.merge=function(){return Ur(this,void 0,arguments)},Le.prototype.mergeWith=function(o){var u=r.call(arguments,1);return Ur(this,o,u)},Le.prototype.mergeDeep=function(){return Ur(this,pc,arguments)},Le.prototype.mergeDeepWith=function(o){var u=r.call(arguments,1);return Ur(this,lc(o),u)},Le.prototype.setSize=function(o){return tn(this,0,o)},Le.prototype.slice=function(o,u){var l=this.size;return B(o,u,l)?this:tn(this,H(o,l),J(u,l))},Le.prototype.__iterator=function(o,u){var l=0,m=vc(this,u);return new Z(function(){var h=m();return h===cr?me():ee(o,l++,h)})},Le.prototype.__iterate=function(o,u){for(var l=0,m=vc(this,u),h;(h=m())!==cr&&o(h,l++,this)!==!1;);return l},Le.prototype.__ensureOwner=function(o){return o===this.__ownerID?this:o?ur(this._origin,this._capacity,this._level,this._root,this._tail,o,this.__hash):(this.__ownerID=o,this)};function hc(o){return!!(o&&o[yc])}s(hc,"isList"),Le.isList=hc;var yc="@@__IMMUTABLE_LIST__@@",st=Le.prototype;st[yc]=!0,st[b]=st.remove,st.setIn=ke.setIn,st.deleteIn=st.removeIn=ke.removeIn,st.update=ke.update,st.updateIn=ke.updateIn,st.mergeIn=ke.mergeIn,st.mergeDeepIn=ke.mergeDeepIn,st.withMutations=ke.withMutations,st.asMutable=ke.asMutable,st.asImmutable=ke.asImmutable,st.wasAltered=ke.wasAltered;function en(o,u){this.array=o,this.ownerID=u}s(en,"VNode"),en.prototype.removeBefore=function(o,u,l){if(l===u?1<<u:this.array.length===0)return this;var m=l>>>u&q;if(m>=this.array.length)return new en([],o);var h=m===0,w;if(u>0){var k=this.array[m];if(w=k&&k.removeBefore(o,u-E,l),w===k&&h)return this}if(h&&!w)return this;var D=Mn(this,o);if(!h)for(var V=0;V<m;V++)D.array[V]=void 0;return w&&(D.array[m]=w),D},en.prototype.removeAfter=function(o,u,l){if(l===(u?1<<u:0)||this.array.length===0)return this;var m=l-1>>>u&q;if(m>=this.array.length)return this;var h;if(u>0){var w=this.array[m];if(h=w&&w.removeAfter(o,u-E,l),h===w&&m===this.array.length-1)return this}var k=Mn(this,o);return k.array.splice(m+1),h&&(k.array[m]=h),k};var cr={};function vc(o,u){var l=o._origin,m=o._capacity,h=pr(m),w=o._tail;return k(o._root,o._level,0);function k(Y,Q,he){return Q===0?D(Y,he):V(Y,Q,he)}function D(Y,Q){var he=Q===h?w&&w.array:Y&&Y.array,ve=Q>l?0:l-Q,Se=m-Q;return Se>S&&(Se=S),function(){if(ve===Se)return cr;var Ce=u?--Se:ve++;return he&&he[Ce]}}function V(Y,Q,he){var ve,Se=Y&&Y.array,Ce=he>l?0:l-he>>Q,Ue=(m-he>>Q)+1;return Ue>S&&(Ue=S),function(){do{if(ve){var Ct=ve();if(Ct!==cr)return Ct;ve=null}if(Ce===Ue)return cr;var Pt=u?--Ue:Ce++;ve=k(Se&&Se[Pt],Q-E,he+(Pt<<Q))}while(!0)}}}s(vc,"iterateList");function ur(o,u,l,m,h,w,k){var D=Object.create(st);return D.size=u-o,D._origin=o,D._capacity=u,D._level=l,D._root=m,D._tail=h,D.__ownerID=w,D.__hash=k,D.__altered=!1,D}s(ur,"makeList");var xc;function ho(){return xc||(xc=ur(0,0,E))}s(ho,"emptyList");function Gy(o,u,l){if(u=j(o,u),u!==u)return o;if(u>=o.size||u<0)return o.withMutations(function(k){u<0?tn(k,u).set(0,l):tn(k,0,u+1).set(u,l)});u+=o._origin;var m=o._tail,h=o._root,w=re(F);return u>=pr(o._capacity)?m=yo(m,o.__ownerID,0,u,l,w):h=yo(h,o.__ownerID,o._level,u,l,w),w.value?o.__ownerID?(o._root=h,o._tail=m,o.__hash=void 0,o.__altered=!0,o):ur(o._origin,o._capacity,o._level,h,m):o}s(Gy,"updateList");function yo(o,u,l,m,h,w){var k=m>>>l&q,D=o&&k<o.array.length;if(!D&&h===void 0)return o;var V;if(l>0){var Y=o&&o.array[k],Q=yo(Y,u,l-E,m,h,w);return Q===Y?o:(V=Mn(o,u),V.array[k]=Q,V)}return D&&o.array[k]===h?o:(oe(w),V=Mn(o,u),h===void 0&&k===V.array.length-1?V.array.pop():V.array[k]=h,V)}s(yo,"updateVNode");function Mn(o,u){return u&&o&&u===o.ownerID?o:new en(o?o.array.slice():[],u)}s(Mn,"editableVNode");function bc(o,u){if(u>=pr(o._capacity))return o._tail;if(u<1<<o._level+E){for(var l=o._root,m=o._level;l&&m>0;)l=l.array[u>>>m&q],m-=E;return l}}s(bc,"listNodeFor");function tn(o,u,l){u!==void 0&&(u=u|0),l!==void 0&&(l=l|0);var m=o.__ownerID||new le,h=o._origin,w=o._capacity,k=h+u,D=l===void 0?w:l<0?w+l:h+l;if(k===h&&D===w)return o;if(k>=D)return o.clear();for(var V=o._level,Y=o._root,Q=0;k+Q<0;)Y=new en(Y&&Y.array.length?[void 0,Y]:[],m),V+=E,Q+=1<<V;Q&&(k+=Q,h+=Q,D+=Q,w+=Q);for(var he=pr(w),ve=pr(D);ve>=1<<V+E;)Y=new en(Y&&Y.array.length?[Y]:[],m),V+=E;var Se=o._tail,Ce=ve<he?bc(o,D-1):ve>he?new en([],m):Se;if(Se&&ve>he&&k<w&&Se.array.length){Y=Mn(Y,m);for(var Ue=Y,Ct=V;Ct>E;Ct-=E){var Pt=he>>>Ct&q;Ue=Ue.array[Pt]=Mn(Ue.array[Pt],m)}Ue.array[he>>>E&q]=Se}if(D<w&&(Ce=Ce&&Ce.removeAfter(m,0,D)),k>=ve)k-=ve,D-=ve,V=E,Y=null,Ce=Ce&&Ce.removeBefore(m,0,k);else if(k>h||ve<he){for(Q=0;Y;){var Vr=k>>>V&q;if(Vr!==ve>>>V&q)break;Vr&&(Q+=(1<<V)*Vr),V-=E,Y=Y.array[Vr]}Y&&k>h&&(Y=Y.removeBefore(m,V,k-Q)),Y&&ve<he&&(Y=Y.removeAfter(m,V,ve-Q)),Q&&(k-=Q,D-=Q)}return o.__ownerID?(o.size=D-k,o._origin=k,o._capacity=D,o._level=V,o._root=Y,o._tail=Ce,o.__hash=void 0,o.__altered=!0,o):ur(k,D,V,Y,Ce)}s(tn,"setListBounds");function Ur(o,u,l){for(var m=[],h=0,w=0;w<l.length;w++){var k=l[w],D=p(k);D.size>h&&(h=D.size),d(k)||(D=D.map(function(V){return it(V)})),m.push(D)}return h>o.size&&(o=o.setSize(h)),fc(o,u,m)}s(Ur,"mergeIntoListWith");function pr(o){return o<S?0:o-1>>>E<<E}s(pr,"getTailOffset"),i(Fe,Ie);function Fe(o){return o==null?$r():_c(o)?o:$r().withMutations(function(u){var l=c(o);mt(l.size),l.forEach(function(m,h){return u.set(h,m)})})}s(Fe,"OrderedMap"),Fe.of=function(){return this(arguments)},Fe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Fe.prototype.get=function(o,u){var l=this._map.get(o);return l!==void 0?this._list.get(l)[1]:u},Fe.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):$r()},Fe.prototype.set=function(o,u){return Ec(this,o,u)},Fe.prototype.remove=function(o){return Ec(this,o,A)},Fe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Fe.prototype.__iterate=function(o,u){var l=this;return this._list.__iterate(function(m){return m&&o(m[1],m[0],l)},u)},Fe.prototype.__iterator=function(o,u){return this._list.fromEntrySeq().__iterator(o,u)},Fe.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var u=this._map.__ensureOwner(o),l=this._list.__ensureOwner(o);return o?vo(u,l,o,this.__hash):(this.__ownerID=o,this._map=u,this._list=l,this)};function _c(o){return uo(o)&&_(o)}s(_c,"isOrderedMap"),Fe.isOrderedMap=_c,Fe.prototype[T]=!0,Fe.prototype[b]=Fe.prototype.remove;function vo(o,u,l,m){var h=Object.create(Fe.prototype);return h.size=o?o.size:0,h._map=o,h._list=u,h.__ownerID=l,h.__hash=m,h}s(vo,"makeOrderedMap");var wc;function $r(){return wc||(wc=vo(At(),ho()))}s($r,"emptyOrderedMap");function Ec(o,u,l){var m=o._map,h=o._list,w=m.get(u),k=w!==void 0,D,V;if(l===A){if(!k)return o;h.size>=S&&h.size>=m.size*2?(V=h.filter(function(Y,Q){return Y!==void 0&&w!==Q}),D=V.toKeyedSeq().map(function(Y){return Y[0]}).flip().toMap(),o.__ownerID&&(D.__ownerID=V.__ownerID=o.__ownerID)):(D=m.remove(u),V=w===h.size-1?h.pop():h.set(w,void 0))}else if(k){if(l===h.get(w)[1])return o;D=m,V=h.set(w,[u,l])}else D=m.set(u,h.size),V=h.set(h.size,[u,l]);return o.__ownerID?(o.size=D.size,o._map=D,o._list=V,o.__hash=void 0,o):vo(D,V)}s(Ec,"updateOrderedMap"),i(bt,U);function bt(o,u){this._iter=o,this._useKeys=u,this.size=o.size}s(bt,"ToKeyedSequence"),bt.prototype.get=function(o,u){return this._iter.get(o,u)},bt.prototype.has=function(o){return this._iter.has(o)},bt.prototype.valueSeq=function(){return this._iter.valueSeq()},bt.prototype.reverse=function(){var o=this,u=xo(this,!0);return this._useKeys||(u.valueSeq=function(){return o._iter.toSeq().reverse()}),u},bt.prototype.map=function(o,u){var l=this,m=Tc(this,o,u);return this._useKeys||(m.valueSeq=function(){return l._iter.toSeq().map(o,u)}),m},bt.prototype.__iterate=function(o,u){var l=this,m;return this._iter.__iterate(this._useKeys?function(h,w){return o(h,w,l)}:(m=u?jc(this):0,function(h){return o(h,u?--m:m++,l)}),u)},bt.prototype.__iterator=function(o,u){if(this._useKeys)return this._iter.__iterator(o,u);var l=this._iter.__iterator(ue,u),m=u?jc(this):0;return new Z(function(){var h=l.next();return h.done?h:ee(o,u?--m:m++,h.value,h)})},bt.prototype[T]=!0,i(Nn,$);function Nn(o){this._iter=o,this.size=o.size}s(Nn,"ToIndexedSequence"),Nn.prototype.includes=function(o){return this._iter.includes(o)},Nn.prototype.__iterate=function(o,u){var l=this,m=0;return this._iter.__iterate(function(h){return o(h,m++,l)},u)},Nn.prototype.__iterator=function(o,u){var l=this._iter.__iterator(ue,u),m=0;return new Z(function(){var h=l.next();return h.done?h:ee(o,m++,h.value,h)})},i(Pn,W);function Pn(o){this._iter=o,this.size=o.size}s(Pn,"ToSetSequence"),Pn.prototype.has=function(o){return this._iter.includes(o)},Pn.prototype.__iterate=function(o,u){var l=this;return this._iter.__iterate(function(m){return o(m,m,l)},u)},Pn.prototype.__iterator=function(o,u){var l=this._iter.__iterator(ue,u);return new Z(function(){var m=l.next();return m.done?m:ee(o,m.value,m.value,m)})},i(Bn,U);function Bn(o){this._iter=o,this.size=o.size}s(Bn,"FromEntriesSequence"),Bn.prototype.entrySeq=function(){return this._iter.toSeq()},Bn.prototype.__iterate=function(o,u){var l=this;return this._iter.__iterate(function(m){if(m){Ic(m);var h=d(m);return o(h?m.get(1):m[1],h?m.get(0):m[0],l)}},u)},Bn.prototype.__iterator=function(o,u){var l=this._iter.__iterator(ue,u);return new Z(function(){for(;;){var m=l.next();if(m.done)return m;var h=m.value;if(h){Ic(h);var w=d(h);return ee(o,w?h.get(0):h[0],w?h.get(1):h[1],m)}}})},Nn.prototype.cacheResult=bt.prototype.cacheResult=Pn.prototype.cacheResult=Bn.prototype.cacheResult=wo;function Sc(o){var u=Rt(o);return u._iter=o,u.size=o.size,u.flip=function(){return o},u.reverse=function(){var l=o.reverse.apply(this);return l.flip=function(){return o.reverse()},l},u.has=function(l){return o.includes(l)},u.includes=function(l){return o.has(l)},u.cacheResult=wo,u.__iterateUncached=function(l,m){var h=this;return o.__iterate(function(w,k){return l(k,w,h)!==!1},m)},u.__iteratorUncached=function(l,m){if(l===I){var h=o.__iterator(l,m);return new Z(function(){var w=h.next();if(!w.done){var k=w.value[0];w.value[0]=w.value[1],w.value[1]=k}return w})}return o.__iterator(l===ue?ae:ue,m)},u}s(Sc,"flipFactory");function Tc(o,u,l){var m=Rt(o);return m.size=o.size,m.has=function(h){return o.has(h)},m.get=function(h,w){var k=o.get(h,A);return k===A?w:u.call(l,k,h,o)},m.__iterateUncached=function(h,w){var k=this;return o.__iterate(function(D,V,Y){return h(u.call(l,D,V,Y),V,k)!==!1},w)},m.__iteratorUncached=function(h,w){var k=o.__iterator(I,w);return new Z(function(){var D=k.next();if(D.done)return D;var V=D.value,Y=V[0];return ee(h,Y,u.call(l,V[1],Y,o),D)})},m}s(Tc,"mapFactory");function xo(o,u){var l=Rt(o);return l._iter=o,l.size=o.size,l.reverse=function(){return o},o.flip&&(l.flip=function(){var m=Sc(o);return m.reverse=function(){return o.flip()},m}),l.get=function(m,h){return o.get(u?m:-1-m,h)},l.has=function(m){return o.has(u?m:-1-m)},l.includes=function(m){return o.includes(m)},l.cacheResult=wo,l.__iterate=function(m,h){var w=this;return o.__iterate(function(k,D){return m(k,D,w)},!h)},l.__iterator=function(m,h){return o.__iterator(m,!h)},l}s(xo,"reverseFactory");function Oc(o,u,l,m){var h=Rt(o);return m&&(h.has=function(w){var k=o.get(w,A);return k!==A&&!!u.call(l,k,w,o)},h.get=function(w,k){var D=o.get(w,A);return D!==A&&u.call(l,D,w,o)?D:k}),h.__iterateUncached=function(w,k){var D=this,V=0;return o.__iterate(function(Y,Q,he){if(u.call(l,Y,Q,he))return V++,w(Y,m?Q:V-1,D)},k),V},h.__iteratorUncached=function(w,k){var D=o.__iterator(I,k),V=0;return new Z(function(){for(;;){var Y=D.next();if(Y.done)return Y;var Q=Y.value,he=Q[0],ve=Q[1];if(u.call(l,ve,he,o))return ee(w,m?he:V++,ve,Y)}})},h}s(Oc,"filterFactory");function Yy(o,u,l){var m=Ie().asMutable();return o.__iterate(function(h,w){m.update(u.call(l,h,w,o),0,function(k){return k+1})}),m.asImmutable()}s(Yy,"countByFactory");function Xy(o,u,l){var m=g(o),h=(_(o)?Fe():Ie()).asMutable();o.__iterate(function(k,D){h.update(u.call(l,k,D,o),function(V){return V=V||[],V.push(m?[D,k]:k),V})});var w=qc(o);return h.map(function(k){return Re(o,w(k))})}s(Xy,"groupByFactory");function bo(o,u,l,m){var h=o.size;if(u!==void 0&&(u=u|0),l!==void 0&&(l===Infinity?l=h:l=l|0),B(u,l,h))return o;var w=H(u,h),k=J(l,h);if(w!==w||k!==k)return bo(o.toSeq().cacheResult(),u,l,m);var D=k-w,V;D===D&&(V=D<0?0:D);var Y=Rt(o);return Y.size=V===0?V:o.size&&V||void 0,!m&&ge(o)&&V>=0&&(Y.get=function(Q,he){return Q=j(this,Q),Q>=0&&Q<V?o.get(Q+w,he):he}),Y.__iterateUncached=function(Q,he){var ve=this;if(V===0)return 0;if(he)return this.cacheResult().__iterate(Q,he);var Se=0,Ce=!0,Ue=0;return o.__iterate(function(Ct,Pt){if(!(Ce&&(Ce=Se++<w)))return Ue++,Q(Ct,m?Pt:Ue-1,ve)!==!1&&Ue!==V}),Ue},Y.__iteratorUncached=function(Q,he){if(V!==0&&he)return this.cacheResult().__iterator(Q,he);var ve=V!==0&&o.__iterator(Q,he),Se=0,Ce=0;return new Z(function(){for(;Se++<w;)ve.next();if(++Ce>V)return me();var Ue=ve.next();return m||Q===ue?Ue:Q===ae?ee(Q,Ce-1,void 0,Ue):ee(Q,Ce-1,Ue.value[1],Ue)})},Y}s(bo,"sliceFactory");function Zy(o,u,l){var m=Rt(o);return m.__iterateUncached=function(h,w){var k=this;if(w)return this.cacheResult().__iterate(h,w);var D=0;return o.__iterate(function(V,Y,Q){return u.call(l,V,Y,Q)&&++D&&h(V,Y,k)}),D},m.__iteratorUncached=function(h,w){var k=this;if(w)return this.cacheResult().__iterator(h,w);var D=o.__iterator(I,w),V=!0;return new Z(function(){if(!V)return me();var Y=D.next();if(Y.done)return Y;var Q=Y.value,he=Q[0],ve=Q[1];return u.call(l,ve,he,k)?h===I?Y:ee(h,he,ve,Y):(V=!1,me())})},m}s(Zy,"takeWhileFactory");function Ac(o,u,l,m){var h=Rt(o);return h.__iterateUncached=function(w,k){var D=this;if(k)return this.cacheResult().__iterate(w,k);var V=!0,Y=0;return o.__iterate(function(Q,he,ve){if(!(V&&(V=u.call(l,Q,he,ve))))return Y++,w(Q,m?he:Y-1,D)}),Y},h.__iteratorUncached=function(w,k){var D=this;if(k)return this.cacheResult().__iterator(w,k);var V=o.__iterator(I,k),Y=!0,Q=0;return new Z(function(){var he,ve,Se;do{if(he=V.next(),he.done)return m||w===ue?he:w===ae?ee(w,Q++,void 0,he):ee(w,Q++,he.value[1],he);var Ce=he.value;ve=Ce[0],Se=Ce[1],Y&&(Y=u.call(l,Se,ve,D))}while(Y);return w===I?he:ee(w,ve,Se,he)})},h}s(Ac,"skipWhileFactory");function Qy(o,u){var l=g(o),m=[o].concat(u).map(function(k){return d(k)?l&&(k=c(k)):k=l?Te(k):Ae(Array.isArray(k)?k:[k]),k}).filter(function(k){return k.size!==0});if(m.length===0)return o;if(m.length===1){var h=m[0];if(h===o||l&&g(h)||y(o)&&y(h))return h}var w=new P(m);return l?w=w.toKeyedSeq():y(o)||(w=w.toSetSeq()),w=w.flatten(!0),w.size=m.reduce(function(k,D){if(k!==void 0){var V=D.size;if(V!==void 0)return k+V}},0),w}s(Qy,"concatFactory");function Cc(o,u,l){var m=Rt(o);return m.__iterateUncached=function(h,w){var k=0,D=!1;function V(Y,Q){var he=this;Y.__iterate(function(ve,Se){return(!u||Q<u)&&d(ve)?V(ve,Q+1):h(ve,l?Se:k++,he)===!1&&(D=!0),!D},w)}return s(V,"flatDeep"),V(o,0),k},m.__iteratorUncached=function(h,w){var k=o.__iterator(h,w),D=[],V=0;return new Z(function(){for(;k;){var Y=k.next();if(Y.done!==!1){k=D.pop();continue}var Q=Y.value;if(h===I&&(Q=Q[1]),(!u||D.length<u)&&d(Q))D.push(k),k=Q.__iterator(h,w);else return l?Y:ee(h,V++,Q,Y)}return me()})},m}s(Cc,"flattenFactory");function ev(o,u,l){var m=qc(o);return o.toSeq().map(function(h,w){return m(u.call(l,h,w,o))}).flatten(!0)}s(ev,"flatMapFactory");function tv(o,u){var l=Rt(o);return l.size=o.size&&o.size*2-1,l.__iterateUncached=function(m,h){var w=this,k=0;return o.__iterate(function(D,V){return(!k||m(u,k++,w)!==!1)&&m(D,k++,w)!==!1},h),k},l.__iteratorUncached=function(m,h){var w=o.__iterator(ue,h),k=0,D;return new Z(function(){return(!D||k%2)&&(D=w.next(),D.done)?D:k%2?ee(m,k++,u):ee(m,k++,D.value,D)})},l}s(tv,"interposeFactory");function Ln(o,u,l){u||(u=Rc);var m=g(o),h=0,w=o.toSeq().map(function(k,D){return[D,k,h++,l?l(k,D,o):k]}).toArray();return w.sort(function(k,D){return u(k[3],D[3])||k[2]-D[2]}).forEach(m?function(k,D){w[D].length=2}:function(k,D){w[D]=k[1]}),m?U(w):y(o)?$(w):W(w)}s(Ln,"sortFactory");function zr(o,u,l){if(u||(u=Rc),l){var m=o.toSeq().map(function(h,w){return[h,l(h,w,o)]}).reduce(function(h,w){return kc(u,h[1],w[1])?w:h});return m&&m[0]}else return o.reduce(function(h,w){return kc(u,h,w)?w:h})}s(zr,"maxFactory");function kc(o,u,l){var m=o(l,u);return m===0&&l!==u&&(l==null||l!==l)||m>0}s(kc,"maxCompare");function _o(o,u,l){var m=Rt(o);return m.size=new P(l).map(function(h){return h.size}).min(),m.__iterate=function(h,w){for(var k=this.__iterator(ue,w),D,V=0;!(D=k.next()).done&&h(D.value,V++,this)!==!1;);return V},m.__iteratorUncached=function(h,w){var k=l.map(function(Y){return Y=a(Y),we(w?Y.reverse():Y)}),D=0,V=!1;return new Z(function(){var Y;return V||(Y=k.map(function(Q){return Q.next()}),V=Y.some(function(Q){return Q.done})),V?me():ee(h,D++,u.apply(null,Y.map(function(Q){return Q.value})))})},m}s(_o,"zipWithFactory");function Re(o,u){return ge(o)?u:o.constructor(u)}s(Re,"reify");function Ic(o){if(o!==Object(o))throw new TypeError("Expected [K, V] tuple: "+o)}s(Ic,"validateEntry");function jc(o){return mt(o.size),G(o)}s(jc,"resolveSize");function qc(o){return g(o)?c:y(o)?p:f}s(qc,"iterableClass");function Rt(o){return Object.create((g(o)?U:y(o)?$:W).prototype)}s(Rt,"makeSequence");function wo(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):R.prototype.cacheResult.call(this)}s(wo,"cacheResultThrough");function Rc(o,u){return o>u?1:o<u?-1:0}s(Rc,"defaultComparator");function Mc(o){var u=we(o);if(!u){if(!N(o))throw new TypeError("Expected iterable or array-like: "+o);u=we(a(o))}return u}s(Mc,"forceIterator"),i(gt,ir);function gt(o,u){var l,m=s(function(k){if(k instanceof m)return k;if(!(this instanceof m))return new m(k);if(!l){l=!0;var D=Object.keys(o);nv(h,D),h.size=D.length,h._name=u,h._keys=D,h._defaultValues=o}this._map=Ie(k)},"Record"),h=m.prototype=Object.create(nt);return h.constructor=m,m}s(gt,"Record"),gt.prototype.toString=function(){return this.__toString(Nc(this)+" {","}")},gt.prototype.has=function(o){return this._defaultValues.hasOwnProperty(o)},gt.prototype.get=function(o,u){if(!this.has(o))return u;var l=this._defaultValues[o];return this._map?this._map.get(o,l):l},gt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var o=this.constructor;return o._empty||(o._empty=Hr(this,At()))},gt.prototype.set=function(o,u){if(!this.has(o))throw new Error('Cannot set unknown key "'+o+'" on '+Nc(this));if(this._map&&!this._map.has(o)){var l=this._defaultValues[o];if(u===l)return this}var m=this._map&&this._map.set(o,u);return this.__ownerID||m===this._map?this:Hr(this,m)},gt.prototype.remove=function(o){if(!this.has(o))return this;var u=this._map&&this._map.remove(o);return this.__ownerID||u===this._map?this:Hr(this,u)},gt.prototype.wasAltered=function(){return this._map.wasAltered()},gt.prototype.__iterator=function(o,u){var l=this;return c(this._defaultValues).map(function(m,h){return l.get(h)}).__iterator(o,u)},gt.prototype.__iterate=function(o,u){var l=this;return c(this._defaultValues).map(function(m,h){return l.get(h)}).__iterate(o,u)},gt.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var u=this._map&&this._map.__ensureOwner(o);return o?Hr(this,u,o):(this.__ownerID=o,this._map=u,this)};var nt=gt.prototype;nt[b]=nt.remove,nt.deleteIn=nt.removeIn=ke.removeIn,nt.merge=ke.merge,nt.mergeWith=ke.mergeWith,nt.mergeIn=ke.mergeIn,nt.mergeDeep=ke.mergeDeep,nt.mergeDeepWith=ke.mergeDeepWith,nt.mergeDeepIn=ke.mergeDeepIn,nt.setIn=ke.setIn,nt.update=ke.update,nt.updateIn=ke.updateIn,nt.withMutations=ke.withMutations,nt.asMutable=ke.asMutable,nt.asImmutable=ke.asImmutable;function Hr(o,u,l){var m=Object.create(Object.getPrototypeOf(o));return m._map=u,m.__ownerID=l,m}s(Hr,"makeRecord");function Nc(o){return o._name||o.constructor.name||"Record"}s(Nc,"recordName");function nv(o,u){try{u.forEach(rv.bind(void 0,o))}catch(l){}}s(nv,"setProps");function rv(o,u){Object.defineProperty(o,u,{get:function(){return this.get(u)},set:function(l){Lr(this.__ownerID,"Cannot set on an immutable record."),this.set(u,l)}})}s(rv,"setProp"),i(Ke,Dr);function Ke(o){return o==null?To():Eo(o)&&!_(o)?o:To().withMutations(function(u){var l=f(o);mt(l.size),l.forEach(function(m){return u.add(m)})})}s(Ke,"Set"),Ke.of=function(){return this(arguments)},Ke.fromKeys=function(o){return this(c(o).keySeq())},Ke.prototype.toString=function(){return this.__toString("Set {","}")},Ke.prototype.has=function(o){return this._map.has(o)},Ke.prototype.add=function(o){return So(this,this._map.set(o,!0))},Ke.prototype.remove=function(o){return So(this,this._map.remove(o))},Ke.prototype.clear=function(){return So(this,this._map.clear())},Ke.prototype.union=function(){var o=r.call(arguments,0);return o=o.filter(function(u){return u.size!==0}),o.length===0?this:this.size===0&&!this.__ownerID&&o.length===1?this.constructor(o[0]):this.withMutations(function(u){for(var l=0;l<o.length;l++)f(o[l]).forEach(function(m){return u.add(m)})})},Ke.prototype.intersect=function(){var o=r.call(arguments,0);if(o.length===0)return this;o=o.map(function(l){return f(l)});var u=this;return this.withMutations(function(l){u.forEach(function(m){o.every(function(h){return h.includes(m)})||l.remove(m)})})},Ke.prototype.subtract=function(){var o=r.call(arguments,0);if(o.length===0)return this;o=o.map(function(l){return f(l)});var u=this;return this.withMutations(function(l){u.forEach(function(m){o.some(function(h){return h.includes(m)})&&l.remove(m)})})},Ke.prototype.merge=function(){return this.union.apply(this,arguments)},Ke.prototype.mergeWith=function(o){var u=r.call(arguments,1);return this.union.apply(this,u)},Ke.prototype.sort=function(o){return Mt(Ln(this,o))},Ke.prototype.sortBy=function(o,u){return Mt(Ln(this,u,o))},Ke.prototype.wasAltered=function(){return this._map.wasAltered()},Ke.prototype.__iterate=function(o,u){var l=this;return this._map.__iterate(function(m,h){return o(h,h,l)},u)},Ke.prototype.__iterator=function(o,u){return this._map.map(function(l,m){return m}).__iterator(o,u)},Ke.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var u=this._map.__ensureOwner(o);return o?this.__make(u,o):(this.__ownerID=o,this._map=u,this)};function Eo(o){return!!(o&&o[Pc])}s(Eo,"isSet"),Ke.isSet=Eo;var Pc="@@__IMMUTABLE_SET__@@",ht=Ke.prototype;ht[Pc]=!0,ht[b]=ht.remove,ht.mergeDeep=ht.merge,ht.mergeDeepWith=ht.mergeWith,ht.withMutations=ke.withMutations,ht.asMutable=ke.asMutable,ht.asImmutable=ke.asImmutable,ht.__empty=To,ht.__make=Bc;function So(o,u){return o.__ownerID?(o.size=u.size,o._map=u,o):u===o._map?o:u.size===0?o.__empty():o.__make(u)}s(So,"updateSet");function Bc(o,u){var l=Object.create(ht);return l.size=o?o.size:0,l._map=o,l.__ownerID=u,l}s(Bc,"makeSet");var Lc;function To(){return Lc||(Lc=Bc(At()))}s(To,"emptySet"),i(Mt,Ke);function Mt(o){return o==null?Oo():Dc(o)?o:Oo().withMutations(function(u){var l=f(o);mt(l.size),l.forEach(function(m){return u.add(m)})})}s(Mt,"OrderedSet"),Mt.of=function(){return this(arguments)},Mt.fromKeys=function(o){return this(c(o).keySeq())},Mt.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Dc(o){return Eo(o)&&_(o)}s(Dc,"isOrderedSet"),Mt.isOrderedSet=Dc;var Fr=Mt.prototype;Fr[T]=!0,Fr.__empty=Oo,Fr.__make=Kc;function Kc(o,u){var l=Object.create(Fr);return l.size=o?o.size:0,l._map=o,l.__ownerID=u,l}s(Kc,"makeOrderedSet");var Uc;function Oo(){return Uc||(Uc=Kc($r()))}s(Oo,"emptyOrderedSet"),i(Ve,jn);function Ve(o){return o==null?Ao():$c(o)?o:Ao().unshiftAll(o)}s(Ve,"Stack"),Ve.of=function(){return this(arguments)},Ve.prototype.toString=function(){return this.__toString("Stack [","]")},Ve.prototype.get=function(o,u){var l=this._head;for(o=j(this,o);l&&o--;)l=l.next;return l?l.value:u},Ve.prototype.peek=function(){return this._head&&this._head.value},Ve.prototype.push=function(){if(arguments.length===0)return this;for(var o=this.size+arguments.length,u=this._head,l=arguments.length-1;l>=0;l--)u={value:arguments[l],next:u};return this.__ownerID?(this.size=o,this._head=u,this.__hash=void 0,this.__altered=!0,this):lr(o,u)},Ve.prototype.pushAll=function(o){if(o=p(o),o.size===0)return this;mt(o.size);var u=this.size,l=this._head;return o.reverse().forEach(function(m){u++,l={value:m,next:l}}),this.__ownerID?(this.size=u,this._head=l,this.__hash=void 0,this.__altered=!0,this):lr(u,l)},Ve.prototype.pop=function(){return this.slice(1)},Ve.prototype.unshift=function(){return this.push.apply(this,arguments)},Ve.prototype.unshiftAll=function(o){return this.pushAll(o)},Ve.prototype.shift=function(){return this.pop.apply(this,arguments)},Ve.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ao()},Ve.prototype.slice=function(o,u){if(B(o,u,this.size))return this;var l=H(o,this.size),m=J(u,this.size);if(m!==this.size)return jn.prototype.slice.call(this,o,u);for(var h=this.size-l,w=this._head;l--;)w=w.next;return this.__ownerID?(this.size=h,this._head=w,this.__hash=void 0,this.__altered=!0,this):lr(h,w)},Ve.prototype.__ensureOwner=function(o){return o===this.__ownerID?this:o?lr(this.size,this._head,o,this.__hash):(this.__ownerID=o,this.__altered=!1,this)},Ve.prototype.__iterate=function(o,u){if(u)return this.reverse().__iterate(o);for(var l=0,m=this._head;m&&o(m.value,l++,this)!==!1;)m=m.next;return l},Ve.prototype.__iterator=function(o,u){if(u)return this.reverse().__iterator(o);var l=0,m=this._head;return new Z(function(){if(m){var h=m.value;return m=m.next,ee(o,l++,h)}return me()})};function $c(o){return!!(o&&o[zc])}s($c,"isStack"),Ve.isStack=$c;var zc="@@__IMMUTABLE_STACK__@@",Dn=Ve.prototype;Dn[zc]=!0,Dn.withMutations=ke.withMutations,Dn.asMutable=ke.asMutable,Dn.asImmutable=ke.asImmutable,Dn.wasAltered=ke.wasAltered;function lr(o,u,l,m){var h=Object.create(Dn);return h.size=o,h._head=u,h.__ownerID=l,h.__hash=m,h.__altered=!1,h}s(lr,"makeStack");var Hc;function Ao(){return Hc||(Hc=lr(0))}s(Ao,"emptyStack");function Nt(o,u){var l=s(function(m){o.prototype[m]=u[m]},"keyCopier");return Object.keys(u).forEach(l),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(u).forEach(l),o}s(Nt,"mixin"),a.Iterator=Z,Nt(a,{toArray:function(){mt(this.size);var o=new Array(this.size||0);return this.valueSeq().__iterate(function(u,l){o[l]=u}),o},toIndexedSeq:function(){return new Nn(this)},toJS:function(){return this.toSeq().map(function(o){return o&&typeof o.toJS=="function"?o.toJS():o}).__toJS()},toJSON:function(){return this.toSeq().map(function(o){return o&&typeof o.toJSON=="function"?o.toJSON():o}).__toJS()},toKeyedSeq:function(){return new bt(this,!0)},toMap:function(){return Ie(this.toKeyedSeq())},toObject:function(){mt(this.size);var o={};return this.__iterate(function(u,l){o[l]=u}),o},toOrderedMap:function(){return Fe(this.toKeyedSeq())},toOrderedSet:function(){return Mt(g(this)?this.valueSeq():this)},toSet:function(){return Ke(g(this)?this.valueSeq():this)},toSetSeq:function(){return new Pn(this)},toSeq:function(){return y(this)?this.toIndexedSeq():g(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ve(g(this)?this.valueSeq():this)},toList:function(){return Le(g(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(o,u){return this.size===0?o+u:o+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+u},concat:function(){var o=r.call(arguments,0);return Re(this,Qy(this,o))},includes:function(o){return this.some(function(u){return Pe(u,o)})},entries:function(){return this.__iterator(I)},every:function(o,u){mt(this.size);var l=!0;return this.__iterate(function(m,h,w){if(!o.call(u,m,h,w))return l=!1,!1}),l},filter:function(o,u){return Re(this,Oc(this,o,u,!0))},find:function(o,u,l){var m=this.findEntry(o,u);return m?m[1]:l},forEach:function(o,u){return mt(this.size),this.__iterate(u?o.bind(u):o)},join:function(o){mt(this.size),o=o!==void 0?""+o:",";var u="",l=!0;return this.__iterate(function(m){l?l=!1:u+=o,u+=m!=null?m.toString():""}),u},keys:function(){return this.__iterator(ae)},map:function(o,u){return Re(this,Tc(this,o,u))},reduce:function(o,u,l){mt(this.size);var m,h;return arguments.length<2?h=!0:m=u,this.__iterate(function(w,k,D){h?(h=!1,m=w):m=o.call(l,m,w,k,D)}),m},reduceRight:function(o,u,l){var m=this.toKeyedSeq().reverse();return m.reduce.apply(m,arguments)},reverse:function(){return Re(this,xo(this,!0))},slice:function(o,u){return Re(this,bo(this,o,u,!0))},some:function(o,u){return!this.every(Wr(o),u)},sort:function(o){return Re(this,Ln(this,o))},values:function(){return this.__iterator(ue)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(o,u){return G(o?this.toSeq().filter(o,u):this)},countBy:function(o,u){return Yy(this,o,u)},equals:function(o){return hn(this,o)},entrySeq:function(){var o=this;if(o._cache)return new P(o._cache);var u=o.toSeq().map(ov).toIndexedSeq();return u.fromEntrySeq=function(){return o.toSeq()},u},filterNot:function(o,u){return this.filter(Wr(o),u)},findEntry:function(o,u,l){var m=l;return this.__iterate(function(h,w,k){if(o.call(u,h,w,k))return m=[w,h],!1}),m},findKey:function(o,u){var l=this.findEntry(o,u);return l&&l[0]},findLast:function(o,u,l){return this.toKeyedSeq().reverse().find(o,u,l)},findLastEntry:function(o,u,l){return this.toKeyedSeq().reverse().findEntry(o,u,l)},findLastKey:function(o,u){return this.toKeyedSeq().reverse().findKey(o,u)},first:function(){return this.find(M)},flatMap:function(o,u){return Re(this,ev(this,o,u))},flatten:function(o){return Re(this,Cc(this,o,!0))},fromEntrySeq:function(){return new Bn(this)},get:function(o,u){return this.find(function(l,m){return Pe(m,o)},void 0,u)},getIn:function(o,u){for(var l=this,m=Mc(o),h;!(h=m.next()).done;){var w=h.value;if(l=l&&l.get?l.get(w,A):A,l===A)return u}return l},groupBy:function(o,u){return Xy(this,o,u)},has:function(o){return this.get(o,A)!==A},hasIn:function(o){return this.getIn(o,A)!==A},isSubset:function(o){return o=typeof o.includes=="function"?o:a(o),this.every(function(u){return o.includes(u)})},isSuperset:function(o){return o=typeof o.isSubset=="function"?o:a(o),o.isSubset(this)},keyOf:function(o){return this.findKey(function(u){return Pe(u,o)})},keySeq:function(){return this.toSeq().map(iv).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(o){return this.toKeyedSeq().reverse().keyOf(o)},max:function(o){return zr(this,o)},maxBy:function(o,u){return zr(this,u,o)},min:function(o){return zr(this,o?Fc(o):Wc)},minBy:function(o,u){return zr(this,u?Fc(u):Wc,o)},rest:function(){return this.slice(1)},skip:function(o){return this.slice(Math.max(0,o))},skipLast:function(o){return Re(this,this.toSeq().reverse().skip(o).reverse())},skipWhile:function(o,u){return Re(this,Ac(this,o,u,!0))},skipUntil:function(o,u){return this.skipWhile(Wr(o),u)},sortBy:function(o,u){return Re(this,Ln(this,u,o))},take:function(o){return this.slice(0,Math.max(0,o))},takeLast:function(o){return Re(this,this.toSeq().reverse().take(o).reverse())},takeWhile:function(o,u){return Re(this,Zy(this,o,u))},takeUntil:function(o,u){return this.takeWhile(Wr(o),u)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=av(this))}});var at=a.prototype;at[x]=!0,at[pe]=at.values,at.__toJS=at.toArray,at.__toStringMapper=Jc,at.inspect=at.toSource=function(){return this.toString()},at.chain=at.flatMap,at.contains=at.includes,Nt(c,{flip:function(){return Re(this,Sc(this))},mapEntries:function(o,u){var l=this,m=0;return Re(this,this.toSeq().map(function(h,w){return o.call(u,[w,h],m++,l)}).fromEntrySeq())},mapKeys:function(o,u){var l=this;return Re(this,this.toSeq().flip().map(function(m,h){return o.call(u,m,h,l)}).flip())}});var Jr=c.prototype;Jr[O]=!0,Jr[pe]=at.entries,Jr.__toJS=at.toObject,Jr.__toStringMapper=function(o,u){return JSON.stringify(u)+": "+Jc(o)},Nt(p,{toKeyedSeq:function(){return new bt(this,!1)},filter:function(o,u){return Re(this,Oc(this,o,u,!1))},findIndex:function(o,u){var l=this.findEntry(o,u);return l?l[0]:-1},indexOf:function(o){var u=this.keyOf(o);return u===void 0?-1:u},lastIndexOf:function(o){var u=this.lastKeyOf(o);return u===void 0?-1:u},reverse:function(){return Re(this,xo(this,!1))},slice:function(o,u){return Re(this,bo(this,o,u,!1))},splice:function(o,u){var l=arguments.length;if(u=Math.max(u|0,0),l===0||l===2&&!u)return this;o=H(o,o<0?this.count():this.size);var m=this.slice(0,o);return Re(this,l===1?m:m.concat(fe(arguments,2),this.slice(o+u)))},findLastIndex:function(o,u){var l=this.findLastEntry(o,u);return l?l[0]:-1},first:function(){return this.get(0)},flatten:function(o){return Re(this,Cc(this,o,!1))},get:function(o,u){return o=j(this,o),o<0||this.size===Infinity||this.size!==void 0&&o>this.size?u:this.find(function(l,m){return m===o},void 0,u)},has:function(o){return o=j(this,o),o>=0&&(this.size!==void 0?this.size===Infinity||o<this.size:this.indexOf(o)!==-1)},interpose:function(o){return Re(this,tv(this,o))},interleave:function(){var o=[this].concat(fe(arguments)),u=_o(this.toSeq(),$.of,o),l=u.flatten(!0);return u.size&&(l.size=u.size*o.length),Re(this,l)},keySeq:function(){return tt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(o,u){return Re(this,Ac(this,o,u,!1))},zip:function(){var o=[this].concat(fe(arguments));return Re(this,_o(this,sv,o))},zipWith:function(o){var u=fe(arguments);return u[0]=this,Re(this,_o(this,o,u))}}),p.prototype[C]=!0,p.prototype[T]=!0,Nt(f,{get:function(o,u){return this.has(o)?o:u},includes:function(o){return this.has(o)},keySeq:function(){return this.valueSeq()}}),f.prototype.has=at.includes,f.prototype.contains=f.prototype.includes,Nt(U,c.prototype),Nt($,p.prototype),Nt(W,f.prototype),Nt(ir,c.prototype),Nt(jn,p.prototype),Nt(Dr,f.prototype);function iv(o,u){return u}s(iv,"keyMapper");function ov(o,u){return[u,o]}s(ov,"entryMapper");function Wr(o){return function(){return!o.apply(this,arguments)}}s(Wr,"not");function Fc(o){return function(){return-o.apply(this,arguments)}}s(Fc,"neg");function Jc(o){return typeof o=="string"?JSON.stringify(o):String(o)}s(Jc,"quoteString");function sv(){return fe(arguments)}s(sv,"defaultZipper");function Wc(o,u){return o<u?1:o>u?-1:0}s(Wc,"defaultNegComparator");function av(o){if(o.size===Infinity)return 0;var u=_(o),l=g(o),m=u?1:0,h=o.__iterate(l?u?function(w,k){m=31*m+Vc(dt(w),dt(k))|0}:function(w,k){m=m+Vc(dt(w),dt(k))|0}:u?function(w){m=31*m+dt(w)|0}:function(w){m=m+dt(w)|0});return cv(h,m)}s(av,"hashIterable");function cv(o,u){return u=or(u,3432918353),u=or(u<<15|u>>>-15,461845907),u=or(u<<13|u>>>-13,5),u=(u+3864292196|0)^o,u=or(u^u>>>16,2246822507),u=or(u^u>>>13,3266489909),u=no(u^u>>>16),u}s(cv,"murmurHashOfSize");function Vc(o,u){return o^u+2654435769+(o<<6)+(o>>2)|0}s(Vc,"hashMerge");var uv={Iterable:a,Seq:R,Collection:Qt,Map:Ie,OrderedMap:Fe,List:Le,Stack:Ve,Set:Ke,OrderedSet:Mt,Record:gt,Range:tt,Repeat:ot,is:Pe,fromJS:it};return uv})},"./node_modules/transit-immutable-js/index.js":function(e,t,n){var r=n("./node_modules/transit-js/transit.js"),i=n("./node_modules/immutable/dist/immutable.js");function a(T){return r.reader("json",{mapBuilder:{init:function(){return{}},add:function(b,E,S){return b[E]=S,b},finalize:function(b){return b}},handlers:T})}s(a,"createReader");function c(T,b,E){var S={iM:function(q){for(var A=i.Map().asMutable(),z=0;z<q.length;z+=2)A=A.set(q[z],q[z+1]);return A.asImmutable()},iOM:function(q){for(var A=i.OrderedMap().asMutable(),z=0;z<q.length;z+=2)A=A.set(q[z],q[z+1]);return A.asImmutable()},iL:function(q){return i.List(q)},iS:function(q){return i.Set(q)},iOS:function(q){return i.OrderedSet(q)},iR:function(q){var A=b[q.n];return A?new A(q.v):E(q.n,q.v)}};return T.forEach(function(q){S[q.tag]=q.read}),S}s(c,"createReaderHandlers");function p(T){return r.writer("json",{handlers:T})}s(p,"createWriter");function f(T,b,E){function S(A){var z=0;E&&(A=A.filter(E));var F=new Array(2*A.size);return A.forEach(function(re,oe){F[z++]=oe,F[z++]=re}),F}s(S,"mapSerializer");var q=r.map([i.Map,r.makeWriteHandler({tag:function(){return"iM"},rep:S}),i.OrderedMap,r.makeWriteHandler({tag:function(){return"iOM"},rep:S}),i.List,r.makeWriteHandler({tag:function(){return"iL"},rep:function(A){return E&&(A=A.filter(E)),A.toArray()}}),i.Set,r.makeWriteHandler({tag:function(){return"iS"},rep:function(A){return E&&(A=A.filter(E)),A.toArray()}}),i.OrderedSet,r.makeWriteHandler({tag:function(){return"iOS"},rep:function(A){return E&&(A=A.filter(E)),A.toArray()}}),Function,r.makeWriteHandler({tag:function(){return"_"},rep:function(){return null}}),"default",r.makeWriteHandler({tag:function(){return"iM"},rep:function(A){if(!("toMap"in A)){var z="Error serializing unrecognized object "+A.toString();throw new Error(z)}return S(A.toMap())}})]);return Object.keys(b).forEach(function(A){q.set(b[A],v(A,E))}),T.forEach(function(A){q.set(A.class,r.makeWriteHandler({tag:function(){return A.tag},rep:A.write}))}),q}s(f,"createWriterHandlers");function d(T){Array.isArray(T)||g(T,"Expected array of handlers, got %j"),T.forEach(function(b){typeof b.tag!="string"&&g(b,"Expected %j to have property 'tag' which is a string"),typeof b.class!="function"&&g(b,"Expected %j to have property 'class' which is a constructor function"),typeof b.write!="function"&&g(b,"Expected %j to have property 'write' which is a function"),typeof b.read!="function"&&g(b,"Expected %j to have property 'write' which is a function")})}s(d,"validateExtras");function g(T,b){var E=JSON.stringify(T);throw new Error(b.replace("%j",E))}s(g,"invalidExtras");function y(T){return T._name||T.constructor.name||"Record"}s(y,"recordName");function v(T){return r.makeWriteHandler({tag:function(){return"iR"},rep:function(b){return{n:T,v:b.toObject()}}})}s(v,"makeRecordHandler");function _(T){var b={};return T.forEach(function(E){var S=new E({}),q=y(S);if(!q||q==="Record")throw new Error("Cannot (de)serialize Record() without a name");if(b[q])throw new Error("There's already a constructor for a Record named "+q);b[q]=E}),b}s(_,"buildRecordMap");function x(T){var b="Tried to deserialize Record type named `"+T+"`, but no type with that name was passed to withRecords()";throw new Error(b)}s(x,"defaultMissingRecordHandler");function O(T){var b=a(T.read),E=p(T.write);return{toJSON:s(function(q){return E.write(q)},"toJSON"),fromJSON:s(function(q){return b.read(q)},"fromJSON"),withExtraHandlers:function(S){return O(T.withExtraHandlers(S))},withFilter:function(S){return O(T.withFilter(S))},withRecords:function(S,q){return O(T.withRecords(S,q))}}}s(O,"createInstanceFromHandlers");function C(T){var b=T.records||{},E=T.filter||!1,S=T.missingRecordHandler||x,q=T.extras||[];return{read:c(q,b,S),write:f(q,b,E),withExtraHandlers:function(A){return d(A),C({extras:q.concat(A),records:b,filter:E,missingRecordHandler:S})},withFilter:function(A){return C({extras:q,records:b,filter:A,missingRecordHandler:S})},withRecords:function(A,z){var F=_(A);return C({extras:q,records:F,filter:E,missingRecordHandler:z})}}}s(C,"createHandlers"),e.exports=O(C({})),e.exports.handlers=C({})},"./node_modules/transit-js/transit.js":function(module,exports,__webpack_require__){(function(global){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.checkStringArgs=function(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""},$jscomp.defineProperty=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return typeof window!="undefined"&&window===e?e:typeof global!="undefined"&&global!=null?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,n,r){if(t){for(n=$jscomp.global,e=e.split("."),r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&t!=null&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(t){var n=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var r="";t;)t&1&&(r+=n),(t>>>=1)&&(n+=n);return r}},"es6-impl","es3"),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),typeof Array.prototype[e]!="function"&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),e={next:e},e[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var n=0,r={next:function(){if(n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},$jscomp.polyfill("Array.prototype.entries",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t,n){return[t,n]})}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.values",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t,n){return n})}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(e){return e!==void 0},goog.exportPath_=function(e,t,n){e=e.split("."),n=n||goog.global,e[0]in n||!n.execScript||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)!e.length&&goog.isDef(t)?n[r]=t:n=n[r]&&n[r]!==Object.prototype[r]?n[r]:n[r]={}},goog.define=function(e,t){var n=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(n=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,n)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e];if(!goog.implicitNamespaces_[e])return e=goog.getObjectByName(e),e!=null?e:null}return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var n=e.split("."),r=t||goog.global,i;i=n.shift();)if(goog.isDefAndNotNull(r[i]))r=r[i];else return null;return r},goog.globalize=function(e,t){var n=t||goog.global,r;for(r in e)n[r]=e[r]},goog.addDependency=function(e,t,n,r){if(goog.DEPENDENCIES_ENABLED){var i;e=e.replace(/\\/g,"/");var a=goog.dependencies_;r&&typeof r!="boolean"||(r=r?{module:"goog"}:{});for(var c=0;i=t[c];c++)a.nameToPath[i]=e,a.loadFlags[e]=r;for(r=0;t=n[r];r++)e in a.requires||(a.requires[e]={}),a.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)goog.writeScripts_(t);else throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e)}return null}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.TRANSPILER="transpile.js",goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return e!=null&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var n=e[t].src,r=n.lastIndexOf("?"),r=r==-1?n.length:r;if(n.substr(r-7,7)=="base.js"){goog.basePath=n.substr(0,r-7);break}}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.oldIeWaiting_=!1,goog.importProcessedScript_=function(e,t,n){goog.importScript_("",'goog.retrieveAndExec_("'+e+'", '+t+", "+n+");")},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+`
//# sourceURL=`+e+`
`)+");":'goog.loadModule(function(exports) {"use strict";'+t+`
;return exports});
//# sourceURL=`+e+`
`},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(0<e){var t=goog.queuedModules_;goog.queuedModules_=[];for(var n=0;n<e;n++)goog.maybeProcessDeferredPath_(t[n])}goog.oldIeWaiting_=!1},goog.maybeProcessDeferredDep_=function(e){goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)&&(e=goog.getPathFromDeps_(e),goog.maybeProcessDeferredPath_(goog.basePath+e))},goog.isDeferredModule_=function(e){var t=(e=goog.getPathFromDeps_(e))&&goog.dependencies_.loadFlags[e]||{},n=t.lang||"es3";return e&&(t.module=="goog"||goog.needsTranspile_(n))?goog.basePath+e in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(e){if((e=goog.getPathFromDeps_(e))&&e in goog.dependencies_.requires){for(var t in goog.dependencies_.requires[e])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1}return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExec_(e,!0,!1)},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.src=e,n.defer=!1,n.async=!1,t.head.appendChild(n)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var n=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&n.readyState=="complete"){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}if(t===void 0)if(goog.IS_OLD_IE_){goog.oldIeWaiting_=!0;var r=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";n.write('<script type="text/javascript" src="'+e+'"'+r+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e);else n.write('<script type="text/javascript">'+goog.protectScriptTag_(t)+"<\/script>");return!0}return!1},goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.needsTranspile_=function(e){if(goog.TRANSPILE=="always")return!0;if(goog.TRANSPILE=="never")return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),e in goog.requiresTranspilation_)return goog.requiresTranspilation_[e];throw Error("Unknown language mode: "+e)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return e.readyState=="complete"&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){function t(d){if(!(d in i.written||d in i.visited)){if(i.visited[d]=!0,d in i.requires){for(var g in i.requires[d])if(!goog.isProvided_(g))if(g in i.nameToPath)t(i.nameToPath[g]);else throw Error("Undefined nameToPath for "+g)}d in r||(r[d]=!0,n.push(d))}}s(t,"b");var n=[],r={},i=goog.dependencies_;t(e);for(var a=0;a<n.length;a++)e=n[a],goog.dependencies_.written[e]=!0;var c=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,a=0;a<n.length;a++)if(e=n[a]){var p=i.loadFlags[e]||{},f=goog.needsTranspile_(p.lang||"es3");p.module=="goog"||f?goog.importProcessedScript_(goog.basePath+e,p.module=="goog",f):goog.importScript_(goog.basePath+e)}else throw goog.moduleLoaderState_=c,Error("Undefined script input");goog.moduleLoaderState_=c},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+`
;})();
`},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(e))var n=e.call(void 0,{});else if(goog.isString(e))goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),n=goog.loadModuleFromSource_.call(void 0,e);else throw Error("Invalid module definition");var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof n=="object"&&n!=null&&Object.seal(n),goog.loadedModules_[r]=n}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)e[t]=="."?e.splice(t,1):t&&e[t]==".."&&e[t-1]&&e[t-1]!=".."?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.status==0||t.status==200?t.responseText:null}catch(n){return null}},goog.retrieveAndExec_=function(e,t,n){if(!COMPILED){var r=e;e=goog.normalizePath_(e);var i=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,a=goog.loadFileSync_(e);if(a==null)throw Error('Load of "'+e+'" failed');n&&(a=goog.transpile_.call(goog.global,a,e)),a=t?goog.wrapModule_(e,a):a+(`
//# sourceURL=`+e),goog.IS_OLD_IE_&&goog.oldIeWaiting_?(goog.dependencies_.deferred[r]=a,goog.queuedModules_.push(r)):i(e,a)}},goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){if(eval(f+`
//# sourceURL=`+e),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,c=goog.global.$jscomp,d=c.transpile}}return d||(d=c.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),d(a,b)},goog.typeOf=function(e){var t=typeof e;if(t=="object")if(e){if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if(n=="[object Window]")return"object";if(n=="[object Array]"||typeof e.length=="number"&&typeof e.splice!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("splice"))return"array";if(n=="[object Function]"||typeof e.call!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("call"))return"function"}else return"null";else if(t=="function"&&typeof e.call=="undefined")return"object";return t},goog.isNull=function(e){return e===null},goog.isDefAndNotNull=function(e){return e!=null},goog.isArray=function(e){return goog.typeOf(e)=="array"},goog.isArrayLike=function(e){var t=goog.typeOf(e);return t=="array"||t=="object"&&typeof e.length=="number"},goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"},goog.isString=function(e){return typeof e=="string"},goog.isBoolean=function(e){return typeof e=="boolean"},goog.isNumber=function(e){return typeof e=="number"},goog.isFunction=function(e){return goog.typeOf(e)=="function"},goog.isObject=function(e){var t=typeof e;return t=="object"&&e!=null||t=="function"},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){e!==null&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(e.clone)return e.clone();var t=t=="array"?[]:{},n;for(n in e)t[n]=goog.cloneObject(e[n]);return t}return e},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null)if(goog.global.eval("var _evalTest_ = 1;"),typeof goog.global._evalTest_!="undefined"){try{delete goog.global._evalTest_}catch(r){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,n=t.createElement("SCRIPT");n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(e)),t.body.appendChild(n),t.body.removeChild(n)}}else throw Error("goog.globalEval not available")},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if(String(e).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var n=s(function(i){return goog.cssNameMapping_[i]||i},"c"),r=s(function(i){i=i.split("-");for(var a=[],c=0;c<i.length;c++)a.push(n(i[c]));return a.join("-")},"d"),r=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?n:r:function(i){return i},r=t?e+"-"+r(t):r(e);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(r):r},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}s(n,"c"),n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(r,i,a){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return t.prototype[i].apply(r,c)}},goog.base=function(e,t,n){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_){for(var i=Array(arguments.length-1),a=1;a<arguments.length;a++)i[a-1]=arguments[a];return r.superClass_.constructor.apply(e,i)}for(i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];for(var a=!1,c=e.constructor;c;c=c.superClass_&&c.superClass_.constructor)if(c.prototype[t]===r)a=!0;else if(a)return c.prototype[t].apply(e,i);if(e[t]===r)return e.constructor.prototype[t].apply(e,i);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var n=t.constructor,r=t.statics;return n&&n!=Object.prototype.constructor||(n=s(function(){throw Error("cannot instantiate an interface (no constructor defined).")},"c")),n=goog.defineClass.createSealingConstructor_(n,e),e&&goog.inherits(n,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(n.prototype,t),r!=null&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var n=!goog.defineClass.isUnsealable_(t),r=s(function(){var i=e.apply(this,arguments)||this;return i[goog.UID_PROPERTY_]=i[goog.UID_PROPERTY_],this.constructor===r&&n&&Object.seal instanceof Function&&Object.seal(i),i},"d");return r},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){function a(e,t){d?c[e]=!0:t()?c[e]=!1:d=c[e]=!0}s(a,"a");function b(a){try{return!!eval(a)}catch(e){return!1}}s(b,"b");var c={es3:!1},d=!1,e=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){var e=e.match(/Edge\/(\d+)(\.\d)*/i);return e&&15>Number(e[1])?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es6-impl",function(){return!0}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),c},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xA0"},goog.string.startsWith=function(e,t){return e.lastIndexOf(t,0)==0},goog.string.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},goog.string.caseInsensitiveStartsWith=function(e,t){return goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))==0},goog.string.caseInsensitiveEndsWith=function(e,t){return goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))==0},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return e.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return e==" "},goog.string.isUnicodeChar=function(e){return e.length==1&&" "<=e&&"~">=e||"\x80"<=e&&"\uFFFD">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),r=String(t).toLowerCase();return n<r?-1:n==r?0:1},goog.string.numberAwareCompare_=function(e,t,n){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var r=e.toLowerCase().match(n),i=t.toLowerCase().match(n),a=Math.min(r.length,i.length),c=0;c<a;c++){n=r[c];var p=i[c];if(n!=p)return e=parseInt(n,10),!isNaN(e)&&(t=parseInt(p,10),!isNaN(t)&&e-t)?e-t:n<p?-1:1}return r.length!=i.length?r.length-i.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(e))return e;e.indexOf("&")!=-1&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&e.indexOf("e")!=-1&&(e=e.replace(goog.string.E_RE_,"&#101;"))}return e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},r=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(i,a){var c=n[i];if(c)return c;if(a.charAt(0)=="#"){var p=Number("0"+a.substr(1));isNaN(p)||(c=String.fromCharCode(p))}return c||(r.innerHTML=i+" ",c=r.firstChild.nodeValue.slice(0,-1)),n[i]=c})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(t,n){switch(n){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if(n.charAt(0)=="#"){var r=Number("0"+n.substr(1));if(!isNaN(r))return String.fromCharCode(r)}return t}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var n=t.length,r=0;r<n;r++){var i=n==1?t:t.charAt(r);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,n){return n&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,n,r){if(n&&(e=goog.string.unescapeEntities(e)),r&&e.length>t){r>t&&(r=t);var i=e.length-r;e=e.substring(0,t-r)+"..."+e.substring(i)}else e.length>t&&(r=Math.floor(t/2),i=e.length-r,e=e.substring(0,r+t%2)+"..."+e.substring(i));return n&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],n=0;n<e.length;n++){var r=e.charAt(n),i=r.charCodeAt(0);t[n+1]=goog.string.specialEscapeChars_[r]||(31<i&&127>i?r:goog.string.escapeChar(r))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=goog.string.escapeChar(e.charAt(n));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var n=e;else 256>t?(n="\\x",(16>t||256<t)&&(n+="0")):(n="\\u",4096>t&&(n+="0")),n+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=n},goog.string.contains=function(e,t){return e.indexOf(t)!=-1},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,n){var r=e;return 0<=t&&t<e.length&&0<n&&(r=e.substr(0,t)+e.substr(t+n,e.length-t-n)),r},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){var n=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(n,"")},goog.string.replaceAll=function(e,t,n){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,n.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,n){return e=goog.isDef(n)?e.toFixed(n):String(e),n=e.indexOf("."),n==-1&&(n=e.length),goog.string.repeat("0",Math.max(0,t-n))+e},goog.string.makeSafe=function(e){return e==null?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var n=0,r=goog.string.trim(String(e)).split("."),i=goog.string.trim(String(t)).split("."),a=Math.max(r.length,i.length),c=0;n==0&&c<a;c++){var p=r[c]||"",f=i[c]||"";do{if(p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],p[0].length==0&&f[0].length==0)break;var n=p[1].length==0?0:parseInt(p[1],10),d=f[1].length==0?0:parseInt(f[1],10),n=goog.string.compareElements_(n,d)||goog.string.compareElements_(p[2].length==0,f[2].length==0)||goog.string.compareElements_(p[2],f[2]),p=p[3],f=f[3]}while(n==0)}return n},goog.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return t==0&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(t,n){return n.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var n=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(n?"|["+n+"]+":"")+")([a-z])","g"),function(r,i,a){return i+a.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,n){e=e.split(t);for(var r=[];0<n&&e.length;)r.push(e.shift()),n--;return e.length&&r.push(e.join(t)),r},goog.string.lastComponent=function(e,t){if(t)typeof t=="string"&&(t=[t]);else return e;for(var n=-1,r=0;r<t.length;r++)if(t[r]!=""){var i=e.lastIndexOf(t[r]);i>n&&(n=i)}return n==-1?e:e.slice(n+1)},goog.string.editDistance=function(e,t){var n=[],r=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var i=0;i<t.length+1;i++)n[i]=i;for(i=0;i<e.length;i++){r[0]=i+1;for(var a=0;a<t.length;a++)r[a+1]=Math.min(r[a]+1,n[a+1]+1,n[a]+Number(e[i]!=t[a]));for(a=0;a<n.length;a++)n[a]=r[a]}return r[t.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,n,r){var i="Assertion failed";if(n){i+=": "+n;var a=r}else e&&(i+=": "+e,a=t);e=new goog.asserts.AssertionError(""+i,a||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n,r){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e},goog.object={},goog.object.is=function(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t},goog.object.forEach=function(e,t,n){for(var r in e)t.call(n,e[r],r,e)},goog.object.filter=function(e,t,n){var r={},i;for(i in e)t.call(n,e[i],i,e)&&(r[i]=e[i]);return r},goog.object.map=function(e,t,n){var r={},i;for(i in e)r[i]=t.call(n,e[i],i,e);return r},goog.object.some=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return!0;return!1},goog.object.every=function(e,t,n){for(var r in e)if(!t.call(n,e[r],r,e))return!1;return!0},goog.object.getCount=function(e){var t=0,n;for(n in e)t++;return t},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t=[],n=0,r;for(r in e)t[n++]=e[r];return t},goog.object.getKeys=function(e){var t=[],n=0,r;for(r in e)t[n++]=r;return t},goog.object.getValueByKeys=function(e,t){for(var n=goog.isArrayLike(t),r=n?t:arguments,n=n?0:1;n<r.length&&(e=e[r[n]],goog.isDef(e));n++);return e},goog.object.containsKey=function(e,t){return e!==null&&t in e},goog.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},goog.object.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},goog.object.findValue=function(e,t,n){return(t=goog.object.findKey(e,t,n))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},goog.object.add=function(e,t,n){if(e!==null&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,n)},goog.object.get=function(e,t,n){return e!==null&&t in e?e[t]:n},goog.object.set=function(e,t,n){e[t]=n},goog.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},goog.object.setWithReturnValueIfNotSet=function(e,t,n){return t in e?e[t]:(n=n(),e[t]=n)},goog.object.equals=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t={},n;for(n in e)t[n]=e[n];return t},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(goog.isFunction(e.clone))return e.clone();var t=t=="array"?[]:{},n;for(n in e)t[n]=goog.object.unsafeClone(e[n]);return t}return e},goog.object.transpose=function(e){var t={},n;for(n in e)t[e[n]]=n;return t},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var a=0;a<goog.object.PROTOTYPE_FIELDS_.length;a++)n=goog.object.PROTOTYPE_FIELDS_[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}},goog.object.create=function(e){var t=arguments.length;if(t==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var n={},r=0;r<t;r+=2)n[arguments[r]]=arguments[r+1];return n},goog.object.createSet=function(e){var t=arguments.length;if(t==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var n={},r=0;r<t;r++)n[arguments[r]]=!0;return n},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,n){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var r={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||n);){for(var i=Object.getOwnPropertyNames(e),a=0;a<i.length;a++)r[i[a]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(r)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(n){}return!1},goog.reflect.cache=function(e,t,n,r){return r=r?r(t):t,Object.prototype.hasOwnProperty.call(e,r)?e[r]:e[r]=n(t)},goog.math={},goog.math.Long=function(e,t){this.low_=e|0,this.high_=t|0},goog.math.Long.IntCache_={},goog.math.Long.valueCache_={},goog.math.Long.getCachedIntValue_=function(e){return goog.reflect.cache(goog.math.Long.IntCache_,e,function(t){return new goog.math.Long(t,0>t?-1:0)})},goog.math.Long.MAX_VALUE_FOR_RADIX_="  111111111111111111111111111111111111111111111111111111111111111 2021110011022210012102010021220101220221 13333333333333333333333333333333 1104332401304422434310311212 1540241003031030222122211 22341010611245052052300 777777777777777777777 67404283172107811827 9223372036854775807 1728002635214590697 41a792678515120367 10b269549075433c37 4340724c6c71dc7a7 160e2ad3246366807 7fffffffffffffff 33d3d8307b214008 16agh595df825fa7 ba643dci0ffeehh 5cbfjia3fh26ja7 2heiciiie82dh97 1adaibb21dckfa7 i6k448cf4192c2 acd772jnc9l0l7 64ie1focnn5g77 3igoecjbmca687 27c48l5b37oaop 1bk39f3ah3dmq7 q1se8f0m04isb hajppbc1fc207 bm03i95hia437 7vvvvvvvvvvvv 5hg4ck9jd4u37 3tdtk1v8j6tpp 2pijmikexrxp7 1y2p0ij32e8e7".split(" "),goog.math.Long.MIN_VALUE_FOR_RADIX_="  -1000000000000000000000000000000000000000000000000000000000000000 -2021110011022210012102010021220101220222 -20000000000000000000000000000000 -1104332401304422434310311213 -1540241003031030222122212 -22341010611245052052301 -1000000000000000000000 -67404283172107811828 -9223372036854775808 -1728002635214590698 -41a792678515120368 -10b269549075433c38 -4340724c6c71dc7a8 -160e2ad3246366808 -8000000000000000 -33d3d8307b214009 -16agh595df825fa8 -ba643dci0ffeehi -5cbfjia3fh26ja8 -2heiciiie82dh98 -1adaibb21dckfa8 -i6k448cf4192c3 -acd772jnc9l0l8 -64ie1focnn5g78 -3igoecjbmca688 -27c48l5b37oaoq -1bk39f3ah3dmq8 -q1se8f0m04isc -hajppbc1fc208 -bm03i95hia438 -8000000000000 -5hg4ck9jd4u38 -3tdtk1v8j6tpq -2pijmikexrxp8 -1y2p0ij32e8e8".split(" "),goog.math.Long.fromInt=function(e){var t=e|0;return goog.asserts.assert(e===t,"value should be a 32-bit integer"),-128<=t&&128>t?goog.math.Long.getCachedIntValue_(t):new goog.math.Long(t,0>t?-1:0)},goog.math.Long.fromNumber=function(e){return isNaN(e)?goog.math.Long.getZero():e<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMinValue():e+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMaxValue():0>e?goog.math.Long.fromNumber(-e).negate():new goog.math.Long(e%goog.math.Long.TWO_PWR_32_DBL_|0,e/goog.math.Long.TWO_PWR_32_DBL_|0)},goog.math.Long.fromBits=function(e,t){return new goog.math.Long(e,t)},goog.math.Long.fromString=function(e,t){if(e.length==0)throw Error("number format error: empty string");var n=t||10;if(2>n||36<n)throw Error("radix out of range: "+n);if(e.charAt(0)=="-")return goog.math.Long.fromString(e.substring(1),n).negate();if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character: '+e);for(var r=goog.math.Long.fromNumber(Math.pow(n,8)),i=goog.math.Long.getZero(),a=0;a<e.length;a+=8){var c=Math.min(8,e.length-a),p=parseInt(e.substring(a,a+c),n);8>c?(c=goog.math.Long.fromNumber(Math.pow(n,c)),i=i.multiply(c).add(goog.math.Long.fromNumber(p))):(i=i.multiply(r),i=i.add(goog.math.Long.fromNumber(p)))}return i},goog.math.Long.isStringInRange=function(e,t){var n=t||10;if(2>n||36<n)throw Error("radix out of range: "+n);return n=e.charAt(0)=="-"?goog.math.Long.MIN_VALUE_FOR_RADIX_[n]:goog.math.Long.MAX_VALUE_FOR_RADIX_[n],e.length<n.length?!0:e.length==n.length&&e<=n},goog.math.Long.TWO_PWR_16_DBL_=65536,goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_,goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2,goog.math.Long.getZero=function(){return goog.math.Long.getCachedIntValue_(0)},goog.math.Long.getOne=function(){return goog.math.Long.getCachedIntValue_(1)},goog.math.Long.getNegOne=function(){return goog.math.Long.getCachedIntValue_(-1)},goog.math.Long.getMaxValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MAX_VALUE,function(){return goog.math.Long.fromBits(-1,2147483647)})},goog.math.Long.getMinValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MIN_VALUE,function(){return goog.math.Long.fromBits(0,-2147483648)})},goog.math.Long.getTwoPwr24=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.TWO_PWR_24,function(){return goog.math.Long.fromInt(16777216)})},goog.math.Long.prototype.toInt=function(){return this.low_},goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},goog.math.Long.prototype.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.getMinValue())){var t=goog.math.Long.fromNumber(e),n=this.div(t);return t=n.multiply(t).subtract(this),n.toString(e)+t.toInt().toString(e)}return"-"+this.negate().toString(e)}n=goog.math.Long.fromNumber(Math.pow(e,6)),t=this;for(var r="";;){var i=t.div(n),a=(t.subtract(i.multiply(n)).toInt()>>>0).toString(e);if(t=i,t.isZero())return a+r;for(;6>a.length;)a="0"+a;r=""+a+r}},goog.math.Long.prototype.getHighBits=function(){return this.high_},goog.math.Long.prototype.getLowBits=function(){return this.low_},goog.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_},goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.getMinValue())?64:this.negate().getNumBitsAbs();for(var e=this.high_!=0?this.high_:this.low_,t=31;0<t&&(e&1<<t)==0;t--);return this.high_!=0?t+33:t+1},goog.math.Long.prototype.isZero=function(){return this.high_==0&&this.low_==0},goog.math.Long.prototype.isNegative=function(){return 0>this.high_},goog.math.Long.prototype.isOdd=function(){return(this.low_&1)==1},goog.math.Long.prototype.equals=function(e){return this.high_==e.high_&&this.low_==e.low_},goog.math.Long.prototype.notEquals=function(e){return this.high_!=e.high_||this.low_!=e.low_},goog.math.Long.prototype.lessThan=function(e){return 0>this.compare(e)},goog.math.Long.prototype.lessThanOrEqual=function(e){return 0>=this.compare(e)},goog.math.Long.prototype.greaterThan=function(e){return 0<this.compare(e)},goog.math.Long.prototype.greaterThanOrEqual=function(e){return 0<=this.compare(e)},goog.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.getMinValue())?goog.math.Long.getMinValue():this.not().add(goog.math.Long.getOne())},goog.math.Long.prototype.add=function(e){var t=this.high_>>>16,n=this.high_&65535,r=this.low_>>>16,i=e.high_>>>16,a=e.high_&65535,c=e.low_>>>16;return e=0+((this.low_&65535)+(e.low_&65535)),c=0+(e>>>16)+(r+c),r=0+(c>>>16),r+=n+a,t=0+(r>>>16)+(t+i)&65535,goog.math.Long.fromBits((c&65535)<<16|e&65535,t<<16|r&65535)},goog.math.Long.prototype.subtract=function(e){return this.add(e.negate())},goog.math.Long.prototype.multiply=function(e){if(this.isZero()||e.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue()))return e.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(e.equals(goog.math.Long.getMinValue()))return this.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(goog.math.Long.getTwoPwr24())&&e.lessThan(goog.math.Long.getTwoPwr24()))return goog.math.Long.fromNumber(this.toNumber()*e.toNumber());var t=this.high_>>>16,n=this.high_&65535,r=this.low_>>>16,i=this.low_&65535,a=e.high_>>>16,c=e.high_&65535,p=e.low_>>>16;e=e.low_&65535;var f=0+i*e,d=0+(f>>>16)+r*e,g=0+(d>>>16);d=(d&65535)+i*p,g+=d>>>16,g+=n*e;var y=0+(g>>>16);return g=(g&65535)+r*p,y+=g>>>16,g=(g&65535)+i*c,y=y+(g>>>16)+(t*e+n*p+r*c+i*a)&65535,goog.math.Long.fromBits((d&65535)<<16|f&65535,y<<16|g&65535)},goog.math.Long.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue())){if(e.equals(goog.math.Long.getOne())||e.equals(goog.math.Long.getNegOne()))return goog.math.Long.getMinValue();if(e.equals(goog.math.Long.getMinValue()))return goog.math.Long.getOne();var t=this.shiftRight(1);if(t=t.div(e).shiftLeft(1),t.equals(goog.math.Long.getZero()))return e.isNegative()?goog.math.Long.getOne():goog.math.Long.getNegOne();var n=this.subtract(e.multiply(t));return t.add(n.div(e))}if(e.equals(goog.math.Long.getMinValue()))return goog.math.Long.getZero();if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var r=goog.math.Long.getZero();for(n=this;n.greaterThanOrEqual(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),a=goog.math.Long.fromNumber(t),c=a.multiply(e);c.isNegative()||c.greaterThan(n);)t-=i,a=goog.math.Long.fromNumber(t),c=a.multiply(e);a.isZero()&&(a=goog.math.Long.getOne()),r=r.add(a),n=n.subtract(c)}return r},goog.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)},goog.math.Long.prototype.and=function(e){return goog.math.Long.fromBits(this.low_&e.low_,this.high_&e.high_)},goog.math.Long.prototype.or=function(e){return goog.math.Long.fromBits(this.low_|e.low_,this.high_|e.high_)},goog.math.Long.prototype.xor=function(e){return goog.math.Long.fromBits(this.low_^e.low_,this.high_^e.high_)},goog.math.Long.prototype.shiftLeft=function(e){if(e&=63,e==0)return this;var t=this.low_;return 32>e?goog.math.Long.fromBits(t<<e,this.high_<<e|t>>>32-e):goog.math.Long.fromBits(0,t<<e-32)},goog.math.Long.prototype.shiftRight=function(e){if(e&=63,e==0)return this;var t=this.high_;return 32>e?goog.math.Long.fromBits(this.low_>>>e|t<<32-e,t>>e):goog.math.Long.fromBits(t>>e-32,0<=t?0:-1)},goog.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,e==0)return this;var t=this.high_;return 32>e?goog.math.Long.fromBits(this.low_>>>e|t<<32-e,t>>>e):e==32?goog.math.Long.fromBits(t,0):goog.math.Long.fromBits(t>>>e-32,0)},goog.math.Long.ValueCacheId_={MAX_VALUE:1,MIN_VALUE:2,TWO_PWR_24:6};var com={cognitect:{}};com.cognitect.transit={},com.cognitect.transit.delimiters={},com.cognitect.transit.delimiters.ESC="~",com.cognitect.transit.delimiters.TAG="#",com.cognitect.transit.delimiters.SUB="^",com.cognitect.transit.delimiters.RES="`",com.cognitect.transit.delimiters.ESC_TAG="~#",com.cognitect.transit.caching={},com.cognitect.transit.caching.MIN_SIZE_CACHEABLE=3,com.cognitect.transit.caching.BASE_CHAR_IDX=48,com.cognitect.transit.caching.CACHE_CODE_DIGITS=44,com.cognitect.transit.caching.MAX_CACHE_ENTRIES=com.cognitect.transit.caching.CACHE_CODE_DIGITS*com.cognitect.transit.caching.CACHE_CODE_DIGITS,com.cognitect.transit.caching.MAX_CACHE_SIZE=4096,com.cognitect.transit.caching.isCacheable=function(e,t){if(e.length>com.cognitect.transit.caching.MIN_SIZE_CACHEABLE){if(t)return!0;var n=e.charAt(0),r=e.charAt(1);return n===com.cognitect.transit.delimiters.ESC?r===":"||r==="$"||r==="#":!1}return!1},com.cognitect.transit.caching.idxToCode=function(e){var t=Math.floor(e/com.cognitect.transit.caching.CACHE_CODE_DIGITS);return e=String.fromCharCode(e%com.cognitect.transit.caching.CACHE_CODE_DIGITS+com.cognitect.transit.caching.BASE_CHAR_IDX),t===0?com.cognitect.transit.delimiters.SUB+e:com.cognitect.transit.delimiters.SUB+String.fromCharCode(t+com.cognitect.transit.caching.BASE_CHAR_IDX)+e},com.cognitect.transit.caching.WriteCache=function(){this.cacheSize=this.gen=this.idx=0,this.cache={}},com.cognitect.transit.caching.WriteCache.prototype.write=function(e,t){if(com.cognitect.transit.caching.isCacheable(e,t)){this.cacheSize===com.cognitect.transit.caching.MAX_CACHE_SIZE?(this.clear(),this.gen=0,this.cache={}):this.idx===com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&this.clear();var n=this.cache[e];return n==null?(this.cache[e]=[com.cognitect.transit.caching.idxToCode(this.idx),this.gen],this.idx++,e):n[1]!=this.gen?(n[1]=this.gen,n[0]=com.cognitect.transit.caching.idxToCode(this.idx),this.idx++,e):n[0]}return e},com.cognitect.transit.caching.WriteCache.prototype.clear=function(){this.idx=0,this.gen++},com.cognitect.transit.caching.writeCache=function(){return new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.caching.isCacheCode=function(e){return e.charAt(0)===com.cognitect.transit.delimiters.SUB&&e.charAt(1)!==" "},com.cognitect.transit.caching.codeToIdx=function(e){if(e.length===2)return e.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX;var t=(e.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX)*com.cognitect.transit.caching.CACHE_CODE_DIGITS;return e=e.charCodeAt(2)-com.cognitect.transit.caching.BASE_CHAR_IDX,t+e},com.cognitect.transit.caching.ReadCache=function(){this.idx=0,this.cache=[]},com.cognitect.transit.caching.ReadCache.prototype.write=function(e,t){return this.idx==com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&(this.idx=0),this.cache[this.idx]=e,this.idx++,e},com.cognitect.transit.caching.ReadCache.prototype.read=function(e,t){return this.cache[com.cognitect.transit.caching.codeToIdx(e)]},com.cognitect.transit.caching.ReadCache.prototype.clear=function(){this.idx=0},com.cognitect.transit.caching.readCache=function(){return new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.util={},com.cognitect.transit.util.objectKeys=typeof Object.keys!="undefined"?function(e){return Object.keys(e)}:function(e){return goog.object.getKeys(e)},com.cognitect.transit.util.isArray=typeof Array.isArray!="undefined"?function(e){return Array.isArray(e)}:function(e){return goog.typeOf(e)==="array"},com.cognitect.transit.util.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",com.cognitect.transit.util.randInt=function(e){return Math.round(Math.random()*e)},com.cognitect.transit.util.randHex=function(){return com.cognitect.transit.util.randInt(15).toString(16)},com.cognitect.transit.util.randomUUID=function(){var e=(8|3&com.cognitect.transit.util.randInt(14)).toString(16);return com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-4"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+e+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()},com.cognitect.transit.util.btoa=function(e){if(typeof btoa!="undefined")return btoa(e);e=String(e);for(var t,n,r=0,i=com.cognitect.transit.util.chars,a="";e.charAt(r|0)||(i="=",r%1);a+=i.charAt(63&t>>8-r%1*8)){if(n=e.charCodeAt(r+=.75),255<n)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|n}return a},com.cognitect.transit.util.atob=function(e){if(typeof atob!="undefined")return atob(e);if(e=String(e).replace(/=+$/,""),e.length%4==1)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t=0,n,r,i=0,a="";r=e.charAt(i++);~r&&(n=t%4?64*n+r:r,t++%4)?a+=String.fromCharCode(255&n>>(-2*t&6)):0)r=com.cognitect.transit.util.chars.indexOf(r);return a},com.cognitect.transit.util.Uint8ToBase64=function(e){for(var t=0,n=e.length,r="",i;t<n;)i=e.subarray(t,Math.min(t+32768,n)),r+=String.fromCharCode.apply(null,i),t+=32768;return com.cognitect.transit.util.btoa(r)},com.cognitect.transit.util.Base64ToUint8=function(e){e=com.cognitect.transit.util.atob(e);for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++){var i=e.charCodeAt(r);n[r]=i}return n},com.cognitect.transit.eq={},com.cognitect.transit.eq.hashCodeProperty="transit$hashCode$",com.cognitect.transit.eq.hashCodeCounter=1,com.cognitect.transit.eq.equals=function(e,t){if(e==null)return t==null;if(e===t)return!0;if(typeof e=="object"){if(com.cognitect.transit.util.isArray(e)){if(com.cognitect.transit.util.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!com.cognitect.transit.eq.equals(e[n],t[n]))return!1;return!0}return!1}if(e.com$cognitect$transit$equals)return e.com$cognitect$transit$equals(t);if(t!=null&&typeof t=="object"){if(t.com$cognitect$transit$equals)return t.com$cognitect$transit$equals(e);var n=0,r=com.cognitect.transit.util.objectKeys(t).length,i;for(i in e)if(e.hasOwnProperty(i)&&(n++,!t.hasOwnProperty(i)||!com.cognitect.transit.eq.equals(e[i],t[i])))return!1;return n===r}}return!1},com.cognitect.transit.eq.hashCombine=function(e,t){return e^t+2654435769+(e<<6)+(e>>2)},com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=0,com.cognitect.transit.eq.STR_CACHE_MAX=256,com.cognitect.transit.eq.hashString=function(e){var t=com.cognitect.transit.eq.stringCodeCache[e];if(t!=null)return t;for(var n=t=0;n<e.length;++n)t=31*t+e.charCodeAt(n),t%=4294967296;return com.cognitect.transit.eq.stringCodeCacheSize++,com.cognitect.transit.eq.stringCodeCacheSize>=com.cognitect.transit.eq.STR_CACHE_MAX&&(com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=1),com.cognitect.transit.eq.stringCodeCache[e]=t},com.cognitect.transit.eq.hashMapLike=function(e){var t=0;if(e.forEach!=null)e.forEach(function(c,p,f){t=(t+(com.cognitect.transit.eq.hashCode(p)^com.cognitect.transit.eq.hashCode(c)))%4503599627370496});else for(var n=com.cognitect.transit.util.objectKeys(e),r=0;r<n.length;r++)var i=n[r],a=e[i],t=(t+(com.cognitect.transit.eq.hashCode(i)^com.cognitect.transit.eq.hashCode(a)))%4503599627370496;return t},com.cognitect.transit.eq.hashArrayLike=function(e){var t=0;if(com.cognitect.transit.util.isArray(e))for(var n=0;n<e.length;n++)t=com.cognitect.transit.eq.hashCombine(t,com.cognitect.transit.eq.hashCode(e[n]));else e.forEach&&e.forEach(function(r,i){t=com.cognitect.transit.eq.hashCombine(t,com.cognitect.transit.eq.hashCode(r))});return t},com.cognitect.transit.eq.hashCode=function(e){if(e==null)return 0;switch(typeof e){case"number":return e;case"boolean":return e===!0?1:0;case"string":return com.cognitect.transit.eq.hashString(e);case"function":var t=e[com.cognitect.transit.eq.hashCodeProperty];return t||(t=com.cognitect.transit.eq.hashCodeCounter,typeof Object.defineProperty!="undefined"?Object.defineProperty(e,com.cognitect.transit.eq.hashCodeProperty,{value:t,enumerable:!1}):e[com.cognitect.transit.eq.hashCodeProperty]=t,com.cognitect.transit.eq.hashCodeCounter++),t;default:return e instanceof Date?e.valueOf():com.cognitect.transit.util.isArray(e)?com.cognitect.transit.eq.hashArrayLike(e):e.com$cognitect$transit$hashCode?e.com$cognitect$transit$hashCode():com.cognitect.transit.eq.hashMapLike(e)}},com.cognitect.transit.eq.extendToEQ=function(e,t){return e.com$cognitect$transit$hashCode=t.hashCode,e.com$cognitect$transit$equals=t.equals,e},com.cognitect.transit.types={},com.cognitect.transit.types.ITERATOR=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",com.cognitect.transit.types.TaggedValue=function(e,t){this.tag=e,this.rep=t,this.hashCode=-1},com.cognitect.transit.types.TaggedValue.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"},com.cognitect.transit.types.TaggedValue.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},com.cognitect.transit.types.TaggedValue.prototype.equiv=com.cognitect.transit.types.TaggedValue.prototype.equiv,com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$equals=function(e){return e instanceof com.cognitect.transit.types.TaggedValue?this.tag===e.tag&&com.cognitect.transit.eq.equals(this.rep,e.rep):!1},com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCombine(com.cognitect.transit.eq.hashCode(this.tag),com.cognitect.transit.eq.hashCode(this.rep))),this.hashCode},com.cognitect.transit.types.taggedValue=function(e,t){return new com.cognitect.transit.types.TaggedValue(e,t)},com.cognitect.transit.types.isTaggedValue=function(e){return e instanceof com.cognitect.transit.types.TaggedValue},com.cognitect.transit.types.nullValue=function(){return null},com.cognitect.transit.types.boolValue=function(e){return e==="t"},com.cognitect.transit.types.MAX_INT=goog.math.Long.fromString("9007199254740991"),com.cognitect.transit.types.MIN_INT=goog.math.Long.fromString("-9007199254740991"),com.cognitect.transit.types.intValue=function(e){return typeof e=="number"||e instanceof goog.math.Long?e:(e=goog.math.Long.fromString(e,10),e.greaterThan(com.cognitect.transit.types.MAX_INT)||e.lessThan(com.cognitect.transit.types.MIN_INT)?e:e.toNumber())},goog.math.Long.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},goog.math.Long.prototype.equiv=goog.math.Long.prototype.equiv,goog.math.Long.prototype.com$cognitect$transit$equals=function(e){return e instanceof goog.math.Long&&this.equals(e)},goog.math.Long.prototype.com$cognitect$transit$hashCode=function(){return this.toInt()},com.cognitect.transit.types.isInteger=function(e){return e instanceof goog.math.Long?!0:typeof e=="number"&&!isNaN(e)&&e!==Infinity&&parseFloat(e)===parseInt(e,10)},com.cognitect.transit.types.floatValue=function(e){return parseFloat(e)},com.cognitect.transit.types.bigInteger=function(e){return com.cognitect.transit.types.taggedValue("n",e)},com.cognitect.transit.types.isBigInteger=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="n"},com.cognitect.transit.types.bigDecimalValue=function(e){return com.cognitect.transit.types.taggedValue("f",e)},com.cognitect.transit.types.isBigDecimal=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="f"},com.cognitect.transit.types.charValue=function(e){return e},com.cognitect.transit.types.Keyword=function(e){this._name=e,this.hashCode=-1},com.cognitect.transit.types.Keyword.prototype.toString=function(){return":"+this._name},com.cognitect.transit.types.Keyword.prototype.namespace=function(){var e=this._name.indexOf("/");return e!=-1?this._name.substring(0,e):null},com.cognitect.transit.types.Keyword.prototype.name=function(){var e=this._name.indexOf("/");return e!=-1?this._name.substring(e+1,this._name.length):this._name},com.cognitect.transit.types.Keyword.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},com.cognitect.transit.types.Keyword.prototype.equiv=com.cognitect.transit.types.Keyword.prototype.equiv,com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$equals=function(e){return e instanceof com.cognitect.transit.types.Keyword&&this._name==e._name},com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.keyword=function(e){return new com.cognitect.transit.types.Keyword(e)},com.cognitect.transit.types.isKeyword=function(e){return e instanceof com.cognitect.transit.types.Keyword},com.cognitect.transit.types.Symbol=function(e){this._name=e,this.hashCode=-1},com.cognitect.transit.types.Symbol.prototype.namespace=function(){var e=this._name.indexOf("/");return e!=-1?this._name.substring(0,e):null},com.cognitect.transit.types.Symbol.prototype.name=function(){var e=this._name.indexOf("/");return e!=-1?this._name.substring(e+1,this._name.length):this._name},com.cognitect.transit.types.Symbol.prototype.toString=function(){return this._name},com.cognitect.transit.types.Symbol.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},com.cognitect.transit.types.Symbol.prototype.equiv=com.cognitect.transit.types.Symbol.prototype.equiv,com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$equals=function(e){return e instanceof com.cognitect.transit.types.Symbol&&this._name==e._name},com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.symbol=function(e){return new com.cognitect.transit.types.Symbol(e)},com.cognitect.transit.types.isSymbol=function(e){return e instanceof com.cognitect.transit.types.Symbol},com.cognitect.transit.types.hexFor=function(e,t,n){var r="";n=n||t+1;for(var i=8*(7-t),a=goog.math.Long.fromInt(255).shiftLeft(i);t<n;t++,i-=8,a=a.shiftRightUnsigned(8)){var c=e.and(a).shiftRightUnsigned(i).toString(16);c.length==1&&(c="0"+c),r+=c}return r},com.cognitect.transit.types.UUID=function(e,t){this.high=e,this.low=t,this.hashCode=-1},com.cognitect.transit.types.UUID.prototype.getLeastSignificantBits=function(){return this.low},com.cognitect.transit.types.UUID.prototype.getMostSignificantBits=function(){return this.high},com.cognitect.transit.types.UUID.prototype.toString=function(){var e=this.high,t=this.low,n=""+(com.cognitect.transit.types.hexFor(e,0,4)+"-");return n+=com.cognitect.transit.types.hexFor(e,4,6)+"-",n+=com.cognitect.transit.types.hexFor(e,6,8)+"-",n+=com.cognitect.transit.types.hexFor(t,0,2)+"-",n+=com.cognitect.transit.types.hexFor(t,2,8)},com.cognitect.transit.types.UUID.prototype.equiv=function(e){return com.cognitect.transit.eq.equals(this,e)},com.cognitect.transit.types.UUID.prototype.equiv=com.cognitect.transit.types.UUID.prototype.equiv,com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$equals=function(e){return e instanceof com.cognitect.transit.types.UUID&&this.high.equals(e.high)&&this.low.equals(e.low)},com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCode(this.toString())),this.hashCode},com.cognitect.transit.types.UUIDfromString=function(e){e=e.replace(/-/g,"");var t,n,r=t=0;for(n=24;8>r;r+=2,n-=8)t|=parseInt(e.substring(r,r+2),16)<<n;var i=0;for(r=8,n=24;16>r;r+=2,n-=8)i|=parseInt(e.substring(r,r+2),16)<<n;var a=goog.math.Long.fromBits(i,t);for(t=0,r=16,n=24;24>r;r+=2,n-=8)t|=parseInt(e.substring(r,r+2),16)<<n;for(i=0,n=r=24;32>r;r+=2,n-=8)i|=parseInt(e.substring(r,r+2),16)<<n;return e=goog.math.Long.fromBits(i,t),new com.cognitect.transit.types.UUID(a,e)},com.cognitect.transit.types.uuid=function(e){return com.cognitect.transit.types.UUIDfromString(e)},com.cognitect.transit.types.isUUID=function(e){return e instanceof com.cognitect.transit.types.UUID},com.cognitect.transit.types.date=function(e){return e=typeof e=="number"?e:parseInt(e,10),new Date(e)},com.cognitect.transit.types.verboseDate=function(e){return new Date(e)},Date.prototype.com$cognitect$transit$equals=function(e){return e instanceof Date?this.valueOf()===e.valueOf():!1},Date.prototype.com$cognitect$transit$hashCode=function(){return this.valueOf()},com.cognitect.transit.types.binary=function(e,t){return t&&t.preferBuffers===!1||typeof goog.global.Buffer=="undefined"?typeof Uint8Array!="undefined"?com.cognitect.transit.util.Base64ToUint8(e):com.cognitect.transit.types.taggedValue("b",e):new goog.global.Buffer(e,"base64")},com.cognitect.transit.types.isBinary=function(e){return typeof goog.global.Buffer!="undefined"&&e instanceof goog.global.Buffer||typeof Uint8Array!="undefined"&&e instanceof Uint8Array?!0:e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="b"},com.cognitect.transit.types.uri=function(e){return com.cognitect.transit.types.taggedValue("r",e)},com.cognitect.transit.types.isURI=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="r"},com.cognitect.transit.types.KEYS=0,com.cognitect.transit.types.VALUES=1,com.cognitect.transit.types.ENTRIES=2,com.cognitect.transit.types.TransitArrayMapIterator=function(e,t){this.entries=e,this.type=t||com.cognitect.transit.types.KEYS,this.idx=0},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=function(){if(this.idx<this.entries.length){var e={value:this.type===com.cognitect.transit.types.KEYS?this.entries[this.idx]:this.type===com.cognitect.transit.types.VALUES?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};return this.idx+=2,e}return{value:null,done:!0}},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=com.cognitect.transit.types.TransitArrayMapIterator.prototype.next,com.cognitect.transit.types.TransitArrayMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.TransitMapIterator=function(e,t){this.map=e,this.type=t||com.cognitect.transit.types.KEYS,this.keys=this.map.getKeys(),this.idx=0,this.bucket=null,this.bucketIdx=0},com.cognitect.transit.types.TransitMapIterator.prototype.next=function(){if(this.idx<this.map.size){this.bucket!=null&&this.bucketIdx<this.bucket.length||(this.bucket=this.map.map[this.keys[this.idx]],this.bucketIdx=0);var e={value:this.type===com.cognitect.transit.types.KEYS?this.bucket[this.bucketIdx]:this.type===com.cognitect.transit.types.VALUES?this.bucket[this.bucketIdx+1]:[this.bucket[this.bucketIdx],this.bucket[this.bucketIdx+1]],done:!1};return this.idx++,this.bucketIdx+=2,e}return{value:null,done:!0}},com.cognitect.transit.types.TransitMapIterator.prototype.next=com.cognitect.transit.types.TransitMapIterator.prototype.next,com.cognitect.transit.types.TransitMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.mapEquals=function(e,t){if(e instanceof com.cognitect.transit.types.TransitMap&&com.cognitect.transit.types.isMap(t)){if(e.size!==t.size)return!1;for(var n in e.map)for(var r=e.map[n],i=0;i<r.length;i+=2)if(!com.cognitect.transit.eq.equals(r[i+1],t.get(r[i])))return!1;return!0}if(e instanceof com.cognitect.transit.types.TransitArrayMap&&com.cognitect.transit.types.isMap(t)){if(e.size!==t.size)return!1;for(n=e._entries,i=0;i<n.length;i+=2)if(!com.cognitect.transit.eq.equals(n[i+1],t.get(n[i])))return!1;return!0}if(t!=null&&typeof t=="object"&&(i=com.cognitect.transit.util.objectKeys(t),n=i.length,e.size===n)){for(r=0;r<n;r++){var a=i[r];if(!e.has(a)||!com.cognitect.transit.eq.equals(t[a],e.get(a)))return!1}return!0}return!1},com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD=8,com.cognitect.transit.types.ARRAY_MAP_THRESHOLD=32,com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD=32,com.cognitect.transit.types.print=function(e){return e==null?"null":goog.isArray(e)?"["+e.toString()+"]":goog.isString(e)?'"'+e+'"':e.toString()},com.cognitect.transit.types.printMap=function(e){var t=0,n="TransitMap {";return e.forEach(function(r,i){n+=com.cognitect.transit.types.print(i)+" => "+com.cognitect.transit.types.print(r),t<e.size-1&&(n+=", "),t++}),n+"}"},com.cognitect.transit.types.printSet=function(e){var t=0,n="TransitSet {";return e.forEach(function(r){n+=com.cognitect.transit.types.print(r),t<e.size-1&&(n+=", "),t++}),n+"}"},com.cognitect.transit.types.TransitArrayMap=function(e){this._entries=e,this.backingMap=null,this.hashCode=-1,this.size=e.length/2,this.accesses=0},com.cognitect.transit.types.TransitArrayMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitArrayMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitArrayMap.prototype.convert=function(){if(this.backingMap)throw Error("Invalid operation, already converted");return this.size<com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD?!1:(this.accesses++,this.accesses>com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD?(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=[],!0):!1)},com.cognitect.transit.types.TransitArrayMap.prototype.clear=function(){this.hashCode=-1,this.backingMap?this.backingMap.clear():this._entries=[],this.size=0},com.cognitect.transit.types.TransitArrayMap.prototype.clear=com.cognitect.transit.types.TransitArrayMap.prototype.clear,com.cognitect.transit.types.TransitArrayMap.prototype.keys=function(){return this.backingMap?this.backingMap.keys():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitArrayMap.prototype.keys=com.cognitect.transit.types.TransitArrayMap.prototype.keys,com.cognitect.transit.types.TransitArrayMap.prototype.keySet=function(){if(this.backingMap)return this.backingMap.keySet();for(var e=[],t=0,n=0;n<this._entries.length;t++,n+=2)e[t]=this._entries[n];return e},com.cognitect.transit.types.TransitArrayMap.prototype.keySet=com.cognitect.transit.types.TransitArrayMap.prototype.keySet,com.cognitect.transit.types.TransitArrayMap.prototype.entries=function(){return this.backingMap?this.backingMap.entries():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitArrayMap.prototype.entries=com.cognitect.transit.types.TransitArrayMap.prototype.entries,com.cognitect.transit.types.TransitArrayMap.prototype.values=function(){return this.backingMap?this.backingMap.values():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitArrayMap.prototype.values=com.cognitect.transit.types.TransitArrayMap.prototype.values,com.cognitect.transit.types.TransitArrayMap.prototype.forEach=function(e){if(this.backingMap)this.backingMap.forEach(e);else for(var t=0;t<this._entries.length;t+=2)e(this._entries[t+1],this._entries[t])},com.cognitect.transit.types.TransitArrayMap.prototype.forEach=com.cognitect.transit.types.TransitArrayMap.prototype.forEach,com.cognitect.transit.types.TransitArrayMap.prototype.get=function(e,t){if(this.backingMap)return this.backingMap.get(e);if(this.convert())return this.get(e);for(var n=0;n<this._entries.length;n+=2)if(com.cognitect.transit.eq.equals(this._entries[n],e))return this._entries[n+1];return t},com.cognitect.transit.types.TransitArrayMap.prototype.get=com.cognitect.transit.types.TransitArrayMap.prototype.get,com.cognitect.transit.types.TransitArrayMap.prototype.has=function(e){if(this.backingMap)return this.backingMap.has(e);if(this.convert())return this.has(e);for(var t=0;t<this._entries.length;t+=2)if(com.cognitect.transit.eq.equals(this._entries[t],e))return!0;return!1},com.cognitect.transit.types.TransitArrayMap.prototype.has=com.cognitect.transit.types.TransitArrayMap.prototype.has,com.cognitect.transit.types.TransitArrayMap.prototype.set=function(e,t){if(this.hashCode=-1,this.backingMap)this.backingMap.set(e,t),this.size=this.backingMap.size;else{for(var n=0;n<this._entries.length;n+=2)if(com.cognitect.transit.eq.equals(this._entries[n],e)){this._entries[n+1]=t;return}this._entries.push(e),this._entries.push(t),this.size++,this.size>com.cognitect.transit.types.ARRAY_MAP_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=null)}},com.cognitect.transit.types.TransitArrayMap.prototype.set=com.cognitect.transit.types.TransitArrayMap.prototype.set,com.cognitect.transit.types.TransitArrayMap.prototype.delete=function(e){if(this.hashCode=-1,this.backingMap)return e=this.backingMap.delete(e),this.size=this.backingMap.size,e;for(var t=0;t<this._entries.length;t+=2)if(com.cognitect.transit.eq.equals(this._entries[t],e))return e=this._entries[t+1],this._entries.splice(t,2),this.size--,e},com.cognitect.transit.types.TransitArrayMap.prototype.clone=function(){var e=com.cognitect.transit.types.map();return this.forEach(function(t,n){e.set(n,t)}),e},com.cognitect.transit.types.TransitArrayMap.prototype.clone=com.cognitect.transit.types.TransitArrayMap.prototype.clone,com.cognitect.transit.types.TransitArrayMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$hashCode=function(){return this.backingMap?this.backingMap.com$cognitect$transit$hashCode():(this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode)},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$equals=function(e){return this.backingMap?com.cognitect.transit.types.mapEquals(this.backingMap,e):com.cognitect.transit.types.mapEquals(this,e)},com.cognitect.transit.types.TransitMap=function(e,t,n){this.map=t||{},this._keys=e||[],this.size=n||0,this.hashCode=-1},com.cognitect.transit.types.TransitMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitMap.prototype.clear=function(){this.hashCode=-1,this.map={},this._keys=[],this.size=0},com.cognitect.transit.types.TransitMap.prototype.clear=com.cognitect.transit.types.TransitMap.prototype.clear,com.cognitect.transit.types.TransitMap.prototype.getKeys=function(){return this._keys!=null?this._keys:com.cognitect.transit.util.objectKeys(this.map)},com.cognitect.transit.types.TransitMap.prototype.delete=function(e){this.hashCode=-1,this._keys=null;for(var t=com.cognitect.transit.eq.hashCode(e),n=this.map[t],r=0;r<n.length;r+=2)if(com.cognitect.transit.eq.equals(e,n[r]))return e=n[r+1],n.splice(r,2),n.length===0&&delete this.map[t],this.size--,e},com.cognitect.transit.types.TransitMap.prototype.entries=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitMap.prototype.entries=com.cognitect.transit.types.TransitMap.prototype.entries,com.cognitect.transit.types.TransitMap.prototype.forEach=function(e){for(var t=this.getKeys(),n=0;n<t.length;n++)for(var r=this.map[t[n]],i=0;i<r.length;i+=2)e(r[i+1],r[i],this)},com.cognitect.transit.types.TransitMap.prototype.forEach=com.cognitect.transit.types.TransitMap.prototype.forEach,com.cognitect.transit.types.TransitMap.prototype.get=function(e,t){var n=com.cognitect.transit.eq.hashCode(e),n=this.map[n];if(n!=null){for(var r=0;r<n.length;r+=2)if(com.cognitect.transit.eq.equals(e,n[r]))return n[r+1]}else return t},com.cognitect.transit.types.TransitMap.prototype.get=com.cognitect.transit.types.TransitMap.prototype.get,com.cognitect.transit.types.TransitMap.prototype.has=function(e){var t=com.cognitect.transit.eq.hashCode(e),t=this.map[t];if(t!=null){for(var n=0;n<t.length;n+=2)if(com.cognitect.transit.eq.equals(e,t[n]))return!0}return!1},com.cognitect.transit.types.TransitMap.prototype.has=com.cognitect.transit.types.TransitMap.prototype.has,com.cognitect.transit.types.TransitMap.prototype.keys=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitMap.prototype.keys=com.cognitect.transit.types.TransitMap.prototype.keys,com.cognitect.transit.types.TransitMap.prototype.keySet=function(){for(var e=this.getKeys(),t=[],n=0;n<e.length;n++)for(var r=this.map[e[n]],i=0;i<r.length;i+=2)t.push(r[i]);return t},com.cognitect.transit.types.TransitMap.prototype.keySet=com.cognitect.transit.types.TransitMap.prototype.keySet,com.cognitect.transit.types.TransitMap.prototype.set=function(e,t){this.hashCode=-1;var n=com.cognitect.transit.eq.hashCode(e),r=this.map[n];if(r==null)this._keys&&this._keys.push(n),this.map[n]=[e,t],this.size++;else{for(var n=!0,i=0;i<r.length;i+=2)if(com.cognitect.transit.eq.equals(t,r[i])){n=!1,r[i]=t;break}n&&(r.push(e),r.push(t),this.size++)}},com.cognitect.transit.types.TransitMap.prototype.set=com.cognitect.transit.types.TransitMap.prototype.set,com.cognitect.transit.types.TransitMap.prototype.values=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitMap.prototype.values=com.cognitect.transit.types.TransitMap.prototype.values,com.cognitect.transit.types.TransitMap.prototype.clone=function(){var e=com.cognitect.transit.types.map();return this.forEach(function(t,n){e.set(n,t)}),e},com.cognitect.transit.types.TransitMap.prototype.clone=com.cognitect.transit.types.TransitMap.prototype.clone,com.cognitect.transit.types.TransitMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$equals=function(e){return com.cognitect.transit.types.mapEquals(this,e)},com.cognitect.transit.types.map=function(e,t,n){if(e=e||[],t=t===!1?t:!0,(n!==!0||!n)&&e.length<=2*com.cognitect.transit.types.ARRAY_MAP_THRESHOLD){if(t){var r=e;for(e=[],t=0;t<r.length;t+=2){var i=!1;for(n=0;n<e.length;n+=2)if(com.cognitect.transit.eq.equals(e[n],r[t])){e[n+1]=r[t+1],i=!0;break}i||(e.push(r[t]),e.push(r[t+1]))}}return new com.cognitect.transit.types.TransitArrayMap(e)}var r={},i=[],a=0;for(t=0;t<e.length;t+=2){n=com.cognitect.transit.eq.hashCode(e[t]);var c=r[n];if(c==null)i.push(n),r[n]=[e[t],e[t+1]],a++;else{var p=!0;for(n=0;n<c.length;n+=2)if(com.cognitect.transit.eq.equals(c[n],e[t])){c[n+1]=e[t+1],p=!1;break}p&&(c.push(e[t]),c.push(e[t+1]),a++)}}return new com.cognitect.transit.types.TransitMap(i,r,a)},com.cognitect.transit.types.isArrayMap=function(e){return e instanceof com.cognitect.transit.types.TransitArrayMap},com.cognitect.transit.types.isMap=function(e){return e instanceof com.cognitect.transit.types.TransitArrayMap||e instanceof com.cognitect.transit.types.TransitMap},com.cognitect.transit.types.TransitSet=function(e){this.map=e,this.size=e.size},com.cognitect.transit.types.TransitSet.prototype.toString=function(){return com.cognitect.transit.types.printSet(this)},com.cognitect.transit.types.TransitSet.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitSet.prototype.add=function(e){this.map.set(e,e),this.size=this.map.size},com.cognitect.transit.types.TransitSet.prototype.add=com.cognitect.transit.types.TransitSet.prototype.add,com.cognitect.transit.types.TransitSet.prototype.clear=function(){this.map=new com.cognitect.transit.types.TransitMap,this.size=0},com.cognitect.transit.types.TransitSet.prototype.clear=com.cognitect.transit.types.TransitSet.prototype.clear,com.cognitect.transit.types.TransitSet.prototype.delete=function(e){return e=this.map.delete(e),this.size=this.map.size,e},com.cognitect.transit.types.TransitSet.prototype.entries=function(){return this.map.entries()},com.cognitect.transit.types.TransitSet.prototype.entries=com.cognitect.transit.types.TransitSet.prototype.entries,com.cognitect.transit.types.TransitSet.prototype.forEach=function(e,t){var n=this;this.map.forEach(function(r,i,a){e(i,n)})},com.cognitect.transit.types.TransitSet.prototype.forEach=com.cognitect.transit.types.TransitSet.prototype.forEach,com.cognitect.transit.types.TransitSet.prototype.has=function(e){return this.map.has(e)},com.cognitect.transit.types.TransitSet.prototype.has=com.cognitect.transit.types.TransitSet.prototype.has,com.cognitect.transit.types.TransitSet.prototype.keys=function(){return this.map.keys()},com.cognitect.transit.types.TransitSet.prototype.keys=com.cognitect.transit.types.TransitSet.prototype.keys,com.cognitect.transit.types.TransitSet.prototype.keySet=function(){return this.map.keySet()},com.cognitect.transit.types.TransitSet.prototype.keySet=com.cognitect.transit.types.TransitSet.prototype.keySet,com.cognitect.transit.types.TransitSet.prototype.values=function(){return this.map.values()},com.cognitect.transit.types.TransitSet.prototype.values=com.cognitect.transit.types.TransitSet.prototype.values,com.cognitect.transit.types.TransitSet.prototype.clone=function(){var e=com.cognitect.transit.types.set();return this.forEach(function(t){e.add(t)}),e},com.cognitect.transit.types.TransitSet.prototype.clone=com.cognitect.transit.types.TransitSet.prototype.clone,com.cognitect.transit.types.TransitSet.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.values()},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$equals=function(e){if(e instanceof com.cognitect.transit.types.TransitSet){if(this.size===e.size)return com.cognitect.transit.eq.equals(this.map,e.map)}else return!1},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$hashCode=function(e){return com.cognitect.transit.eq.hashCode(this.map)},com.cognitect.transit.types.set=function(e){e=e||[];for(var t={},n=[],r=0,i=0;i<e.length;i++){var a=com.cognitect.transit.eq.hashCode(e[i]),c=t[a];if(c==null)n.push(a),t[a]=[e[i],e[i]],r++;else{for(var a=!0,p=0;p<c.length;p+=2)if(com.cognitect.transit.eq.equals(c[p],e[i])){a=!1;break}a&&(c.push(e[i]),c.push(e[i]),r++)}}return new com.cognitect.transit.types.TransitSet(new com.cognitect.transit.types.TransitMap(n,t,r))},com.cognitect.transit.types.isSet=function(e){return e instanceof com.cognitect.transit.types.TransitSet},com.cognitect.transit.types.quoted=function(e){return com.cognitect.transit.types.taggedValue("'",e)},com.cognitect.transit.types.isQuoted=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="'"},com.cognitect.transit.types.list=function(e){return com.cognitect.transit.types.taggedValue("list",e)},com.cognitect.transit.types.isList=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="list"},com.cognitect.transit.types.link=function(e){return com.cognitect.transit.types.taggedValue("link",e)},com.cognitect.transit.types.isLink=function(e){return e instanceof com.cognitect.transit.types.TaggedValue&&e.tag==="link"},com.cognitect.transit.types.specialDouble=function(e){switch(e){case"-INF":return-Infinity;case"INF":return Infinity;case"NaN":return NaN;default:throw Error("Invalid special double value "+e)}},com.cognitect.transit.handlers={},com.cognitect.transit.handlers.ctorGuid=0,com.cognitect.transit.handlers.ctorGuidProperty="transit$guid$"+com.cognitect.transit.util.randomUUID(),com.cognitect.transit.handlers.typeTag=function(e){if(e==null)return"null";if(e===String)return"string";if(e===Boolean)return"boolean";if(e===Number)return"number";if(e===Array)return"array";if(e===Object)return"map";var t=e[com.cognitect.transit.handlers.ctorGuidProperty];return t==null&&(typeof Object.defineProperty!="undefined"?(t=++com.cognitect.transit.handlers.ctorGuid,Object.defineProperty(e,com.cognitect.transit.handlers.ctorGuidProperty,{value:t,enumerable:!1})):e[com.cognitect.transit.handlers.ctorGuidProperty]=t=++com.cognitect.transit.handlers.ctorGuid),t},com.cognitect.transit.handlers.constructor=function(e){return e==null?null:e.constructor},com.cognitect.transit.handlers.padZeros=function(e,t){for(var n=e.toString(),r=n.length;r<t;r++)n="0"+n;return n},com.cognitect.transit.handlers.stringableKeys=function(e){e=com.cognitect.transit.util.objectKeys(e);for(var t=0;t<e.length;t++);return!0},com.cognitect.transit.handlers.NilHandler=function(){},com.cognitect.transit.handlers.NilHandler.prototype.tag=function(e){return"_"},com.cognitect.transit.handlers.NilHandler.prototype.rep=function(e){return null},com.cognitect.transit.handlers.NilHandler.prototype.stringRep=function(e){return"null"},com.cognitect.transit.handlers.StringHandler=function(){},com.cognitect.transit.handlers.StringHandler.prototype.tag=function(e){return"s"},com.cognitect.transit.handlers.StringHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.StringHandler.prototype.stringRep=function(e){return e},com.cognitect.transit.handlers.NumberHandler=function(){},com.cognitect.transit.handlers.NumberHandler.prototype.tag=function(e){return"i"},com.cognitect.transit.handlers.NumberHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.NumberHandler.prototype.stringRep=function(e){return e.toString()},com.cognitect.transit.handlers.IntegerHandler=function(){},com.cognitect.transit.handlers.IntegerHandler.prototype.tag=function(e){return"i"},com.cognitect.transit.handlers.IntegerHandler.prototype.rep=function(e){return e.toString()},com.cognitect.transit.handlers.IntegerHandler.prototype.stringRep=function(e){return e.toString()},com.cognitect.transit.handlers.BooleanHandler=function(){},com.cognitect.transit.handlers.BooleanHandler.prototype.tag=function(e){return"?"},com.cognitect.transit.handlers.BooleanHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.BooleanHandler.prototype.stringRep=function(e){return e.toString()},com.cognitect.transit.handlers.ArrayHandler=function(){},com.cognitect.transit.handlers.ArrayHandler.prototype.tag=function(e){return"array"},com.cognitect.transit.handlers.ArrayHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.ArrayHandler.prototype.stringRep=function(e){return null},com.cognitect.transit.handlers.MapHandler=function(){},com.cognitect.transit.handlers.MapHandler.prototype.tag=function(e){return"map"},com.cognitect.transit.handlers.MapHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.MapHandler.prototype.stringRep=function(e){return null},com.cognitect.transit.handlers.VerboseDateHandler=function(){},com.cognitect.transit.handlers.VerboseDateHandler.prototype.tag=function(e){return"t"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.rep=function(e){return e.getUTCFullYear()+"-"+com.cognitect.transit.handlers.padZeros(e.getUTCMonth()+1,2)+"-"+com.cognitect.transit.handlers.padZeros(e.getUTCDate(),2)+"T"+com.cognitect.transit.handlers.padZeros(e.getUTCHours(),2)+":"+com.cognitect.transit.handlers.padZeros(e.getUTCMinutes(),2)+":"+com.cognitect.transit.handlers.padZeros(e.getUTCSeconds(),2)+"."+com.cognitect.transit.handlers.padZeros(e.getUTCMilliseconds(),3)+"Z"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.stringRep=function(e,t){return t.rep(e)},com.cognitect.transit.handlers.DateHandler=function(){},com.cognitect.transit.handlers.DateHandler.prototype.tag=function(e){return"m"},com.cognitect.transit.handlers.DateHandler.prototype.rep=function(e){return e.valueOf()},com.cognitect.transit.handlers.DateHandler.prototype.stringRep=function(e){return e.valueOf().toString()},com.cognitect.transit.handlers.DateHandler.prototype.getVerboseHandler=function(e){return new com.cognitect.transit.handlers.VerboseDateHandler},com.cognitect.transit.handlers.UUIDHandler=function(){},com.cognitect.transit.handlers.UUIDHandler.prototype.tag=function(e){return"u"},com.cognitect.transit.handlers.UUIDHandler.prototype.rep=function(e){return e.toString()},com.cognitect.transit.handlers.UUIDHandler.prototype.stringRep=function(e){return e.toString()},com.cognitect.transit.handlers.KeywordHandler=function(){},com.cognitect.transit.handlers.KeywordHandler.prototype.tag=function(e){return":"},com.cognitect.transit.handlers.KeywordHandler.prototype.rep=function(e){return e._name},com.cognitect.transit.handlers.KeywordHandler.prototype.stringRep=function(e,t){return t.rep(e)},com.cognitect.transit.handlers.SymbolHandler=function(){},com.cognitect.transit.handlers.SymbolHandler.prototype.tag=function(e){return"$"},com.cognitect.transit.handlers.SymbolHandler.prototype.rep=function(e){return e._name},com.cognitect.transit.handlers.SymbolHandler.prototype.stringRep=function(e,t){return t.rep(e)},com.cognitect.transit.handlers.TaggedHandler=function(){},com.cognitect.transit.handlers.TaggedHandler.prototype.tag=function(e){return e.tag},com.cognitect.transit.handlers.TaggedHandler.prototype.rep=function(e){return e.rep},com.cognitect.transit.handlers.TaggedHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.TransitSetHandler=function(){},com.cognitect.transit.handlers.TransitSetHandler.prototype.tag=function(e){return"set"},com.cognitect.transit.handlers.TransitSetHandler.prototype.rep=function(e){var t=[];return e.forEach(function(n,r){t.push(n)}),com.cognitect.transit.types.taggedValue("array",t)},com.cognitect.transit.handlers.TransitSetHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.TransitArrayMapHandler=function(){},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.tag=function(e){return"map"},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.TransitMapHandler=function(){},com.cognitect.transit.handlers.TransitMapHandler.prototype.tag=function(e){return"map"},com.cognitect.transit.handlers.TransitMapHandler.prototype.rep=function(e){return e},com.cognitect.transit.handlers.TransitMapHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.BufferHandler=function(){},com.cognitect.transit.handlers.BufferHandler.prototype.tag=function(e){return"b"},com.cognitect.transit.handlers.BufferHandler.prototype.rep=function(e){return e.toString("base64")},com.cognitect.transit.handlers.BufferHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.Uint8ArrayHandler=function(){},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.tag=function(e){return"b"},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.rep=function(e){return com.cognitect.transit.util.Uint8ToBase64(e)},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.stringRep=function(e,t){return null},com.cognitect.transit.handlers.defaultHandlers=function(e){return e.set(null,new com.cognitect.transit.handlers.NilHandler),e.set(String,new com.cognitect.transit.handlers.StringHandler),e.set(Number,new com.cognitect.transit.handlers.NumberHandler),e.set(goog.math.Long,new com.cognitect.transit.handlers.IntegerHandler),e.set(Boolean,new com.cognitect.transit.handlers.BooleanHandler),e.set(Array,new com.cognitect.transit.handlers.ArrayHandler),e.set(Object,new com.cognitect.transit.handlers.MapHandler),e.set(Date,new com.cognitect.transit.handlers.DateHandler),e.set(com.cognitect.transit.types.UUID,new com.cognitect.transit.handlers.UUIDHandler),e.set(com.cognitect.transit.types.Keyword,new com.cognitect.transit.handlers.KeywordHandler),e.set(com.cognitect.transit.types.Symbol,new com.cognitect.transit.handlers.SymbolHandler),e.set(com.cognitect.transit.types.TaggedValue,new com.cognitect.transit.handlers.TaggedHandler),e.set(com.cognitect.transit.types.TransitSet,new com.cognitect.transit.handlers.TransitSetHandler),e.set(com.cognitect.transit.types.TransitArrayMap,new com.cognitect.transit.handlers.TransitArrayMapHandler),e.set(com.cognitect.transit.types.TransitMap,new com.cognitect.transit.handlers.TransitMapHandler),typeof goog.global.Buffer!="undefined"&&e.set(goog.global.Buffer,new com.cognitect.transit.handlers.BufferHandler),typeof Uint8Array!="undefined"&&e.set(Uint8Array,new com.cognitect.transit.handlers.Uint8ArrayHandler),e},com.cognitect.transit.handlers.Handlers=function(){this.handlers={},com.cognitect.transit.handlers.defaultHandlers(this)},com.cognitect.transit.handlers.Handlers.prototype.get=function(e){return e=typeof e=="string"?this.handlers[e]:this.handlers[com.cognitect.transit.handlers.typeTag(e)],e!=null?e:this.handlers.default},com.cognitect.transit.handlers.Handlers.prototype.get=com.cognitect.transit.handlers.Handlers.prototype.get,com.cognitect.transit.handlers.validTag=function(e){switch(e){case"null":case"string":case"boolean":case"number":case"array":case"map":return!1}return!0},com.cognitect.transit.handlers.Handlers.prototype.set=function(e,t){typeof e=="string"&&com.cognitect.transit.handlers.validTag(e)?this.handlers[e]=t:this.handlers[com.cognitect.transit.handlers.typeTag(e)]=t},com.cognitect.transit.impl={},com.cognitect.transit.impl.decoder={},com.cognitect.transit.impl.decoder.Tag=function(e){this.str=e},com.cognitect.transit.impl.decoder.tag=function(e){return new com.cognitect.transit.impl.decoder.Tag(e)},com.cognitect.transit.impl.decoder.isTag=function(e){return e&&e instanceof com.cognitect.transit.impl.decoder.Tag},com.cognitect.transit.impl.decoder.isGroundHandler=function(e){switch(e){case"_":case"s":case"?":case"i":case"d":case"b":case"'":case"array":case"map":return!0}return!1},com.cognitect.transit.impl.decoder.Decoder=function(e){this.options=e||{},this.handlers={};for(var t in this.defaults.handlers)this.handlers[t]=this.defaults.handlers[t];for(t in this.options.handlers){if(com.cognitect.transit.impl.decoder.isGroundHandler(t))throw Error('Cannot override handler for ground type "'+t+'"');this.handlers[t]=this.options.handlers[t]}this.preferStrings=this.options.preferStrings!=null?this.options.preferStrings:this.defaults.preferStrings,this.preferBuffers=this.options.preferBuffers!=null?this.options.preferBuffers:this.defaults.preferBuffers,this.defaultHandler=this.options.defaultHandler||this.defaults.defaultHandler,this.mapBuilder=this.options.mapBuilder,this.arrayBuilder=this.options.arrayBuilder},com.cognitect.transit.impl.decoder.Decoder.prototype.defaults={handlers:{_:function(e,t){return com.cognitect.transit.types.nullValue()},"?":function(e,t){return com.cognitect.transit.types.boolValue(e)},b:function(e,t){return com.cognitect.transit.types.binary(e,t)},i:function(e,t){return com.cognitect.transit.types.intValue(e)},n:function(e,t){return com.cognitect.transit.types.bigInteger(e)},d:function(e,t){return com.cognitect.transit.types.floatValue(e)},f:function(e,t){return com.cognitect.transit.types.bigDecimalValue(e)},c:function(e,t){return com.cognitect.transit.types.charValue(e)},":":function(e,t){return com.cognitect.transit.types.keyword(e)},$:function(e,t){return com.cognitect.transit.types.symbol(e)},r:function(e,t){return com.cognitect.transit.types.uri(e)},z:function(e,t){return com.cognitect.transit.types.specialDouble(e)},"'":function(e,t){return e},m:function(e,t){return com.cognitect.transit.types.date(e)},t:function(e,t){return com.cognitect.transit.types.verboseDate(e)},u:function(e,t){return com.cognitect.transit.types.uuid(e)},set:function(e,t){return com.cognitect.transit.types.set(e)},list:function(e,t){return com.cognitect.transit.types.list(e)},link:function(e,t){return com.cognitect.transit.types.link(e)},cmap:function(e,t){return com.cognitect.transit.types.map(e,!1)}},defaultHandler:function(e,t){return com.cognitect.transit.types.taggedValue(e,t)},preferStrings:!0,preferBuffers:!0},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=function(e,t,n,r){if(e==null)return null;switch(typeof e){case"string":return this.decodeString(e,t,n,r);case"object":return com.cognitect.transit.util.isArray(e)?e[0]==="^ "?this.decodeArrayHash(e,t,n,r):this.decodeArray(e,t,n,r):this.decodeHash(e,t,n,r)}return e},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=com.cognitect.transit.impl.decoder.Decoder.prototype.decode,com.cognitect.transit.impl.decoder.Decoder.prototype.decodeString=function(e,t,n,r){return com.cognitect.transit.caching.isCacheable(e,n)?(e=this.parseString(e,t,!1),t&&t.write(e,n),e):com.cognitect.transit.caching.isCacheCode(e)?t.read(e,n):this.parseString(e,t,n)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeHash=function(e,t,n,r){n=com.cognitect.transit.util.objectKeys(e);var i=n[0];if(r=n.length==1?this.decode(i,t,!1,!1):null,com.cognitect.transit.impl.decoder.isTag(r))return e=e[i],n=this.handlers[r.str],n!=null?n(this.decode(e,t,!1,!0),this):com.cognitect.transit.types.taggedValue(r.str,this.decode(e,t,!1,!1));if(this.mapBuilder){if(n.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD&&this.mapBuilder.fromArray){var a=[];for(i=0;i<n.length;i++)r=n[i],a.push(this.decode(r,t,!0,!1)),a.push(this.decode(e[r],t,!1,!1));return this.mapBuilder.fromArray(a,e)}for(a=this.mapBuilder.init(e),i=0;i<n.length;i++)r=n[i],a=this.mapBuilder.add(a,this.decode(r,t,!0,!1),this.decode(e[r],t,!1,!1),e);return this.mapBuilder.finalize(a,e)}for(a=[],i=0;i<n.length;i++)r=n[i],a.push(this.decode(r,t,!0,!1)),a.push(this.decode(e[r],t,!1,!1));return com.cognitect.transit.types.map(a,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArrayHash=function(e,t,n,r){if(this.mapBuilder){if(e.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD+1&&this.mapBuilder.fromArray){for(r=[],n=1;n<e.length;n+=2)r.push(this.decode(e[n],t,!0,!1)),r.push(this.decode(e[n+1],t,!1,!1));return this.mapBuilder.fromArray(r,e)}for(r=this.mapBuilder.init(e),n=1;n<e.length;n+=2)r=this.mapBuilder.add(r,this.decode(e[n],t,!0,!1),this.decode(e[n+1],t,!1,!1),e);return this.mapBuilder.finalize(r,e)}for(r=[],n=1;n<e.length;n+=2)r.push(this.decode(e[n],t,!0,!1)),r.push(this.decode(e[n+1],t,!1,!1));return com.cognitect.transit.types.map(r,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArray=function(e,t,n,r){if(r){var i=[];for(r=0;r<e.length;r++)i.push(this.decode(e[r],t,n,!1));return i}if(i=t&&t.idx,e.length===2&&typeof e[0]=="string"&&(r=this.decode(e[0],t,!1,!1),com.cognitect.transit.impl.decoder.isTag(r)))return i=e[1],e=this.handlers[r.str],e!=null?i=e(this.decode(i,t,n,!0),this):com.cognitect.transit.types.taggedValue(r.str,this.decode(i,t,n,!1));if(t&&i!=t.idx&&(t.idx=i),this.arrayBuilder){if(32>=e.length&&this.arrayBuilder.fromArray){for(i=[],r=0;r<e.length;r++)i.push(this.decode(e[r],t,n,!1));return this.arrayBuilder.fromArray(i,e)}for(i=this.arrayBuilder.init(e),r=0;r<e.length;r++)i=this.arrayBuilder.add(i,this.decode(e[r],t,n,!1),e);return this.arrayBuilder.finalize(i,e)}for(i=[],r=0;r<e.length;r++)i.push(this.decode(e[r],t,n,!1));return i},com.cognitect.transit.impl.decoder.Decoder.prototype.parseString=function(e,t,n){return e.charAt(0)===com.cognitect.transit.delimiters.ESC?(t=e.charAt(1),t===com.cognitect.transit.delimiters.ESC||t===com.cognitect.transit.delimiters.SUB||t===com.cognitect.transit.delimiters.RES?e.substring(1):t===com.cognitect.transit.delimiters.TAG?com.cognitect.transit.impl.decoder.tag(e.substring(2)):(n=this.handlers[t],n==null?this.defaultHandler(t,e.substring(2)):n(e.substring(2),this))):e},com.cognitect.transit.impl.decoder.decoder=function(e){return new com.cognitect.transit.impl.decoder.Decoder(e)},com.cognitect.transit.impl.reader={},com.cognitect.transit.impl.reader.JSONUnmarshaller=function(e){this.decoder=new com.cognitect.transit.impl.decoder.Decoder(e)},com.cognitect.transit.impl.reader.JSONUnmarshaller.prototype.unmarshal=function(e,t){return this.decoder.decode(JSON.parse(e),t)},com.cognitect.transit.impl.reader.Reader=function(e,t){this.unmarshaller=e,this.options=t||{},this.cache=this.options.cache?this.options.cache:new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.impl.reader.Reader.prototype.read=function(e){return e=this.unmarshaller.unmarshal(e,this.cache),this.cache.clear(),e},com.cognitect.transit.impl.reader.Reader.prototype.read=com.cognitect.transit.impl.reader.Reader.prototype.read,com.cognitect.transit.impl.writer={},com.cognitect.transit.impl.writer.escape=function(e){if(0<e.length){var t=e.charAt(0);return t===com.cognitect.transit.delimiters.ESC||t===com.cognitect.transit.delimiters.SUB||t===com.cognitect.transit.delimiters.RES?com.cognitect.transit.delimiters.ESC+e:e}return e},com.cognitect.transit.impl.writer.JSONMarshaller=function(e){if(this.opts=e||{},this.preferStrings=this.opts.preferStrings!=null?this.opts.preferStrings:!0,this.objectBuilder=this.opts.objectBuilder||null,this.transform=this.opts.transform||null,this.handlers=new com.cognitect.transit.handlers.Handlers,e=this.opts.handlers){if(com.cognitect.transit.util.isArray(e)||!e.forEach)throw Error('transit writer "handlers" option must be a map');var t=this;e.forEach(function(n,r){if(r!==void 0)t.handlers.set(r,n);else throw Error("Cannot create handler for JavaScript undefined")})}this.handlerForForeign=this.opts.handlerForForeign,this.unpack=this.opts.unpack||function(n){return com.cognitect.transit.types.isArrayMap(n)&&n.backingMap===null?n._entries:!1},this.verbose=this.opts&&this.opts.verbose||!1},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.handler=function(e){var t=this.handlers.get(com.cognitect.transit.handlers.constructor(e));return t!=null?t:(e=e&&e.transitTag)?this.handlers.get(e):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.registerHandler=function(e,t){this.handlers.set(e,t)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitNil=function(e,t){return e?this.emitString(com.cognitect.transit.delimiters.ESC,"_","",e,t):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitString=function(e,t,n,r,i){return e=e+t+n,i?i.write(e,r):e},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBoolean=function(e,t,n){return t?this.emitString(com.cognitect.transit.delimiters.ESC,"?",e.toString()[0],t,n):e},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitInteger=function(e,t,n){return e===Infinity?this.emitString(com.cognitect.transit.delimiters.ESC,"z","INF",t,n):e===-Infinity?this.emitString(com.cognitect.transit.delimiters.ESC,"z","-INF",t,n):isNaN(e)?this.emitString(com.cognitect.transit.delimiters.ESC,"z","NaN",t,n):t||typeof e=="string"||e instanceof goog.math.Long?this.emitString(com.cognitect.transit.delimiters.ESC,"i",e.toString(),t,n):e},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitDouble=function(e,t,n){return t?this.emitString(e.ESC,"d",e,t,n):e},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBinary=function(e,t,n){return this.emitString(com.cognitect.transit.delimiters.ESC,"b",e,t,n)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitQuoted=function(e,t,n){if(e.verbose){e={};var r=this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,n);return e[r]=com.cognitect.transit.impl.writer.marshal(this,t,!1,n),e}return[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,n),com.cognitect.transit.impl.writer.marshal(this,t,!1,n)]},com.cognitect.transit.impl.writer.emitObjects=function(e,t,n){var r=[];if(com.cognitect.transit.util.isArray(t))for(var i=0;i<t.length;i++)r.push(com.cognitect.transit.impl.writer.marshal(e,t[i],!1,n));else t.forEach(function(a,c){r.push(com.cognitect.transit.impl.writer.marshal(e,a,!1,n))});return r},com.cognitect.transit.impl.writer.emitArray=function(e,t,n,r){return com.cognitect.transit.impl.writer.emitObjects(e,t,r)},com.cognitect.transit.impl.writer.isStringableKey=function(e,t){if(typeof t!="string"){var n=e.handler(t);return n&&n.tag(t).length===1}return!0},com.cognitect.transit.impl.writer.stringableKeys=function(e,t){var n=e.unpack(t),r=!0;if(n){for(var i=0;i<n.length&&(r=com.cognitect.transit.impl.writer.isStringableKey(e,n[i]),r);i+=2);return r}if(t.keys&&(n=t.keys(),i=null,n.next)){for(i=n.next();!i.done&&(r=com.cognitect.transit.impl.writer.isStringableKey(e,i.value),!!r);)i=n.next();return r}if(t.forEach)return t.forEach(function(a,c){r=r&&com.cognitect.transit.impl.writer.isStringableKey(e,c)}),r;throw Error("Cannot walk keys of object type "+com.cognitect.transit.handlers.constructor(t).name)},com.cognitect.transit.impl.writer.isForeignObject=function(e){if(e.constructor.transit$isObject)return!0;var t=e.constructor.toString(),t=t.substr(9),t=t.substr(0,t.indexOf("(")),t=t=="Object";return typeof Object.defineProperty!="undefined"?Object.defineProperty(e.constructor,"transit$isObject",{value:t,enumerable:!1}):e.constructor.transit$isObject=t,t},com.cognitect.transit.impl.writer.emitMap=function(e,t,n,r){var i=null,a=null,c=null,i=null;if(n=0,t.constructor===Object||t.forEach!=null||e.handlerForForeign&&com.cognitect.transit.impl.writer.isForeignObject(t)){if(e.verbose){if(t.forEach!=null)if(com.cognitect.transit.impl.writer.stringableKeys(e,t)){var p={};t.forEach(function(f,d){p[com.cognitect.transit.impl.writer.marshal(e,d,!0,!1)]=com.cognitect.transit.impl.writer.marshal(e,f,!1,r)})}else{if(i=e.unpack(t),a=[],c=e.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,r),i)for(;n<i.length;n+=2)a.push(com.cognitect.transit.impl.writer.marshal(e,i[n],!1,!1)),a.push(com.cognitect.transit.impl.writer.marshal(e,i[n+1],!1,r));else t.forEach(function(f,d){a.push(com.cognitect.transit.impl.writer.marshal(e,d,!1,!1)),a.push(com.cognitect.transit.impl.writer.marshal(e,f,!1,r))});p={},p[c]=a}else for(i=com.cognitect.transit.util.objectKeys(t),p={};n<i.length;n++)p[com.cognitect.transit.impl.writer.marshal(e,i[n],!0,!1)]=com.cognitect.transit.impl.writer.marshal(e,t[i[n]],!1,r);return p}if(t.forEach!=null){if(com.cognitect.transit.impl.writer.stringableKeys(e,t)){if(i=e.unpack(t),p=["^ "],i)for(;n<i.length;n+=2)p.push(com.cognitect.transit.impl.writer.marshal(e,i[n],!0,r)),p.push(com.cognitect.transit.impl.writer.marshal(e,i[n+1],!1,r));else t.forEach(function(f,d){p.push(com.cognitect.transit.impl.writer.marshal(e,d,!0,r)),p.push(com.cognitect.transit.impl.writer.marshal(e,f,!1,r))});return p}if(i=e.unpack(t),a=[],c=e.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,r),i)for(;n<i.length;n+=2)a.push(com.cognitect.transit.impl.writer.marshal(e,i[n],!1,r)),a.push(com.cognitect.transit.impl.writer.marshal(e,i[n+1],!1,r));else t.forEach(function(f,d){a.push(com.cognitect.transit.impl.writer.marshal(e,d,!1,r)),a.push(com.cognitect.transit.impl.writer.marshal(e,f,!1,r))});return[c,a]}for(p=["^ "],i=com.cognitect.transit.util.objectKeys(t);n<i.length;n++)p.push(com.cognitect.transit.impl.writer.marshal(e,i[n],!0,r)),p.push(com.cognitect.transit.impl.writer.marshal(e,t[i[n]],!1,r));return p}if(e.objectBuilder!=null)return e.objectBuilder(t,function(f){return com.cognitect.transit.impl.writer.marshal(e,f,!0,r)},function(f){return com.cognitect.transit.impl.writer.marshal(e,f,!1,r)});throw n=com.cognitect.transit.handlers.constructor(t).name,i=Error("Cannot write "+n),i.data={obj:t,type:n},i},com.cognitect.transit.impl.writer.emitTaggedMap=function(e,t,n,r,i){return e.verbose?(r={},r[e.emitString(com.cognitect.transit.delimiters.ESC_TAG,t,"",!0,i)]=com.cognitect.transit.impl.writer.marshal(e,n,!1,i),r):[e.emitString(com.cognitect.transit.delimiters.ESC_TAG,t,"",!0,i),com.cognitect.transit.impl.writer.marshal(e,n,!1,i)]},com.cognitect.transit.impl.writer.emitEncoded=function(e,t,n,r,i,a,c){if(n.length===1){if(typeof r=="string")return e.emitString(com.cognitect.transit.delimiters.ESC,n,r,a,c);if(a||e.preferStrings){if((r=e.verbose&&t.getVerboseHandler())?(n=r.tag(i),r=r.stringRep(i,r)):r=t.stringRep(i,t),r!==null)return e.emitString(com.cognitect.transit.delimiters.ESC,n,r,a,c);throw e=Error('Tag "'+n+'" cannot be encoded as string'),e.data={tag:n,rep:r,obj:i},e}}return com.cognitect.transit.impl.writer.emitTaggedMap(e,n,r,a,c)},com.cognitect.transit.impl.writer.marshal=function(e,t,n,r){e.transform!==null&&(t=e.transform(t));var i=e.handler(t)||(e.handlerForForeign?e.handlerForForeign(t,e.handlers):null),a=i?i.tag(t):null,c=i?i.rep(t):null;if(i!=null&&a!=null)switch(a){case"_":return e.emitNil(n,r);case"s":return e.emitString("","",com.cognitect.transit.impl.writer.escape(c),n,r);case"?":return e.emitBoolean(c,n,r);case"i":return e.emitInteger(c,n,r);case"d":return e.emitDouble(c,n,r);case"b":return e.emitBinary(c,n,r);case"'":return e.emitQuoted(e,c,r);case"array":return com.cognitect.transit.impl.writer.emitArray(e,c,n,r);case"map":return com.cognitect.transit.impl.writer.emitMap(e,c,n,r);default:return com.cognitect.transit.impl.writer.emitEncoded(e,i,a,c,t,n,r)}else throw e=com.cognitect.transit.handlers.constructor(t).name,n=Error("Cannot write "+e),n.data={obj:t,type:e},n},com.cognitect.transit.impl.writer.maybeQuoted=function(e,t){var n=e.handler(t)||(e.handlerForForeign?e.handlerForForeign(t,e.handlers):null);if(n!=null)return n.tag(t).length===1?com.cognitect.transit.types.quoted(t):t;var n=com.cognitect.transit.handlers.constructor(t).name,r=Error("Cannot write "+n);throw r.data={obj:t,type:n},r},com.cognitect.transit.impl.writer.marshalTop=function(e,t,n,r){return JSON.stringify(com.cognitect.transit.impl.writer.marshal(e,com.cognitect.transit.impl.writer.maybeQuoted(e,t),n,r))},com.cognitect.transit.impl.writer.Writer=function(e,t){this._marshaller=e,this.options=t||{},this.cache=this.options.cache===!1?null:this.options.cache?this.options.cache:new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=function(){return this._marshaller},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=com.cognitect.transit.impl.writer.Writer.prototype.marshaller,com.cognitect.transit.impl.writer.Writer.prototype.write=function(e,t){var n=t||{},r=n.asMapKey||!1,i=this._marshaller.verbose?!1:this.cache;return n=n.marshalTop===!1?com.cognitect.transit.impl.writer.marshal(this._marshaller,e,r,i):com.cognitect.transit.impl.writer.marshalTop(this._marshaller,e,r,i),this.cache!=null&&this.cache.clear(),n},com.cognitect.transit.impl.writer.Writer.prototype.write=com.cognitect.transit.impl.writer.Writer.prototype.write,com.cognitect.transit.impl.writer.Writer.prototype.register=function(e,t){this._marshaller.registerHandler(e,t)},com.cognitect.transit.impl.writer.Writer.prototype.register=com.cognitect.transit.impl.writer.Writer.prototype.register;var TRANSIT_DEV=!0,TRANSIT_NODE_TARGET=!0,TRANSIT_BROWSER_TARGET=!1,TRANSIT_BROWSER_AMD_TARGET=!1;com.cognitect.transit.reader=function(e,t){if(e==="json"||e==="json-verbose"||e==null){var n=new com.cognitect.transit.impl.reader.JSONUnmarshaller(t);return new com.cognitect.transit.impl.reader.Reader(n,t)}throw Error("Cannot create reader of type "+e)},com.cognitect.transit.writer=function(e,t){if(e==="json"||e==="json-verbose"||e==null){e==="json-verbose"&&(t==null&&(t={}),t.verbose=!0);var n=new com.cognitect.transit.impl.writer.JSONMarshaller(t);return new com.cognitect.transit.impl.writer.Writer(n,t)}throw n=Error('Type must be "json"'),n.data={type:e},n},com.cognitect.transit.makeWriteHandler=function(e){var t=s(function(){},"b");return t.prototype.tag=e.tag,t.prototype.rep=e.rep,t.prototype.stringRep=e.stringRep,t.prototype.getVerboseHandler=e.getVerboseHandler,new t},com.cognitect.transit.makeBuilder=function(e){var t=s(function(){},"b");return t.prototype.init=e.init,t.prototype.add=e.add,t.prototype.finalize=e.finalize,t.prototype.fromArray=e.fromArray,new t},com.cognitect.transit.date=com.cognitect.transit.types.date,com.cognitect.transit.integer=com.cognitect.transit.types.intValue,com.cognitect.transit.isInteger=com.cognitect.transit.types.isInteger,com.cognitect.transit.uuid=com.cognitect.transit.types.uuid,com.cognitect.transit.isUUID=com.cognitect.transit.types.isUUID,com.cognitect.transit.bigInt=com.cognitect.transit.types.bigInteger,com.cognitect.transit.isBigInt=com.cognitect.transit.types.isBigInteger,com.cognitect.transit.bigDec=com.cognitect.transit.types.bigDecimalValue,com.cognitect.transit.isBigDec=com.cognitect.transit.types.isBigDecimal,com.cognitect.transit.keyword=com.cognitect.transit.types.keyword,com.cognitect.transit.isKeyword=com.cognitect.transit.types.isKeyword,com.cognitect.transit.symbol=com.cognitect.transit.types.symbol,com.cognitect.transit.isSymbol=com.cognitect.transit.types.isSymbol,com.cognitect.transit.binary=com.cognitect.transit.types.binary,com.cognitect.transit.isBinary=com.cognitect.transit.types.isBinary,com.cognitect.transit.uri=com.cognitect.transit.types.uri,com.cognitect.transit.isURI=com.cognitect.transit.types.isURI,com.cognitect.transit.map=com.cognitect.transit.types.map,com.cognitect.transit.isMap=com.cognitect.transit.types.isMap,com.cognitect.transit.set=com.cognitect.transit.types.set,com.cognitect.transit.isSet=com.cognitect.transit.types.isSet,com.cognitect.transit.list=com.cognitect.transit.types.list,com.cognitect.transit.isList=com.cognitect.transit.types.isList,com.cognitect.transit.quoted=com.cognitect.transit.types.quoted,com.cognitect.transit.isQuoted=com.cognitect.transit.types.isQuoted,com.cognitect.transit.tagged=com.cognitect.transit.types.taggedValue,com.cognitect.transit.isTaggedValue=com.cognitect.transit.types.isTaggedValue,com.cognitect.transit.link=com.cognitect.transit.types.link,com.cognitect.transit.isLink=com.cognitect.transit.types.isLink,com.cognitect.transit.hash=com.cognitect.transit.eq.hashCode,com.cognitect.transit.hashMapLike=com.cognitect.transit.eq.hashMapLike,com.cognitect.transit.hashArrayLike=com.cognitect.transit.eq.hashArrayLike,com.cognitect.transit.equals=com.cognitect.transit.eq.equals,com.cognitect.transit.extendToEQ=com.cognitect.transit.eq.extendToEQ,com.cognitect.transit.mapToObject=function(e){var t={};return e.forEach(function(n,r){if(typeof r!="string")throw Error("Cannot convert map with non-string keys");t[r]=n}),t},com.cognitect.transit.objectToMap=function(e){var t=com.cognitect.transit.map(),n;for(n in e)e.hasOwnProperty(n)&&t.set(n,e[n]);return t},com.cognitect.transit.decoder=com.cognitect.transit.impl.decoder.decoder,com.cognitect.transit.readCache=com.cognitect.transit.caching.readCache,com.cognitect.transit.writeCache=com.cognitect.transit.caching.writeCache,com.cognitect.transit.UUIDfromString=com.cognitect.transit.types.UUIDfromString,com.cognitect.transit.randomUUID=com.cognitect.transit.util.randomUUID,com.cognitect.transit.stringableKeys=com.cognitect.transit.impl.writer.stringableKeys,TRANSIT_BROWSER_TARGET&&(goog.exportSymbol("transit.reader",com.cognitect.transit.reader),goog.exportSymbol("transit.writer",com.cognitect.transit.writer),goog.exportSymbol("transit.makeBuilder",com.cognitect.transit.makeBuilder),goog.exportSymbol("transit.makeWriteHandler",com.cognitect.transit.makeWriteHandler),goog.exportSymbol("transit.date",com.cognitect.transit.types.date),goog.exportSymbol("transit.integer",com.cognitect.transit.types.intValue),goog.exportSymbol("transit.isInteger",com.cognitect.transit.types.isInteger),goog.exportSymbol("transit.uuid",com.cognitect.transit.types.uuid),goog.exportSymbol("transit.isUUID",com.cognitect.transit.types.isUUID),goog.exportSymbol("transit.bigInt",com.cognitect.transit.types.bigInteger),goog.exportSymbol("transit.isBigInt",com.cognitect.transit.types.isBigInteger),goog.exportSymbol("transit.bigDec",com.cognitect.transit.types.bigDecimalValue),goog.exportSymbol("transit.isBigDec",com.cognitect.transit.types.isBigDecimal),goog.exportSymbol("transit.keyword",com.cognitect.transit.types.keyword),goog.exportSymbol("transit.isKeyword",com.cognitect.transit.types.isKeyword),goog.exportSymbol("transit.symbol",com.cognitect.transit.types.symbol),goog.exportSymbol("transit.isSymbol",com.cognitect.transit.types.isSymbol),goog.exportSymbol("transit.binary",com.cognitect.transit.types.binary),goog.exportSymbol("transit.isBinary",com.cognitect.transit.types.isBinary),goog.exportSymbol("transit.uri",com.cognitect.transit.types.uri),goog.exportSymbol("transit.isURI",com.cognitect.transit.types.isURI),goog.exportSymbol("transit.map",com.cognitect.transit.types.map),goog.exportSymbol("transit.isMap",com.cognitect.transit.types.isMap),goog.exportSymbol("transit.set",com.cognitect.transit.types.set),goog.exportSymbol("transit.isSet",com.cognitect.transit.types.isSet),goog.exportSymbol("transit.list",com.cognitect.transit.types.list),goog.exportSymbol("transit.isList",com.cognitect.transit.types.isList),goog.exportSymbol("transit.quoted",com.cognitect.transit.types.quoted),goog.exportSymbol("transit.isQuoted",com.cognitect.transit.types.isQuoted),goog.exportSymbol("transit.tagged",com.cognitect.transit.types.taggedValue),goog.exportSymbol("transit.isTaggedValue",com.cognitect.transit.types.isTaggedValue),goog.exportSymbol("transit.link",com.cognitect.transit.types.link),goog.exportSymbol("transit.isLink",com.cognitect.transit.types.isLink),goog.exportSymbol("transit.hash",com.cognitect.transit.eq.hashCode),goog.exportSymbol("transit.hashMapLike",com.cognitect.transit.eq.hashMapLike),goog.exportSymbol("transit.hashArrayLike",com.cognitect.transit.eq.hashArrayLike),goog.exportSymbol("transit.equals",com.cognitect.transit.eq.equals),goog.exportSymbol("transit.extendToEQ",com.cognitect.transit.eq.extendToEQ),goog.exportSymbol("transit.mapToObject",com.cognitect.transit.mapToObject),goog.exportSymbol("transit.objectToMap",com.cognitect.transit.objectToMap),goog.exportSymbol("transit.decoder",com.cognitect.transit.impl.decoder.decoder),goog.exportSymbol("transit.UUIDfromString",com.cognitect.transit.types.UUIDfromString),goog.exportSymbol("transit.randomUUID",com.cognitect.transit.util.randomUUID),goog.exportSymbol("transit.stringableKeys",com.cognitect.transit.impl.writer.stringableKeys),goog.exportSymbol("transit.readCache",com.cognitect.transit.caching.readCache),goog.exportSymbol("transit.writeCache",com.cognitect.transit.caching.writeCache)),TRANSIT_NODE_TARGET&&(module.exports={reader:com.cognitect.transit.reader,writer:com.cognitect.transit.writer,makeBuilder:com.cognitect.transit.makeBuilder,makeWriteHandler:com.cognitect.transit.makeWriteHandler,date:com.cognitect.transit.types.date,integer:com.cognitect.transit.types.intValue,isInteger:com.cognitect.transit.types.isInteger,uuid:com.cognitect.transit.types.uuid,isUUID:com.cognitect.transit.types.isUUID,bigInt:com.cognitect.transit.types.bigInteger,isBigInt:com.cognitect.transit.types.isBigInteger,bigDec:com.cognitect.transit.types.bigDecimalValue,isBigDec:com.cognitect.transit.types.isBigDecimal,keyword:com.cognitect.transit.types.keyword,isKeyword:com.cognitect.transit.types.isKeyword,symbol:com.cognitect.transit.types.symbol,isSymbol:com.cognitect.transit.types.isSymbol,binary:com.cognitect.transit.types.binary,isBinary:com.cognitect.transit.types.isBinary,uri:com.cognitect.transit.types.uri,isURI:com.cognitect.transit.types.isURI,map:com.cognitect.transit.types.map,isMap:com.cognitect.transit.types.isMap,set:com.cognitect.transit.types.set,isSet:com.cognitect.transit.types.isSet,list:com.cognitect.transit.types.list,isList:com.cognitect.transit.types.isList,quoted:com.cognitect.transit.types.quoted,isQuoted:com.cognitect.transit.types.isQuoted,tagged:com.cognitect.transit.types.taggedValue,isTaggedValue:com.cognitect.transit.types.isTaggedValue,link:com.cognitect.transit.types.link,isLink:com.cognitect.transit.types.isLink,hash:com.cognitect.transit.eq.hashCode,hashArrayLike:com.cognitect.transit.eq.hashArrayLike,hashMapLike:com.cognitect.transit.eq.hashMapLike,equals:com.cognitect.transit.eq.equals,extendToEQ:com.cognitect.transit.eq.extendToEQ,mapToObject:com.cognitect.transit.mapToObject,objectToMap:com.cognitect.transit.objectToMap,decoder:com.cognitect.transit.impl.decoder.decoder,UUIDfromString:com.cognitect.transit.types.UUIDfromString,randomUUID:com.cognitect.transit.util.randomUUID,stringableKeys:com.cognitect.transit.impl.writer.stringableKeys,readCache:com.cognitect.transit.caching.readCache,writeCache:com.cognitect.transit.caching.writeCache})}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/lib/bytesToUuid.js":function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);function i(a,c){var p=c||0,f=n;return[f[a[p++]],f[a[p++]],f[a[p++]],f[a[p++]],"-",f[a[p++]],f[a[p++]],"-",f[a[p++]],f[a[p++]],"-",f[a[p++]],f[a[p++]],"-",f[a[p++]],f[a[p++]],f[a[p++]],f[a[p++]],f[a[p++]],f[a[p++]]].join("")}s(i,"bytesToUuid"),e.exports=i},"./node_modules/uuid/lib/rng-browser.js":function(e,t){var n=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=s(function(){return n(r),r},"whatwgRNG")}else{var i=new Array(16);e.exports=s(function(){for(var c=0,p;c<16;c++)(c&3)==0&&(p=Math.random()*4294967296),i[c]=p>>>((c&3)<<3)&255;return i},"mathRNG")}},"./node_modules/uuid/v4.js":function(e,t,n){var r=n("./node_modules/uuid/lib/rng-browser.js"),i=n("./node_modules/uuid/lib/bytesToUuid.js");function a(c,p,f){var d=p&&f||0;typeof c=="string"&&(p=c==="binary"?new Array(16):null,c=null),c=c||{};var g=c.random||(c.rng||r)();if(g[6]=g[6]&15|64,g[8]=g[8]&63|128,p)for(var y=0;y<16;++y)p[d+y]=g[y];return p||i(g)}s(a,"v4"),e.exports=a},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){typeof window=="object"&&(n=window)}e.exports=n},"./src/automerge.js":function(e,t,n){"use strict";var r=function(){function j(M,B){var H=[],J=!0,te=!1,ae=void 0;try{for(var ue=M[Symbol.iterator](),I;!(J=(I=ue.next()).done)&&(H.push(I.value),!(B&&H.length===B));J=!0);}catch(ie){te=!0,ae=ie}finally{try{!J&&ue.return&&ue.return()}finally{if(te)throw ae}}return H}return s(j,"sliceIterator"),function(M,B){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return j(M,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n("./node_modules/transit-immutable-js/index.js"),a=n("./src/uuid.js"),c=n("./frontend/index.js"),p=n("./backend/index.js"),f=n("./src/common.js"),d=f.isObject;function g(j,M){var B=y(j),H=p.applyChanges(p.init(),M),J=r(H,2),te=J[0],ae=J[1],ue=p.getPatch(te);return ue.state=te,c.applyPatch(B,ue)}s(g,"docFromChanges");function y(j){if(typeof j=="string")j={actorId:j};else if(typeof j=="undefined")j={};else if(!d(j))throw new TypeError("Unsupported options for init(): "+j);return c.init(Object.assign({backend:p},j))}s(y,"init");function v(j,M){var B={message:"Initialization",undoable:!1};return _(y(M),B,function(H){return Object.assign(H,j)})}s(v,"from");function _(j,M,B){var H=c.change(j,M,B),J=r(H,2),te=J[0],ae=J[1];return te}s(_,"change");function x(j,M){var B=c.emptyChange(j,M),H=r(B,2),J=H[0],te=H[1];return J}s(x,"emptyChange");function O(j,M){var B=c.undo(j,M),H=r(B,2),J=H[0],te=H[1];return J}s(O,"undo");function C(j,M){var B=c.redo(j,M),H=r(B,2),J=H[0],te=H[1];return J}s(C,"redo");function T(j,M){return g(M,i.fromJSON(j))}s(T,"load");function b(j){var M=c.getBackendState(j);return i.toJSON(M.getIn(["opSet","history"]).concat(M.getIn(["opSet","queue"])))}s(b,"save");function E(j,M){if(c.getActorId(j)===c.getActorId(M))throw new RangeError("Cannot merge an actor with itself");var B=c.getBackendState(j),H=c.getBackendState(M),J=p.merge(B,H),te=r(J,2),ae=te[0],ue=te[1];return ue.diffs.length===0?j:(ue.state=ae,c.applyPatch(j,ue))}s(E,"merge");function S(j,M){var B=c.getBackendState(j),H=c.getBackendState(M),J=p.getChanges(B,H),te=p.applyChanges(B,J),ae=r(te,2),ue=ae[0],I=ae[1];return I.diffs}s(S,"diff");function q(j,M){var B=c.getBackendState(j),H=c.getBackendState(M);return p.getChanges(B,H)}s(q,"getChanges");function A(j){return q(y(),j)}s(A,"getAllChanges");function z(j,M){var B=c.getBackendState(j),H=p.applyChanges(B,M),J=r(H,2),te=J[0],ae=J[1];return ae.state=te,c.applyPatch(j,ae)}s(z,"applyChanges");function F(j){return p.getMissingDeps(c.getBackendState(j))}s(F,"getMissingDeps");function re(j,M){if(!d(j)||!d(M))return j===M;var B=Object.keys(j).sort(),H=Object.keys(M).sort();if(B.length!==H.length)return!1;for(var J=0;J<B.length;J++)if(B[J]!==H[J]||!re(j[B[J]],M[H[J]]))return!1;return!0}s(re,"equals");function oe(j){var M=c.getBackendState(j),B=c.getActorId(j),H=M.getIn(["opSet","history"]);return H.map(function(J,te){return{get change(){return J.toJS()},get snapshot(){return g(B,H.slice(0,te+1))}}}).toArray()}s(oe,"getHistory"),e.exports={init:y,from:v,change:_,emptyChange:x,undo:O,redo:C,load:T,save:b,merge:E,diff:S,getChanges:q,getAllChanges:A,applyChanges:z,getMissingDeps:F,equals:re,getHistory:oe,uuid:a,Frontend:c,Backend:p,DocSet:n("./src/doc_set.js"),WatchableDoc:n("./src/watchable_doc.js"),Connection:n("./src/connection.js")};for(var le=["canUndo","canRedo","getObjectId","getObjectById","getActorId","setActorId","getConflicts","Text","Table","Counter"],fe=0;fe<le.length;fe++){var G=le[fe];e.exports[G]=c[G]}},"./src/common.js":function(e,t,n){"use strict";var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},i="00000000-0000-0000-0000-000000000000";function a(d){return(typeof d=="undefined"?"undefined":r(d))==="object"&&d!==null}s(a,"isObject");function c(d){if(!a(d))return{};var g={},y=!0,v=!1,_=void 0;try{for(var x=Object.keys(d)[Symbol.iterator](),O;!(y=(O=x.next()).done);y=!0){var C=O.value;g[C]=d[C]}}catch(T){v=!0,_=T}finally{try{!y&&x.return&&x.return()}finally{if(v)throw _}}return g}s(c,"copyObject");function p(d,g){return d.keySeq().concat(g.keySeq()).reduce(function(y,v){return y&&d.get(v,0)<=g.get(v,0)},!0)}s(p,"lessOrEqual");function f(d){var g=/^(.*):(\d+)$/.exec(d||"");if(!g)throw new RangeError("Not a valid elemId: "+d);return{counter:parseInt(g[2]),actorId:g[1]}}s(f,"parseElemId"),e.exports={ROOT_ID:i,isObject:a,copyObject:c,lessOrEqual:p,parseElemId:f}},"./src/connection.js":function(e,t,n){"use strict";var r=function(){function x(O,C){for(var T=0;T<C.length;T++){var b=C[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,b.key,b)}}return s(x,"defineProperties"),function(O,C,T){return C&&x(O.prototype,C),T&&x(O,T),O}}();function i(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}s(i,"_classCallCheck");var a=n("./node_modules/immutable/dist/immutable.js"),c=a.Map,p=a.fromJS,f=n("./src/common.js"),d=f.lessOrEqual,g=n("./frontend/index.js"),y=n("./backend/index.js");function v(x,O,C){return C=x.get(O,c()).mergeWith(function(T,b){return Math.max(T,b)},C),x.set(O,C)}s(v,"clockUnion");var _=function(){function x(O,C){i(this,x),this._docSet=O,this._sendMsg=C,this._theirClock=c(),this._ourClock=c(),this._docChangedHandler=this.docChanged.bind(this)}return s(x,"Connection"),r(x,[{key:"open",value:s(function(){var C=!0,T=!1,b=void 0;try{for(var E=this._docSet.docIds[Symbol.iterator](),S;!(C=(S=E.next()).done);C=!0){var q=S.value;this.docChanged(q,this._docSet.getDoc(q))}}catch(A){T=!0,b=A}finally{try{!C&&E.return&&E.return()}finally{if(T)throw b}}this._docSet.registerHandler(this._docChangedHandler)},"open")},{key:"close",value:s(function(){this._docSet.unregisterHandler(this._docChangedHandler)},"close")},{key:"sendMsg",value:s(function(C,T,b){var E={docId:C,clock:T.toJS()};this._ourClock=v(this._ourClock,C,T),b&&(E.changes=b),this._sendMsg(E)},"sendMsg")},{key:"maybeSendChanges",value:s(function(C){var T=this._docSet.getDoc(C),b=g.getBackendState(T),E=b.getIn(["opSet","clock"]);if(this._theirClock.has(C)){var S=y.getMissingChanges(b,this._theirClock.get(C));if(S.length>0){this._theirClock=v(this._theirClock,C,E),this.sendMsg(C,E,S);return}}E.equals(this._ourClock.get(C,c()))||this.sendMsg(C,E)},"maybeSendChanges")},{key:"docChanged",value:s(function(C,T){var b=g.getBackendState(T),E=b.getIn(["opSet","clock"]);if(!E)throw new TypeError("This object cannot be used for network sync. Are you trying to sync a snapshot from the history?");if(!d(this._ourClock.get(C,c()),E))throw new RangeError("Cannot pass an old state object to a connection");this.maybeSendChanges(C)},"docChanged")},{key:"receiveMsg",value:s(function(C){return C.clock&&(this._theirClock=v(this._theirClock,C.docId,p(C.clock))),C.changes?this._docSet.applyChanges(C.docId,p(C.changes)):(this._docSet.getDoc(C.docId)?this.maybeSendChanges(C.docId):this._ourClock.has(C.docId)||this.sendMsg(C.docId,c()),this._docSet.getDoc(C.docId))},"receiveMsg")}]),x}();e.exports=_},"./src/doc_set.js":function(e,t,n){"use strict";var r=function(){function _(x,O){var C=[],T=!0,b=!1,E=void 0;try{for(var S=x[Symbol.iterator](),q;!(T=(q=S.next()).done)&&(C.push(q.value),!(O&&C.length===O));T=!0);}catch(A){b=!0,E=A}finally{try{!T&&S.return&&S.return()}finally{if(b)throw E}}return C}return s(_,"sliceIterator"),function(x,O){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return _(x,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function _(x,O){for(var C=0;C<O.length;C++){var T=O[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return s(_,"defineProperties"),function(x,O,C){return O&&_(x.prototype,O),C&&_(x,C),x}}();function a(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}s(a,"_classCallCheck");var c=n("./node_modules/immutable/dist/immutable.js"),p=c.Map,f=c.Set,d=n("./src/uuid.js"),g=n("./frontend/index.js"),y=n("./backend/index.js"),v=function(){function _(){a(this,_),this.docs=p(),this.handlers=f()}return s(_,"DocSet"),i(_,[{key:"getDoc",value:s(function(O){return this.docs.get(O)},"getDoc")},{key:"removeDoc",value:s(function(O){this.docs=this.docs.delete(O)},"removeDoc")},{key:"setDoc",value:s(function(O,C){this.docs=this.docs.set(O,C),this.handlers.forEach(function(T){return T(O,C)})},"setDoc")},{key:"applyChanges",value:s(function(O,C){var T=this.docs.get(O)||g.init({backend:y}),b=g.getBackendState(T),E=y.applyChanges(b,C),S=r(E,2),q=S[0],A=S[1];return A.state=q,T=g.applyPatch(T,A),this.setDoc(O,T),T},"applyChanges")},{key:"registerHandler",value:s(function(O){this.handlers=this.handlers.add(O)},"registerHandler")},{key:"unregisterHandler",value:s(function(O){this.handlers=this.handlers.remove(O)},"unregisterHandler")},{key:"docIds",get:s(function(){return this.docs.keys()},"get")}]),_}();e.exports=v},"./src/uuid.js":function(e,t,n){"use strict";var r=n("./node_modules/uuid/v4.js"),i=r;function a(){return i()}s(a,"makeUuid"),a.setFactory=function(c){return i=c},a.reset=function(){return i=r},e.exports=a},"./src/watchable_doc.js":function(e,t,n){"use strict";var r=function(){function y(v,_){var x=[],O=!0,C=!1,T=void 0;try{for(var b=v[Symbol.iterator](),E;!(O=(E=b.next()).done)&&(x.push(E.value),!(_&&x.length===_));O=!0);}catch(S){C=!0,T=S}finally{try{!O&&b.return&&b.return()}finally{if(C)throw T}}return x}return s(y,"sliceIterator"),function(v,_){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return y(v,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function y(v,_){for(var x=0;x<_.length;x++){var O=_[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}return s(y,"defineProperties"),function(v,_,x){return _&&y(v.prototype,_),x&&y(v,x),v}}();function a(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}s(a,"_classCallCheck");var c=n("./node_modules/immutable/dist/immutable.js"),p=c.Set,f=n("./frontend/index.js"),d=n("./backend/index.js"),g=function(){function y(v){if(a(this,y),!v)throw new Error("doc argument is required");this.doc=v,this.handlers=p()}return s(y,"WatchableDoc"),i(y,[{key:"get",value:s(function(){return this.doc},"get")},{key:"set",value:s(function(_){this.doc=_,this.handlers.forEach(function(x){return x(_)})},"set")},{key:"applyChanges",value:s(function(_){var x=f.getBackendState(this.doc),O=d.applyChanges(x,_),C=r(O,2),T=C[0],b=C[1];b.state=T;var E=f.applyPatch(this.doc,b);return this.set(E),E},"applyChanges")},{key:"registerHandler",value:s(function(_){this.handlers=this.handlers.add(_)},"registerHandler")},{key:"unregisterHandler",value:s(function(_){this.handlers=this.handlers.remove(_)},"unregisterHandler")}]),y}();e.exports=g}})})});var uf=L((af,cf)=>{function bw(e){if(!e)return!1;typeof e=="string"&&(e=new Date(e)),typeof e=="number"&&(e=new Date(e));var t=(e.valueOf()-new Date().valueOf())/1e3;return"Expires="+e.toGMTString()+";Max-Age="+Math.round(t)}s(bw,"printExpires");var _w={stringify:function(e){var t;try{t=encodeURIComponent(e.value)}catch(n){t=e.value}return[e.name+"="+t,typeof e.expires!="undefined"&&e.expires?bw(e.expires):"",typeof e.path!="undefined"?e.path?"Path="+e.path:"":"Path=/",typeof e.domain!="undefined"&&e.domain?"Domain="+e.domain:"",typeof e.secure!="undefined"&&e.secure?"secure":"",typeof e.httponly!="undefined"&&e.httponly?"HttpOnly":"",typeof e.samesite!="undefined"&&e.samesite?"SameSite="+e.samesite:""].join(";").replace(/;+/g,";").replace(/;$/,"").replace(/;/g,"; ")},parse:function(e,t,n){var r=e.replace(/;\s+/g,";").split(";").map(function(d){return d.replace(/\s+\s+/g,"=").split("=")}),i=r.shift(),a={};a.expires=!1,a.httponly=!1,a.secure=!1,a.path=t||"/",a.domain=n||"",a.samesite="";var c,p={httponly:function(){a.httponly=!0},secure:function(){a.secure=!0},expires:function(d){a.expires=new Date(d)},"max-age":function(d){a.expires||(a.expires=new Date(new Date().valueOf()+d*1e3))},path:function(d){a.path=d},domain:function(d){a.domain=d},samesite:function(d){a.samesite=d}};for(var f in r)c=r[f][0].toLowerCase(),typeof p[c]!="undefined"&&p[c](r[f].length==2?r[f][1]:"");return a.expires||(a.expires=0),a.name=i.shift(),i=i.map(d=>{var g;try{g=decodeURIComponent(d)}catch(y){g=d}return d}),a.value=i.join("="),a},tokenize:function(e){return e.map(function(t){return t.name+"="+t.value}).join("; ")}};cf.exports=af=_w});var pf=L(($A,xr)=>{function ww(e){return e&&e.__esModule?e:{default:e}}s(ww,"_interopRequireDefault");xr.exports=ww;xr.exports.default=xr.exports,xr.exports.__esModule=!0});var Ge=L((zA,It)=>{It.exports.KEYOBJECT=Symbol("KEYOBJECT");It.exports.PRIVATE_MEMBERS=Symbol("PRIVATE_MEMBERS");It.exports.PUBLIC_MEMBERS=Symbol("PUBLIC_MEMBERS");It.exports.THUMBPRINT_MATERIAL=Symbol("THUMBPRINT_MATERIAL");It.exports.JWK_MEMBERS=Symbol("JWK_MEMBERS");It.exports.KEY_MANAGEMENT_ENCRYPT=Symbol("KEY_MANAGEMENT_ENCRYPT");It.exports.KEY_MANAGEMENT_DECRYPT=Symbol("KEY_MANAGEMENT_DECRYPT");var gi={sig:new Set(["sign","verify"]),enc:new Set(["encrypt","decrypt","wrapKey","unwrapKey","deriveKey"])},Ew=new Set([...gi.sig,...gi.enc]),Sw=new Set(Object.keys(gi));It.exports.USES_MAPPING=gi;It.exports.OPS=Ew;It.exports.USES=Sw});var wn=L((HA,fs)=>{var{deprecate:Tw}=require("util"),Ow=Tw(()=>{},'"P-256K" EC curve name is deprecated');fs.exports={name:"secp256k1",rename(e){e!=="secp256k1"&&Ow(),fs.exports.name=e}}});var ff=L((FA,lf)=>{var{getCurves:hi}=require("crypto"),{name:Aw}=wn(),br=new Set;hi().includes("prime256v1")&&br.add("P-256");hi().includes("secp256k1")&&br.add(Aw);hi().includes("secp384r1")&&br.add("P-384");hi().includes("secp521r1")&&br.add("P-521");lf.exports=br});var mf=L((JA,df)=>{df.exports=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]])});var hf=L((WA,gf)=>{gf.exports={sign:new Map,verify:new Map,keyManagementEncrypt:new Map,keyManagementDecrypt:new Map,encrypt:new Map,decrypt:new Map}});var vf=L((VA,yf)=>{yf.exports={oct:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},EC:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},RSA:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},OKP:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}}}});var bf=L((GA,xf)=>{xf.exports=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]])});var wf=L((YA,_f)=>{var yi=new Set(["Ed25519"]);"electron"in process.versions||(yi.add("Ed448"),yi.add("X25519"),yi.add("X448"));_f.exports=yi});var Sf=L((XA,Ef)=>{Ef.exports=new Map});var Kt=L((ZA,Tf)=>{var Cw=ff(),kw=mf(),Iw=hf(),jw=vf(),qw=bf(),Rw=wf(),Mw=Sf();Tf.exports={EC_CURVES:Cw,ECDH_DERIVE_LENGTHS:Mw,IVLENGTHS:kw,JWA:Iw,JWK:jw,KEYLENGTHS:qw,OKP_CURVES:Rw}});var ds=L((QA,Of)=>{var{randomBytes:Nw}=require("crypto"),{IVLENGTHS:Pw}=Kt();Of.exports=e=>Nw(Pw.get(e)/8)});var ct=L((eC,En)=>{var Af=s(e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),"fromBase64"),Cf=s((e,t="utf8")=>Af(Buffer.from(e,t).toString("base64")),"encode"),kf=s(e=>Af(e.toString("base64")),"encodeBuffer"),If=s(e=>Buffer.from(e,"base64"),"decodeToBuffer"),ms=s((e,t="utf8")=>If(e).toString(t),"decode"),gs={encode:e=>Cf(JSON.stringify(e)),decode:(e,t="utf8")=>JSON.parse(ms(e,t))};gs.decode.try=(e,t="utf8")=>{try{return gs.decode(e,t)}catch(n){return ms(e,t)}};var Bw=s(e=>{let t=BigInt(e).toString(16);t.length%2&&(t=`0${t}`);let n=t.length/2,r=new Uint8Array(n),i=0,a=0;for(;i<n;)r[i]=parseInt(t.slice(a,a+2),16),i+=1,a+=2;return r},"bnToBuf"),Lw=s(e=>kf(Buffer.from(Bw(e))),"encodeBigInt");En.exports.decode=ms;En.exports.decodeToBuffer=If;En.exports.encode=Cf;En.exports.encodeBuffer=kf;En.exports.JSON=gs;En.exports.encodeBigInt=Lw});var $e=L((gC,Ze)=>{var Dw={JOSEAlgNotWhitelisted:"ERR_JOSE_ALG_NOT_WHITELISTED",JOSECritNotUnderstood:"ERR_JOSE_CRIT_NOT_UNDERSTOOD",JOSEInvalidEncoding:"ERR_JOSE_INVALID_ENCODING",JOSEMultiError:"ERR_JOSE_MULTIPLE_ERRORS",JOSENotSupported:"ERR_JOSE_NOT_SUPPORTED",JWEDecryptionFailed:"ERR_JWE_DECRYPTION_FAILED",JWEInvalid:"ERR_JWE_INVALID",JWKImportFailed:"ERR_JWK_IMPORT_FAILED",JWKInvalid:"ERR_JWK_INVALID",JWKKeySupport:"ERR_JWK_KEY_SUPPORT",JWKSNoMatchingKey:"ERR_JWKS_NO_MATCHING_KEY",JWSInvalid:"ERR_JWS_INVALID",JWSVerificationFailed:"ERR_JWS_VERIFICATION_FAILED",JWTClaimInvalid:"ERR_JWT_CLAIM_INVALID",JWTExpired:"ERR_JWT_EXPIRED",JWTMalformed:"ERR_JWT_MALFORMED"},Kw={JWEDecryptionFailed:"decryption operation failed",JWEInvalid:"JWE invalid",JWKSNoMatchingKey:"no matching key found in the KeyStore",JWSInvalid:"JWS invalid",JWSVerificationFailed:"signature verification failed"},Xe=class extends Error{constructor(t){super(t);t===void 0&&(this.message=Kw[this.constructor.name]),this.name=this.constructor.name,this.code=Dw[this.constructor.name],Error.captureStackTrace(this,this.constructor)}};s(Xe,"JOSEError");var Uw=s(e=>e instanceof vi,"isMulti"),vi=class extends Xe{constructor(t){super();let n;for(;(n=t.findIndex(Uw))&&n!==-1;)t.splice(n,1,...t[n]);Object.defineProperty(this,"errors",{value:t})}*[Symbol.iterator](){for(let t of this.errors)yield t}};s(vi,"JOSEMultiError");Ze.exports.JOSEError=Xe;Ze.exports.JOSEAlgNotWhitelisted=s(class extends Xe{},"JOSEAlgNotWhitelisted");Ze.exports.JOSECritNotUnderstood=s(class extends Xe{},"JOSECritNotUnderstood");Ze.exports.JOSEInvalidEncoding=s(class extends Xe{},"JOSEInvalidEncoding");Ze.exports.JOSEMultiError=vi;Ze.exports.JOSENotSupported=s(class extends Xe{},"JOSENotSupported");Ze.exports.JWEDecryptionFailed=s(class extends Xe{},"JWEDecryptionFailed");Ze.exports.JWEInvalid=s(class extends Xe{},"JWEInvalid");Ze.exports.JWKImportFailed=s(class extends Xe{},"JWKImportFailed");Ze.exports.JWKInvalid=s(class extends Xe{},"JWKInvalid");Ze.exports.JWKKeySupport=s(class extends Xe{},"JWKKeySupport");Ze.exports.JWKSNoMatchingKey=s(class extends Xe{},"JWKSNoMatchingKey");Ze.exports.JWSInvalid=s(class extends Xe{},"JWSInvalid");Ze.exports.JWSVerificationFailed=s(class extends Xe{},"JWSVerificationFailed");var xi=class extends Xe{constructor(t,n="unspecified",r="unspecified"){super(t);this.claim=n,this.reason=r}};s(xi,"JWTClaimInvalid");Ze.exports.JWTClaimInvalid=xi;Ze.exports.JWTExpired=s(class extends xi{},"JWTExpired");Ze.exports.JWTMalformed=s(class extends Xe{},"JWTMalformed")});var yt=L((hC,jf)=>{var{diffieHellman:$w,KeyObject:zw,sign:Hw,verify:Fw}=require("crypto"),[Jn,hs]=process.version.substr(1).split(".").map(e=>parseInt(e,10));jf.exports={oaepHashSupported:Jn>12||Jn===12&&hs>=9,keyObjectSupported:!!zw&&Jn>=12,edDSASupported:!!Hw&&!!Fw,dsaEncodingSupported:Jn>13||Jn===13&&hs>=2||Jn===12&&hs>=16,improvedDH:!!$w}});var Et=L((yC,qf)=>{qf.exports=e=>!!e&&e.constructor===Object});var bi=L(Rf=>{var{inherits:Jw}=require("util");function St(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}s(St,"Reporter");St.prototype.isError=s(function(t){return t instanceof Wn},"isError");St.prototype.save=s(function(){let t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},"save");St.prototype.restore=s(function(t){let n=this._reporterState;n.obj=t.obj,n.path=n.path.slice(0,t.pathLen)},"restore");St.prototype.enterKey=s(function(t){return this._reporterState.path.push(t)},"enterKey");St.prototype.exitKey=s(function(t){let n=this._reporterState;n.path=n.path.slice(0,t-1)},"exitKey");St.prototype.leaveKey=s(function(t,n,r){let i=this._reporterState;this.exitKey(t),i.obj!==null&&(i.obj[n]=r)},"leaveKey");St.prototype.path=s(function(){return this._reporterState.path.join("/")},"path");St.prototype.enterObject=s(function(){let t=this._reporterState,n=t.obj;return t.obj={},n},"enterObject");St.prototype.leaveObject=s(function(t){let n=this._reporterState,r=n.obj;return n.obj=t,r},"leaveObject");St.prototype.error=s(function(t){let n,r=this._reporterState,i=t instanceof Wn;if(i?n=t:n=new Wn(r.path.map(function(a){return`[${JSON.stringify(a)}]`}).join(""),t.message||t,t.stack),!r.options.partial)throw n;return i||r.errors.push(n),n},"error");St.prototype.wrapResult=s(function(t){let n=this._reporterState;return n.options.partial?{result:this.isError(t)?null:t,errors:n.errors}:t},"wrapResult");function Wn(e,t){this.path=e,this.rethrow(t)}s(Wn,"ReporterError");Jw(Wn,Error);Wn.prototype.rethrow=s(function(t){if(this.message=`${t} at: ${this.path||"(shallow)"}`,Error.captureStackTrace&&Error.captureStackTrace(this,Wn),!this.stack)try{throw new Error(this.message)}catch(n){this.stack=n.stack}return this},"rethrow");Rf.Reporter=St});var wi=L((xC,Mf)=>{var{inherits:Ww}=require("util"),{Reporter:_i}=bi();function Tt(e,t){if(_i.call(this,t),!Buffer.isBuffer(e)){this.error("Input not Buffer");return}this.base=e,this.offset=0,this.length=e.length}s(Tt,"DecoderBuffer");Ww(Tt,_i);Tt.isDecoderBuffer=s(function(t){return t instanceof Tt?!0:typeof t=="object"&&Buffer.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function"},"isDecoderBuffer");Tt.prototype.save=s(function(){return{offset:this.offset,reporter:_i.prototype.save.call(this)}},"save");Tt.prototype.restore=s(function(t){let n=new Tt(this.base);return n.offset=t.offset,n.length=this.offset,this.offset=t.offset,_i.prototype.restore.call(this,t.reporter),n},"restore");Tt.prototype.isEmpty=s(function(){return this.offset===this.length},"isEmpty");Tt.prototype.readUInt8=s(function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},"readUInt8");Tt.prototype.skip=s(function(t,n){if(!(this.offset+t<=this.length))return this.error(n||"DecoderBuffer overrun");let r=new Tt(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},"skip");Tt.prototype.raw=s(function(t){return this.base.slice(t?t.offset:this.offset,this.length)},"raw");function Vn(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(n){return Vn.isEncoderBuffer(n)||(n=new Vn(n,t)),this.length+=n.length,n},this);else if(typeof e=="number"){if(!(e>=0&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if(typeof e=="string")this.value=e,this.length=Buffer.byteLength(e);else if(Buffer.isBuffer(e))this.value=e,this.length=e.length;else return t.error(`Unsupported type: ${typeof e}`)}s(Vn,"EncoderBuffer");Vn.isEncoderBuffer=s(function(t){return t instanceof Vn?!0:typeof t=="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function"},"isEncoderBuffer");Vn.prototype.join=s(function(t,n){return t||(t=Buffer.alloc(this.length)),n||(n=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,n),n+=r.length}):(typeof this.value=="number"?t[n]=this.value:typeof this.value=="string"?t.write(this.value,n):Buffer.isBuffer(this.value)&&this.value.copy(t,n),n+=this.length)),t},"join");Mf.exports={DecoderBuffer:Tt,EncoderBuffer:Vn}});var Ei=L((bC,Pf)=>{var{strict:ut}=require("assert"),{Reporter:Vw}=bi(),{DecoderBuffer:Gw,EncoderBuffer:Yw}=wi(),Nf=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Xw=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Nf),Zw=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function qe(e,t,n){let r={};this._baseState=r,r.name=n,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}s(qe,"Node");var Qw=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];qe.prototype.clone=s(function(){let t=this._baseState,n={};Qw.forEach(function(i){n[i]=t[i]});let r=new this.constructor(n.parent);return r._baseState=n,r},"clone");qe.prototype._wrap=s(function(){let t=this._baseState;Xw.forEach(function(n){this[n]=s(function(){let i=new this.constructor(this);return t.children.push(i),i[n].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");qe.prototype._init=s(function(t){let n=this._baseState;ut(n.parent===null),t.call(this),n.children=n.children.filter(function(r){return r._baseState.parent===this},this),ut.equal(n.children.length,1,"Root node can have only one child")},"init");qe.prototype._useArgs=s(function(t){let n=this._baseState,r=t.filter(function(i){return i instanceof this.constructor},this);t=t.filter(function(i){return!(i instanceof this.constructor)},this),r.length!==0&&(ut(n.children===null),n.children=r,r.forEach(function(i){i._baseState.parent=this},this)),t.length!==0&&(ut(n.args===null),n.args=t,n.reverseArgs=t.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let a={};return Object.keys(i).forEach(function(c){c==(c|0)&&(c|=0);let p=i[c];a[p]=c}),a}))},"useArgs");Zw.forEach(function(e){qe.prototype[e]=s(function(){let n=this._baseState;throw new Error(`${e} not implemented for encoding: ${n.enc}`)},"_overrided")});Nf.forEach(function(e){qe.prototype[e]=s(function(){let n=this._baseState,r=Array.prototype.slice.call(arguments);return ut(n.tag===null),n.tag=e,this._useArgs(r),this},"_tagMethod")});qe.prototype.use=s(function(t){ut(t);let n=this._baseState;return ut(n.use===null),n.use=t,this},"use");qe.prototype.optional=s(function(){let t=this._baseState;return t.optional=!0,this},"optional");qe.prototype.def=s(function(t){let n=this._baseState;return ut(n.default===null),n.default=t,n.optional=!0,this},"def");qe.prototype.explicit=s(function(t){let n=this._baseState;return ut(n.explicit===null&&n.implicit===null),n.explicit=t,this},"explicit");qe.prototype.implicit=s(function(t){let n=this._baseState;return ut(n.explicit===null&&n.implicit===null),n.implicit=t,this},"implicit");qe.prototype.obj=s(function(){let t=this._baseState,n=Array.prototype.slice.call(arguments);return t.obj=!0,n.length!==0&&this._useArgs(n),this},"obj");qe.prototype.key=s(function(t){let n=this._baseState;return ut(n.key===null),n.key=t,this},"key");qe.prototype.any=s(function(){let t=this._baseState;return t.any=!0,this},"any");qe.prototype.choice=s(function(t){let n=this._baseState;return ut(n.choice===null),n.choice=t,this._useArgs(Object.keys(t).map(function(r){return t[r]})),this},"choice");qe.prototype.contains=s(function(t){let n=this._baseState;return ut(n.use===null),n.contains=t,this},"contains");qe.prototype._decode=s(function(t,n){let r=this._baseState;if(r.parent===null)return t.wrapResult(r.children[0]._decode(t,n));let i=r.default,a=!0,c=null;if(r.key!==null&&(c=t.enterKey(r.key)),r.optional){let f=null;if(r.explicit!==null?f=r.explicit:r.implicit!==null?f=r.implicit:r.tag!==null&&(f=r.tag),f===null&&!r.any){let d=t.save();try{r.choice===null?this._decodeGeneric(r.tag,t,n):this._decodeChoice(t,n),a=!0}catch(g){a=!1}t.restore(d)}else if(a=this._peekTag(t,f,r.any),t.isError(a))return a}let p;if(r.obj&&a&&(p=t.enterObject()),a){if(r.explicit!==null){let d=this._decodeTag(t,r.explicit);if(t.isError(d))return d;t=d}let f=t.offset;if(r.use===null&&r.choice===null){let d;r.any&&(d=t.save());let g=this._decodeTag(t,r.implicit!==null?r.implicit:r.tag,r.any);if(t.isError(g))return g;r.any?i=t.raw(d):t=g}if(n&&n.track&&r.tag!==null&&n.track(t.path(),f,t.length,"tagged"),n&&n.track&&r.tag!==null&&n.track(t.path(),t.offset,t.length,"content"),r.any||(r.choice===null?i=this._decodeGeneric(r.tag,t,n):i=this._decodeChoice(t,n)),t.isError(i))return i;if(!r.any&&r.choice===null&&r.children!==null&&r.children.forEach(s(function(g){g._decode(t,n)},"decodeChildren")),r.contains&&(r.tag==="octstr"||r.tag==="bitstr")){let d=new Gw(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(d,n)}}return r.obj&&a&&(i=t.leaveObject(p)),r.key!==null&&(i!==null||a===!0)?t.leaveKey(c,r.key,i):c!==null&&t.exitKey(c),i},"decode");qe.prototype._decodeGeneric=s(function(t,n,r){let i=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(n,t,i.args[0],r):/str$/.test(t)?this._decodeStr(n,t,r):t==="objid"&&i.args?this._decodeObjid(n,i.args[0],i.args[1],r):t==="objid"?this._decodeObjid(n,null,null,r):t==="gentime"||t==="utctime"?this._decodeTime(n,t,r):t==="null_"?this._decodeNull(n,r):t==="bool"?this._decodeBool(n,r):t==="objDesc"?this._decodeStr(n,t,r):t==="int"||t==="enum"?this._decodeInt(n,i.args&&i.args[0],r):i.use!==null?this._getUse(i.use,n._reporterState.obj)._decode(n,r):n.error(`unknown tag: ${t}`)},"decodeGeneric");qe.prototype._getUse=s(function(t,n){let r=this._baseState;return r.useDecoder=this._use(t,n),ut(r.useDecoder._baseState.parent===null),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},"_getUse");qe.prototype._decodeChoice=s(function(t,n){let r=this._baseState,i=null,a=!1;return Object.keys(r.choice).some(function(c){let p=t.save(),f=r.choice[c];try{let d=f._decode(t,n);if(t.isError(d))return!1;i={type:c,value:d},a=!0}catch(d){return t.restore(p),!1}return!0},this),a?i:t.error("Choice not matched")},"decodeChoice");qe.prototype._createEncoderBuffer=s(function(t){return new Yw(t,this.reporter)},"createEncoderBuffer");qe.prototype._encode=s(function(t,n,r){let i=this._baseState;if(i.default!==null&&i.default===t)return;let a=this._encodeValue(t,n,r);if(a!==void 0&&!this._skipDefault(a,n,r))return a},"encode");qe.prototype._encodeValue=s(function(t,n,r){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(t,n||new Vw);let a=null;if(this.reporter=n,i.optional&&t===void 0)if(i.default!==null)t=i.default;else return;let c=null,p=!1;if(i.any)a=this._createEncoderBuffer(t);else if(i.choice)a=this._encodeChoice(t,n);else if(i.contains)c=this._getUse(i.contains,r)._encode(t,n),p=!0;else if(i.children)c=i.children.map(function(f){if(f._baseState.tag==="null_")return f._encode(null,n,t);if(f._baseState.key===null)return n.error("Child should have a key");let d=n.enterKey(f._baseState.key);if(typeof t!="object")return n.error("Child expected, but input is not object");let g=f._encode(t[f._baseState.key],n,t);return n.leaveKey(d),g},this).filter(function(f){return f}),c=this._createEncoderBuffer(c);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return n.error(`Too many args for: ${i.tag}`);if(!Array.isArray(t))return n.error("seqof/setof, but data is not Array");let f=this.clone();f._baseState.implicit=null,c=this._createEncoderBuffer(t.map(function(d){let g=this._baseState;return this._getUse(g.args[0],t)._encode(d,n)},f))}else i.use!==null?a=this._getUse(i.use,r)._encode(t,n):(c=this._encodePrimitive(i.tag,t),p=!0);if(!i.any&&i.choice===null){let f=i.implicit!==null?i.implicit:i.tag,d=i.implicit===null?"universal":"context";f===null?i.use===null&&n.error("Tag could be omitted only for .use()"):i.use===null&&(a=this._encodeComposite(f,p,d,c))}return i.explicit!==null&&(a=this._encodeComposite(i.explicit,!1,"context",a)),a},"encode");qe.prototype._encodeChoice=s(function(t,n){let r=this._baseState,i=r.choice[t.type];return i||ut(!1,`${t.type} not found in ${JSON.stringify(Object.keys(r.choice))}`),i._encode(t.value,n)},"encodeChoice");qe.prototype._encodePrimitive=s(function(t,n){let r=this._baseState;if(/str$/.test(t))return this._encodeStr(n,t);if(t==="objid"&&r.args)return this._encodeObjid(n,r.reverseArgs[0],r.args[1]);if(t==="objid")return this._encodeObjid(n,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(n,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(n,r.args&&r.reverseArgs[0]);if(t==="bool")return this._encodeBool(n);if(t==="objDesc")return this._encodeStr(n,t);throw new Error(`Unsupported tag: ${t}`)},"encodePrimitive");qe.prototype._isNumstr=s(function(t){return/^[0-9 ]*$/.test(t)},"isNumstr");qe.prototype._isPrintstr=s(function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)},"isPrintstr");Pf.exports=qe});var Si=L(Sn=>{function Bf(e){let t={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let r=e[n];t[r]=n}),t}s(Bf,"reverse");Sn.tagClass={0:"universal",1:"application",2:"context",3:"private"};Sn.tagClassByName=Bf(Sn.tagClass);Sn.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Sn.tagByName=Bf(Sn.tag)});var vs=L((wC,Kf)=>{var{inherits:eE}=require("util"),Lf=Ei(),ys=Si();function Df(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new jt,this.tree._init(e.body)}s(Df,"DEREncoder");Df.prototype.encode=s(function(t,n){return this.tree._encode(t,n).join()},"encode");function jt(e){Lf.call(this,"der",e)}s(jt,"DERNode");eE(jt,Lf);jt.prototype._encodeComposite=s(function(t,n,r,i){let a=nE(t,n,r,this.reporter);if(i.length<128){let f=Buffer.alloc(2);return f[0]=a,f[1]=i.length,this._createEncoderBuffer([f,i])}let c=1;for(let f=i.length;f>=256;f>>=8)c++;let p=Buffer.alloc(1+1+c);p[0]=a,p[1]=128|c;for(let f=1+c,d=i.length;d>0;f--,d>>=8)p[f]=d&255;return this._createEncoderBuffer([p,i])},"encodeComposite");jt.prototype._encodeStr=s(function(t,n){if(n==="bitstr")return this._createEncoderBuffer([t.unused|0,t.data]);if(n==="bmpstr"){let r=Buffer.alloc(t.length*2);for(let i=0;i<t.length;i++)r.writeUInt16BE(t.charCodeAt(i),i*2);return this._createEncoderBuffer(r)}else return n==="numstr"?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):n==="printstr"?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(n)?this._createEncoderBuffer(t):n==="objDesc"?this._createEncoderBuffer(t):this.reporter.error(`Encoding of string type: ${n} unsupported`)},"encodeStr");jt.prototype._encodeObjid=s(function(t,n,r){if(typeof t=="string"){if(!n)return this.reporter.error("string objid given, but no values map found");if(!Object.prototype.hasOwnProperty.call(n,t))return this.reporter.error("objid not found in values map");t=n[t].split(/[\s.]+/g);for(let p=0;p<t.length;p++)t[p]|=0}else if(Array.isArray(t)){t=t.slice();for(let p=0;p<t.length;p++)t[p]|=0}if(!Array.isArray(t))return this.reporter.error(`objid() should be either array or string, got: ${JSON.stringify(t)}`);if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,t[0]*40+t[1])}let i=0;for(let p=0;p<t.length;p++){let f=t[p];for(i++;f>=128;f>>=7)i++}let a=Buffer.alloc(i),c=a.length-1;for(let p=t.length-1;p>=0;p--){let f=t[p];for(a[c--]=f&127;(f>>=7)>0;)a[c--]=128|f&127}return this._createEncoderBuffer(a)},"encodeObjid");function Ot(e){return e<10?`0${e}`:e}s(Ot,"two");jt.prototype._encodeTime=s(function(t,n){let r,i=new Date(t);return n==="gentime"?r=[Ot(i.getUTCFullYear()),Ot(i.getUTCMonth()+1),Ot(i.getUTCDate()),Ot(i.getUTCHours()),Ot(i.getUTCMinutes()),Ot(i.getUTCSeconds()),"Z"].join(""):n==="utctime"?r=[Ot(i.getUTCFullYear()%100),Ot(i.getUTCMonth()+1),Ot(i.getUTCDate()),Ot(i.getUTCHours()),Ot(i.getUTCMinutes()),Ot(i.getUTCSeconds()),"Z"].join(""):this.reporter.error(`Encoding ${n} time is not supported yet`),this._encodeStr(r,"octstr")},"encodeTime");jt.prototype._encodeNull=s(function(){return this._createEncoderBuffer("")},"encodeNull");function tE(e){var t=BigInt(e).toString(16);t.length%2&&(t="0"+t);for(var n=t.length/2,r=new Uint8Array(n),i=0,a=0;i<n;)r[i]=parseInt(t.slice(a,a+2),16),i+=1,a+=2;return r}s(tE,"bnToBuf");jt.prototype._encodeInt=s(function(t,n){if(typeof t=="string"){if(!n)return this.reporter.error("String int or enum given, but no values map");if(!Object.prototype.hasOwnProperty.call(n,t))return this.reporter.error(`Values map doesn't contain: ${JSON.stringify(t)}`);t=n[t]}if(typeof t=="bigint"){let a=[...tE(t)];a[0]&128&&a.unshift(0),t=Buffer.from(a)}if(Buffer.isBuffer(t)){let a=t.length;t.length===0&&a++;let c=Buffer.alloc(a);return t.copy(c),t.length===0&&(c[0]=0),this._createEncoderBuffer(c)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let a=t;a>=256;a>>=8)r++;let i=new Array(r);for(let a=i.length-1;a>=0;a--)i[a]=t&255,t>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Buffer.from(i))},"encodeInt");jt.prototype._encodeBool=s(function(t){return this._createEncoderBuffer(t?255:0)},"encodeBool");jt.prototype._use=s(function(t,n){return typeof t=="function"&&(t=t(n)),t._getEncoder("der").tree},"use");jt.prototype._skipDefault=s(function(t,n,r){let i=this._baseState,a;if(i.default===null)return!1;let c=t.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,n,r).join()),c.length!==i.defaultBuffer.length)return!1;for(a=0;a<c.length;a++)if(c[a]!==i.defaultBuffer[a])return!1;return!0},"skipDefault");function nE(e,t,n,r){let i;if(e==="seqof"?e="seq":e==="setof"&&(e="set"),Object.prototype.hasOwnProperty.call(ys.tagByName,e))i=ys.tagByName[e];else if(typeof e=="number"&&(e|0)===e)i=e;else return r.error(`Unknown tag: ${e}`);return i>=31?r.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=ys.tagClassByName[n||"universal"]<<6,i)}s(nE,"encodeTag");Kf.exports=Df});var $f=L((EC,Uf)=>{var{inherits:rE}=require("util"),xs=vs();function bs(e){xs.call(this,e),this.enc="pem"}s(bs,"PEMEncoder");rE(bs,xs);bs.prototype.encode=s(function(t,n){let i=xs.prototype.encode.call(this,t).toString("base64"),a=[`-----BEGIN ${n.label}-----`];for(let c=0;c<i.length;c+=64)a.push(i.slice(c,c+64));return a.push(`-----END ${n.label}-----`),a.join(`
`)},"encode");Uf.exports=bs});var _s=L((SC,zf)=>{zf.exports={der:vs(),pem:$f()}});var Es=L((TC,Gf)=>{var{inherits:iE}=require("util"),{DecoderBuffer:Hf}=wi(),Ff=Ei(),Jf=Si();function Wf(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new vt,this.tree._init(e.body)}s(Wf,"DERDecoder");Wf.prototype.decode=s(function(t,n){return Hf.isDecoderBuffer(t)||(t=new Hf(t,n)),this.tree._decode(t,n)},"decode");function vt(e){Ff.call(this,"der",e)}s(vt,"DERNode");iE(vt,Ff);vt.prototype._peekTag=s(function(t,n,r){if(t.isEmpty())return!1;let i=t.save(),a=ws(t,`Failed to peek tag: "${n}"`);return t.isError(a)?a:(t.restore(i),a.tag===n||a.tagStr===n||a.tagStr+"of"===n||r)},"peekTag");vt.prototype._decodeTag=s(function(t,n,r){let i=ws(t,`Failed to decode tag of "${n}"`);if(t.isError(i))return i;let a=Vf(t,i.primitive,`Failed to get length of "${n}"`);if(t.isError(a))return a;if(!r&&i.tag!==n&&i.tagStr!==n&&i.tagStr+"of"!==n)return t.error(`Failed to match tag: "${n}"`);if(i.primitive||a!==null)return t.skip(a,`Failed to match body of: "${n}"`);let c=t.save(),p=this._skipUntilEnd(t,`Failed to skip indefinite length body: "${this.tag}"`);return t.isError(p)?p:(a=t.offset-c.offset,t.restore(c),t.skip(a,`Failed to match body of: "${n}"`))},"decodeTag");vt.prototype._skipUntilEnd=s(function(t,n){for(;;){let r=ws(t,n);if(t.isError(r))return r;let i=Vf(t,r.primitive,n);if(t.isError(i))return i;let a;if(r.primitive||i!==null?a=t.skip(i):a=this._skipUntilEnd(t,n),t.isError(a))return a;if(r.tagStr==="end")break}},"skipUntilEnd");vt.prototype._decodeList=s(function(t,n,r,i){let a=[];for(;!t.isEmpty();){let c=this._peekTag(t,"end");if(t.isError(c))return c;let p=r.decode(t,"der",i);if(t.isError(p)&&c)break;a.push(p)}return a},"decodeList");vt.prototype._decodeStr=s(function(t,n){if(n==="bitstr"){let r=t.readUInt8();return t.isError(r)?r:{unused:r,data:t.raw()}}else if(n==="bmpstr"){let r=t.raw();if(r.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let i="";for(let a=0;a<r.length/2;a++)i+=String.fromCharCode(r.readUInt16BE(a*2));return i}else if(n==="numstr"){let r=t.raw().toString("ascii");return this._isNumstr(r)?r:t.error("Decoding of string type: numstr unsupported characters")}else{if(n==="octstr")return t.raw();if(n==="objDesc")return t.raw();if(n==="printstr"){let r=t.raw().toString("ascii");return this._isPrintstr(r)?r:t.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(n)?t.raw().toString():t.error(`Decoding of string type: ${n} unsupported`)}},"decodeStr");vt.prototype._decodeObjid=s(function(t,n,r){let i,a=[],c=0,p=0;for(;!t.isEmpty();)p=t.readUInt8(),c<<=7,c|=p&127,(p&128)==0&&(a.push(c),c=0);p&128&&a.push(c);let f=a[0]/40|0,d=a[0]%40;if(r?i=a:i=[f,d].concat(a.slice(1)),n){let g=n[i.join(" ")];g===void 0&&(g=n[i.join(".")]),g!==void 0&&(i=g)}return i},"decodeObjid");vt.prototype._decodeTime=s(function(t,n){let r=t.raw().toString(),i,a,c,p,f,d;if(n==="gentime")i=r.slice(0,4)|0,a=r.slice(4,6)|0,c=r.slice(6,8)|0,p=r.slice(8,10)|0,f=r.slice(10,12)|0,d=r.slice(12,14)|0;else if(n==="utctime")i=r.slice(0,2)|0,a=r.slice(2,4)|0,c=r.slice(4,6)|0,p=r.slice(6,8)|0,f=r.slice(8,10)|0,d=r.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return t.error(`Decoding ${n} time is not supported yet`);return Date.UTC(i,a-1,c,p,f,d,0)},"decodeTime");vt.prototype._decodeNull=s(function(){return null},"decodeNull");vt.prototype._decodeBool=s(function(t){let n=t.readUInt8();return t.isError(n)?n:n!==0},"decodeBool");vt.prototype._decodeInt=s(function(t,n){let r=t.raw(),i=BigInt(`0x${r.toString("hex")}`);return n&&(i=n[i.toString(10)]||i),i},"decodeInt");vt.prototype._use=s(function(t,n){return typeof t=="function"&&(t=t(n)),t._getDecoder("der").tree},"use");function ws(e,t){let n=e.readUInt8(t);if(e.isError(n))return n;let r=Jf.tagClass[n>>6],i=(n&32)==0;if((n&31)==31){let c=n;for(n=0;(c&128)==128;){if(c=e.readUInt8(t),e.isError(c))return c;n<<=7,n|=c&127}}else n&=31;let a=Jf.tag[n];return{cls:r,primitive:i,tag:n,tagStr:a}}s(ws,"derDecodeTag");function Vf(e,t,n){let r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&r===128)return null;if((r&128)==0)return r;let i=r&127;if(i>4)return e.error("length octect is too long");r=0;for(let a=0;a<i;a++){r<<=8;let c=e.readUInt8(n);if(e.isError(c))return c;r|=c}return r}s(Vf,"derDecodeLen");Gf.exports=Wf});var Xf=L((OC,Yf)=>{var{inherits:oE}=require("util"),Ss=Es();function Ts(e){Ss.call(this,e),this.enc="pem"}s(Ts,"PEMDecoder");oE(Ts,Ss);Ts.prototype.decode=s(function(t,n){let r=t.toString().split(/[\r\n]+/g),i=n.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,c=-1,p=-1;for(let g=0;g<r.length;g++){let y=r[g].match(a);if(y!==null&&y[2]===i)if(c===-1){if(y[1]!=="BEGIN")break;c=g}else{if(y[1]!=="END")break;p=g;break}}if(c===-1||p===-1)throw new Error(`PEM section not found for: ${i}`);let f=r.slice(c+1,p).join("");f.replace(/[^a-z0-9+/=]+/gi,"");let d=Buffer.from(f,"base64");return Ss.prototype.decode.call(this,d,n)},"decode");Yf.exports=Ts});var Os=L((AC,Zf)=>{Zf.exports={der:Es(),pem:Xf()}});var ed=L((CC,Qf)=>{var{inherits:sE}=require("util"),aE=_s(),cE=Os();Qf.exports.define=s(function(t,n){return new Gn(t,n)},"define");function Gn(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}s(Gn,"Entity");Gn.prototype._createNamed=s(function(t){let n=this.name;function r(i){this._initNamed(i,n)}return s(r,"Generated"),sE(r,t),r.prototype._initNamed=s(function(a,c){t.call(this,a,c)},"_initNamed"),new r(this)},"createNamed");Gn.prototype._getDecoder=s(function(t){return t=t||"der",Object.prototype.hasOwnProperty.call(this.decoders,t)||(this.decoders[t]=this._createNamed(cE[t])),this.decoders[t]},"_getDecoder");Gn.prototype.decode=s(function(t,n,r){return this._getDecoder(n).decode(t,r)},"decode");Gn.prototype._getEncoder=s(function(t){return t=t||"der",Object.prototype.hasOwnProperty.call(this.encoders,t)||(this.encoders[t]=this._createNamed(aE[t])),this.encoders[t]},"_getEncoder");Gn.prototype.encode=s(function(t,n,r){return this._getEncoder(n).encode(t,r)},"encode")});var nd=L((kC,td)=>{var{Reporter:uE}=bi(),{DecoderBuffer:pE,EncoderBuffer:lE}=wi(),fE=Ei();td.exports={DecoderBuffer:pE,EncoderBuffer:lE,Node:fE,Reporter:uE}});var id=L((IC,rd)=>{rd.exports={der:Si()}});var sd=L((jC,od)=>{var{define:dE}=ed(),mE=nd(),gE=id(),hE=Os(),yE=_s();od.exports={base:mE,constants:gE,decoders:hE,define:dE,encoders:yE}});var As=L((qC,ad)=>{var{name:vE}=wn(),xE={"1 2 840 10045 3 1 7":"P-256","1 3 132 0 10":vE,"1 3 132 0 34":"P-384","1 3 132 0 35":"P-521","1 2 840 10045 2 1":"ecPublicKey","1 2 840 113549 1 1 1":"rsaEncryption","1 3 101 110":"X25519","1 3 101 111":"X448","1 3 101 112":"Ed25519","1 3 101 113":"Ed448"};ad.exports=xE});var pd=L((RC,ud)=>{var cd=As();ud.exports=function(){this.seq().obj(this.key("algorithm").objid(cd),this.key("parameters").optional().choice({namedCurve:this.objid(cd),null:this.null_()}))}});var fd=L((MC,ld)=>{var bE=As();ld.exports=function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().choice({namedCurve:this.objid(bE)}),this.key("publicKey").explicit(1).optional().bitstr())}});var md=L((NC,dd)=>{dd.exports=e=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("privateKey").octstr())}});var hd=L((PC,gd)=>{gd.exports=e=>function(){this.seq().obj(this.key("algorithm").use(e),this.key("publicKey").bitstr())}});var vd=L((BC,yd)=>{yd.exports=function(){this.octstr().contains().obj(this.key("privateKey").octstr())}});var bd=L((LC,xd)=>{xd.exports=(e,t)=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("privateKey").use(t))}});var wd=L((DC,_d)=>{_d.exports=function(){this.seq().obj(this.key("version").int({0:"two-prime",1:"multi"}),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int())}});var Sd=L((KC,Ed)=>{Ed.exports=function(){this.seq().obj(this.key("n").int(),this.key("e").int())}});var Cs=L((UC,Od)=>{var pn=sd(),Gt=new Map,Ti=pn.define("AlgorithmIdentifier",pd());Gt.set("AlgorithmIdentifier",Ti);var _E=pn.define("ECPrivateKey",fd());Gt.set("ECPrivateKey",_E);var wE=pn.define("PrivateKeyInfo",md()(Ti));Gt.set("PrivateKeyInfo",wE);var EE=pn.define("PublicKeyInfo",hd()(Ti));Gt.set("PublicKeyInfo",EE);var Td=pn.define("PrivateKey",vd());Gt.set("PrivateKey",Td);var SE=pn.define("OneAsymmetricKey",bd()(Ti,Td));Gt.set("OneAsymmetricKey",SE);var TE=pn.define("RSAPrivateKey",wd());Gt.set("RSAPrivateKey",TE);var OE=pn.define("RSAPublicKey",Sd());Gt.set("RSAPublicKey",OE);Od.exports=Gt});var Qe=L((zC,Ad)=>{var{keyObjectSupported:AE}=yt(),Ut,ln,Oi,$t,ks;if(AE)({createPublicKey:Ut,createPrivateKey:ln,createSecretKey:Oi,KeyObject:$t}=require("crypto")),ks=s(e=>e,"asInput");else{let{EOL:e}=require("os"),t=$e(),n=Et(),r=Cs(),i=Symbol("toInput"),a=Symbol("namedCurve");ks=s((d,g)=>d instanceof $t?d[i](g):Oi(d)[i](g),"asInput");let c=s(d=>Buffer.from(d.replace(/(?:-----(?:BEGIN|END)(?: (?:RSA|EC))? (?:PRIVATE|PUBLIC) KEY-----|\s)/g,""),"base64"),"pemToDer"),p=s((d,g)=>`-----BEGIN ${g}-----${e}${(d.toString("base64").match(/.{1,64}/g)||[]).join(e)}${e}-----END ${g}-----`,"derToPem"),f=s(d=>{let g=typeof d=="string"?d:`OID ${d.join(".")}`;throw new t.JOSENotSupported(`${g} is not supported in your Node.js runtime version`)},"unsupported");$t=s(class{export({cipher:g,passphrase:y,type:v,format:_}={}){if(this._type==="secret")return this._buffer;if(this._type==="public"){if(this.asymmetricKeyType==="rsa")switch(v){case"pkcs1":return _==="pem"?this._pem:c(this._pem);case"spki":{let O=r.get("PublicKeyInfo").encode({algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}},publicKey:{unused:0,data:c(this._pem)}},"pem",{label:"PUBLIC KEY"});return _==="pem"?O:c(O)}default:throw new TypeError(`The value ${v} is invalid for option "type"`)}if(this.asymmetricKeyType==="ec"){if(v!=="spki")throw new TypeError(`The value ${v} is invalid for option "type"`);return _==="pem"?this._pem:c(this._pem)}}if(this._type==="private"){if(y!==void 0||g!==void 0)throw new t.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if(v==="pkcs8"){if(this._pkcs8)return _==="der"&&typeof this._pkcs8=="string"?c(this._pkcs8):_==="pem"&&Buffer.isBuffer(this._pkcs8)?p(this._pkcs8,"PRIVATE KEY"):this._pkcs8;if(this.asymmetricKeyType==="rsa"){let x=this._asn1,C=r.get("RSAPrivateKey").encode(x),b=r.get("PrivateKeyInfo").encode({version:0,privateKey:C,algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}}});return this._pkcs8=b,this.export({type:v,format:_})}if(this.asymmetricKeyType==="ec"){let x=this._asn1,C=r.get("ECPrivateKey").encode({version:x.version,privateKey:x.privateKey,publicKey:x.publicKey}),b=r.get("PrivateKeyInfo").encode({version:0,privateKey:C,algorithm:{algorithm:"ecPublicKey",parameters:this._asn1.parameters}});return this._pkcs8=b,this.export({type:v,format:_})}}if(this.asymmetricKeyType==="rsa"&&v==="pkcs1")return _==="pem"?this._pem:c(this._pem);if(this.asymmetricKeyType==="ec"&&v==="sec1")return _==="pem"?this._pem:c(this._pem);throw new TypeError(`The value ${v} is invalid for option "type"`)}}get type(){return this._type}get asymmetricKeyType(){return this._asymmetricKeyType}get symmetricKeySize(){return this._symmetricKeySize}[i](g){switch(this._type){case"secret":return this._buffer;case"public":return this._pem;default:return g?("_pub"in this||(this._pub=Ut(this)),this._pub[i](!1)):this._pem}}},"KeyObject"),Oi=s(d=>{if(!Buffer.isBuffer(d)||!d.length)throw new TypeError("input must be a non-empty Buffer instance");let g=new $t;return g._buffer=Buffer.from(d),g._symmetricKeySize=d.length,g._type="secret",g},"createSecretKey"),Ut=s(d=>{if(d instanceof $t){if(d.type!=="private")throw new TypeError(`Invalid key object type ${d.type}, expected private.`);switch(d.asymmetricKeyType){case"ec":{let C=r.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:d._asn1.parameters},publicKey:d._asn1.publicKey});return Ut({key:C,format:"der",type:"spki"})}case"rsa":{let C=r.get("RSAPublicKey").encode(d._asn1);return Ut({key:C,format:"der",type:"pkcs1"})}}}if((typeof d=="string"||Buffer.isBuffer(d))&&(d={key:d,format:"pem"}),!n(d))throw new TypeError("input must be a string, Buffer or an object");let{format:g,passphrase:y}=d,{key:v,type:_}=d;if(typeof v!="string"&&!Buffer.isBuffer(v))throw new TypeError("key must be a string or Buffer");if(g!=="pem"&&g!=="der")throw new TypeError('format must be one of "pem" or "der"');let x;if(g==="pem")switch(v=v.toString(),v.split(/\r?\n/g)[0].toString()){case"-----BEGIN PUBLIC KEY-----":_="spki",x="PUBLIC KEY";break;case"-----BEGIN RSA PUBLIC KEY-----":_="pkcs1",x="RSA PUBLIC KEY";break;case"-----BEGIN CERTIFICATE-----":throw new t.JOSENotSupported("X.509 certificates are not supported in your Node.js runtime version");case"-----BEGIN PRIVATE KEY-----":case"-----BEGIN EC PRIVATE KEY-----":case"-----BEGIN RSA PRIVATE KEY-----":return Ut(ln(v));default:throw new TypeError("unknown/unsupported PEM type")}switch(_){case"spki":{let O=r.get("PublicKeyInfo"),C=O.decode(v,g,{label:x}),T,b;switch(C.algorithm.algorithm){case"ecPublicKey":{b=new $t,b._asn1=C,b._asymmetricKeyType="ec",b._type="public",b._pem=O.encode(C,"pem",{label:"PUBLIC KEY"});break}case"rsaEncryption":{T="pkcs1",b=Ut({type:T,key:C.publicKey.data,format:"der"});break}default:f(C.algorithm.algorithm)}return b}case"pkcs1":{let O=r.get("RSAPublicKey"),C=O.decode(v,g,{label:x});if(C.n===BigInt(0))return Ut(ln({key:v,format:g,type:_,passphrase:y}));let T=new $t;return T._asn1=C,T._asymmetricKeyType="rsa",T._type="public",T._pem=O.encode(C,"pem",{label:"RSA PUBLIC KEY"}),T}case"pkcs8":case"sec1":return Ut(ln({format:g,key:v,type:_,passphrase:y}));default:throw new TypeError(`The value ${_} is invalid for option "type"`)}},"createPublicKey"),ln=s((d,g)=>{if((typeof d=="string"||Buffer.isBuffer(d))&&(d={key:d,format:"pem"}),!n(d))throw new TypeError("input must be a string, Buffer or an object");let{format:y,passphrase:v}=d,{key:_,type:x}=d;if(typeof _!="string"&&!Buffer.isBuffer(_))throw new TypeError("key must be a string or Buffer");if(v!==void 0)throw new t.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if(y!=="pem"&&y!=="der")throw new TypeError('format must be one of "pem" or "der"');let O;if(y==="pem")switch(_=_.toString(),_.split(/\r?\n/g)[0].toString()){case"-----BEGIN PRIVATE KEY-----":x="pkcs8",O="PRIVATE KEY";break;case"-----BEGIN EC PRIVATE KEY-----":x="sec1",O="EC PRIVATE KEY";break;case"-----BEGIN RSA PRIVATE KEY-----":x="pkcs1",O="RSA PRIVATE KEY";break;default:throw new TypeError("unknown/unsupported PEM type")}switch(x){case"pkcs8":{let T=r.get("PrivateKeyInfo").decode(_,y,{label:O}),b,E;switch(T.algorithm.algorithm){case"ecPublicKey":{b="sec1",E=ln({type:b,key:T.privateKey,format:"der"},{[a]:T.algorithm.parameters.value});break}case"rsaEncryption":{b="pkcs1",E=ln({type:b,key:T.privateKey,format:"der"});break}default:f(T.algorithm.algorithm)}return E._pkcs8=_,E}case"pkcs1":{let C=r.get("RSAPrivateKey"),T=C.decode(_,y,{label:O}),b=new $t;return b._asn1=T,b._asymmetricKeyType="rsa",b._type="private",b._pem=C.encode(T,"pem",{label:"RSA PRIVATE KEY"}),b}case"sec1":{let C=r.get("ECPrivateKey"),T=C.decode(_,y,{label:O});if(!("parameters"in T)&&!g[a])throw new Error("invalid sec1");"parameters"in T||(T=Me(ce({},T),{parameters:{type:"namedCurve",value:g[a]}}));let b=new $t;return b._asn1=T,b._asymmetricKeyType="ec",b._type="private",b._pem=C.encode(T,"pem",{label:"EC PRIVATE KEY"}),b}default:throw new TypeError(`The value ${x} is invalid for option "type"`)}},"createPrivateKey")}Ad.exports={createPublicKey:Ut,createPrivateKey:ln,createSecretKey:Oi,KeyObject:$t,asInput:ks}});var kd=L((HC,Cd)=>{var{randomBytes:CE}=require("crypto"),Ai=ct(),Is=$e(),Yn=BigInt(0),rt=BigInt(1),_r=BigInt(2),wr=s(e=>{let t=e.toString(16);return Ai.encodeBuffer(Buffer.from(t.length%2?`0${t}`:t,"hex"))},"toJWKParameter"),Ci=s(e=>BigInt(`0x${e.toString("hex")}`),"fromBuffer"),kE=s(e=>e.toString(2).length,"bitLength"),IE=s((e,t)=>{let n=Yn,r=rt,i=rt,a=Yn;for(;e!==Yn;){let c=t/e,p=t%e,f=n-i*c,d=r-a*c;t=e,e=p,n=i,r=a,i=f,a=d}return n},"eGcdX"),jE=s((e,t)=>{let n=Yn;for(;!((e|t)&rt);)e>>=rt,t>>=rt,n++;for(;!(e&rt);)e>>=rt;do{for(;!(t&rt);)t>>=rt;if(e>t){let r=e;e=t,t=r}t-=e}while(t);return e<<n},"gcd"),qE=s((e,t,n)=>{e=js(e,n);let r=rt,i=e;for(;t>0;){var a=t%_r;t=t/_r,a===rt&&(r=r*i,r=r%n),i=i*i,i=i%n}return r},"modPow"),RE=s((e,t)=>{let n=t-e,r=kE(n),i;do i=Ci(ME(r));while(i>n);return i+e},"randBetween"),ME=s(e=>{let t=Math.ceil(e/8),n=CE(t);return n[0]=n[0]&2**(e%8)-1,n},"randBits"),js=s((e,t)=>(e=e%t,e<0?e+t:e),"toZn"),NE=s(e=>{let t=e;for(;t%_r===Yn;)t=t/_r;return t},"odd"),PE=30,BE=22,LE=s((e,t,n)=>{let r=NE(e*t-rt),i=0,a;do{if(i++,i===PE)throw new Is.JWKImportFailed("failed to calculate missing primes");let f=0,d=qE(RE(_r,n),r,n),g=Yn;for(;d!==rt;){if(f++,f===BE)throw new Is.JWKImportFailed("failed to calculate missing primes");g=d,d=d*d%n}g!==n-rt&&(a=g)}while(!a);let c=jE(a-rt,n),p=n/c;return c>p?{p:c,q:p}:{p,q:c}},"getPrimeFactors");Cd.exports=e=>{let t=Ci(Ai.decodeToBuffer(e.e)),n=Ci(Ai.decodeToBuffer(e.d)),r=Ci(Ai.decodeToBuffer(e.n));if(n>=r)throw new Is.JWKInvalid("invalid RSA private exponent");let{p:i,q:a}=LE(t,n,r),c=n%(i-rt),p=n%(a-rt),f=js(IE(js(a,i),i),i);return Me(ce({},e),{p:wr(i),q:wr(a),dp:wr(c),dq:wr(p),qi:wr(f)})}});var Ns=L((FC,Ms)=>{var{EOL:qs}=require("os"),fn=$e(),{keyObjectSupported:DE}=yt(),{createPublicKey:Id}=Qe(),je=ct(),pt=Cs(),KE=kd(),{OKP_CURVES:UE,EC_CURVES:$E}=Kt(),zE=s((e,t)=>`-----BEGIN ${t} KEY-----${qs}${(e.match(/.{1,64}/g)||[]).join(qs)}${qs}-----END ${t} KEY-----`,"formatPem"),Yt={private(e,t){let n=t.export({type:"pkcs8",format:"der"}),r=pt.get("OneAsymmetricKey"),{privateKey:{privateKey:i}}=r.decode(n);return Me(ce({},Yt.public(e,Id(t))),{d:je.encodeBuffer(i)})},public(e,t){let n=t.export({type:"spki",format:"der"}),r=pt.get("PublicKeyInfo"),{publicKey:{data:i}}=r.decode(n);return{kty:"OKP",crv:e,x:je.encodeBuffer(i)}}},Rs={rsa:{private(e){let t=e.export({type:"pkcs8",format:"der"}),n=pt.get("PrivateKeyInfo"),r=pt.get("RSAPrivateKey"),{privateKey:i}=n.decode(t),{version:a,n:c,e:p,d:f,p:d,q:g,dp:y,dq:v,qi:_}=r.decode(i);if(a!=="two-prime")throw new fn.JOSENotSupported("Private RSA keys with more than two primes are not supported");return{kty:"RSA",n:je.encodeBigInt(c),e:je.encodeBigInt(p),d:je.encodeBigInt(f),p:je.encodeBigInt(d),q:je.encodeBigInt(g),dp:je.encodeBigInt(y),dq:je.encodeBigInt(v),qi:je.encodeBigInt(_)}},public(e){let t=e.export({type:"spki",format:"der"}),n=pt.get("PublicKeyInfo"),r=pt.get("RSAPublicKey"),{publicKey:{data:i}}=n.decode(t),{n:a,e:c}=r.decode(i);return{kty:"RSA",n:je.encodeBigInt(a),e:je.encodeBigInt(c)}}},ec:{private(e){let t=e.export({type:"pkcs8",format:"der"}),n=pt.get("PrivateKeyInfo"),r=pt.get("ECPrivateKey"),{privateKey:i,algorithm:{parameters:{value:a}}}=n.decode(t),{privateKey:c,publicKey:p}=r.decode(i);if(typeof p=="undefined"){if(DE)return Me(ce({},Rs.ec.public(Id(e))),{d:je.encodeBuffer(c)});throw new fn.JOSENotSupported("Private EC keys without the public key embedded are not supported in your Node.js runtime version")}let f=p.data.slice(1,(p.data.length-1)/2+1),d=p.data.slice((p.data.length-1)/2+1);return{kty:"EC",crv:a,d:je.encodeBuffer(c),x:je.encodeBuffer(f),y:je.encodeBuffer(d)}},public(e){let t=e.export({type:"spki",format:"der"}),n=pt.get("PublicKeyInfo"),{publicKey:{data:r},algorithm:{parameters:{value:i}}}=n.decode(t),a=r.slice(1,(r.length-1)/2+1),c=r.slice((r.length-1)/2+1);return{kty:"EC",crv:i,x:je.encodeBuffer(a),y:je.encodeBuffer(c)}}},ed25519:{private(e){return Yt.private("Ed25519",e)},public(e){return Yt.public("Ed25519",e)}},ed448:{private(e){return Yt.private("Ed448",e)},public(e){return Yt.public("Ed448",e)}},x25519:{private(e){return Yt.private("X25519",e)},public(e){return Yt.public("X25519",e)}},x448:{private(e){return Yt.private("X448",e)},public(e){return Yt.public("X448",e)}}};Ms.exports.keyObjectToJWK=e=>e.type==="private"?Rs[e.asymmetricKeyType].private(e):Rs[e.asymmetricKeyType].public(e);var jd=s((e,t)=>({unused:0,data:Buffer.concat([Buffer.alloc(1,4),je.decodeToBuffer(e),je.decodeToBuffer(t)])}),"concatEcPublicKey"),qd={RSA:{private(e,{calculateMissingRSAPrimes:t}){let n=pt.get("RSAPrivateKey");if("oth"in e)throw new fn.JOSENotSupported("Private RSA keys with more than two primes are not supported");if(e.p||e.q||e.dp||e.dq||e.qi){if(!(e.p&&e.q&&e.dp&&e.dq&&e.qi))throw new fn.JWKInvalid("all other private key parameters must be present when any one of them is present")}else if(t)e=KE(e);else if(!t)throw new fn.JOSENotSupported("importing private RSA keys without all other private key parameters is not enabled, see documentation and its advisory on how and when its ok to enable it");return n.encode({version:0,n:BigInt(`0x${je.decodeToBuffer(e.n).toString("hex")}`),e:BigInt(`0x${je.decodeToBuffer(e.e).toString("hex")}`),d:BigInt(`0x${je.decodeToBuffer(e.d).toString("hex")}`),p:BigInt(`0x${je.decodeToBuffer(e.p).toString("hex")}`),q:BigInt(`0x${je.decodeToBuffer(e.q).toString("hex")}`),dp:BigInt(`0x${je.decodeToBuffer(e.dp).toString("hex")}`),dq:BigInt(`0x${je.decodeToBuffer(e.dq).toString("hex")}`),qi:BigInt(`0x${je.decodeToBuffer(e.qi).toString("hex")}`)},"pem",{label:"RSA PRIVATE KEY"})},public(e){return pt.get("RSAPublicKey").encode({version:0,n:BigInt(`0x${je.decodeToBuffer(e.n).toString("hex")}`),e:BigInt(`0x${je.decodeToBuffer(e.e).toString("hex")}`)},"pem",{label:"RSA PUBLIC KEY"})}},EC:{private(e){return pt.get("ECPrivateKey").encode({version:1,privateKey:je.decodeToBuffer(e.d),parameters:{type:"namedCurve",value:e.crv},publicKey:jd(e.x,e.y)},"pem",{label:"EC PRIVATE KEY"})},public(e){return pt.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:{type:"namedCurve",value:e.crv}},publicKey:jd(e.x,e.y)},"pem",{label:"PUBLIC KEY"})}},OKP:{private(e){let n=pt.get("OneAsymmetricKey").encode({version:0,privateKey:{privateKey:je.decodeToBuffer(e.d)},algorithm:{algorithm:e.crv}},"der");return n.write("04",12,1,"hex"),zE(n.toString("base64"),"PRIVATE")},public(e){return pt.get("PublicKeyInfo").encode({algorithm:{algorithm:e.crv},publicKey:{unused:0,data:je.decodeToBuffer(e.x)}},"pem",{label:"PUBLIC KEY"})}}};Ms.exports.jwkToPem=(e,{calculateMissingRSAPrimes:t=!1}={})=>{switch(e.kty){case"EC":if(!$E.has(e.crv))throw new fn.JOSENotSupported(`unsupported EC key curve: ${e.crv}`);break;case"OKP":if(!UE.has(e.crv))throw new fn.JOSENotSupported(`unsupported OKP key curve: ${e.crv}`);break;case"RSA":break;default:throw new fn.JOSENotSupported(`unsupported key type: ${e.kty}`)}return e.d?qd[e.kty].private(e,{calculateMissingRSAPrimes:t}):qd[e.kty].public(e)}});var Pd=L((JC,ki)=>{var{createHash:Rd}=require("crypto"),Md=ct(),Nd=s((e,t)=>Md.encodeBuffer(Rd(e).update(Buffer.from(t,"base64")).digest()),"x5t");ki.exports.kid=e=>Md.encodeBuffer(Rd("sha256").update(JSON.stringify(e)).digest());ki.exports.x5t=Nd.bind(void 0,"sha1");ki.exports["x5t#S256"]=Nd.bind(void 0,"sha256")});var zt=L((WC,$d)=>{var{strict:HE}=require("assert"),{inspect:Bd}=require("util"),{EOL:Ps}=require("os"),{keyObjectSupported:Ld}=yt(),{createPublicKey:Bs}=Qe(),{keyObjectToJWK:FE}=Ns(),{THUMBPRINT_MATERIAL:Dd,PUBLIC_MEMBERS:Er,PRIVATE_MEMBERS:Ls,JWK_MEMBERS:JE,KEYOBJECT:Sr,USES_MAPPING:Kd,OPS:WE,USES:VE}=Ge(),GE=Et(),Ds=Pd(),Ii=$e(),Ud=Symbol("privateApi"),{JWK:YE}=Kt(),Ks=class{constructor(t,{alg:n,use:r,kid:i,key_ops:a,x5c:c,x5t:p,"x5t#S256":f}={}){if(r!==void 0&&(typeof r!="string"||!VE.has(r)))throw new TypeError('`use` must be either "sig" or "enc" string when provided');if(n!==void 0&&(typeof n!="string"||!n))throw new TypeError("`alg` must be a non-empty string when provided");if(i!==void 0&&(typeof i!="string"||!i))throw new TypeError("`kid` must be a non-empty string when provided");if(a!==void 0){if(!Array.isArray(a)||!a.length||a.some(d=>typeof d!="string"))throw new TypeError("`key_ops` must be a non-empty array of strings when provided");a=Array.from(new Set(a)).filter(d=>WE.has(d))}if(a&&r&&(r==="enc"&&a.some(d=>Kd.sig.has(d))||r==="sig"&&a.some(d=>Kd.enc.has(d))))throw new Ii.JWKInvalid('inconsistent JWK "use" and "key_ops"');if(Ld&&c!==void 0){if(!Array.isArray(c)||!c.length||c.some(d=>typeof d!="string"))throw new TypeError("`x5c` must be an array of one or more PKIX certificates when provided");c.forEach((d,g)=>{let y;try{y=Bs({key:`-----BEGIN CERTIFICATE-----${Ps}${(d.match(/.{1,64}/g)||[]).join(Ps)}${Ps}-----END CERTIFICATE-----`,format:"pem"})}catch(v){throw new Ii.JWKInvalid(`\`x5c\` member at index ${g} is not a valid base64-encoded DER PKIX certificate`)}if(g===0)try{HE.deepEqual(y.export({type:"spki",format:"der"}),(t.type==="public"?t:Bs(t)).export({type:"spki",format:"der"}))}catch(v){throw new Ii.JWKInvalid("The key in the first `x5c` certificate MUST match the public key represented by the JWK")}})}Object.defineProperties(this,Me(ce(ce({[Sr]:{value:GE(t)?void 0:t},keyObject:{get(){if(!Ld)throw new Ii.JOSENotSupported("KeyObject class is not supported in your Node.js runtime version");return this[Sr]}},type:{value:t.type},private:{value:t.type==="private"},public:{value:t.type==="public"},secret:{value:t.type==="secret"},alg:{value:n,enumerable:n!==void 0},use:{value:r,enumerable:r!==void 0},x5c:ce({enumerable:c!==void 0},c?{get(){return[...c]}}:{value:void 0}),key_ops:ce({enumerable:a!==void 0},a?{get(){return[...a]}}:{value:void 0}),kid:ce({enumerable:!0},i?{value:i}:{get(){return Object.defineProperty(this,"kid",{value:this.thumbprint,configurable:!1}),this.kid},configurable:!0})},c?{x5t:ce({enumerable:!0},p?{value:p}:{get(){return Object.defineProperty(this,"x5t",{value:Ds.x5t(this.x5c[0]),configurable:!1}),this.x5t},configurable:!0})}:void 0),c?{"x5t#S256":ce({enumerable:!0},f?{value:f}:{get(){return Object.defineProperty(this,"x5t#S256",{value:Ds["x5t#S256"](this.x5c[0]),configurable:!1}),this["x5t#S256"]},configurable:!0})}:void 0),{thumbprint:{get(){return Object.defineProperty(this,"thumbprint",{value:Ds.kid(this[Dd]()),configurable:!1}),this.thumbprint},configurable:!0}}))}toPEM(t=!1,n={}){if(this.secret)throw new TypeError("symmetric keys cannot be exported as PEM");if(t&&this.public===!0)throw new TypeError("public key cannot be exported as private");let{type:r=t?"pkcs8":"spki",cipher:i,passphrase:a}=n,c=this[Sr];if(!t&&(this.private&&(c=Bs(c)),i||a))throw new TypeError("cipher and passphrase can only be applied when exporting private keys");return t?c.export({format:"pem",type:r,cipher:i,passphrase:a}):c.export({format:"pem",type:r})}toJWK(t=!1){if(t&&this.public===!0)throw new TypeError("public key cannot be exported as private");let n=[...this.constructor[t?Ls:Er]].map(i=>[i,this[i]]),r={};return Object.keys(n).forEach(i=>{let[a,c]=n[i];r[a]=c}),r.kty=this.kty,r.kid=this.kid,this.alg&&(r.alg=this.alg),this.key_ops&&this.key_ops.length&&(r.key_ops=this.key_ops),this.use&&(r.use=this.use),this.x5c&&(r.x5c=this.x5c),this.x5t&&(r.x5t=this.x5t),this["x5t#S256"]&&(r["x5t#S256"]=this["x5t#S256"]),r}[JE](){let t=this[Sr].type==="private"?this.constructor[Ls]:this.constructor[Er];Object.defineProperties(this,[...t].reduce((n,r)=>(n[r]={get(){let i=FE(this[Sr]);return Object.defineProperties(this,Object.entries(i).filter(([a])=>t.has(a)).reduce((a,[c,p])=>(a[c]={value:p,enumerable:this.constructor[Er].has(c),configurable:!1},a),{})),this[r]},enumerable:this.constructor[Er].has(r),configurable:!0},n),{}))}[Bd.custom](){return`${this.constructor.name} ${Bd(this.toJWK(!1),{depth:Infinity,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}[Dd](){throw new Error(`"[THUMBPRINT_MATERIAL]()" is not implemented on ${this.constructor.name}`)}algorithms(t,n,r){let{use:i=this.use,alg:a=this.alg,key_ops:c=this.key_ops}=n===Ud?r:{};if(a)return new Set(this.algorithms(t,Ud,{alg:null,use:i,key_ops:c}).has(a)?[a]:void 0);if(typeof t=="symbol")try{return this[t]()}catch(p){return new Set}if(t&&c&&!c.includes(t))return new Set;switch(t){case"decrypt":case"deriveKey":case"encrypt":case"sign":case"unwrapKey":case"verify":case"wrapKey":return new Set(Object.entries(YE[this.kty][t]).map(([p,f])=>f(this)?p:void 0).filter(Boolean));case void 0:return new Set([...this.algorithms("sign"),...this.algorithms("verify"),...this.algorithms("decrypt"),...this.algorithms("encrypt"),...this.algorithms("unwrapKey"),...this.algorithms("wrapKey"),...this.algorithms("deriveKey")]);default:throw new TypeError("invalid key operation")}}static async generate(){throw new Error(`"static async generate()" is not implemented on ${this.name}`)}static generateSync(){throw new Error(`"static generateSync()" is not implemented on ${this.name}`)}static get[Er](){throw new Error(`"static get [PUBLIC_MEMBERS]()" is not implemented on ${this.name}`)}static get[Ls](){throw new Error(`"static get [PRIVATE_MEMBERS]()" is not implemented on ${this.name}`)}};s(Ks,"Key");$d.exports=Ks});var zs=L((VC,Gd)=>{var{generateKeyPairSync:zd,generateKeyPair:XE}=require("crypto"),{promisify:ZE}=require("util"),{THUMBPRINT_MATERIAL:QE,JWK_MEMBERS:eS,PUBLIC_MEMBERS:tS,PRIVATE_MEMBERS:nS,KEY_MANAGEMENT_DECRYPT:rS,KEY_MANAGEMENT_ENCRYPT:iS}=Ge(),{keyObjectSupported:Hd}=yt(),{createPublicKey:Fd,createPrivateKey:Jd}=Qe(),oS=zt(),Wd=ZE(XE),Us=new Set(["e","n"]);Object.freeze(Us);var Vd=new Set([...Us,"d","p","q","dp","dq","qi"]);Object.freeze(Vd);var $s=class extends oS{constructor(...t){super(...t);this[eS](),Object.defineProperties(this,{kty:{value:"RSA",enumerable:!0},length:{get(){return Object.defineProperty(this,"length",{value:Buffer.byteLength(this.n,"base64")*8,configurable:!1}),this.length},configurable:!0}})}static get[tS](){return Us}static get[nS](){return Vd}[QE](){return{e:this.e,kty:"RSA",n:this.n}}[iS](){return this.algorithms("wrapKey")}[rS](){return this.algorithms("unwrapKey")}static async generate(t=2048,n=!0){if(!Number.isSafeInteger(t)||t<512||t%8!=0||"electron"in process.versions&&t%128!=0)throw new TypeError("invalid bit length");let r,i;return Hd?({privateKey:r,publicKey:i}=await Wd("rsa",{modulusLength:t}),n?r:i):({privateKey:r,publicKey:i}=await Wd("rsa",{modulusLength:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),n?Jd(r):Fd(i))}static generateSync(t=2048,n=!0){if(!Number.isSafeInteger(t)||t<512||t%8!=0||"electron"in process.versions&&t%128!=0)throw new TypeError("invalid bit length");let r,i;return Hd?({privateKey:r,publicKey:i}=zd("rsa",{modulusLength:t}),n?r:i):({privateKey:r,publicKey:i}=zd("rsa",{modulusLength:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),n?Jd(r):Fd(i))}};s($s,"RSAKey");Gd.exports=$s});var Vs=L((GC,rm)=>{var{generateKeyPairSync:Yd,generateKeyPair:sS}=require("crypto"),{promisify:aS}=require("util"),{THUMBPRINT_MATERIAL:cS,JWK_MEMBERS:uS,PUBLIC_MEMBERS:pS,PRIVATE_MEMBERS:lS,KEY_MANAGEMENT_DECRYPT:fS,KEY_MANAGEMENT_ENCRYPT:dS}=Ge(),{EC_CURVES:Hs}=Kt(),{keyObjectSupported:Xd}=yt(),{createPublicKey:Zd,createPrivateKey:Qd}=Qe(),Fs=$e(),{name:em}=wn(),mS=zt(),tm=aS(sS),Js=new Set(["crv","x","y"]);Object.freeze(Js);var nm=new Set([...Js,"d"]);Object.freeze(nm);var Ws=class extends mS{constructor(...t){super(...t);if(this[uS](),Object.defineProperty(this,"kty",{value:"EC",enumerable:!0}),!Hs.has(this.crv))throw new Fs.JOSENotSupported("unsupported EC key curve")}static get[pS](){return Js}static get[lS](){return nm}[cS](){return{crv:this.crv,kty:"EC",x:this.x,y:this.y}}[dS](){return this.algorithms("deriveKey")}[fS](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(t="P-256",n=!0){if(!Hs.has(t))throw new Fs.JOSENotSupported(`unsupported EC key curve: ${t}`);t===em&&t!=="secp256k1"&&(t="secp256k1");let r,i;return Xd?({privateKey:r,publicKey:i}=await tm("ec",{namedCurve:t}),n?r:i):({privateKey:r,publicKey:i}=await tm("ec",{namedCurve:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),n?Qd(r):Zd(i))}static generateSync(t="P-256",n=!0){if(!Hs.has(t))throw new Fs.JOSENotSupported(`unsupported EC key curve: ${t}`);t===em&&t!=="secp256k1"&&(t="secp256k1");let r,i;return Xd?({privateKey:r,publicKey:i}=Yd("ec",{namedCurve:t}),n?r:i):({privateKey:r,publicKey:i}=Yd("ec",{namedCurve:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),n?Qd(r):Zd(i))}};s(Ws,"ECKey");rm.exports=Ws});var Zs=L((YC,sm)=>{var{generateKeyPairSync:gS,generateKeyPair:hS}=require("crypto"),{promisify:yS}=require("util"),{THUMBPRINT_MATERIAL:vS,JWK_MEMBERS:xS,PUBLIC_MEMBERS:bS,PRIVATE_MEMBERS:_S,KEY_MANAGEMENT_DECRYPT:wS,KEY_MANAGEMENT_ENCRYPT:ES}=Ge(),{OKP_CURVES:Gs}=Kt(),{edDSASupported:im}=yt(),Tr=$e(),SS=zt(),TS=yS(hS),Ys=new Set(["crv","x"]);Object.freeze(Ys);var om=new Set([...Ys,"d"]);Object.freeze(om);var Xs=class extends SS{constructor(...t){super(...t);if(this[xS](),Object.defineProperty(this,"kty",{value:"OKP",enumerable:!0}),!Gs.has(this.crv))throw new Tr.JOSENotSupported("unsupported OKP key curve")}static get[bS](){return Ys}static get[_S](){return om}[vS](){return{crv:this.crv,kty:"OKP",x:this.x}}[ES](){return this.algorithms("deriveKey")}[wS](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(t="Ed25519",n=!0){if(!im)throw new Tr.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!Gs.has(t))throw new Tr.JOSENotSupported(`unsupported OKP key curve: ${t}`);let{privateKey:r,publicKey:i}=await TS(t.toLowerCase());return n?r:i}static generateSync(t="Ed25519",n=!0){if(!im)throw new Tr.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!Gs.has(t))throw new Tr.JOSENotSupported(`unsupported OKP key curve: ${t}`);let{privateKey:r,publicKey:i}=gS(t.toLowerCase());return n?r:i}};s(Xs,"OKPKey");sm.exports=Xs});var ji=L((XC,lm)=>{var{randomBytes:OS}=require("crypto"),{createSecretKey:AS}=Qe(),CS=ct(),{THUMBPRINT_MATERIAL:kS,PUBLIC_MEMBERS:IS,PRIVATE_MEMBERS:jS,KEY_MANAGEMENT_DECRYPT:qS,KEY_MANAGEMENT_ENCRYPT:am,KEYOBJECT:Xn}=Ge(),cm=zt(),um=new Set;Object.freeze(um);var pm=new Set(["k"]);Object.freeze(pm);var Qs=class extends cm{constructor(...t){super(...t);Object.defineProperties(this,{kty:{value:"oct",enumerable:!0},length:{value:this[Xn]?this[Xn].symmetricKeySize*8:void 0},k:{enumerable:!1,get(){return this[Xn]?Object.defineProperty(this,"k",{value:CS.encodeBuffer(this[Xn].export()),configurable:!1}):Object.defineProperty(this,"k",{value:void 0,configurable:!1}),this.k},configurable:!0}})}static get[IS](){return um}static get[jS](){return pm}[kS](){if(!this[Xn])throw new TypeError('reference "oct" keys without "k" cannot have their thumbprint calculated');return{k:this.k,kty:"oct"}}[am](){return new Set([...this.algorithms("wrapKey"),...this.algorithms("deriveKey")])}[qS](){return this[am]()}algorithms(...t){return this[Xn]?cm.prototype.algorithms.call(this,...t):new Set}static async generate(...t){return this.generateSync(...t)}static generateSync(t=256,n=!0){if(!n)throw new TypeError('"oct" keys cannot be generated as public');if(!Number.isSafeInteger(t)||!t||t%8!=0)throw new TypeError("invalid bit length");return AS(OS(t/8))}};s(Qs,"OctKey");lm.exports=Qs});var Zn=L((ZC,gm)=>{var{deprecate:RS}=require("util"),{createPublicKey:fm,createPrivateKey:dm,createSecretKey:mm,KeyObject:MS}=Qe(),NS=ct(),PS=Et(),{jwkToPem:BS}=Ns(),Or=$e(),LS=zs(),DS=Vs(),KS=Zs(),US=ji(),$S=new Set(["string","buffer","object"]),ea=s((e={},t={})=>ce({alg:t.alg,key_ops:t.key_ops,kid:t.kid,use:t.use,x5c:t.x5c,x5t:t.x5t,"x5t#S256":t["x5t#S256"]},e),"mergedParameters"),zS=/^[a-zA-Z0-9-]+ AAAA(?:[0-9A-Za-z+/])+(?:==|=)?(?: .*)?$/,ta=s((e,t,{calculateMissingRSAPrimes:n=!1}={})=>{let r,i,a;if(!$S.has(typeof e))throw new TypeError("key argument must be a string, buffer or an object");if(t!==void 0&&!PS(t))throw new TypeError("parameters argument must be a plain object when provided");if(e instanceof MS)switch(e.type){case"private":r=e;break;case"public":i=e;break;case"secret":a=e;break}else if(typeof e=="object"&&e&&"kty"in e&&e.kty==="oct"){try{a=mm(NS.decodeToBuffer(e.k))}catch(p){"k"in e||(a={type:"secret"})}t=ea(t,e)}else if(typeof e=="object"&&e&&"kty"in e){({calculateMissingRSAPrimes:n=!1}=t||{calculateMissingRSAPrimes:n});let p;try{p=BS(e,{calculateMissingRSAPrimes:n})}catch(f){if(f instanceof Or.JOSEError)throw f}p&&e.d?r=dm(p):p&&(i=fm(p)),t=ea({},e)}else if(e&&(typeof e=="object"||typeof e=="string")){try{r=dm(e)}catch(p){if(p instanceof Or.JOSEError)throw p}try{i=fm(e),e.startsWith("-----BEGIN CERTIFICATE-----")&&(!t||!("x5c"in t))&&(t=ea(t,{x5c:[e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,"")]}))}catch(p){if(p instanceof Or.JOSEError)throw p}try{!e.includes("-----BEGIN")&&!zS.test(e.toString("ascii").replace(/[\r\n]/g,""))&&(a=mm(Buffer.isBuffer(e)?e:Buffer.from(e)))}catch(p){}}let c=r||i||a;if(r||i)switch(c.asymmetricKeyType){case"rsa":return new LS(c,t);case"ec":return new DS(c,t);case"ed25519":case"ed448":case"x25519":case"x448":return new KS(c,t);default:throw new Or.JOSENotSupported("only RSA, EC and OKP asymmetric keys are supported")}else if(a)return new US(c,t);throw new Or.JWKImportFailed("key import failed")},"asKey");gm.exports=ta;Object.defineProperty(ta,"deprecated",{value:RS((e,t)=>ta(e,t,{calculateMissingRSAPrimes:!0}),"JWK.importKey() is deprecated, use JWK.asKey() instead"),enumerable:!1})});var Ar=L((QC,na)=>{var hm=$e(),dn=Zn(),ym=zs(),vm=Vs(),xm=Zs(),bm=ji(),HS=s(async(e,t,n,r=!0)=>{switch(e){case"RSA":return dn(await ym.generate(t,r),n);case"EC":return dn(await vm.generate(t,r),n);case"OKP":return dn(await xm.generate(t,r),n);case"oct":return dn(await bm.generate(t,r),n);default:throw new hm.JOSENotSupported(`unsupported key type: ${e}`)}},"generate"),FS=s((e,t,n,r=!0)=>{switch(e){case"RSA":return dn(ym.generateSync(t,r),n);case"EC":return dn(vm.generateSync(t,r),n);case"OKP":return dn(xm.generateSync(t,r),n);case"oct":return dn(bm.generateSync(t,r),n);default:throw new hm.JOSENotSupported(`unsupported key type: ${e}`)}},"generateSync");na.exports.generate=HS;na.exports.generateSync=FS});var wm=L((ek,_m)=>{var{inspect:JS}=require("util"),WS=zt(),ra=class extends WS{constructor(){super({type:"unsecured"},{alg:"none"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[JS.custom](){return"None {}"}algorithms(t){switch(t){case"sign":case"verify":case void 0:return new Set(["none"]);default:return new Set}}};s(ra,"NoneKey");_m.exports=new ra});var Sm=L((tk,Em)=>{var{inspect:VS}=require("util"),GS=zt(),ia=class extends GS{constructor(){super({type:"embedded"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[VS.custom](){return"Embedded.JWK {}"}algorithms(){return new Set}};s(ia,"EmbeddedJWK");Em.exports=new ia});var Om=L((nk,Tm)=>{var{inspect:YS}=require("util"),XS=zt(),oa=class extends XS{constructor(){super({type:"embedded"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[YS.custom](){return"Embedded.X5C {}"}algorithms(){return new Set}};s(oa,"EmbeddedX5C");Tm.exports=new oa});var Cr=L((rk,sa)=>{var ZS=zt(),QS=wm(),e0=Sm(),t0=Om(),Am=Zn(),n0=Ar();sa.exports=Me(ce({},n0),{asKey:Am,isKey:e=>e instanceof ZS,None:QS,EmbeddedJWK:e0,EmbeddedX5C:t0});Object.defineProperty(sa.exports,"importKey",{value:Am.deprecated,enumerable:!1})});var ca=L((ik,qm)=>{var{deprecate:r0,inspect:Cm}=require("util"),km=Et(),{generate:i0,generateSync:o0}=Ar(),{USES_MAPPING:s0}=Ge(),{isKey:aa,asKey:a0}=Cr(),Im=s((e,{alg:t,use:n,ops:r})=>{let i=0;return t&&e.alg&&i++,n&&e.use&&i++,r&&e.key_ops&&i++,i},"keyscore"),kr=class{constructor(...t){for(;t.some(Array.isArray);)t=t.flat?t.flat():t.reduce((n,r)=>Array.isArray(r)?[...n,...r]:(n.push(r),n),[]);if(t.some(n=>!aa(n)||!n.kty))throw new TypeError("all keys must be instances of a key instantiated by JWK.asKey");this._keys=new Set(t)}all({alg:t,kid:n,thumbprint:r,use:i,kty:a,key_ops:c,x5t:p,"x5t#S256":f,crv:d}={}){if(c!==void 0&&(!Array.isArray(c)||!c.length||c.some(y=>typeof y!="string")))throw new TypeError("`key_ops` must be a non-empty array of strings");let g={alg:t,use:i,ops:c};return[...this._keys].filter(y=>{let v=!0;if(v&&n!==void 0&&y.kid!==n&&(v=!1),v&&r!==void 0&&y.thumbprint!==r&&(v=!1),v&&p!==void 0&&y.x5t!==p&&(v=!1),v&&f!==void 0&&y["x5t#S256"]!==f&&(v=!1),v&&a!==void 0&&y.kty!==a&&(v=!1),v&&d!==void 0&&y.crv!==d&&(v=!1),t!==void 0&&!y.algorithms().has(t)&&(v=!1),v&&i!==void 0&&y.use!==void 0&&y.use!==i&&(v=!1),v&&c!==void 0&&(y.key_ops!==void 0||y.use!==void 0)){let _;y.key_ops?_=new Set(y.key_ops):_=s0[y.use],c.some(x=>!_.has(x))&&(v=!1)}return v}).sort((y,v)=>Im(v,g)-Im(y,g))}get(...t){return this.all(...t)[0]}add(t){if(!aa(t)||!t.kty)throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.add(t)}remove(t){if(!aa(t))throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.delete(t)}toJWKS(t=!1){return{keys:[...this._keys.values()].map(n=>n.toJWK(t&&(n.private||n.secret&&n.k)))}}async generate(...t){this._keys.add(await i0(...t))}generateSync(...t){this._keys.add(o0(...t))}get size(){return this._keys.size}[Cm.custom](){return`${this.constructor.name} ${Cm(this.toJWKS(!1),{depth:Infinity,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}*[Symbol.iterator](){for(let t of this._keys)yield t}};s(kr,"KeyStore");function jm(e,{ignoreErrors:t=!1,calculateMissingRSAPrimes:n=!1}={}){if(!km(e)||!Array.isArray(e.keys)||e.keys.some(i=>!km(i)||!("kty"in i)))throw new TypeError("jwks must be a JSON Web Key Set formatted object");let r=e.keys.map(i=>{try{return a0(i,{calculateMissingRSAPrimes:n})}catch(a){if(!t)throw a}}).filter(Boolean);return new kr(...r)}s(jm,"asKeyStore");Object.defineProperty(kr,"fromJWKS",{value:r0(e=>jm(e,{calculateMissingRSAPrimes:!0}),"JWKS.KeyStore.fromJWKS() is deprecated, use JWKS.asKeyStore() instead"),enumerable:!1});qm.exports={KeyStore:kr,asKeyStore:jm}});var Tn=L((ok,Mm)=>{var Rm=$e(),c0=zt(),u0=Zn(),{KeyStore:p0}=ca();Mm.exports=(e,t=!1)=>{if(e instanceof c0)return e;if(e instanceof p0){if(!t)throw new TypeError("key argument for this operation must not be a JWKS.KeyStore instance");return e}try{return u0(e)}catch(n){if(n instanceof Rm.JOSEError&&!(n instanceof Rm.JWKImportFailed))throw n;let r;throw t?r="key must be an instance of a key instantiated by JWK.asKey, a valid JWK.asKey input, or a JWKS.KeyStore instance":r="key must be an instance of a key instantiated by JWK.asKey, or a valid JWK.asKey input",new TypeError(r)}}});var ua=L((sk,Nm)=>{Nm.exports=e=>JSON.parse(JSON.stringify(e))});var pa=L((ak,Bm)=>{var{timingSafeEqual:l0}=require("crypto"),Pm=s((e,t)=>{if(e.length===t)return e;let n=Buffer.alloc(t);return e.copy(n),n},"paddedBuffer"),f0=s((e,t)=>{let n=Math.max(e.length,t.length);return l0(Pm(e,n),Pm(t,n))},"timingSafeEqual");Bm.exports=f0});var Ir=L((ck,Lm)=>{Lm.exports=e=>`sha${e.substr(2,3)}`});var Um=L((uk,Km)=>{var{createHmac:d0}=require("crypto"),{KEYOBJECT:m0}=Ge(),g0=pa(),h0=Ir(),{asInput:y0}=Qe(),Dm=s((e,t,{[m0]:n},r)=>{let i=d0(t,y0(n,!1));return i.update(r),i.digest()},"sign"),v0=s((e,t,n,r,i)=>{let a=Dm(e,t,n,r);return g0(i,a)},"verify");Km.exports=(e,t)=>{["HS256","HS384","HS512"].forEach(n=>{let r=h0(n);e.sign.set(n,Dm.bind(void 0,n,r)),e.verify.set(n,v0.bind(void 0,n,r)),t.oct.sign[n]=t.oct.verify[n]=i=>i.use==="sig"||i.use===void 0})}});var Fm=L((pk,la)=>{var qi=128,$m=0,x0=32,b0=16,_0=2,zm=b0|x0|$m<<6,Ri=_0|$m<<6,Mi=s(e=>(e/8|0)+(e%8==0?0:1),"getParamSize"),Ni={ES256:Mi(256),ES256K:Mi(256),ES384:Mi(384),ES512:Mi(521)},Hm=s((e,t,n)=>{let r=0;for(;t+r<n&&e[t+r]===0;)++r;return e[t+r]>=qi&&--r,r},"countPadding");la.exports.derToJose=(e,t)=>{if(!Buffer.isBuffer(e))throw new TypeError("ECDSA signature must be a Buffer");if(!Ni[t])throw new Error(`Unknown algorithm "${t}"`);let n=Ni[t],r=n+1,i=e.length,a=0;if(e[a++]!==zm)throw new Error('Could not find expected "seq"');let c=e[a++];if(c===(qi|1)&&(c=e[a++]),i-a<c)throw new Error(`"seq" specified length of ${c}", only ${i-a}" remaining`);if(e[a++]!==Ri)throw new Error('Could not find expected "int" for "r"');let p=e[a++];if(i-a-2<p)throw new Error(`"r" specified length of "${p}", only "${i-a-2}" available`);if(r<p)throw new Error(`"r" specified length of "${p}", max of "${r}" is acceptable`);let f=a;if(a+=p,e[a++]!==Ri)throw new Error('Could not find expected "int" for "s"');let d=e[a++];if(i-a!==d)throw new Error(`"s" specified length of "${d}", expected "${i-a}"`);if(r<d)throw new Error(`"s" specified length of "${d}", max of "${r}" is acceptable`);let g=a;if(a+=d,a!==i)throw new Error(`Expected to consume entire buffer, but "${i-a}" bytes remain`);let y=n-p,v=n-d,_=Buffer.allocUnsafe(y+p+v+d);for(a=0;a<y;++a)_[a]=0;e.copy(_,a,f+Math.max(-y,0),f+p),a=n;for(let x=a;a<x+v;++a)_[a]=0;return e.copy(_,a,g+Math.max(-v,0),g+d),_};la.exports.joseToDer=(e,t)=>{if(!Buffer.isBuffer(e))throw new TypeError("ECDSA signature must be a Buffer");if(!Ni[t])throw new TypeError(`Unknown algorithm "${t}"`);let n=Ni[t],r=e.length;if(r!==n*2)throw new Error(`"${t}" signatures must be "${n*2}" bytes, saw "${r}"`);let i=Hm(e,0,n),a=Hm(e,n,e.length),c=n-i,p=n-a,f=1+1+c+1+1+p,d=f<qi,g=Buffer.allocUnsafe((d?2:3)+f),y=0;return g[y++]=zm,d?g[y++]=f:(g[y++]=qi|1,g[y++]=f&255),g[y++]=Ri,g[y++]=c,i<0?(g[y++]=0,y+=e.copy(g,y,0,n)):y+=e.copy(g,y,i,n),g[y++]=Ri,g[y++]=p,a<0?(g[y++]=0,e.copy(g,y,n)):e.copy(g,y,n+a),g}});var Wm=L((lk,Jm)=>{var{sign:w0,verify:E0,createSign:S0,createVerify:T0,getCurves:Pi}=require("crypto"),{derToJose:O0,joseToDer:A0}=Fm(),{KEYOBJECT:Bi}=Ge(),C0=Ir(),{asInput:Li}=Qe(),{dsaEncodingSupported:k0}=yt(),{name:I0}=wn(),fa,da;k0?(fa=s((e,t,{[Bi]:n},r)=>(typeof r=="string"&&(r=Buffer.from(r)),w0(t,r,{key:Li(n,!1),dsaEncoding:"ieee-p1363"})),"sign"),da=s((e,t,{[Bi]:n},r,i)=>{try{return E0(t,r,{key:Li(n,!0),dsaEncoding:"ieee-p1363"},i)}catch(a){return!1}},"verify")):(fa=s((e,t,{[Bi]:n},r)=>O0(S0(t).update(r).sign(Li(n,!1)),e),"sign"),da=s((e,t,{[Bi]:n},r,i)=>{try{return T0(t).update(r).verify(Li(n,!0),A0(i,e))}catch(a){return!1}},"verify"));var j0=s(e=>{switch(e){case"P-256":return"ES256";case I0:return"ES256K";case"P-384":return"ES384";case"P-521":return"ES512"}},"crvToAlg");Jm.exports=(e,t)=>{let n=[];Pi().includes("prime256v1")&&n.push("ES256"),Pi().includes("secp256k1")&&n.push("ES256K"),Pi().includes("secp384r1")&&n.push("ES384"),Pi().includes("secp521r1")&&n.push("ES512"),n.forEach(r=>{let i=C0(r);e.sign.set(r,fa.bind(void 0,r,i)),e.verify.set(r,da.bind(void 0,r,i)),t.EC.sign[r]=a=>a.private&&t.EC.verify[r](a),t.EC.verify[r]=a=>(a.use==="sig"||a.use===void 0)&&j0(a.crv)===r})}});var Ym=L((fk,Gm)=>{var{sign:q0,verify:R0}=require("crypto"),{KEYOBJECT:Vm}=Ge(),{edDSASupported:M0}=yt(),N0=s(({[Vm]:e},t)=>(typeof t=="string"&&(t=Buffer.from(t)),q0(void 0,t,e)),"sign"),P0=s(({[Vm]:e},t,n)=>R0(void 0,t,e,n),"verify");Gm.exports=(e,t)=>{M0&&(e.sign.set("EdDSA",N0),e.verify.set("EdDSA",P0),t.OKP.sign.EdDSA=n=>n.private&&t.OKP.verify.EdDSA(n),t.OKP.verify.EdDSA=n=>(n.use==="sig"||n.use===void 0)&&n.keyObject.asymmetricKeyType.startsWith("ed"))}});var eg=L((dk,Qm)=>{var{createSign:B0,createVerify:L0,constants:Di}=require("crypto"),{KEYOBJECT:Xm}=Ge(),D0=Ir(),{asInput:Zm}=Qe(),K0=s((e,{[Xm]:t},n)=>{let r=Zm(t,!1);return B0(e).update(n).sign({key:r,padding:Di.RSA_PKCS1_PSS_PADDING,saltLength:Di.RSA_PSS_SALTLEN_DIGEST})},"sign"),U0=s((e,{[Xm]:t},n,r)=>{let i=Zm(t,!0);return L0(e).update(n).verify({key:i,padding:Di.RSA_PKCS1_PSS_PADDING,saltLength:Di.RSA_PSS_SALTLEN_DIGEST},r)},"verify"),$0={PS256:528,PS384:784,PS512:1040};Qm.exports=(e,t)=>{["PS256","PS384","PS512"].forEach(n=>{let r=D0(n);e.sign.set(n,K0.bind(void 0,r)),e.verify.set(n,U0.bind(void 0,r)),t.RSA.sign[n]=i=>i.private&&t.RSA.verify[n](i),t.RSA.verify[n]=i=>(i.use==="sig"||i.use===void 0)&&i.length>=$0[n]})}});var ig=L((mk,rg)=>{var{createSign:z0,createVerify:H0}=require("crypto"),{KEYOBJECT:tg}=Ge(),F0=Ir(),{asInput:ng}=Qe(),J0=s((e,{[tg]:t},n)=>z0(e).update(n).sign(ng(t,!1)),"sign"),W0=s((e,{[tg]:t},n,r)=>H0(e).update(n).verify(ng(t,!0),r),"verify"),V0={RS256:0,RS384:624,RS512:752};rg.exports=(e,t)=>{["RS256","RS384","RS512"].forEach(n=>{let r=F0(n);e.sign.set(n,J0.bind(void 0,r)),e.verify.set(n,W0.bind(void 0,r)),t.RSA.sign[n]=i=>i.private&&t.RSA.verify[n](i),t.RSA.verify[n]=i=>(i.use==="sig"||i.use===void 0)&&i.length>=V0[n]})}});var sg=L((gk,og)=>{var G0=s(()=>Buffer.from(""),"sign"),Y0=s((e,t,n)=>!n.length,"verify");og.exports=(e,t)=>{e.sign.set("none",G0),e.verify.set("none",Y0)}});var ug=L((hk,cg)=>{var ag=Math.pow(2,32);cg.exports=(e,t=Buffer.allocUnsafe(8))=>{let n=Math.floor(e/ag),r=e%ag;return t.writeUInt32BE(n,0),t.writeUInt32BE(r,4),t}});var gg=L((yk,mg)=>{var{createCipheriv:X0,createDecipheriv:Z0,getCiphers:Q0}=require("crypto"),pg=ug(),eT=pa(),{KEYOBJECT:Ki}=Ge(),{JWEInvalid:lg,JWEDecryptionFailed:fg}=$e(),dg=s(function(e,t,n){if(t.length!==16)throw new lg("invalid iv");if(arguments.length===3&&n.length!==e/8)throw new lg("invalid tag")},"checkInput"),tT=s((e,t,{[Ki]:n},r,{iv:i,aad:a=Buffer.alloc(0)})=>{let c=n.export();dg(e,i);let p=e/8,f=c.slice(p),d=X0(`aes-${e}-cbc`,f,i),g=Buffer.concat([d.update(r),d.final()]),y=Buffer.concat([a,i,g,pg(a.length*8)]),v=c.slice(0,p),_=t({[Ki]:v},y).slice(0,p);return{ciphertext:g,tag:_}},"encrypt"),nT=s((e,t,{[Ki]:n},r,{iv:i,tag:a=Buffer.alloc(0),aad:c=Buffer.alloc(0)})=>{dg(e,i,a);let p=e/8,f=n.export(),d=f.slice(p),g=f.slice(0,p),y=Buffer.concat([c,i,r,pg(c.length*8)]),v=t({[Ki]:g},y,a).slice(0,p);if(!eT(a,v))throw new fg;let x;try{let O=Z0(`aes-${e}-cbc`,d,i);x=Buffer.concat([O.update(r),O.final()])}catch(O){}if(!x)throw new fg;return x},"decrypt");mg.exports=(e,t)=>{["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach(n=>{let r=parseInt(n.substr(1,3),10),i=e.sign.get(`HS${r*2}`);Q0().includes(`aes-${r}-cbc`)&&(e.encrypt.set(n,tT.bind(void 0,r,i)),e.decrypt.set(n,nT.bind(void 0,r,i)),t.oct.encrypt[n]=t.oct.decrypt[n]=a=>(a.use==="enc"||a.use===void 0)&&a.length/2===r)})}});var _g=L((vk,bg)=>{var{createCipheriv:rT,createDecipheriv:iT,getCiphers:oT}=require("crypto"),{KEYOBJECT:hg}=Ge(),{JWEInvalid:yg,JWEDecryptionFailed:sT}=$e(),{asInput:vg}=Qe(),xg=s(function(e,t,n){if(t.length!==12)throw new yg("invalid iv");if(arguments.length===3&&n.length!==16)throw new yg("invalid tag")},"checkInput"),aT=s((e,{[hg]:t},n,{iv:r,aad:i=Buffer.alloc(0)})=>{let a=vg(t,!1);xg(e,r);let c=rT(`aes-${e}-gcm`,a,r,{authTagLength:16});c.setAAD(i);let p=Buffer.concat([c.update(n),c.final()]),f=c.getAuthTag();return{ciphertext:p,tag:f}},"encrypt"),cT=s((e,{[hg]:t},n,{iv:r,tag:i=Buffer.alloc(0),aad:a=Buffer.alloc(0)})=>{let c=vg(t,!1);xg(e,r,i);try{let p=iT(`aes-${e}-gcm`,c,r,{authTagLength:16});return p.setAuthTag(i),p.setAAD(a),Buffer.concat([p.update(n),p.final()])}catch(p){throw new sT}},"decrypt");bg.exports=(e,t)=>{["A128GCM","A192GCM","A256GCM"].forEach(n=>{let r=parseInt(n.substr(1,3),10);oT().includes(`aes-${r}-gcm`)&&(e.encrypt.set(n,aT.bind(void 0,r)),e.decrypt.set(n,cT.bind(void 0,r)),t.oct.encrypt[n]=t.oct.decrypt[n]=i=>(i.use==="enc"||i.use===void 0)&&i.length===r)})}});var Ag=L((xk,Og)=>{var{publicEncrypt:uT,privateDecrypt:pT,constants:wg}=require("crypto"),{oaepHashSupported:lT}=yt(),{KEYOBJECT:Eg}=Ge(),{asInput:Sg}=Qe(),fT=s(e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return wg.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return wg.RSA_PKCS1_PADDING}},"resolvePadding"),dT=s(e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}},"resolveOaepHash"),mT=s((e,t,{[Eg]:n},r)=>{let i=Sg(n,!0);return{wrapped:uT({key:i,oaepHash:t,padding:e},r)}},"wrapKey"),gT=s((e,t,{[Eg]:n},r)=>{let i=Sg(n,!1);return pT({key:i,oaepHash:t,padding:e},r)},"unwrapKey"),Tg={RSA1_5:0,"RSA-OAEP":592,"RSA-OAEP-256":784,"RSA-OAEP-384":1040,"RSA-OAEP-512":1296};Og.exports=(e,t)=>{let n=["RSA-OAEP","RSA1_5"];lT&&n.splice(1,0,"RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"),n.forEach(r=>{let i=fT(r),a=dT(r);e.keyManagementEncrypt.set(r,mT.bind(void 0,i,a)),e.keyManagementDecrypt.set(r,gT.bind(void 0,i,a)),t.RSA.wrapKey[r]=c=>(c.use==="enc"||c.use===void 0)&&c.length>=Tg[r],t.RSA.unwrapKey[r]=c=>c.private&&(c.use==="enc"||c.use===void 0)&&c.length>=Tg[r]})}});var jg=L((bk,Ig)=>{var{createCipheriv:hT,createDecipheriv:yT,getCiphers:vT}=require("crypto"),{KEYOBJECT:Cg}=Ge(),{asInput:kg}=Qe(),xT=s(e=>{if(e!==void 0&&e.length%8!=0)throw new Error("invalid data length")},"checkInput"),bT=s((e,{[Cg]:t},n)=>{let r=kg(t,!1),i=hT(e,r,Buffer.alloc(8,"a6","hex"));return{wrapped:Buffer.concat([i.update(n),i.final()])}},"wrapKey"),_T=s((e,{[Cg]:t},n)=>{let r=kg(t,!1);xT(n);let i=yT(e,r,Buffer.alloc(8,"a6","hex"));return Buffer.concat([i.update(n),i.final()])},"unwrapKey");Ig.exports=(e,t)=>{["A128KW","A192KW","A256KW"].forEach(n=>{let r=parseInt(n.substr(1,3),10),i=`aes${r}-wrap`;vT().includes(i)&&(e.keyManagementEncrypt.set(n,bT.bind(void 0,i)),e.keyManagementDecrypt.set(n,_T.bind(void 0,i)),t.oct.wrapKey[n]=t.oct.unwrapKey[n]=a=>(a.use==="enc"||a.use===void 0)&&a.length===r)})}});var Mg=L((_k,Rg)=>{var wT=ds(),qg=ct();Rg.exports=(e,t)=>{["A128GCMKW","A192GCMKW","A256GCMKW"].forEach(n=>{let r=n.substr(0,7),i=parseInt(n.substr(1,3),10),a=e.encrypt.get(r),c=e.decrypt.get(r);a&&c&&(e.keyManagementEncrypt.set(n,(p,f)=>{let d=wT(n),{ciphertext:g,tag:y}=a(p,f,{iv:d});return{wrapped:g,header:{tag:qg.encodeBuffer(y),iv:qg.encodeBuffer(d)}}}),e.keyManagementDecrypt.set(n,c),t.oct.wrapKey[n]=t.oct.unwrapKey[n]=p=>(p.use==="enc"||p.use===void 0)&&p.length===i)})}});var Lg=L((wk,Bg)=>{var{pbkdf2Sync:Ng,randomBytes:ET}=require("crypto"),{KEYOBJECT:Ui}=Ge(),ST=ct(),TT=16,OT=Buffer.alloc(1,0),Pg=s((e,t)=>Buffer.concat([Buffer.from(e,"utf8"),OT,t]),"concatSalt"),AT=s((e,t,n,r,{[Ui]:i},a)=>{let c=Math.floor(Math.random()*2049+2048),p=ET(TT),f=n(p),d=Ng(i.export(),f,c,e,t),g=r({[Ui]:d},a);return g.header=g.header||{},Object.assign(g.header,{p2c:c,p2s:ST.encodeBuffer(p)}),g},"wrapKey"),CT=s((e,t,n,r,{[Ui]:i},a,c)=>{let{p2s:p,p2c:f}=c,d=n(p),g=Ng(i.export(),d,f,e,t);return r({[Ui]:g},a,c)},"unwrapKey");Bg.exports=(e,t)=>{["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach(n=>{let r=n.substr(-6),i=e.keyManagementEncrypt.get(r),a=e.keyManagementDecrypt.get(r),c=parseInt(n.substr(13,3),10)/8,p=`sha${n.substr(8,3)}`;i&&a&&(e.keyManagementEncrypt.set(n,AT.bind(void 0,c,p,Pg.bind(void 0,n),i)),e.keyManagementDecrypt.set(n,CT.bind(void 0,c,p,Pg.bind(void 0,n),a)),t.oct.deriveKey[n]=f=>f.use==="enc"||f.use===void 0)})}});var Dg=L((Ek,ma)=>{var{improvedDH:kT}=yt();if(kT){let{diffieHellman:e}=require("crypto"),{KeyObject:t}=Qe(),n=Zn();ma.exports=({keyObject:r},i)=>(i instanceof t||({keyObject:i}=n(i)),e({privateKey:r,publicKey:i}))}else{let{createECDH:e,constants:{POINT_CONVERSION_UNCOMPRESSED:t}}=require("crypto"),n=ct(),r=s(c=>{switch(c){case"P-256":return"prime256v1";case"P-384":return"secp384r1";case"P-521":return"secp521r1"}},"crvToCurve"),i=Buffer.alloc(1,t),a=s((c,p)=>Buffer.concat([i,n.decodeToBuffer(c),n.decodeToBuffer(p)]),"pubToBuffer");ma.exports=({crv:c,d:p},{x:f,y:d})=>{let g=r(c),y=e(g);return y.setPrivateKey(n.decodeToBuffer(p)),y.computeSecret(a(f,d))}}});var ha=L((Sk,$g)=>{var{createHash:Kg}=require("crypto"),IT=Dg(),jT=s((e,t,n)=>{let r=Math.ceil(t/32),i;for(let a=1;a<=r;a++){let c=Buffer.allocUnsafe(4+e.length+n.length);c.writeUInt32BE(a,0),e.copy(c,4),n.copy(c,4+e.length),i?i=Buffer.concat([i,Kg("sha256").update(c).digest()]):i=Kg("sha256").update(c).digest()}return i.slice(0,t)},"concat"),Ug=s((e,t=Buffer.allocUnsafe(4))=>(t.writeUInt32BE(e),t),"uint32be"),ga=s(e=>Buffer.concat([Ug(e.length),e]),"lengthAndInput");$g.exports=(e,t,n,r,{apu:i=Buffer.alloc(0),apv:a=Buffer.alloc(0)}={},c=IT)=>{let p=Buffer.concat([ga(Buffer.from(e)),ga(i),ga(a),Ug(t)]),f=c(n,r);return jT(f,t/8,p)}});var Jg=L((Tk,Fg)=>{var{improvedDH:qT}=yt(),{KEYLENGTHS:zg}=Kt(),{generateSync:RT}=Ar(),{name:MT}=wn(),Hg=ha(),NT=s((e,t,{enc:n})=>{let r=RT(e.kty,e.crv);return{wrapped:Hg(n,zg.get(n),r,e),header:{epk:{kty:e.kty,crv:e.crv,x:r.x,y:r.y}}}},"wrapKey"),PT=s((e,t,n)=>{let{enc:r,epk:i}=n;return Hg(r,zg.get(r),e,i,n)},"unwrapKey");Fg.exports=(e,t)=>{e.keyManagementEncrypt.set("ECDH-ES",NT),e.keyManagementDecrypt.set("ECDH-ES",PT),t.EC.deriveKey["ECDH-ES"]=n=>(n.use==="enc"||n.use===void 0)&&n.crv!==MT,qT&&(t.OKP.deriveKey["ECDH-ES"]=n=>(n.use==="enc"||n.use===void 0)&&n.keyObject.asymmetricKeyType.startsWith("x"))}});var Xg=L((Ok,$i)=>{var{improvedDH:BT}=yt(),{KEYOBJECT:Wg}=Ge(),{generateSync:LT}=Ar(),{name:DT}=wn(),{ECDH_DERIVE_LENGTHS:KT}=Kt(),Vg=ha(),Gg=s((e,t,n,r)=>{let i=LT(n.kty,n.crv),a=t(i,n,r),c=e({[Wg]:a},r);return c.header=c.header||{},Object.assign(c.header,{epk:{kty:n.kty,crv:n.crv,x:i.x,y:i.y}}),c},"wrapKey"),Yg=s((e,t,n,r,i)=>{let{epk:a}=i,c=t(n,a,i);return e({[Wg]:c},r,i)},"unwrapKey");$i.exports=(e,t)=>{["ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach(n=>{let r=n.substr(-6),i=e.keyManagementEncrypt.get(r),a=e.keyManagementDecrypt.get(r),c=parseInt(n.substr(9,3),10);KT.set(n,c),i&&a&&(e.keyManagementEncrypt.set(n,Gg.bind(void 0,i,Vg.bind(void 0,n,c))),e.keyManagementDecrypt.set(n,Yg.bind(void 0,a,Vg.bind(void 0,n,c))),t.EC.deriveKey[n]=p=>(p.use==="enc"||p.use===void 0)&&p.crv!==DT,BT&&(t.OKP.deriveKey[n]=p=>(p.use==="enc"||p.use===void 0)&&p.keyObject.asymmetricKeyType.startsWith("x")))})};$i.exports.wrapKey=Gg;$i.exports.unwrapKey=Yg});var jr=L((Ak,Zg)=>{var{JWKKeySupport:UT,JOSENotSupported:$T}=$e(),{KEY_MANAGEMENT_ENCRYPT:zT,KEY_MANAGEMENT_DECRYPT:HT}=Ge(),{JWA:We,JWK:xt}=Kt();Um()(We,xt);Wm()(We,xt);Ym()(We,xt);eg()(We,xt);ig()(We,xt);sg()(We);gg()(We,xt);_g()(We,xt);Ag()(We,xt);jg()(We,xt);Mg()(We,xt);Lg()(We,xt);Jg()(We,xt);Xg()(We,xt);var mn=s((e,t,n)=>{let r=`_${t}_${n}`,i,a;if(t==="keyManagementEncrypt"?(i="key management (encryption)",a=zT):t==="keyManagementDecrypt"&&(i="key management (decryption)",a=HT),r in e){if(e[r])return;throw new UT(`the key does not support ${n} ${i||t} algorithm`)}let c=!0;if(We[t].has(n))e.algorithms(a).has(n)||(c=!1);else throw new $T(`unsupported ${i||t} alg: ${n}`);if(Object.defineProperty(e,r,{value:c,enumerable:!1}),!c)return mn(e,t,n)},"check");Zg.exports={check:mn,sign:(e,t,n)=>(mn(t,"sign",e),We.sign.get(e)(t,n)),verify:(e,t,n,r)=>(mn(t,"verify",e),We.verify.get(e)(t,n,r)),keyManagementEncrypt:(e,t,n,r)=>(mn(t,"keyManagementEncrypt",e),We.keyManagementEncrypt.get(e)(t,n,r)),keyManagementDecrypt:(e,t,n,r)=>(mn(t,"keyManagementDecrypt",e),We.keyManagementDecrypt.get(e)(t,n,r)),encrypt:(e,t,n,r)=>(mn(t,"encrypt",e),We.encrypt.get(e)(t,n,r)),decrypt:(e,t,n,r)=>(mn(t,"decrypt",e),We.decrypt.get(e)(t,n,r))}});var qr=L((Ck,eh)=>{var{JOSECritNotUnderstood:FT,JWSInvalid:Qg}=$e(),JT=new Set(["alg","jku","jwk","kid","x5u","x5c","x5t","x5t#S256","typ","cty","crit","enc","zip","epk","apu","apv","iv","tag","p2s","p2c"]);eh.exports=s(function(t,n,r,i){if(n&&"crit"in n){if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(p=>typeof p!="string"||!p))throw new t('"crit" Header Parameter MUST be an array of non-empty strings when present');let a=new Set(i),c=ce(ce({},n),r);n.crit.forEach(p=>{if(JT.has(p))throw new t(`The critical list contains a non-extension Header Parameter ${p}`);if(!a.has(p))throw new FT(`critical "${p}" is not understood`);if(p==="b64"){if(!("b64"in n))throw new Qg('"b64" critical parameter must be integrity protected');if(typeof n.b64!="boolean")throw new Qg('"b64" critical parameter must be a boolean')}else if(!(p in c))throw new t(`critical parameter "${p}" is missing`)})}if(r&&"crit"in r)throw new t('"crit" Header Parameter MUST be integrity protected when present')},"validateCrit")});var ya=L((kk,ih)=>{var Rr=Et(),Mr=qr(),{JWEInvalid:zi}=$e();Mr=Mr.bind(void 0,zi);var th=s((e,[t])=>`${e.protected}.${t.encrypted_key}.${e.iv}.${e.ciphertext}.${e.tag}`,"compactSerializer");th.validate=(e,t,n,{0:{header:r},length:i})=>{if(i!==1||n||t||r)throw new zi("JWE Compact Serialization doesn't support multiple recipients, JWE unprotected headers or AAD");Mr(e,t,e?e.crit:void 0)};var nh=s((e,[t])=>{let{header:n,encrypted_key:r}=t;return Me(ce(ce(ce(ce(ce({},e.protected?{protected:e.protected}:void 0),e.unprotected?{unprotected:e.unprotected}:void 0),n?{header:n}:void 0),r?{encrypted_key:r}:void 0),e.aad?{aad:e.aad}:void 0),{iv:e.iv,ciphertext:e.ciphertext,tag:e.tag})},"flattenedSerializer");nh.validate=(e,t,n,{0:{header:r},length:i})=>{if(i!==1)throw new zi("Flattened JWE JSON Serialization doesn't support multiple recipients");Mr(e,ce(ce({},t),r),e?e.crit:void 0)};var rh=s((e,t)=>{let n=Me(ce(Me(ce(ce({},e.protected?{protected:e.protected}:void 0),e.unprotected?{unprotected:e.unprotected}:void 0),{recipients:t.map(({header:r,encrypted_key:i,generatedHeader:a})=>!r&&!i&&!a?!1:ce(ce({},r||a?{header:ce(ce({},r),a)}:void 0),i?{encrypted_key:i}:void 0)).filter(Boolean)}),e.aad?{aad:e.aad}:void 0),{iv:e.iv,ciphertext:e.ciphertext,tag:e.tag});return n.recipients.length||delete n.recipients,n},"generalSerializer");rh.validate=(e,t,n,r)=>{r.forEach(({header:i})=>{Mr(e,ce(ce({},i),t),e?e.crit:void 0)})};var WT=s(e=>Rr(e)&&typeof e.ciphertext=="string"&&typeof e.iv=="string"&&typeof e.tag=="string"&&(e.unprotected===void 0||Rr(e.unprotected))&&(e.protected===void 0||typeof e.protected=="string")&&(e.aad===void 0||typeof e.aad=="string"),"isJSON"),VT=s(e=>(e.encrypted_key===void 0||typeof e.encrypted_key=="string")&&(e.header===void 0||Rr(e.header)),"isSingleRecipient"),GT=s(e=>Rr(e)&&typeof e.encrypted_key=="string"&&(e.header===void 0||Rr(e.header)),"isValidRecipient"),YT=s(e=>!!(Array.isArray(e.recipients)&&e.recipients.every(GT)),"isMultiRecipient"),XT=s(e=>{if(typeof e=="string"&&e.split(".").length===5)return"compact";if(WT(e)){if(YT(e))return"general";if(VT(e))return"flattened"}throw new zi("JWE malformed or invalid serialization")},"detect");ih.exports={compact:th,flattened:nh,general:rh,detect:XT}});var va=L((Ik,sh)=>{var{randomBytes:ZT}=require("crypto"),{createSecretKey:QT}=Qe(),{KEYLENGTHS:e1}=Kt(),oh=ji();sh.exports=e=>{let t=e1.get(e);return t?new oh(QT(ZT(t/8)),{use:"enc",alg:e}):new oh({type:"secret"})}});var Hi=L((jk,ah)=>{ah.exports=(e={},t={})=>{let n=Object.keys(e),r=new Set(Object.keys(t));return!n.some(i=>r.has(i))}});var _a=L((qk,ch)=>{var xa=Hi(),t1=ct(),ba=qr(),{JWEInvalid:Xt,JOSENotSupported:n1}=$e();ba=ba.bind(void 0,Xt);ch.exports=(e,t,n,r,i)=>{if(typeof e=="string")try{e=t1.JSON.decode(e)}catch(p){throw new Xt("could not parse JWE protected header")}let a=[],c=new Set;if(!xa(e,t)||!n.every(({header:p})=>{typeof p=="object"&&(a.push(p.alg),c.add(p.enc));let f=ce(ce({},t),p);if(ba(e,f,i),"zip"in f)throw new Xt('"zip" Header Parameter MUST be integrity protected');if(e&&"zip"in e&&e.zip!=="DEF")throw new n1('only "DEF" compression algorithm is supported');return xa(p,e)&&xa(p,t)}))throw new Xt("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");if(typeof e=="object"&&(a.push(e.alg),c.add(e.enc)),typeof t=="object"&&(a.push(t.alg),c.add(t.enc)),a=a.filter(Boolean),c.delete(void 0),n.length!==1&&(a.includes("dir")||a.includes("ECDH-ES")))throw new Xt("dir and ECDH-ES alg may only be used with a single recipient");if(r){if(a.length!==n.length)throw new Xt("missing Key Management algorithm");if(c.size===0)throw new Xt("missing Content Encryption algorithm");if(c.size!==1)throw new Xt("there must only be one Content Encryption algorithm")}else if(c.size>1)throw new Xt("there must only be one Content Encryption algorithm");return[...c][0]}});var mh=L((Rk,dh)=>{var{deflateRawSync:r1}=require("zlib"),{KEYOBJECT:uh}=Ge(),i1=ds(),Qn=ct(),o1=Tn(),wa=Et(),{createSecretKey:s1}=Qe(),Ea=ua(),ph=Zn(),{JWEInvalid:lh}=$e(),{check:Sa,keyManagementEncrypt:a1,encrypt:c1}=jr(),u1=ya(),p1=va(),l1=_a(),fh=Symbol("PROCESS_RECIPIENT"),Ta=class{constructor(t,n,r,i){if(!Buffer.isBuffer(t)&&typeof t!="string")throw new TypeError("cleartext argument must be a Buffer or a string");if(t=Buffer.from(t),i!==void 0&&!Buffer.isBuffer(i)&&typeof i!="string")throw new TypeError("aad argument must be a Buffer or a string when provided");if(i=i?Buffer.from(i):void 0,n!==void 0&&!wa(n))throw new TypeError("protectedHeader argument must be a plain object when provided");if(r!==void 0&&!wa(r))throw new TypeError("unprotectedHeader argument must be a plain object when provided");this._recipients=[],this._cleartext=t,this._aad=i,this._unprotected=r?Ea(r):void 0,this._protected=n?Ea(n):void 0}recipient(t,n){if(t=o1(t),n!==void 0&&!wa(n))throw new TypeError("header argument must be a plain object when provided");return this._recipients.push({key:t,header:n?Ea(n):void 0}),this}[fh](t){let n=this._unprotected,r=this._protected,{length:i}=this._recipients,a=ce(ce(ce({},r),n),t.header),{key:c}=t,p=a.enc,f=a.alg;if(c.use==="sig")throw new TypeError('a key with "use":"sig" is not usable for encryption');if(f==="dir")Sa(c,"encrypt",p);else if(f)Sa(c,"keyManagementEncrypt",f);else{if(f=c.alg||[...c.algorithms("wrapKey")][0]||[...c.algorithms("deriveKey")][0],f==="ECDH-ES"&&i!==1&&(f=[...c.algorithms("deriveKey")][1]),!f)throw new lh('could not resolve a usable "alg" for a recipient');i===1?r?r.alg=f:this._protected={alg:f}:t.header?t.header.alg=f:t.header={alg:f}}let d,g;c.kty==="oct"&&f==="dir"?this._cek=ph(c[uh],{use:"enc",alg:p}):(Sa(this._cek,"encrypt",p),{wrapped:d,header:g}=a1(f,c,this._cek[uh].export(),{enc:p,alg:f}),f==="ECDH-ES"&&(this._cek=ph(s1(d),{use:"enc",alg:p}))),f==="dir"||f==="ECDH-ES"?t.encrypted_key="":t.encrypted_key=Qn.encodeBuffer(d),g&&(t.generatedHeader=g)}encrypt(t){let n=u1[t];if(!n)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new lh("missing recipients");n.validate(this._protected,this._unprotected,this._aad,this._recipients);let r=l1(this._protected,this._unprotected,this._recipients,!1,this._protected?this._protected.crit:void 0);r||(r="A128CBC-HS256",this._protected?this._protected.enc=r:this._protected={enc:r});let i={};this._cek=p1(r);for(let g of this._recipients)this[fh](g);let a=i1(r);if(i.iv=Qn.encodeBuffer(a),this._recipients.length===1&&this._recipients[0].generatedHeader){let[{generatedHeader:g}]=this._recipients;delete this._recipients[0].generatedHeader,this._protected=ce(ce({},this._protected),g)}this._protected&&(i.protected=Qn.JSON.encode(this._protected)),i.unprotected=this._unprotected;let c;this._aad?(i.aad=Qn.encode(this._aad),c=Buffer.concat([Buffer.from(i.protected||""),Buffer.from("."),Buffer.from(i.aad)])):c=Buffer.from(i.protected||"");let p=this._cleartext;this._protected&&"zip"in this._protected&&(p=r1(p));let{ciphertext:f,tag:d}=c1(r,this._cek,p,{iv:a,aad:c});return i.tag=Qn.encodeBuffer(d),i.ciphertext=Qn.encodeBuffer(f),n(i,this._recipients)}};s(Ta,"Encrypt");dh.exports=Ta});var Fi=L((Mk,gh)=>{var f1=ca();gh.exports=f1});var bh=L((Nk,xh)=>{var{inflateRawSync:d1}=require("zlib"),qt=ct(),m1=Tn(),{KeyStore:g1}=Fi(),Ht=$e(),{check:h1,decrypt:y1,keyManagementDecrypt:hh}=jr(),Oa=Cr(),{createSecretKey:yh}=Qe(),v1=va(),vh=_a(),{detect:x1}=ya(),b1=new Set(["compact","flattened"]),_1=s((e={},t={},n={})=>{typeof e=="string"&&(e=qt.JSON.decode(e));let r=e.p2s||t.p2s||n.p2s,i=e.apu||t.apu||n.apu,a=e.apv||t.apv||n.apv,c=e.iv||t.iv||n.iv,p=e.tag||t.tag||n.tag;return ce(ce(ce(ce(ce(ce(ce(ce({},e),t),n),typeof r=="string"?{p2s:qt.decodeToBuffer(r)}:void 0),typeof i=="string"?{apu:qt.decodeToBuffer(i)}:void 0),typeof a=="string"?{apv:qt.decodeToBuffer(a)}:void 0),typeof c=="string"?{iv:qt.decodeToBuffer(c)}:void 0),typeof p=="string"?{tag:qt.decodeToBuffer(p)}:void 0)},"combineHeader"),Aa=s((e,t,n,r,{crit:i=[],complete:a=!1,algorithms:c}={})=>{if(r=m1(r,!0),c!==void 0&&(!Array.isArray(c)||c.some(re=>typeof re!="string"||!re)))throw new TypeError('"algorithms" option must be an array of non-empty strings');if(c&&(c=new Set(c)),!Array.isArray(i)||i.some(re=>typeof re!="string"||!re))throw new TypeError('"crit" option must be an array of non-empty strings');t||(t=x1(n));let p,f,d,g,y,v,_,x,O,C,T,b;if(t==="general"&&n.recipients.length===1){t="flattened";let z=n,{recipients:re}=z,oe=nn(z,["recipients"]);n=ce(ce({},oe),re[0])}if(b1.has(t)){if(t==="compact"?[_,g,y,f,x]=n.split("."):{protected:_,encrypted_key:g,iv:y,ciphertext:f,tag:x,unprotected:O,aad:T,header:b}=n,e||vh(_,O,[{header:b}],!0,i),v=_1(_,O,b),{alg:p,enc:d}=v,c&&!c.has(p==="dir"?d:p))throw new Ht.JOSEAlgNotWhitelisted("alg not whitelisted");if(r instanceof g1){let le=r,fe;switch(v.alg==="dir"?fe=le.all({kid:v.kid,alg:v.enc,key_ops:["decrypt"]}):fe=le.all({kid:v.kid,alg:v.alg,key_ops:["unwrapKey"]}),fe.length){case 0:throw new Ht.JWKSNoMatchingKey;case 1:r=fe[0];break;default:{let G=[];for(let M of fe)try{return Aa(!0,t,n,M,{crit:i,complete:a,algorithms:c?[...c]:void 0})}catch(B){G.push(B);continue}let j=new Ht.JOSEMultiError(G);throw[...j].some(M=>M instanceof Ht.JWEDecryptionFailed)?new Ht.JWEDecryptionFailed:j}}}h1(r,...p==="dir"?["decrypt",d]:["keyManagementDecrypt",p]);try{if(p==="dir")C=Oa.asKey(r,{alg:d,use:"enc"});else if(p==="ECDH-ES"){let le=hh(p,r,void 0,v);C=Oa.asKey(yh(le),{alg:d,use:"enc"})}else{let le=hh(p,r,qt.decodeToBuffer(g),v);C=Oa.asKey(yh(le),{alg:d,use:"enc"})}}catch(le){C=v1(d)}let re;T?re=Buffer.concat([Buffer.from(_||""),Buffer.from("."),Buffer.from(T)]):re=Buffer.from(_||"");try{y=qt.decodeToBuffer(y)}catch(le){}try{x=qt.decodeToBuffer(x)}catch(le){}let oe=y1(d,C,qt.decodeToBuffer(f),{iv:y,tag:x,aad:re});if(v.zip&&(oe=d1(oe)),a){let le={cleartext:oe,key:r,cek:C};return T&&(le.aad=T),b&&(le.header=b),O&&(le.unprotected=O),_&&(le.protected=qt.JSON.decode(_)),le}return oe}vh(n.protected,n.unprotected,n.recipients.map(({header:re})=>({header:re})),!0,i);let F=n,{recipients:E}=F,S=nn(F,["recipients"]),q=[];for(let re of E)try{return Aa(!0,"flattened",ce(ce({},S),re),r,{crit:i,complete:a,algorithms:c?[...c]:void 0})}catch(oe){q.push(oe);continue}let A=new Ht.JOSEMultiError(q);throw[...A].some(re=>re instanceof Ht.JWEDecryptionFailed)?new Ht.JWEDecryptionFailed:[...A].every(re=>re instanceof Ht.JWKSNoMatchingKey)?new Ht.JWKSNoMatchingKey:A},"jweDecrypt");xh.exports=Aa.bind(void 0,!1,void 0)});var wh=L((Pk,er)=>{var _h=mh(),w1=bh(),Ca=s((e,t,n,r,i,a)=>new _h(t,r,i,a).recipient(n).encrypt(e),"single");er.exports.Encrypt=_h;er.exports.encrypt=Ca.bind(void 0,"compact");er.exports.encrypt.flattened=Ca.bind(void 0,"flattened");er.exports.encrypt.general=Ca.bind(void 0,"general");er.exports.decrypt=w1});var Ia=L((Bk,Ah)=>{var ka=Et(),Nr=qr(),{JWSInvalid:Pr}=$e();Nr=Nr.bind(void 0,Pr);var Eh=s((e,[t])=>`${t.protected}.${e}.${t.signature}`,"compactSerializer");Eh.validate=(e,{0:{unprotectedHeader:t,protectedHeader:n},length:r})=>{if(r!==1||t)throw new Pr("JWS Compact Serialization doesn't support multiple recipients or JWS unprotected headers");Nr(n,t,n?n.crit:void 0)};var Sh=s((e,[t])=>{let{header:n,signature:r,protected:i}=t;return Me(ce(ce({payload:e},i?{protected:i}:void 0),n?{header:n}:void 0),{signature:r})},"flattenedSerializer");Sh.validate=(e,{0:{unprotectedHeader:t,protectedHeader:n},length:r})=>{if(r!==1)throw new Pr("Flattened JWS JSON Serialization doesn't support multiple recipients");Nr(n,t,n?n.crit:void 0)};var Th=s((e,t)=>({payload:e,signatures:t.map(({header:n,signature:r,protected:i})=>Me(ce(ce({},i?{protected:i}:void 0),n?{header:n}:void 0),{signature:r}))}),"generalSerializer");Th.validate=(e,t)=>{let n=!1;if(t.forEach(({protectedHeader:r,unprotectedHeader:i})=>{r&&!n&&"b64"in r&&(n=!0),Nr(r,i,r?r.crit:void 0)}),n&&!t.map(({protectedHeader:i})=>i&&i.b64).every((i,a,[c])=>i===c))throw new Pr('the "b64" Header Parameter value MUST be the same for all recipients')};var E1=s(e=>ka(e)&&(typeof e.payload=="string"||Buffer.isBuffer(e.payload)),"isJSON"),Oh=s(e=>ka(e)&&typeof e.signature=="string"&&(e.header===void 0||ka(e.header))&&(e.protected===void 0||typeof e.protected=="string"),"isValidRecipient"),S1=s(e=>!!(Array.isArray(e.signatures)&&e.signatures.every(Oh)),"isMultiRecipient"),T1=s(e=>{if(typeof e=="string"&&e.split(".").length===3)return"compact";if(E1(e)){if(S1(e))return"general";if(Oh(e))return"flattened"}throw new Pr("JWS malformed or invalid serialization")},"detect");Ah.exports={compact:Eh,flattened:Sh,general:Th,detect:T1}});var jh=L((Lk,Ih)=>{var On=ct(),O1=Hi(),ja=Et(),Ch=ua(),{JWSInvalid:qa}=$e(),{sign:A1}=jr(),C1=Tn(),k1=Ia(),kh=Symbol("PROCESS_RECIPIENT"),Ra=class{constructor(t){if(typeof t=="string")t=On.encode(t);else if(Buffer.isBuffer(t))t=On.encodeBuffer(t),this._binary=!0;else if(ja(t))t=On.JSON.encode(t);else throw new TypeError("payload argument must be a Buffer, string or an object");this._payload=t,this._recipients=[]}recipient(t,n,r){if(t=C1(t),n!==void 0&&!ja(n))throw new TypeError("protectedHeader argument must be a plain object when provided");if(r!==void 0&&!ja(r))throw new TypeError("unprotectedHeader argument must be a plain object when provided");if(!O1(n,r))throw new qa("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");return this._recipients.push({key:t,protectedHeader:n?Ch(n):void 0,unprotectedHeader:r?Ch(r):void 0}),this}[kh](t,n){let{key:r,protectedHeader:i,unprotectedHeader:a}=t;if(r.use==="enc")throw new TypeError('a key with "use":"enc" is not usable for signing');let c={protected:i||{},unprotected:a||{}},p=c.protected.alg||c.unprotected.alg;if(p||(p=r.alg||[...r.algorithms("sign")][0],t.protectedHeader?c.protected.alg=t.protectedHeader.alg=p:c.protected=t.protectedHeader={alg:p}),!p)throw new qa('could not resolve a usable "alg" for a recipient');t.header=a,t.protected=Object.keys(c.protected).length?On.JSON.encode(c.protected):"",n&&c.protected.crit&&c.protected.crit.includes("b64")&&c.protected.b64===!1&&(this._binary?this._payload=On.decodeToBuffer(this._payload):this._payload=On.decode(this._payload));let f=Buffer.concat([Buffer.from(t.protected||""),Buffer.from("."),Buffer.from(this._payload)]);t.signature=On.encodeBuffer(A1(p,r,f))}sign(t){let n=k1[t];if(!n)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new qa("missing recipients");return n.validate(this,this._recipients),this._recipients.forEach((r,i)=>{this[kh](r,i===0)}),n(this._payload,this._recipients)}};s(Ra,"Sign");Ih.exports=Ra});var Pa=L((Dk,qh)=>{var{EOL:Ma}=require("os"),Ji=ct(),I1=Hi(),j1=Et(),Na=qr(),q1=Tn(),{KeyStore:R1}=Fi(),et=$e(),{check:M1,verify:N1}=jr(),Wi=Cr(),{detect:P1}=Ia();Na=Na.bind(void 0,et.JWSInvalid);var B1=new Set(["compact","flattened","preparsed"]),Vi=s((e,t,n,r,{crit:i=[],complete:a=!1,algorithms:c,parse:p=!0,encoding:f="utf8"}={})=>{if(r=q1(r,!0),c!==void 0&&(!Array.isArray(c)||c.some(q=>typeof q!="string"||!q)))throw new TypeError('"algorithms" option must be an array of non-empty strings');if(c&&(c=new Set(c)),!Array.isArray(i)||i.some(q=>typeof q!="string"||!q))throw new TypeError('"crit" option must be an array of non-empty strings');t||(t=P1(n));let d,g,y,v,_;if(t==="general"&&n.signatures.length===1){t="flattened";let E=n,{signatures:q}=E,A=nn(E,["signatures"]);n=ce(ce({},A),q[0])}let x;if(B1.has(t)){let q={};switch(t){case"compact":[d,y,v]=n.split(".");break;case"flattened":({protected:d,payload:y,signature:v,header:g}=n);break;case"preparsed":{({decoded:x}=n),[d,y,v]=n.token.split(".");break}}if(g||(e=!0),x)q=x.header;else if(d)try{q=Ji.JSON.decode(d)}catch(F){throw new et.JWSInvalid("could not parse JWS protected header")}else e=e||!0;if(!e&&!I1(q,g))throw new et.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let A=ce(ce({},q),g);if(Na(q,g,i),_=q.alg||g&&g.alg,_){if(c&&!c.has(_))throw new et.JOSEAlgNotWhitelisted("alg not whitelisted")}else throw new et.JWSInvalid("missing JWS signature algorithm");if(r instanceof R1){let re=r.all({kid:A.kid,alg:A.alg,key_ops:["verify"]});switch(re.length){case 0:throw new et.JWKSNoMatchingKey;case 1:r=re[0];break;default:{let oe=[];for(let fe of re)try{return Vi(!0,t,n,fe,{crit:i,complete:a,encoding:f,parse:p,algorithms:c?[...c]:void 0})}catch(G){oe.push(G);continue}let le=new et.JOSEMultiError(oe);throw[...le].some(fe=>fe instanceof et.JWSVerificationFailed)?new et.JWSVerificationFailed:le}}}if(r===Wi.EmbeddedJWK){if(!j1(A.jwk))throw new et.JWSInvalid('JWS Header Parameter "jwk" must be a JSON object');if(r=Wi.asKey(A.jwk),r.type!=="public")throw new et.JWSInvalid('JWS Header Parameter "jwk" must be a public key')}else if(r===Wi.EmbeddedX5C){if(!Array.isArray(A.x5c)||!A.x5c.length||A.x5c.some(F=>typeof F!="string"||!F))throw new et.JWSInvalid('JWS Header Parameter "x5c" must be a JSON array of certificate value strings');r=Wi.asKey(`-----BEGIN CERTIFICATE-----${Ma}${(A.x5c[0].match(/.{1,64}/g)||[]).join(Ma)}${Ma}-----END CERTIFICATE-----`,{x5c:A.x5c})}M1(r,"verify",_);let z=Buffer.concat([Buffer.from(d||""),Buffer.from("."),Buffer.isBuffer(y)?y:Buffer.from(y)]);if(!N1(_,r,z,Ji.decodeToBuffer(v)))throw new et.JWSVerificationFailed;if((!A.crit||!A.crit.includes("b64")||A.b64)&&(p?y=x?x.payload:Ji.JSON.decode.try(y,f):y=Ji.decodeToBuffer(y)),a){let F={payload:y,key:r};return d&&(F.protected=q),g&&(F.header=g),F}return y}let S=n,{signatures:O}=S,C=nn(S,["signatures"]),T=[];for(let q of O)try{return Vi(!1,"flattened",ce(ce({},C),q),r,{crit:i,complete:a,encoding:f,parse:p,algorithms:c?[...c]:void 0})}catch(A){T.push(A);continue}let b=new et.JOSEMultiError(T);throw[...b].some(q=>q instanceof et.JWSVerificationFailed)?new et.JWSVerificationFailed:[...b].every(q=>q instanceof et.JWKSNoMatchingKey)?new et.JWKSNoMatchingKey:b},"jwsVerify");qh.exports={bare:Vi,verify:Vi.bind(void 0,!1,void 0)}});var La=L((Kk,tr)=>{var Rh=jh(),{verify:L1}=Pa(),Ba=s((e,t,n,r,i)=>new Rh(t).recipient(n,r,i).sign(e),"single");tr.exports.Sign=Rh;tr.exports.sign=Ba.bind(void 0,"compact");tr.exports.sign.flattened=Ba.bind(void 0,"flattened");tr.exports.sign.general=Ba.bind(void 0,"general");tr.exports.verify=L1});var Da=L((Uk,Ph)=>{var Mh=ct(),Nh=$e();Ph.exports=(e,{complete:t=!1}={})=>{if(typeof e!="string"||!e)throw new TypeError("JWT must be a string");let{0:n,1:r,2:i,length:a}=e.split(".");if(a===5)throw new TypeError("JWTs must be decrypted first");if(a!==3)throw new Nh.JWTMalformed("JWTs must have three components");try{let c={header:Mh.JSON.decode(n),payload:Mh.JSON.decode(r),signature:i};return t?c:c.payload}catch(c){throw new Nh.JWTMalformed("JWT is malformed")}}});var Ua=L(($k,Dh)=>{var Bh=60,Lh=Bh*60,Ka=Lh*24,D1=Ka*7,K1=Ka*365.25,U1=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;Dh.exports=e=>{let t=U1.exec(e);if(!t)throw new TypeError(`invalid time period format ("${e}")`);let n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(n*Bh);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(n*Lh);case"day":case"days":case"d":return Math.round(n*Ka);case"week":case"weeks":case"w":return Math.round(n*D1);case"year":case"years":case"yr":case"yrs":case"y":return Math.round(n*K1)}}});var $a=L((zk,Kh)=>{Kh.exports=e=>Math.floor(e.getTime()/1e3)});var Ha=L((Hk,za)=>{var Uh=s(e=>typeof e!="string"||e.length===0,"isNotString");za.exports.isNotString=Uh;za.exports.isString=s(function(t,n,r,i,a=!1){if(a&&n===void 0)throw new t(`${r} is missing`,i,"missing");if(n!==void 0&&Uh(n))throw new t(`${r} must be a string`,i,"invalid")},"isString")});var Hh=L((Fk,zh)=>{var Fa=Et(),$h=Ua(),$1=$a(),z1=Tn(),H1=La(),An=Ha().isString.bind(void 0,TypeError),F1=s(e=>{if(typeof e.iat!="boolean")throw new TypeError("options.iat must be a boolean");if(typeof e.kid!="boolean")throw new TypeError("options.kid must be a boolean");if(An(e.subject,"options.subject"),An(e.issuer,"options.issuer"),e.audience!==void 0&&(typeof e.audience!="string"||!e.audience)&&(!Array.isArray(e.audience)||e.audience.length===0||e.audience.some(t=>!t||typeof t!="string")))throw new TypeError("options.audience must be a string or an array of strings");if(!Fa(e.header))throw new TypeError("options.header must be an object");if(An(e.algorithm,"options.algorithm"),An(e.expiresIn,"options.expiresIn"),An(e.notBefore,"options.notBefore"),An(e.jti,"options.jti"),An(e.nonce,"options.nonce"),e.now!==void 0&&(!(e.now instanceof Date)||!e.now.getTime()))throw new TypeError("options.now must be a valid Date object")},"validateOptions");zh.exports=(e,t,n={})=>{if(!Fa(n))throw new TypeError("options must be an object");let{algorithm:r,audience:i,expiresIn:a,header:c={},iat:p=!0,issuer:f,jti:d,kid:g=!0,nonce:y,notBefore:v,subject:_,now:x}=n;if(F1({algorithm:r,audience:i,expiresIn:a,header:c,iat:p,issuer:f,jti:d,kid:g,nonce:y,notBefore:v,now:x,subject:_}),!Fa(e))throw new TypeError("payload must be an object");let O;(a||v||p)&&(O=$1(x||new Date)),e=Me(ce({},e),{sub:_||e.sub,aud:i||e.aud,iss:f||e.iss,jti:d||e.jti,iat:p?O:e.iat,nonce:y||e.nonce,exp:a?O+$h(a):e.exp,nbf:v?O+$h(v):e.nbf}),t=z1(t);let C;return typeof n.kid=="boolean"?C=g:C=!t.secret,H1.sign(JSON.stringify(e),t,Me(ce({},c),{alg:r||c.alg,kid:C?t.kid:c.kid}))}});var Ga=L((Jk,Gh)=>{var Ja=Et(),J1=$a(),Wa=Ua(),W1=Tn(),{bare:Fh}=Pa(),{JWTClaimInvalid:He,JWTExpired:Jh}=$e(),{isString:Wh,isNotString:Gi}=Ha(),V1=Da(),Zt=Wh.bind(void 0,He),gn=Wh.bind(void 0,TypeError),nr="id_token",Yi="logout_token",Cn="at+JWT",Xi=s((e,t,n=!1)=>{if(n&&e===void 0)throw new He(`"${t}" claim is missing`,t,"missing");if(e!==void 0&&typeof e!="number")throw new He(`"${t}" claim must be a JSON numeric value`,t,"invalid")},"isTimestamp"),Va=s((e,t,n=!1)=>{if(n&&e===void 0)throw new He(`"${t}" claim is missing`,t,"missing");if(e!==void 0&&Gi(e)&&Br(e))throw new He(`"${t}" claim must be a string or array of strings`,t,"invalid")},"isStringOrArrayOfStrings"),Br=s(e=>!Array.isArray(e)||e.length===0||e.some(Gi),"isNotArrayOfStrings"),Vh=s(e=>e.toLowerCase().replace(/^application\//,""),"normalizeTyp"),G1=s(({algorithms:e,audience:t,clockTolerance:n,complete:r=!1,crit:i,ignoreExp:a=!1,ignoreIat:c=!1,ignoreNbf:p=!1,issuer:f,jti:d,maxAuthAge:g,maxTokenAge:y,nonce:v,now:_=new Date,profile:x,subject:O,typ:C})=>{if(gn(x,"options.profile"),typeof r!="boolean")throw new TypeError("options.complete must be a boolean");if(typeof a!="boolean")throw new TypeError("options.ignoreExp must be a boolean");if(typeof p!="boolean")throw new TypeError("options.ignoreNbf must be a boolean");if(typeof c!="boolean")throw new TypeError("options.ignoreIat must be a boolean");if(gn(y,"options.maxTokenAge"),gn(O,"options.subject"),gn(g,"options.maxAuthAge"),gn(d,"options.jti"),gn(n,"options.clockTolerance"),gn(C,"options.typ"),f!==void 0&&Gi(f)&&Br(f))throw new TypeError("options.issuer must be a string or an array of strings");if(t!==void 0&&Gi(t)&&Br(t))throw new TypeError("options.audience must be a string or an array of strings");if(e!==void 0&&Br(e))throw new TypeError("options.algorithms must be an array of strings");if(gn(v,"options.nonce"),!(_ instanceof Date)||!_.getTime())throw new TypeError("options.now must be a valid Date object");if(c&&y!==void 0)throw new TypeError("options.ignoreIat and options.maxTokenAge cannot used together");if(i!==void 0&&Br(i))throw new TypeError("options.crit must be an array of strings");switch(x){case nr:if(!f)throw new TypeError('"issuer" option is required to validate an ID Token');if(!t)throw new TypeError('"audience" option is required to validate an ID Token');break;case Cn:if(!f)throw new TypeError('"issuer" option is required to validate a JWT Access Token');if(!t)throw new TypeError('"audience" option is required to validate a JWT Access Token');C=Cn;break;case Yi:if(!f)throw new TypeError('"issuer" option is required to validate a Logout Token');if(!t)throw new TypeError('"audience" option is required to validate a Logout Token');break;case void 0:break;default:throw new TypeError(`unsupported options.profile value "${x}"`)}return{algorithms:e,audience:t,clockTolerance:n,complete:r,crit:i,ignoreExp:a,ignoreIat:c,ignoreNbf:p,issuer:f,jti:d,maxAuthAge:g,maxTokenAge:y,nonce:v,now:_,profile:x,subject:O,typ:C}},"validateOptions"),Y1=s(({header:e,payload:t},n,r)=>{if(Zt(e.alg,'"alg" header parameter',"alg",!0),Xi(t.iat,"iat",n===nr||n===Yi||n===Cn||!!r.maxTokenAge),Xi(t.exp,"exp",n===nr||n===Cn),Xi(t.auth_time,"auth_time",!!r.maxAuthAge),Xi(t.nbf,"nbf"),Zt(t.jti,'"jti" claim',"jti",n===Yi||n===Cn||!!r.jti),Zt(t.acr,'"acr" claim',"acr"),Zt(t.nonce,'"nonce" claim',"nonce",!!r.nonce),Va(t.iss,"iss",!!r.issuer),Zt(t.sub,'"sub" claim',"sub",n===nr||n===Cn||!!r.subject),Va(t.aud,"aud",!!r.audience),Zt(t.azp,'"azp" claim',"azp",n===nr&&Array.isArray(t.aud)&&t.aud.length>1),Va(t.amr,"amr"),Zt(e.typ,'"typ" header parameter',"typ",!!r.typ),n===Cn&&Zt(t.client_id,'"client_id" claim',"client_id",!0),n===Yi){if(Zt(t.sid,'"sid" claim',"sid"),!("sid"in t)&&!("sub"in t))throw new He('either "sid" or "sub" (or both) claims must be present');if("nonce"in t)throw new He('"nonce" claim is prohibited',"nonce","prohibited");if(!("events"in t))throw new He('"events" claim is missing',"events","missing");if(!Ja(t.events))throw new He('"events" claim must be an object',"events","invalid");if(!("http://schemas.openid.net/event/backchannel-logout"in t.events))throw new He('"http://schemas.openid.net/event/backchannel-logout" member is missing in the "events" claim',"events","invalid");if(!Ja(t.events["http://schemas.openid.net/event/backchannel-logout"]))throw new He('"http://schemas.openid.net/event/backchannel-logout" member in the "events" claim must be an object',"events","invalid")}},"validateTypes"),X1=s((e,t,n)=>typeof e=="string"?t.includes(e):(e=new Set(e),t.some(Set.prototype.has.bind(e))),"checkAudiencePresence");Gh.exports=(e,t,n={})=>{if(!Ja(n))throw new TypeError("options must be an object");let{algorithms:r,audience:i,clockTolerance:a,complete:c,crit:p,ignoreExp:f,ignoreIat:d,ignoreNbf:g,issuer:y,jti:v,maxAuthAge:_,maxTokenAge:x,nonce:O,now:C,profile:T,subject:b,typ:E}=n=G1(n),S=V1(e,{complete:!0});t=W1(t,!0),c?({key:t}=Fh(!0,"preparsed",{decoded:S,token:e},t,{crit:p,algorithms:r,complete:!0}),S.key=t):Fh(!0,"preparsed",{decoded:S,token:e},t,{crit:p,algorithms:r});let q=J1(C);if(Y1(S,T,n),y&&(typeof S.payload.iss!="string"||!(typeof y=="string"?[y]:y).includes(S.payload.iss)))throw new He('unexpected "iss" claim value',"iss","check_failed");if(O&&S.payload.nonce!==O)throw new He('unexpected "nonce" claim value',"nonce","check_failed");if(b&&S.payload.sub!==b)throw new He('unexpected "sub" claim value',"sub","check_failed");if(v&&S.payload.jti!==v)throw new He('unexpected "jti" claim value',"jti","check_failed");if(i&&!X1(S.payload.aud,typeof i=="string"?[i]:i,T))throw new He('unexpected "aud" claim value',"aud","check_failed");if(E&&Vh(S.header.typ)!==Vh(E))throw new He('unexpected "typ" JWT header value',"typ","check_failed");let A=a?Wa(a):0;if(_){let z=Wa(_);if(S.payload.auth_time+z<q-A)throw new He('"auth_time" claim timestamp check failed (too much time has elapsed since the last End-User authentication)',"auth_time","check_failed")}if(!d&&!("exp"in S.payload)&&"iat"in S.payload&&S.payload.iat>q+A)throw new He('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed");if(!g&&"nbf"in S.payload&&S.payload.nbf>q+A)throw new He('"nbf" claim timestamp check failed',"nbf","check_failed");if(!f&&"exp"in S.payload&&S.payload.exp<=q-A)throw new Jh('"exp" claim timestamp check failed',"exp","check_failed");if(x){let z=q-S.payload.iat,F=Wa(x);if(z-A>F)throw new Jh('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(z<0-A)throw new He('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(T===nr&&Array.isArray(S.payload.aud)&&S.payload.aud.length>1&&S.payload.azp!==i)throw new He('unexpected "azp" claim value',"azp","check_failed");return c?S:S.payload}});var Xh=L((Wk,Yh)=>{var Ya=Ga();Yh.exports={IdToken:{verify:(e,t,n)=>Ya(e,t,Me(ce({},n),{profile:"id_token"}))},LogoutToken:{verify:(e,t,n)=>Ya(e,t,Me(ce({},n),{profile:"logout_token"}))},AccessToken:{verify:(e,t,n)=>Ya(e,t,Me(ce({},n),{profile:"at+JWT"}))}}});var Qh=L((Vk,Zh)=>{var Z1=Da(),Q1=Hh(),eO=Ga(),tO=Xh();Zh.exports=ce({decode:Z1,sign:Q1,verify:eO},tO)});var ty=L((Gk,ey)=>{ey.exports={JWE:wh(),JWK:Cr(),JWKS:Fi(),JWS:La(),JWT:Qh(),errors:$e()}});var ny=L(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.setLogger=nO;rr.proxyLogger=iO;rr.default=void 0;var kn={error(e,...t){console.error(`[next-auth][error][${e.toLowerCase()}]`,`
https://next-auth.js.org/errors#${e.toLowerCase()}`,...t)},warn(e,...t){console.warn(`[next-auth][warn][${e.toLowerCase()}]`,`
https://next-auth.js.org/warnings#${e.toLowerCase()}`,...t)},debug(e,...t){var n,r;!((n=process)!==null&&n!==void 0&&(r=n.env)!==null&&r!==void 0&&r._NEXTAUTH_DEBUG)||console.log(`[next-auth][debug][${e.toLowerCase()}]`,...t)}};function nO(e={}){e.error&&(kn.error=e.error),e.warn&&(kn.warn=e.warn),e.debug&&(kn.debug=e.debug)}s(nO,"setLogger");var rO=kn;rr.default=rO;function iO(e=kn,t){try{if(typeof window=="undefined")return e;let n={};for(let r in e)n[r]=(i,...a)=>{kn[r](i,...a);let c=`${t}/_log`,p=new URLSearchParams({level:r,code:i,message:JSON.stringify(a.map(f=>f instanceof Error?{name:f.name,message:f.message,stack:f.stack}:f))});return navigator.sendBeacon?navigator.sendBeacon(c,p):fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:p})};return n}catch(n){return kn}}s(iO,"proxyLogger")});var py=L((Xk,uy)=>{"use strict";var{createHash:oO,createHmac:ry}=require("crypto"),iy={},oy=s(e=>{switch(e){case"sha256":return 32;case"sha512":return 64;case"sha224":return 28;case"sha384":return 48;case"sha3-256":return 32;case"sha3-512":return 64;case"sha3-224":return 28;case"sha3-384":return 48;case"blake2s256":return 32;case"blake2b512":return 64;case"sha1":return 20;case"md5":return 16;default:{let t=iy[e];return t===void 0&&(t=oO(e).digest().length,iy[e]=t),t}}},"hash_length"),sy=s((e,t,n,r)=>{let i=Buffer.isBuffer(n)?n:Buffer.from(n),a=r&&r.length?Buffer.from(r):Buffer.alloc(t,0);return ry(e,a).update(i).digest()},"hkdf_extract"),ay=s((e,t,n,r,i)=>{let a=Buffer.from(i||""),c=a.length,p=Math.ceil(r/t);if(p>255)throw new Error(`OKM length ${r} is too long for ${e} hash`);let f=Buffer.alloc(t*p+c+1);for(let d=1,g=0,y=0;d<=p;++d)a.copy(f,y),f[y+c]=d,ry(e,n).update(f.slice(g,y+c+1)).digest().copy(f,y),g=y,y+=t;return f.slice(0,r)},"hkdf_expand");function cy(e,t,{salt:n="",info:r="",hash:i="SHA-256"}={}){i=i.toLowerCase().replace("-","");let a=oy(i),c=sy(i,a,e,n);return ay(i,a,c,t,r)}s(cy,"hkdf");Object.defineProperties(cy,{hash_length:{configurable:!1,enumerable:!1,writable:!1,value:oy},extract:{configurable:!1,enumerable:!1,writable:!1,value:sy},expand:{configurable:!1,enumerable:!1,writable:!1,value:ay}});uy.exports=cy});var ec=L(In=>{"use strict";var Xa=pf();Object.defineProperty(In,"__esModule",{value:!0});In.encode=hy;In.decode=Qa;In.getToken=yy;In.default=void 0;var ly=Xa(require("crypto")),Ft=Xa(ty()),fy=Xa(ny()),dy="HS512",Za="A256GCM",my=!1,gy=30*24*60*60;async function hy({token:e={},maxAge:t=gy,secret:n,signingKey:r,signingOptions:i={expiresIn:`${t}s`},encryptionKey:a,encryptionOptions:c={alg:"dir",enc:Za,zip:"DEF"},encryption:p=my}={}){let f=r?Ft.default.JWK.asKey(JSON.parse(r)):_y(n),d=Ft.default.JWT.sign(e,f,i);if(p){let g=a?Ft.default.JWK.asKey(JSON.parse(a)):wy(n);return Ft.default.JWE.encrypt(d,g,c)}return d}s(hy,"encode");async function Qa({secret:e,token:t,maxAge:n=gy,signingKey:r,verificationKey:i=r,verificationOptions:a={maxTokenAge:`${n}s`,algorithms:[dy]},encryptionKey:c,decryptionKey:p=c,decryptionOptions:f={algorithms:[Za]},encryption:d=my}={}){if(!t)return null;let g=t;if(d){let v=p?Ft.default.JWK.asKey(JSON.parse(p)):wy(e);g=Ft.default.JWE.decrypt(t,v,f).toString("utf8")}let y=i?Ft.default.JWK.asKey(JSON.parse(i)):_y(e);return Ft.default.JWT.verify(g,y,a)}s(Qa,"decode");async function yy(e){var t;let{req:n,secureCookie:r=!(!process.env.NEXTAUTH_URL||process.env.NEXTAUTH_URL.startsWith("http://")),cookieName:i=r?"__Secure-next-auth.session-token":"next-auth.session-token",raw:a=!1,decode:c=Qa}=e;if(!n)throw new Error("Must pass `req` to JWT getToken()");let p=n.cookies[i];if(!p&&((t=n.headers.authorization)===null||t===void 0?void 0:t.split(" ")[0])==="Bearer"){let f=n.headers.authorization.split(" ")[1];p=decodeURIComponent(f)}if(a)return p;try{return c(ce({token:p},e))}catch(f){return null}}s(yy,"getToken");var vy=!1,xy=!1;function by(e,{byteLength:t,encryptionInfo:n,digest:r="sha256"}){return ly.default.hkdfSync?Buffer.from(ly.default.hkdfSync(r,e,Buffer.alloc(0),n,t)):py()(e,t,{info:n,hash:r})}s(by,"hkdf");function _y(e){vy||(fy.default.warn("JWT_AUTO_GENERATED_SIGNING_KEY"),vy=!0);let t=by(e,{byteLength:64,encryptionInfo:"NextAuth.js Generated Signing Key"});return Ft.default.JWK.asKey(t,{alg:dy,use:"sig",kid:"nextauth-auto-generated-signing-key"})}s(_y,"getDerivedSigningKey");function wy(e){xy||(fy.default.warn("JWT_AUTO_GENERATED_ENCRYPTION_KEY"),xy=!0);let t=by(e,{byteLength:32,encryptionInfo:"NextAuth.js Generated Encryption Key"});return Ft.default.JWK.asKey(t,{alg:Za,use:"enc",kid:"nextauth-auto-generated-encryption-key"})}s(wy,"getDerivedEncryptionKey");var sO={encode:hy,decode:Qa,getToken:yy};In.default=sO});hv(exports,{handler:()=>mO});var Ny=rn(us()),Qi=rn(nf());var rf=s(e=>async t=>{try{let n=await e(t);return n==null?{statusCode:404}:typeof n=="string"?{statusCode:of(t),body:n,headers:{"content-type":"text/plain"}}:gw(n)?n:{statusCode:of(t),headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify(n)}}catch(n){return console.error(n),{statusCode:500,json:{name:n.name,message:n.message,stack:n.stack}}}},"default");function gw(e){return!!e.statusCode||!!e.json}s(gw,"isFullReturnObject");function of(e){switch(e.routeKey.split(" ")[0]){case"PUT":case"DELETE":return 202;case"POST":return 201}return 200}s(of,"okStatusCodeFor");var ls=rn(us());function ps(){return Math.round(Date.now()/1e3)}s(ps,"timestamp");var hw=["users","userkeys","permissions","workspaces","pads","workspaceroles","invites"],yw=["userkeys","permissions","tags","usertaggedresources"],sf;async function _n(){return sf||new Promise((t,n)=>{ls.default.tables().then(r=>{let i=r;for(let a of hw)xw(i,a);for(let a of yw)vw(i,a);t(i)}).catch(n)})}s(_n,"tables");function vw(e,t){let n=e[t];if(!n)throw new Error("No table named "+t);if(!n.__deci_observed__){n.__deci_observed__=!0;for(let r of["put","delete"]){let i=r==="put"?n.put:n.delete,a=s(async c=>{let p=await i.call(n,c);return await ls.default.queues.publish({name:`${t}-changes`,payload:{table:t,action:r,args:c}}),p},"replaceMethod");r==="put"?n.put=a:n.delete=a}}}s(vw,"observe");function xw(e,t){let n=e[t];if(!n)throw new Error("No table named "+t);typeof n.create!="function"&&(n.create=s(async function(i){return i.createdAt||(i.createdAt=ps()),n.put(i)},"create"))}s(xw,"enhance");var Sy=rn(uf()),Ty=rn(ec());var tc=rn(ec()),aO=30*24*60*60,Ey={secret:process.env.JWT_SECRET,signingKey:Buffer.from(process.env.JWT_SIGNING_PRIVATE_KEY,"base64").toString(),maxAge:aO,encode:tc.default.encode,decode:tc.default.decode};var Oy=["next-auth.session-token","__Secure-next-auth.session-token"];async function cO(e){let{token:t,gotFromSecProtocolHeader:n}=uO(e),r=null,i=null;if(t){let{decode:c}=Ty.default;try{let p=await c(Me(ce({},Ey),{token:t}));if(p.accessToken){let f=await lO(p.accessToken);if(f){let a=f,{secret:d}=a,g=nn(a,["secret"]);i=d,r=g}}}catch(p){console.error(p.message)}}return{user:r,token:t,secret:i,gotFromSecProtocolHeader:n}}s(cO,"auth");function uO(e){let t=!1,n=pO(e.headers.Cookie||e.cookies||[]),r=n[Oy[0]]||n[Oy[1]]||e.headers.authorization||e.headers.Authorization;return r||(r=e.headers["sec-websocket-protocol"]||e.headers["Sec-WebSocket-Protocol"],r&&(t=!0)),r&&r.startsWith("Bearer ")&&(r=r.substring("Bearer ".length)),{token:r,gotFromSecProtocolHeader:t}}s(uO,"getSessionToken");function pO(e){return e||(e=[]),Array.isArray(e)||(e=[e]),e.reduce((t,n)=>{let{name:r,value:i}=(0,Sy.parse)(n);return t[r]=i,t},{})}s(pO,"parseCookies");async function lO(e){return(await(await _n()).users.query({IndexName:"bySecret",KeyConditionExpression:"secret = :secret",ExpressionAttributeValues:{":secret":e}})).Items[0]}s(lO,"findUserByAccessToken");var Ay=cO;async function Cy(e,t,n="READ"){return e.endsWith("/")&&(e=e.substring(0,e.length-1)),(await(await _n()).permissions.query({IndexName:"byResourceAndUser",KeyConditionExpression:"user_id = :user_id and resource_uri = :resource_uri",ExpressionAttributeValues:{":user_id":t.id,":resource_uri":e}})).Items.some(fO(n))}s(Cy,"isAuthorized");function fO(e){return t=>e==="READ"?!0:e==="WRITE"?t.type==="WRITE"||t.type==="ADMIN":t.type===e}s(fO,"isEnoughPermissionFor");function ky(e){let t=(e||"").replace(/:/g,"/");return t.startsWith("/")||(t="/"+t),t}s(ky,"decode");var Iy=rn(require("aws-sdk/clients/s3")),Zi=rn(require("assert")),dO={endpoint:process.env.DECI_S3_ENDPOINT||"localhost:4568",accessKeyId:process.env.DECI_S3_ACCESS_KEY_ID||Zi.default.fail("DECI_S3_ACCESS_KEY_ID env var must be defined"),secretAccessKey:process.env.DECI_S3_SECRET_ACCESS_KEY||Zi.default.fail("DECI_S3_SECRET_ACCESS_KEY env var must be defined"),sslEnabled:process.env.NODE_ENV!=="testing",s3ForcePathStyle:!0,signatureVersion:"v4"},nc=process.env.DECI_S3_PADS_BUCKET||Zi.default.fail("DECI_S3_PADS_BUCKET env var must be defined"),jy=new Iy.default(dO);function qy(e,t){let n=Buffer.from(t,"utf-8"),r=My(e),i={Bucket:nc,Key:r,Body:n};return jy.putObject(i).promise().catch(a=>{throw console.log(`Error putting ${e} in ${nc}:`,a),a})}s(qy,"put");function Ry(e){let t={Bucket:nc,Key:My(e)};return jy.getObject(t).promise().catch(n=>{if(n.statusCode===404||n.statusCode===403)return null;throw console.log(`Error getting ${e}:`,n),n}).then(n=>(n==null?void 0:n.Body)?n.Body.toString("utf-8"):null)}s(Ry,"get");function My(e){return encodeURIComponent(e)}s(My,"encodeId");var mO=rf(async e=>{var p;let t=ky((p=e.pathParameters)==null?void 0:p.id),{user:n}=await Ay(e);if(!n||!await Cy(t,n,"WRITE"))return{status:403,body:"Forbidden"};let r=await Ry(t);if(!r)return{statusCode:404};let i=Qi.default.load(r);if(!e.body)return{statusCode:401,body:"Need some changes"};let a=e.isBase64Encoded?Buffer.from(e.body,"base64").toString():e.body,c=JSON.parse(a);if(c.length>0){let f=Qi.default.applyChanges(i,c);r=Qi.default.save(f),await qy(t,r);let g=await(await _n()).collabs.query({IndexName:"room-index",KeyConditionExpression:"room = :room",ExpressionAttributeValues:{":room":t}});for(let y of g.Items)try{await Ny.default.ws.send({id:y.conn,payload:{o:"c",t,c}})}catch(v){console.error(v)}}return{ok:!0}});0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
