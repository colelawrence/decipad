var jk=Object.create;var on=Object.defineProperty,Nk=Object.defineProperties,Mk=Object.getOwnPropertyDescriptor,Bk=Object.getOwnPropertyDescriptors,Dk=Object.getOwnPropertyNames,Ks=Object.getOwnPropertySymbols,Kk=Object.getPrototypeOf,Bc=Object.prototype.hasOwnProperty,ih=Object.prototype.propertyIsEnumerable;var sh=(t,e,r)=>e in t?on(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,b=(t,e)=>{for(var r in e||(e={}))Bc.call(e,r)&&sh(t,r,e[r]);if(Ks)for(var r of Ks(e))ih.call(e,r)&&sh(t,r,e[r]);return t},j=(t,e)=>Nk(t,Bk(e)),ah=t=>on(t,"__esModule",{value:!0}),o=(t,e)=>on(t,"name",{value:e,configurable:!0});var cn=(t,e)=>{var r={};for(var n in t)Bc.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Ks)for(var n of Ks(t))e.indexOf(n)<0&&ih.call(t,n)&&(r[n]=t[n]);return r};var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Fk=(t,e)=>{ah(t);for(var r in e)on(t,r,{get:e[r],enumerable:!0})},Lk=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Dk(e))!Bc.call(t,n)&&n!=="default"&&on(t,n,{get:()=>e[n],enumerable:!(r=Mk(e,n))||r.enumerable});return t},un=t=>Lk(ah(on(t!=null?jk(Kk(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var oh=m((EJ,Si)=>{function Hk(t){return t&&t.__esModule?t:{default:t}}o(Hk,"_interopRequireDefault");Si.exports=Hk;Si.exports.default=Si.exports,Si.exports.__esModule=!0});var Y=m((wJ,et)=>{et.exports.KEYOBJECT=Symbol("KEYOBJECT");et.exports.PRIVATE_MEMBERS=Symbol("PRIVATE_MEMBERS");et.exports.PUBLIC_MEMBERS=Symbol("PUBLIC_MEMBERS");et.exports.THUMBPRINT_MATERIAL=Symbol("THUMBPRINT_MATERIAL");et.exports.JWK_MEMBERS=Symbol("JWK_MEMBERS");et.exports.KEY_MANAGEMENT_ENCRYPT=Symbol("KEY_MANAGEMENT_ENCRYPT");et.exports.KEY_MANAGEMENT_DECRYPT=Symbol("KEY_MANAGEMENT_DECRYPT");var Fs={sig:new Set(["sign","verify"]),enc:new Set(["encrypt","decrypt","wrapKey","unwrapKey","deriveKey"])},Uk=new Set([...Fs.sig,...Fs.enc]),$k=new Set(Object.keys(Fs));et.exports.USES_MAPPING=Fs;et.exports.OPS=Uk;et.exports.USES=$k});var Pr=m((TJ,Dc)=>{var{deprecate:Jk}=require("util"),Wk=Jk(()=>{},'"P-256K" EC curve name is deprecated');Dc.exports={name:"secp256k1",rename(t){t!=="secp256k1"&&Wk(),Dc.exports.name=t}}});var uh=m((OJ,ch)=>{var{getCurves:Ls}=require("crypto"),{name:zk}=Pr(),Ei=new Set;Ls().includes("prime256v1")&&Ei.add("P-256");Ls().includes("secp256k1")&&Ei.add(zk);Ls().includes("secp384r1")&&Ei.add("P-384");Ls().includes("secp521r1")&&Ei.add("P-521");ch.exports=Ei});var lh=m((kJ,ph)=>{ph.exports=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]])});var fh=m((qJ,dh)=>{dh.exports={sign:new Map,verify:new Map,keyManagementEncrypt:new Map,keyManagementDecrypt:new Map,encrypt:new Map,decrypt:new Map}});var hh=m((CJ,mh)=>{mh.exports={oct:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},EC:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},RSA:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},OKP:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}}}});var gh=m((IJ,vh)=>{vh.exports=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]])});var _h=m((PJ,yh)=>{var Hs=new Set(["Ed25519"]);"electron"in process.versions||(Hs.add("Ed448"),Hs.add("X25519"),Hs.add("X448"));yh.exports=Hs});var xh=m((RJ,bh)=>{bh.exports=new Map});var mt=m((AJ,Sh)=>{var Gk=uh(),Yk=lh(),Vk=fh(),Xk=hh(),Zk=gh(),Qk=_h(),eq=xh();Sh.exports={EC_CURVES:Gk,ECDH_DERIVE_LENGTHS:eq,IVLENGTHS:Yk,JWA:Vk,JWK:Xk,KEYLENGTHS:Zk,OKP_CURVES:Qk}});var Kc=m((jJ,Eh)=>{var{randomBytes:tq}=require("crypto"),{IVLENGTHS:rq}=mt();Eh.exports=t=>tq(rq.get(t)/8)});var ye=m((NJ,Rr)=>{var wh=o(t=>t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),"fromBase64"),Th=o((t,e="utf8")=>wh(Buffer.from(t,e).toString("base64")),"encode"),Oh=o(t=>wh(t.toString("base64")),"encodeBuffer"),kh=o(t=>Buffer.from(t,"base64"),"decodeToBuffer"),Fc=o((t,e="utf8")=>kh(t).toString(e),"decode"),Lc={encode:t=>Th(JSON.stringify(t)),decode:(t,e="utf8")=>JSON.parse(Fc(t,e))};Lc.decode.try=(t,e="utf8")=>{try{return Lc.decode(t,e)}catch(r){return Fc(t,e)}};var nq=o(t=>{let e=BigInt(t).toString(16);e.length%2&&(e=`0${e}`);let r=e.length/2,n=new Uint8Array(r),i=0,s=0;for(;i<r;)n[i]=parseInt(e.slice(s,s+2),16),i+=1,s+=2;return n},"bnToBuf"),iq=o(t=>Oh(Buffer.from(nq(t))),"encodeBigInt");Rr.exports.decode=Fc;Rr.exports.decodeToBuffer=kh;Rr.exports.encode=Th;Rr.exports.encodeBuffer=Oh;Rr.exports.JSON=Lc;Rr.exports.encodeBigInt=iq});var K=m((VJ,re)=>{var sq={JOSEAlgNotWhitelisted:"ERR_JOSE_ALG_NOT_WHITELISTED",JOSECritNotUnderstood:"ERR_JOSE_CRIT_NOT_UNDERSTOOD",JOSEInvalidEncoding:"ERR_JOSE_INVALID_ENCODING",JOSEMultiError:"ERR_JOSE_MULTIPLE_ERRORS",JOSENotSupported:"ERR_JOSE_NOT_SUPPORTED",JWEDecryptionFailed:"ERR_JWE_DECRYPTION_FAILED",JWEInvalid:"ERR_JWE_INVALID",JWKImportFailed:"ERR_JWK_IMPORT_FAILED",JWKInvalid:"ERR_JWK_INVALID",JWKKeySupport:"ERR_JWK_KEY_SUPPORT",JWKSNoMatchingKey:"ERR_JWKS_NO_MATCHING_KEY",JWSInvalid:"ERR_JWS_INVALID",JWSVerificationFailed:"ERR_JWS_VERIFICATION_FAILED",JWTClaimInvalid:"ERR_JWT_CLAIM_INVALID",JWTExpired:"ERR_JWT_EXPIRED",JWTMalformed:"ERR_JWT_MALFORMED"},aq={JWEDecryptionFailed:"decryption operation failed",JWEInvalid:"JWE invalid",JWKSNoMatchingKey:"no matching key found in the KeyStore",JWSInvalid:"JWS invalid",JWSVerificationFailed:"signature verification failed"},te=class extends Error{constructor(e){super(e);e===void 0&&(this.message=aq[this.constructor.name]),this.name=this.constructor.name,this.code=sq[this.constructor.name],Error.captureStackTrace(this,this.constructor)}};o(te,"JOSEError");var oq=o(t=>t instanceof Us,"isMulti"),Us=class extends te{constructor(e){super();let r;for(;(r=e.findIndex(oq))&&r!==-1;)e.splice(r,1,...e[r]);Object.defineProperty(this,"errors",{value:e})}*[Symbol.iterator](){for(let e of this.errors)yield e}};o(Us,"JOSEMultiError");re.exports.JOSEError=te;re.exports.JOSEAlgNotWhitelisted=o(class extends te{},"JOSEAlgNotWhitelisted");re.exports.JOSECritNotUnderstood=o(class extends te{},"JOSECritNotUnderstood");re.exports.JOSEInvalidEncoding=o(class extends te{},"JOSEInvalidEncoding");re.exports.JOSEMultiError=Us;re.exports.JOSENotSupported=o(class extends te{},"JOSENotSupported");re.exports.JWEDecryptionFailed=o(class extends te{},"JWEDecryptionFailed");re.exports.JWEInvalid=o(class extends te{},"JWEInvalid");re.exports.JWKImportFailed=o(class extends te{},"JWKImportFailed");re.exports.JWKInvalid=o(class extends te{},"JWKInvalid");re.exports.JWKKeySupport=o(class extends te{},"JWKKeySupport");re.exports.JWKSNoMatchingKey=o(class extends te{},"JWKSNoMatchingKey");re.exports.JWSInvalid=o(class extends te{},"JWSInvalid");re.exports.JWSVerificationFailed=o(class extends te{},"JWSVerificationFailed");var $s=class extends te{constructor(e,r="unspecified",n="unspecified"){super(e);this.claim=r,this.reason=n}};o($s,"JWTClaimInvalid");re.exports.JWTClaimInvalid=$s;re.exports.JWTExpired=o(class extends $s{},"JWTExpired");re.exports.JWTMalformed=o(class extends te{},"JWTMalformed")});var Pe=m((XJ,qh)=>{var{diffieHellman:cq,KeyObject:uq,sign:pq,verify:lq}=require("crypto"),[pn,Hc]=process.version.substr(1).split(".").map(t=>parseInt(t,10));qh.exports={oaepHashSupported:pn>12||pn===12&&Hc>=9,keyObjectSupported:!!uq&&pn>=12,edDSASupported:!!pq&&!!lq,dsaEncodingSupported:pn>13||pn===13&&Hc>=2||pn===12&&Hc>=16,improvedDH:!!cq}});var Ue=m((ZJ,Ch)=>{Ch.exports=t=>!!t&&t.constructor===Object});var Js=m(Ih=>{var{inherits:dq}=require("util");function $e(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}o($e,"Reporter");$e.prototype.isError=o(function(e){return e instanceof ln},"isError");$e.prototype.save=o(function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},"save");$e.prototype.restore=o(function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)},"restore");$e.prototype.enterKey=o(function(e){return this._reporterState.path.push(e)},"enterKey");$e.prototype.exitKey=o(function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)},"exitKey");$e.prototype.leaveKey=o(function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)},"leaveKey");$e.prototype.path=o(function(){return this._reporterState.path.join("/")},"path");$e.prototype.enterObject=o(function(){let e=this._reporterState,r=e.obj;return e.obj={},r},"enterObject");$e.prototype.leaveObject=o(function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n},"leaveObject");$e.prototype.error=o(function(e){let r,n=this._reporterState,i=e instanceof ln;if(i?r=e:r=new ln(n.path.map(function(s){return`[${JSON.stringify(s)}]`}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},"error");$e.prototype.wrapResult=o(function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e},"wrapResult");function ln(t,e){this.path=t,this.rethrow(e)}o(ln,"ReporterError");dq(ln,Error);ln.prototype.rethrow=o(function(e){if(this.message=`${e} at: ${this.path||"(shallow)"}`,Error.captureStackTrace&&Error.captureStackTrace(this,ln),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this},"rethrow");Ih.Reporter=$e});var zs=m((eW,Ph)=>{var{inherits:fq}=require("util"),{Reporter:Ws}=Js();function Je(t,e){if(Ws.call(this,e),!Buffer.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}o(Je,"DecoderBuffer");fq(Je,Ws);Je.isDecoderBuffer=o(function(e){return e instanceof Je?!0:typeof e=="object"&&Buffer.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"},"isDecoderBuffer");Je.prototype.save=o(function(){return{offset:this.offset,reporter:Ws.prototype.save.call(this)}},"save");Je.prototype.restore=o(function(e){let r=new Je(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,Ws.prototype.restore.call(this,e.reporter),r},"restore");Je.prototype.isEmpty=o(function(){return this.offset===this.length},"isEmpty");Je.prototype.readUInt8=o(function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},"readUInt8");Je.prototype.skip=o(function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new Je(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},"skip");Je.prototype.raw=o(function(e){return this.base.slice(e?e.offset:this.offset,this.length)},"raw");function dn(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return dn.isEncoderBuffer(r)||(r=new dn(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(t>=0&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Buffer.byteLength(t);else if(Buffer.isBuffer(t))this.value=t,this.length=t.length;else return e.error(`Unsupported type: ${typeof t}`)}o(dn,"EncoderBuffer");dn.isEncoderBuffer=o(function(e){return e instanceof dn?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"},"isEncoderBuffer");dn.prototype.join=o(function(e,r){return e||(e=Buffer.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Buffer.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e},"join");Ph.exports={DecoderBuffer:Je,EncoderBuffer:dn}});var Gs=m((tW,Ah)=>{var{strict:_e}=require("assert"),{Reporter:mq}=Js(),{DecoderBuffer:hq,EncoderBuffer:vq}=zs(),Rh=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],gq=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Rh),yq=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function N(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}o(N,"Node");var _q=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];N.prototype.clone=o(function(){let e=this._baseState,r={};_q.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n},"clone");N.prototype._wrap=o(function(){let e=this._baseState;gq.forEach(function(r){this[r]=o(function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");N.prototype._init=o(function(e){let r=this._baseState;_e(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),_e.equal(r.children.length,1,"Root node can have only one child")},"init");N.prototype._useArgs=o(function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(_e(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(_e(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(a){a==(a|0)&&(a|=0);let c=i[a];s[c]=a}),s}))},"useArgs");yq.forEach(function(t){N.prototype[t]=o(function(){let r=this._baseState;throw new Error(`${t} not implemented for encoding: ${r.enc}`)},"_overrided")});Rh.forEach(function(t){N.prototype[t]=o(function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return _e(r.tag===null),r.tag=t,this._useArgs(n),this},"_tagMethod")});N.prototype.use=o(function(e){_e(e);let r=this._baseState;return _e(r.use===null),r.use=e,this},"use");N.prototype.optional=o(function(){let e=this._baseState;return e.optional=!0,this},"optional");N.prototype.def=o(function(e){let r=this._baseState;return _e(r.default===null),r.default=e,r.optional=!0,this},"def");N.prototype.explicit=o(function(e){let r=this._baseState;return _e(r.explicit===null&&r.implicit===null),r.explicit=e,this},"explicit");N.prototype.implicit=o(function(e){let r=this._baseState;return _e(r.explicit===null&&r.implicit===null),r.implicit=e,this},"implicit");N.prototype.obj=o(function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this},"obj");N.prototype.key=o(function(e){let r=this._baseState;return _e(r.key===null),r.key=e,this},"key");N.prototype.any=o(function(){let e=this._baseState;return e.any=!0,this},"any");N.prototype.choice=o(function(e){let r=this._baseState;return _e(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this},"choice");N.prototype.contains=o(function(e){let r=this._baseState;return _e(r.use===null),r.contains=e,this},"contains");N.prototype._decode=o(function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,s=!0,a=null;if(n.key!==null&&(a=e.enterKey(n.key)),n.optional){let u=null;if(n.explicit!==null?u=n.explicit:n.implicit!==null?u=n.implicit:n.tag!==null&&(u=n.tag),u===null&&!n.any){let p=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),s=!0}catch(l){s=!1}e.restore(p)}else if(s=this._peekTag(e,u,n.any),e.isError(s))return s}let c;if(n.obj&&s&&(c=e.enterObject()),s){if(n.explicit!==null){let p=this._decodeTag(e,n.explicit);if(e.isError(p))return p;e=p}let u=e.offset;if(n.use===null&&n.choice===null){let p;n.any&&(p=e.save());let l=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(l))return l;n.any?i=e.raw(p):e=l}if(r&&r.track&&n.tag!==null&&r.track(e.path(),u,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(o(function(l){l._decode(e,r)},"decodeChildren")),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let p=new hq(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(p,r)}}return n.obj&&s&&(i=e.leaveObject(c)),n.key!==null&&(i!==null||s===!0)?e.leaveKey(a,n.key,i):a!==null&&e.exitKey(a),i},"decode");N.prototype._decodeGeneric=o(function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error(`unknown tag: ${e}`)},"decodeGeneric");N.prototype._getUse=o(function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),_e(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},"_getUse");N.prototype._decodeChoice=o(function(e,r){let n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(a){let c=e.save(),u=n.choice[a];try{let p=u._decode(e,r);if(e.isError(p))return!1;i={type:a,value:p},s=!0}catch(p){return e.restore(c),!1}return!0},this),s?i:e.error("Choice not matched")},"decodeChoice");N.prototype._createEncoderBuffer=o(function(e){return new vq(e,this.reporter)},"createEncoderBuffer");N.prototype._encode=o(function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let s=this._encodeValue(e,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},"encode");N.prototype._encodeValue=o(function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new mq);let s=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let a=null,c=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,r);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,r),c=!0;else if(i.children)a=i.children.map(function(u){if(u._baseState.tag==="null_")return u._encode(null,r,e);if(u._baseState.key===null)return r.error("Child should have a key");let p=r.enterKey(u._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let l=u._encode(e[u._baseState.key],r,e);return r.leaveKey(p),l},this).filter(function(u){return u}),a=this._createEncoderBuffer(a);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error(`Too many args for: ${i.tag}`);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(p){let l=this._baseState;return this._getUse(l.args[0],e)._encode(p,r)},u))}else i.use!==null?s=this._getUse(i.use,n)._encode(e,r):(a=this._encodePrimitive(i.tag,e),c=!0);if(!i.any&&i.choice===null){let u=i.implicit!==null?i.implicit:i.tag,p=i.implicit===null?"universal":"context";u===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(u,c,p,a))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");N.prototype._encodeChoice=o(function(e,r){let n=this._baseState,i=n.choice[e.type];return i||_e(!1,`${e.type} not found in ${JSON.stringify(Object.keys(n.choice))}`),i._encode(e.value,r)},"encodeChoice");N.prototype._encodePrimitive=o(function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error(`Unsupported tag: ${e}`)},"encodePrimitive");N.prototype._isNumstr=o(function(e){return/^[0-9 ]*$/.test(e)},"isNumstr");N.prototype._isPrintstr=o(function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)},"isPrintstr");Ah.exports=N});var Ys=m(Ar=>{function jh(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}o(jh,"reverse");Ar.tagClass={0:"universal",1:"application",2:"context",3:"private"};Ar.tagClassByName=jh(Ar.tagClass);Ar.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Ar.tagByName=jh(Ar.tag)});var $c=m((nW,Bh)=>{var{inherits:bq}=require("util"),Nh=Gs(),Uc=Ys();function Mh(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new tt,this.tree._init(t.body)}o(Mh,"DEREncoder");Mh.prototype.encode=o(function(e,r){return this.tree._encode(e,r).join()},"encode");function tt(t){Nh.call(this,"der",t)}o(tt,"DERNode");bq(tt,Nh);tt.prototype._encodeComposite=o(function(e,r,n,i){let s=Sq(e,r,n,this.reporter);if(i.length<128){let u=Buffer.alloc(2);return u[0]=s,u[1]=i.length,this._createEncoderBuffer([u,i])}let a=1;for(let u=i.length;u>=256;u>>=8)a++;let c=Buffer.alloc(1+1+a);c[0]=s,c[1]=128|a;for(let u=1+a,p=i.length;p>0;u--,p>>=8)c[u]=p&255;return this._createEncoderBuffer([c,i])},"encodeComposite");tt.prototype._encodeStr=o(function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=Buffer.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error(`Encoding of string type: ${r} unsupported`)},"encodeStr");tt.prototype._encodeObjid=o(function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!Object.prototype.hasOwnProperty.call(r,e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error(`objid() should be either array or string, got: ${JSON.stringify(e)}`);if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let c=0;c<e.length;c++){let u=e[c];for(i++;u>=128;u>>=7)i++}let s=Buffer.alloc(i),a=s.length-1;for(let c=e.length-1;c>=0;c--){let u=e[c];for(s[a--]=u&127;(u>>=7)>0;)s[a--]=128|u&127}return this._createEncoderBuffer(s)},"encodeObjid");function We(t){return t<10?`0${t}`:t}o(We,"two");tt.prototype._encodeTime=o(function(e,r){let n,i=new Date(e);return r==="gentime"?n=[We(i.getUTCFullYear()),We(i.getUTCMonth()+1),We(i.getUTCDate()),We(i.getUTCHours()),We(i.getUTCMinutes()),We(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[We(i.getUTCFullYear()%100),We(i.getUTCMonth()+1),We(i.getUTCDate()),We(i.getUTCHours()),We(i.getUTCMinutes()),We(i.getUTCSeconds()),"Z"].join(""):this.reporter.error(`Encoding ${r} time is not supported yet`),this._encodeStr(n,"octstr")},"encodeTime");tt.prototype._encodeNull=o(function(){return this._createEncoderBuffer("")},"encodeNull");function xq(t){var e=BigInt(t).toString(16);e.length%2&&(e="0"+e);for(var r=e.length/2,n=new Uint8Array(r),i=0,s=0;i<r;)n[i]=parseInt(e.slice(s,s+2),16),i+=1,s+=2;return n}o(xq,"bnToBuf");tt.prototype._encodeInt=o(function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!Object.prototype.hasOwnProperty.call(r,e))return this.reporter.error(`Values map doesn't contain: ${JSON.stringify(e)}`);e=r[e]}if(typeof e=="bigint"){let s=[...xq(e)];s[0]&128&&s.unshift(0),e=Buffer.from(s)}if(Buffer.isBuffer(e)){let s=e.length;e.length===0&&s++;let a=Buffer.alloc(s);return e.copy(a),e.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let s=e;s>=256;s>>=8)n++;let i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Buffer.from(i))},"encodeInt");tt.prototype._encodeBool=o(function(e){return this._createEncoderBuffer(e?255:0)},"encodeBool");tt.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree},"use");tt.prototype._skipDefault=o(function(e,r,n){let i=this._baseState,s;if(i.default===null)return!1;let a=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),a.length!==i.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function Sq(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),Object.prototype.hasOwnProperty.call(Uc.tagByName,t))i=Uc.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error(`Unknown tag: ${t}`);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=Uc.tagClassByName[r||"universal"]<<6,i)}o(Sq,"encodeTag");Bh.exports=Mh});var Kh=m((iW,Dh)=>{var{inherits:Eq}=require("util"),Jc=$c();function Wc(t){Jc.call(this,t),this.enc="pem"}o(Wc,"PEMEncoder");Eq(Wc,Jc);Wc.prototype.encode=o(function(e,r){let i=Jc.prototype.encode.call(this,e).toString("base64"),s=[`-----BEGIN ${r.label}-----`];for(let a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push(`-----END ${r.label}-----`),s.join(`
`)},"encode");Dh.exports=Wc});var zc=m((sW,Fh)=>{Fh.exports={der:$c(),pem:Kh()}});var Yc=m((aW,Wh)=>{var{inherits:wq}=require("util"),{DecoderBuffer:Lh}=zs(),Hh=Gs(),Uh=Ys();function $h(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Re,this.tree._init(t.body)}o($h,"DERDecoder");$h.prototype.decode=o(function(e,r){return Lh.isDecoderBuffer(e)||(e=new Lh(e,r)),this.tree._decode(e,r)},"decode");function Re(t){Hh.call(this,"der",t)}o(Re,"DERNode");wq(Re,Hh);Re.prototype._peekTag=o(function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),s=Gc(e,`Failed to peek tag: "${r}"`);return e.isError(s)?s:(e.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},"peekTag");Re.prototype._decodeTag=o(function(e,r,n){let i=Gc(e,`Failed to decode tag of "${r}"`);if(e.isError(i))return i;let s=Jh(e,i.primitive,`Failed to get length of "${r}"`);if(e.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error(`Failed to match tag: "${r}"`);if(i.primitive||s!==null)return e.skip(s,`Failed to match body of: "${r}"`);let a=e.save(),c=this._skipUntilEnd(e,`Failed to skip indefinite length body: "${this.tag}"`);return e.isError(c)?c:(s=e.offset-a.offset,e.restore(a),e.skip(s,`Failed to match body of: "${r}"`))},"decodeTag");Re.prototype._skipUntilEnd=o(function(e,r){for(;;){let n=Gc(e,r);if(e.isError(n))return n;let i=Jh(e,n.primitive,r);if(e.isError(i))return i;let s;if(n.primitive||i!==null?s=e.skip(i):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(n.tagStr==="end")break}},"skipUntilEnd");Re.prototype._decodeList=o(function(e,r,n,i){let s=[];for(;!e.isEmpty();){let a=this._peekTag(e,"end");if(e.isError(a))return a;let c=n.decode(e,"der",i);if(e.isError(c)&&a)break;s.push(c)}return s},"decodeList");Re.prototype._decodeStr=o(function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error(`Decoding of string type: ${r} unsupported`)}},"decodeStr");Re.prototype._decodeObjid=o(function(e,r,n){let i,s=[],a=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),a<<=7,a|=c&127,(c&128)==0&&(s.push(a),a=0);c&128&&s.push(a);let u=s[0]/40|0,p=s[0]%40;if(n?i=s:i=[u,p].concat(s.slice(1)),r){let l=r[i.join(" ")];l===void 0&&(l=r[i.join(".")]),l!==void 0&&(i=l)}return i},"decodeObjid");Re.prototype._decodeTime=o(function(e,r){let n=e.raw().toString(),i,s,a,c,u,p;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,c=n.slice(8,10)|0,u=n.slice(10,12)|0,p=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,a=n.slice(4,6)|0,c=n.slice(6,8)|0,u=n.slice(8,10)|0,p=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error(`Decoding ${r} time is not supported yet`);return Date.UTC(i,s-1,a,c,u,p,0)},"decodeTime");Re.prototype._decodeNull=o(function(){return null},"decodeNull");Re.prototype._decodeBool=o(function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0},"decodeBool");Re.prototype._decodeInt=o(function(e,r){let n=e.raw(),i=BigInt(`0x${n.toString("hex")}`);return r&&(i=r[i.toString(10)]||i),i},"decodeInt");Re.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree},"use");function Gc(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=Uh.tagClass[r>>6],i=(r&32)==0;if((r&31)==31){let a=r;for(r=0;(a&128)==128;){if(a=t.readUInt8(e),t.isError(a))return a;r<<=7,r|=a&127}}else r&=31;let s=Uh.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}o(Gc,"derDecodeTag");function Jh(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if((n&128)==0)return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;let a=t.readUInt8(r);if(t.isError(a))return a;n|=a}return n}o(Jh,"derDecodeLen");Wh.exports=$h});var Gh=m((oW,zh)=>{var{inherits:Tq}=require("util"),Vc=Yc();function Xc(t){Vc.call(this,t),this.enc="pem"}o(Xc,"PEMDecoder");Tq(Xc,Vc);Xc.prototype.decode=o(function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,c=-1;for(let l=0;l<n.length;l++){let d=n[l].match(s);if(d!==null&&d[2]===i)if(a===-1){if(d[1]!=="BEGIN")break;a=l}else{if(d[1]!=="END")break;c=l;break}}if(a===-1||c===-1)throw new Error(`PEM section not found for: ${i}`);let u=n.slice(a+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");let p=Buffer.from(u,"base64");return Vc.prototype.decode.call(this,p,r)},"decode");zh.exports=Xc});var Zc=m((cW,Yh)=>{Yh.exports={der:Yc(),pem:Gh()}});var Xh=m((uW,Vh)=>{var{inherits:Oq}=require("util"),kq=zc(),qq=Zc();Vh.exports.define=o(function(e,r){return new fn(e,r)},"define");function fn(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}o(fn,"Entity");fn.prototype._createNamed=o(function(e){let r=this.name;function n(i){this._initNamed(i,r)}return o(n,"Generated"),Oq(n,e),n.prototype._initNamed=o(function(s,a){e.call(this,s,a)},"_initNamed"),new n(this)},"createNamed");fn.prototype._getDecoder=o(function(e){return e=e||"der",Object.prototype.hasOwnProperty.call(this.decoders,e)||(this.decoders[e]=this._createNamed(qq[e])),this.decoders[e]},"_getDecoder");fn.prototype.decode=o(function(e,r,n){return this._getDecoder(r).decode(e,n)},"decode");fn.prototype._getEncoder=o(function(e){return e=e||"der",Object.prototype.hasOwnProperty.call(this.encoders,e)||(this.encoders[e]=this._createNamed(kq[e])),this.encoders[e]},"_getEncoder");fn.prototype.encode=o(function(e,r,n){return this._getEncoder(r).encode(e,n)},"encode")});var Qh=m((pW,Zh)=>{var{Reporter:Cq}=Js(),{DecoderBuffer:Iq,EncoderBuffer:Pq}=zs(),Rq=Gs();Zh.exports={DecoderBuffer:Iq,EncoderBuffer:Pq,Node:Rq,Reporter:Cq}});var tv=m((lW,ev)=>{ev.exports={der:Ys()}});var nv=m((dW,rv)=>{var{define:Aq}=Xh(),jq=Qh(),Nq=tv(),Mq=Zc(),Bq=zc();rv.exports={base:jq,constants:Nq,decoders:Mq,define:Aq,encoders:Bq}});var Qc=m((fW,iv)=>{var{name:Dq}=Pr(),Kq={"1 2 840 10045 3 1 7":"P-256","1 3 132 0 10":Dq,"1 3 132 0 34":"P-384","1 3 132 0 35":"P-521","1 2 840 10045 2 1":"ecPublicKey","1 2 840 113549 1 1 1":"rsaEncryption","1 3 101 110":"X25519","1 3 101 111":"X448","1 3 101 112":"Ed25519","1 3 101 113":"Ed448"};iv.exports=Kq});var ov=m((mW,av)=>{var sv=Qc();av.exports=function(){this.seq().obj(this.key("algorithm").objid(sv),this.key("parameters").optional().choice({namedCurve:this.objid(sv),null:this.null_()}))}});var uv=m((hW,cv)=>{var Fq=Qc();cv.exports=function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().choice({namedCurve:this.objid(Fq)}),this.key("publicKey").explicit(1).optional().bitstr())}});var lv=m((vW,pv)=>{pv.exports=t=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(t),this.key("privateKey").octstr())}});var fv=m((gW,dv)=>{dv.exports=t=>function(){this.seq().obj(this.key("algorithm").use(t),this.key("publicKey").bitstr())}});var hv=m((yW,mv)=>{mv.exports=function(){this.octstr().contains().obj(this.key("privateKey").octstr())}});var gv=m((_W,vv)=>{vv.exports=(t,e)=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(t),this.key("privateKey").use(e))}});var _v=m((bW,yv)=>{yv.exports=function(){this.seq().obj(this.key("version").int({0:"two-prime",1:"multi"}),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int())}});var xv=m((xW,bv)=>{bv.exports=function(){this.seq().obj(this.key("n").int(),this.key("e").int())}});var eu=m((SW,Ev)=>{var tr=nv(),kt=new Map,Vs=tr.define("AlgorithmIdentifier",ov());kt.set("AlgorithmIdentifier",Vs);var Lq=tr.define("ECPrivateKey",uv());kt.set("ECPrivateKey",Lq);var Hq=tr.define("PrivateKeyInfo",lv()(Vs));kt.set("PrivateKeyInfo",Hq);var Uq=tr.define("PublicKeyInfo",fv()(Vs));kt.set("PublicKeyInfo",Uq);var Sv=tr.define("PrivateKey",hv());kt.set("PrivateKey",Sv);var $q=tr.define("OneAsymmetricKey",gv()(Vs,Sv));kt.set("OneAsymmetricKey",$q);var Jq=tr.define("RSAPrivateKey",_v());kt.set("RSAPrivateKey",Jq);var Wq=tr.define("RSAPublicKey",xv());kt.set("RSAPublicKey",Wq);Ev.exports=kt});var ne=m((wW,wv)=>{var{keyObjectSupported:zq}=Pe(),ht,rr,Xs,vt,tu;if(zq)({createPublicKey:ht,createPrivateKey:rr,createSecretKey:Xs,KeyObject:vt}=require("crypto")),tu=o(t=>t,"asInput");else{let{EOL:t}=require("os"),e=K(),r=Ue(),n=eu(),i=Symbol("toInput"),s=Symbol("namedCurve");tu=o((p,l)=>p instanceof vt?p[i](l):Xs(p)[i](l),"asInput");let a=o(p=>Buffer.from(p.replace(/(?:-----(?:BEGIN|END)(?: (?:RSA|EC))? (?:PRIVATE|PUBLIC) KEY-----|\s)/g,""),"base64"),"pemToDer"),c=o((p,l)=>`-----BEGIN ${l}-----${t}${(p.toString("base64").match(/.{1,64}/g)||[]).join(t)}${t}-----END ${l}-----`,"derToPem"),u=o(p=>{let l=typeof p=="string"?p:`OID ${p.join(".")}`;throw new e.JOSENotSupported(`${l} is not supported in your Node.js runtime version`)},"unsupported");vt=o(class{export({cipher:l,passphrase:d,type:f,format:h}={}){if(this._type==="secret")return this._buffer;if(this._type==="public"){if(this.asymmetricKeyType==="rsa")switch(f){case"pkcs1":return h==="pem"?this._pem:a(this._pem);case"spki":{let g=n.get("PublicKeyInfo").encode({algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}},publicKey:{unused:0,data:a(this._pem)}},"pem",{label:"PUBLIC KEY"});return h==="pem"?g:a(g)}default:throw new TypeError(`The value ${f} is invalid for option "type"`)}if(this.asymmetricKeyType==="ec"){if(f!=="spki")throw new TypeError(`The value ${f} is invalid for option "type"`);return h==="pem"?this._pem:a(this._pem)}}if(this._type==="private"){if(d!==void 0||l!==void 0)throw new e.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if(f==="pkcs8"){if(this._pkcs8)return h==="der"&&typeof this._pkcs8=="string"?a(this._pkcs8):h==="pem"&&Buffer.isBuffer(this._pkcs8)?c(this._pkcs8,"PRIVATE KEY"):this._pkcs8;if(this.asymmetricKeyType==="rsa"){let v=this._asn1,y=n.get("RSAPrivateKey").encode(v),x=n.get("PrivateKeyInfo").encode({version:0,privateKey:y,algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}}});return this._pkcs8=x,this.export({type:f,format:h})}if(this.asymmetricKeyType==="ec"){let v=this._asn1,y=n.get("ECPrivateKey").encode({version:v.version,privateKey:v.privateKey,publicKey:v.publicKey}),x=n.get("PrivateKeyInfo").encode({version:0,privateKey:y,algorithm:{algorithm:"ecPublicKey",parameters:this._asn1.parameters}});return this._pkcs8=x,this.export({type:f,format:h})}}if(this.asymmetricKeyType==="rsa"&&f==="pkcs1")return h==="pem"?this._pem:a(this._pem);if(this.asymmetricKeyType==="ec"&&f==="sec1")return h==="pem"?this._pem:a(this._pem);throw new TypeError(`The value ${f} is invalid for option "type"`)}}get type(){return this._type}get asymmetricKeyType(){return this._asymmetricKeyType}get symmetricKeySize(){return this._symmetricKeySize}[i](l){switch(this._type){case"secret":return this._buffer;case"public":return this._pem;default:return l?("_pub"in this||(this._pub=ht(this)),this._pub[i](!1)):this._pem}}},"KeyObject"),Xs=o(p=>{if(!Buffer.isBuffer(p)||!p.length)throw new TypeError("input must be a non-empty Buffer instance");let l=new vt;return l._buffer=Buffer.from(p),l._symmetricKeySize=p.length,l._type="secret",l},"createSecretKey"),ht=o(p=>{if(p instanceof vt){if(p.type!=="private")throw new TypeError(`Invalid key object type ${p.type}, expected private.`);switch(p.asymmetricKeyType){case"ec":{let y=n.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:p._asn1.parameters},publicKey:p._asn1.publicKey});return ht({key:y,format:"der",type:"spki"})}case"rsa":{let y=n.get("RSAPublicKey").encode(p._asn1);return ht({key:y,format:"der",type:"pkcs1"})}}}if((typeof p=="string"||Buffer.isBuffer(p))&&(p={key:p,format:"pem"}),!r(p))throw new TypeError("input must be a string, Buffer or an object");let{format:l,passphrase:d}=p,{key:f,type:h}=p;if(typeof f!="string"&&!Buffer.isBuffer(f))throw new TypeError("key must be a string or Buffer");if(l!=="pem"&&l!=="der")throw new TypeError('format must be one of "pem" or "der"');let v;if(l==="pem")switch(f=f.toString(),f.split(/\r?\n/g)[0].toString()){case"-----BEGIN PUBLIC KEY-----":h="spki",v="PUBLIC KEY";break;case"-----BEGIN RSA PUBLIC KEY-----":h="pkcs1",v="RSA PUBLIC KEY";break;case"-----BEGIN CERTIFICATE-----":throw new e.JOSENotSupported("X.509 certificates are not supported in your Node.js runtime version");case"-----BEGIN PRIVATE KEY-----":case"-----BEGIN EC PRIVATE KEY-----":case"-----BEGIN RSA PRIVATE KEY-----":return ht(rr(f));default:throw new TypeError("unknown/unsupported PEM type")}switch(h){case"spki":{let g=n.get("PublicKeyInfo"),y=g.decode(f,l,{label:v}),_,x;switch(y.algorithm.algorithm){case"ecPublicKey":{x=new vt,x._asn1=y,x._asymmetricKeyType="ec",x._type="public",x._pem=g.encode(y,"pem",{label:"PUBLIC KEY"});break}case"rsaEncryption":{_="pkcs1",x=ht({type:_,key:y.publicKey.data,format:"der"});break}default:u(y.algorithm.algorithm)}return x}case"pkcs1":{let g=n.get("RSAPublicKey"),y=g.decode(f,l,{label:v});if(y.n===BigInt(0))return ht(rr({key:f,format:l,type:h,passphrase:d}));let _=new vt;return _._asn1=y,_._asymmetricKeyType="rsa",_._type="public",_._pem=g.encode(y,"pem",{label:"RSA PUBLIC KEY"}),_}case"pkcs8":case"sec1":return ht(rr({format:l,key:f,type:h,passphrase:d}));default:throw new TypeError(`The value ${h} is invalid for option "type"`)}},"createPublicKey"),rr=o((p,l)=>{if((typeof p=="string"||Buffer.isBuffer(p))&&(p={key:p,format:"pem"}),!r(p))throw new TypeError("input must be a string, Buffer or an object");let{format:d,passphrase:f}=p,{key:h,type:v}=p;if(typeof h!="string"&&!Buffer.isBuffer(h))throw new TypeError("key must be a string or Buffer");if(f!==void 0)throw new e.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if(d!=="pem"&&d!=="der")throw new TypeError('format must be one of "pem" or "der"');let g;if(d==="pem")switch(h=h.toString(),h.split(/\r?\n/g)[0].toString()){case"-----BEGIN PRIVATE KEY-----":v="pkcs8",g="PRIVATE KEY";break;case"-----BEGIN EC PRIVATE KEY-----":v="sec1",g="EC PRIVATE KEY";break;case"-----BEGIN RSA PRIVATE KEY-----":v="pkcs1",g="RSA PRIVATE KEY";break;default:throw new TypeError("unknown/unsupported PEM type")}switch(v){case"pkcs8":{let _=n.get("PrivateKeyInfo").decode(h,d,{label:g}),x,S;switch(_.algorithm.algorithm){case"ecPublicKey":{x="sec1",S=rr({type:x,key:_.privateKey,format:"der"},{[s]:_.algorithm.parameters.value});break}case"rsaEncryption":{x="pkcs1",S=rr({type:x,key:_.privateKey,format:"der"});break}default:u(_.algorithm.algorithm)}return S._pkcs8=h,S}case"pkcs1":{let y=n.get("RSAPrivateKey"),_=y.decode(h,d,{label:g}),x=new vt;return x._asn1=_,x._asymmetricKeyType="rsa",x._type="private",x._pem=y.encode(_,"pem",{label:"RSA PRIVATE KEY"}),x}case"sec1":{let y=n.get("ECPrivateKey"),_=y.decode(h,d,{label:g});if(!("parameters"in _)&&!l[s])throw new Error("invalid sec1");"parameters"in _||(_=j(b({},_),{parameters:{type:"namedCurve",value:l[s]}}));let x=new vt;return x._asn1=_,x._asymmetricKeyType="ec",x._type="private",x._pem=y.encode(_,"pem",{label:"EC PRIVATE KEY"}),x}default:throw new TypeError(`The value ${v} is invalid for option "type"`)}},"createPrivateKey")}wv.exports={createPublicKey:ht,createPrivateKey:rr,createSecretKey:Xs,KeyObject:vt,asInput:tu}});var Ov=m((TW,Tv)=>{var{randomBytes:Gq}=require("crypto"),Zs=ye(),ru=K(),mn=BigInt(0),ue=BigInt(1),wi=BigInt(2),Ti=o(t=>{let e=t.toString(16);return Zs.encodeBuffer(Buffer.from(e.length%2?`0${e}`:e,"hex"))},"toJWKParameter"),Qs=o(t=>BigInt(`0x${t.toString("hex")}`),"fromBuffer"),Yq=o(t=>t.toString(2).length,"bitLength"),Vq=o((t,e)=>{let r=mn,n=ue,i=ue,s=mn;for(;t!==mn;){let a=e/t,c=e%t,u=r-i*a,p=n-s*a;e=t,t=c,r=i,n=s,i=u,s=p}return r},"eGcdX"),Xq=o((t,e)=>{let r=mn;for(;!((t|e)&ue);)t>>=ue,e>>=ue,r++;for(;!(t&ue);)t>>=ue;do{for(;!(e&ue);)e>>=ue;if(t>e){let n=t;t=e,e=n}e-=t}while(e);return t<<r},"gcd"),Zq=o((t,e,r)=>{t=nu(t,r);let n=ue,i=t;for(;e>0;){var s=e%wi;e=e/wi,s===ue&&(n=n*i,n=n%r),i=i*i,i=i%r}return n},"modPow"),Qq=o((t,e)=>{let r=e-t,n=Yq(r),i;do i=Qs(eC(n));while(i>r);return i+t},"randBetween"),eC=o(t=>{let e=Math.ceil(t/8),r=Gq(e);return r[0]=r[0]&2**(t%8)-1,r},"randBits"),nu=o((t,e)=>(t=t%e,t<0?t+e:t),"toZn"),tC=o(t=>{let e=t;for(;e%wi===mn;)e=e/wi;return e},"odd"),rC=30,nC=22,iC=o((t,e,r)=>{let n=tC(t*e-ue),i=0,s;do{if(i++,i===rC)throw new ru.JWKImportFailed("failed to calculate missing primes");let u=0,p=Zq(Qq(wi,r),n,r),l=mn;for(;p!==ue;){if(u++,u===nC)throw new ru.JWKImportFailed("failed to calculate missing primes");l=p,p=p*p%r}l!==r-ue&&(s=l)}while(!s);let a=Xq(s-ue,r),c=r/a;return a>c?{p:a,q:c}:{p:c,q:a}},"getPrimeFactors");Tv.exports=t=>{let e=Qs(Zs.decodeToBuffer(t.e)),r=Qs(Zs.decodeToBuffer(t.d)),n=Qs(Zs.decodeToBuffer(t.n));if(r>=n)throw new ru.JWKInvalid("invalid RSA private exponent");let{p:i,q:s}=iC(e,r,n),a=r%(i-ue),c=r%(s-ue),u=nu(Vq(nu(s,i),i),i);return j(b({},t),{p:Ti(i),q:Ti(s),dp:Ti(a),dq:Ti(c),qi:Ti(u)})}});var ou=m((OW,au)=>{var{EOL:iu}=require("os"),nr=K(),{keyObjectSupported:sC}=Pe(),{createPublicKey:kv}=ne(),P=ye(),be=eu(),aC=Ov(),{OKP_CURVES:oC,EC_CURVES:cC}=mt(),uC=o((t,e)=>`-----BEGIN ${e} KEY-----${iu}${(t.match(/.{1,64}/g)||[]).join(iu)}${iu}-----END ${e} KEY-----`,"formatPem"),qt={private(t,e){let r=e.export({type:"pkcs8",format:"der"}),n=be.get("OneAsymmetricKey"),{privateKey:{privateKey:i}}=n.decode(r);return j(b({},qt.public(t,kv(e))),{d:P.encodeBuffer(i)})},public(t,e){let r=e.export({type:"spki",format:"der"}),n=be.get("PublicKeyInfo"),{publicKey:{data:i}}=n.decode(r);return{kty:"OKP",crv:t,x:P.encodeBuffer(i)}}},su={rsa:{private(t){let e=t.export({type:"pkcs8",format:"der"}),r=be.get("PrivateKeyInfo"),n=be.get("RSAPrivateKey"),{privateKey:i}=r.decode(e),{version:s,n:a,e:c,d:u,p,q:l,dp:d,dq:f,qi:h}=n.decode(i);if(s!=="two-prime")throw new nr.JOSENotSupported("Private RSA keys with more than two primes are not supported");return{kty:"RSA",n:P.encodeBigInt(a),e:P.encodeBigInt(c),d:P.encodeBigInt(u),p:P.encodeBigInt(p),q:P.encodeBigInt(l),dp:P.encodeBigInt(d),dq:P.encodeBigInt(f),qi:P.encodeBigInt(h)}},public(t){let e=t.export({type:"spki",format:"der"}),r=be.get("PublicKeyInfo"),n=be.get("RSAPublicKey"),{publicKey:{data:i}}=r.decode(e),{n:s,e:a}=n.decode(i);return{kty:"RSA",n:P.encodeBigInt(s),e:P.encodeBigInt(a)}}},ec:{private(t){let e=t.export({type:"pkcs8",format:"der"}),r=be.get("PrivateKeyInfo"),n=be.get("ECPrivateKey"),{privateKey:i,algorithm:{parameters:{value:s}}}=r.decode(e),{privateKey:a,publicKey:c}=n.decode(i);if(typeof c=="undefined"){if(sC)return j(b({},su.ec.public(kv(t))),{d:P.encodeBuffer(a)});throw new nr.JOSENotSupported("Private EC keys without the public key embedded are not supported in your Node.js runtime version")}let u=c.data.slice(1,(c.data.length-1)/2+1),p=c.data.slice((c.data.length-1)/2+1);return{kty:"EC",crv:s,d:P.encodeBuffer(a),x:P.encodeBuffer(u),y:P.encodeBuffer(p)}},public(t){let e=t.export({type:"spki",format:"der"}),r=be.get("PublicKeyInfo"),{publicKey:{data:n},algorithm:{parameters:{value:i}}}=r.decode(e),s=n.slice(1,(n.length-1)/2+1),a=n.slice((n.length-1)/2+1);return{kty:"EC",crv:i,x:P.encodeBuffer(s),y:P.encodeBuffer(a)}}},ed25519:{private(t){return qt.private("Ed25519",t)},public(t){return qt.public("Ed25519",t)}},ed448:{private(t){return qt.private("Ed448",t)},public(t){return qt.public("Ed448",t)}},x25519:{private(t){return qt.private("X25519",t)},public(t){return qt.public("X25519",t)}},x448:{private(t){return qt.private("X448",t)},public(t){return qt.public("X448",t)}}};au.exports.keyObjectToJWK=t=>t.type==="private"?su[t.asymmetricKeyType].private(t):su[t.asymmetricKeyType].public(t);var qv=o((t,e)=>({unused:0,data:Buffer.concat([Buffer.alloc(1,4),P.decodeToBuffer(t),P.decodeToBuffer(e)])}),"concatEcPublicKey"),Cv={RSA:{private(t,{calculateMissingRSAPrimes:e}){let r=be.get("RSAPrivateKey");if("oth"in t)throw new nr.JOSENotSupported("Private RSA keys with more than two primes are not supported");if(t.p||t.q||t.dp||t.dq||t.qi){if(!(t.p&&t.q&&t.dp&&t.dq&&t.qi))throw new nr.JWKInvalid("all other private key parameters must be present when any one of them is present")}else if(e)t=aC(t);else if(!e)throw new nr.JOSENotSupported("importing private RSA keys without all other private key parameters is not enabled, see documentation and its advisory on how and when its ok to enable it");return r.encode({version:0,n:BigInt(`0x${P.decodeToBuffer(t.n).toString("hex")}`),e:BigInt(`0x${P.decodeToBuffer(t.e).toString("hex")}`),d:BigInt(`0x${P.decodeToBuffer(t.d).toString("hex")}`),p:BigInt(`0x${P.decodeToBuffer(t.p).toString("hex")}`),q:BigInt(`0x${P.decodeToBuffer(t.q).toString("hex")}`),dp:BigInt(`0x${P.decodeToBuffer(t.dp).toString("hex")}`),dq:BigInt(`0x${P.decodeToBuffer(t.dq).toString("hex")}`),qi:BigInt(`0x${P.decodeToBuffer(t.qi).toString("hex")}`)},"pem",{label:"RSA PRIVATE KEY"})},public(t){return be.get("RSAPublicKey").encode({version:0,n:BigInt(`0x${P.decodeToBuffer(t.n).toString("hex")}`),e:BigInt(`0x${P.decodeToBuffer(t.e).toString("hex")}`)},"pem",{label:"RSA PUBLIC KEY"})}},EC:{private(t){return be.get("ECPrivateKey").encode({version:1,privateKey:P.decodeToBuffer(t.d),parameters:{type:"namedCurve",value:t.crv},publicKey:qv(t.x,t.y)},"pem",{label:"EC PRIVATE KEY"})},public(t){return be.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:{type:"namedCurve",value:t.crv}},publicKey:qv(t.x,t.y)},"pem",{label:"PUBLIC KEY"})}},OKP:{private(t){let r=be.get("OneAsymmetricKey").encode({version:0,privateKey:{privateKey:P.decodeToBuffer(t.d)},algorithm:{algorithm:t.crv}},"der");return r.write("04",12,1,"hex"),uC(r.toString("base64"),"PRIVATE")},public(t){return be.get("PublicKeyInfo").encode({algorithm:{algorithm:t.crv},publicKey:{unused:0,data:P.decodeToBuffer(t.x)}},"pem",{label:"PUBLIC KEY"})}}};au.exports.jwkToPem=(t,{calculateMissingRSAPrimes:e=!1}={})=>{switch(t.kty){case"EC":if(!cC.has(t.crv))throw new nr.JOSENotSupported(`unsupported EC key curve: ${t.crv}`);break;case"OKP":if(!oC.has(t.crv))throw new nr.JOSENotSupported(`unsupported OKP key curve: ${t.crv}`);break;case"RSA":break;default:throw new nr.JOSENotSupported(`unsupported key type: ${t.kty}`)}return t.d?Cv[t.kty].private(t,{calculateMissingRSAPrimes:e}):Cv[t.kty].public(t)}});var Av=m((kW,ea)=>{var{createHash:Iv}=require("crypto"),Pv=ye(),Rv=o((t,e)=>Pv.encodeBuffer(Iv(t).update(Buffer.from(e,"base64")).digest()),"x5t");ea.exports.kid=t=>Pv.encodeBuffer(Iv("sha256").update(JSON.stringify(t)).digest());ea.exports.x5t=Rv.bind(void 0,"sha1");ea.exports["x5t#S256"]=Rv.bind(void 0,"sha256")});var gt=m((qW,Kv)=>{var{strict:pC}=require("assert"),{inspect:jv}=require("util"),{EOL:cu}=require("os"),{keyObjectSupported:Nv}=Pe(),{createPublicKey:uu}=ne(),{keyObjectToJWK:lC}=ou(),{THUMBPRINT_MATERIAL:Mv,PUBLIC_MEMBERS:Oi,PRIVATE_MEMBERS:pu,JWK_MEMBERS:dC,KEYOBJECT:ki,USES_MAPPING:Bv,OPS:fC,USES:mC}=Y(),hC=Ue(),lu=Av(),ta=K(),Dv=Symbol("privateApi"),{JWK:vC}=mt(),du=class{constructor(e,{alg:r,use:n,kid:i,key_ops:s,x5c:a,x5t:c,"x5t#S256":u}={}){if(n!==void 0&&(typeof n!="string"||!mC.has(n)))throw new TypeError('`use` must be either "sig" or "enc" string when provided');if(r!==void 0&&(typeof r!="string"||!r))throw new TypeError("`alg` must be a non-empty string when provided");if(i!==void 0&&(typeof i!="string"||!i))throw new TypeError("`kid` must be a non-empty string when provided");if(s!==void 0){if(!Array.isArray(s)||!s.length||s.some(p=>typeof p!="string"))throw new TypeError("`key_ops` must be a non-empty array of strings when provided");s=Array.from(new Set(s)).filter(p=>fC.has(p))}if(s&&n&&(n==="enc"&&s.some(p=>Bv.sig.has(p))||n==="sig"&&s.some(p=>Bv.enc.has(p))))throw new ta.JWKInvalid('inconsistent JWK "use" and "key_ops"');if(Nv&&a!==void 0){if(!Array.isArray(a)||!a.length||a.some(p=>typeof p!="string"))throw new TypeError("`x5c` must be an array of one or more PKIX certificates when provided");a.forEach((p,l)=>{let d;try{d=uu({key:`-----BEGIN CERTIFICATE-----${cu}${(p.match(/.{1,64}/g)||[]).join(cu)}${cu}-----END CERTIFICATE-----`,format:"pem"})}catch(f){throw new ta.JWKInvalid(`\`x5c\` member at index ${l} is not a valid base64-encoded DER PKIX certificate`)}if(l===0)try{pC.deepEqual(d.export({type:"spki",format:"der"}),(e.type==="public"?e:uu(e)).export({type:"spki",format:"der"}))}catch(f){throw new ta.JWKInvalid("The key in the first `x5c` certificate MUST match the public key represented by the JWK")}})}Object.defineProperties(this,j(b(b({[ki]:{value:hC(e)?void 0:e},keyObject:{get(){if(!Nv)throw new ta.JOSENotSupported("KeyObject class is not supported in your Node.js runtime version");return this[ki]}},type:{value:e.type},private:{value:e.type==="private"},public:{value:e.type==="public"},secret:{value:e.type==="secret"},alg:{value:r,enumerable:r!==void 0},use:{value:n,enumerable:n!==void 0},x5c:b({enumerable:a!==void 0},a?{get(){return[...a]}}:{value:void 0}),key_ops:b({enumerable:s!==void 0},s?{get(){return[...s]}}:{value:void 0}),kid:b({enumerable:!0},i?{value:i}:{get(){return Object.defineProperty(this,"kid",{value:this.thumbprint,configurable:!1}),this.kid},configurable:!0})},a?{x5t:b({enumerable:!0},c?{value:c}:{get(){return Object.defineProperty(this,"x5t",{value:lu.x5t(this.x5c[0]),configurable:!1}),this.x5t},configurable:!0})}:void 0),a?{"x5t#S256":b({enumerable:!0},u?{value:u}:{get(){return Object.defineProperty(this,"x5t#S256",{value:lu["x5t#S256"](this.x5c[0]),configurable:!1}),this["x5t#S256"]},configurable:!0})}:void 0),{thumbprint:{get(){return Object.defineProperty(this,"thumbprint",{value:lu.kid(this[Mv]()),configurable:!1}),this.thumbprint},configurable:!0}}))}toPEM(e=!1,r={}){if(this.secret)throw new TypeError("symmetric keys cannot be exported as PEM");if(e&&this.public===!0)throw new TypeError("public key cannot be exported as private");let{type:n=e?"pkcs8":"spki",cipher:i,passphrase:s}=r,a=this[ki];if(!e&&(this.private&&(a=uu(a)),i||s))throw new TypeError("cipher and passphrase can only be applied when exporting private keys");return e?a.export({format:"pem",type:n,cipher:i,passphrase:s}):a.export({format:"pem",type:n})}toJWK(e=!1){if(e&&this.public===!0)throw new TypeError("public key cannot be exported as private");let r=[...this.constructor[e?pu:Oi]].map(i=>[i,this[i]]),n={};return Object.keys(r).forEach(i=>{let[s,a]=r[i];n[s]=a}),n.kty=this.kty,n.kid=this.kid,this.alg&&(n.alg=this.alg),this.key_ops&&this.key_ops.length&&(n.key_ops=this.key_ops),this.use&&(n.use=this.use),this.x5c&&(n.x5c=this.x5c),this.x5t&&(n.x5t=this.x5t),this["x5t#S256"]&&(n["x5t#S256"]=this["x5t#S256"]),n}[dC](){let e=this[ki].type==="private"?this.constructor[pu]:this.constructor[Oi];Object.defineProperties(this,[...e].reduce((r,n)=>(r[n]={get(){let i=lC(this[ki]);return Object.defineProperties(this,Object.entries(i).filter(([s])=>e.has(s)).reduce((s,[a,c])=>(s[a]={value:c,enumerable:this.constructor[Oi].has(a),configurable:!1},s),{})),this[n]},enumerable:this.constructor[Oi].has(n),configurable:!0},r),{}))}[jv.custom](){return`${this.constructor.name} ${jv(this.toJWK(!1),{depth:Infinity,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}[Mv](){throw new Error(`"[THUMBPRINT_MATERIAL]()" is not implemented on ${this.constructor.name}`)}algorithms(e,r,n){let{use:i=this.use,alg:s=this.alg,key_ops:a=this.key_ops}=r===Dv?n:{};if(s)return new Set(this.algorithms(e,Dv,{alg:null,use:i,key_ops:a}).has(s)?[s]:void 0);if(typeof e=="symbol")try{return this[e]()}catch(c){return new Set}if(e&&a&&!a.includes(e))return new Set;switch(e){case"decrypt":case"deriveKey":case"encrypt":case"sign":case"unwrapKey":case"verify":case"wrapKey":return new Set(Object.entries(vC[this.kty][e]).map(([c,u])=>u(this)?c:void 0).filter(Boolean));case void 0:return new Set([...this.algorithms("sign"),...this.algorithms("verify"),...this.algorithms("decrypt"),...this.algorithms("encrypt"),...this.algorithms("unwrapKey"),...this.algorithms("wrapKey"),...this.algorithms("deriveKey")]);default:throw new TypeError("invalid key operation")}}static async generate(){throw new Error(`"static async generate()" is not implemented on ${this.name}`)}static generateSync(){throw new Error(`"static generateSync()" is not implemented on ${this.name}`)}static get[Oi](){throw new Error(`"static get [PUBLIC_MEMBERS]()" is not implemented on ${this.name}`)}static get[pu](){throw new Error(`"static get [PRIVATE_MEMBERS]()" is not implemented on ${this.name}`)}};o(du,"Key");Kv.exports=du});var hu=m((CW,Wv)=>{var{generateKeyPairSync:Fv,generateKeyPair:gC}=require("crypto"),{promisify:yC}=require("util"),{THUMBPRINT_MATERIAL:_C,JWK_MEMBERS:bC,PUBLIC_MEMBERS:xC,PRIVATE_MEMBERS:SC,KEY_MANAGEMENT_DECRYPT:EC,KEY_MANAGEMENT_ENCRYPT:wC}=Y(),{keyObjectSupported:Lv}=Pe(),{createPublicKey:Hv,createPrivateKey:Uv}=ne(),TC=gt(),$v=yC(gC),fu=new Set(["e","n"]);Object.freeze(fu);var Jv=new Set([...fu,"d","p","q","dp","dq","qi"]);Object.freeze(Jv);var mu=class extends TC{constructor(...e){super(...e);this[bC](),Object.defineProperties(this,{kty:{value:"RSA",enumerable:!0},length:{get(){return Object.defineProperty(this,"length",{value:Buffer.byteLength(this.n,"base64")*8,configurable:!1}),this.length},configurable:!0}})}static get[xC](){return fu}static get[SC](){return Jv}[_C](){return{e:this.e,kty:"RSA",n:this.n}}[wC](){return this.algorithms("wrapKey")}[EC](){return this.algorithms("unwrapKey")}static async generate(e=2048,r=!0){if(!Number.isSafeInteger(e)||e<512||e%8!=0||"electron"in process.versions&&e%128!=0)throw new TypeError("invalid bit length");let n,i;return Lv?({privateKey:n,publicKey:i}=await $v("rsa",{modulusLength:e}),r?n:i):({privateKey:n,publicKey:i}=await $v("rsa",{modulusLength:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),r?Uv(n):Hv(i))}static generateSync(e=2048,r=!0){if(!Number.isSafeInteger(e)||e<512||e%8!=0||"electron"in process.versions&&e%128!=0)throw new TypeError("invalid bit length");let n,i;return Lv?({privateKey:n,publicKey:i}=Fv("rsa",{modulusLength:e}),r?n:i):({privateKey:n,publicKey:i}=Fv("rsa",{modulusLength:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),r?Uv(n):Hv(i))}};o(mu,"RSAKey");Wv.exports=mu});var bu=m((IW,eg)=>{var{generateKeyPairSync:zv,generateKeyPair:OC}=require("crypto"),{promisify:kC}=require("util"),{THUMBPRINT_MATERIAL:qC,JWK_MEMBERS:CC,PUBLIC_MEMBERS:IC,PRIVATE_MEMBERS:PC,KEY_MANAGEMENT_DECRYPT:RC,KEY_MANAGEMENT_ENCRYPT:AC}=Y(),{EC_CURVES:vu}=mt(),{keyObjectSupported:Gv}=Pe(),{createPublicKey:Yv,createPrivateKey:Vv}=ne(),gu=K(),{name:Xv}=Pr(),jC=gt(),Zv=kC(OC),yu=new Set(["crv","x","y"]);Object.freeze(yu);var Qv=new Set([...yu,"d"]);Object.freeze(Qv);var _u=class extends jC{constructor(...e){super(...e);if(this[CC](),Object.defineProperty(this,"kty",{value:"EC",enumerable:!0}),!vu.has(this.crv))throw new gu.JOSENotSupported("unsupported EC key curve")}static get[IC](){return yu}static get[PC](){return Qv}[qC](){return{crv:this.crv,kty:"EC",x:this.x,y:this.y}}[AC](){return this.algorithms("deriveKey")}[RC](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(e="P-256",r=!0){if(!vu.has(e))throw new gu.JOSENotSupported(`unsupported EC key curve: ${e}`);e===Xv&&e!=="secp256k1"&&(e="secp256k1");let n,i;return Gv?({privateKey:n,publicKey:i}=await Zv("ec",{namedCurve:e}),r?n:i):({privateKey:n,publicKey:i}=await Zv("ec",{namedCurve:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),r?Vv(n):Yv(i))}static generateSync(e="P-256",r=!0){if(!vu.has(e))throw new gu.JOSENotSupported(`unsupported EC key curve: ${e}`);e===Xv&&e!=="secp256k1"&&(e="secp256k1");let n,i;return Gv?({privateKey:n,publicKey:i}=zv("ec",{namedCurve:e}),r?n:i):({privateKey:n,publicKey:i}=zv("ec",{namedCurve:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),r?Vv(n):Yv(i))}};o(_u,"ECKey");eg.exports=_u});var wu=m((PW,ng)=>{var{generateKeyPairSync:NC,generateKeyPair:MC}=require("crypto"),{promisify:BC}=require("util"),{THUMBPRINT_MATERIAL:DC,JWK_MEMBERS:KC,PUBLIC_MEMBERS:FC,PRIVATE_MEMBERS:LC,KEY_MANAGEMENT_DECRYPT:HC,KEY_MANAGEMENT_ENCRYPT:UC}=Y(),{OKP_CURVES:xu}=mt(),{edDSASupported:tg}=Pe(),qi=K(),$C=gt(),JC=BC(MC),Su=new Set(["crv","x"]);Object.freeze(Su);var rg=new Set([...Su,"d"]);Object.freeze(rg);var Eu=class extends $C{constructor(...e){super(...e);if(this[KC](),Object.defineProperty(this,"kty",{value:"OKP",enumerable:!0}),!xu.has(this.crv))throw new qi.JOSENotSupported("unsupported OKP key curve")}static get[FC](){return Su}static get[LC](){return rg}[DC](){return{crv:this.crv,kty:"OKP",x:this.x}}[UC](){return this.algorithms("deriveKey")}[HC](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(e="Ed25519",r=!0){if(!tg)throw new qi.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!xu.has(e))throw new qi.JOSENotSupported(`unsupported OKP key curve: ${e}`);let{privateKey:n,publicKey:i}=await JC(e.toLowerCase());return r?n:i}static generateSync(e="Ed25519",r=!0){if(!tg)throw new qi.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!xu.has(e))throw new qi.JOSENotSupported(`unsupported OKP key curve: ${e}`);let{privateKey:n,publicKey:i}=NC(e.toLowerCase());return r?n:i}};o(Eu,"OKPKey");ng.exports=Eu});var ra=m((RW,cg)=>{var{randomBytes:WC}=require("crypto"),{createSecretKey:zC}=ne(),GC=ye(),{THUMBPRINT_MATERIAL:YC,PUBLIC_MEMBERS:VC,PRIVATE_MEMBERS:XC,KEY_MANAGEMENT_DECRYPT:ZC,KEY_MANAGEMENT_ENCRYPT:ig,KEYOBJECT:hn}=Y(),sg=gt(),ag=new Set;Object.freeze(ag);var og=new Set(["k"]);Object.freeze(og);var Tu=class extends sg{constructor(...e){super(...e);Object.defineProperties(this,{kty:{value:"oct",enumerable:!0},length:{value:this[hn]?this[hn].symmetricKeySize*8:void 0},k:{enumerable:!1,get(){return this[hn]?Object.defineProperty(this,"k",{value:GC.encodeBuffer(this[hn].export()),configurable:!1}):Object.defineProperty(this,"k",{value:void 0,configurable:!1}),this.k},configurable:!0}})}static get[VC](){return ag}static get[XC](){return og}[YC](){if(!this[hn])throw new TypeError('reference "oct" keys without "k" cannot have their thumbprint calculated');return{k:this.k,kty:"oct"}}[ig](){return new Set([...this.algorithms("wrapKey"),...this.algorithms("deriveKey")])}[ZC](){return this[ig]()}algorithms(...e){return this[hn]?sg.prototype.algorithms.call(this,...e):new Set}static async generate(...e){return this.generateSync(...e)}static generateSync(e=256,r=!0){if(!r)throw new TypeError('"oct" keys cannot be generated as public');if(!Number.isSafeInteger(e)||!e||e%8!=0)throw new TypeError("invalid bit length");return zC(WC(e/8))}};o(Tu,"OctKey");cg.exports=Tu});var vn=m((AW,dg)=>{var{deprecate:QC}=require("util"),{createPublicKey:ug,createPrivateKey:pg,createSecretKey:lg,KeyObject:eI}=ne(),tI=ye(),rI=Ue(),{jwkToPem:nI}=ou(),Ci=K(),iI=hu(),sI=bu(),aI=wu(),oI=ra(),cI=new Set(["string","buffer","object"]),Ou=o((t={},e={})=>b({alg:e.alg,key_ops:e.key_ops,kid:e.kid,use:e.use,x5c:e.x5c,x5t:e.x5t,"x5t#S256":e["x5t#S256"]},t),"mergedParameters"),uI=/^[a-zA-Z0-9-]+ AAAA(?:[0-9A-Za-z+/])+(?:==|=)?(?: .*)?$/,ku=o((t,e,{calculateMissingRSAPrimes:r=!1}={})=>{let n,i,s;if(!cI.has(typeof t))throw new TypeError("key argument must be a string, buffer or an object");if(e!==void 0&&!rI(e))throw new TypeError("parameters argument must be a plain object when provided");if(t instanceof eI)switch(t.type){case"private":n=t;break;case"public":i=t;break;case"secret":s=t;break}else if(typeof t=="object"&&t&&"kty"in t&&t.kty==="oct"){try{s=lg(tI.decodeToBuffer(t.k))}catch(c){"k"in t||(s={type:"secret"})}e=Ou(e,t)}else if(typeof t=="object"&&t&&"kty"in t){({calculateMissingRSAPrimes:r=!1}=e||{calculateMissingRSAPrimes:r});let c;try{c=nI(t,{calculateMissingRSAPrimes:r})}catch(u){if(u instanceof Ci.JOSEError)throw u}c&&t.d?n=pg(c):c&&(i=ug(c)),e=Ou({},t)}else if(t&&(typeof t=="object"||typeof t=="string")){try{n=pg(t)}catch(c){if(c instanceof Ci.JOSEError)throw c}try{i=ug(t),t.startsWith("-----BEGIN CERTIFICATE-----")&&(!e||!("x5c"in e))&&(e=Ou(e,{x5c:[t.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,"")]}))}catch(c){if(c instanceof Ci.JOSEError)throw c}try{!t.includes("-----BEGIN")&&!uI.test(t.toString("ascii").replace(/[\r\n]/g,""))&&(s=lg(Buffer.isBuffer(t)?t:Buffer.from(t)))}catch(c){}}let a=n||i||s;if(n||i)switch(a.asymmetricKeyType){case"rsa":return new iI(a,e);case"ec":return new sI(a,e);case"ed25519":case"ed448":case"x25519":case"x448":return new aI(a,e);default:throw new Ci.JOSENotSupported("only RSA, EC and OKP asymmetric keys are supported")}else if(s)return new oI(a,e);throw new Ci.JWKImportFailed("key import failed")},"asKey");dg.exports=ku;Object.defineProperty(ku,"deprecated",{value:QC((t,e)=>ku(t,e,{calculateMissingRSAPrimes:!0}),"JWK.importKey() is deprecated, use JWK.asKey() instead"),enumerable:!1})});var Ii=m((jW,qu)=>{var fg=K(),ir=vn(),mg=hu(),hg=bu(),vg=wu(),gg=ra(),pI=o(async(t,e,r,n=!0)=>{switch(t){case"RSA":return ir(await mg.generate(e,n),r);case"EC":return ir(await hg.generate(e,n),r);case"OKP":return ir(await vg.generate(e,n),r);case"oct":return ir(await gg.generate(e,n),r);default:throw new fg.JOSENotSupported(`unsupported key type: ${t}`)}},"generate"),lI=o((t,e,r,n=!0)=>{switch(t){case"RSA":return ir(mg.generateSync(e,n),r);case"EC":return ir(hg.generateSync(e,n),r);case"OKP":return ir(vg.generateSync(e,n),r);case"oct":return ir(gg.generateSync(e,n),r);default:throw new fg.JOSENotSupported(`unsupported key type: ${t}`)}},"generateSync");qu.exports.generate=pI;qu.exports.generateSync=lI});var _g=m((NW,yg)=>{var{inspect:dI}=require("util"),fI=gt(),Cu=class extends fI{constructor(){super({type:"unsecured"},{alg:"none"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[dI.custom](){return"None {}"}algorithms(e){switch(e){case"sign":case"verify":case void 0:return new Set(["none"]);default:return new Set}}};o(Cu,"NoneKey");yg.exports=new Cu});var xg=m((MW,bg)=>{var{inspect:mI}=require("util"),hI=gt(),Iu=class extends hI{constructor(){super({type:"embedded"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[mI.custom](){return"Embedded.JWK {}"}algorithms(){return new Set}};o(Iu,"EmbeddedJWK");bg.exports=new Iu});var Eg=m((BW,Sg)=>{var{inspect:vI}=require("util"),gI=gt(),Pu=class extends gI{constructor(){super({type:"embedded"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[vI.custom](){return"Embedded.X5C {}"}algorithms(){return new Set}};o(Pu,"EmbeddedX5C");Sg.exports=new Pu});var Pi=m((DW,Ru)=>{var yI=gt(),_I=_g(),bI=xg(),xI=Eg(),wg=vn(),SI=Ii();Ru.exports=j(b({},SI),{asKey:wg,isKey:t=>t instanceof yI,None:_I,EmbeddedJWK:bI,EmbeddedX5C:xI});Object.defineProperty(Ru.exports,"importKey",{value:wg.deprecated,enumerable:!1})});var ju=m((KW,Cg)=>{var{deprecate:EI,inspect:Tg}=require("util"),Og=Ue(),{generate:wI,generateSync:TI}=Ii(),{USES_MAPPING:OI}=Y(),{isKey:Au,asKey:kI}=Pi(),kg=o((t,{alg:e,use:r,ops:n})=>{let i=0;return e&&t.alg&&i++,r&&t.use&&i++,n&&t.key_ops&&i++,i},"keyscore"),Ri=class{constructor(...e){for(;e.some(Array.isArray);)e=e.flat?e.flat():e.reduce((r,n)=>Array.isArray(n)?[...r,...n]:(r.push(n),r),[]);if(e.some(r=>!Au(r)||!r.kty))throw new TypeError("all keys must be instances of a key instantiated by JWK.asKey");this._keys=new Set(e)}all({alg:e,kid:r,thumbprint:n,use:i,kty:s,key_ops:a,x5t:c,"x5t#S256":u,crv:p}={}){if(a!==void 0&&(!Array.isArray(a)||!a.length||a.some(d=>typeof d!="string")))throw new TypeError("`key_ops` must be a non-empty array of strings");let l={alg:e,use:i,ops:a};return[...this._keys].filter(d=>{let f=!0;if(f&&r!==void 0&&d.kid!==r&&(f=!1),f&&n!==void 0&&d.thumbprint!==n&&(f=!1),f&&c!==void 0&&d.x5t!==c&&(f=!1),f&&u!==void 0&&d["x5t#S256"]!==u&&(f=!1),f&&s!==void 0&&d.kty!==s&&(f=!1),f&&p!==void 0&&d.crv!==p&&(f=!1),e!==void 0&&!d.algorithms().has(e)&&(f=!1),f&&i!==void 0&&d.use!==void 0&&d.use!==i&&(f=!1),f&&a!==void 0&&(d.key_ops!==void 0||d.use!==void 0)){let h;d.key_ops?h=new Set(d.key_ops):h=OI[d.use],a.some(v=>!h.has(v))&&(f=!1)}return f}).sort((d,f)=>kg(f,l)-kg(d,l))}get(...e){return this.all(...e)[0]}add(e){if(!Au(e)||!e.kty)throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.add(e)}remove(e){if(!Au(e))throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.delete(e)}toJWKS(e=!1){return{keys:[...this._keys.values()].map(r=>r.toJWK(e&&(r.private||r.secret&&r.k)))}}async generate(...e){this._keys.add(await wI(...e))}generateSync(...e){this._keys.add(TI(...e))}get size(){return this._keys.size}[Tg.custom](){return`${this.constructor.name} ${Tg(this.toJWKS(!1),{depth:Infinity,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}*[Symbol.iterator](){for(let e of this._keys)yield e}};o(Ri,"KeyStore");function qg(t,{ignoreErrors:e=!1,calculateMissingRSAPrimes:r=!1}={}){if(!Og(t)||!Array.isArray(t.keys)||t.keys.some(i=>!Og(i)||!("kty"in i)))throw new TypeError("jwks must be a JSON Web Key Set formatted object");let n=t.keys.map(i=>{try{return kI(i,{calculateMissingRSAPrimes:r})}catch(s){if(!e)throw s}}).filter(Boolean);return new Ri(...n)}o(qg,"asKeyStore");Object.defineProperty(Ri,"fromJWKS",{value:EI(t=>qg(t,{calculateMissingRSAPrimes:!0}),"JWKS.KeyStore.fromJWKS() is deprecated, use JWKS.asKeyStore() instead"),enumerable:!1});Cg.exports={KeyStore:Ri,asKeyStore:qg}});var jr=m((FW,Pg)=>{var Ig=K(),qI=gt(),CI=vn(),{KeyStore:II}=ju();Pg.exports=(t,e=!1)=>{if(t instanceof qI)return t;if(t instanceof II){if(!e)throw new TypeError("key argument for this operation must not be a JWKS.KeyStore instance");return t}try{return CI(t)}catch(r){if(r instanceof Ig.JOSEError&&!(r instanceof Ig.JWKImportFailed))throw r;let n;throw e?n="key must be an instance of a key instantiated by JWK.asKey, a valid JWK.asKey input, or a JWKS.KeyStore instance":n="key must be an instance of a key instantiated by JWK.asKey, or a valid JWK.asKey input",new TypeError(n)}}});var Nu=m((LW,Rg)=>{Rg.exports=t=>JSON.parse(JSON.stringify(t))});var Mu=m((HW,jg)=>{var{timingSafeEqual:PI}=require("crypto"),Ag=o((t,e)=>{if(t.length===e)return t;let r=Buffer.alloc(e);return t.copy(r),r},"paddedBuffer"),RI=o((t,e)=>{let r=Math.max(t.length,e.length);return PI(Ag(t,r),Ag(e,r))},"timingSafeEqual");jg.exports=RI});var Ai=m((UW,Ng)=>{Ng.exports=t=>`sha${t.substr(2,3)}`});var Dg=m(($W,Bg)=>{var{createHmac:AI}=require("crypto"),{KEYOBJECT:jI}=Y(),NI=Mu(),MI=Ai(),{asInput:BI}=ne(),Mg=o((t,e,{[jI]:r},n)=>{let i=AI(e,BI(r,!1));return i.update(n),i.digest()},"sign"),DI=o((t,e,r,n,i)=>{let s=Mg(t,e,r,n);return NI(i,s)},"verify");Bg.exports=(t,e)=>{["HS256","HS384","HS512"].forEach(r=>{let n=MI(r);t.sign.set(r,Mg.bind(void 0,r,n)),t.verify.set(r,DI.bind(void 0,r,n)),e.oct.sign[r]=e.oct.verify[r]=i=>i.use==="sig"||i.use===void 0})}});var Hg=m((JW,Bu)=>{var na=128,Kg=0,KI=32,FI=16,LI=2,Fg=FI|KI|Kg<<6,ia=LI|Kg<<6,sa=o(t=>(t/8|0)+(t%8==0?0:1),"getParamSize"),aa={ES256:sa(256),ES256K:sa(256),ES384:sa(384),ES512:sa(521)},Lg=o((t,e,r)=>{let n=0;for(;e+n<r&&t[e+n]===0;)++n;return t[e+n]>=na&&--n,n},"countPadding");Bu.exports.derToJose=(t,e)=>{if(!Buffer.isBuffer(t))throw new TypeError("ECDSA signature must be a Buffer");if(!aa[e])throw new Error(`Unknown algorithm "${e}"`);let r=aa[e],n=r+1,i=t.length,s=0;if(t[s++]!==Fg)throw new Error('Could not find expected "seq"');let a=t[s++];if(a===(na|1)&&(a=t[s++]),i-s<a)throw new Error(`"seq" specified length of ${a}", only ${i-s}" remaining`);if(t[s++]!==ia)throw new Error('Could not find expected "int" for "r"');let c=t[s++];if(i-s-2<c)throw new Error(`"r" specified length of "${c}", only "${i-s-2}" available`);if(n<c)throw new Error(`"r" specified length of "${c}", max of "${n}" is acceptable`);let u=s;if(s+=c,t[s++]!==ia)throw new Error('Could not find expected "int" for "s"');let p=t[s++];if(i-s!==p)throw new Error(`"s" specified length of "${p}", expected "${i-s}"`);if(n<p)throw new Error(`"s" specified length of "${p}", max of "${n}" is acceptable`);let l=s;if(s+=p,s!==i)throw new Error(`Expected to consume entire buffer, but "${i-s}" bytes remain`);let d=r-c,f=r-p,h=Buffer.allocUnsafe(d+c+f+p);for(s=0;s<d;++s)h[s]=0;t.copy(h,s,u+Math.max(-d,0),u+c),s=r;for(let v=s;s<v+f;++s)h[s]=0;return t.copy(h,s,l+Math.max(-f,0),l+p),h};Bu.exports.joseToDer=(t,e)=>{if(!Buffer.isBuffer(t))throw new TypeError("ECDSA signature must be a Buffer");if(!aa[e])throw new TypeError(`Unknown algorithm "${e}"`);let r=aa[e],n=t.length;if(n!==r*2)throw new Error(`"${e}" signatures must be "${r*2}" bytes, saw "${n}"`);let i=Lg(t,0,r),s=Lg(t,r,t.length),a=r-i,c=r-s,u=1+1+a+1+1+c,p=u<na,l=Buffer.allocUnsafe((p?2:3)+u),d=0;return l[d++]=Fg,p?l[d++]=u:(l[d++]=na|1,l[d++]=u&255),l[d++]=ia,l[d++]=a,i<0?(l[d++]=0,d+=t.copy(l,d,0,r)):d+=t.copy(l,d,i,r),l[d++]=ia,l[d++]=c,s<0?(l[d++]=0,t.copy(l,d,r)):t.copy(l,d,r+s),l}});var $g=m((WW,Ug)=>{var{sign:HI,verify:UI,createSign:$I,createVerify:JI,getCurves:oa}=require("crypto"),{derToJose:WI,joseToDer:zI}=Hg(),{KEYOBJECT:ca}=Y(),GI=Ai(),{asInput:ua}=ne(),{dsaEncodingSupported:YI}=Pe(),{name:VI}=Pr(),Du,Ku;YI?(Du=o((t,e,{[ca]:r},n)=>(typeof n=="string"&&(n=Buffer.from(n)),HI(e,n,{key:ua(r,!1),dsaEncoding:"ieee-p1363"})),"sign"),Ku=o((t,e,{[ca]:r},n,i)=>{try{return UI(e,n,{key:ua(r,!0),dsaEncoding:"ieee-p1363"},i)}catch(s){return!1}},"verify")):(Du=o((t,e,{[ca]:r},n)=>WI($I(e).update(n).sign(ua(r,!1)),t),"sign"),Ku=o((t,e,{[ca]:r},n,i)=>{try{return JI(e).update(n).verify(ua(r,!0),zI(i,t))}catch(s){return!1}},"verify"));var XI=o(t=>{switch(t){case"P-256":return"ES256";case VI:return"ES256K";case"P-384":return"ES384";case"P-521":return"ES512"}},"crvToAlg");Ug.exports=(t,e)=>{let r=[];oa().includes("prime256v1")&&r.push("ES256"),oa().includes("secp256k1")&&r.push("ES256K"),oa().includes("secp384r1")&&r.push("ES384"),oa().includes("secp521r1")&&r.push("ES512"),r.forEach(n=>{let i=GI(n);t.sign.set(n,Du.bind(void 0,n,i)),t.verify.set(n,Ku.bind(void 0,n,i)),e.EC.sign[n]=s=>s.private&&e.EC.verify[n](s),e.EC.verify[n]=s=>(s.use==="sig"||s.use===void 0)&&XI(s.crv)===n})}});var zg=m((zW,Wg)=>{var{sign:ZI,verify:QI}=require("crypto"),{KEYOBJECT:Jg}=Y(),{edDSASupported:eP}=Pe(),tP=o(({[Jg]:t},e)=>(typeof e=="string"&&(e=Buffer.from(e)),ZI(void 0,e,t)),"sign"),rP=o(({[Jg]:t},e,r)=>QI(void 0,e,t,r),"verify");Wg.exports=(t,e)=>{eP&&(t.sign.set("EdDSA",tP),t.verify.set("EdDSA",rP),e.OKP.sign.EdDSA=r=>r.private&&e.OKP.verify.EdDSA(r),e.OKP.verify.EdDSA=r=>(r.use==="sig"||r.use===void 0)&&r.keyObject.asymmetricKeyType.startsWith("ed"))}});var Xg=m((GW,Vg)=>{var{createSign:nP,createVerify:iP,constants:pa}=require("crypto"),{KEYOBJECT:Gg}=Y(),sP=Ai(),{asInput:Yg}=ne(),aP=o((t,{[Gg]:e},r)=>{let n=Yg(e,!1);return nP(t).update(r).sign({key:n,padding:pa.RSA_PKCS1_PSS_PADDING,saltLength:pa.RSA_PSS_SALTLEN_DIGEST})},"sign"),oP=o((t,{[Gg]:e},r,n)=>{let i=Yg(e,!0);return iP(t).update(r).verify({key:i,padding:pa.RSA_PKCS1_PSS_PADDING,saltLength:pa.RSA_PSS_SALTLEN_DIGEST},n)},"verify"),cP={PS256:528,PS384:784,PS512:1040};Vg.exports=(t,e)=>{["PS256","PS384","PS512"].forEach(r=>{let n=sP(r);t.sign.set(r,aP.bind(void 0,n)),t.verify.set(r,oP.bind(void 0,n)),e.RSA.sign[r]=i=>i.private&&e.RSA.verify[r](i),e.RSA.verify[r]=i=>(i.use==="sig"||i.use===void 0)&&i.length>=cP[r]})}});var ty=m((YW,ey)=>{var{createSign:uP,createVerify:pP}=require("crypto"),{KEYOBJECT:Zg}=Y(),lP=Ai(),{asInput:Qg}=ne(),dP=o((t,{[Zg]:e},r)=>uP(t).update(r).sign(Qg(e,!1)),"sign"),fP=o((t,{[Zg]:e},r,n)=>pP(t).update(r).verify(Qg(e,!0),n),"verify"),mP={RS256:0,RS384:624,RS512:752};ey.exports=(t,e)=>{["RS256","RS384","RS512"].forEach(r=>{let n=lP(r);t.sign.set(r,dP.bind(void 0,n)),t.verify.set(r,fP.bind(void 0,n)),e.RSA.sign[r]=i=>i.private&&e.RSA.verify[r](i),e.RSA.verify[r]=i=>(i.use==="sig"||i.use===void 0)&&i.length>=mP[r]})}});var ny=m((VW,ry)=>{var hP=o(()=>Buffer.from(""),"sign"),vP=o((t,e,r)=>!r.length,"verify");ry.exports=(t,e)=>{t.sign.set("none",hP),t.verify.set("none",vP)}});var ay=m((XW,sy)=>{var iy=Math.pow(2,32);sy.exports=(t,e=Buffer.allocUnsafe(8))=>{let r=Math.floor(t/iy),n=t%iy;return e.writeUInt32BE(r,0),e.writeUInt32BE(n,4),e}});var dy=m((ZW,ly)=>{var{createCipheriv:gP,createDecipheriv:yP,getCiphers:_P}=require("crypto"),oy=ay(),bP=Mu(),{KEYOBJECT:la}=Y(),{JWEInvalid:cy,JWEDecryptionFailed:uy}=K(),py=o(function(t,e,r){if(e.length!==16)throw new cy("invalid iv");if(arguments.length===3&&r.length!==t/8)throw new cy("invalid tag")},"checkInput"),xP=o((t,e,{[la]:r},n,{iv:i,aad:s=Buffer.alloc(0)})=>{let a=r.export();py(t,i);let c=t/8,u=a.slice(c),p=gP(`aes-${t}-cbc`,u,i),l=Buffer.concat([p.update(n),p.final()]),d=Buffer.concat([s,i,l,oy(s.length*8)]),f=a.slice(0,c),h=e({[la]:f},d).slice(0,c);return{ciphertext:l,tag:h}},"encrypt"),SP=o((t,e,{[la]:r},n,{iv:i,tag:s=Buffer.alloc(0),aad:a=Buffer.alloc(0)})=>{py(t,i,s);let c=t/8,u=r.export(),p=u.slice(c),l=u.slice(0,c),d=Buffer.concat([a,i,n,oy(a.length*8)]),f=e({[la]:l},d,s).slice(0,c);if(!bP(s,f))throw new uy;let v;try{let g=yP(`aes-${t}-cbc`,p,i);v=Buffer.concat([g.update(n),g.final()])}catch(g){}if(!v)throw new uy;return v},"decrypt");ly.exports=(t,e)=>{["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach(r=>{let n=parseInt(r.substr(1,3),10),i=t.sign.get(`HS${n*2}`);_P().includes(`aes-${n}-cbc`)&&(t.encrypt.set(r,xP.bind(void 0,n,i)),t.decrypt.set(r,SP.bind(void 0,n,i)),e.oct.encrypt[r]=e.oct.decrypt[r]=s=>(s.use==="enc"||s.use===void 0)&&s.length/2===n)})}});var yy=m((QW,gy)=>{var{createCipheriv:EP,createDecipheriv:wP,getCiphers:TP}=require("crypto"),{KEYOBJECT:fy}=Y(),{JWEInvalid:my,JWEDecryptionFailed:OP}=K(),{asInput:hy}=ne(),vy=o(function(t,e,r){if(e.length!==12)throw new my("invalid iv");if(arguments.length===3&&r.length!==16)throw new my("invalid tag")},"checkInput"),kP=o((t,{[fy]:e},r,{iv:n,aad:i=Buffer.alloc(0)})=>{let s=hy(e,!1);vy(t,n);let a=EP(`aes-${t}-gcm`,s,n,{authTagLength:16});a.setAAD(i);let c=Buffer.concat([a.update(r),a.final()]),u=a.getAuthTag();return{ciphertext:c,tag:u}},"encrypt"),qP=o((t,{[fy]:e},r,{iv:n,tag:i=Buffer.alloc(0),aad:s=Buffer.alloc(0)})=>{let a=hy(e,!1);vy(t,n,i);try{let c=wP(`aes-${t}-gcm`,a,n,{authTagLength:16});return c.setAuthTag(i),c.setAAD(s),Buffer.concat([c.update(r),c.final()])}catch(c){throw new OP}},"decrypt");gy.exports=(t,e)=>{["A128GCM","A192GCM","A256GCM"].forEach(r=>{let n=parseInt(r.substr(1,3),10);TP().includes(`aes-${n}-gcm`)&&(t.encrypt.set(r,kP.bind(void 0,n)),t.decrypt.set(r,qP.bind(void 0,n)),e.oct.encrypt[r]=e.oct.decrypt[r]=i=>(i.use==="enc"||i.use===void 0)&&i.length===n)})}});var wy=m((e5,Ey)=>{var{publicEncrypt:CP,privateDecrypt:IP,constants:_y}=require("crypto"),{oaepHashSupported:PP}=Pe(),{KEYOBJECT:by}=Y(),{asInput:xy}=ne(),RP=o(t=>{switch(t){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return _y.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return _y.RSA_PKCS1_PADDING}},"resolvePadding"),AP=o(t=>{switch(t){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}},"resolveOaepHash"),jP=o((t,e,{[by]:r},n)=>{let i=xy(r,!0);return{wrapped:CP({key:i,oaepHash:e,padding:t},n)}},"wrapKey"),NP=o((t,e,{[by]:r},n)=>{let i=xy(r,!1);return IP({key:i,oaepHash:e,padding:t},n)},"unwrapKey"),Sy={RSA1_5:0,"RSA-OAEP":592,"RSA-OAEP-256":784,"RSA-OAEP-384":1040,"RSA-OAEP-512":1296};Ey.exports=(t,e)=>{let r=["RSA-OAEP","RSA1_5"];PP&&r.splice(1,0,"RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"),r.forEach(n=>{let i=RP(n),s=AP(n);t.keyManagementEncrypt.set(n,jP.bind(void 0,i,s)),t.keyManagementDecrypt.set(n,NP.bind(void 0,i,s)),e.RSA.wrapKey[n]=a=>(a.use==="enc"||a.use===void 0)&&a.length>=Sy[n],e.RSA.unwrapKey[n]=a=>a.private&&(a.use==="enc"||a.use===void 0)&&a.length>=Sy[n]})}});var qy=m((t5,ky)=>{var{createCipheriv:MP,createDecipheriv:BP,getCiphers:DP}=require("crypto"),{KEYOBJECT:Ty}=Y(),{asInput:Oy}=ne(),KP=o(t=>{if(t!==void 0&&t.length%8!=0)throw new Error("invalid data length")},"checkInput"),FP=o((t,{[Ty]:e},r)=>{let n=Oy(e,!1),i=MP(t,n,Buffer.alloc(8,"a6","hex"));return{wrapped:Buffer.concat([i.update(r),i.final()])}},"wrapKey"),LP=o((t,{[Ty]:e},r)=>{let n=Oy(e,!1);KP(r);let i=BP(t,n,Buffer.alloc(8,"a6","hex"));return Buffer.concat([i.update(r),i.final()])},"unwrapKey");ky.exports=(t,e)=>{["A128KW","A192KW","A256KW"].forEach(r=>{let n=parseInt(r.substr(1,3),10),i=`aes${n}-wrap`;DP().includes(i)&&(t.keyManagementEncrypt.set(r,FP.bind(void 0,i)),t.keyManagementDecrypt.set(r,LP.bind(void 0,i)),e.oct.wrapKey[r]=e.oct.unwrapKey[r]=s=>(s.use==="enc"||s.use===void 0)&&s.length===n)})}});var Py=m((r5,Iy)=>{var HP=Kc(),Cy=ye();Iy.exports=(t,e)=>{["A128GCMKW","A192GCMKW","A256GCMKW"].forEach(r=>{let n=r.substr(0,7),i=parseInt(r.substr(1,3),10),s=t.encrypt.get(n),a=t.decrypt.get(n);s&&a&&(t.keyManagementEncrypt.set(r,(c,u)=>{let p=HP(r),{ciphertext:l,tag:d}=s(c,u,{iv:p});return{wrapped:l,header:{tag:Cy.encodeBuffer(d),iv:Cy.encodeBuffer(p)}}}),t.keyManagementDecrypt.set(r,a),e.oct.wrapKey[r]=e.oct.unwrapKey[r]=c=>(c.use==="enc"||c.use===void 0)&&c.length===i)})}});var Ny=m((n5,jy)=>{var{pbkdf2Sync:Ry,randomBytes:UP}=require("crypto"),{KEYOBJECT:da}=Y(),$P=ye(),JP=16,WP=Buffer.alloc(1,0),Ay=o((t,e)=>Buffer.concat([Buffer.from(t,"utf8"),WP,e]),"concatSalt"),zP=o((t,e,r,n,{[da]:i},s)=>{let a=Math.floor(Math.random()*2049+2048),c=UP(JP),u=r(c),p=Ry(i.export(),u,a,t,e),l=n({[da]:p},s);return l.header=l.header||{},Object.assign(l.header,{p2c:a,p2s:$P.encodeBuffer(c)}),l},"wrapKey"),GP=o((t,e,r,n,{[da]:i},s,a)=>{let{p2s:c,p2c:u}=a,p=r(c),l=Ry(i.export(),p,u,t,e);return n({[da]:l},s,a)},"unwrapKey");jy.exports=(t,e)=>{["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach(r=>{let n=r.substr(-6),i=t.keyManagementEncrypt.get(n),s=t.keyManagementDecrypt.get(n),a=parseInt(r.substr(13,3),10)/8,c=`sha${r.substr(8,3)}`;i&&s&&(t.keyManagementEncrypt.set(r,zP.bind(void 0,a,c,Ay.bind(void 0,r),i)),t.keyManagementDecrypt.set(r,GP.bind(void 0,a,c,Ay.bind(void 0,r),s)),e.oct.deriveKey[r]=u=>u.use==="enc"||u.use===void 0)})}});var My=m((i5,Fu)=>{var{improvedDH:YP}=Pe();if(YP){let{diffieHellman:t}=require("crypto"),{KeyObject:e}=ne(),r=vn();Fu.exports=({keyObject:n},i)=>(i instanceof e||({keyObject:i}=r(i)),t({privateKey:n,publicKey:i}))}else{let{createECDH:t,constants:{POINT_CONVERSION_UNCOMPRESSED:e}}=require("crypto"),r=ye(),n=o(a=>{switch(a){case"P-256":return"prime256v1";case"P-384":return"secp384r1";case"P-521":return"secp521r1"}},"crvToCurve"),i=Buffer.alloc(1,e),s=o((a,c)=>Buffer.concat([i,r.decodeToBuffer(a),r.decodeToBuffer(c)]),"pubToBuffer");Fu.exports=({crv:a,d:c},{x:u,y:p})=>{let l=n(a),d=t(l);return d.setPrivateKey(r.decodeToBuffer(c)),d.computeSecret(s(u,p))}}});var Hu=m((s5,Ky)=>{var{createHash:By}=require("crypto"),VP=My(),XP=o((t,e,r)=>{let n=Math.ceil(e/32),i;for(let s=1;s<=n;s++){let a=Buffer.allocUnsafe(4+t.length+r.length);a.writeUInt32BE(s,0),t.copy(a,4),r.copy(a,4+t.length),i?i=Buffer.concat([i,By("sha256").update(a).digest()]):i=By("sha256").update(a).digest()}return i.slice(0,e)},"concat"),Dy=o((t,e=Buffer.allocUnsafe(4))=>(e.writeUInt32BE(t),e),"uint32be"),Lu=o(t=>Buffer.concat([Dy(t.length),t]),"lengthAndInput");Ky.exports=(t,e,r,n,{apu:i=Buffer.alloc(0),apv:s=Buffer.alloc(0)}={},a=VP)=>{let c=Buffer.concat([Lu(Buffer.from(t)),Lu(i),Lu(s),Dy(e)]),u=a(r,n);return XP(u,e/8,c)}});var Uy=m((a5,Hy)=>{var{improvedDH:ZP}=Pe(),{KEYLENGTHS:Fy}=mt(),{generateSync:QP}=Ii(),{name:eR}=Pr(),Ly=Hu(),tR=o((t,e,{enc:r})=>{let n=QP(t.kty,t.crv);return{wrapped:Ly(r,Fy.get(r),n,t),header:{epk:{kty:t.kty,crv:t.crv,x:n.x,y:n.y}}}},"wrapKey"),rR=o((t,e,r)=>{let{enc:n,epk:i}=r;return Ly(n,Fy.get(n),t,i,r)},"unwrapKey");Hy.exports=(t,e)=>{t.keyManagementEncrypt.set("ECDH-ES",tR),t.keyManagementDecrypt.set("ECDH-ES",rR),e.EC.deriveKey["ECDH-ES"]=r=>(r.use==="enc"||r.use===void 0)&&r.crv!==eR,ZP&&(e.OKP.deriveKey["ECDH-ES"]=r=>(r.use==="enc"||r.use===void 0)&&r.keyObject.asymmetricKeyType.startsWith("x"))}});var Gy=m((o5,fa)=>{var{improvedDH:nR}=Pe(),{KEYOBJECT:$y}=Y(),{generateSync:iR}=Ii(),{name:sR}=Pr(),{ECDH_DERIVE_LENGTHS:aR}=mt(),Jy=Hu(),Wy=o((t,e,r,n)=>{let i=iR(r.kty,r.crv),s=e(i,r,n),a=t({[$y]:s},n);return a.header=a.header||{},Object.assign(a.header,{epk:{kty:r.kty,crv:r.crv,x:i.x,y:i.y}}),a},"wrapKey"),zy=o((t,e,r,n,i)=>{let{epk:s}=i,a=e(r,s,i);return t({[$y]:a},n,i)},"unwrapKey");fa.exports=(t,e)=>{["ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach(r=>{let n=r.substr(-6),i=t.keyManagementEncrypt.get(n),s=t.keyManagementDecrypt.get(n),a=parseInt(r.substr(9,3),10);aR.set(r,a),i&&s&&(t.keyManagementEncrypt.set(r,Wy.bind(void 0,i,Jy.bind(void 0,r,a))),t.keyManagementDecrypt.set(r,zy.bind(void 0,s,Jy.bind(void 0,r,a))),e.EC.deriveKey[r]=c=>(c.use==="enc"||c.use===void 0)&&c.crv!==sR,nR&&(e.OKP.deriveKey[r]=c=>(c.use==="enc"||c.use===void 0)&&c.keyObject.asymmetricKeyType.startsWith("x")))})};fa.exports.wrapKey=Wy;fa.exports.unwrapKey=zy});var ji=m((c5,Yy)=>{var{JWKKeySupport:oR,JOSENotSupported:cR}=K(),{KEY_MANAGEMENT_ENCRYPT:uR,KEY_MANAGEMENT_DECRYPT:pR}=Y(),{JWA:J,JWK:Ae}=mt();Dg()(J,Ae);$g()(J,Ae);zg()(J,Ae);Xg()(J,Ae);ty()(J,Ae);ny()(J);dy()(J,Ae);yy()(J,Ae);wy()(J,Ae);qy()(J,Ae);Py()(J,Ae);Ny()(J,Ae);Uy()(J,Ae);Gy()(J,Ae);var sr=o((t,e,r)=>{let n=`_${e}_${r}`,i,s;if(e==="keyManagementEncrypt"?(i="key management (encryption)",s=uR):e==="keyManagementDecrypt"&&(i="key management (decryption)",s=pR),n in t){if(t[n])return;throw new oR(`the key does not support ${r} ${i||e} algorithm`)}let a=!0;if(J[e].has(r))t.algorithms(s).has(r)||(a=!1);else throw new cR(`unsupported ${i||e} alg: ${r}`);if(Object.defineProperty(t,n,{value:a,enumerable:!1}),!a)return sr(t,e,r)},"check");Yy.exports={check:sr,sign:(t,e,r)=>(sr(e,"sign",t),J.sign.get(t)(e,r)),verify:(t,e,r,n)=>(sr(e,"verify",t),J.verify.get(t)(e,r,n)),keyManagementEncrypt:(t,e,r,n)=>(sr(e,"keyManagementEncrypt",t),J.keyManagementEncrypt.get(t)(e,r,n)),keyManagementDecrypt:(t,e,r,n)=>(sr(e,"keyManagementDecrypt",t),J.keyManagementDecrypt.get(t)(e,r,n)),encrypt:(t,e,r,n)=>(sr(e,"encrypt",t),J.encrypt.get(t)(e,r,n)),decrypt:(t,e,r,n)=>(sr(e,"decrypt",t),J.decrypt.get(t)(e,r,n))}});var Ni=m((u5,Xy)=>{var{JOSECritNotUnderstood:lR,JWSInvalid:Vy}=K(),dR=new Set(["alg","jku","jwk","kid","x5u","x5c","x5t","x5t#S256","typ","cty","crit","enc","zip","epk","apu","apv","iv","tag","p2s","p2c"]);Xy.exports=o(function(e,r,n,i){if(r&&"crit"in r){if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(c=>typeof c!="string"||!c))throw new e('"crit" Header Parameter MUST be an array of non-empty strings when present');let s=new Set(i),a=b(b({},r),n);r.crit.forEach(c=>{if(dR.has(c))throw new e(`The critical list contains a non-extension Header Parameter ${c}`);if(!s.has(c))throw new lR(`critical "${c}" is not understood`);if(c==="b64"){if(!("b64"in r))throw new Vy('"b64" critical parameter must be integrity protected');if(typeof r.b64!="boolean")throw new Vy('"b64" critical parameter must be a boolean')}else if(!(c in a))throw new e(`critical parameter "${c}" is missing`)})}if(n&&"crit"in n)throw new e('"crit" Header Parameter MUST be integrity protected when present')},"validateCrit")});var Uu=m((p5,t_)=>{var Mi=Ue(),Bi=Ni(),{JWEInvalid:ma}=K();Bi=Bi.bind(void 0,ma);var Zy=o((t,[e])=>`${t.protected}.${e.encrypted_key}.${t.iv}.${t.ciphertext}.${t.tag}`,"compactSerializer");Zy.validate=(t,e,r,{0:{header:n},length:i})=>{if(i!==1||r||e||n)throw new ma("JWE Compact Serialization doesn't support multiple recipients, JWE unprotected headers or AAD");Bi(t,e,t?t.crit:void 0)};var Qy=o((t,[e])=>{let{header:r,encrypted_key:n}=e;return j(b(b(b(b(b({},t.protected?{protected:t.protected}:void 0),t.unprotected?{unprotected:t.unprotected}:void 0),r?{header:r}:void 0),n?{encrypted_key:n}:void 0),t.aad?{aad:t.aad}:void 0),{iv:t.iv,ciphertext:t.ciphertext,tag:t.tag})},"flattenedSerializer");Qy.validate=(t,e,r,{0:{header:n},length:i})=>{if(i!==1)throw new ma("Flattened JWE JSON Serialization doesn't support multiple recipients");Bi(t,b(b({},e),n),t?t.crit:void 0)};var e_=o((t,e)=>{let r=j(b(j(b(b({},t.protected?{protected:t.protected}:void 0),t.unprotected?{unprotected:t.unprotected}:void 0),{recipients:e.map(({header:n,encrypted_key:i,generatedHeader:s})=>!n&&!i&&!s?!1:b(b({},n||s?{header:b(b({},n),s)}:void 0),i?{encrypted_key:i}:void 0)).filter(Boolean)}),t.aad?{aad:t.aad}:void 0),{iv:t.iv,ciphertext:t.ciphertext,tag:t.tag});return r.recipients.length||delete r.recipients,r},"generalSerializer");e_.validate=(t,e,r,n)=>{n.forEach(({header:i})=>{Bi(t,b(b({},i),e),t?t.crit:void 0)})};var fR=o(t=>Mi(t)&&typeof t.ciphertext=="string"&&typeof t.iv=="string"&&typeof t.tag=="string"&&(t.unprotected===void 0||Mi(t.unprotected))&&(t.protected===void 0||typeof t.protected=="string")&&(t.aad===void 0||typeof t.aad=="string"),"isJSON"),mR=o(t=>(t.encrypted_key===void 0||typeof t.encrypted_key=="string")&&(t.header===void 0||Mi(t.header)),"isSingleRecipient"),hR=o(t=>Mi(t)&&typeof t.encrypted_key=="string"&&(t.header===void 0||Mi(t.header)),"isValidRecipient"),vR=o(t=>!!(Array.isArray(t.recipients)&&t.recipients.every(hR)),"isMultiRecipient"),gR=o(t=>{if(typeof t=="string"&&t.split(".").length===5)return"compact";if(fR(t)){if(vR(t))return"general";if(mR(t))return"flattened"}throw new ma("JWE malformed or invalid serialization")},"detect");t_.exports={compact:Zy,flattened:Qy,general:e_,detect:gR}});var $u=m((l5,n_)=>{var{randomBytes:yR}=require("crypto"),{createSecretKey:_R}=ne(),{KEYLENGTHS:bR}=mt(),r_=ra();n_.exports=t=>{let e=bR.get(t);return e?new r_(_R(yR(e/8)),{use:"enc",alg:t}):new r_({type:"secret"})}});var ha=m((d5,i_)=>{i_.exports=(t={},e={})=>{let r=Object.keys(t),n=new Set(Object.keys(e));return!r.some(i=>n.has(i))}});var zu=m((f5,s_)=>{var Ju=ha(),xR=ye(),Wu=Ni(),{JWEInvalid:Ct,JOSENotSupported:SR}=K();Wu=Wu.bind(void 0,Ct);s_.exports=(t,e,r,n,i)=>{if(typeof t=="string")try{t=xR.JSON.decode(t)}catch(c){throw new Ct("could not parse JWE protected header")}let s=[],a=new Set;if(!Ju(t,e)||!r.every(({header:c})=>{typeof c=="object"&&(s.push(c.alg),a.add(c.enc));let u=b(b({},e),c);if(Wu(t,u,i),"zip"in u)throw new Ct('"zip" Header Parameter MUST be integrity protected');if(t&&"zip"in t&&t.zip!=="DEF")throw new SR('only "DEF" compression algorithm is supported');return Ju(c,t)&&Ju(c,e)}))throw new Ct("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");if(typeof t=="object"&&(s.push(t.alg),a.add(t.enc)),typeof e=="object"&&(s.push(e.alg),a.add(e.enc)),s=s.filter(Boolean),a.delete(void 0),r.length!==1&&(s.includes("dir")||s.includes("ECDH-ES")))throw new Ct("dir and ECDH-ES alg may only be used with a single recipient");if(n){if(s.length!==r.length)throw new Ct("missing Key Management algorithm");if(a.size===0)throw new Ct("missing Content Encryption algorithm");if(a.size!==1)throw new Ct("there must only be one Content Encryption algorithm")}else if(a.size>1)throw new Ct("there must only be one Content Encryption algorithm");return[...a][0]}});var l_=m((m5,p_)=>{var{deflateRawSync:ER}=require("zlib"),{KEYOBJECT:a_}=Y(),wR=Kc(),gn=ye(),TR=jr(),Gu=Ue(),{createSecretKey:OR}=ne(),Yu=Nu(),o_=vn(),{JWEInvalid:c_}=K(),{check:Vu,keyManagementEncrypt:kR,encrypt:qR}=ji(),CR=Uu(),IR=$u(),PR=zu(),u_=Symbol("PROCESS_RECIPIENT"),Xu=class{constructor(e,r,n,i){if(!Buffer.isBuffer(e)&&typeof e!="string")throw new TypeError("cleartext argument must be a Buffer or a string");if(e=Buffer.from(e),i!==void 0&&!Buffer.isBuffer(i)&&typeof i!="string")throw new TypeError("aad argument must be a Buffer or a string when provided");if(i=i?Buffer.from(i):void 0,r!==void 0&&!Gu(r))throw new TypeError("protectedHeader argument must be a plain object when provided");if(n!==void 0&&!Gu(n))throw new TypeError("unprotectedHeader argument must be a plain object when provided");this._recipients=[],this._cleartext=e,this._aad=i,this._unprotected=n?Yu(n):void 0,this._protected=r?Yu(r):void 0}recipient(e,r){if(e=TR(e),r!==void 0&&!Gu(r))throw new TypeError("header argument must be a plain object when provided");return this._recipients.push({key:e,header:r?Yu(r):void 0}),this}[u_](e){let r=this._unprotected,n=this._protected,{length:i}=this._recipients,s=b(b(b({},n),r),e.header),{key:a}=e,c=s.enc,u=s.alg;if(a.use==="sig")throw new TypeError('a key with "use":"sig" is not usable for encryption');if(u==="dir")Vu(a,"encrypt",c);else if(u)Vu(a,"keyManagementEncrypt",u);else{if(u=a.alg||[...a.algorithms("wrapKey")][0]||[...a.algorithms("deriveKey")][0],u==="ECDH-ES"&&i!==1&&(u=[...a.algorithms("deriveKey")][1]),!u)throw new c_('could not resolve a usable "alg" for a recipient');i===1?n?n.alg=u:this._protected={alg:u}:e.header?e.header.alg=u:e.header={alg:u}}let p,l;a.kty==="oct"&&u==="dir"?this._cek=o_(a[a_],{use:"enc",alg:c}):(Vu(this._cek,"encrypt",c),{wrapped:p,header:l}=kR(u,a,this._cek[a_].export(),{enc:c,alg:u}),u==="ECDH-ES"&&(this._cek=o_(OR(p),{use:"enc",alg:c}))),u==="dir"||u==="ECDH-ES"?e.encrypted_key="":e.encrypted_key=gn.encodeBuffer(p),l&&(e.generatedHeader=l)}encrypt(e){let r=CR[e];if(!r)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new c_("missing recipients");r.validate(this._protected,this._unprotected,this._aad,this._recipients);let n=PR(this._protected,this._unprotected,this._recipients,!1,this._protected?this._protected.crit:void 0);n||(n="A128CBC-HS256",this._protected?this._protected.enc=n:this._protected={enc:n});let i={};this._cek=IR(n);for(let l of this._recipients)this[u_](l);let s=wR(n);if(i.iv=gn.encodeBuffer(s),this._recipients.length===1&&this._recipients[0].generatedHeader){let[{generatedHeader:l}]=this._recipients;delete this._recipients[0].generatedHeader,this._protected=b(b({},this._protected),l)}this._protected&&(i.protected=gn.JSON.encode(this._protected)),i.unprotected=this._unprotected;let a;this._aad?(i.aad=gn.encode(this._aad),a=Buffer.concat([Buffer.from(i.protected||""),Buffer.from("."),Buffer.from(i.aad)])):a=Buffer.from(i.protected||"");let c=this._cleartext;this._protected&&"zip"in this._protected&&(c=ER(c));let{ciphertext:u,tag:p}=qR(n,this._cek,c,{iv:s,aad:a});return i.tag=gn.encodeBuffer(p),i.ciphertext=gn.encodeBuffer(u),r(i,this._recipients)}};o(Xu,"Encrypt");p_.exports=Xu});var va=m((h5,d_)=>{var RR=ju();d_.exports=RR});var g_=m((v5,v_)=>{var{inflateRawSync:AR}=require("zlib"),rt=ye(),jR=jr(),{KeyStore:NR}=va(),yt=K(),{check:MR,decrypt:BR,keyManagementDecrypt:f_}=ji(),Zu=Pi(),{createSecretKey:m_}=ne(),DR=$u(),h_=zu(),{detect:KR}=Uu(),FR=new Set(["compact","flattened"]),LR=o((t={},e={},r={})=>{typeof t=="string"&&(t=rt.JSON.decode(t));let n=t.p2s||e.p2s||r.p2s,i=t.apu||e.apu||r.apu,s=t.apv||e.apv||r.apv,a=t.iv||e.iv||r.iv,c=t.tag||e.tag||r.tag;return b(b(b(b(b(b(b(b({},t),e),r),typeof n=="string"?{p2s:rt.decodeToBuffer(n)}:void 0),typeof i=="string"?{apu:rt.decodeToBuffer(i)}:void 0),typeof s=="string"?{apv:rt.decodeToBuffer(s)}:void 0),typeof a=="string"?{iv:rt.decodeToBuffer(a)}:void 0),typeof c=="string"?{tag:rt.decodeToBuffer(c)}:void 0)},"combineHeader"),Qu=o((t,e,r,n,{crit:i=[],complete:s=!1,algorithms:a}={})=>{if(n=jR(n,!0),a!==void 0&&(!Array.isArray(a)||a.some(B=>typeof B!="string"||!B)))throw new TypeError('"algorithms" option must be an array of non-empty strings');if(a&&(a=new Set(a)),!Array.isArray(i)||i.some(B=>typeof B!="string"||!B))throw new TypeError('"crit" option must be an array of non-empty strings');e||(e=KR(r));let c,u,p,l,d,f,h,v,g,y,_,x;if(e==="general"&&r.recipients.length===1){e="flattened";let D=r,{recipients:B}=D,Ie=cn(D,["recipients"]);r=b(b({},Ie),B[0])}if(FR.has(e)){if(e==="compact"?[h,l,d,u,v]=r.split("."):{protected:h,encrypted_key:l,iv:d,ciphertext:u,tag:v,unprotected:g,aad:_,header:x}=r,t||h_(h,g,[{header:x}],!0,i),f=LR(h,g,x),{alg:c,enc:p}=f,a&&!a.has(c==="dir"?p:c))throw new yt.JOSEAlgNotWhitelisted("alg not whitelisted");if(n instanceof NR){let G=n,Te;switch(f.alg==="dir"?Te=G.all({kid:f.kid,alg:f.enc,key_ops:["decrypt"]}):Te=G.all({kid:f.kid,alg:f.alg,key_ops:["unwrapKey"]}),Te.length){case 0:throw new yt.JWKSNoMatchingKey;case 1:n=Te[0];break;default:{let He=[];for(let Mc of Te)try{return Qu(!0,e,r,Mc,{crit:i,complete:s,algorithms:a?[...a]:void 0})}catch(Ak){He.push(Ak);continue}let er=new yt.JOSEMultiError(He);throw[...er].some(Mc=>Mc instanceof yt.JWEDecryptionFailed)?new yt.JWEDecryptionFailed:er}}}MR(n,...c==="dir"?["decrypt",p]:["keyManagementDecrypt",c]);try{if(c==="dir")y=Zu.asKey(n,{alg:p,use:"enc"});else if(c==="ECDH-ES"){let G=f_(c,n,void 0,f);y=Zu.asKey(m_(G),{alg:p,use:"enc"})}else{let G=f_(c,n,rt.decodeToBuffer(l),f);y=Zu.asKey(m_(G),{alg:p,use:"enc"})}}catch(G){y=DR(p)}let B;_?B=Buffer.concat([Buffer.from(h||""),Buffer.from("."),Buffer.from(_)]):B=Buffer.from(h||"");try{d=rt.decodeToBuffer(d)}catch(G){}try{v=rt.decodeToBuffer(v)}catch(G){}let Ie=BR(p,y,rt.decodeToBuffer(u),{iv:d,tag:v,aad:B});if(f.zip&&(Ie=AR(Ie)),s){let G={cleartext:Ie,key:n,cek:y};return _&&(G.aad=_),x&&(G.header=x),g&&(G.unprotected=g),h&&(G.protected=rt.JSON.decode(h)),G}return Ie}h_(r.protected,r.unprotected,r.recipients.map(({header:B})=>({header:B})),!0,i);let H=r,{recipients:S}=H,E=cn(H,["recipients"]),w=[];for(let B of S)try{return Qu(!0,"flattened",b(b({},E),B),n,{crit:i,complete:s,algorithms:a?[...a]:void 0})}catch(Ie){w.push(Ie);continue}let T=new yt.JOSEMultiError(w);throw[...T].some(B=>B instanceof yt.JWEDecryptionFailed)?new yt.JWEDecryptionFailed:[...T].every(B=>B instanceof yt.JWKSNoMatchingKey)?new yt.JWKSNoMatchingKey:T},"jweDecrypt");v_.exports=Qu.bind(void 0,!1,void 0)});var __=m((g5,yn)=>{var y_=l_(),HR=g_(),ep=o((t,e,r,n,i,s)=>new y_(e,n,i,s).recipient(r).encrypt(t),"single");yn.exports.Encrypt=y_;yn.exports.encrypt=ep.bind(void 0,"compact");yn.exports.encrypt.flattened=ep.bind(void 0,"flattened");yn.exports.encrypt.general=ep.bind(void 0,"general");yn.exports.decrypt=HR});var rp=m((y5,w_)=>{var tp=Ue(),Di=Ni(),{JWSInvalid:Ki}=K();Di=Di.bind(void 0,Ki);var b_=o((t,[e])=>`${e.protected}.${t}.${e.signature}`,"compactSerializer");b_.validate=(t,{0:{unprotectedHeader:e,protectedHeader:r},length:n})=>{if(n!==1||e)throw new Ki("JWS Compact Serialization doesn't support multiple recipients or JWS unprotected headers");Di(r,e,r?r.crit:void 0)};var x_=o((t,[e])=>{let{header:r,signature:n,protected:i}=e;return j(b(b({payload:t},i?{protected:i}:void 0),r?{header:r}:void 0),{signature:n})},"flattenedSerializer");x_.validate=(t,{0:{unprotectedHeader:e,protectedHeader:r},length:n})=>{if(n!==1)throw new Ki("Flattened JWS JSON Serialization doesn't support multiple recipients");Di(r,e,r?r.crit:void 0)};var S_=o((t,e)=>({payload:t,signatures:e.map(({header:r,signature:n,protected:i})=>j(b(b({},i?{protected:i}:void 0),r?{header:r}:void 0),{signature:n}))}),"generalSerializer");S_.validate=(t,e)=>{let r=!1;if(e.forEach(({protectedHeader:n,unprotectedHeader:i})=>{n&&!r&&"b64"in n&&(r=!0),Di(n,i,n?n.crit:void 0)}),r&&!e.map(({protectedHeader:i})=>i&&i.b64).every((i,s,[a])=>i===a))throw new Ki('the "b64" Header Parameter value MUST be the same for all recipients')};var UR=o(t=>tp(t)&&(typeof t.payload=="string"||Buffer.isBuffer(t.payload)),"isJSON"),E_=o(t=>tp(t)&&typeof t.signature=="string"&&(t.header===void 0||tp(t.header))&&(t.protected===void 0||typeof t.protected=="string"),"isValidRecipient"),$R=o(t=>!!(Array.isArray(t.signatures)&&t.signatures.every(E_)),"isMultiRecipient"),JR=o(t=>{if(typeof t=="string"&&t.split(".").length===3)return"compact";if(UR(t)){if($R(t))return"general";if(E_(t))return"flattened"}throw new Ki("JWS malformed or invalid serialization")},"detect");w_.exports={compact:b_,flattened:x_,general:S_,detect:JR}});var q_=m((_5,k_)=>{var Nr=ye(),WR=ha(),np=Ue(),T_=Nu(),{JWSInvalid:ip}=K(),{sign:zR}=ji(),GR=jr(),YR=rp(),O_=Symbol("PROCESS_RECIPIENT"),sp=class{constructor(e){if(typeof e=="string")e=Nr.encode(e);else if(Buffer.isBuffer(e))e=Nr.encodeBuffer(e),this._binary=!0;else if(np(e))e=Nr.JSON.encode(e);else throw new TypeError("payload argument must be a Buffer, string or an object");this._payload=e,this._recipients=[]}recipient(e,r,n){if(e=GR(e),r!==void 0&&!np(r))throw new TypeError("protectedHeader argument must be a plain object when provided");if(n!==void 0&&!np(n))throw new TypeError("unprotectedHeader argument must be a plain object when provided");if(!WR(r,n))throw new ip("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");return this._recipients.push({key:e,protectedHeader:r?T_(r):void 0,unprotectedHeader:n?T_(n):void 0}),this}[O_](e,r){let{key:n,protectedHeader:i,unprotectedHeader:s}=e;if(n.use==="enc")throw new TypeError('a key with "use":"enc" is not usable for signing');let a={protected:i||{},unprotected:s||{}},c=a.protected.alg||a.unprotected.alg;if(c||(c=n.alg||[...n.algorithms("sign")][0],e.protectedHeader?a.protected.alg=e.protectedHeader.alg=c:a.protected=e.protectedHeader={alg:c}),!c)throw new ip('could not resolve a usable "alg" for a recipient');e.header=s,e.protected=Object.keys(a.protected).length?Nr.JSON.encode(a.protected):"",r&&a.protected.crit&&a.protected.crit.includes("b64")&&a.protected.b64===!1&&(this._binary?this._payload=Nr.decodeToBuffer(this._payload):this._payload=Nr.decode(this._payload));let u=Buffer.concat([Buffer.from(e.protected||""),Buffer.from("."),Buffer.from(this._payload)]);e.signature=Nr.encodeBuffer(zR(c,n,u))}sign(e){let r=YR[e];if(!r)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new ip("missing recipients");return r.validate(this,this._recipients),this._recipients.forEach((n,i)=>{this[O_](n,i===0)}),r(this._payload,this._recipients)}};o(sp,"Sign");k_.exports=sp});var cp=m((b5,C_)=>{var{EOL:ap}=require("os"),ga=ye(),VR=ha(),XR=Ue(),op=Ni(),ZR=jr(),{KeyStore:QR}=va(),ie=K(),{check:eA,verify:tA}=ji(),ya=Pi(),{detect:rA}=rp();op=op.bind(void 0,ie.JWSInvalid);var nA=new Set(["compact","flattened","preparsed"]),_a=o((t,e,r,n,{crit:i=[],complete:s=!1,algorithms:a,parse:c=!0,encoding:u="utf8"}={})=>{if(n=ZR(n,!0),a!==void 0&&(!Array.isArray(a)||a.some(w=>typeof w!="string"||!w)))throw new TypeError('"algorithms" option must be an array of non-empty strings');if(a&&(a=new Set(a)),!Array.isArray(i)||i.some(w=>typeof w!="string"||!w))throw new TypeError('"crit" option must be an array of non-empty strings');e||(e=rA(r));let p,l,d,f,h;if(e==="general"&&r.signatures.length===1){e="flattened";let S=r,{signatures:w}=S,T=cn(S,["signatures"]);r=b(b({},T),w[0])}let v;if(nA.has(e)){let w={};switch(e){case"compact":[p,d,f]=r.split(".");break;case"flattened":({protected:p,payload:d,signature:f,header:l}=r);break;case"preparsed":{({decoded:v}=r),[p,d,f]=r.token.split(".");break}}if(l||(t=!0),v)w=v.header;else if(p)try{w=ga.JSON.decode(p)}catch(H){throw new ie.JWSInvalid("could not parse JWS protected header")}else t=t||!0;if(!t&&!VR(w,l))throw new ie.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let T=b(b({},w),l);if(op(w,l,i),h=w.alg||l&&l.alg,h){if(a&&!a.has(h))throw new ie.JOSEAlgNotWhitelisted("alg not whitelisted")}else throw new ie.JWSInvalid("missing JWS signature algorithm");if(n instanceof QR){let B=n.all({kid:T.kid,alg:T.alg,key_ops:["verify"]});switch(B.length){case 0:throw new ie.JWKSNoMatchingKey;case 1:n=B[0];break;default:{let Ie=[];for(let Te of B)try{return _a(!0,e,r,Te,{crit:i,complete:s,encoding:u,parse:c,algorithms:a?[...a]:void 0})}catch(He){Ie.push(He);continue}let G=new ie.JOSEMultiError(Ie);throw[...G].some(Te=>Te instanceof ie.JWSVerificationFailed)?new ie.JWSVerificationFailed:G}}}if(n===ya.EmbeddedJWK){if(!XR(T.jwk))throw new ie.JWSInvalid('JWS Header Parameter "jwk" must be a JSON object');if(n=ya.asKey(T.jwk),n.type!=="public")throw new ie.JWSInvalid('JWS Header Parameter "jwk" must be a public key')}else if(n===ya.EmbeddedX5C){if(!Array.isArray(T.x5c)||!T.x5c.length||T.x5c.some(H=>typeof H!="string"||!H))throw new ie.JWSInvalid('JWS Header Parameter "x5c" must be a JSON array of certificate value strings');n=ya.asKey(`-----BEGIN CERTIFICATE-----${ap}${(T.x5c[0].match(/.{1,64}/g)||[]).join(ap)}${ap}-----END CERTIFICATE-----`,{x5c:T.x5c})}eA(n,"verify",h);let D=Buffer.concat([Buffer.from(p||""),Buffer.from("."),Buffer.isBuffer(d)?d:Buffer.from(d)]);if(!tA(h,n,D,ga.decodeToBuffer(f)))throw new ie.JWSVerificationFailed;if((!T.crit||!T.crit.includes("b64")||T.b64)&&(c?d=v?v.payload:ga.JSON.decode.try(d,u):d=ga.decodeToBuffer(d)),s){let H={payload:d,key:n};return p&&(H.protected=w),l&&(H.header=l),H}return d}let E=r,{signatures:g}=E,y=cn(E,["signatures"]),_=[];for(let w of g)try{return _a(!1,"flattened",b(b({},y),w),n,{crit:i,complete:s,encoding:u,parse:c,algorithms:a?[...a]:void 0})}catch(T){_.push(T);continue}let x=new ie.JOSEMultiError(_);throw[...x].some(w=>w instanceof ie.JWSVerificationFailed)?new ie.JWSVerificationFailed:[...x].every(w=>w instanceof ie.JWKSNoMatchingKey)?new ie.JWKSNoMatchingKey:x},"jwsVerify");C_.exports={bare:_a,verify:_a.bind(void 0,!1,void 0)}});var pp=m((x5,_n)=>{var I_=q_(),{verify:iA}=cp(),up=o((t,e,r,n,i)=>new I_(e).recipient(r,n,i).sign(t),"single");_n.exports.Sign=I_;_n.exports.sign=up.bind(void 0,"compact");_n.exports.sign.flattened=up.bind(void 0,"flattened");_n.exports.sign.general=up.bind(void 0,"general");_n.exports.verify=iA});var lp=m((S5,A_)=>{var P_=ye(),R_=K();A_.exports=(t,{complete:e=!1}={})=>{if(typeof t!="string"||!t)throw new TypeError("JWT must be a string");let{0:r,1:n,2:i,length:s}=t.split(".");if(s===5)throw new TypeError("JWTs must be decrypted first");if(s!==3)throw new R_.JWTMalformed("JWTs must have three components");try{let a={header:P_.JSON.decode(r),payload:P_.JSON.decode(n),signature:i};return e?a:a.payload}catch(a){throw new R_.JWTMalformed("JWT is malformed")}}});var fp=m((E5,M_)=>{var j_=60,N_=j_*60,dp=N_*24,sA=dp*7,aA=dp*365.25,oA=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;M_.exports=t=>{let e=oA.exec(t);if(!e)throw new TypeError(`invalid time period format ("${t}")`);let r=parseFloat(e[1]);switch(e[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*j_);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*N_);case"day":case"days":case"d":return Math.round(r*dp);case"week":case"weeks":case"w":return Math.round(r*sA);case"year":case"years":case"yr":case"yrs":case"y":return Math.round(r*aA)}}});var mp=m((w5,B_)=>{B_.exports=t=>Math.floor(t.getTime()/1e3)});var vp=m((T5,hp)=>{var D_=o(t=>typeof t!="string"||t.length===0,"isNotString");hp.exports.isNotString=D_;hp.exports.isString=o(function(e,r,n,i,s=!1){if(s&&r===void 0)throw new e(`${n} is missing`,i,"missing");if(r!==void 0&&D_(r))throw new e(`${n} must be a string`,i,"invalid")},"isString")});var L_=m((O5,F_)=>{var gp=Ue(),K_=fp(),cA=mp(),uA=jr(),pA=pp(),Mr=vp().isString.bind(void 0,TypeError),lA=o(t=>{if(typeof t.iat!="boolean")throw new TypeError("options.iat must be a boolean");if(typeof t.kid!="boolean")throw new TypeError("options.kid must be a boolean");if(Mr(t.subject,"options.subject"),Mr(t.issuer,"options.issuer"),t.audience!==void 0&&(typeof t.audience!="string"||!t.audience)&&(!Array.isArray(t.audience)||t.audience.length===0||t.audience.some(e=>!e||typeof e!="string")))throw new TypeError("options.audience must be a string or an array of strings");if(!gp(t.header))throw new TypeError("options.header must be an object");if(Mr(t.algorithm,"options.algorithm"),Mr(t.expiresIn,"options.expiresIn"),Mr(t.notBefore,"options.notBefore"),Mr(t.jti,"options.jti"),Mr(t.nonce,"options.nonce"),t.now!==void 0&&(!(t.now instanceof Date)||!t.now.getTime()))throw new TypeError("options.now must be a valid Date object")},"validateOptions");F_.exports=(t,e,r={})=>{if(!gp(r))throw new TypeError("options must be an object");let{algorithm:n,audience:i,expiresIn:s,header:a={},iat:c=!0,issuer:u,jti:p,kid:l=!0,nonce:d,notBefore:f,subject:h,now:v}=r;if(lA({algorithm:n,audience:i,expiresIn:s,header:a,iat:c,issuer:u,jti:p,kid:l,nonce:d,notBefore:f,now:v,subject:h}),!gp(t))throw new TypeError("payload must be an object");let g;(s||f||c)&&(g=cA(v||new Date)),t=j(b({},t),{sub:h||t.sub,aud:i||t.aud,iss:u||t.iss,jti:p||t.jti,iat:c?g:t.iat,nonce:d||t.nonce,exp:s?g+K_(s):t.exp,nbf:f?g+K_(f):t.nbf}),e=uA(e);let y;return typeof r.kid=="boolean"?y=l:y=!e.secret,pA.sign(JSON.stringify(t),e,j(b({},a),{alg:n||a.alg,kid:y?e.kid:a.kid}))}});var xp=m((k5,W_)=>{var yp=Ue(),dA=mp(),_p=fp(),fA=jr(),{bare:H_}=cp(),{JWTClaimInvalid:U,JWTExpired:U_}=K(),{isString:$_,isNotString:ba}=vp(),mA=lp(),It=$_.bind(void 0,U),ar=$_.bind(void 0,TypeError),bn="id_token",xa="logout_token",Br="at+JWT",Sa=o((t,e,r=!1)=>{if(r&&t===void 0)throw new U(`"${e}" claim is missing`,e,"missing");if(t!==void 0&&typeof t!="number")throw new U(`"${e}" claim must be a JSON numeric value`,e,"invalid")},"isTimestamp"),bp=o((t,e,r=!1)=>{if(r&&t===void 0)throw new U(`"${e}" claim is missing`,e,"missing");if(t!==void 0&&ba(t)&&Fi(t))throw new U(`"${e}" claim must be a string or array of strings`,e,"invalid")},"isStringOrArrayOfStrings"),Fi=o(t=>!Array.isArray(t)||t.length===0||t.some(ba),"isNotArrayOfStrings"),J_=o(t=>t.toLowerCase().replace(/^application\//,""),"normalizeTyp"),hA=o(({algorithms:t,audience:e,clockTolerance:r,complete:n=!1,crit:i,ignoreExp:s=!1,ignoreIat:a=!1,ignoreNbf:c=!1,issuer:u,jti:p,maxAuthAge:l,maxTokenAge:d,nonce:f,now:h=new Date,profile:v,subject:g,typ:y})=>{if(ar(v,"options.profile"),typeof n!="boolean")throw new TypeError("options.complete must be a boolean");if(typeof s!="boolean")throw new TypeError("options.ignoreExp must be a boolean");if(typeof c!="boolean")throw new TypeError("options.ignoreNbf must be a boolean");if(typeof a!="boolean")throw new TypeError("options.ignoreIat must be a boolean");if(ar(d,"options.maxTokenAge"),ar(g,"options.subject"),ar(l,"options.maxAuthAge"),ar(p,"options.jti"),ar(r,"options.clockTolerance"),ar(y,"options.typ"),u!==void 0&&ba(u)&&Fi(u))throw new TypeError("options.issuer must be a string or an array of strings");if(e!==void 0&&ba(e)&&Fi(e))throw new TypeError("options.audience must be a string or an array of strings");if(t!==void 0&&Fi(t))throw new TypeError("options.algorithms must be an array of strings");if(ar(f,"options.nonce"),!(h instanceof Date)||!h.getTime())throw new TypeError("options.now must be a valid Date object");if(a&&d!==void 0)throw new TypeError("options.ignoreIat and options.maxTokenAge cannot used together");if(i!==void 0&&Fi(i))throw new TypeError("options.crit must be an array of strings");switch(v){case bn:if(!u)throw new TypeError('"issuer" option is required to validate an ID Token');if(!e)throw new TypeError('"audience" option is required to validate an ID Token');break;case Br:if(!u)throw new TypeError('"issuer" option is required to validate a JWT Access Token');if(!e)throw new TypeError('"audience" option is required to validate a JWT Access Token');y=Br;break;case xa:if(!u)throw new TypeError('"issuer" option is required to validate a Logout Token');if(!e)throw new TypeError('"audience" option is required to validate a Logout Token');break;case void 0:break;default:throw new TypeError(`unsupported options.profile value "${v}"`)}return{algorithms:t,audience:e,clockTolerance:r,complete:n,crit:i,ignoreExp:s,ignoreIat:a,ignoreNbf:c,issuer:u,jti:p,maxAuthAge:l,maxTokenAge:d,nonce:f,now:h,profile:v,subject:g,typ:y}},"validateOptions"),vA=o(({header:t,payload:e},r,n)=>{if(It(t.alg,'"alg" header parameter',"alg",!0),Sa(e.iat,"iat",r===bn||r===xa||r===Br||!!n.maxTokenAge),Sa(e.exp,"exp",r===bn||r===Br),Sa(e.auth_time,"auth_time",!!n.maxAuthAge),Sa(e.nbf,"nbf"),It(e.jti,'"jti" claim',"jti",r===xa||r===Br||!!n.jti),It(e.acr,'"acr" claim',"acr"),It(e.nonce,'"nonce" claim',"nonce",!!n.nonce),bp(e.iss,"iss",!!n.issuer),It(e.sub,'"sub" claim',"sub",r===bn||r===Br||!!n.subject),bp(e.aud,"aud",!!n.audience),It(e.azp,'"azp" claim',"azp",r===bn&&Array.isArray(e.aud)&&e.aud.length>1),bp(e.amr,"amr"),It(t.typ,'"typ" header parameter',"typ",!!n.typ),r===Br&&It(e.client_id,'"client_id" claim',"client_id",!0),r===xa){if(It(e.sid,'"sid" claim',"sid"),!("sid"in e)&&!("sub"in e))throw new U('either "sid" or "sub" (or both) claims must be present');if("nonce"in e)throw new U('"nonce" claim is prohibited',"nonce","prohibited");if(!("events"in e))throw new U('"events" claim is missing',"events","missing");if(!yp(e.events))throw new U('"events" claim must be an object',"events","invalid");if(!("http://schemas.openid.net/event/backchannel-logout"in e.events))throw new U('"http://schemas.openid.net/event/backchannel-logout" member is missing in the "events" claim',"events","invalid");if(!yp(e.events["http://schemas.openid.net/event/backchannel-logout"]))throw new U('"http://schemas.openid.net/event/backchannel-logout" member in the "events" claim must be an object',"events","invalid")}},"validateTypes"),gA=o((t,e,r)=>typeof t=="string"?e.includes(t):(t=new Set(t),e.some(Set.prototype.has.bind(t))),"checkAudiencePresence");W_.exports=(t,e,r={})=>{if(!yp(r))throw new TypeError("options must be an object");let{algorithms:n,audience:i,clockTolerance:s,complete:a,crit:c,ignoreExp:u,ignoreIat:p,ignoreNbf:l,issuer:d,jti:f,maxAuthAge:h,maxTokenAge:v,nonce:g,now:y,profile:_,subject:x,typ:S}=r=hA(r),E=mA(t,{complete:!0});e=fA(e,!0),a?({key:e}=H_(!0,"preparsed",{decoded:E,token:t},e,{crit:c,algorithms:n,complete:!0}),E.key=e):H_(!0,"preparsed",{decoded:E,token:t},e,{crit:c,algorithms:n});let w=dA(y);if(vA(E,_,r),d&&(typeof E.payload.iss!="string"||!(typeof d=="string"?[d]:d).includes(E.payload.iss)))throw new U('unexpected "iss" claim value',"iss","check_failed");if(g&&E.payload.nonce!==g)throw new U('unexpected "nonce" claim value',"nonce","check_failed");if(x&&E.payload.sub!==x)throw new U('unexpected "sub" claim value',"sub","check_failed");if(f&&E.payload.jti!==f)throw new U('unexpected "jti" claim value',"jti","check_failed");if(i&&!gA(E.payload.aud,typeof i=="string"?[i]:i,_))throw new U('unexpected "aud" claim value',"aud","check_failed");if(S&&J_(E.header.typ)!==J_(S))throw new U('unexpected "typ" JWT header value',"typ","check_failed");let T=s?_p(s):0;if(h){let D=_p(h);if(E.payload.auth_time+D<w-T)throw new U('"auth_time" claim timestamp check failed (too much time has elapsed since the last End-User authentication)',"auth_time","check_failed")}if(!p&&!("exp"in E.payload)&&"iat"in E.payload&&E.payload.iat>w+T)throw new U('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed");if(!l&&"nbf"in E.payload&&E.payload.nbf>w+T)throw new U('"nbf" claim timestamp check failed',"nbf","check_failed");if(!u&&"exp"in E.payload&&E.payload.exp<=w-T)throw new U_('"exp" claim timestamp check failed',"exp","check_failed");if(v){let D=w-E.payload.iat,H=_p(v);if(D-T>H)throw new U_('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(D<0-T)throw new U('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(_===bn&&Array.isArray(E.payload.aud)&&E.payload.aud.length>1&&E.payload.azp!==i)throw new U('unexpected "azp" claim value',"azp","check_failed");return a?E:E.payload}});var G_=m((q5,z_)=>{var Sp=xp();z_.exports={IdToken:{verify:(t,e,r)=>Sp(t,e,j(b({},r),{profile:"id_token"}))},LogoutToken:{verify:(t,e,r)=>Sp(t,e,j(b({},r),{profile:"logout_token"}))},AccessToken:{verify:(t,e,r)=>Sp(t,e,j(b({},r),{profile:"at+JWT"}))}}});var V_=m((C5,Y_)=>{var yA=lp(),_A=L_(),bA=xp(),xA=G_();Y_.exports=b({decode:yA,sign:_A,verify:bA},xA)});var Z_=m((I5,X_)=>{X_.exports={JWE:__(),JWK:Pi(),JWKS:va(),JWS:pp(),JWT:V_(),errors:K()}});var Q_=m(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.setLogger=SA;xn.proxyLogger=wA;xn.default=void 0;var Dr={error(t,...e){console.error(`[next-auth][error][${t.toLowerCase()}]`,`
https://next-auth.js.org/errors#${t.toLowerCase()}`,...e)},warn(t,...e){console.warn(`[next-auth][warn][${t.toLowerCase()}]`,`
https://next-auth.js.org/warnings#${t.toLowerCase()}`,...e)},debug(t,...e){var r,n;!((r=process)!==null&&r!==void 0&&(n=r.env)!==null&&n!==void 0&&n._NEXTAUTH_DEBUG)||console.log(`[next-auth][debug][${t.toLowerCase()}]`,...e)}};function SA(t={}){t.error&&(Dr.error=t.error),t.warn&&(Dr.warn=t.warn),t.debug&&(Dr.debug=t.debug)}o(SA,"setLogger");var EA=Dr;xn.default=EA;function wA(t=Dr,e){try{if(typeof window=="undefined")return t;let r={};for(let n in t)r[n]=(i,...s)=>{Dr[n](i,...s);let a=`${e}/_log`,c=new URLSearchParams({level:n,code:i,message:JSON.stringify(s.map(u=>u instanceof Error?{name:u.name,message:u.message,stack:u.stack}:u))});return navigator.sendBeacon?navigator.sendBeacon(a,c):fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:c})};return r}catch(r){return Dr}}o(wA,"proxyLogger")});var ob=m((R5,ab)=>{"use strict";var{createHash:TA,createHmac:eb}=require("crypto"),tb={},rb=o(t=>{switch(t){case"sha256":return 32;case"sha512":return 64;case"sha224":return 28;case"sha384":return 48;case"sha3-256":return 32;case"sha3-512":return 64;case"sha3-224":return 28;case"sha3-384":return 48;case"blake2s256":return 32;case"blake2b512":return 64;case"sha1":return 20;case"md5":return 16;default:{let e=tb[t];return e===void 0&&(e=TA(t).digest().length,tb[t]=e),e}}},"hash_length"),nb=o((t,e,r,n)=>{let i=Buffer.isBuffer(r)?r:Buffer.from(r),s=n&&n.length?Buffer.from(n):Buffer.alloc(e,0);return eb(t,s).update(i).digest()},"hkdf_extract"),ib=o((t,e,r,n,i)=>{let s=Buffer.from(i||""),a=s.length,c=Math.ceil(n/e);if(c>255)throw new Error(`OKM length ${n} is too long for ${t} hash`);let u=Buffer.alloc(e*c+a+1);for(let p=1,l=0,d=0;p<=c;++p)s.copy(u,d),u[d+a]=p,eb(t,r).update(u.slice(l,d+a+1)).digest().copy(u,d),l=d,d+=e;return u.slice(0,n)},"hkdf_expand");function sb(t,e,{salt:r="",info:n="",hash:i="SHA-256"}={}){i=i.toLowerCase().replace("-","");let s=rb(i),a=nb(i,s,t,r);return ib(i,s,a,e,n)}o(sb,"hkdf");Object.defineProperties(sb,{hash_length:{configurable:!1,enumerable:!1,writable:!1,value:rb},extract:{configurable:!1,enumerable:!1,writable:!1,value:nb},expand:{configurable:!1,enumerable:!1,writable:!1,value:ib}});ab.exports=sb});var Op=m(Kr=>{"use strict";var Ep=oh();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.encode=fb;Kr.decode=Tp;Kr.getToken=mb;Kr.default=void 0;var cb=Ep(require("crypto")),_t=Ep(Z_()),ub=Ep(Q_()),pb="HS512",wp="A256GCM",lb=!1,db=30*24*60*60;async function fb({token:t={},maxAge:e=db,secret:r,signingKey:n,signingOptions:i={expiresIn:`${e}s`},encryptionKey:s,encryptionOptions:a={alg:"dir",enc:wp,zip:"DEF"},encryption:c=lb}={}){let u=n?_t.default.JWK.asKey(JSON.parse(n)):yb(r),p=_t.default.JWT.sign(t,u,i);if(c){let l=s?_t.default.JWK.asKey(JSON.parse(s)):_b(r);return _t.default.JWE.encrypt(p,l,a)}return p}o(fb,"encode");async function Tp({secret:t,token:e,maxAge:r=db,signingKey:n,verificationKey:i=n,verificationOptions:s={maxTokenAge:`${r}s`,algorithms:[pb]},encryptionKey:a,decryptionKey:c=a,decryptionOptions:u={algorithms:[wp]},encryption:p=lb}={}){if(!e)return null;let l=e;if(p){let f=c?_t.default.JWK.asKey(JSON.parse(c)):_b(t);l=_t.default.JWE.decrypt(e,f,u).toString("utf8")}let d=i?_t.default.JWK.asKey(JSON.parse(i)):yb(t);return _t.default.JWT.verify(l,d,s)}o(Tp,"decode");async function mb(t){var e;let{req:r,secureCookie:n=!(!process.env.NEXTAUTH_URL||process.env.NEXTAUTH_URL.startsWith("http://")),cookieName:i=n?"__Secure-next-auth.session-token":"next-auth.session-token",raw:s=!1,decode:a=Tp}=t;if(!r)throw new Error("Must pass `req` to JWT getToken()");let c=r.cookies[i];if(!c&&((e=r.headers.authorization)===null||e===void 0?void 0:e.split(" ")[0])==="Bearer"){let u=r.headers.authorization.split(" ")[1];c=decodeURIComponent(u)}if(s)return c;try{return a(b({token:c},t))}catch(u){return null}}o(mb,"getToken");var hb=!1,vb=!1;function gb(t,{byteLength:e,encryptionInfo:r,digest:n="sha256"}){return cb.default.hkdfSync?Buffer.from(cb.default.hkdfSync(n,t,Buffer.alloc(0),r,e)):ob()(t,e,{info:r,hash:n})}o(gb,"hkdf");function yb(t){hb||(ub.default.warn("JWT_AUTO_GENERATED_SIGNING_KEY"),hb=!0);let e=gb(t,{byteLength:64,encryptionInfo:"NextAuth.js Generated Signing Key"});return _t.default.JWK.asKey(e,{alg:pb,use:"sig",kid:"nextauth-auto-generated-signing-key"})}o(yb,"getDerivedSigningKey");function _b(t){vb||(ub.default.warn("JWT_AUTO_GENERATED_ENCRYPTION_KEY"),vb=!0);let e=gb(t,{byteLength:32,encryptionInfo:"NextAuth.js Generated Encryption Key"});return _t.default.JWK.asKey(e,{alg:wp,use:"enc",kid:"nextauth-auto-generated-encryption-key"})}o(_b,"getDerivedEncryptionKey");var OA={encode:fb,decode:Tp,getToken:mb};Kr.default=OA});var kp=m((j5,bb)=>{bb.exports=o(function(e=""){return e.split(";").map(i=>i.trim()).filter(Boolean).reverse().find(i=>i.startsWith("_idx="))||""},"getIdx")});var Cp=m(qp=>{"use strict";qp.parse=IA;qp.serialize=PA;var kA=decodeURIComponent,qA=encodeURIComponent,CA=/; */,Ea=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function IA(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},i=t.split(CA),s=n.decode||kA,a=0;a<i.length;a++){var c=i[a],u=c.indexOf("=");if(!(u<0)){var p=c.substr(0,u).trim(),l=c.substr(++u,c.length).trim();l[0]=='"'&&(l=l.slice(1,-1)),r[p]==null&&(r[p]=RA(l,s))}}return r}o(IA,"parse");function PA(t,e,r){var n=r||{},i=n.encode||qA;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Ea.test(t))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!Ea.test(s))throw new TypeError("argument val is invalid");var a=t+"="+s;if(n.maxAge!=null){var c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(c)}if(n.domain){if(!Ea.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!Ea.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var u=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(u){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}o(PA,"serialize");function RA(t,e){try{return e(t)}catch(r){return t}}o(RA,"tryDecode")});var Sb=m(Ip=>{var Sn="Could not extract parameters from DER signature";Ip.derToConcat=(t,e)=>{let r=0;if(t[r++]!==48)throw new Error(Sn);let n=t[r++];if(n===129&&(n=t[r++]),n>t.length-r||t[r++]!==2)throw new Error(Sn);let i=t[r++];if(i>t.length-r-2||i>e+1)throw new Error(Sn);let s=r;if(r+=i,t[r++]!==2)throw new Error(Sn);let a=t[r++];if(a!==t.length-r||a>e+1)throw new Error(Sn);let c=r;if(r+=a,r!==t.length)throw new Error(Sn);let u=e-i,p=e-a,l=Buffer.allocUnsafe(u+i+p+a);for(r=0;r<u;r++)l[r]=0;let d=Math.max(-u,0);t.copy(l,r,s+d,s+i),r=e;for(let h=r;r<h+p;r++)l[r]=0;let f=Math.max(-p,0);return t.copy(l,r,c+f,c+a),l};Ip.concatToDer=(t,e)=>{let r=xb(t,0,e),n=xb(t,e,t.length),i=e-r,s=e-n,a=i+s+4,c=a<128,u=Buffer.allocUnsafe((c?2:3)+a),p=0;return u[p++]=48,c?u[p++]=a:(u[p++]=129,u[p++]=a&255),u[p++]=2,u[p++]=i,r<0?(u[p++]=0,p+=t.copy(u,p,0,e)):p+=t.copy(u,p,r,e),u[p++]=2,u[p++]=s,n<0?(u[p++]=0,t.copy(u,p,e)):t.copy(u,p,e+n),u};function xb(t,e,r){let n=0;for(;e+n<r&&t[e+n]===0;)n++;return t[e+n]>=128?--n:n}o(xb,"countPadding")});var Ta=m(wa=>{wa.buf2b64url=t=>t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");function or(t,e,r){if(r)r(t,e);else{if(t)throw t;return e}}o(or,"responder");wa.responder=or;wa.payloadVerifications=(t,e)=>{if(t.audList){if(t.payload.aud===void 0)return t.error={message:"Missing aud claim in payload"},or(null,t,e);if(!t.audList.includes(t.payload.aud))return t.error={message:"Mismatching aud claim in payload"},or(null,t,e)}if(t.issList){if(t.payload.iss===void 0)return t.error={message:"Missing iss claim in payload"},or(null,t,e);if(!t.issList.includes(t.payload.iss))return t.error={message:"Mismatching iss claim in payload"},or(null,t,e)}let r=Number(t.payload.iat);if(!r)return t.error={message:"Missing or invalid iat claim in payload"},or(null,t,e);let n=Number(t.payload.exp);if(t.lifetime){let i=r+t.lifetime;(!n||i<n)&&(n=i)}return n&&Date.now()>n*1e3?(t.expired=n,or(null,t,e)):(t.valid=!0,or(null,t,e))}});var Tb=m(Pp=>{var Fr=require("crypto"),Eb=Sb(),{responder:bt,buf2b64url:Li,payloadVerifications:AA}=Ta(),wb=/^(HS|RS|ES)(256|384|512)$/;Pp.generate=(t,e,...r)=>{let n,i,s={alg:t};if(r[0].constructor!==Object)n=r[0],i=typeof r[1]=="function"?r[1]:void 0;else if(s.kid=r[1],n=r[0][r[1]],i=typeof r[2]=="function"?r[2]:void 0,!n)return bt(new TypeError("Invalid key identifier"),null,i);let a=typeof t=="string"?t.match(wb):null;if(!a)return bt(new TypeError("Unrecognized algorithm"),null,i);let c;a[1]==="HS"?c=jA:a[1]==="RS"?c=MA:c=DA,e.iat=Math.floor(Date.now()/1e3);let u=Li(Buffer.from(JSON.stringify(s))),p=Li(Buffer.from(JSON.stringify(e))),l;try{l=c(`${u}.${p}`,+a[2],n)}catch(d){return bt(d,null,i)}return bt(null,l,i)};Pp.verify=(t,e,r)=>{if(t.error)return bt(null,t,r);if(typeof t.header.alg!="string")return t.error={message:"Missing or invalid alg claim in header"},bt(null,t,r);let n=t.header.alg.match(wb);if(!n)return t.error={message:`Unrecognized algorithm ${t.header.alg}`},bt(null,t,r);if(t.algList&&!t.algList.includes(t.header.alg))return t.error={message:`Unwanted algorithm ${t.header.alg}`},bt(null,t,r);let i=`${t.parts[0]}.${t.parts[1]}`,s;n[1]==="HS"?s=NA:n[1]==="RS"?s=BA:s=KA;let a;try{a=s(i,t.parts[2],+n[2],e)}catch(c){return t.error={message:`Could not verify integrity. ${c.message}`},bt(null,t,r)}return a?AA(t,r):(t.error={message:"Integrity check failed"},bt(null,t,r))};function jA(t,e,r){if(typeof r=="string")r=Buffer.from(r,"base64");else if(!(r instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");let n=e>>3;if(r.length<n)throw new TypeError(`Key length must be at least ${n} bytes`);let i=Fr.createHmac(`SHA${e}`,r),s=Li(i.update(t).digest());return`${t}.${s}`}o(jA,"generateHsJws");function NA(t,e,r,n){if(typeof n=="string")n=Buffer.from(n,"base64");else if(!(n instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");let i=r>>3;if(n.length<i)throw new TypeError(`Key length must be at least ${i} bytes`);let s=Fr.createHmac(`SHA${r}`,n);return s.update(t),Fr.timingSafeEqual(s.digest(),Buffer.from(e,"base64"))}o(NA,"verifyHsJws");function MA(t,e,r){if(r instanceof Buffer)r=r.toString();else if(typeof r!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!r.includes("-----BEGIN")||!r.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted RSA private key");let n=Fr.createSign(`SHA${e}`),i=Li(n.update(t).sign(r));return`${t}.${i}`}o(MA,"generateRsJws");function BA(t,e,r,n){if(n instanceof Buffer)n=n.toString();else if(typeof n!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!n.includes("-----BEGIN")||!(n.includes("KEY-----")||n.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted RSA public key");let i=Fr.createVerify(`SHA${r}`);return i.update(t),i.verify(n,e,"base64")}o(BA,"verifyRsJws");function DA(t,e,r){if(r instanceof Buffer)r=r.toString();else if(typeof r!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!r.includes("-----BEGIN")||!r.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted EC private key");let n=Fr.createSign(`SHA${e}`);n.update(t);let i=32;e===384?i=48:e===512&&(i=66);let s=Li(Eb.derToConcat(n.sign(r),i));return`${t}.${s}`}o(DA,"generateEsJws");function KA(t,e,r,n){if(n instanceof Buffer)n=n.toString();else if(typeof n!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!n.includes("-----BEGIN")||!(n.includes("KEY-----")||n.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted EC public key");e=Buffer.from(e,"base64");let i=32;if(r===384?i=48:r===512&&(i=66),e.length!==i<<1)return!1;let s=Fr.createVerify(`SHA${r}`);return s.update(t),s.verify(n,Eb.concatToDer(e,i))}o(KA,"verifyEsJws")});var Ib=m(Rp=>{var W=require("crypto"),{responder:$,buf2b64url:xt,payloadVerifications:FA}=Ta(),Ob=/^(PBES2-HS(256|384|512)\053)?(RSA-OAEP|dir|A(128|192|256)KW)$/,kb=/^A(128|192|256)(GCM|CBC-HS(256|384|512))$/;Rp.generate=(t,e,r,...n)=>{let i,s,a={alg:t,enc:e};if(n[0].constructor!==Object)i=n[0],s=typeof n[1]=="function"?n[1]:void 0;else if(a.kid=n[1],i=n[0][n[1]],s=typeof n[2]=="function"?n[2]:void 0,!i)return $(new TypeError("Invalid key identifier"),null,s);let c=typeof t=="string"?t.match(Ob):null;if(!c||c[2]&&+c[2]!=c[4]*2){let f=new TypeError("Unrecognized key management algorithm");return $(f,null,s)}let u=typeof e=="string"?e.match(kb):null;if(!u||u[3]&&+u[3]!=u[1]*2){let f=new TypeError("Unrecognized content encryption algorithm");return $(f,null,s)}let p;if(c[2]){let f=W.randomBytes(16);if(a.p2c=1024,a.p2s=xt(f),p=Buffer.concat([Buffer.from(t),Buffer.from([0]),f]),!s){let h=Number(c[2]);i=W.pbkdf2Sync(i,p,a.p2c,h>>4,`sha${h}`)}}let l=xt(Buffer.from(JSON.stringify(a)));if(!c[2]||!s)return qb(c,u,l,r,i,s);let d=Number(c[2]);W.pbkdf2(i,p,a.p2c,d>>4,`sha${d}`,(f,h)=>{if(f)return s(f);qb(c,u,l,r,h,s)})};function qb(t,e,r,n,i,s){let a=e[3]?+e[1]>>2:+e[1]>>3,c=e[3]?UA:LA,u,p;if(t[0]!=="dir"){u=W.randomBytes(a);let d=t[4]?zA:JA;try{p=d(u,i,+t[4])}catch(f){return $(f,null,s)}}else{if(typeof i=="string")i=Buffer.from(i,"base64");else if(!(i instanceof Buffer)){let d=new TypeError("Key must be a buffer or a base64 string");return $(d,null,s)}if(i.length<a){let d=new TypeError(`Key must be at least ${a} bytes`);return $(d,null,s)}u=i.slice(0,a),p=""}n.iat=Math.floor(Date.now()/1e3);let l=c(r,u,p,JSON.stringify(n),+e[1]);return $(null,l,s)}o(qb,"generateJwe");Rp.verify=(t,e,r)=>{if(t.error)return $(null,t,r);if(typeof t.header.alg!="string")return t.error={message:"Missing or invalid alg claim in header"},$(null,t,r);if(typeof t.header.enc!="string")return t.error={message:"Missing or invalid enc claim in header"},$(null,t,r);let n=t.header.alg.match(Ob);if(!n||n[2]&&+n[2]!=n[4]*2)return t.error={message:`Unrecognized key management algorithm ${t.header.alg}`},$(null,t,r);if(t.algList&&!t.algList.includes(t.header.alg))return t.error={message:`Unwanted key management algorithm ${t.header.alg}`},$(null,t,r);let i=t.header.enc.match(kb);if(!i||i[3]&&+i[3]!=i[1]*2)return t.error={message:`Unrecognized content encryption algorithm ${t.header.enc}`},$(null,t,r);if(t.encList&&!t.encList.includes(t.header.enc))return t.error={message:`Unwanted content encryption algorithm ${t.header.enc}`},$(null,t,r);let s,a;if(n[2]){if(a=t.header.p2c,!Number.isInteger(a)||a<1||a>16384)return t.error={message:"Missing or invalid p2c claim in header"},$(null,t,r);if(!r&&a>1024)return t.error={message:"p2c value too large for synchronous mode"},$(null,t,r);if(typeof t.header.p2s!="string")return t.error={message:"Missing or invalid p2s claim in header"},$(null,t,r);let u=Buffer.from(t.header.p2s,"base64"),p=t.header.alg;if(s=Buffer.concat([Buffer.from(p),Buffer.from([0]),u]),!r){let l=Number(n[2]);e=W.pbkdf2Sync(e,s,a,l>>4,`sha${l}`)}}if(!n[2]||!r)return Cb(t,n,i,e,r);let c=Number(n[2]);W.pbkdf2(e,s,a,c>>4,`sha${c}`,(u,p)=>{if(u)return r(u);Cb(t,n,i,p,r)})};function Cb(t,e,r,n,i){let s=Buffer.from(t.parts[0]),a=Buffer.from(t.parts[1],"base64"),c=Buffer.from(t.parts[2],"base64"),u=Buffer.from(t.parts[3],"base64"),p=Buffer.from(t.parts[4],"base64"),l=r[3]?+r[1]>>2:+r[1]>>3,d=r[3]?$A:HA,f;if(e[0]!=="dir"){let v=e[4]?GA:WA;try{f=v(a,n,+e[4])}catch(g){return t.error={message:`Could not decrypt token. ${g.message}`},$(null,t,i)}}else{if(typeof n=="string")n=Buffer.from(n,"base64");else if(!(n instanceof Buffer))return t.error={message:"Invalid key"},$(null,t,i);if(n.length<l)return t.error={message:`Invalid key length. Must be at least ${l} bytes`},$(null,t,i);f=n.slice(0,l)}let h;try{h=d(u,s,p,f,c,+r[1])}catch(v){return t.error={message:`Could not decrypt token. ${v.message}`},$(null,t,i)}try{t.payload=JSON.parse(h)}catch(v){return t.error={message:`Non parsable payload. ${v.message}`},$(null,t,i)}return FA(t,i)}o(Cb,"decryptJwe");function LA(t,e,r,n,i){let s=W.randomBytes(12),a=W.createCipheriv(`id-aes${i}-GCM`,e,s);a.setAutoPadding(!1),a.setAAD(Buffer.from(t));let c=xt(Buffer.concat([a.update(n),a.final()])),u=xt(a.getAuthTag());return`${t}.${r}.${xt(s)}.${c}.${u}`}o(LA,"contentEncryptGcm");function HA(t,e,r,n,i,s){let a=W.createDecipheriv(`id-aes${s}-GCM`,n,i);return a.setAutoPadding(!1),a.setAAD(e),a.setAuthTag(r),Buffer.concat([a.update(t),a.final()])}o(HA,"contentDecryptGcm");function UA(t,e,r,n,i){let s=W.randomBytes(16),a=i>>3,c=W.createCipheriv(`AES-${i}-CBC`,e.slice(a),s),u=Buffer.concat([c.update(n),c.final()]),p=t.length<<3,l=Buffer.from(`000000000000000${p.toString(16)}`.slice(-16),"hex"),d=W.createHmac(`SHA${i<<1}`,e.slice(0,a));d.update(Buffer.from(t)).update(s).update(u).update(l);let f=xt(d.digest().slice(0,a));return`${t}.${r}.${xt(s)}.${xt(u)}.${f}`}o(UA,"contentEncryptCbc");function $A(t,e,r,n,i,s){let a=s>>3,c=e.length<<3,u=Buffer.from(`000000000000000${c.toString(16)}`.slice(-16),"hex"),p=W.createHmac(`SHA${s<<1}`,n.slice(0,a));if(p.update(e).update(i).update(t).update(u),!W.timingSafeEqual(p.digest().slice(0,a),r))throw new Error("Authentication of encrypted data failed");let l=n.slice(a),d=W.createDecipheriv(`AES-${s}-CBC`,l,i);return Buffer.concat([d.update(t),d.final()])}o($A,"contentDecryptCbc");function JA(t,e){if(e instanceof Buffer)e=e.toString();else if(typeof e!="string")throw new TypeError("Key must be a buffer or a string");if(!e.includes("-----BEGIN")||!(e.includes("KEY-----")||e.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted RSA public key");let r={key:e,padding:W.constants.RSA_PKCS1_OAEP_PADDING};return xt(W.publicEncrypt(r,t))}o(JA,"rsaOaepEncrypt");function WA(t,e){if(e instanceof Buffer&&(e=e.toString()),typeof e!="string"||!e.includes("-----BEGIN")||!e.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted RSA private key");let r={key:e,padding:W.constants.RSA_PKCS1_OAEP_PADDING};return W.privateDecrypt(r,t)}o(WA,"rsaOaepDecrypt");function zA(t,e,r){let n=r>>3;if(typeof e=="string")e=Buffer.from(e,"base64");else if(!(e instanceof Buffer))throw new TypeError("Key must be a buffer or a base64-encoded string");if(e.length<n)throw new TypeError(`Key length must be at least ${n} bytes`);e=e.slice(0,n);let i=[];for(let u=0;u<t.length;u+=8)i.push(t.slice(u,u+8));let s=Buffer.alloc(16),a=Buffer.from("A6A6A6A6A6A6A6A6","hex"),c=1;for(let u=0;u<6;u++)for(let p=0;p<i.length;p++){let l=W.createCipheriv(`AES${r}`,e,s),d=`000000000000000${c.toString(16)}`.slice(-16),f=l.update(Buffer.concat([a,i[p]]));a=Buffer.from(d,"hex");for(let h=0;h<8;h++)a[h]^=f[h];i[p]=f.slice(8,16),c++}return xt(Buffer.concat([a].concat(i)))}o(zA,"aesKeyWrap");function GA(t,e,r){let n=r>>3;if(typeof e=="string")e=Buffer.from(e,"base64");else if(!(e instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");if(e.length<n)throw new TypeError(`Key must be at least ${n} bytes`);e=e.slice(0,n);let i=t.slice(0,8),s=[];for(let u=8;u<t.length;u+=8)s.push(t.slice(u,u+8));let a=Buffer.alloc(16),c=6*s.length;for(let u=5;u>=0;u--)for(let p=s.length-1;p>=0;p--){let l=`000000000000000${c.toString(16)}`.slice(-16);l=Buffer.from(l,"hex");for(let h=0;h<8;h++)i[h]^=l[h];let f=W.createDecipheriv(`AES${r}`,e,a).update(Buffer.concat([i,s[p],a]));i=f.slice(0,8),s[p]=f.slice(8,16),c--}if(!i.equals(Buffer.from("A6A6A6A6A6A6A6A6","hex")))throw new Error("Key unwrapping failed");return Buffer.concat(s)}o(GA,"aesKeyUnwrap")});var Ab=m(jp=>{var Pb=Tb(),Rb=Ib(),{responder:Ap}=Ta();jp.generate=(t,...e)=>{if(e[0].constructor===Object)return Pb.generate(t,...e);if(e[1].constructor===Object)return Rb.generate(t,...e);let r=e.length-1;if(r>1&&r<5&&typeof e[r]=="function")e[r](error);else throw error};jp.parse=t=>new En(t);function En(t){if(this.parts=typeof t=="string"?t.split("."):[],this.parts.length===3)this.type="JWS";else if(this.parts.length===5)this.type="JWE";else{this.error={message:"Invalid token"};return}try{this.header=JSON.parse(Buffer.from(this.parts[0],"base64"))}catch(e){this.error={message:`Non parsable header. ${e.message}`};return}if(this.type==="JWS")try{this.payload=JSON.parse(Buffer.from(this.parts[1],"base64"))}catch(e){this.error={message:`Non parsable payload. ${e.message}`}}}o(En,"ParsedToken");En.prototype.setAlgorithmList=function(t,e){return typeof t=="string"?this.algList=[t]:Array.isArray(t)&&(this.algList=t),typeof e=="string"?this.encList=[e]:Array.isArray(e)&&(this.encList=e),this};En.prototype.setTokenLifetime=function(t){return Number.isInteger(t)&&t>0&&(this.lifetime=t),this};En.prototype.setAudience=function(t){return typeof t=="string"?this.audList=[t]:Array.isArray(t)&&(this.audList=t),this};En.prototype.setIssuer=function(t){return typeof t=="string"?this.issList=[t]:Array.isArray(t)&&(this.issList=t),this};En.prototype.verify=function(t,e){if(e=typeof e=="function"?e:void 0,this.error)return Ap(null,this,e);let r;if(t.constructor!==Object)r=t;else{if(this.header.kid===void 0)return this.error={message:"Missing kid claim in header"},Ap(null,this,e);if(t[this.header.kid]===void 0)return this.error={message:"Key with id not found",kid:this.header.kid},Ap(null,this,e);r=t[this.header.kid]}return(this.type==="JWS"?Pb.verify:Rb.verify)(this,r,e)}});var Np=m((L5,Db)=>{var YA=kp(),jb=Cp(),Nb=Ab(),VA="dir",XA="A128GCM",ZA=Buffer.from("1234567890123456").toString("base64"),Mb=process.env.ARC_APP_SECRET||ZA,Bb={create(t){return Nb.generate(VA,XA,t,Mb)},parse(t){let e=604800;return Nb.parse(t).setTokenLifetime(e).verify(Mb)}};function QA(t,e){let r;e||(r=new Promise(o(function(u,p){e=o(function(d,f){d?p(d):u(f)},"errback")},"argh")));let n=t.headers&&(t.headers.cookie||t.headers.Cookie);!n&&t.cookies&&(n=t.cookies.join(";"));let i=YA(n),s=jb.parse(i)._idx,a=Bb.parse(s);return e(null,a.valid?a.payload:{}),r}o(QA,"read");function ej(t,e){let r;e||(r=new Promise(o(function(p,l){e=o(function(f,h){f?l(f):p(h)},"errback")},"ugh")));let n="_idx",i=Bb.create(t),s=process.env.SESSION_TTL||7884e5,a=process.env.ARC_SESSION_SAME_SITE||"lax",c={maxAge:s,expires:new Date(Date.now()+s*1e3),secure:!0,httpOnly:!0,path:"/",sameSite:a};return process.env.SESSION_DOMAIN&&(c.domain=process.env.SESSION_DOMAIN),process.env.NODE_ENV==="testing"&&delete c.secure,e(null,jb.serialize(n,i,c)),r}o(ej,"write");Db.exports={read:QA,write:ej}});var Fb=m(Oa=>{var Kb=require("crypto");Oa.sign=function(t,e){if(typeof t!="string")throw new TypeError("Cookie value must be provided as a string.");if(typeof e!="string")throw new TypeError("Secret string must be provided.");return t+"."+Kb.createHmac("sha256",e).update(t).digest("base64").replace(/\=+$/,"")};Oa.unsign=function(t,e){if(typeof t!="string")throw new TypeError("Signed cookie string must be provided.");if(typeof e!="string")throw new TypeError("Secret string must be provided.");var r=t.slice(0,t.lastIndexOf(".")),n=Oa.sign(r,e),i=Buffer.from(n),s=Buffer.alloc(i.length);return s.write(t),Kb.timingSafeEqual(i,s)?r:!1}});var wn=m((U5,Lb)=>{var ka=require("aws-sdk"),tj=require("https");function Hi(t,e){if(!t)throw ReferenceError("Must supply Dynamo service interface type");let r=process.env.NODE_ENV==="testing",n=process.env.ARC_LOCAL,i=process.env.ARC_TABLES_PORT||5e3,s={endpoint:new ka.Endpoint(`http://localhost:${i}`),region:process.env.AWS_REGION||"us-west-2"},a=ka.DynamoDB,c=ka.DynamoDB.DocumentClient,u;if(!r&&!n){let p=new tj.Agent({keepAlive:!0,maxSockets:50,rejectUnauthorized:!0});ka.config.update({httpOptions:{agent:p}})}if(t==="db"&&(u=r?new a(s):new a),t==="doc"&&(u=r?new c(s):new c),t==="session"){let p=!process.env.SESSION_TABLE_NAME;u=r?new c(s):p?{get(d,f){f()},put(d,f){f()}}:new c}if(e)e(null,u);else return u}o(Hi,"getDynamo");Lb.exports={db:Hi.bind({},"db"),doc:Hi.bind({},"doc"),session:Hi.bind({},"session"),direct:{db:Hi("db"),doc:Hi("doc")}}});var Hb=m(($5,Dp)=>{"use strict";var qa=require("crypto"),Mp=qa.randomBytes===qa.pseudoRandomBytes?1:3;Dp.exports=rj;Dp.exports.sync=nj;function rj(t,e){if(e!==void 0&&typeof e!="function")throw new TypeError("argument callback must be a function");if(!e&&!global.Promise)throw new TypeError("argument callback is required");return e?Bp(t,Mp,e):new Promise(o(function(n,i){Bp(t,Mp,o(function(a,c){if(a)return i(a);n(c)},"onRandomBytes"))},"executor"))}o(rj,"randomBytes");function nj(t){for(var e=null,r=0;r<Mp;r++)try{return qa.randomBytes(t)}catch(n){e=n}throw e}o(nj,"randomBytesSync");function Bp(t,e,r){qa.randomBytes(t,o(function(i,s){if(!i)return r(null,s);if(!--e)return r(i);setTimeout(Bp.bind(null,t,e,r),10)},"onRandomBytes"))}o(Bp,"generateRandomBytes")});var Fp=m((J5,Kp)=>{"use strict";var Ub=Hb(),ij=/=+$/,sj=/\+/g,aj=/\//g;Kp.exports=oj;Kp.exports.sync=cj;function oj(t,e){if(e!==void 0&&typeof e!="function")throw new TypeError("argument callback must be a function");if(!e&&!global.Promise)throw new TypeError("argument callback is required");return e?$b(t,e):new Promise(o(function(n,i){$b(t,o(function(a,c){if(a)return i(a);n(c)},"onUid"))},"executor"))}o(oj,"uid");function cj(t){return Jb(Ub.sync(t))}o(cj,"uidSync");function $b(t,e){Ub(t,function(r,n){if(r)return e(r);e(null,Jb(n))})}o($b,"generateUid");function Jb(t){return t.toString("base64").replace(ij,"").replace(sj,"-").replace(aj,"_")}o(Jb,"toString")});var Lp=m((W5,Wb)=>{Wb.exports=o(function(){return Date.now()/1e3+604800},"_weekFromNow")});var Yb=m((Lr,Gb)=>{var zb=require("assert"),uj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",pj="abcdefghijklmnopqrstuvwxyz0123456789",lj="0123456789";Lr=Gb.exports=Ca(uj);Lr.base62=Lr;Lr.base36=Ca(pj);Lr.base10=Ca(lj);Lr.create=Ca;function Ca(t){zb(typeof t=="string","the list of characters must be a string!");var e=Buffer.byteLength(t);return o(function(n){n=n||10,zb(typeof n=="number"&&n>=0,"the length of the random string must be a number!");for(var i="",s=0;s<n;s++)i+=t[Math.floor(e*Math.random())];return i},"rndm")}o(Ca,"create")});var Xb=m((z5,Vb)=>{"use strict";var Ui=require("crypto");function dj(t,e){if(t.length!==e.length)return!1;if(Ui.timingSafeEqual)return Ui.timingSafeEqual(t,e);for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(dj,"bufferEqual");function fj(t,e){var r=String(t),n=String(e),i=Ui.pseudoRandomBytes(32),s=Ui.createHmac("sha256",i).update(r).digest(),a=Ui.createHmac("sha256",i).update(n).digest();return dj(s,a)&&t===e}o(fj,"timeSafeCompare");Vb.exports=fj});var ex=m((G5,Qb)=>{"use strict";var mj=Yb(),Zb=Fp(),hj=Xb(),vj=require("crypto"),gj=/=/g,yj=/\+/g,_j=/\//g;Qb.exports=cr;function cr(t){if(!(this instanceof cr))return new cr(t);var e=t||{},r=e.saltLength!==void 0?e.saltLength:8;if(typeof r!="number"||!isFinite(r)||r<1)throw new TypeError("option saltLength must be finite number > 1");var n=e.secretLength!==void 0?e.secretLength:18;if(typeof n!="number"||!isFinite(n)||n<1)throw new TypeError("option secretLength must be finite number > 1");this.saltLength=r,this.secretLength=n}o(cr,"Tokens");cr.prototype.create=o(function(e){if(!e||typeof e!="string")throw new TypeError("argument secret is required");return this._tokenize(e,mj(this.saltLength))},"create");cr.prototype.secret=o(function(e){return Zb(this.secretLength,e)},"secret");cr.prototype.secretSync=o(function(){return Zb.sync(this.secretLength)},"secretSync");cr.prototype._tokenize=o(function(e,r){return r+"-"+bj(r+"-"+e)},"tokenize");cr.prototype.verify=o(function(e,r){if(!e||typeof e!="string"||!r||typeof r!="string")return!1;var n=r.indexOf("-");if(n===-1)return!1;var i=r.substr(0,n),s=this._tokenize(e,i);return hj(r,s)},"verify");function bj(t){return vj.createHash("sha1").update(t,"ascii").digest("base64").replace(yj,"-").replace(_j,"_").replace(gj,"")}o(bj,"hash")});var nx=m((Y5,rx)=>{var tx;rx.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):t=>(tx||(tx=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var Hr=m((V5,ix)=>{ix.exports=Sj;var xj=nx();function Sj(t,e){let r,n,i,s=!0;Array.isArray(t)?(r=[],n=t.length):(i=Object.keys(t),r={},n=i.length);function a(u){function p(){e&&e(u,r),e=null}o(p,"end"),s?xj(p):p()}o(a,"done");function c(u,p,l){r[u]=l,(--n==0||p)&&a(p)}o(c,"each"),n?i?i.forEach(function(u){t[u](function(p,l){c(u,p,l)})}):t.forEach(function(u,p){u(function(l,d){c(p,l,d)})}):a(null),s=!1}o(Sj,"runParallel")});var Hp=m((X5,sx)=>{var Ej=Fp(),wj=Lp(),Tj=wn().session,Oj=ex(),kj=Hr();sx.exports=o(function(e,r,n){kj([o(function(s){Ej(18,o(function(c,u){c?s(c):s(null,{_idx:u})},"_uid"))},"_key"),o(function(s){new Oj().secret(o(function(c,u){c?s(c):s(null,{_secret:u})},"_uid"))},"_secret")],o(function(s,a){if(s)throw s;a.push({_ttl:wj()});let c=a.reduce((p,l)=>Object.assign(p,l)),u=Object.assign(r,c);Tj(o(function(l,d){l?n(l):d.put({TableName:e,Item:u},o(function(h){h?n(h):n(null,u)},"_create"))},"_gotDB"))},"_put"))},"_create")});var ox=m((Z5,ax)=>{var qj=wn().session,Cj=Hp();ax.exports=o(function(e,r,n){qj(o(function(s,a){s?n(s):a.get({TableName:e,ConsistentRead:!0,Key:{_idx:r}},o(function(u,p){if(u)n(u);else{let l=typeof p=="undefined"?!1:p.Item;l&&l._secret?n(null,l):Cj(e,{},n)}},"_get"))},"_gotDB"))},"_find")});var ux=m((Q5,cx)=>{var Ij=wn().session,Pj=Lp();cx.exports=o(function(e,r,n){let i=Pj(),s=Object.assign(r,{_ttl:i});Ij(o(function(c,u){c?n(c):u.put({TableName:e,Item:s},o(function(l){l?n(l):n(null,s)},"_create"))},"_gotDB"))},"_update")});var Up=m((e8,dx)=>{var px=Cp(),Rj=kp(),{unsign:Aj,sign:jj}=Fb(),Nj=ox(),Mj=Hp(),Bj=ux();dx.exports={read:Dj,write:Kj};function Dj(t,e){let r;e||(r=new Promise(function(d,f){e=o(function(h,v){h?f(h):d(v)},"callback")}));let n=process.env.SESSION_TABLE_NAME||lx("arc-sessions"),i=process.env.ARC_APP_SECRET||process.env.ARC_APP_NAME||"fallback",s=t.headers&&(t.headers.Cookie||t.headers.cookie);!s&&t.cookies&&(s=t.cookies.join(";"));let a=Rj(s),c=px.parse(a)._idx,u=Aj(c||"",i);return(c&&u?Nj.bind({},n):Mj.bind({},n))(c&&u?u:{},e),r}o(Dj,"read");function Kj(t,e){let r;e||(r=new Promise(function(s,a){e=o(function(c,u){c?a(c):s(u)},"callback")}));let n=process.env.SESSION_TABLE_NAME||lx("arc-sessions"),i=process.env.ARC_APP_SECRET||process.env.ARC_APP_NAME||"fallback";return Bj(n,t,o(function(a){if(a)e(a);else{let c=process.env.SESSION_TTL||7884e5,u={maxAge:c,expires:new Date(Date.now()+c*1e3),secure:!0,httpOnly:!0,path:"/",sameSite:"lax"};process.env.SESSION_DOMAIN&&(u.domain=process.env.SESSION_DOMAIN),process.env.NODE_ENV==="testing"&&delete u.secure;let p=px.serialize("_idx",jj(t._idx,i),u);e(null,p)}},"_update")),r}o(Kj,"write");function lx(t){let e=process.env.NODE_ENV==="production"?"production":"staging";return`${process.env.ARC_APP_NAME}-${e}-${t}`}o(lx,"tableLogicalId")});var Ia=m((t8,fx)=>{var Fj=Np(),Lj=Up();fx.exports=o(function(e,r){return process.env.SESSION_TABLE_NAME==="jwe"?Fj.read(e,r):Lj.read(e,r)},"read")});var Pa=m((r8,mx)=>{var Hj=Np(),Uj=Up();mx.exports=o(function(e,r){return process.env.SESSION_TABLE_NAME==="jwe"?Hj.write(e,r):Uj.write(e,r)},"write")});var Ra=m((n8,hx)=>{var $j=require("querystring");hx.exports=o(function(e){let r=e.headers["Content-Type"]||e.headers["content-type"];if(!e.body||!e.headers||!r||!Object.getOwnPropertyNames(e.body).length)return e.body;{let i=JSON.parse(JSON.stringify(e)),s=i.headers,a=o(v=>s&&s["Content-Type"]&&s["Content-Type"].includes(v)||s&&s["content-type"]&&s["content-type"].includes(v),"contentType"),c=typeof i.body=="string",u=i.isBase64Encoded,p=c&&u,l=(a("application/json")||a("application/vnd.api+json"))&&c,d=a("application/x-www-form-urlencoded")&&p,f=a("multipart/form-data")&&p,h=a("application/octet-stream")&&p;if(l)try{let v=u?Buffer.from(i.body,"base64").toString():i.body;i.body=JSON.parse(v)||{}}catch(v){throw Error("Invalid request body encoding or invalid JSON")}if(d){let v=new Buffer.from(i.body,"base64").toString();i.body=$j.parse(v)}return(f||h)&&(i.body=i.body.base64?i.body:{base64:i.body}),i.body}},"parseBody")});var Aa=m((i8,vx)=>{vx.exports=o(function(e){if(e.version&&e.version==="2.0"){let{requestContext:i}=e;i&&i.http&&i.http.method&&(e.httpMethod=i.http.method),["body","pathParameters","queryStringParameters"].forEach(a=>{e[a]===void 0&&(e[a]={})}),e.resource=e.routeKey.split(" ")[1]||e.routeKey,e.path=e.rawPath}["body","pathParameters","queryStringParameters","multiValueQueryStringParameters"].forEach(i=>{e[i]===null&&(e[i]={})}),e.method||(e.method=e.httpMethod),e.params||(e.params=e.pathParameters),e.query||(e.query=e.queryStringParameters);let n=/\{\w+\}/g;if(n.test(e.path)){let i=e.path.match(n),s=i.map(c=>c.replace(/\{|\}/g,"")),a=0;i.forEach(c=>{e.path=e.path.replace(c,e.params[s[a]]),a+=1})}return e},"interpolateParams")});var Tn=m((s8,yx)=>{yx.exports={httpError:gx,proxyConfig:Jj()};function Jj(){return gx({title:"Index not found",message:`No static asset bucket or <code>get /</code> function found in your project. Possible solutions:<br?
<ul>
  <li>Add <code>@static</code> to your project manifest</li>
  <li>Add <code>get /</code> to the <code>@http</code> pragma of your project manifest</li>
  <li>Manually specify an S3 bucket (containing an <code>index.html</code> file) with the <code>ARC_STATIC_BUCKET</code> env var</li>
  <li>If using <code>arc.http.proxy</code>, pass in a valid config object</li>
</ul>
<a href="https://arc.codes/primitives/static" target="_blank">Learn more</a>`})}o(Jj,"proxyConfig");function gx({statusCode:t=502,title:e="Unknown error",message:r=""}){return e=e==="Error"?`${t} error`:`${t} error: ${e}`,{statusCode:t,headers:{"Content-Type":"text/html; charset=utf8;","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"},body:`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>${e}</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    }
    code {
      font-size: 1.25rem;
      color: #00c26e;
    }
    .max-width-320 {
      max-width: 20rem;
    }
    .margin-left-8 {
      margin-left: 0.5rem;
    }
    .margin-bottom-16 {
      margin-bottom: 1rem;
    }
    .margin-bottom-8 {
      margin-bottom: 0.5rem;
    }
    .padding-32 {
      padding: 2rem;
    }
    .padding-top-16 {
      padding-top: 1rem;
    }
    a, a:hover {
      color: #333;
    }
    p, li {
      padding-bottom: 0.5rem;
    }
  </style>
</head>
<body class="padding-32">
  <div>
    <div class="margin-left-8">
      <div class="margin-bottom-16">
        <h1 class="margin-bottom-16">
          ${e}
        </h1>
        <p>
          ${r}
        </p>
      </div>
      <div class="padding-top-16">
        <p>
          View Architect documentation at:
        </p>
        <a href="https://arc.codes">https://arc.codes</a>
      </div>
    </div>
  </div>
</body>
</html>
`}}o(gx,"httpError")});var ja=m((a8,_x)=>{_x.exports=["application/octet-stream","application/epub+zip","application/msword","application/pdf","application/rtf","application/vnd.amazon.ebook","application/vnd.ms-excel","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","font/otf","font/woff","font/woff2","image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/vnd.microsoft.icon","image/webp","audio/3gpp","audio/aac","audio/basic","audio/mpeg","audio/ogg","audio/wavaudio/webm","audio/x-aiff","audio/x-midi","audio/x-wav","video/3gpp","video/mp2t","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-msvideo","application/java-archive","application/vnd.apple.installer+xml","application/x-7z-compressed","application/x-apple-diskimage","application/x-bzip","application/x-bzip2","application/x-gzip","application/x-java-archive","application/x-rar-compressed","application/x-tar","application/x-zip","application/zip"]});var $p=m((o8,bx)=>{var{httpError:Wj}=Tn(),zj=ja();bx.exports=o(function(e,r){if(e.version&&e.version==="2.0"){let T=["statusCode","body","headers","isBase64Encoded","cookies"],D=o(He=>T.some(er=>er===He),"hasKnownParams"),H=["code","cookie","cors","location","session","status"],B=o(He=>H.some(er=>er===He),"hasTidyParams"),Ie=["html","css","js","text","json","xml"],G=o(He=>Ie.some(er=>er===He),"isStaticallyBound"),Te=o(He=>typeof r===He,"is");Te("object")&&r!==null&&!Array.isArray(r)&&Object.keys.length===1&&(Object.keys(r).some(D)||Object.keys(r).some(B)||Object.keys(r).some(G))||(Te("number")||Te("object")&&r!==null||Te("string")&&r||Array.isArray(r)||r instanceof Buffer?r={body:JSON.stringify(r)}:r||(r={}))}let n=r instanceof Error,i,s=r.body&&r.body instanceof Buffer;s&&(i=r.body),n||(r=JSON.parse(JSON.stringify(r))),s&&(r.body=i);let a=r.body||"",c=r.cacheControl||r.headers&&r.headers["Cache-Control"]||r.headers&&r.headers["cache-control"]||"";r.headers&&r.headers["cache-control"]&&delete r.headers["cache-control"];let u=r.type||r.headers&&r.headers["Content-Type"]||r.headers&&r.headers["content-type"]||"application/json; charset=utf8";r.headers&&r.headers["content-type"]&&delete r.headers["content-type"];let p=r.cors;r.html?(u="text/html; charset=utf8",a=r.html):r.css?(u="text/css; charset=utf8",a=r.css):r.js?(u="text/javascript; charset=utf8",a=r.js):r.text?(u="text/plain; charset=utf8",a=r.text):r.json?(u="application/json; charset=utf8",a=JSON.stringify(r.json)):r.xml&&(u="application/xml; charset=utf8",a=r.xml);let l=r.status||r.code||r.statusCode,d=l||200,f={headers:Object.assign({},{"Content-Type":u},r.headers||{}),statusCode:d,body:a};if(r.multiValueHeaders&&(f.multiValueHeaders=r.multiValueHeaders),r.cookies&&(f.cookies=r.cookies),n){let T=l||500,D=r.name,H=`
      ${r.message}<br>
      <pre>${r.stack}<pre>
    `;f=Wj({statusCode:T,title:D,message:H})}let h=!process.env.ARC_CLOUDFORMATION,v=!process.env.ARC_HTTP||process.env.ARC_HTTP==="aws",g=h&&v,y=!e.resource||e.resource&&e.resource!=="/{proxy+}";g&&y&&(f.type=u);let _=f.headers;c&&(_["Cache-Control"]=c);let x=u.includes("text/html")||u.includes("application/json")||u.includes("application/vnd.api+json");_&&!_["Cache-Control"]&&x?_["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0, s-maxage=0":_&&!_["Cache-Control"]&&(_["Cache-Control"]="max-age=86400"),p&&(_["Access-Control-Allow-Origin"]="*"),r.isBase64Encoded&&(f.isBase64Encoded=!0),r.location&&(f.statusCode=l||302,f.headers.Location=r.location);let S=zj.some(T=>f.headers["Content-Type"].includes(T)),E=typeof f.body=="string",w=o(T=>new Buffer.from(T).toString("base64"),"b64enc");return s&&(f.body=w(f.body),f.isBase64Encoded=!0),E&&S&&(f.isBase64Encoded=!0),f},"responseFormatter")});var Sx=m((c8,xx)=>{var Gj=Ia(),Yj=Pa(),Vj=Ra(),Xj=Aa(),Zj=$p();xx.exports=o(function(...e){return e.forEach(r=>{if(typeof r!="function")throw TypeError(r+" not a function")}),o(function(n,i,s){n.headers||(n.headers={});let a=e.slice();Gj(n,o(function(u,p){if(u)throw u;let l=Xj(Object.assign({},n,{session:p}));l.body=Vj(l);let d=Qj.bind({},l,s);o(function f(h){function v(){throw Error("next() called from last function")}o(v,"fail");let g=f.bind({},a.shift()||v);h.call({},l,d,g)},"iterator")(a.shift())},"_read"))},"lambda")},"http");function Qj(t,e,r){let n=Zj(t,r);if(r&&r.cookie&&(n.headers["Set-Cookie"]=r.cookie),r&&r.session){let{_idx:i,_secret:s,_ttl:a}=t.session,c=b({_idx:i,_secret:s,_ttl:a},r.session);Yj(c,o(function(p,l){p?e(p):(n.headers["Set-Cookie"]=l,e(null,n))},"_write"))}else e(null,n)}o(Qj,"response")});var Jp=m((u8,Ex)=>{var{readFileSync:eN,existsSync:tN}=require("fs"),{join:rN}=require("path");Ex.exports=o(function(e,r={}){let n=e[0]==="/"?e.substring(1):e,i=e==="/",s=rN(process.cwd(),"node_modules","@architect","shared","static.json"),a=tN(s),c=process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL,p=`${r.stagePath&&!c?"/"+process.env.NODE_ENV:""}/_static`;if(!c&&a&&!i){let l=o(h=>eN(h).toString(),"read"),f=JSON.parse(l(s))[n];if(!f)throw ReferenceError(`Could not find asset in static.json (asset fingerprint manifest): ${n}`);return`${p}/${f}`}return`${p}/${i?"":n}`},"_static")});var Tx=m((p8,wx)=>{wx.exports=o(function t(t){let e=process.env.NODE_ENV==="staging",r=process.env.NODE_ENV==="production";return!process.env.ARC_LOCAL&&(e||r)?`/${process.env.NODE_ENV}${t}`:t},"url")});var kx=m((l8,Ox)=>{var nN=Ia(),iN=Pa(),sN=Ra(),aN=Aa(),oN=$p();Ox.exports=o(function(...e){e.forEach(n=>{if(typeof n!="function")throw TypeError(n+" not a function")});async function r(n,i){let s,a=!0;for(let u of e){if(a){a=!1;let d=await nN(n),f=aN(Object.assign({},n,{session:d}));f.body=sN(f),n=f}let p=await u(n,i);if(p&&p.httpMethod)n=p;else if(p){s=p;break}}let c=n.version&&n.version==="2.0";if(!s&&!c)throw new Error("Finished all functions without returning a response.");return cN(n,s)}return o(r,"combined"),r},"httpAsync");async function cN(t,e){let r=oN(t,e);if(e&&e.cookie&&(r.headers["Set-Cookie"]=e.cookie),e&&e.session){let{_idx:n,_secret:i,_ttl:s}=t.session,a=b({_idx:n,_secret:i,_ttl:s},e.session),c=await iN(a);r.headers["Set-Cookie"]=c}return r}o(cN,"response")});var Ix=m((d8,Cx)=>{"use strict";Cx.exports=ur;function ur(t,e,r){return(!r||typeof r!="object")&&(r={}),r.hasOwnProperty("allowOverflow")||(r.allowOverflow=!0),e>ur.maxNumber(t)&&!r.allowOverflow?!1:qx(t,e)}o(ur,"binaryCase");ur.iterator=function(t,e){let r=ur.maxNumber(t);if((!e||typeof e!="object")&&(e={}),e.hasOwnProperty("startIndex")||(e.startIndex=0),typeof e.startIndex!="number"||!Number.isInteger(e.startIndex)||e.startIndex<0)throw Error("Option startIndex must be a non-negative integer.");let n=e.startIndex;return{next:function(){return n>r?{done:!0}:{done:!1,value:qx(t,n++)}}}};ur.maxNumber=function(t){let e=t.match(/[a-z]/ig).length;return Math.pow(2,e)-1};ur.variations=function(t){let e=[],r=ur.maxNumber(t);for(let n=0;n<=r;n++)e.push(ur(t,n));return e};function qx(t,e){let r="";for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i>=65&&i<=90?(r+=e&1?String.fromCharCode(i+32):String.fromCharCode(i),e>>>=1):i>=97&&i<=122?(r+=e&1?String.fromCharCode(i-32):String.fromCharCode(i),e>>>=1):r+=String.fromCharCode(i),e===0)return r+t.substr(n+1)}return r}o(qx,"getBinaryCase")});var jx=m(Wp=>{var Px=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,uN=/^[\u0020-\u007e\u0080-\u00ff]+$/,Rx=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,pN=/\\([\u0000-\u007f])/g,lN=/([\\"])/g,dN=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,Ax=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,fN=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;Wp.format=mN;Wp.parse=hN;function mN(t){if(!t||typeof t!="object")throw new TypeError("argument obj is required");var e=t.parameters,r=t.subtype,n=t.suffix,i=t.type;if(!i||!Ax.test(i))throw new TypeError("invalid type");if(!r||!dN.test(r))throw new TypeError("invalid subtype");var s=i+"/"+r;if(n){if(!Ax.test(n))throw new TypeError("invalid suffix");s+="+"+n}if(e&&typeof e=="object")for(var a,c=Object.keys(e).sort(),u=0;u<c.length;u++){if(a=c[u],!Rx.test(a))throw new TypeError("invalid parameter name");s+="; "+a+"="+gN(e[a])}return s}o(mN,"format");function hN(t){if(!t)throw new TypeError("argument string is required");if(typeof t=="object"&&(t=vN(t)),typeof t!="string")throw new TypeError("argument string is required to be a string");var e=t.indexOf(";"),r=e!==-1?t.substr(0,e):t,n,i,s=yN(r),a={},c;for(Px.lastIndex=e;i=Px.exec(t);){if(i.index!==e)throw new TypeError("invalid parameter format");e+=i[0].length,n=i[1].toLowerCase(),c=i[2],c[0]==='"'&&(c=c.substr(1,c.length-2).replace(pN,"$1")),a[n]=c}if(e!==-1&&e!==t.length)throw new TypeError("invalid parameter format");return s.parameters=a,s}o(hN,"parse");function vN(t){if(typeof t.getHeader=="function")return t.getHeader("content-type");if(typeof t.headers=="object")return t.headers&&t.headers["content-type"]}o(vN,"getcontenttype");function gN(t){var e=String(t);if(Rx.test(e))return e;if(e.length>0&&!uN.test(e))throw new TypeError("invalid parameter value");return'"'+e.replace(lN,"\\$1")+'"'}o(gN,"qstring");function yN(t){var e=fN.exec(t.toLowerCase());if(!e)throw new TypeError("invalid media type");var r=e[1],n=e[2],i,s=n.lastIndexOf("+");s!==-1&&(i=n.substr(s+1),n=n.substr(0,s));var a={type:r,subtype:n,suffix:i};return a}o(yN,"splitType")});var Nx=m((m8,_N)=>{_N.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Bx=m((h8,Mx)=>{Mx.exports=Nx()});var $i=m(Oe=>{"use strict";var Na=Bx(),bN=require("path").extname,Dx=/^\s*([^;\s]*)(?:;|\s|$)/,xN=/^text\//i;Oe.charset=Kx;Oe.charsets={lookup:Kx};Oe.contentType=SN;Oe.extension=EN;Oe.extensions=Object.create(null);Oe.lookup=wN;Oe.types=Object.create(null);TN(Oe.extensions,Oe.types);function Kx(t){if(!t||typeof t!="string")return!1;var e=Dx.exec(t),r=e&&Na[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&xN.test(e[1])?"UTF-8":!1}o(Kx,"charset");function SN(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Oe.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=Oe.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}o(SN,"contentType");function EN(t){if(!t||typeof t!="string")return!1;var e=Dx.exec(t),r=e&&Oe.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}o(EN,"extension");function wN(t){if(!t||typeof t!="string")return!1;var e=bN("x."+t).toLowerCase().substr(1);return e&&Oe.types[e]||!1}o(wN,"lookup");function TN(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(Na).forEach(o(function(i){var s=Na[i],a=s.extensions;if(!(!a||!a.length)){t[i]=a;for(var c=0;c<a.length;c++){var u=a[c];if(e[u]){var p=r.indexOf(Na[e[u]].source),l=r.indexOf(s.source);if(e[u]!=="application/octet-stream"&&(p>l||p===l&&e[u].substr(0,12)==="application/"))continue}e[u]=i}}},"forEachMimeType"))}o(TN,"populateMaps")});var Jx=m((g8,On)=>{"use strict";var Fx=jx(),ON=$i();On.exports=kN;On.exports.is=Lx;On.exports.hasBody=Hx;On.exports.normalize=Ux;On.exports.match=$x;function Lx(t,e){var r,n=e,i=CN(t);if(!i)return!1;if(n&&!Array.isArray(n))for(n=new Array(arguments.length-1),r=0;r<n.length;r++)n[r]=arguments[r+1];if(!n||!n.length)return i;var s;for(r=0;r<n.length;r++)if($x(Ux(s=n[r]),i))return s[0]==="+"||s.indexOf("*")!==-1?i:s;return!1}o(Lx,"typeis");function Hx(t){return t.headers["transfer-encoding"]!==void 0||!isNaN(t.headers["content-length"])}o(Hx,"hasbody");function kN(t,e){var r=e;if(!Hx(t))return null;if(arguments.length>2){r=new Array(arguments.length-1);for(var n=0;n<r.length;n++)r[n]=arguments[n+1]}var i=t.headers["content-type"];return Lx(i,r)}o(kN,"typeofrequest");function Ux(t){if(typeof t!="string")return!1;switch(t){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return t[0]==="+"?"*/*"+t:t.indexOf("/")===-1?ON.lookup(t):t}o(Ux,"normalize");function $x(t,e){if(t===!1)return!1;var r=e.split("/"),n=t.split("/");return r.length!==2||n.length!==2||n[0]!=="*"&&n[0]!==r[0]?!1:n[1].substr(0,2)==="*+"?n[1].length<=r[1].length+1&&n[1].substr(1)===r[1].substr(1-n[1].length):!(n[1]!=="*"&&n[1]!==r[1])}o($x,"mimeMatch");function qN(t){var e=Fx.parse(t);return e.parameters=void 0,Fx.format(e)}o(qN,"normalizeType");function CN(t){if(!t)return null;try{return qN(t)}catch(e){return null}}o(CN,"tryNormalizeType")});var tS=m(ze=>{"use strict";var Wx=require("http"),IN=require("url"),PN=Ix(),RN=Jx();function zx(t){return IN.format({pathname:t.path,query:t.queryStringParameters})}o(zx,"getPathWithQueryStringParams");function Gx(t){return Buffer.from(t.body,t.isBase64Encoded?"base64":"utf8")}o(Gx,"getEventBody");function AN(t){return JSON.parse(JSON.stringify(t))}o(AN,"clone");function jN(t){return t.contentTypeHeader?t.contentTypeHeader.split(";")[0]:""}o(jN,"getContentType");function NN(t){return t.binaryMimeTypes.length>0&&!!RN.is(t.contentType,t.binaryMimeTypes)}o(NN,"isContentTypeBinaryMimeType");function Yx(t,e,r){let n=Object.assign({},t.headers);if(t.body&&!n["Content-Length"]){let s=Gx(t);n["Content-Length"]=Buffer.byteLength(s)}let i=AN(t);return delete i.body,n["x-apigateway-event"]=encodeURIComponent(JSON.stringify(i)),n["x-apigateway-context"]=encodeURIComponent(JSON.stringify(e)),{method:t.httpMethod,path:zx(t),headers:n,socketPath:r}}o(Yx,"mapApiGatewayEventToHttpRequest");function Vx(t,e,r){let n=[];e.on("data",i=>n.push(i)).on("end",()=>{let i=Buffer.concat(n),s=e.statusCode,a=e.headers;a["transfer-encoding"]==="chunked"&&delete a["transfer-encoding"],Object.keys(a).forEach(d=>{Array.isArray(a[d])&&(d.toLowerCase()==="set-cookie"?(a[d].forEach((f,h)=>{a[PN(d,h+1)]=f}),delete a[d]):a[d]=a[d].join(","))});let c=jN({contentTypeHeader:a["content-type"]}),u=NN({contentType:c,binaryMimeTypes:t._binaryTypes}),p=i.toString(u?"base64":"utf8"),l={statusCode:s,body:p,headers:a,isBase64Encoded:u};r.succeed({response:l})})}o(Vx,"forwardResponseToApiGateway");function Xx(t,e){console.log("ERROR: @vendia/serverless-express connection error"),console.error(t);let r={statusCode:502,body:"",headers:{}};e.succeed({response:r})}o(Xx,"forwardConnectionErrorResponseToApiGateway");function Zx(t,e){console.log("ERROR: @vendia/serverless-express error"),console.error(t);let r={statusCode:500,body:"",headers:{}};e.succeed({response:r})}o(Zx,"forwardLibraryErrorResponseToApiGateway");function Ma(t,e,r,n){try{let i=Yx(e,r,Da(t._socketPathSuffix)),s=Wx.request(i,a=>Vx(t,a,n));if(e.body){let a=Gx(e);s.write(a)}s.on("error",a=>Xx(a,n)).end()}catch(i){return Zx(i,n),t}}o(Ma,"forwardRequestToNodeServer");function Ba(t){return t.listen(Da(t._socketPathSuffix))}o(Ba,"startServer");function Da(t){return/^win/.test(process.platform)?require("path").join("\\\\?\\pipe",process.cwd(),`server-${t}`):`/tmp/server-${t}.sock`}o(Da,"getSocketPath");function Qx(){return Math.random().toString(36).substring(2,15)}o(Qx,"getRandomString");function MN(t,e,r){let n=Wx.createServer(t);return n._socketPathSuffix=Qx(),n._binaryTypes=r?r.slice():[],n.on("listening",()=>{n._isListening=!0,e&&e()}),n.on("close",()=>{n._isListening=!1}).on("error",i=>{if(i.code==="EADDRINUSE")return console.warn(`WARNING: Attempting to listen on socket ${Da(n._socketPathSuffix)}, but it is already in use. This is likely as a result of a previous invocation error or timeout. Check the logs for the invocation(s) immediately prior to this for root cause, and consider increasing the timeout and/or cpu/memory allocation if this is purely as a result of a timeout. @vendia/serverless-express will restart the Node.js server listening on a new port and continue with this request.`),n._socketPathSuffix=Qx(),n.close(()=>Ba(n));console.log("ERROR: server error"),console.error(i)}),n}o(MN,"createServer");function eS(t,e,r,n,i){if(!n){let s=zp({context:r,resolutionMode:"CONTEXT_SUCCEED"});return t._isListening?(Ma(t,e,r,s),t):Ba(t).on("listening",()=>eS(t,e,r))}return{promise:new Promise((s,a)=>{let u=zp({context:r,callback:i,promise:{resolve:s,reject:a},resolutionMode:n});t._isListening?Ma(t,e,r,u):Ba(t).on("listening",()=>Ma(t,e,r,u))})}}o(eS,"proxy");function zp(t){return{succeed:e=>{if(t.resolutionMode==="CONTEXT_SUCCEED")return t.context.succeed(e.response);if(t.resolutionMode==="CALLBACK")return t.callback(null,e.response);if(t.resolutionMode==="PROMISE")return t.promise.resolve(e.response)}}}o(zp,"makeResolver");ze.createServer=MN;ze.proxy=eS;process.env.NODE_ENV==="test"&&(ze.getPathWithQueryStringParams=zx,ze.mapApiGatewayEventToHttpRequest=Yx,ze.forwardResponseToApiGateway=Vx,ze.forwardConnectionErrorResponseToApiGateway=Xx,ze.forwardLibraryErrorResponseToApiGateway=Zx,ze.forwardRequestToNodeServer=Ma,ze.startServer=Ba,ze.getSocketPath=Da,ze.makeResolver=zp)});var nS=m((_8,rS)=>{"use strict";rS.exports=tS()});var iS=m(Ge=>{var nt=nS();Ge.createServer=nt.createServer;Ge.proxy=nt.proxy;process.env.NODE_ENV==="test"&&(Ge.getPathWithQueryStringParams=nt.getPathWithQueryStringParams,Ge.mapApiGatewayEventToHttpRequest=nt.mapApiGatewayEventToHttpRequest,Ge.forwardResponseToApiGateway=nt.forwardResponseToApiGateway,Ge.forwardConnectionErrorResponseToApiGateway=nt.forwardConnectionErrorResponseToApiGateway,Ge.forwardLibraryErrorResponseToApiGateway=nt.forwardLibraryErrorResponseToApiGateway,Ge.forwardRequestToNodeServer=nt.forwardRequestToNodeServer,Ge.startServer=nt.startServer,Ge.getSocketPath=nt.getSocketPath,Ge.makeResolver=nt.makeResolver)});var aS=m((x8,sS)=>{"use strict";sS.exports=iS()});var cS=m((S8,oS)=>{var Gp=aS();oS.exports=o(function(e){let r=Gp.createServer(e);return o(function(i,s,a){return process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?Gp.proxy(r,i,s,"CALLBACK",a):Gp.proxy(r,i,s)},"http")},"unexpress")});var Yp=m((E8,uS)=>{uS.exports=o(function({Key:e,config:r,isBinary:n,defaults:i}){let s=e.split(".").pop(),a=r.plugins?r.plugins[s]||[]:[];return a.length===0||n?i:(i.body=i.body.toString(),a.reduce(o(function(u,p){return(typeof p=="function"?p:require(p))(e,u,r)},"run"),i))},"transform")});var Vp=m((w8,pS)=>{pS.exports=o(function(e){let{isBinary:r,assets:n,response:i,isLocal:s=!1}=e;if(r)return i;{let a=/\${(STATIC|arc\.static)\(.*\)}/g,c=i.body instanceof Buffer?i.body.toString():i.body;return i.body=c.replace(a,o(function(p){let l=p.startsWith("${STATIC(")?10:14,d=p.slice(l,p.length-3),f=d.startsWith("/"),h=f?d.substr(1):d;return n&&n[h]&&!s&&(d=n[h],d=f?`/${d}`:d),d},"fingerprint")),i.body=Buffer.from(i.body),i}},"templatizeResponse")});var Xp=m((T8,dS)=>{var{gzipSync:BN,gunzipSync:DN,brotliCompressSync:KN,brotliDecompressSync:FN,deflateSync:LN,inflateSync:HN}=require("zlib");function lS(t,e,r){let n=t==="compress",i={gzip:n?BN:DN,br:n?KN:FN,deflate:n?LN:HN};if(!i[e])throw ReferenceError("Invalid compression type specified, must be gzip, br, or deflate");return i[e](r)}o(lS,"compressor");dS.exports={compress:lS.bind({},"compress"),decompress:lS.bind({},"decompress")}});var Zp=m((O8,fS)=>{var UN=$i(),$N=require("path"),{compress:JN}=Xp();fS.exports=o(function(e){let{response:r,result:n,Key:i,isProxy:s,contentEncoding:a,config:c}=e,u=["text/html","application/json","application/vnd.api+json"];r.headers=r.headers||{};let p=r.headers["Content-Type"]||r.headers["content-type"]||n&&n.ContentType||UN.contentType($N.extname(i));r.headers["Content-Type"]=p;let l=u.some(g=>p.includes(g));c.cacheControl?r.headers["Cache-Control"]=c.cacheControl:l?r.headers["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0, s-maxage=0":n&&n.CacheControl?r.headers["Cache-Control"]=n.CacheControl:r.headers["Cache-Control"]="public, max-age=0, must-revalidate",c.headers&&Object.keys(c.headers).forEach(g=>r.headers[g]=c.headers[g]),r.headers["content-type"]&&(r.headers["Content-Type"]=r.headers["content-type"],delete r.headers["content-type"]),r.headers["cache-control"]&&(r.headers["Cache-Control"]=r.headers["cache-control"],delete r.headers["cache-control"]);let d=!process.env.ARC_CLOUDFORMATION,f=!process.env.ARC_HTTP||process.env.ARC_HTTP==="aws",h=d&&f,v=r.headers["Content-Type"].includes("text/html");return h&&v&&!s?(r.body=Buffer.from(r.body).toString(),r.type=r.headers["Content-Type"]):(a&&(r.body=JN(a,r.body),r.headers["Content-Encoding"]=a),r.body=Buffer.from(r.body).toString("base64"),r.isBase64Encoded=!0),r.headers.ETag=n.ETag,r},"normalizeResponse")});var Qp=m((k8,mS)=>{var WN=require("aws-sdk"),{existsSync:zN,readFileSync:GN}=require("fs"),{join:YN}=require("path"),{httpError:VN}=Tn();mS.exports=o(async function(e){let{Bucket:r,Key:n,assets:i,headers:s,isFolder:a,prefix:c}=e,{ARC_LOCAL:u,ARC_SANDBOX_PATH_TO_STATIC:p,NODE_ENV:l}=process.env,d=l==="testing"||u,f=new WN.S3;function h(S){let E=S.replace(c+"/","");return i&&i[E]&&(S=i[E],S=c?`${c}/${S}`:S),S}o(h,"getKey");async function v(S){let E=p;if(S.startsWith(E)||(S=YN(E,S)),zN(S))return{Body:GN(S)};{let w=ReferenceError(`NoSuchKey: ${n} not found`);throw w.name="NoSuchKey",w}}o(v,"getLocal");async function g(S){return await f.getObject({Bucket:r,Key:S}).promise()}o(g,"getS3");async function y(S){let E=d?v:g;try{return await E(S)}catch(w){return w.name==="NoSuchKey"?(w.statusCode=404,w):(w.statusCode=500,w)}}if(o(y,"get"),a&&!n.endsWith("/")){let S=h(`${n}/index.html`),E=await y(S);if(E.Body){let w=E.Body.toString();return{headers:s,statusCode:200,body:w}}}let _=h("404.html"),x=await y(_);if(x.Body){let S=x.Body.toString();return{headers:{"Content-Type":"text/html; charset=utf8;","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"},statusCode:404,body:S}}else{let S=x,{statusCode:E}=S,w=S.name,T=`
      ${S.message} <pre><b>${n}</b></pre><br>
      <pre>${S.stack}</pre>
    `;return VN({statusCode:E,title:w,message:T})}},"pretty")});var _S=m((q8,yS)=>{var{existsSync:hS,readFileSync:vS}=require("fs"),{extname:XN,join:el,sep:ZN}=require("path"),QN=$i(),eM=require("crypto"),tM=ja(),{httpError:rM}=Tn(),nM=Yp(),iM=Vp(),sM=Zp(),gS=Qp();yS.exports=o(async function(e){let{ARC_SANDBOX_PATH_TO_STATIC:r,ARC_STATIC_PREFIX:n,ARC_STATIC_FOLDER:i}=process.env,{Key:s,IfNoneMatch:a,isFolder:c,isProxy:u,config:p}=e,l={},d={},f,h=r||el(process.cwd(),"..","..","..","public"),v=el(h,"static.json");hS(v)&&(f=JSON.parse(vS(v)));let g=p.assets||f,y=el(h,s),_=n||i;y.includes(_)&&(y=y.replace(`${_}${ZN}`,""));try{let x=!1,S=QN.contentType(XN(s));if(!hS(y))return await gS({Key:y,config:p,isFolder:c});let E=vS(y),w=eM.createHash("sha256").update(E).digest("hex"),T={ContentType:S,ETag:w};if(a===w&&(x=!0,l.ETag=a,d={statusCode:304,headers:l}),!x){let D=tM.some(H=>T.ContentType.includes(H)||S.includes(H));d=nM({Key:s,config:p,isBinary:D,defaults:{headers:l,body:E}}),d=iM({isBinary:D,assets:g,response:d,isLocal:!0}),d=sM({response:d,result:T,Key:s,isProxy:u,config:p}),d.headers.ETag=T.ETag}return d.statusCode||(d.statusCode=200),d}catch(x){if(x.name==="NoSuchKey")return await gS({Key:y,config:p,isFolder:c});{let E=x.name,w=`
        ${x.message}<br>
        <pre>${x.stack}</pre>
      `;return rM({statusCode:500,title:E,message:w})}}},"readLocal")});var SS=m((C8,xS)=>{var{existsSync:aM,readFileSync:oM}=require("fs"),{extname:cM,join:uM}=require("path"),pM=$i(),lM=require("aws-sdk"),dM=ja(),{httpError:fM}=Tn(),mM=Yp(),hM=Vp(),vM=Zp(),gM=Qp(),{decompress:yM}=Xp();xS.exports=o(async function(e){let{Bucket:r,Key:n,IfNoneMatch:i,isFolder:s,isProxy:a,config:c,rootPath:u}=e,{ARC_STATIC_PREFIX:p,ARC_STATIC_FOLDER:l}=process.env,d=p||l||c.bucket&&c.bucket.folder,f=c.assets||Ji,h={},v={};try{let g=!1,y=new lM.S3,_=pM.contentType(cM(n)),S=["text/html","application/json"].some(T=>_.includes(T));if(f&&f[n]&&S&&(n=f[n]),f&&f[n]&&!S){let T=u?`/${u}/_static/${f[n]}`:`/_static/${f[n]}`;return{statusCode:302,headers:{location:T,"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"}}}d&&(n=`${d}/${n}`);let E={Bucket:r,Key:n};i&&(E.IfNoneMatch=i);let w=await y.getObject(E).promise().catch(T=>{if(T.code==="NotModified")g=!0,h.ETag=i,v={statusCode:304,headers:h};else throw T});if(!g){let T=w.ContentEncoding;T&&(w.Body=yM(T,w.Body));let D=dM.some(H=>w.ContentType.includes(H)||_.includes(H));v=mM({Key:n,config:c,isBinary:D,defaults:{headers:h,body:w.Body}}),v=hM({isBinary:D,assets:f,response:v}),v=vM({response:v,result:w,Key:n,isProxy:a,contentEncoding:T,config:c})}return v.statusCode||(v.statusCode=200),v}catch(g){if(g.name==="NoSuchKey")return await gM({Bucket:r,Key:n,assets:f,headers:h,isFolder:s,prefix:d});{let _=g.name,x=`
        ${g.message}<br>
        <pre>${g.stack}</pre>
      `;return fM({statusCode:500,title:_,message:x})}}},"readS3");var Ji,bS=uM(process.cwd(),"node_modules","@architect","shared","static.json");Ji===!1||(aM(bS)&&!Ji?Ji=JSON.parse(oM(bS)):Ji=!1)});var wS=m((I8,ES)=>{var _M=_S(),bM=SS();function xM(){let{ARC_LOCAL:t,NODE_ENV:e}=process.env;return e==="testing"||t?_M:bM}o(xM,"read");ES.exports=xM()});var kS=m((P8,OS)=>{var TS=wS(),SM=Tn();function EM(t={}){return o(async function(r){let{ARC_STATIC_BUCKET:n,ARC_STATIC_SPA:i,NODE_ENV:s}=process.env,a=r.version===void 0||r.version==="1.0",c=s==="production",u=a?r.path:r.rawPath,p=u.split("/").pop().indexOf(".")===-1,l,d=t.bucket,f=c?d&&d.production:d&&d.staging,h=n||f;if(!h)return SM.proxyConfig;let v=i==="false"?!1:t&&t.spa;if(v||(t.spa=!1),v)l=p?"index.html":u.substring(1);else{let w=u.split("/").filter(Boolean).pop(),T=w?w.includes("."):!1,D=u==="/";l=D?"index.html":u.substring(1),D===!1&&T===!1&&(l=`${l.replace(/\/$/,"")}/index.html`)}t&&t.alias&&t.alias[u]&&(l=t.alias[u].substring(1)),l.startsWith("staging/")&&(l=l.replace("staging/","")),l.startsWith("production/")&&(l=l.replace("production/",""));let y,_=r.requestContext&&r.requestContext.path;a&&_&&(_&&_.startsWith("/staging/")&&(y="staging"),_&&_.startsWith("/production/")&&(y="production"));let x=o(w=>w.toLowerCase()==="if-none-match","find"),S=r.headers&&r.headers[Object.keys(r.headers).find(x)],E=r.resource==="/{proxy+}"||!!r.rawPath;return await TS({Key:l,Bucket:h,IfNoneMatch:S,isFolder:p,isProxy:E,config:t,rootPath:y})},"httpProxy")}o(EM,"proxy");OS.exports={proxy:EM,read:TS}});var IS=m((R8,CS)=>{var Pt=Sx(),wM=Ra(),TM=Aa(),OM=Jp(),kM=Tx(),qM=Ia(),CM=Pa(),qS=kx(),IM=cS(),tl=kS();Pt.helpers={bodyParser:wM,interpolate:TM,static:OM,url:kM};Pt.session={read:qM,write:CM};Pt.async=qS;Pt.express=IM;Pt.proxy=tl.proxy;Pt.proxy.public=tl.proxy;Pt.proxy.read=tl.read;Pt.middleware=qS;CS.exports=Pt});var AS=m((A8,RS)=>{var PS=require("aws-sdk"),PM=require("http");RS.exports=o(function(e){let r=`/${process.env.ARC_CLOUDFORMATION}`,n=!0,i=[],s=process.env.NODE_ENV==="testing",a;if(s){let p=process.env.ARC_INTERNAL||3332,l=process.env.AWS_REGION||"us-west-2";a={endpoint:new PS.Endpoint(`http://localhost:${p}/_arc/ssm`),region:l,httpOptions:{agent:new PM.Agent}}}let c=new PS.SSM(a);function u(p){c.getParametersByPath(p,o(function(d,f){d?e(d):f.NextToken?(i=i.concat(f.Parameters),u({Path:r,Recursive:n,NextToken:f.NextToken})):(i=i.concat(f.Parameters),e(null,i.reduce((h,v)=>{let g=v.Name.split("/");g.shift(),g.shift();let y=g.shift();h[y]||(h[y]={});let _=h[y],x,S,E;for(;x=g.shift();)_[x]||(_[x]={}),E=_,_=_[x],S=x;return E[S]=v.Value,h},{})))},"done"))}o(u,"getParams"),u({Path:r,Recursive:n})},"lookup")});var NS=m((j8,jS)=>{var RM=require("http");jS.exports=o(function({id:e,payload:r},n){let i=process.env.PORT||3333,s=JSON.stringify({id:e,payload:r}),a=RM.request({method:"POST",port:i,path:"/__arc",headers:{"Content-Type":"application/json","Content-Length":Buffer.byteLength(s)}});a.on("error",n),a.on("close",()=>n()),a.write(s),a.end()},"send")});var BS=m((N8,MS)=>{var AM=require("aws-sdk");MS.exports=o(function({id:e,payload:r},n){let i,s=process.env.ARC_WSS_URL;s.startsWith("wss://")?i=`https://${s.replace("wss://","")}`:i=`https://${s}/${process.env.NODE_ENV}`,new AM.ApiGatewayManagementApi({apiVersion:"2018-11-29",endpoint:i}).postToConnection({ConnectionId:e,Data:JSON.stringify(r)},o(function(u){u?n(u):n()},"postToConnection"))},"send")});var KS=m((M8,DS)=>{var jM=NS(),NM=BS();DS.exports=o(function({id:e,payload:r},n){let i;return n||(i=new Promise(function(c,u){n=o(function(p,l){p?u(p):c(l)},"callback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?jM:NM)({id:e,payload:r},n),i},"send")});var rl=m((B8,FS)=>{FS.exports=MM;function MM(t,e){var r=0,n=!0;function i(a,c){function u(){c=c?[].concat(a,c):[a],e&&e.apply(void 0,c)}o(u,"end"),n?process.nextTick(u):u()}o(i,"done");function s(a){var c=Array.prototype.slice.call(arguments,1);++r>=t.length||a?i(a,c):t[r].apply(void 0,[].concat(c,s))}o(s,"each"),t.length?t[0](s):i(null),n=!1}o(MM,"runWaterfall")});var HS=m((D8,LS)=>{var BM=Hr();function pr(t,e){return o(function(n,i){var s=n.Records.map(function(a){return o(function(u){var p=t.indexOf(a.eventName)>-1;p?e(a,u):u()},"__actualHandler")});BM(s,o(function(c,u){c?i.fail(c):i.succeed(u)},"__processedRecords"))},"__lambdaSignature")}o(pr,"__trigger");LS.exports={insert:pr.bind({},["INSERT"]),modify:pr.bind({},["MODIFY"]),update:pr.bind({},["MODIFY"]),remove:pr.bind({},["REMOVE"]),destroy:pr.bind({},["REMOVE"]),all:pr.bind({},["INSERT","MODIFY","REMOVE"]),save:pr.bind({},["INSERT","MODIFY"]),change:pr.bind({},["INSERT","REMOVE"])}});var nl=m((K8,US)=>{US.exports=o(function(e){var r={};return Object.keys(e).forEach(n=>{r[n]=DM(e[n])}),r},"pfy");function DM(t){return o(function(r,n){if(n)t(r,n);else return new Promise(function(i,s){t(r,function(a,c){a?s(a):i(c)})})},"_promisified")}o(DM,"promised")});var JS=m((F8,$S)=>{var KM=wn(),FM=nl(),LM=Hr();$S.exports=o(function(e,r){let{db:n,doc:i}=KM;LM({db:n,doc:i},o(function(a,{db:c,doc:u}){if(a)throw a;{let f=function(h){return FM({delete(v,g){let y={};y.TableName=h,y.Key=v,u.delete(y,g)},get(v,g){let y={};y.TableName=h,y.Key=v,u.get(y,o(function(x,S){x?g(x):g(null,S.Item)},"_get"))},put(v,g){let y={};y.TableName=h,y.Item=v,u.put(y,o(function(x){x?g(x):g(null,v)},"_put"))},query(v,g){v.TableName=h,u.query(v,g)},scan(v,g){v.TableName=h,u.scan(v,g)},update(v,g){v.TableName=h,u.update(v,g)}})};var p=f;o(f,"factory");let l=Object.keys(e).reduce((h,v)=>(h[v]=f(e[v]),h),{});Object.defineProperty(l,"_db",{enumerable:!1,value:c}),Object.defineProperty(l,"_doc",{enumerable:!1,value:u}),l.reflect=o(async function(){return e},"reflect");let d=o(h=>e[h],"_name");l.name=d,l._name=d,r(null,l)}},"done"))},"reflectFactory")});var zS=m((L8,WS)=>{var HM=nl(),UM=Hr(),$M=o(t=>!t.includes("-production-"),"stagingTables");function JM(t,e){return HM({delete(n,i){let s={};s.TableName=e,s.Key=n,t.delete(s,i)},get(n,i){let s={};s.TableName=e,s.Key=n,t.get(s,o(function(c,u){c?i(c):i(null,u.Item)},"_get"))},put(n,i){let s={};s.TableName=e,s.Item=n,t.put(s,o(function(c){c?i(c):i(null,n)},"_put"))},query(n,i){n.TableName=e,t.query(n,i)},scan(n,i){n.TableName=e,t.scan(n,i)},update(n,i){n.TableName=e,t.update(n,i)}})}o(JM,"client");WS.exports=o(function(e,r){function n(i,s){if(i)return r(i);let a=s[0],c=s[1];a.listTables({},o(function(p,l){if(p)return r(p);let d=l.TableNames.filter($M),f={},h={};d.forEach(g=>{let y=g.replace(/.+-staging-/,"");h[y]=g,f[y]=JM(c,g)}),Object.defineProperty(f,"_db",{enumerable:!1,value:a}),Object.defineProperty(f,"_doc",{enumerable:!1,value:c}),f.reflect=async()=>h;let v=o(g=>h[g],"_name");f.name=v,f._name=v,r(null,f)},"listed"))}o(n,"done"),UM([e.db,e.doc],n)},"sandbox")});var YS=m((H8,GS)=>{var WM=rl(),lr=HS(),zM=JS(),GM=zS(),il=wn(),Ka=!1;function YM(t){function e(r){let n;return r||(n=new Promise(o(function(a,c){r=o(function(p,l){p?c(p):a(l)},"errback")},"ugh"))),process.env.NODE_ENV==="testing"?GM(il,r):Ka?r(null,Ka):WM([function(s){t.services().then(function(a){s(null,a.tables)}).catch(s)},zM,function(s,a){Ka=s,a(null,Ka)}],r),n}return o(e,"api"),e.doc=il.direct.doc,e.db=il.direct.db,e.insert=lr.insert,e.modify=lr.modify,e.update=lr.update,e.remove=lr.remove,e.destroy=lr.destroy,e.all=lr.all,e.save=lr.save,e.change=lr.change,e}o(YM,"tables");GS.exports=YM});var XS=m((U8,VS)=>{var VM=require("http"),XM=rl(),ZM=require("aws-sdk");VS.exports=o(function(e,r){if(!e.name)throw ReferenceError("missing params.name");if(!e.payload)throw ReferenceError("missing params.payload");let n=`${process.env.ARC_APP_NAME}-${process.env.NODE_ENV}-${e.name}`,i=e.payload,s;if(r||(s=new Promise((c,u)=>{r=o(function(l,d){l?u(l):c(d)},"errback")})),process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL){let c=process.env.ARC_EVENTS_PORT||3334,u=VM.request({method:"POST",port:c,path:"/queues"},o(function(l){let d=[];l.resume(),l.on("data",f=>d.push(f)),l.on("end",()=>{let f=Buffer.concat(d).toString(),h=`${l.statusCode}`;h.startsWith(2)?r(null,f):r(Error(`${f} (${h})`))})},"done"));u.write(JSON.stringify(e)),u.end(`
`)}else{let c=new ZM.SQS;XM([o(function(p){c.getQueueUrl({QueueName:n},p)},"reads"),o(function(p,l){let d=p.QueueUrl,f=e.delaySeconds||0;c.sendMessage({QueueUrl:d,DelaySeconds:f,MessageBody:JSON.stringify(i)},l)},"publishes")],o(function(p,l){if(p)throw p;r(null,l)},"_published"))}return s},"_publish")});var QS=m(($8,ZS)=>{var QM=Hr();ZS.exports=o(function(e){return e.constructor.name==="AsyncFunction"?o(async function(n){return await Promise.all(n.Records.map(async i=>{try{let s=JSON.parse(i.body);return await e(s)}catch(s){throw console.log("Queue subscribe error:",s),s}}))},"lambda"):o(function(n,i,s){QM(n.Records.map(o(function(c){return o(function(p){try{e(JSON.parse(c.body),p)}catch(l){p(l)}},"_actualHandler")},"_iterator")),s)},"_lambdaSignature")},"_subscribe")});var tE=m((J8,eE)=>{var eB=require("http");eE.exports=o(function(e,r){let n=process.env.ARC_EVENTS_PORT||3334,i=eB.request({method:"POST",port:n,path:"/queues"},o(function(a){let c=[];a.resume(),a.on("data",u=>c.push(u)),a.on("end",()=>{let u=Buffer.concat(c).toString(),p=`${a.statusCode}`;p.startsWith(2)?r(null,u):r(Error(`${u} (${p})`))})},"done"));i.write(JSON.stringify(e)),i.end(`
`)},"sandbox")});var nE=m((W8,rE)=>{var tB=require("aws-sdk"),Wi={};rE.exports=o(function(e){return o(function({name:n,payload:i,delaySeconds:s,groupID:a},c){function u(d,f,h){let v=new tB.SQS,g={QueueUrl:d,DelaySeconds:s||0,MessageBody:JSON.stringify(f)};d.endsWith(".fifo")&&(g.MessageGroupId=a||n),v.sendMessage(g,h)}o(u,"publish");function p(d){Wi=d.queues,Wi[n]?u(Wi[n],i,c):c(ReferenceError(`${n} queue not found`))}o(p,"cacheLedgerAndPublish"),Wi[n]?u(Wi[n],i,c):e.services().then(p).catch(c)},"live")},"liveFactory")});var sE=m((z8,iE)=>{var rB=tE(),nB=nE();iE.exports=o(function(e){let r=nB(e);return o(function(i,s){if(!i.name)throw ReferenceError("missing params.name");if(!i.payload)throw ReferenceError("missing params.payload");let a;return s||(a=new Promise((p,l)=>{s=o(function(f,h){f?l(f):p(h)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?rB:r)(i,s),a},"publish")},"publishFactory")});var oE=m((G8,aE)=>{var iB=XS(),sB=QS(),aB=sE();aE.exports=o(function(e){let r=aB(e);return{publish(n,i){return process.env.ARC_CLOUDFORMATION?r(n,i):iB(n,i)},subscribe:sB}},"queueFactory")});var lE=m((Y8,pE)=>{var oB=require("http"),cE=require("aws-sdk"),cB=new cE.SNS,Fa={};function uE(t,e,r){cB.publish({TopicArn:t,Message:JSON.stringify(e)},o(function(i,s){if(i)throw i;r(null,s)},"_published"))}o(uE,"__publish");pE.exports=o(function(e,r){if(!e.name)throw ReferenceError("missing params.name");if(!e.payload)throw ReferenceError("missing params.payload");let n;return r||(n=new Promise((a,c)=>{r=o(function(p,l){p?c(p):a(l)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?pB:uB)(e,r),n},"_publish");function uB(t,e){let{name:r,payload:n}=t;if(Fa[r])uE(Fa[r],n,e);else{let a=`${t.app?t.app:process.env.ARC_APP_NAME}-${process.env.NODE_ENV}-${r}`;lB({eventName:a},o(function(u,p){if(u)throw u;Fa[r]=p,uE(Fa[r],n,e)},"_scan"))}}o(uB,"_live");function pB(t,e){let r=process.env.ARC_EVENTS_PORT||3334,n=oB.request({method:"POST",port:r,path:"/events"},o(function(s){let a=[];s.resume(),s.on("data",c=>a.push(c)),s.on("end",()=>{let c=Buffer.concat(a).toString(),u=`${s.statusCode}`;u.startsWith(2)?e(null,c):e(Error(`${c} (${u})`))})},"done"));n.write(JSON.stringify(t)),n.end(`
`)}o(pB,"_local");function lB({eventName:t},e){let r=new cE.SNS;o(function n(i={},s){r.listTopics(i,o(function(c,u){if(c)throw c;let p=u.Topics.find(l=>{let d=l.TopicArn.split(":");return d[d.length-1]===t});p?s(null,p.TopicArn):u.NextToken?setTimeout(()=>{n({NextToken:u.NextToken},s)},50):s(Error(`topic ${t} not found`))},"_listTopics"))},"__scanner")({},e)}o(lB,"_scan")});var mE=m((V8,fE)=>{var dB=Hr(),dE={Records:[{Sns:{Message:JSON.stringify({})}}]};fE.exports=o(function(e){return e.constructor.name==="AsyncFunction"?o(async function(n){return n=n&&Object.keys(n).length?n:dE,await Promise.all(n.Records.map(async i=>{try{let s=JSON.parse(i.Sns.Message);return await e(s)}catch(s){throw console.log("Event subscribe error:",s),s}}))},"lambda"):o(function(n,i,s){n=n&&Object.keys(n).length?n:dE,dB(n.Records.map(o(function(c){return o(function(p){try{e(JSON.parse(c.Sns.Message),p)}catch(l){p(l)}},"_actualHandler")},"_iterator")),s)},"_lambdaSignature")},"_subscribe")});var vE=m((X8,hE)=>{var fB=require("http");hE.exports=o(function(e,r){let n=process.env.ARC_EVENTS_PORT||3334,i=fB.request({method:"POST",port:n,path:"/events"},o(function(a){let c=[];a.resume(),a.on("data",u=>c.push(u)),a.on("end",()=>{let u=Buffer.concat(c).toString(),p=`${a.statusCode}`;p.startsWith(2)?r(null,u):r(Error(`${u} (${p})`))})},"done"));i.write(JSON.stringify(e)),i.end(`
`)},"publishLocal")});var yE=m((Z8,gE)=>{var mB=require("aws-sdk"),zi={};gE.exports=o(function(e){return o(function({name:n,payload:i},s){function a(p,l,d){new mB.SNS().publish({TopicArn:p,Message:JSON.stringify(l)},d)}o(a,"publish");function c(p){zi=p.events,zi[n]?a(zi[n],i,s):s(ReferenceError(`${n} event not found`))}o(c,"cacheLedgerAndPublish"),zi[n]?a(zi[n],i,s):e.services().then(c).catch(s)},"live")},"liveFactory")});var bE=m((Q8,_E)=>{var hB=vE(),vB=yE();_E.exports=o(function(e){let r=vB(e);return o(function(i,s){if(!i.name)throw ReferenceError("missing params.name");if(!i.payload)throw ReferenceError("missing params.payload");let a;return s||(a=new Promise((p,l)=>{s=o(function(f,h){f?l(f):p(h)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?hB:r)(i,s),a},"publish")},"publishFactory")});var SE=m((ez,xE)=>{var gB=lE(),yB=mE(),_B=bE();xE.exports=o(function(e){let r=_B(e);return{publish(n,i){return process.env.ARC_CLOUDFORMATION?r(n,i):gB(n,i)},subscribe:yB}},"eventFactory")});var wE=m((tz,EE)=>{var sl=process.env.NODE_ENV,bB=sl!=="staging"&&sl!=="production";(!sl||bB)&&(process.env.NODE_ENV="testing");var al=IS(),xB=Jp(),SB=AS(),La,EB=KS(),St={http:al,static:xB,ws:{send:EB},services:function(){return new Promise(function(t,e){La?t(La):SB(function(r,n){r?e(r):(La=n,t(La))})})}};St.tables=YS()(St);St.queues=oE()(St);St.events=SE()(St);St.proxy={};St.proxy.public=al.proxy.public;St.middleware=al.middleware;EE.exports=St});var z=m((sz,$a)=>{var OE,kE,qE,CE,IE,PE,RE,AE,jE,Ua,cl,NE,ME,kn,BE,DE,KE,FE,LE,HE,UE,$E,JE;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof $a=="object"&&typeof $a.exports=="object"?t(r(e,r($a.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}o(r,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};OE=o(function(r,n){e(r,n);function i(){this.constructor=r}o(i,"__"),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},"__extends"),kE=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},qE=o(function(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i},"__rest"),CE=o(function(r,n,i,s){var a=arguments.length,c=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,n,i,s);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(c=(a<3?u(c):a>3?u(n,i,c):u(n,i))||c);return a>3&&c&&Object.defineProperty(n,i,c),c},"__decorate"),IE=o(function(r,n){return function(i,s){n(i,s,r)}},"__param"),PE=o(function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},"__metadata"),RE=o(function(r,n,i,s){function a(c){return c instanceof i?c:new i(function(u){u(c)})}return o(a,"adopt"),new(i||(i=Promise))(function(c,u){function p(f){try{d(s.next(f))}catch(h){u(h)}}o(p,"fulfilled");function l(f){try{d(s.throw(f))}catch(h){u(h)}}o(l,"rejected");function d(f){f.done?c(f.value):a(f.value).then(p,l)}o(d,"step"),d((s=s.apply(r,n||[])).next())})},"__awaiter"),AE=o(function(r,n){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(d){return function(f){return l([d,f])}}function l(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,a&&(c=d[0]&2?a.return:d[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,d[1])).done)return c;switch(a=0,c&&(d=[d[0]&2,c.value]),d[0]){case 0:case 1:c=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,a=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!c||d[1]>c[0]&&d[1]<c[3])){i.label=d[1];break}if(d[0]===6&&i.label<c[1]){i.label=c[1],c=d;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(d);break}c[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(r,i)}catch(f){d=[6,f],a=0}finally{s=c=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},"__generator"),JE=o(function(r,n,i,s){s===void 0&&(s=i),r[s]=n[i]},"__createBinding"),jE=o(function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},"__exportStar"),Ua=o(function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),cl=o(function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),a,c=[],u;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)c.push(a.value)}catch(p){u={error:p}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(u)throw u.error}}return c},"__read"),NE=o(function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(cl(arguments[n]));return r},"__spread"),ME=o(function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var s=Array(r),a=0,n=0;n<i;n++)for(var c=arguments[n],u=0,p=c.length;u<p;u++,a++)s[a]=c[u];return s},"__spreadArrays"),kn=o(function(r){return this instanceof kn?(this.v=r,this):new kn(r)},"__await"),BE=o(function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,n||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(g){return new Promise(function(y,_){c.push([v,g,y,_])>1||p(v,g)})})}function p(v,g){try{l(s[v](g))}catch(y){h(c[0][3],y)}}function l(v){v.value instanceof kn?Promise.resolve(v.value.v).then(d,f):h(c[0][2],v)}function d(v){p("next",v)}function f(v){p("throw",v)}function h(v,g){v(g),c.shift(),c.length&&p(c[0][0],c[0][1])}},"__asyncGenerator"),DE=o(function(r){var n,i;return n={},s("next"),s("throw",function(a){throw a}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(a,c){n[a]=r[a]?function(u){return(i=!i)?{value:kn(r[a](u)),done:a==="return"}:c?c(u):u}:c}},"__asyncDelegator"),KE=o(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof Ua=="function"?Ua(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(c){i[c]=r[c]&&function(u){return new Promise(function(p,l){u=r[c](u),a(p,l,u.done,u.value)})}}function a(c,u,p,l){Promise.resolve(l).then(function(d){c({value:d,done:p})},u)}},"__asyncValues"),FE=o(function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},"__makeTemplateObject"),LE=o(function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},"__importStar"),HE=o(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),UE=o(function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},"__classPrivateFieldGet"),$E=o(function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},"__classPrivateFieldSet"),t("__extends",OE),t("__assign",kE),t("__rest",qE),t("__decorate",CE),t("__param",IE),t("__metadata",PE),t("__awaiter",RE),t("__generator",AE),t("__exportStar",jE),t("__createBinding",JE),t("__values",Ua),t("__read",cl),t("__spread",NE),t("__spreadArrays",ME),t("__await",kn),t("__asyncGenerator",BE),t("__asyncDelegator",DE),t("__asyncValues",KE),t("__makeTemplateObject",FE),t("__importStar",LE),t("__importDefault",HE),t("__classPrivateFieldGet",UE),t("__classPrivateFieldSet",$E)})});var C=m((az,Wa)=>{var WE,zE,GE,YE,VE,XE,ZE,QE,ew,Ja,ul,tw,rw,qn,nw,iw,sw,aw,ow,cw,uw,pw,lw;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Wa=="object"&&typeof Wa.exports=="object"?t(r(e,r(Wa.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}o(r,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};WE=o(function(r,n){e(r,n);function i(){this.constructor=r}o(i,"__"),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},"__extends"),zE=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},GE=o(function(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i},"__rest"),YE=o(function(r,n,i,s){var a=arguments.length,c=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,n,i,s);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(c=(a<3?u(c):a>3?u(n,i,c):u(n,i))||c);return a>3&&c&&Object.defineProperty(n,i,c),c},"__decorate"),VE=o(function(r,n){return function(i,s){n(i,s,r)}},"__param"),XE=o(function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},"__metadata"),ZE=o(function(r,n,i,s){function a(c){return c instanceof i?c:new i(function(u){u(c)})}return o(a,"adopt"),new(i||(i=Promise))(function(c,u){function p(f){try{d(s.next(f))}catch(h){u(h)}}o(p,"fulfilled");function l(f){try{d(s.throw(f))}catch(h){u(h)}}o(l,"rejected");function d(f){f.done?c(f.value):a(f.value).then(p,l)}o(d,"step"),d((s=s.apply(r,n||[])).next())})},"__awaiter"),QE=o(function(r,n){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(d){return function(f){return l([d,f])}}function l(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,a&&(c=d[0]&2?a.return:d[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,d[1])).done)return c;switch(a=0,c&&(d=[d[0]&2,c.value]),d[0]){case 0:case 1:c=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,a=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!c||d[1]>c[0]&&d[1]<c[3])){i.label=d[1];break}if(d[0]===6&&i.label<c[1]){i.label=c[1],c=d;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(d);break}c[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(r,i)}catch(f){d=[6,f],a=0}finally{s=c=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},"__generator"),lw=o(function(r,n,i,s){s===void 0&&(s=i),r[s]=n[i]},"__createBinding"),ew=o(function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},"__exportStar"),Ja=o(function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),ul=o(function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),a,c=[],u;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)c.push(a.value)}catch(p){u={error:p}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(u)throw u.error}}return c},"__read"),tw=o(function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(ul(arguments[n]));return r},"__spread"),rw=o(function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var s=Array(r),a=0,n=0;n<i;n++)for(var c=arguments[n],u=0,p=c.length;u<p;u++,a++)s[a]=c[u];return s},"__spreadArrays"),qn=o(function(r){return this instanceof qn?(this.v=r,this):new qn(r)},"__await"),nw=o(function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,n||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(g){return new Promise(function(y,_){c.push([v,g,y,_])>1||p(v,g)})})}function p(v,g){try{l(s[v](g))}catch(y){h(c[0][3],y)}}function l(v){v.value instanceof qn?Promise.resolve(v.value.v).then(d,f):h(c[0][2],v)}function d(v){p("next",v)}function f(v){p("throw",v)}function h(v,g){v(g),c.shift(),c.length&&p(c[0][0],c[0][1])}},"__asyncGenerator"),iw=o(function(r){var n,i;return n={},s("next"),s("throw",function(a){throw a}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(a,c){n[a]=r[a]?function(u){return(i=!i)?{value:qn(r[a](u)),done:a==="return"}:c?c(u):u}:c}},"__asyncDelegator"),sw=o(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof Ja=="function"?Ja(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(c){i[c]=r[c]&&function(u){return new Promise(function(p,l){u=r[c](u),a(p,l,u.done,u.value)})}}function a(c,u,p,l){Promise.resolve(l).then(function(d){c({value:d,done:p})},u)}},"__asyncValues"),aw=o(function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},"__makeTemplateObject"),ow=o(function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},"__importStar"),cw=o(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),uw=o(function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},"__classPrivateFieldGet"),pw=o(function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},"__classPrivateFieldSet"),t("__extends",WE),t("__assign",zE),t("__rest",GE),t("__decorate",YE),t("__param",VE),t("__metadata",XE),t("__awaiter",ZE),t("__generator",QE),t("__exportStar",ew),t("__createBinding",lw),t("__values",Ja),t("__read",ul),t("__spread",tw),t("__spreadArrays",rw),t("__await",qn),t("__asyncGenerator",nw),t("__asyncDelegator",iw),t("__asyncValues",sw),t("__makeTemplateObject",aw),t("__importStar",ow),t("__importDefault",cw),t("__classPrivateFieldGet",uw),t("__classPrivateFieldSet",pw)})});var dw=m(za=>{Object.defineProperty(za,"__esModule",{value:!0});var IB;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"})(IB=za.LogLevel||(za.LogLevel={}))});var fw=m(Cn=>{Object.defineProperty(Cn,"__esModule",{value:!0});var PB;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(PB=Cn.SessionStatus||(Cn.SessionStatus={}));var RB;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})(RB=Cn.RequestSessionStatus||(Cn.RequestSessionStatus={}))});var hw=m(In=>{Object.defineProperty(In,"__esModule",{value:!0});var mw;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(mw=In.Severity||(In.Severity={}));(function(t){function e(r){switch(r){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}o(e,"fromString"),t.fromString=e})(mw=In.Severity||(In.Severity={}))});var gw=m(Pn=>{Object.defineProperty(Pn,"__esModule",{value:!0});var vw;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(vw=Pn.Status||(Pn.Status={}));(function(t){function e(r){return r>=200&&r<300?t.Success:r===429?t.RateLimit:r>=400&&r<500?t.Invalid:r>=500?t.Failed:t.Unknown}o(e,"fromHttpCode"),t.fromHttpCode=e})(vw=Pn.Status||(Pn.Status={}))});var yw=m(Ga=>{Object.defineProperty(Ga,"__esModule",{value:!0});var AB;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(AB=Ga.TransactionSamplingMethod||(Ga.TransactionSamplingMethod={}))});var xe=m(dr=>{Object.defineProperty(dr,"__esModule",{value:!0});var jB=dw();dr.LogLevel=jB.LogLevel;var _w=fw();dr.SessionStatus=_w.SessionStatus;dr.RequestSessionStatus=_w.RequestSessionStatus;var NB=hw();dr.Severity=NB.Severity;var MB=gw();dr.Status=MB.Status;var BB=yw();dr.TransactionSamplingMethod=BB.TransactionSamplingMethod});var bw=m(pl=>{Object.defineProperty(pl,"__esModule",{value:!0});function DB(t){t.then(null,function(e){console.error(e)})}o(DB,"forget");pl.forget=DB});var Ur=m(Se=>{Object.defineProperty(Se,"__esModule",{value:!0});function KB(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return Ya(t,Error)}}o(KB,"isError");Se.isError=KB;function FB(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}o(FB,"isErrorEvent");Se.isErrorEvent=FB;function LB(t){return Object.prototype.toString.call(t)==="[object DOMError]"}o(LB,"isDOMError");Se.isDOMError=LB;function HB(t){return Object.prototype.toString.call(t)==="[object DOMException]"}o(HB,"isDOMException");Se.isDOMException=HB;function UB(t){return Object.prototype.toString.call(t)==="[object String]"}o(UB,"isString");Se.isString=UB;function $B(t){return t===null||typeof t!="object"&&typeof t!="function"}o($B,"isPrimitive");Se.isPrimitive=$B;function xw(t){return Object.prototype.toString.call(t)==="[object Object]"}o(xw,"isPlainObject");Se.isPlainObject=xw;function JB(t){return typeof Event!="undefined"&&Ya(t,Event)}o(JB,"isEvent");Se.isEvent=JB;function WB(t){return typeof Element!="undefined"&&Ya(t,Element)}o(WB,"isElement");Se.isElement=WB;function zB(t){return Object.prototype.toString.call(t)==="[object RegExp]"}o(zB,"isRegExp");Se.isRegExp=zB;function GB(t){return Boolean(t&&t.then&&typeof t.then=="function")}o(GB,"isThenable");Se.isThenable=GB;function YB(t){return xw(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(YB,"isSyntheticEvent");Se.isSyntheticEvent=YB;function Ya(t,e){try{return t instanceof e}catch(r){return!1}}o(Ya,"isInstanceOf");Se.isInstanceOf=Ya});var dl=m(ll=>{Object.defineProperty(ll,"__esModule",{value:!0});var VB=Ur();function XB(t,e){try{for(var r=t,n=5,i=80,s=[],a=0,c=0,u=" > ",p=u.length,l=void 0;r&&a++<n&&(l=ZB(r,e),!(l==="html"||a>1&&c+s.length*p+l.length>=i));)s.push(l),c+=l.length,r=r.parentNode;return s.reverse().join(u)}catch(d){return"<unknown>"}}o(XB,"htmlTreeAsString");ll.htmlTreeAsString=XB;function ZB(t,e){var r,n,i=t,s=[],a,c,u,p,l;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var d=((r=e)===null||r===void 0?void 0:r.length)?e.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((n=d)===null||n===void 0?void 0:n.length)d.forEach(function(h){s.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&s.push("#"+i.id),a=i.className,a&&VB.isString(a))for(c=a.split(/\s+/),l=0;l<c.length;l++)s.push("."+c[l]);var f=["type","name","title","alt"];for(l=0;l<f.length;l++)u=f[l],p=i.getAttribute(u),p&&s.push("["+u+'="'+p+'"]');return s.join("")}o(ZB,"_htmlElementAsString")});var Sw=m(fl=>{Object.defineProperty(fl,"__esModule",{value:!0});fl.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?QB:eD);function QB(t,e){return t.__proto__=e,t}o(QB,"setProtoOf");function eD(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}o(eD,"mixinProperties")});var Va=m(ml=>{Object.defineProperty(ml,"__esModule",{value:!0});var tD=C(),rD=Sw(),nD=function(t){tD.__extends(e,t);function e(r){var n=this.constructor,i=t.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,rD.setPrototypeOf(i,n.prototype),i}return o(e,"SentryError"),e}(Error);ml.SentryError=nD});var Ew=m(hl=>{Object.defineProperty(hl,"__esModule",{value:!0});var iD=C(),Yi=Va(),sD=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Vi="Invalid Dsn",aD=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return o(t,"Dsn"),t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this,n=r.host,i=r.path,s=r.pass,a=r.port,c=r.projectId,u=r.protocol,p=r.publicKey;return u+"://"+p+(e&&s?":"+s:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+c)},t.prototype._fromString=function(e){var r=sD.exec(e);if(!r)throw new Yi.SentryError(Vi);var n=iD.__read(r.slice(1),6),i=n[0],s=n[1],a=n[2],c=a===void 0?"":a,u=n[3],p=n[4],l=p===void 0?"":p,d=n[5],f="",h=d,v=h.split("/");if(v.length>1&&(f=v.slice(0,-1).join("/"),h=v.pop()),h){var g=h.match(/^\d+/);g&&(h=g[0])}this._fromComponents({host:u,pass:c,path:f,projectId:h,port:l,protocol:i,publicKey:s})},t.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!e[r])throw new Yi.SentryError(Vi+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new Yi.SentryError(Vi+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new Yi.SentryError(Vi+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Yi.SentryError(Vi+": Invalid port "+this.port)},t}();hl.Dsn=aD});var Qa=m((Xi,Za)=>{Object.defineProperty(Xi,"__esModule",{value:!0});function oD(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}o(oD,"isNodeEnv");Xi.isNodeEnv=oD;function Xa(t,e){return t.require(e)}o(Xa,"dynamicRequire");Xi.dynamicRequire=Xa;function cD(t){var e;try{e=Xa(Za,t)}catch(n){}try{var r=Xa(Za,"process").cwd;e=Xa(Za,r()+"/node_modules/"+t)}catch(n){}return e}o(cD,"loadModule");Xi.loadModule=cD});var eo=m(Rn=>{Object.defineProperty(Rn,"__esModule",{value:!0});var ww=Ur();function uD(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}o(uD,"truncate");Rn.truncate=uD;function pD(t,e){var r=t,n=r.length;if(n<=150)return r;e>n&&(e=n);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}o(pD,"snipLine");Rn.snipLine=pD;function lD(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch(s){r.push("[value cannot be serialized]")}}return r.join(e)}o(lD,"safeJoin");Rn.safeJoin=lD;function dD(t,e){return ww.isString(t)?ww.isRegExp(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}o(dD,"isMatchingPattern");Rn.isMatchingPattern=dD});var An=m(ke=>{Object.defineProperty(ke,"__esModule",{value:!0});var fD=Qa(),vl=eo(),mD={};function gl(){return fD.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:mD}o(gl,"getGlobalObject");ke.getGlobalObject=gl;function hD(){var t=gl(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=o(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,a=i==="x"?s:s&3|8;return a.toString(16)})}o(hD,"uuid4");ke.uuid4=hD;function vD(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}o(vD,"parseUrl");ke.parseUrl=vD;function gD(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}o(gD,"getEventDescription");ke.getEventDescription=gD;function yD(t){var e=gl(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach(function(a){a in e.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var s=t();return Object.keys(i).forEach(function(a){n[a]=i[a]}),s}o(yD,"consoleSandbox");ke.consoleSandbox=yD;function _D(t,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||r||"Error"}o(_D,"addExceptionTypeValue");ke.addExceptionTypeValue=_D;function bD(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(r){t.exception.values[0].mechanism[r]=e[r]})}catch(r){}}o(bD,"addExceptionMechanism");ke.addExceptionMechanism=bD;function xD(){try{return document.location.href}catch(t){return""}}o(xD,"getLocationHref");ke.getLocationHref=xD;var SD=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function ED(t){var e=t.match(SD)||[],r=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:e[4]}}o(ED,"parseSemver");ke.parseSemver=ED;var Tw=60*1e3;function wD(t,e){if(!e)return Tw;var r=parseInt(""+e,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+e);return isNaN(n)?Tw:n-t}o(wD,"parseRetryAfterHeader");ke.parseRetryAfterHeader=wD;function TD(t,e,r){r===void 0&&(r=5);var n=e.lineno||0,i=t.length,s=Math.max(Math.min(i,n-1),0);e.pre_context=t.slice(Math.max(0,s-r),s).map(function(a){return vl.snipLine(a,0)}),e.context_line=vl.snipLine(t[Math.min(i-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,i),s+1+r).map(function(a){return vl.snipLine(a,0)})}o(TD,"addContextToFrame");ke.addContextToFrame=TD;function OD(t){return t.split(/[\?#]/,1)[0]}o(OD,"stripUrlQueryAndFragment");ke.stripUrlQueryAndFragment=OD});var ro=m(_l=>{Object.defineProperty(_l,"__esModule",{value:!0});var to=An(),$r=to.getGlobalObject(),yl="Sentry Logger ",kD=function(){function t(){this._enabled=!1}return o(t,"Logger"),t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||to.consoleSandbox(function(){$r.console.log(yl+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||to.consoleSandbox(function(){$r.console.warn(yl+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||to.consoleSandbox(function(){$r.console.error(yl+"[Error]: "+e.join(" "))})},t}();$r.__SENTRY__=$r.__SENTRY__||{};var qD=$r.__SENTRY__.logger||($r.__SENTRY__.logger=new kD);_l.logger=qD});var xl=m(bl=>{Object.defineProperty(bl,"__esModule",{value:!0});var CD=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return o(t,"Memo"),t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===e){this._inner.splice(r,1);break}},t}();bl.Memo=CD});var no=m(El=>{Object.defineProperty(El,"__esModule",{value:!0});var Sl="<anonymous>";function ID(t){try{return!t||typeof t!="function"?Sl:t.name||Sl}catch(e){return Sl}}o(ID,"getFunctionName");El.getFunctionName=ID});var Ol=m(At=>{Object.defineProperty(At,"__esModule",{value:!0});var PD=C(),Ow=dl(),Rt=Ur(),RD=xl(),AD=no(),kw=eo();function jD(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(s){}t[e]=i}}o(jD,"fill");At.fill=jD;function ND(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}o(ND,"urlEncode");At.urlEncode=ND;function qw(t){if(Rt.isError(t)){var e=t,r={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}if(Rt.isEvent(t)){var i=t,s={};s.type=i.type;try{s.target=Rt.isElement(i.target)?Ow.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(a){s.target="<unknown>"}try{s.currentTarget=Rt.isElement(i.currentTarget)?Ow.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(a){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&Rt.isInstanceOf(t,CustomEvent)&&(s.detail=i.detail);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i);return s}return t}o(qw,"getWalkSource");function MD(t){return~-encodeURI(t).split(/%..|./).length}o(MD,"utf8Length");function BD(t){return MD(JSON.stringify(t))}o(BD,"jsonSize");function Cw(t,e,r){e===void 0&&(e=3),r===void 0&&(r=100*1024);var n=Pw(t,e);return BD(n)>r?Cw(t,e-1,r):n}o(Cw,"normalizeToSize");At.normalizeToSize=Cw;function DD(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var r=Iw(t);return Rt.isPrimitive(r)?r:e}o(DD,"serializeValue");function Iw(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":Rt.isSyntheticEvent(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+AD.getFunctionName(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}o(Iw,"normalizeValue");function wl(t,e,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new RD.Memo),r===0)return DD(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var i=Iw(e,t);if(Rt.isPrimitive(i))return i;var s=qw(e),a=Array.isArray(e)?[]:{};if(n.memoize(e))return"[Circular ~]";for(var c in s)!Object.prototype.hasOwnProperty.call(s,c)||(a[c]=wl(c,s[c],r-1,n));return n.unmemoize(e),a}o(wl,"walk");At.walk=wl;function Pw(t,e){try{return JSON.parse(JSON.stringify(t,function(r,n){return wl(r,n,e)}))}catch(r){return"**non-serializable**"}}o(Pw,"normalize");At.normalize=Pw;function KD(t,e){e===void 0&&(e=40);var r=Object.keys(qw(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return kw.truncate(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:kw.truncate(i,e)}return""}o(KD,"extractExceptionKeysForMessage");At.extractExceptionKeysForMessage=KD;function Tl(t){var e,r;if(Rt.isPlainObject(t)){var n=t,i={};try{for(var s=PD.__values(Object.keys(n)),a=s.next();!a.done;a=s.next()){var c=a.value;typeof n[c]!="undefined"&&(i[c]=Tl(n[c]))}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(Tl):t}o(Tl,"dropUndefinedKeys");At.dropUndefinedKeys=Tl});var Cl=m(it=>{Object.defineProperty(it,"__esModule",{value:!0});var FD=ro(),io=An();function LD(){try{return new ErrorEvent(""),!0}catch(t){return!1}}o(LD,"supportsErrorEvent");it.supportsErrorEvent=LD;function HD(){try{return new DOMError(""),!0}catch(t){return!1}}o(HD,"supportsDOMError");it.supportsDOMError=HD;function UD(){try{return new DOMException(""),!0}catch(t){return!1}}o(UD,"supportsDOMException");it.supportsDOMException=UD;function kl(){if(!("fetch"in io.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}o(kl,"supportsFetch");it.supportsFetch=kl;function ql(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(ql,"isNativeFetch");it.isNativeFetch=ql;function $D(){if(!kl())return!1;var t=io.getGlobalObject();if(ql(t.fetch))return!0;var e=!1,r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=ql(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){FD.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}o($D,"supportsNativeFetch");it.supportsNativeFetch=$D;function JD(){return"ReportingObserver"in io.getGlobalObject()}o(JD,"supportsReportingObserver");it.supportsReportingObserver=JD;function WD(){if(!kl())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}o(WD,"supportsReferrerPolicy");it.supportsReferrerPolicy=WD;function zD(){var t=io.getGlobalObject(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}o(zD,"supportsHistory");it.supportsHistory=zD});var Mw=m(Rl=>{Object.defineProperty(Rl,"__esModule",{value:!0});var jn=C(),so=Ur(),Rw=ro(),GD=An(),jt=Ol(),YD=no(),Aw=Cl(),F=GD.getGlobalObject(),Zi={},jw={};function VD(t){if(!jw[t])switch(jw[t]=!0,t){case"console":ZD();break;case"dom":o2();break;case"xhr":r2();break;case"fetch":QD();break;case"history":n2();break;case"error":c2();break;case"unhandledrejection":u2();break;default:Rw.logger.warn("unknown instrumentation type:",t)}}o(VD,"instrument");function XD(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(Zi[t.type]=Zi[t.type]||[],Zi[t.type].push(t.callback),VD(t.type))}o(XD,"addInstrumentationHandler");Rl.addInstrumentationHandler=XD;function st(t,e){var r,n;if(!(!t||!Zi[t]))try{for(var i=jn.__values(Zi[t]||[]),s=i.next();!s.done;s=i.next()){var a=s.value;try{a(e)}catch(c){Rw.logger.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+YD.getFunctionName(a)+`
Error: `+c)}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}o(st,"triggerHandlers");function ZD(){"console"in F&&["debug","info","warn","error","log","assert"].forEach(function(t){t in F.console&&jt.fill(F.console,t,function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];st("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,F.console,r)}})})}o(ZD,"instrumentConsole");function QD(){!Aw.supportsNativeFetch()||jt.fill(F,"fetch",function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:e2(e),url:t2(e)},startTimestamp:Date.now()};return st("fetch",jn.__assign({},n)),t.apply(F,e).then(function(i){return st("fetch",jn.__assign(jn.__assign({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw st("fetch",jn.__assign(jn.__assign({},n),{endTimestamp:Date.now(),error:i})),i})}})}o(QD,"instrumentFetch");function e2(t){return t===void 0&&(t=[]),"Request"in F&&so.isInstanceOf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}o(e2,"getFetchMethod");function t2(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in F&&so.isInstanceOf(t[0],Request)?t[0].url:String(t[0])}o(t2,"getFetchUrl");function r2(){if("XMLHttpRequest"in F){var t=[],e=[],r=XMLHttpRequest.prototype;jt.fill(r,"open",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=this,c=i[1];a.__sentry_xhr__={method:so.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},so.isString(c)&&a.__sentry_xhr__.method==="POST"&&c.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var u=o(function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(d){}try{var p=t.indexOf(a);if(p!==-1){t.splice(p);var l=e.splice(p)[0];a.__sentry_xhr__&&l[0]!==void 0&&(a.__sentry_xhr__.body=l[0])}}catch(d){}st("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}},"onreadystatechangeHandler");return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?jt.fill(a,"onreadystatechange",function(p){return function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return u(),p.apply(a,l)}}):a.addEventListener("readystatechange",u),n.apply(a,i)}}),jt.fill(r,"send",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return t.push(this),e.push(i),st("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}o(r2,"instrumentXHR");var ao;function n2(){if(!Aw.supportsHistory())return;var t=F.onpopstate;F.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=F.location.href,s=ao;if(ao=i,st("history",{from:s,to:i}),t)try{return t.apply(this,r)}catch(a){}};function e(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var a=ao,c=String(s);ao=c,st("history",{from:a,to:c})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),jt.fill(F.history,"pushState",e),jt.fill(F.history,"replaceState",e)}o(n2,"instrumentHistory");var i2=1e3,oo,co;function s2(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(r){}return!1}o(s2,"shouldShortcircuitPreviousDebounce");function a2(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(r){}return!0}o(a2,"shouldSkipDOMEvent");function Nw(t,e){return e===void 0&&(e=!1),function(r){if(!(!r||co===r)&&!a2(r)){var n=r.type==="keypress"?"input":r.type;oo===void 0?(t({event:r,name:n,global:e}),co=r):s2(co,r)&&(t({event:r,name:n,global:e}),co=r),clearTimeout(oo),oo=F.setTimeout(function(){oo=void 0},i2)}}}o(Nw,"makeDOMEventHandler");function o2(){if("document"in F){var t=st.bind(null,"dom"),e=Nw(t,!0);F.document.addEventListener("click",e,!1),F.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(r){var n=F[r]&&F[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(jt.fill(n,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{var u=this,p=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},l=p[s]=p[s]||{refCount:0};if(!l.handler){var d=Nw(t);l.handler=d,i.call(this,s,d,c)}l.refCount+=1}catch(f){}return i.call(this,s,a,c)}}),jt.fill(n,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{var u=this,p=u.__sentry_instrumentation_handlers__||{},l=p[s];l&&(l.refCount-=1,l.refCount<=0&&(i.call(this,s,l.handler,c),l.handler=void 0,delete p[s]),Object.keys(p).length===0&&delete u.__sentry_instrumentation_handlers__)}catch(d){}return i.call(this,s,a,c)}}))})}}o(o2,"instrumentDOM");var Il=null;function c2(){Il=F.onerror,F.onerror=function(t,e,r,n,i){return st("error",{column:n,error:i,line:r,msg:t,url:e}),Il?Il.apply(this,arguments):!1}}o(c2,"instrumentError");var Pl=null;function u2(){Pl=F.onunhandledrejection,F.onunhandledrejection=function(t){return st("unhandledrejection",t),Pl?Pl.apply(this,arguments):!0}}o(u2,"instrumentUnhandledRejection")});var Hw=m(Nt=>{Object.defineProperty(Nt,"__esModule",{value:!0});function Bw(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];i==="."?t.splice(n,1):i===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}o(Bw,"normalizeArray");var p2=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function Dw(t){var e=p2.exec(t);return e?e.slice(1):[]}o(Dw,"splitPath");function Al(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r="",n=!1,i=t.length-1;i>=-1&&!n;i--){var s=i>=0?t[i]:"/";!s||(r=s+"/"+r,n=s.charAt(0)==="/")}return r=Bw(r.split("/").filter(function(a){return!!a}),!n).join("/"),(n?"/":"")+r||"."}o(Al,"resolve");Nt.resolve=Al;function Kw(t){for(var e=0;e<t.length&&t[e]==="";e++);for(var r=t.length-1;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}o(Kw,"trim");function l2(t,e){t=Al(t).substr(1),e=Al(e).substr(1);for(var r=Kw(t.split("/")),n=Kw(e.split("/")),i=Math.min(r.length,n.length),s=i,a=0;a<i;a++)if(r[a]!==n[a]){s=a;break}for(var c=[],a=s;a<r.length;a++)c.push("..");return c=c.concat(n.slice(s)),c.join("/")}o(l2,"relative");Nt.relative=l2;function Fw(t){var e=Lw(t),r=t.substr(-1)==="/",n=Bw(t.split("/").filter(function(i){return!!i}),!e).join("/");return!n&&!e&&(n="."),n&&r&&(n+="/"),(e?"/":"")+n}o(Fw,"normalizePath");Nt.normalizePath=Fw;function Lw(t){return t.charAt(0)==="/"}o(Lw,"isAbsolute");Nt.isAbsolute=Lw;function d2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fw(t.join("/"))}o(d2,"join");Nt.join=d2;function f2(t){var e=Dw(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}o(f2,"dirname");Nt.dirname=f2;function m2(t,e){var r=Dw(t)[2];return e&&r.substr(e.length*-1)===e&&(r=r.substr(0,r.length-e.length)),r}o(m2,"basename");Nt.basename=m2});var Nl=m(jl=>{Object.defineProperty(jl,"__esModule",{value:!0});var h2=Ur(),Mt;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(Mt||(Mt={}));var v2=function(){function t(e){var r=this;this._state=Mt.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(Mt.RESOLVED,n)},this._reject=function(n){r._setResult(Mt.REJECTED,n)},this._setResult=function(n,i){if(r._state===Mt.PENDING){if(h2.isThenable(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==Mt.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===Mt.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===Mt.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return o(t,"SyncPromise"),t.resolve=function(e){return new t(function(r){r(e)})},t.reject=function(e){return new t(function(r,n){n(e)})},t.all=function(e){return new t(function(r,n){if(!Array.isArray(e)){n(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){r([]);return}var i=e.length,s=[];e.forEach(function(a,c){t.resolve(a).then(function(u){s[c]=u,i-=1,i===0&&r(s)}).then(null,n)})})},t.prototype.then=function(e,r){var n=this;return new t(function(i,s){n._attachHandler({done:!1,onfulfilled:function(a){if(!e){i(a);return}try{i(e(a));return}catch(c){s(c);return}},onrejected:function(a){if(!r){s(a);return}try{i(r(a));return}catch(c){s(c);return}}})})},t.prototype.catch=function(e){return this.then(function(r){return r},e)},t.prototype.finally=function(e){var r=this;return new t(function(n,i){var s,a;return r.then(function(c){a=!1,s=c,e&&e()},function(c){a=!0,s=c,e&&e()}).then(function(){if(a){i(s);return}n(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}();jl.SyncPromise=v2});var Uw=m(Bl=>{Object.defineProperty(Bl,"__esModule",{value:!0});var g2=Va(),Ml=Nl(),y2=function(){function t(e){this._limit=e,this._buffer=[]}return o(t,"PromiseBuffer"),t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var r=this;if(!this.isReady())return Ml.SyncPromise.reject(new g2.SentryError("Not adding Promise due to buffer limit reached."));var n=e();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},t.prototype.remove=function(e){var r=this._buffer.splice(this._buffer.indexOf(e),1)[0];return r},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var r=this;return new Ml.SyncPromise(function(n){var i=setTimeout(function(){e&&e>0&&n(!1)},e);Ml.SyncPromise.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}();Bl.PromiseBuffer=y2});var Gw=m((Ye,zw)=>{Object.defineProperty(Ye,"__esModule",{value:!0});var $w=An(),Jw=Qa(),Dl={nowSeconds:function(){return Date.now()/1e3}};function _2(){var t=$w.getGlobalObject().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}o(_2,"getBrowserPerformance");function b2(){try{var t=Jw.dynamicRequire(zw,"perf_hooks");return t.performance}catch(e){return}}o(b2,"getNodePerformance");var uo=Jw.isNodeEnv()?b2():_2(),Ww=uo===void 0?Dl:{nowSeconds:function(){return(uo.timeOrigin+uo.now())/1e3}};Ye.dateTimestampInSeconds=Dl.nowSeconds.bind(Dl);Ye.timestampInSeconds=Ww.nowSeconds.bind(Ww);Ye.timestampWithMs=Ye.timestampInSeconds;Ye.usingPerformanceAPI=uo!==void 0;Ye.browserPerformanceTimeOrigin=function(){var t=$w.getGlobalObject().performance;if(!t||!t.now){Ye._browserPerformanceTimeOriginMode="none";return}var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,c=typeof a=="number",u=c?Math.abs(a+r-n):e,p=u<e;return s||p?i<=u?(Ye._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(Ye._browserPerformanceTimeOriginMode="navigationStart",a):(Ye._browserPerformanceTimeOriginMode="dateNow",n)}()});var q=m(V=>{Object.defineProperty(V,"__esModule",{value:!0});var se=C();se.__exportStar(bw(),V);se.__exportStar(dl(),V);se.__exportStar(Ew(),V);se.__exportStar(Va(),V);se.__exportStar(Mw(),V);se.__exportStar(Ur(),V);se.__exportStar(ro(),V);se.__exportStar(xl(),V);se.__exportStar(An(),V);se.__exportStar(Qa(),V);se.__exportStar(Ol(),V);se.__exportStar(Hw(),V);se.__exportStar(Uw(),V);se.__exportStar(no(),V);se.__exportStar(eo(),V);se.__exportStar(Cl(),V);se.__exportStar(Nl(),V);se.__exportStar(Gw(),V)});var Kl=m(po=>{Object.defineProperty(po,"__esModule",{value:!0});var O=C(),Qi=q(),Yw=100,x2=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return o(t,"Scope"),t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=O.__spread(e._breadcrumbs),r._tags=O.__assign({},e._tags),r._extra=O.__assign({},e._extra),r._contexts=O.__assign({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=O.__spread(e._eventProcessors),r._requestSession=e._requestSession),r},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=O.__assign(O.__assign({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,r){var n;return this._tags=O.__assign(O.__assign({},this._tags),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=O.__assign(O.__assign({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,r){var n;return this._extra=O.__assign(O.__assign({},this._extra),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,r){var n;return r===null?delete this._contexts[e]:this._contexts=O.__assign(O.__assign({},this._contexts),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,r,n,i,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(r=s)===null||r===void 0?void 0:r.transaction;if((i=(n=s)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=O.__assign(O.__assign({},this._tags),e._tags),this._extra=O.__assign(O.__assign({},this._extra),e._extra),this._contexts=O.__assign(O.__assign({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Qi.isPlainObject(e)&&(e=e,this._tags=O.__assign(O.__assign({},this._tags),e.tags),this._extra=O.__assign(O.__assign({},this._extra),e.extra),this._contexts=O.__assign(O.__assign({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,r){var n=typeof r=="number"?Math.min(r,Yw):Yw;if(n<=0)return this;var i=O.__assign({timestamp:Qi.dateTimestampInSeconds()},e);return this._breadcrumbs=O.__spread(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,r){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=O.__assign(O.__assign({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=O.__assign(O.__assign({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=O.__assign(O.__assign({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=O.__assign(O.__assign({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=O.__assign({trace:this._span.getTraceContext()},e.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(e.tags=O.__assign({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=O.__spread(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(O.__spread(Vw(),this._eventProcessors),e,r)},t.prototype._notifyEventProcessors=function(e,r,n,i){var s=this;return i===void 0&&(i=0),new Qi.SyncPromise(function(a,c){var u=e[i];if(r===null||typeof u!="function")a(r);else{var p=u(O.__assign({},r),n);Qi.isThenable(p)?p.then(function(l){return s._notifyEventProcessors(e,l,n,i+1).then(a)}).then(null,c):s._notifyEventProcessors(e,p,n,i+1).then(a).then(null,c)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();po.Scope=x2;function Vw(){var t=Qi.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}o(Vw,"getGlobalEventProcessors");function S2(t){Vw().push(t)}o(S2,"addGlobalEventProcessor");po.addGlobalEventProcessor=S2});var Hl=m(Ll=>{Object.defineProperty(Ll,"__esModule",{value:!0});var Fl=xe(),Nn=q(),E2=function(){function t(e){this.errors=0,this.sid=Nn.uuid4(),this.duration=0,this.status=Fl.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var r=Nn.timestampInSeconds();this.timestamp=r,this.started=r,e&&this.update(e)}return o(t,"Session"),t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Nn.timestampInSeconds(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:Nn.uuid4()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===Fl.SessionStatus.Ok?this.update({status:Fl.SessionStatus.Exited}):this.update()},t.prototype.toJSON=function(){return Nn.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:Nn.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}();Ll.Session=E2});var Jl=m(je=>{Object.defineProperty(je,"__esModule",{value:!0});var at=C(),Xw=xe(),ot=q(),Ul=Kl(),w2=Hl();je.API_VERSION=4;var T2=100,lo=function(){function t(e,r,n){r===void 0&&(r=new Ul.Scope),n===void 0&&(n=je.API_VERSION),this._version=n,this._stack=[{}],this.getStackTop().scope=r,this.bindClient(e)}return o(t,"Hub"),t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=Ul.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,r){var n=this._lastEventId=ot.uuid4(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,at.__assign(at.__assign({},i),{event_id:n})),n},t.prototype.captureMessage=function(e,r,n){var i=this._lastEventId=ot.uuid4(),s=n;if(!n){var a=void 0;try{throw new Error(e)}catch(c){a=c}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,r,at.__assign(at.__assign({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,r){var n=this._lastEventId=ot.uuid4();return this._invokeClient("captureEvent",e,at.__assign(at.__assign({},r),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var a=s.getOptions&&s.getOptions()||{},c=a.beforeBreadcrumb,u=c===void 0?null:c,p=a.maxBreadcrumbs,l=p===void 0?T2:p;if(!(l<=0)){var d=ot.dateTimestampInSeconds(),f=at.__assign({timestamp:d},e),h=u?ot.consoleSandbox(function(){return u(f,r)}):f;h!==null&&i.addBreadcrumb(h,l)}}},t.prototype.setUser=function(e){var r=this.getScope();r&&r.setUser(e)},t.prototype.setTags=function(e){var r=this.getScope();r&&r.setTags(e)},t.prototype.setExtras=function(e){var r=this.getScope();r&&r.setExtras(e)},t.prototype.setTag=function(e,r){var n=this.getScope();n&&n.setTag(e,r)},t.prototype.setExtra=function(e,r){var n=this.getScope();n&&n.setExtra(e,r)},t.prototype.setContext=function(e,r){var n=this.getScope();n&&n.setContext(e,r)},t.prototype.configureScope=function(e){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&e(n)},t.prototype.run=function(e){var r=$l(this);try{e(this)}finally{$l(r)}},t.prototype.getIntegration=function(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch(n){return ot.logger.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,r){return this._callExtensionMethod("startTransaction",e,r)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,r,n,i,s;(n=(r=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},t.prototype.startSession=function(e){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},a=s.release,c=s.environment,u=ot.getGlobalObject(),p=(u.navigator||{}).userAgent,l=new w2.Session(at.__assign(at.__assign(at.__assign({release:a,environment:c},n&&{user:n.getUser()}),p&&{userAgent:p}),e));if(n){var d=n.getSession&&n.getSession();d&&d.status===Xw.SessionStatus.Ok&&d.update({status:Xw.SessionStatus.Exited}),this.endSession(),n.setSession(l)}return l},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),r=e.scope,n=e.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,c=s.client;c&&c[e]&&(r=c)[e].apply(r,at.__spread(n,[a]))},t.prototype._callExtensionMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Mn(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);ot.logger.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();je.Hub=lo;function Mn(){var t=ot.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}o(Mn,"getMainCarrier");je.getMainCarrier=Mn;function $l(t){var e=Mn(),r=Bt(e);return fo(e,t),r}o($l,"makeMain");je.makeMain=$l;function O2(){var t=Mn();return(!Zw(t)||Bt(t).isOlderThan(je.API_VERSION))&&fo(t,new lo),ot.isNodeEnv()?q2(t):Bt(t)}o(O2,"getCurrentHub");je.getCurrentHub=O2;function k2(){ot.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var t=Mn().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}o(k2,"getActiveDomain");je.getActiveDomain=k2;function q2(t){var e,r,n;try{var i=(n=(r=(e=Mn().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return Bt(t);if(!Zw(i)||Bt(i).isOlderThan(je.API_VERSION)){var s=Bt(t).getStackTop();fo(i,new lo(s.client,Ul.Scope.clone(s.scope)))}return Bt(i)}catch(a){return Bt(t)}}o(q2,"getHubFromActiveDomain");function Zw(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}o(Zw,"hasHubOnCarrier");function Bt(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new lo),t.__SENTRY__.hub}o(Bt,"getHubFromCarrier");je.getHubFromCarrier=Bt;function fo(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}o(fo,"setHubOnCarrier");je.setHubOnCarrier=fo});var Qw=m(Gl=>{Object.defineProperty(Gl,"__esModule",{value:!0});var Wl=xe(),zl=q(),C2=Jl(),I2=function(){function t(e,r){var n=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=e,this._intervalId=setInterval(function(){return n.flush()},this.flushTimeout*1e3),this._sessionAttrs=r}return o(t,"SessionFlusher"),t.prototype.sendSessionAggregates=function(e){if(!this._transport.sendSession){zl.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){zl.logger.error("Error while sending session: "+r)})},t.prototype.flush=function(){var e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(e))},t.prototype.getSessionAggregates=function(){var e=this,r=Object.keys(this._pendingAggregates).map(function(i){return e._pendingAggregates[parseInt(i)]}),n={attrs:this._sessionAttrs,aggregates:r};return zl.dropUndefinedKeys(n)},t.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},t.prototype.incrementSessionStatusCount=function(){var e,r;if(!!this._isEnabled){var n=C2.getCurrentHub().getScope(),i=(e=n)===null||e===void 0?void 0:e.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(r=n)===null||r===void 0||r.setRequestSession(void 0))}},t.prototype._incrementSessionStatusCount=function(e,r){var n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var i=this._pendingAggregates[n];switch(i.started||(i.started=new Date(n).toISOString()),e){case Wl.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case Wl.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case Wl.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},t}();Gl.SessionFlusher=I2});var Me=m(Ne=>{Object.defineProperty(Ne,"__esModule",{value:!0});var e0=Kl();Ne.addGlobalEventProcessor=e0.addGlobalEventProcessor;Ne.Scope=e0.Scope;var P2=Hl();Ne.Session=P2.Session;var R2=Qw();Ne.SessionFlusher=R2.SessionFlusher;var Jr=Jl();Ne.getActiveDomain=Jr.getActiveDomain;Ne.getCurrentHub=Jr.getCurrentHub;Ne.getHubFromCarrier=Jr.getHubFromCarrier;Ne.getMainCarrier=Jr.getMainCarrier;Ne.Hub=Jr.Hub;Ne.makeMain=Jr.makeMain;Ne.setHubOnCarrier=Jr.setHubOnCarrier});var t0=m(de=>{Object.defineProperty(de,"__esModule",{value:!0});var mo=C(),A2=Me();function qe(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=A2.getCurrentHub();if(n&&n[t])return n[t].apply(n,mo.__spread(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}o(qe,"callOnHub");function j2(t,e){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return qe("captureException",t,{captureContext:e,originalException:t,syntheticException:r})}o(j2,"captureException");de.captureException=j2;function N2(t,e){var r;try{throw new Error(t)}catch(s){r=s}var n=typeof e=="string"?e:void 0,i=typeof e!="string"?{captureContext:e}:void 0;return qe("captureMessage",t,n,mo.__assign({originalException:t,syntheticException:r},i))}o(N2,"captureMessage");de.captureMessage=N2;function M2(t){return qe("captureEvent",t)}o(M2,"captureEvent");de.captureEvent=M2;function B2(t){qe("configureScope",t)}o(B2,"configureScope");de.configureScope=B2;function D2(t){qe("addBreadcrumb",t)}o(D2,"addBreadcrumb");de.addBreadcrumb=D2;function K2(t,e){qe("setContext",t,e)}o(K2,"setContext");de.setContext=K2;function F2(t){qe("setExtras",t)}o(F2,"setExtras");de.setExtras=F2;function L2(t){qe("setTags",t)}o(L2,"setTags");de.setTags=L2;function H2(t,e){qe("setExtra",t,e)}o(H2,"setExtra");de.setExtra=H2;function U2(t,e){qe("setTag",t,e)}o(U2,"setTag");de.setTag=U2;function $2(t){qe("setUser",t)}o($2,"setUser");de.setUser=$2;function J2(t){qe("withScope",t)}o(J2,"withScope");de.withScope=J2;function W2(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];qe.apply(void 0,mo.__spread(["_invokeClient",t],e))}o(W2,"_callOnClient");de._callOnClient=W2;function z2(t,e){return qe("startTransaction",mo.__assign({},t),e)}o(z2,"startTransaction");de.startTransaction=z2});var i0=m(Yl=>{Object.defineProperty(Yl,"__esModule",{value:!0});var r0=q(),n0="7",G2=function(){function t(e,r,n){r===void 0&&(r={}),this.dsn=e,this._dsnObject=new r0.Dsn(e),this.metadata=r,this._tunnel=n}return o(t,"API"),t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){var e=this.getDsn(),r=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return r+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var e=this.getDsn();return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},t.prototype.getRequestHeaders=function(e,r){var n=this.getDsn(),i=["Sentry sentry_version="+n0];return i.push("sentry_client="+e+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(e){e===void 0&&(e={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var s in e)if(s!=="dsn")if(s==="user"){if(!e.user)continue;e.user.name&&i.push("name="+encodeURIComponent(e.user.name)),e.user.email&&i.push("email="+encodeURIComponent(e.user.email))}else i.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return i.length?n+"?"+i.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(e){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+e+"/"},t.prototype._encodedAuth=function(){var e=this.getDsn(),r={sentry_key:e.publicKey,sentry_version:n0};return r0.urlEncode(r)},t}();Yl.API=G2});var u0=m(fr=>{Object.defineProperty(fr,"__esModule",{value:!0});var ho=C(),s0=Me(),Y2=q();fr.installedIntegrations=[];function a0(t){return t.reduce(function(e,r){return e.every(function(n){return r.name!==n.name})&&e.push(r),e},[])}o(a0,"filterDuplicates");function o0(t){var e=t.defaultIntegrations&&ho.__spread(t.defaultIntegrations)||[],r=t.integrations,n=ho.__spread(a0(e));Array.isArray(r)?n=ho.__spread(n.filter(function(a){return r.every(function(c){return c.name!==a.name})}),a0(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),s="Debug";return i.indexOf(s)!==-1&&n.push.apply(n,ho.__spread(n.splice(i.indexOf(s),1))),n}o(o0,"getIntegrationsToSetup");fr.getIntegrationsToSetup=o0;function c0(t){fr.installedIntegrations.indexOf(t.name)===-1&&(t.setupOnce(s0.addGlobalEventProcessor,s0.getCurrentHub),fr.installedIntegrations.push(t.name),Y2.logger.log("Integration installed: "+t.name))}o(c0,"setupIntegration");fr.setupIntegration=c0;function V2(t){var e={};return o0(t).forEach(function(r){e[r.name]=r,c0(r)}),e}o(V2,"setupIntegrations");fr.setupIntegrations=V2});var l0=m(Vl=>{Object.defineProperty(Vl,"__esModule",{value:!0});var Be=C(),X2=Me(),p0=xe(),R=q(),Z2=u0(),Q2=function(){function t(e,r){this._integrations={},this._processing=0,this._backend=new e(r),this._options=r,r.dsn&&(this._dsn=new R.Dsn(r.dsn))}return o(t,"BaseClient"),t.prototype.captureException=function(e,r,n){var i=this,s=r&&r.event_id;return this._process(this._getBackend().eventFromException(e,r).then(function(a){return i._captureEvent(a,r,n)}).then(function(a){s=a})),s},t.prototype.captureMessage=function(e,r,n,i){var s=this,a=n&&n.event_id,c=R.isPrimitive(e)?this._getBackend().eventFromMessage(String(e),r,n):this._getBackend().eventFromException(e,n);return this._process(c.then(function(u){return s._captureEvent(u,n,i)}).then(function(u){a=u})),a},t.prototype.captureEvent=function(e,r,n){var i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(function(s){i=s})),i},t.prototype.captureSession=function(e){if(!this._isEnabled()){R.logger.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?R.logger.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(e){var r=this;return this._isClientProcessing(e).then(function(n){return r._getBackend().getTransport().close(e).then(function(i){return n&&i})})},t.prototype.close=function(e){var r=this;return this.flush(e).then(function(n){return r.getOptions().enabled=!1,n})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=Z2.setupIntegrations(this._options))},t.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(r){return R.logger.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(e,r){var n,i,s=!1,a=!1,c=r.exception&&r.exception.values;if(c){a=!0;try{for(var u=Be.__values(c),p=u.next();!p.done;p=u.next()){var l=p.value,d=l.mechanism;if(d&&d.handled===!1){s=!0;break}}}catch(v){n={error:v}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}var f=e.status===p0.SessionStatus.Ok,h=f&&e.errors===0||f&&s;h&&(e.update(Be.__assign(Be.__assign({},s&&{status:p0.SessionStatus.Crashed}),{errors:e.errors||Number(a||s)})),this.captureSession(e))},t.prototype._sendSession=function(e){this._getBackend().sendSession(e)},t.prototype._isClientProcessing=function(e){var r=this;return new R.SyncPromise(function(n){var i=0,s=1,a=setInterval(function(){r._processing==0?(clearInterval(a),n(!0)):(i+=s,e&&i>=e&&(clearInterval(a),n(!1)))},s)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(e,r,n){var i=this,s=this.getOptions().normalizeDepth,a=s===void 0?3:s,c=Be.__assign(Be.__assign({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:R.uuid4()),timestamp:e.timestamp||R.dateTimestampInSeconds()});this._applyClientOptions(c),this._applyIntegrationsMetadata(c);var u=r;n&&n.captureContext&&(u=X2.Scope.clone(u).update(n.captureContext));var p=R.SyncPromise.resolve(c);return u&&(p=u.applyToEvent(c,n)),p.then(function(l){return typeof a=="number"&&a>0?i._normalizeEvent(l,a):l})},t.prototype._normalizeEvent=function(e,r){if(!e)return null;var n=Be.__assign(Be.__assign(Be.__assign(Be.__assign(Be.__assign({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(i){return Be.__assign(Be.__assign({},i),i.data&&{data:R.normalize(i.data,r)})})}),e.user&&{user:R.normalize(e.user,r)}),e.contexts&&{contexts:R.normalize(e.contexts,r)}),e.extra&&{extra:R.normalize(e.extra,r)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n},t.prototype._applyClientOptions=function(e){var r=this.getOptions(),n=r.environment,i=r.release,s=r.dist,a=r.maxValueLength,c=a===void 0?250:a;"environment"in e||(e.environment="environment"in r?n:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=R.truncate(e.message,c));var u=e.exception&&e.exception.values&&e.exception.values[0];u&&u.value&&(u.value=R.truncate(u.value,c));var p=e.request;p&&p.url&&(p.url=R.truncate(p.url,c))},t.prototype._applyIntegrationsMetadata=function(e){var r=Object.keys(this._integrations);r.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=Be.__spread(e.sdk.integrations||[],r))},t.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},t.prototype._captureEvent=function(e,r,n){return this._processEvent(e,r,n).then(function(i){return i.event_id},function(i){R.logger.error(i)})},t.prototype._processEvent=function(e,r,n){var i=this,s=this.getOptions(),a=s.beforeSend,c=s.sampleRate;if(!this._isEnabled())return R.SyncPromise.reject(new R.SentryError("SDK not enabled, will not capture event."));var u=e.type==="transaction";return!u&&typeof c=="number"&&Math.random()>c?R.SyncPromise.reject(new R.SentryError("Discarding event because it's not included in the random sample (sampling rate = "+c+")")):this._prepareEvent(e,n,r).then(function(p){if(p===null)throw new R.SentryError("An event processor returned null, will not send event.");var l=r&&r.data&&r.data.__sentry__===!0;if(l||u||!a)return p;var d=a(p,r);return i._ensureBeforeSendRv(d)}).then(function(p){if(p===null)throw new R.SentryError("`beforeSend` returned `null`, will not send event.");var l=n&&n.getSession&&n.getSession();return!u&&l&&i._updateSessionFromEvent(l,p),i._sendEvent(p),p}).then(null,function(p){throw p instanceof R.SentryError?p:(i.captureException(p,{data:{__sentry__:!0},originalException:p}),new R.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+p))})},t.prototype._process=function(e){var r=this;this._processing+=1,e.then(function(n){return r._processing-=1,n},function(n){return r._processing-=1,n})},t.prototype._ensureBeforeSendRv=function(e){var r="`beforeSend` method has to return `null` or a valid event.";if(R.isThenable(e))return e.then(function(n){if(!(R.isPlainObject(n)||n===null))throw new R.SentryError(r);return n},function(n){throw new R.SentryError("beforeSend rejected with "+n)});if(!(R.isPlainObject(e)||e===null))throw new R.SentryError(r);return e},t}();Vl.BaseClient=Q2});var Zl=m(Xl=>{Object.defineProperty(Xl,"__esModule",{value:!0});var eK=xe(),d0=q(),tK=function(){function t(){}return o(t,"NoopTransport"),t.prototype.sendEvent=function(e){return d0.SyncPromise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:eK.Status.Skipped})},t.prototype.close=function(e){return d0.SyncPromise.resolve(!0)},t}();Xl.NoopTransport=tK});var f0=m(Ql=>{Object.defineProperty(Ql,"__esModule",{value:!0});var Bn=q(),rK=Zl(),nK=function(){function t(e){this._options=e,this._options.dsn||Bn.logger.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return o(t,"BaseBackend"),t.prototype.eventFromException=function(e,r){throw new Bn.SentryError("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(e,r,n){throw new Bn.SentryError("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(r){Bn.logger.error("Error while sending event: "+r)})},t.prototype.sendSession=function(e){if(!this._transport.sendSession){Bn.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){Bn.logger.error("Error while sending session: "+r)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new rK.NoopTransport},t}();Ql.BaseBackend=nK});var h0=m(vo=>{Object.defineProperty(vo,"__esModule",{value:!0});var Wr=C();function m0(t){if(!(!t.metadata||!t.metadata.sdk)){var e=t.metadata.sdk,r=e.name,n=e.version;return{name:r,version:n}}}o(m0,"getSdkMetadataForEnvelopeHeader");function iK(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=Wr.__spread(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=Wr.__spread(t.sdk.packages||[],e.packages||[])),t}o(iK,"enhanceEventWithSdkInfo");function sK(t,e){var r=m0(e),n=JSON.stringify(Wr.__assign(Wr.__assign({sent_at:new Date().toISOString()},r&&{sdk:r}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),i="aggregates"in t?"sessions":"session",s=JSON.stringify({type:i});return{body:n+`
`+s+`
`+JSON.stringify(t),type:i,url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}o(sK,"sessionToSentryRequest");vo.sessionToSentryRequest=sK;function aK(t,e){var r=m0(e),n=t.type||"event",i=n==="transaction"||e.forceEnvelope(),s=t.debug_meta||{},a=s.transactionSampling,c=Wr.__rest(s,["transactionSampling"]),u=a||{},p=u.method,l=u.rate;Object.keys(c).length===0?delete t.debug_meta:t.debug_meta=c;var d={body:JSON.stringify(r?iK(t,e.metadata.sdk):t),type:n,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var f=JSON.stringify(Wr.__assign(Wr.__assign({event_id:t.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),h=JSON.stringify({type:n,sample_rates:[{id:p,rate:l}]}),v=f+`
`+h+`
`+d.body;d.body=v}return d}o(aK,"eventToSentryRequest");vo.eventToSentryRequest=aK});var v0=m(ed=>{Object.defineProperty(ed,"__esModule",{value:!0});var oK=Me(),cK=q();function uK(t,e){var r;e.debug===!0&&cK.logger.enable();var n=oK.getCurrentHub();(r=n.getScope())===null||r===void 0||r.update(e.initialScope);var i=new t(e);n.bindClient(i)}o(uK,"initAndBind");ed.initAndBind=uK});var g0=m(td=>{Object.defineProperty(td,"__esModule",{value:!0});td.SDK_VERSION="6.8.0"});var _0=m(rd=>{Object.defineProperty(rd,"__esModule",{value:!0});var y0,pK=function(){function t(){this.name=t.id}return o(t,"FunctionToString"),t.prototype.setupOnce=function(){y0=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.__sentry_original__||this;return y0.apply(n,e)}},t.id="FunctionToString",t}();rd.FunctionToString=pK});var x0=m(id=>{Object.defineProperty(id,"__esModule",{value:!0});var nd=C(),b0=Me(),Ee=q(),lK=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],dK=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id}return o(t,"InboundFilters"),t.prototype.setupOnce=function(){b0.addGlobalEventProcessor(function(e){var r=b0.getCurrentHub();if(!r)return e;var n=r.getIntegration(t);if(n){var i=r.getClient(),s=i?i.getOptions():{},a=typeof n._mergeOptions=="function"?n._mergeOptions(s):{};return typeof n._shouldDropEvent!="function"?e:n._shouldDropEvent(e,a)?null:e}return e})},t.prototype._shouldDropEvent=function(e,r){return this._isSentryError(e,r)?(Ee.logger.warn(`Event dropped due to being internal Sentry Error.
Event: `+Ee.getEventDescription(e)),!0):this._isIgnoredError(e,r)?(Ee.logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Ee.getEventDescription(e)),!0):this._isDeniedUrl(e,r)?(Ee.logger.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Ee.getEventDescription(e)+`.
Url: `+this._getEventFilterUrl(e)),!0):this._isAllowedUrl(e,r)?!1:(Ee.logger.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Ee.getEventDescription(e)+`.
Url: `+this._getEventFilterUrl(e)),!0)},t.prototype._isSentryError=function(e,r){if(!r.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].type==="SentryError"||!1}catch(n){return!1}},t.prototype._isIgnoredError=function(e,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(e).some(function(n){return r.ignoreErrors.some(function(i){return Ee.isMatchingPattern(n,i)})})},t.prototype._isDeniedUrl=function(e,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return n?r.denyUrls.some(function(i){return Ee.isMatchingPattern(n,i)}):!1},t.prototype._isAllowedUrl=function(e,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return n?r.allowUrls.some(function(i){return Ee.isMatchingPattern(n,i)}):!0},t.prototype._mergeOptions=function(e){return e===void 0&&(e={}),{allowUrls:nd.__spread(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:nd.__spread(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:nd.__spread(this._options.ignoreErrors||[],e.ignoreErrors||[],lK),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},t.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var r=e.exception.values&&e.exception.values[0]||{},n=r.type,i=n===void 0?"":n,s=r.value,a=s===void 0?"":s;return[""+a,i+": "+a]}catch(c){return Ee.logger.error("Cannot extract message for event "+Ee.getEventDescription(e)),[]}return[]},t.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var r=e.stacktrace.frames;return r&&r[r.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(i){return Ee.logger.error("Cannot extract url for event "+Ee.getEventDescription(e)),null}},t.id="InboundFilters",t}();id.InboundFilters=dK});var S0=m(go=>{Object.defineProperty(go,"__esModule",{value:!0});var fK=_0();go.FunctionToString=fK.FunctionToString;var mK=x0();go.InboundFilters=mK.InboundFilters});var pe=m(A=>{Object.defineProperty(A,"__esModule",{value:!0});var De=t0();A.addBreadcrumb=De.addBreadcrumb;A.captureException=De.captureException;A.captureEvent=De.captureEvent;A.captureMessage=De.captureMessage;A.configureScope=De.configureScope;A.startTransaction=De.startTransaction;A.setContext=De.setContext;A.setExtra=De.setExtra;A.setExtras=De.setExtras;A.setTag=De.setTag;A.setTags=De.setTags;A.setUser=De.setUser;A.withScope=De.withScope;var Dn=Me();A.addGlobalEventProcessor=Dn.addGlobalEventProcessor;A.getCurrentHub=Dn.getCurrentHub;A.getHubFromCarrier=Dn.getHubFromCarrier;A.Hub=Dn.Hub;A.makeMain=Dn.makeMain;A.Scope=Dn.Scope;var hK=i0();A.API=hK.API;var vK=l0();A.BaseClient=vK.BaseClient;var gK=f0();A.BaseBackend=gK.BaseBackend;var E0=h0();A.eventToSentryRequest=E0.eventToSentryRequest;A.sessionToSentryRequest=E0.sessionToSentryRequest;var yK=v0();A.initAndBind=yK.initAndBind;var _K=Zl();A.NoopTransport=_K.NoopTransport;var bK=g0();A.SDK_VERSION=bK.SDK_VERSION;var xK=S0();A.Integrations=xK});var w0=m(yo=>{(function(t,e){let r=typeof yo=="object"?yo:typeof t=="object"?t:{};e(r),typeof define=="function"&&define.amd&&define("lru",r)})(yo,function(t){let e=Symbol("newer"),r=Symbol("older");function n(u,p){typeof u!="number"&&(p=u,u=0),this.size=0,this.limit=u,this.oldest=this.newest=void 0,this._keymap=new Map,p&&(this.assign(p),u<1&&(this.limit=this.size))}o(n,"LRUMap"),t.LRUMap=n;function i(u,p){this.key=u,this.value=p,this[e]=void 0,this[r]=void 0}o(i,"Entry"),n.prototype._markEntryAsUsed=function(u){u!==this.newest&&(u[e]&&(u===this.oldest&&(this.oldest=u[e]),u[e][r]=u[r]),u[r]&&(u[r][e]=u[e]),u[e]=void 0,u[r]=this.newest,this.newest&&(this.newest[e]=u),this.newest=u)},n.prototype.assign=function(u){let p,l=this.limit||Number.MAX_VALUE;this._keymap.clear();let d=u[Symbol.iterator]();for(let f=d.next();!f.done;f=d.next()){let h=new i(f.value[0],f.value[1]);if(this._keymap.set(h.key,h),p?(p[e]=h,h[r]=p):this.oldest=h,p=h,l--==0)throw new Error("overflow")}this.newest=p,this.size=this._keymap.size},n.prototype.get=function(u){var p=this._keymap.get(u);if(!!p)return this._markEntryAsUsed(p),p.value},n.prototype.set=function(u,p){var l=this._keymap.get(u);return l?(l.value=p,this._markEntryAsUsed(l),this):(this._keymap.set(u,l=new i(u,p)),this.newest?(this.newest[e]=l,l[r]=this.newest):this.oldest=l,this.newest=l,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var u=this.oldest;if(u)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),u[e]=u[r]=void 0,this._keymap.delete(u.key),--this.size,[u.key,u.value]},n.prototype.find=function(u){let p=this._keymap.get(u);return p?p.value:void 0},n.prototype.has=function(u){return this._keymap.has(u)},n.prototype.delete=function(u){var p=this._keymap.get(u);if(!!p)return this._keymap.delete(p.key),p[e]&&p[r]?(p[r][e]=p[e],p[e][r]=p[r]):p[e]?(p[e][r]=void 0,this.oldest=p[e]):p[r]?(p[r][e]=void 0,this.newest=p[r]):this.oldest=this.newest=void 0,this.size--,p.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()};function s(u){this.entry=u}o(s,"EntryIterator"),s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let u=this.entry;return u?(this.entry=u[e],{done:!1,value:[u.key,u.value]}):{done:!0,value:void 0}};function a(u){this.entry=u}o(a,"KeyIterator"),a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let u=this.entry;return u?(this.entry=u[e],{done:!1,value:u.key}):{done:!0,value:void 0}};function c(u){this.entry=u}o(c,"ValueIterator"),c.prototype[Symbol.iterator]=function(){return this},c.prototype.next=function(){let u=this.entry;return u?(this.entry=u[e],{done:!1,value:u.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new c(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(u,p){typeof p!="object"&&(p=this);let l=this.oldest;for(;l;)u.call(p,l.value,l.key,this),l=l[e]},n.prototype.toJSON=function(){for(var u=new Array(this.size),p=0,l=this.oldest;l;)u[p++]={key:l.key,value:l.value},l=l[e];return u},n.prototype.toString=function(){for(var u="",p=this.oldest;p;)u+=String(p.key)+":"+p.value,p=p[e],p&&(u+=" < ");return u}})});var T0=m(sd=>{Object.defineProperty(sd,"__esModule",{value:!0});function SK(t){if(!t.stack)return[];var e=t.stack.split(`
`).slice(1);return e.map(function(r){if(r.match(/^\s*[-]{4,}$/))return{columnNumber:null,fileName:r,functionName:null,lineNumber:null,methodName:null,native:null,typeName:null};var n=r.match(/at (?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!!n){var i=null,s=null,a=null,c=null,u=null,p=n[5]==="native";if(n[1]){a=n[1];var l=a.lastIndexOf(".");if(a[l-1]==="."&&l--,l>0){i=a.substr(0,l),s=a.substr(l+1);var d=i.indexOf(".Module");d>0&&(a=a.substr(d+1),i=i.substr(0,d))}c=null}s&&(c=i,u=s),s==="<anonymous>"&&(u=null,a=null);var f={columnNumber:parseInt(n[4],10)||null,fileName:n[2]||null,functionName:a,lineNumber:parseInt(n[3],10)||null,methodName:u,native:p,typeName:c};return f}}).filter(function(r){return!!r})}o(SK,"parse");sd.parse=SK});var od=m(mr=>{Object.defineProperty(mr,"__esModule",{value:!0});var ct=q(),EK=require("fs"),wK=w0(),TK=T0(),OK=7,ad=new wK.LRUMap(100);function kK(){ad.clear()}o(kK,"resetFileContentCache");mr.resetFileContentCache=kK;function qK(t){try{return t.functionName||t.typeName+"."+(t.methodName||"<anonymous>")}catch(e){return"<anonymous>"}}o(qK,"getFunction");var CK=(require.main&&require.main.filename&&ct.dirname(require.main.filename)||global.process.cwd())+"/";function IK(t,e){e||(e=CK);var r=ct.basename(t,".js");t=ct.dirname(t);var n=t.lastIndexOf("/node_modules/");if(n>-1)return t.substr(n+14).replace(/\//g,".")+":"+r;if(n=(t+"/").lastIndexOf(e,0),n===0){var i=t.substr(e.length).replace(/\//g,".");return i&&(i+=":"),i+=r,i}return r}o(IK,"getModule");function PK(t){return t.length===0?ct.SyncPromise.resolve({}):new ct.SyncPromise(function(e){for(var r={},n=0,i=o(function(a){var c=t[a],u=ad.get(c);if(u!==void 0)return u!==null&&(r[c]=u),n++,n===t.length&&e(r),"continue";EK.readFile(c,function(p,l){var d=p?null:l.toString();r[c]=d,ad.set(c,d),n++,n===t.length&&e(r)})},"_loop_1"),s=0;s<t.length;s++)i(s)})}o(PK,"readSourceFiles");function O0(t){var e=TK.parse(t);return e||[]}o(O0,"extractStackFromError");mr.extractStackFromError=O0;function k0(t,e){var r=[],n=e&&e.frameContextLines!==void 0?e.frameContextLines:OK,i=t.map(function(s){var a,c={colno:s.columnNumber,filename:((a=s.fileName)===null||a===void 0?void 0:a.startsWith("file://"))?s.fileName.substr(7):s.fileName||"",function:qK(s),lineno:s.lineNumber},u=s.native||c.filename&&!c.filename.startsWith("/")&&!c.filename.startsWith(".")&&c.filename.indexOf(":\\")!==1;return c.in_app=!u&&c.filename!==void 0&&c.filename.indexOf("node_modules/")===-1,c.filename&&(c.module=IK(c.filename),!u&&n>0&&r.indexOf(c.filename)===-1&&r.push(c.filename)),c});if(n<=0)return ct.SyncPromise.resolve(i);try{return RK(r,i,n)}catch(s){return ct.SyncPromise.resolve(i)}}o(k0,"parseStack");mr.parseStack=k0;function RK(t,e,r){return new ct.SyncPromise(function(n){return PK(t).then(function(i){var s=e.map(function(a){if(a.filename&&i[a.filename])try{var c=i[a.filename].split(`
`);ct.addContextToFrame(c,a,r)}catch(u){}return a});n(s)})})}o(RK,"addPrePostContext");function q0(t,e){var r=t.name||t.constructor.name,n=O0(t);return new ct.SyncPromise(function(i){return k0(n,e).then(function(s){var a={stacktrace:{frames:C0(s)},type:r,value:t.message};i(a)})})}o(q0,"getExceptionFromError");mr.getExceptionFromError=q0;function AK(t,e){return new ct.SyncPromise(function(r){return q0(t,e).then(function(n){r({exception:{values:[n]}})})})}o(AK,"parseError");mr.parseError=AK;function C0(t){if(!t||!t.length)return[];var e=t,r=e[0].function||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(e=e.slice(1)),e.reverse()}o(C0,"prepareFramesForEvent");mr.prepareFramesForEvent=C0});var ud=m(cd=>{Object.defineProperty(cd,"__esModule",{value:!0});cd.SDK_NAME="sentry.javascript.node"});var _o=m(ld=>{Object.defineProperty(ld,"__esModule",{value:!0});var Dt=C(),I0=pe(),P0=xe(),hr=q(),jK=require("fs"),NK=require("url"),MK=ud(),pd={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},BK=function(){function t(e){this.options=e,this._buffer=new hr.PromiseBuffer(30),this._rateLimits={},this.urlParser=function(r){return new NK.URL(r)},this._api=new I0.API(e.dsn,e._metadata,e.tunnel)}return o(t,"BaseTransport"),t.prototype.sendEvent=function(e){throw new hr.SentryError("Transport Class has to implement `sendEvent` method.")},t.prototype.close=function(e){return this._buffer.drain(e)},t.prototype._getProxy=function(e){var r,n,i=process.env,s=i.no_proxy,a=i.http_proxy,c=i.https_proxy,u=this.options,p=u.httpProxy,l=u.httpsProxy,d=e==="http"?p||a:l||p||c||a;if(!s)return d;var f=this._api.getDsn(),h=f.host,v=f.port;try{for(var g=Dt.__values(s.split(",")),y=g.next();!y.done;y=g.next()){var _=y.value;if(h.endsWith(_)||(h+":"+v).endsWith(_))return}}catch(x){r={error:x}}finally{try{y&&!y.done&&(n=g.return)&&n.call(g)}finally{if(r)throw r.error}}return d},t.prototype._getRequestOptions=function(e){var r=Dt.__assign(Dt.__assign({},this._api.getRequestHeaders(MK.SDK_NAME,I0.SDK_VERSION)),this.options.headers),n=e.hostname,i=e.pathname,s=e.port,a=e.protocol,c=""+i;return Dt.__assign({agent:this.client,headers:r,hostname:n,method:"POST",path:c,port:s,protocol:a},this.options.caCerts&&{ca:jK.readFileSync(this.options.caCerts)})},t.prototype._disabledUntil=function(e){var r=pd[e];return this._rateLimits[r]||this._rateLimits.all},t.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},t.prototype._handleRateLimit=function(e){var r,n,i,s,a=Date.now(),c=e["x-sentry-rate-limits"],u=e["retry-after"];if(c){try{for(var p=Dt.__values(c.trim().split(",")),l=p.next();!l.done;l=p.next()){var d=l.value,f=d.split(":",2),h=parseInt(f[0],10),v=(isNaN(h)?60:h)*1e3;try{for(var g=(i=void 0,Dt.__values(f[1]&&f[1].split(";")||["all"])),y=g.next();!y.done;y=g.next()){var _=y.value,x=Dt.__spread(Object.keys(pd).map(function(S){return pd[S]}),["all"]);x.includes(_)&&(this._rateLimits[_]=new Date(a+v))}}catch(S){i={error:S}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}}}catch(S){r={error:S}}finally{try{l&&!l.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}return!0}else if(u)return this._rateLimits.all=new Date(a+hr.parseRetryAfterHeader(a,u)),!0;return!1},t.prototype._send=function(e,r){return Dt.__awaiter(this,void 0,void 0,function(){var n=this;return Dt.__generator(this,function(i){if(!this.module)throw new hr.SentryError("No module available");return r&&this._isRateLimited(e.type)?[2,Promise.reject({payload:r,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})]:this._buffer.isReady()?[2,this._buffer.add(function(){return new Promise(function(s,a){if(!n.module)throw new hr.SentryError("No module available");var c=n._getRequestOptions(n.urlParser(e.url)),u=n.module.request(c,function(p){var l=p.statusCode||500,d=P0.Status.fromHttpCode(l);p.setEncoding("utf8");var f=p.headers?p.headers["retry-after"]:"";f=Array.isArray(f)?f[0]:f;var h=p.headers?p.headers["x-sentry-rate-limits"]:"";h=Array.isArray(h)?h[0]:h;var v={"x-sentry-rate-limits":h,"retry-after":f},g=n._handleRateLimit(v);if(g&&hr.logger.warn("Too many "+e.type+" requests, backing off until: "+n._disabledUntil(e.type)),d===P0.Status.Success)s({status:d});else{var y="HTTP Error ("+l+")";p.headers&&p.headers["x-sentry-error"]&&(y+=": "+p.headers["x-sentry-error"]),a(new hr.SentryError(y))}p.on("data",function(){}),p.on("end",function(){})});u.on("error",a),u.end(e.body)})})]:[2,Promise.reject(new hr.SentryError("Not adding Promise due to buffer limit reached."))]})})},t}();ld.BaseTransport=BK});var A0=m((eG,R0)=>{var Kn=1e3,Fn=Kn*60,Ln=Fn*60,zr=Ln*24,DK=zr*7,KK=zr*365.25;R0.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return FK(t);if(r==="number"&&isFinite(t))return e.long?HK(t):LK(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function FK(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*KK;case"weeks":case"week":case"w":return r*DK;case"days":case"day":case"d":return r*zr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ln;case"minutes":case"minute":case"mins":case"min":case"m":return r*Fn;case"seconds":case"second":case"secs":case"sec":case"s":return r*Kn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(FK,"parse");function LK(t){var e=Math.abs(t);return e>=zr?Math.round(t/zr)+"d":e>=Ln?Math.round(t/Ln)+"h":e>=Fn?Math.round(t/Fn)+"m":e>=Kn?Math.round(t/Kn)+"s":t+"ms"}o(LK,"fmtShort");function HK(t){var e=Math.abs(t);return e>=zr?bo(t,e,zr,"day"):e>=Ln?bo(t,e,Ln,"hour"):e>=Fn?bo(t,e,Fn,"minute"):e>=Kn?bo(t,e,Kn,"second"):t+" ms"}o(HK,"fmtLong");function bo(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}o(bo,"plural")});var dd=m((tG,j0)=>{function UK(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=a,r.humanize=A0(),r.destroy=p,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}o(e,"selectColor"),r.selectColor=e;function r(l){let d,f=null;function h(...v){if(!h.enabled)return;let g=h,y=Number(new Date),_=y-(d||y);g.diff=_,g.prev=d,g.curr=y,d=y,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let x=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(E,w)=>{if(E==="%%")return"%";x++;let T=r.formatters[w];if(typeof T=="function"){let D=v[x];E=T.call(g,D),v.splice(x,1),x--}return E}),r.formatArgs.call(g,v),(g.log||r.log).apply(g,v)}return o(h,"debug"),h.namespace=l,h.useColors=r.useColors(),h.color=r.selectColor(l),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f===null?r.enabled(l):f,set:v=>{f=v}}),typeof r.init=="function"&&r.init(h),h}o(r,"createDebug");function n(l,d){let f=r(this.namespace+(typeof d=="undefined"?":":d)+l);return f.log=this.log,f}o(n,"extend");function i(l){r.save(l),r.names=[],r.skips=[];let d,f=(typeof l=="string"?l:"").split(/[\s,]+/),h=f.length;for(d=0;d<h;d++)!f[d]||(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.substr(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}o(i,"enable");function s(){let l=[...r.names.map(c),...r.skips.map(c).map(d=>"-"+d)].join(",");return r.enable(""),l}o(s,"disable");function a(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=r.skips.length;d<f;d++)if(r.skips[d].test(l))return!1;for(d=0,f=r.names.length;d<f;d++)if(r.names[d].test(l))return!0;return!1}o(a,"enabled");function c(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}o(c,"toNamespace");function u(l){return l instanceof Error?l.stack||l.message:l}o(u,"coerce");function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(p,"destroy"),r.enable(r.load()),r}o(UK,"setup");j0.exports=UK});var N0=m((Ke,xo)=>{Ke.formatArgs=JK;Ke.save=WK;Ke.load=zK;Ke.useColors=$K;Ke.storage=GK();Ke.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ke.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $K(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o($K,"useColors");function JK(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+xo.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}o(JK,"formatArgs");Ke.log=console.debug||console.log||(()=>{});function WK(t){try{t?Ke.storage.setItem("debug",t):Ke.storage.removeItem("debug")}catch(e){}}o(WK,"save");function zK(){let t;try{t=Ke.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}o(zK,"load");function GK(){try{return localStorage}catch(t){}}o(GK,"localstorage");xo.exports=dd()(Ke);var{formatters:YK}=xo.exports;YK.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var B0=m((rG,M0)=>{"use strict";M0.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var K0=m((nG,D0)=>{"use strict";var VK=require("os"),ut=B0(),fe=process.env,Hn;ut("no-color")||ut("no-colors")||ut("color=false")?Hn=!1:(ut("color")||ut("colors")||ut("color=true")||ut("color=always"))&&(Hn=!0);"FORCE_COLOR"in fe&&(Hn=fe.FORCE_COLOR.length===0||parseInt(fe.FORCE_COLOR,10)!==0);function XK(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}o(XK,"translateLevel");function ZK(t){if(Hn===!1)return 0;if(ut("color=16m")||ut("color=full")||ut("color=truecolor"))return 3;if(ut("color=256"))return 2;if(t&&!t.isTTY&&Hn!==!0)return 0;let e=Hn?1:0;if(process.platform==="win32"){let r=VK.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in fe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in fe)||fe.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in fe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(fe.TEAMCITY_VERSION)?1:0;if(fe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in fe){let r=parseInt((fe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(fe.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(fe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(fe.TERM)||"COLORTERM"in fe?1:(fe.TERM==="dumb",e)}o(ZK,"supportsColor");function fd(t){let e=ZK(t);return XK(e)}o(fd,"getSupportLevel");D0.exports={supportsColor:fd,stdout:fd(process.stdout),stderr:fd(process.stderr)}});var L0=m((le,Eo)=>{var QK=require("tty"),So=require("util");le.init=aF;le.log=nF;le.formatArgs=tF;le.save=iF;le.load=sF;le.useColors=eF;le.destroy=So.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");le.colors=[6,2,3,4,5,1];try{let t=K0();t&&(t.stderr||t).level>=2&&(le.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}le.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function eF(){return"colors"in le.inspectOpts?Boolean(le.inspectOpts.colors):QK.isatty(process.stderr.fd)}o(eF,"useColors");function tF(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} [0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+Eo.exports.humanize(this.diff)+"[0m")}else t[0]=rF()+e+" "+t[0]}o(tF,"formatArgs");function rF(){return le.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(rF,"getDate");function nF(...t){return process.stderr.write(So.format(...t)+`
`)}o(nF,"log");function iF(t){t?process.env.DEBUG=t:delete process.env.DEBUG}o(iF,"save");function sF(){return process.env.DEBUG}o(sF,"load");function aF(t){t.inspectOpts={};let e=Object.keys(le.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=le.inspectOpts[e[r]]}o(aF,"init");Eo.exports=dd()(le);var{formatters:F0}=Eo.exports;F0.o=function(t){return this.inspectOpts.colors=this.useColors,So.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};F0.O=function(t){return this.inspectOpts.colors=this.useColors,So.inspect(t,this.inspectOpts)}});var wo=m((iG,md)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?md.exports=N0():md.exports=L0()});var H0=m(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});function oF(t){return function(e,r){return new Promise((n,i)=>{t.call(this,e,r,(s,a)=>{s?i(s):n(a)})})}}o(oF,"promisify");hd.default=oF});var J0=m((gd,$0)=>{"use strict";var U0=gd&&gd.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},cF=require("events"),uF=U0(wo()),pF=U0(H0()),es=uF.default("agent-base");function lF(t){return Boolean(t)&&typeof t.addRequest=="function"}o(lF,"isAgent");function vd(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}o(vd,"isSecureEndpoint");function To(t,e){return new To.Agent(t,e)}o(To,"createAgent");(function(t){class e extends cF.EventEmitter{constructor(n,i){super();let s=i;typeof n=="function"?this.callback=n:n&&(s=n),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:vd()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:vd()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let s=Object.assign({},i);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=vd()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,n._last=!0,n.shouldKeepAlive=!1;let a=!1,c=null,u=s.timeout||this.timeout,p=o(h=>{n._hadError||(n.emit("error",h),n._hadError=!0)},"onerror"),l=o(()=>{c=null,a=!0;let h=new Error(`A "socket" was not created for HTTP request before ${u}ms`);h.code="ETIMEOUT",p(h)},"ontimeout"),d=o(h=>{a||(c!==null&&(clearTimeout(c),c=null),p(h))},"callbackError"),f=o(h=>{if(a)return;if(c!=null&&(clearTimeout(c),c=null),lF(h)){es("Callback returned another Agent instance %o",h.constructor.name),h.addRequest(n,s);return}if(h){h.once("free",()=>{this.freeSocket(h,s)}),n.onSocket(h);return}let v=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);p(v)},"onsocket");if(typeof this.callback!="function"){p(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(es("Converting legacy callback function to promise"),this.promisifiedCallback=pF.default(this.callback)):this.promisifiedCallback=this.callback),typeof u=="number"&&u>0&&(c=setTimeout(l,u)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{es("Resolving socket for %o request: %o",s.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,s)).then(f,d)}catch(h){Promise.reject(h).catch(d)}}freeSocket(n,i){es("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){es("Destroying agent %o",this.constructor.name)}}o(e,"Agent"),t.Agent=e,t.prototype=t.Agent.prototype})(To||(To={}));$0.exports=To});var W0=m(rs=>{"use strict";var dF=rs&&rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});var fF=dF(wo()),ts=fF.default("https-proxy-agent:parse-proxy-response");function mF(t){return new Promise((e,r)=>{let n=0,i=[];function s(){let d=t.read();d?l(d):t.once("readable",s)}o(s,"read");function a(){t.removeListener("end",u),t.removeListener("error",p),t.removeListener("close",c),t.removeListener("readable",s)}o(a,"cleanup");function c(d){ts("onclose had error %o",d)}o(c,"onclose");function u(){ts("onend")}o(u,"onend");function p(d){a(),ts("onerror %o",d),r(d)}o(p,"onerror");function l(d){i.push(d),n+=d.length;let f=Buffer.concat(i,n);if(f.indexOf(`\r
\r
`)===-1){ts("have not received end of HTTP headers yet..."),s();return}let v=f.toString("ascii",0,f.indexOf(`\r
`)),g=+v.split(" ")[1];ts("got proxy server response: %o",v),e({statusCode:g,buffered:f})}o(l,"ondata"),t.on("error",p),t.on("close",c),t.on("end",u),s()})}o(mF,"parseProxyResponse");rs.default=mF});var Y0=m(Gr=>{"use strict";var hF=Gr&&Gr.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(l){try{p(n.next(l))}catch(d){a(d)}}o(c,"fulfilled");function u(l){try{p(n.throw(l))}catch(d){a(d)}}o(u,"rejected");function p(l){l.done?s(l.value):i(l.value).then(c,u)}o(p,"step"),p((n=n.apply(t,e||[])).next())})},Un=Gr&&Gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gr,"__esModule",{value:!0});var z0=Un(require("net")),G0=Un(require("tls")),vF=Un(require("url")),gF=Un(require("assert")),yF=Un(wo()),_F=J0(),bF=Un(W0()),ns=yF.default("https-proxy-agent:agent"),yd=class extends _F.Agent{constructor(e){let r;if(typeof e=="string"?r=vF.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");ns("creating new HttpsProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||EF(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,r){return hF(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,s;i?(ns("Creating `tls.Socket`: %o",n),s=G0.default.connect(n)):(ns("Creating `net.Socket`: %o",n),s=z0.default.connect(n));let a=Object.assign({},n.headers),u=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:p,port:l,secureEndpoint:d}=r;SF(l,d)||(p+=`:${l}`),a.Host=p,a.Connection="close";for(let y of Object.keys(a))u+=`${y}: ${a[y]}\r
`;let f=bF.default(s);s.write(`${u}\r
`);let{statusCode:h,buffered:v}=yield f;if(h===200){if(e.once("socket",xF),r.secureEndpoint){let y=r.servername||r.host;if(!y)throw new Error('Could not determine "servername"');return ns("Upgrading socket connection to TLS"),G0.default.connect(Object.assign(Object.assign({},wF(r,"host","hostname","path","port")),{socket:s,servername:y}))}return s}s.destroy();let g=new z0.default.Socket;return g.readable=!0,e.once("socket",y=>{ns("replaying proxy buffer for failed request"),gF.default(y.listenerCount("data")>0),y.push(v),y.push(null)}),g})}};o(yd,"HttpsProxyAgent");Gr.default=yd;function xF(t){t.resume()}o(xF,"resume");function SF(t,e){return Boolean(!e&&t===80||e&&t===443)}o(SF,"isDefaultPort");function EF(t){return typeof t=="string"?/^https:?$/i.test(t):!1}o(EF,"isHTTPS");function wF(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}o(wF,"omit")});var Sd=m((xd,V0)=>{"use strict";var TF=xd&&xd.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_d=TF(Y0());function bd(t){return new _d.default(t)}o(bd,"createHttpsProxyAgent");(function(t){t.HttpsProxyAgent=_d.default,t.prototype=_d.default.prototype})(bd||(bd={}));V0.exports=bd});var Q0=m(Ed=>{Object.defineProperty(Ed,"__esModule",{value:!0});var OF=C(),X0=pe(),Z0=require("http"),kF=_o(),qF=function(t){OF.__extends(e,t);function e(r){var n=t.call(this,r)||this;n.options=r;var i=n._getProxy("http");return n.module=Z0,n.client=i?new(Sd())(i):new Z0.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return o(e,"HTTPTransport"),e.prototype.sendEvent=function(r){return this._send(X0.eventToSentryRequest(r,this._api),r)},e.prototype.sendSession=function(r){return this._send(X0.sessionToSentryRequest(r,this._api),r)},e}(kF.BaseTransport);Ed.HTTPTransport=qF});var rT=m(wd=>{Object.defineProperty(wd,"__esModule",{value:!0});var CF=C(),eT=pe(),tT=require("https"),IF=_o(),PF=function(t){CF.__extends(e,t);function e(r){var n=t.call(this,r)||this;n.options=r;var i=n._getProxy("https");return n.module=tT,n.client=i?new(Sd())(i):new tT.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return o(e,"HTTPSTransport"),e.prototype.sendEvent=function(r){return this._send(eT.eventToSentryRequest(r,this._api),r)},e.prototype.sendSession=function(r){return this._send(eT.sessionToSentryRequest(r,this._api),r)},e}(IF.BaseTransport);wd.HTTPSTransport=PF});var Td=m(is=>{Object.defineProperty(is,"__esModule",{value:!0});var RF=_o();is.BaseTransport=RF.BaseTransport;var AF=Q0();is.HTTPTransport=AF.HTTPTransport;var jF=rT();is.HTTPSTransport=jF.HTTPSTransport});var kd=m(Od=>{Object.defineProperty(Od,"__esModule",{value:!0});var vr=C(),nT=pe(),NF=xe(),Kt=q(),Oo=od(),iT=Td(),MF=function(t){vr.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return o(e,"NodeBackend"),e.prototype.eventFromException=function(r,n){var i=this,s=r,a=n&&n.data&&n.data.mechanism,c=a||{handled:!0,type:"generic"};if(!Kt.isError(r)){if(Kt.isPlainObject(r)){var u="Non-Error exception captured with keys: "+Kt.extractExceptionKeysForMessage(r);nT.getCurrentHub().configureScope(function(p){p.setExtra("__serialized__",Kt.normalizeToSize(r))}),s=n&&n.syntheticException||new Error(u),s.message=u}else s=n&&n.syntheticException||new Error(r),s.message=r;c.synthetic=!0}return new Kt.SyncPromise(function(p,l){return Oo.parseError(s,i._options).then(function(d){Kt.addExceptionTypeValue(d,void 0,void 0),Kt.addExceptionMechanism(d,c),p(vr.__assign(vr.__assign({},d),{event_id:n&&n.event_id}))}).then(null,l)})},e.prototype.eventFromMessage=function(r,n,i){var s=this;n===void 0&&(n=NF.Severity.Info);var a={event_id:i&&i.event_id,level:n,message:r};return new Kt.SyncPromise(function(c){if(s._options.attachStacktrace&&i&&i.syntheticException){var u=i.syntheticException?Oo.extractStackFromError(i.syntheticException):[];Oo.parseStack(u,s._options).then(function(p){a.stacktrace={frames:Oo.prepareFramesForEvent(p)},c(a)}).then(null,function(){c(a)})}else c(a)})},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var r=new Kt.Dsn(this._options.dsn),n=vr.__assign(vr.__assign(vr.__assign(vr.__assign(vr.__assign({},this._options.transportOptions),this._options.httpProxy&&{httpProxy:this._options.httpProxy}),this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy}),this._options.caCerts&&{caCerts:this._options.caCerts}),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(n):r.protocol==="http"?new iT.HTTPTransport(n):new iT.HTTPSTransport(n)},e}(nT.BaseBackend);Od.NodeBackend=MF});var Id=m(Cd=>{Object.defineProperty(Cd,"__esModule",{value:!0});var BF=C(),qd=pe(),DF=Me(),ko=xe(),sT=q(),KF=kd(),FF=function(t){BF.__extends(e,t);function e(r){var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:qd.SDK_VERSION}],version:qd.SDK_VERSION},n=t.call(this,KF.NodeBackend,r)||this,n}return o(e,"NodeClient"),e.prototype.captureException=function(r,n,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=i.getRequestSession();s&&s.status===ko.RequestSessionStatus.Ok&&(s.status=ko.RequestSessionStatus.Errored)}return t.prototype.captureException.call(this,r,n,i)},e.prototype.captureEvent=function(r,n,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=r.type||"exception",a=s==="exception"&&r.exception&&r.exception.values&&r.exception.values.length>0;if(a){var c=i.getRequestSession();c&&c.status===ko.RequestSessionStatus.Ok&&(c.status=ko.RequestSessionStatus.Errored)}}return t.prototype.captureEvent.call(this,r,n,i)},e.prototype.close=function(r){var n;return(n=this._sessionFlusher)===null||n===void 0||n.close(),t.prototype.close.call(this,r)},e.prototype.initSessionFlusher=function(){var r=this._options,n=r.release,i=r.environment;n?this._sessionFlusher=new DF.SessionFlusher(this._backend.getTransport(),{release:n,environment:i}):sT.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")},e.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"node",this.getOptions().serverName&&(r.server_name=this.getOptions().serverName),t.prototype._prepareEvent.call(this,r,n,i)},e.prototype._captureRequestSession=function(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():sT.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")},e}(qd.BaseClient);Cd.NodeClient=FF});var uT=m(Pd=>{Object.defineProperty(Pd,"__esModule",{value:!0});var aT=C(),oT=pe(),ss=xe(),LF=q(),HF=require("util"),cT=function(){function t(){this.name=t.id}return o(t,"Console"),t.prototype.setupOnce=function(){var e,r;try{for(var n=aT.__values(["debug","info","warn","error","log"]),i=n.next();!i.done;i=n.next()){var s=i.value;LF.fill(console,s,UF(s))}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.id="Console",t}();Pd.Console=cT;function UF(t){return o(function(r){var n;switch(t){case"debug":n=ss.Severity.Debug;break;case"error":n=ss.Severity.Error;break;case"info":n=ss.Severity.Info;break;case"warn":n=ss.Severity.Warning;break;default:n=ss.Severity.Log}return function(){oT.getCurrentHub().getIntegration(cT)&&oT.getCurrentHub().addBreadcrumb({category:"console",level:n,message:HF.format.apply(void 0,arguments)},{input:aT.__spread(arguments),level:t}),r.apply(this,arguments)}},"consoleWrapper")}o(UF,"createConsoleWrapper")});var dT=m(Yr=>{Object.defineProperty(Yr,"__esModule",{value:!0});var Rd=C(),$F=pe(),pT=require("url");function JF(t){var e,r=(e=$F.getCurrentHub().getClient())===null||e===void 0?void 0:e.getDsn();return r?t.includes(r.host):!1}o(JF,"isSentryRequest");Yr.isSentryRequest=JF;function lT(t){var e=t.protocol||"",r=t.hostname||t.host||"",n=!t.port||t.port===80||t.port===443?"":":"+t.port,i=t.path?t.path:"/";return e+"//"+r+n+i}o(lT,"extractUrl");Yr.extractUrl=lT;function WF(t,e,r){var n,i,s;if(!t)return t;var a=Rd.__read(t.split(" "),2),c=a[0],u=a[1];return e.host&&!e.protocol&&(e.protocol=(i=(n=r)===null||n===void 0?void 0:n.agent)===null||i===void 0?void 0:i.protocol,u=lT(e)),((s=u)===null||s===void 0?void 0:s.startsWith("///"))&&(u=u.slice(2)),c+" "+u}o(WF,"cleanSpanDescription");Yr.cleanSpanDescription=WF;function Ad(t){var e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:""+(t.pathname||"")+(t.search||""),href:t.href};return t.port!==""&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=t.username+":"+t.password),e}o(Ad,"urlToOptions");Yr.urlToOptions=Ad;function zF(t){var e,r;return typeof t[t.length-1]=="function"&&(e=t.pop()),typeof t[0]=="string"?r=Ad(new pT.URL(t[0])):t[0]instanceof pT.URL?r=Ad(t[0]):r=t[0],t.length===2&&(r=Rd.__assign(Rd.__assign({},r),t[1])),e?[r,e]:[r]}o(zF,"normalizeRequestArgs");Yr.normalizeRequestArgs=zF});var gT=m(Nd=>{Object.defineProperty(Nd,"__esModule",{value:!0});var fT=C(),jd=pe(),$n=q(),as=dT(),mT=$n.parseSemver(process.versions.node),hT=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._breadcrumbs=typeof e.breadcrumbs=="undefined"?!0:e.breadcrumbs,this._tracing=typeof e.tracing=="undefined"?!1:e.tracing}return o(t,"Http"),t.prototype.setupOnce=function(){if(!(!this._breadcrumbs&&!this._tracing)){var e=GF(this._breadcrumbs,this._tracing),r=require("http");if($n.fill(r,"get",e),$n.fill(r,"request",e),mT.major&&mT.major>8){var n=require("https");$n.fill(n,"get",e),$n.fill(n,"request",e)}}},t.id="Http",t}();Nd.Http=hT;function GF(t,e){return o(function(n){return o(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var c=this,u=as.normalizeRequestArgs(s),p=u[0],l=as.extractUrl(p);if(as.isSentryRequest(l))return n.apply(c,u);var d,f,h=jd.getCurrentHub().getScope();if(h&&e&&(f=h.getSpan(),f)){d=f.startChild({description:(p.method||"GET")+" "+l,op:"request"});var v=d.toTraceparent();$n.logger.log("[Tracing] Adding sentry-trace header "+v+" to outgoing request to "+l+": "),p.headers=fT.__assign(fT.__assign({},p.headers),{"sentry-trace":v})}return n.apply(c,u).once("response",function(g){var y=this;t&&vT("response",l,y,g),e&&d&&(g.statusCode&&d.setHttpStatus(g.statusCode),d.description=as.cleanSpanDescription(d.description,p,y),d.finish())}).once("error",function(){var g=this;t&&vT("error",l,g),e&&d&&(d.setHttpStatus(500),d.description=as.cleanSpanDescription(d.description,p,g),d.finish())})},"wrappedMethod")},"wrappedRequestMethodFactory")}o(GF,"_createWrappedRequestMethodFactory");function vT(t,e,r,n){!jd.getCurrentHub().getIntegration(hT)||jd.getCurrentHub().addBreadcrumb({category:"http",data:{method:r.method,status_code:n&&n.statusCode,url:e},type:"http"},{event:t,request:r,response:n})}o(vT,"addRequestBreadcrumb")});var Dd=m(Bd=>{Object.defineProperty(Bd,"__esModule",{value:!0});var YF=pe(),Md=q(),VF=2e3;function XF(t){console.error(t&&t.stack?t.stack:t);var e=YF.getCurrentHub().getClient();if(e===void 0){Md.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);return}var r=e.getOptions(),n=r&&r.shutdownTimeout&&r.shutdownTimeout>0&&r.shutdownTimeout||VF;Md.forget(e.close(n).then(function(i){i||Md.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}))}o(XF,"logAndExitProcess");Bd.logAndExitProcess=XF});var bT=m(Kd=>{Object.defineProperty(Kd,"__esModule",{value:!0});var yT=pe(),ZF=xe(),QF=q(),_T=Dd(),eL=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id,this.handler=this._makeErrorHandler()}return o(t,"OnUncaughtException"),t.prototype.setupOnce=function(){global.process.on("uncaughtException",this.handler.bind(this))},t.prototype._makeErrorHandler=function(){var e=this,r=2e3,n=!1,i=!1,s=!1,a;return function(c){var u=_T.logAndExitProcess,p=yT.getCurrentHub().getClient();if(e._options.onFatalError?u=e._options.onFatalError:p&&p.getOptions().onFatalError&&(u=p.getOptions().onFatalError),n)s?(QF.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),_T.logAndExitProcess(c)):i||(i=!0,setTimeout(function(){s||(s=!0,u(a,c))},r));else{var l=yT.getCurrentHub();a=c,n=!0,l.getIntegration(t)?l.withScope(function(d){d.setLevel(ZF.Severity.Fatal),l.captureException(c,{originalException:c,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),s||(s=!0,u(c))}):s||(s=!0,u(c))}}},t.id="OnUncaughtException",t}();Kd.OnUncaughtException=eL});var ST=m(Fd=>{Object.defineProperty(Fd,"__esModule",{value:!0});var tL=pe(),xT=q(),rL=Dd(),nL=function(){function t(e){e===void 0&&(e={mode:"warn"}),this._options=e,this.name=t.id}return o(t,"OnUnhandledRejection"),t.prototype.setupOnce=function(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))},t.prototype.sendUnhandledPromise=function(e,r){var n=tL.getCurrentHub();if(!n.getIntegration(t)){this._handleRejection(e);return}var i=r.domain&&r.domain.sentryContext||{};n.withScope(function(s){s.setExtra("unhandledPromiseRejection",!0),i.user&&s.setUser(i.user),i.tags&&s.setTags(i.tags),i.extra&&s.setExtras(i.extra),n.captureException(e,{originalException:r,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})}),this._handleRejection(e)},t.prototype._handleRejection=function(e){var r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";this._options.mode==="warn"?xT.consoleSandbox(function(){console.warn(r),console.error(e&&e.stack?e.stack:e)}):this._options.mode==="strict"&&(xT.consoleSandbox(function(){console.warn(r)}),rL.logAndExitProcess(e))},t.id="OnUnhandledRejection",t}();Fd.OnUnhandledRejection=nL});var TT=m(Ld=>{Object.defineProperty(Ld,"__esModule",{value:!0});var ET=C(),wT=pe(),Jn=q(),iL=od(),sL="cause",aL=5,oL=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._key=e.key||sL,this._limit=e.limit||aL}return o(t,"LinkedErrors"),t.prototype.setupOnce=function(){wT.addGlobalEventProcessor(function(e,r){var n=wT.getCurrentHub().getIntegration(t);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(e,r):e}return e})},t.prototype._handler=function(e,r){var n=this;return!e.exception||!e.exception.values||!r||!Jn.isInstanceOf(r.originalException,Error)?Jn.SyncPromise.resolve(e):new Jn.SyncPromise(function(i){n._walkErrorTree(r.originalException,n._key).then(function(s){e&&e.exception&&e.exception.values&&(e.exception.values=ET.__spread(s,e.exception.values)),i(e)}).then(null,function(){i(e)})})},t.prototype._walkErrorTree=function(e,r,n){var i=this;return n===void 0&&(n=[]),!Jn.isInstanceOf(e[r],Error)||n.length+1>=this._limit?Jn.SyncPromise.resolve(n):new Jn.SyncPromise(function(s,a){iL.getExceptionFromError(e[r]).then(function(c){i._walkErrorTree(e[r],r,ET.__spread([c],n)).then(s).then(null,function(){a()})}).then(null,function(){a()})})},t.id="LinkedErrors",t}();Ld.LinkedErrors=oL});var CT=m(Ud=>{Object.defineProperty(Ud,"__esModule",{value:!0});var OT=C(),kT=require("fs"),qT=require("path"),Hd;function cL(){try{return require.cache?Object.keys(require.cache):[]}catch(t){return[]}}o(cL,"getPaths");function uL(){var t=require.main&&require.main.paths||[],e=cL(),r={},n={};return e.forEach(function(i){var s=i,a=o(function(){var c=s;if(s=qT.dirname(c),!(!s||c===s||n[c])){if(t.indexOf(s)<0)return a();var u=qT.join(c,"package.json");if(n[c]=!0,!kT.existsSync(u))return a();try{var p=JSON.parse(kT.readFileSync(u,"utf8"));r[p.name]=p.version}catch(l){}}},"updir");a()}),r}o(uL,"collectModules");var pL=function(){function t(){this.name=t.id}return o(t,"Modules"),t.prototype.setupOnce=function(e,r){var n=this;e(function(i){return r().getIntegration(t)?OT.__assign(OT.__assign({},i),{modules:n._getModules()}):i})},t.prototype._getModules=function(){return Hd||(Hd=uL()),Hd},t.id="Modules",t}();Ud.Modules=pL});var $d=m(gr=>{Object.defineProperty(gr,"__esModule",{value:!0});var lL=uT();gr.Console=lL.Console;var dL=gT();gr.Http=dL.Http;var fL=bT();gr.OnUncaughtException=fL.OnUncaughtException;var mL=ST();gr.OnUnhandledRejection=mL.OnUnhandledRejection;var hL=TT();gr.LinkedErrors=hL.LinkedErrors;var vL=CT();gr.Modules=vL.Modules});var Jd=m(Et=>{Object.defineProperty(Et,"__esModule",{value:!0});var os=C(),yr=pe(),IT=Me(),PT=xe(),gL=q(),yL=require("domain"),_L=Id(),cs=$d();Et.defaultIntegrations=[new yr.Integrations.InboundFilters,new yr.Integrations.FunctionToString,new cs.Console,new cs.Http,new cs.OnUncaughtException,new cs.OnUnhandledRejection,new cs.LinkedErrors];function bL(t){t===void 0&&(t={});var e,r=IT.getMainCarrier(),n=((e=r.__SENTRY__)===null||e===void 0?void 0:e.integrations)||[];if(t.defaultIntegrations=t.defaultIntegrations===!1?[]:os.__spread(Array.isArray(t.defaultIntegrations)?t.defaultIntegrations:Et.defaultIntegrations,n),t.dsn===void 0&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN),t.tracesSampleRate===void 0&&process.env.SENTRY_TRACES_SAMPLE_RATE){var i=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(i)&&(t.tracesSampleRate=i)}if(t.release===void 0){var s=RT();s!==void 0?t.release=s:t.autoSessionTracking=!1}t.autoSessionTracking===void 0&&(t.autoSessionTracking=!1),t.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),yL.active&&IT.setHubOnCarrier(r,yr.getCurrentHub()),yr.initAndBind(_L.NodeClient,t),t.autoSessionTracking&&TL()}o(bL,"init");Et.init=bL;function xL(){return yr.getCurrentHub().lastEventId()}o(xL,"lastEventId");Et.lastEventId=xL;function SL(t){return os.__awaiter(this,void 0,void 0,function(){var e;return os.__generator(this,function(r){return e=yr.getCurrentHub().getClient(),e?[2,e.flush(t)]:[2,Promise.reject(!1)]})})}o(SL,"flush");Et.flush=SL;function EL(t){return os.__awaiter(this,void 0,void 0,function(){var e;return os.__generator(this,function(r){return e=yr.getCurrentHub().getClient(),e?[2,e.close(t)]:[2,Promise.reject(!1)]})})}o(EL,"close");Et.close=EL;function wL(t){if(t===void 0)return!1;var e=t&&t.getOptions();return e&&e.autoSessionTracking!==void 0?e.autoSessionTracking:!1}o(wL,"isAutoSessionTrackingEnabled");Et.isAutoSessionTrackingEnabled=wL;function RT(t){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;var e=gL.getGlobalObject();return e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id?e.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||t}o(RT,"getSentryRelease");Et.getSentryRelease=RT;function TL(){var t=yr.getCurrentHub();t.startSession(),process.on("beforeExit",function(){var e,r=(e=t.getScope())===null||e===void 0?void 0:e.getSession(),n=[PT.SessionStatus.Exited,PT.SessionStatus.Crashed];r&&!n.includes(r.status)&&t.endSession()})}o(TL,"startSessionTracking")});var jT=m(zd=>{Object.defineProperty(zd,"__esModule",{value:!0});var AT=C(),qo=require("fs"),Wd=require("path");function OL(t){var e=Wd.resolve(t);if(!qo.existsSync(e))throw new Error("Cannot read contents of "+e+". Directory does not exist.");if(!qo.statSync(e).isDirectory())throw new Error("Cannot read contents of "+e+", because it is not a directory.");var r=o(function(n){return qo.readdirSync(n).reduce(function(i,s){var a=Wd.join(n,s);return qo.statSync(a).isDirectory()?AT.__spread(i,r(a)):AT.__spread(i,[a])},[])},"deepReadCurrentDir");return r(e).map(function(n){return Wd.relative(e,n)})}o(OL,"deepReadDirSync");zd.deepReadDirSync=OL});var _r=m(Wn=>{Object.defineProperty(Wn,"__esModule",{value:!0});var NT;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(NT=Wn.SpanStatus||(Wn.SpanStatus={}));(function(t){function e(r){if(r<400)return t.Ok;if(r>=400&&r<500)switch(r){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}o(e,"fromHttpCode"),t.fromHttpCode=e})(NT=Wn.SpanStatus||(Wn.SpanStatus={}))});var br=m(wt=>{Object.defineProperty(wt,"__esModule",{value:!0});var MT=Me();wt.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function kL(t){t===void 0&&(t=(e=MT.getCurrentHub().getClient())===null||e===void 0?void 0:e.getOptions());var e;return t?"tracesSampleRate"in t||"tracesSampler"in t:!1}o(kL,"hasTracingEnabled");wt.hasTracingEnabled=kL;function qL(t){var e=t.match(wt.TRACEPARENT_REGEXP);if(e){var r=void 0;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}}o(qL,"extractTraceparentData");wt.extractTraceparentData=qL;function CL(t){t===void 0&&(t=MT.getCurrentHub());var e,r;return(r=(e=t)===null||e===void 0?void 0:e.getScope())===null||r===void 0?void 0:r.getTransaction()}o(CL,"getActiveTransaction");wt.getActiveTransaction=CL;function IL(t){return t/1e3}o(IL,"msToSec");wt.msToSec=IL;function PL(t){return t*1e3}o(PL,"secToMs");wt.secToMs=PL;var RL=q();wt.stripUrlQueryAndFragment=RL.stripUrlQueryAndFragment});var KT=m(Yd=>{Object.defineProperty(Yd,"__esModule",{value:!0});var Gd=q(),BT=_r(),AL=br();function jL(){Gd.addInstrumentationHandler({callback:DT,type:"error"}),Gd.addInstrumentationHandler({callback:DT,type:"unhandledrejection"})}o(jL,"registerErrorInstrumentation");Yd.registerErrorInstrumentation=jL;function DT(){var t=AL.getActiveTransaction();t&&(Gd.logger.log("[Tracing] Transaction: "+BT.SpanStatus.InternalError+" -> Global error occured"),t.setStatus(BT.SpanStatus.InternalError))}o(DT,"errorCallback")});var Io=m(Co=>{Object.defineProperty(Co,"__esModule",{value:!0});var zn=C(),Vr=q(),Vd=_r(),NL=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return o(t,"SpanRecorder"),t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}();Co.SpanRecorder=NL;var ML=function(){function t(e){if(this.traceId=Vr.uuid4(),this.spanId=Vr.uuid4().substring(16),this.startTimestamp=Vr.timestampWithMs(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return o(t,"Span"),t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var r=new t(zn.__assign(zn.__assign({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},t.prototype.setTag=function(e,r){var n;return this.tags=zn.__assign(zn.__assign({},this.tags),(n={},n[e]=r,n)),this},t.prototype.setData=function(e,r){var n;return this.data=zn.__assign(zn.__assign({},this.data),(n={},n[e]=r,n)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var r=Vd.SpanStatus.fromHttpCode(e);return r!==Vd.SpanStatus.UnknownError&&this.setStatus(r),this},t.prototype.isSuccess=function(){return this.status===Vd.SpanStatus.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:Vr.timestampWithMs()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return Vr.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var r,n,i,s,a;return this.data=(r=e.data,r!=null?r:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(n=e.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(a=e.traceId,a!=null?a:this.traceId),this},t.prototype.getTraceContext=function(){return Vr.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Vr.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();Co.Span=ML});var Po=m(Xd=>{Object.defineProperty(Xd,"__esModule",{value:!0});var Gn=C(),FT=Me(),Yn=q(),LT=Io(),BL=function(t){Gn.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._measurements={},i._hub=FT.getCurrentHub(),Yn.isInstanceOf(n,FT.Hub)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return o(e,"Transaction"),e.prototype.setName=function(r){this.name=r},e.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new LT.SpanRecorder(r)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(r){this._measurements=Gn.__assign({},r)},e.prototype.setMetadata=function(r){this.metadata=Gn.__assign(Gn.__assign({},this.metadata),r)},e.prototype.finish=function(r){var n=this;if(this.endTimestamp===void 0){if(this.name||(Yn.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,r),this.sampled!==!0){Yn.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(c){return c!==n&&c.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(c,u){return c.endTimestamp&&u.endTimestamp?c.endTimestamp>u.endTimestamp?c:u:c}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},a=Object.keys(this._measurements).length>0;return a&&(Yn.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),Yn.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},e.prototype.toContext=function(){var r=t.prototype.toContext.call(this);return Yn.dropUndefinedKeys(Gn.__assign(Gn.__assign({},r),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(r){var n;return t.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},e}(LT.Span);Xd.Transaction=BL});var Ro=m(Vn=>{Object.defineProperty(Vn,"__esModule",{value:!0});var Zd=C(),me=q(),DL=Io(),HT=_r(),KL=Po();Vn.DEFAULT_IDLE_TIMEOUT=1e3;var UT=function(t){Zd.__extends(e,t);function e(r,n,i,s){i===void 0&&(i="");var a=t.call(this,s)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return o(e,"IdleTransactionSpanRecorder"),e.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:me.timestampWithMs(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),t.prototype.add.call(this,r)},e}(DL.SpanRecorder);Vn.IdleTransactionSpanRecorder=UT;var FL=function(t){Zd.__extends(e,t);function e(r,n,i,s){i===void 0&&(i=Vn.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var a=t.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=s,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&s&&($T(n),me.logger.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(c){return c.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return o(e,"IdleTransaction"),e.prototype.finish=function(r){var n,i,s=this;if(r===void 0&&(r=me.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){me.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=Zd.__values(this._beforeFinishCallbacks),c=a.next();!c.done;c=a.next()){var u=c.value;u(this,r)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(p){if(p.spanId===s.spanId)return!0;p.endTimestamp||(p.endTimestamp=r,p.setStatus(HT.SpanStatus.Cancelled),me.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(p,void 0,2)));var l=p.startTimestamp<r;return l||me.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(p,void 0,2)),l}),me.logger.log("[Tracing] flushing IdleTransaction")}else me.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&$T(this._idleHub),t.prototype.finish.call(this,r)},e.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},e.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=o(function(a){n._finished||n._pushActivity(a)},"pushActivity"),s=o(function(a){n._finished||n._popActivity(a)},"popActivity");this.spanRecorder=new UT(i,s,this.spanId,r),me.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),me.logger.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,me.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(me.logger.log("[Tracing] popActivity "+r),delete this.activities[r],me.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=me.timestampWithMs()+i/1e3;setTimeout(function(){n._finished||n.finish(s)},i)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,s){return i+s}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(me.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(HT.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var r=this;me.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},e}(KL.Transaction);Vn.IdleTransaction=FL;function $T(t){if(t){var e=t.getScope();if(e){var r=e.getTransaction();r&&e.setSpan(void 0)}}}o($T,"clearActiveTransaction")});var jo=m((us,ps)=>{Object.defineProperty(us,"__esModule",{value:!0});var Qd=C(),JT=Me(),Ao=xe(),Ve=q(),LL=KT(),HL=Ro(),UL=Po(),$L=br();function JL(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}o(JL,"traceHeaders");function WT(t,e,r){if(!$L.hasTracingEnabled())return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:Ao.TransactionSamplingMethod.Explicit}}),t;var n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({transactionSampling:{method:Ao.TransactionSamplingMethod.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,t.setMetadata({transactionSampling:{method:Ao.TransactionSamplingMethod.Inheritance}})):(n=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:Ao.TransactionSamplingMethod.Rate,rate:Number(n)}})),WL(n)?n?(t.sampled=Math.random()<n,t.sampled?(Ve.logger.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(Ve.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),t)):(Ve.logger.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(Ve.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}o(WT,"sample");function WL(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(Ve.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(Ve.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}o(WL,"isValidSampleRate");function zL(t,e){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},s=new UL.Transaction(t,this);return s=WT(s,i,Qd.__assign({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),s}o(zL,"_startTransaction");function GL(t,e,r,n,i){var s,a,c=((s=t.getClient())===null||s===void 0?void 0:s.getOptions())||{},u=new HL.IdleTransaction(e,t,r,n);return u=WT(u,c,Qd.__assign({parentSampled:e.parentSampled,transactionContext:e},i)),u.sampled&&u.initSpanRecorder((a=c._experiments)===null||a===void 0?void 0:a.maxSpans),u}o(GL,"startIdleTransaction");us.startIdleTransaction=GL;function zT(){var t=JT.getMainCarrier();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=zL),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=JL))}o(zT,"_addTracingExtensions");us._addTracingExtensions=zT;function YL(){var t=JT.getMainCarrier();if(!!t.__SENTRY__){var e={mongodb:function(){var n=Ve.dynamicRequire(ps,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=Ve.dynamicRequire(ps,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=Ve.dynamicRequire(ps,"./integrations/mysql");return new n.Mysql},pg:function(){var n=Ve.dynamicRequire(ps,"./integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(function(n){return!!Ve.loadModule(n)}).map(function(n){try{return e[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(t.__SENTRY__.integrations=Qd.__spread(t.__SENTRY__.integrations||[],r))}}o(YL,"_autoloadDatabaseIntegrations");function VL(){zT(),Ve.isNodeEnv()&&YL(),LL.registerErrorInstrumentation()}o(VL,"addExtensionMethods");us.addExtensionMethods=VL});var YT=m(tf=>{Object.defineProperty(tf,"__esModule",{value:!0});var ef=q(),GT=_r(),XL=br(),No=ef.getGlobalObject();function ZL(){No&&No.document?No.document.addEventListener("visibilitychange",function(){var t=XL.getActiveTransaction();No.document.hidden&&t&&(ef.logger.log("[Tracing] Transaction: "+GT.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(GT.SpanStatus.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):ef.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(ZL,"registerBackgroundTabDetection");tf.registerBackgroundTabDetection=ZL});var Mo=m(rf=>{Object.defineProperty(rf,"__esModule",{value:!0});rf.bindReporter=function(t,e,r,n){var i;return function(){r&&e.isFinal&&r.disconnect(),e.value>=0&&(n||e.isFinal||document.visibilityState==="hidden")&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||i===void 0)&&(t(e),i=e.value))}}});var VT=m(nf=>{Object.defineProperty(nf,"__esModule",{value:!0});nf.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var Bo=m(sf=>{Object.defineProperty(sf,"__esModule",{value:!0});var QL=VT();sf.initMetric=function(t,e){return e===void 0&&(e=-1),{name:t,value:e,delta:0,entries:[],id:QL.generateUniqueID(),isFinal:!1}}});var Do=m(af=>{Object.defineProperty(af,"__esModule",{value:!0});af.observe=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(n){return n.getEntries().map(e)});return r.observe({type:t,buffered:!0}),r}}catch(n){}}});var ls=m(of=>{Object.defineProperty(of,"__esModule",{value:!0});var XT=!1,ZT=!1,e3=o(function(t){XT=!t.persisted},"onPageHide"),t3=o(function(){addEventListener("pagehide",e3),addEventListener("beforeunload",function(){})},"addListeners");of.onHidden=function(t,e){e===void 0&&(e=!1),ZT||(t3(),ZT=!0),addEventListener("visibilitychange",function(r){var n=r.timeStamp;document.visibilityState==="hidden"&&t({timeStamp:n,isUnloading:XT})},{capture:!0,once:e})}});var QT=m(cf=>{Object.defineProperty(cf,"__esModule",{value:!0});var r3=Mo(),n3=Bo(),i3=Do(),s3=ls();cf.getCLS=function(t,e){e===void 0&&(e=!1);var r=n3.initMetric("CLS",0),n,i=o(function(a){a.hadRecentInput||(r.value+=a.value,r.entries.push(a),n())},"entryHandler"),s=i3.observe("layout-shift",i);s&&(n=r3.bindReporter(t,r,s,e),s3.onHidden(function(a){var c=a.isUnloading;s.takeRecords().map(i),c&&(r.isFinal=!0),n()}))}});var Fo=m(uf=>{Object.defineProperty(uf,"__esModule",{value:!0});var a3=ls(),Ko;uf.getFirstHidden=function(){return Ko===void 0&&(Ko=document.visibilityState==="hidden"?0:Infinity,a3.onHidden(function(t){var e=t.timeStamp;return Ko=e},!0)),{get timeStamp(){return Ko}}}});var eO=m(pf=>{Object.defineProperty(pf,"__esModule",{value:!0});var o3=Mo(),c3=Fo(),u3=Bo(),p3=Do(),l3=ls();pf.getFID=function(t){var e=u3.initMetric("FID"),r=c3.getFirstHidden(),n=o(function(a){a.startTime<r.timeStamp&&(e.value=a.processingStart-a.startTime,e.entries.push(a),e.isFinal=!0,s())},"entryHandler"),i=p3.observe("first-input",n),s=o3.bindReporter(t,e,i);i?l3.onHidden(function(){i.takeRecords().map(n),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(a,c){c.timeStamp<r.timeStamp&&(e.value=a,e.isFinal=!0,e.entries=[{entryType:"first-input",name:c.type,target:c.target,cancelable:c.cancelable,startTime:c.timeStamp,processingStart:c.timeStamp+a}],s())})}});var tO=m(df=>{Object.defineProperty(df,"__esModule",{value:!0});var lf;df.whenInput=function(){return lf||(lf=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),lf}});var rO=m(ff=>{Object.defineProperty(ff,"__esModule",{value:!0});var d3=Mo(),f3=Fo(),m3=Bo(),h3=Do(),v3=ls(),g3=tO();ff.getLCP=function(t,e){e===void 0&&(e=!1);var r=m3.initMetric("LCP"),n=f3.getFirstHidden(),i,s=o(function(u){var p=u.startTime;p<n.timeStamp?(r.value=p,r.entries.push(u)):r.isFinal=!0,i()},"entryHandler"),a=h3.observe("largest-contentful-paint",s);if(a){i=d3.bindReporter(t,r,a,e);var c=o(function(){r.isFinal||(a.takeRecords().map(s),r.isFinal=!0,i())},"onFinal");g3.whenInput().then(c),v3.onHidden(c,!0)}}});var sO=m(ds=>{Object.defineProperty(ds,"__esModule",{value:!0});var nO=C(),Q=q(),ae=br(),y3=QT(),_3=eO(),b3=rO(),x3=Fo(),Ft=Q.getGlobalObject(),S3=function(){function t(){var e;this._measurements={},this._performanceCursor=0,!Q.isNodeEnv()&&((e=Ft)===null||e===void 0?void 0:e.performance)&&(Ft.performance.mark&&Ft.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return o(t,"MetricsInstrumentation"),t.prototype.addPerformanceEntries=function(e){var r=this;if(!(!Ft||!Ft.performance||!Ft.performance.getEntries||!Q.browserPerformanceTimeOrigin)){Q.logger.log("[Tracing] Adding & adjusting spans using Performance API");var n=ae.msToSec(Q.browserPerformanceTimeOrigin),i;if(Ft.document){for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].dataset.entry==="true"){i=document.scripts[s].src;break}}var a,c,u,p;if(Ft.performance.getEntries().slice(this._performanceCursor).forEach(function(d){var f=ae.msToSec(d.startTime),h=ae.msToSec(d.duration);if(!(e.op==="navigation"&&n+f<e.startTimestamp))switch(d.entryType){case"navigation":{E3(e,d,n),u=n+ae.msToSec(d.responseStart),p=n+ae.msToSec(d.requestStart);break}case"mark":case"paint":case"measure":{var v=w3(e,d,f,h,n);c===void 0&&d.name==="sentry-tracing-init"&&(c=v);var g=x3.getFirstHidden(),y=d.startTime<g.timeStamp;d.name==="first-paint"&&y&&(Q.logger.log("[Measurements] Adding FP"),r._measurements.fp={value:d.startTime},r._measurements["mark.fp"]={value:v}),d.name==="first-contentful-paint"&&y&&(Q.logger.log("[Measurements] Adding FCP"),r._measurements.fcp={value:d.startTime},r._measurements["mark.fcp"]={value:v});break}case"resource":{var _=d.name.replace(window.location.origin,""),x=iO(e,d,_,f,h,n);a===void 0&&(i||"").indexOf(_)>-1&&(a=x);break}default:}}),a!==void 0&&c!==void 0&&Sr(e,{description:"evaluation",endTimestamp:c,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var l=ae.msToSec(Q.browserPerformanceTimeOrigin);typeof u=="number"&&(Q.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(u-e.startTimestamp)*1e3},typeof p=="number"&&p<=u&&(this._measurements["ttfb.requestTime"]={value:(u-p)*1e3})),["fcp","fp","lcp"].forEach(function(d){if(!(!r._measurements[d]||l>=e.startTimestamp)){var f=r._measurements[d].value,h=l+ae.msToSec(f),v=Math.abs((h-e.startTimestamp)*1e3),g=v-f;Q.logger.log("[Measurements] Normalized "+d+" from "+f+" to "+v+" ("+g+")"),r._measurements[d].value=v}}),this._measurements["mark.fid"]&&this._measurements.fid&&Sr(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+ae.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},t.prototype._tagMetricInfo=function(e){this._lcpEntry&&(Q.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",Q.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&(Q.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(r,n){return e.setTag("cls.source."+(n+1),Q.htmlTreeAsString(r.node))}))},t.prototype._trackCLS=function(){var e=this;y3.getCLS(function(r){var n=r.entries.pop();!n||(Q.logger.log("[Measurements] Adding CLS"),e._measurements.cls={value:r.value},e._clsEntry=n)})},t.prototype._trackNavigator=function(e){var r=Ft.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Lo(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Lo(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Lo(r.deviceMemory)&&e.setTag("deviceMemory",String(r.deviceMemory)),Lo(r.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},t.prototype._trackLCP=function(){var e=this;b3.getLCP(function(r){var n=r.entries.pop();if(!!n){var i=ae.msToSec(Q.browserPerformanceTimeOrigin),s=ae.msToSec(n.startTime);Q.logger.log("[Measurements] Adding LCP"),e._measurements.lcp={value:r.value},e._measurements["mark.lcp"]={value:i+s},e._lcpEntry=n}})},t.prototype._trackFID=function(){var e=this;_3.getFID(function(r){var n=r.entries.pop();if(!!n){var i=ae.msToSec(Q.browserPerformanceTimeOrigin),s=ae.msToSec(n.startTime);Q.logger.log("[Measurements] Adding FID"),e._measurements.fid={value:r.value},e._measurements["mark.fid"]={value:i+s}}})},t}();ds.MetricsInstrumentation=S3;function E3(t,e,r){xr({transaction:t,entry:e,event:"unloadEvent",timeOrigin:r}),xr({transaction:t,entry:e,event:"redirect",timeOrigin:r}),xr({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:r}),xr({transaction:t,entry:e,event:"loadEvent",timeOrigin:r}),xr({transaction:t,entry:e,event:"connect",timeOrigin:r}),xr({transaction:t,entry:e,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),xr({transaction:t,entry:e,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),xr({transaction:t,entry:e,event:"domainLookup",timeOrigin:r,description:"DNS"}),T3(t,e,r)}o(E3,"addNavigationSpans");function w3(t,e,r,n,i){var s=i+r,a=s+n;return Sr(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:s}),s}o(w3,"addMeasureSpans");function iO(t,e,r,n,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var c=s+n,u=c+i;return Sr(t,{description:r,endTimestamp:u,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:c,data:a}),u}}o(iO,"addResourceSpans");ds.addResourceSpans=iO;function xr(t){var e=t.transaction,r=t.entry,n=t.event,i=t.timeOrigin,s=t.eventEnd,a=t.description,c=s?r[s]:r[n+"End"],u=r[n+"Start"];!u||!c||Sr(e,{op:"browser",description:a!=null?a:n,startTimestamp:i+ae.msToSec(u),endTimestamp:i+ae.msToSec(c)})}o(xr,"addPerformanceNavigationTiming");function T3(t,e,r){Sr(t,{op:"browser",description:"request",startTimestamp:r+ae.msToSec(e.requestStart),endTimestamp:r+ae.msToSec(e.responseEnd)}),Sr(t,{op:"browser",description:"response",startTimestamp:r+ae.msToSec(e.responseStart),endTimestamp:r+ae.msToSec(e.responseEnd)})}o(T3,"addRequest");function Sr(t,e){var r=e.startTimestamp,n=nO.__rest(e,["startTimestamp"]);return r&&t.startTimestamp>r&&(t.startTimestamp=r),t.startChild(nO.__assign({startTimestamp:r},n))}o(Sr,"_startChild");ds._startChild=Sr;function Lo(t){return typeof t=="number"&&isFinite(t)}o(Lo,"isMeasurementValue")});var mf=m(Ht=>{Object.defineProperty(Ht,"__esModule",{value:!0});var Lt=C(),fs=q(),O3=_r(),Ho=br();Ht.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];Ht.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:Ht.DEFAULT_TRACING_ORIGINS};function k3(t){var e=Lt.__assign(Lt.__assign({},Ht.defaultRequestInstrumentationOptions),t),r=e.traceFetch,n=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,a={},c=o(function(l){if(a[l])return a[l];var d=i;return a[l]=d.some(function(f){return fs.isMatchingPattern(l,f)})&&!fs.isMatchingPattern(l,"sentry_key"),a[l]},"defaultShouldCreateSpan"),u=c;typeof s=="function"&&(u=o(function(l){return c(l)&&s(l)},"shouldCreateSpan"));var p={};r&&fs.addInstrumentationHandler({callback:function(l){aO(l,u,p)},type:"fetch"}),n&&fs.addInstrumentationHandler({callback:function(l){oO(l,u,p)},type:"xhr"})}o(k3,"instrumentOutgoingRequests");Ht.instrumentOutgoingRequests=k3;function aO(t,e,r){if(!(!Ho.hasTracingEnabled()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp&&t.fetchData.__span){var n=r[t.fetchData.__span];n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus(O3.SpanStatus.InternalError),n.finish(),delete r[t.fetchData.__span]);return}var i=Ho.getActiveTransaction();if(i){var n=i.startChild({data:Lt.__assign(Lt.__assign({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=n.spanId,r[n.spanId]=n;var s=t.args[0]=t.args[0],a=t.args[1]=t.args[1]||{},c=a.headers;fs.isInstanceOf(s,Request)&&(c=s.headers),c?typeof c.append=="function"?c.append("sentry-trace",n.toTraceparent()):Array.isArray(c)?c=Lt.__spread(c,[["sentry-trace",n.toTraceparent()]]):c=Lt.__assign(Lt.__assign({},c),{"sentry-trace":n.toTraceparent()}):c={"sentry-trace":n.toTraceparent()},a.headers=c}}}o(aO,"fetchCallback");Ht.fetchCallback=aO;function oO(t,e,r){var n,i;if(!(!Ho.hasTracingEnabled()||((n=t.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=t.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&e(t.xhr.__sentry_xhr__.url)))){var s=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){var a=r[t.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(s.status_code),a.finish(),delete r[t.xhr.__sentry_xhr_span_id__]);return}var c=Ho.getActiveTransaction();if(c){var a=c.startChild({data:Lt.__assign(Lt.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,r[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(p){}}}}o(oO,"xhrCallback");Ht.xhrCallback=oO});var cO=m(hf=>{Object.defineProperty(hf,"__esModule",{value:!0});var Uo=q(),ms=Uo.getGlobalObject();function q3(t,e,r){if(e===void 0&&(e=!0),r===void 0&&(r=!0),!ms||!ms.location){Uo.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var n=ms.location.href,i;e&&(i=t({name:ms.location.pathname,op:"pageload"})),r&&Uo.addInstrumentationHandler({callback:function(s){var a=s.to,c=s.from;if(c===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}c!==a&&(n=void 0,i&&(Uo.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:ms.location.pathname,op:"navigation"}))},type:"history"})}o(q3,"instrumentRoutingWithDefaults");hf.instrumentRoutingWithDefaults=q3});var dO=m(Xr=>{Object.defineProperty(Xr,"__esModule",{value:!0});var Ut=C(),Xn=q(),C3=jo(),I3=Ro(),P3=_r(),uO=br(),R3=YT(),A3=sO(),$o=mf(),j3=cO();Xr.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var N3=Ut.__assign({idleTimeout:I3.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:Xr.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:j3.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},$o.defaultRequestInstrumentationOptions),M3=function(){function t(e){this.name=t.id,this._metrics=new A3.MetricsInstrumentation,this._emitOptionsWarning=!1;var r=$o.defaultRequestInstrumentationOptions.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?r=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Ut.__assign(Ut.__assign(Ut.__assign({},N3),e),{tracingOrigins:r})}return o(t,"BrowserTracing"),t.prototype.setupOnce=function(e,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(Xn.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Xn.logger.warn("[Tracing] We added a reasonable default for you: "+$o.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,a=i.startTransactionOnLocationChange,c=i.startTransactionOnPageLoad,u=i.markBackgroundTransactions,p=i.traceFetch,l=i.traceXHR,d=i.tracingOrigins,f=i.shouldCreateSpanForRequest;s(function(h){return n._createRouteTransaction(h)},c,a),u&&R3.registerBackgroundTabDetection(),$o.instrumentOutgoingRequests({traceFetch:p,traceXHR:l,tracingOrigins:d,shouldCreateSpanForRequest:f})},t.prototype._createRouteTransaction=function(e){var r=this;if(!this._getCurrentHub){Xn.logger.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,s=n.idleTimeout,a=n.maxTransactionDuration,c=e.op==="pageload"?pO():void 0,u=Ut.__assign(Ut.__assign(Ut.__assign({},e),c),{trimEnd:!0}),p=typeof i=="function"?i(u):u,l=p===void 0?Ut.__assign(Ut.__assign({},u),{sampled:!1}):p;l.sampled===!1&&Xn.logger.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),Xn.logger.log("[Tracing] Starting "+l.op+" transaction on scope");var d=this._getCurrentHub(),f=Xn.getGlobalObject().location,h=C3.startIdleTransaction(d,l,s,!0,{location:f});return h.registerBeforeFinishCallback(function(v,g){r._metrics.addPerformanceEntries(v),B3(uO.secToMs(a),v,g)}),h},t.id="BrowserTracing",t}();Xr.BrowserTracing=M3;function pO(){var t=lO("sentry-trace");if(t)return uO.extractTraceparentData(t)}o(pO,"getHeaderContext");Xr.getHeaderContext=pO;function lO(t){var e=document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}o(lO,"getMetaContent");Xr.getMetaContent=lO;function B3(t,e,r){var n=r-e.startTimestamp,i=r&&(n>t||n<0);i&&(e.setStatus(P3.SpanStatus.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}o(B3,"adjustTransactionDuration")});var vf=m(hs=>{Object.defineProperty(hs,"__esModule",{value:!0});var D3=dO();hs.BrowserTracing=D3.BrowserTracing;var fO=mf();hs.instrumentOutgoingRequests=fO.instrumentOutgoingRequests;hs.defaultRequestInstrumentationOptions=fO.defaultRequestInstrumentationOptions});var hO=m(yf=>{Object.defineProperty(yf,"__esModule",{value:!0});var gf=C(),K3=q(),F3=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return o(t,"Express"),t.prototype.setupOnce=function(){if(!this._router){K3.logger.error("ExpressIntegration is missing an Express instance");return}U3(this._router,this._methods)},t.id="Express",t}();yf.Express=F3;function mO(t,e){var r=t.length;switch(r){case 2:return function(n,i){var s=i.__sentry_transaction;if(s){var a=s.startChild({description:t.name,op:"middleware."+e});i.once("finish",function(){a.finish()})}return t.call(this,n,i)};case 3:return function(n,i,s){var a,c=i.__sentry_transaction,u=(a=c)===null||a===void 0?void 0:a.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];var d;(d=u)===null||d===void 0||d.finish(),s.call.apply(s,gf.__spread([this],p))})};case 4:return function(n,i,s,a){var c,u=s.__sentry_transaction,p=(c=u)===null||c===void 0?void 0:c.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,s,function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f;(f=p)===null||f===void 0||f.finish(),a.call.apply(a,gf.__spread([this],l))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}o(mO,"wrap");function L3(t,e){return t.map(function(r){return typeof r=="function"?mO(r,e):Array.isArray(r)?r.map(function(n){return typeof n=="function"?mO(n,e):n}):r})}o(L3,"wrapMiddlewareArgs");function H3(t,e){var r=t[e];return t[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,gf.__spread([this],L3(n,e)))},t}o(H3,"patchMiddleware");function U3(t,e){e===void 0&&(e=[]),e.forEach(function(r){return H3(t,r)})}o(U3,"instrumentMiddlewares")});var vO=m(_f=>{Object.defineProperty(_f,"__esModule",{value:!0});var Jo=q(),$3=function(){function t(){this.name=t.id}return o(t,"Postgres"),t.prototype.setupOnce=function(e,r){var n=Jo.loadModule("pg");if(!n){Jo.logger.error("Postgres Integration was unable to require `pg` package.");return}Jo.fill(n.Client.prototype,"query",function(i){return function(s,a,c){var u,p,l,d=r().getScope(),f=(u=d)===null||u===void 0?void 0:u.getSpan(),h=(p=f)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof c=="function")return i.call(this,s,a,function(g,y){var _;(_=h)===null||_===void 0||_.finish(),c(g,y)});if(typeof a=="function")return i.call(this,s,function(g,y){var _;(_=h)===null||_===void 0||_.finish(),a(g,y)});var v=typeof a!="undefined"?i.call(this,s,a):i.call(this,s);return Jo.isThenable(v)?v.then(function(g){var y;return(y=h)===null||y===void 0||y.finish(),g}):((l=h)===null||l===void 0||l.finish(),v)}})},t.id="Postgres",t}();_f.Postgres=$3});var gO=m(xf=>{Object.defineProperty(xf,"__esModule",{value:!0});var bf=q(),J3=function(){function t(){this.name=t.id}return o(t,"Mysql"),t.prototype.setupOnce=function(e,r){var n=bf.loadModule("mysql/lib/Connection.js");if(!n){bf.logger.error("Mysql Integration was unable to require `mysql` package.");return}bf.fill(n,"createQuery",function(i){return function(s,a,c){var u,p,l=r().getScope(),d=(u=l)===null||u===void 0?void 0:u.getSpan(),f=(p=d)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof c=="function"?i.call(this,s,a,function(h,v,g){var y;(y=f)===null||y===void 0||y.finish(),c(h,v,g)}):typeof a=="function"?i.call(this,s,function(h,v,g){var y;(y=f)===null||y===void 0||y.finish(),a(h,v,g)}):i.call(this,s,a,c)}})},t.id="Mysql",t}();xf.Mysql=J3});var yO=m(Ef=>{Object.defineProperty(Ef,"__esModule",{value:!0});var Sf=C(),Wo=q(),W3=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],z3={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},G3=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:W3,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}return o(t,"Mongo"),t.prototype.setupOnce=function(e,r){var n=this._useMongoose?"mongoose":"mongodb",i=Wo.loadModule(n);if(!i){Wo.logger.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},t.prototype._instrumentOperations=function(e,r,n){var i=this;r.forEach(function(s){return i._patchOperation(e,s,n)})},t.prototype._patchOperation=function(e,r,n){if(r in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);Wo.fill(e.prototype,r,function(s){return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var u,p,l,d,f=a[a.length-1],h=n().getScope(),v=(u=h)===null||u===void 0?void 0:u.getSpan();if(typeof f!="function"||r==="mapReduce"&&a.length===2){var g=(p=v)===null||p===void 0?void 0:p.startChild(i(this,r,a)),y=s.call.apply(s,Sf.__spread([this],a));return Wo.isThenable(y)?y.then(function(x){var S;return(S=g)===null||S===void 0||S.finish(),x}):((l=g)===null||l===void 0||l.finish(),y)}var _=(d=v)===null||d===void 0?void 0:d.startChild(i(this,r,a.slice(0,-1)));return s.call.apply(s,Sf.__spread([this],a.slice(0,-1),[function(x,S){var E;(E=_)===null||E===void 0||E.finish(),f(x,S)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,r,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:r,data:i},a=z3[r],c=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!c)return s;try{if(r==="mapReduce"){var u=Sf.__read(n,2),p=u[0],l=u[1];i[a[0]]=typeof p=="string"?p:p.name||"<anonymous>",i[a[1]]=typeof l=="string"?l:l.name||"<anonymous>"}else for(var d=0;d<a.length;d++)i[a[d]]=JSON.stringify(n[d])}catch(f){}return s},t.id="Mongo",t}();Ef.Mongo=G3});var _O=m(Zn=>{Object.defineProperty(Zn,"__esModule",{value:!0});var Y3=hO();Zn.Express=Y3.Express;var V3=vO();Zn.Postgres=V3.Postgres;var X3=gO();Zn.Mysql=X3.Mysql;var Z3=yO();Zn.Mongo=Z3.Mongo});var EO=m(he=>{Object.defineProperty(he,"__esModule",{value:!0});var bO=C(),Q3=vf(),xO=jo();he.addExtensionMethods=xO.addExtensionMethods;var eH=_O(),tH=bO.__assign(bO.__assign({},eH),{BrowserTracing:Q3.BrowserTracing});he.Integrations=tH;var rH=Io();he.Span=rH.Span;var nH=Po();he.Transaction=nH.Transaction;var SO=vf();he.registerRequestInstrumentation=SO.instrumentOutgoingRequests;he.defaultRequestInstrumentationOptions=SO.defaultRequestInstrumentationOptions;var iH=_r();he.SpanStatus=iH.SpanStatus;var sH=Ro();he.IdleTransaction=sH.IdleTransaction;var aH=jo();he.startIdleTransaction=aH.startIdleTransaction;xO.addExtensionMethods();var vs=br();he.extractTraceparentData=vs.extractTraceparentData;he.getActiveTransaction=vs.getActiveTransaction;he.hasTracingEnabled=vs.hasTracingEnabled;he.stripUrlQueryAndFragment=vs.stripUrlQueryAndFragment;he.TRACEPARENT_REGEXP=vs.TRACEPARENT_REGEXP});var wO=m(wf=>{"use strict";wf.parse=pH;wf.serialize=lH;var oH=decodeURIComponent,cH=encodeURIComponent,uH=/; */,zo=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function pH(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},i=t.split(uH),s=n.decode||oH,a=0;a<i.length;a++){var c=i[a],u=c.indexOf("=");if(!(u<0)){var p=c.substr(0,u).trim(),l=c.substr(++u,c.length).trim();l[0]=='"'&&(l=l.slice(1,-1)),r[p]==null&&(r[p]=dH(l,s))}}return r}o(pH,"parse");function lH(t,e,r){var n=r||{},i=n.encode||cH;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!zo.test(t))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!zo.test(s))throw new TypeError("argument val is invalid");var a=t+"="+s;if(n.maxAge!=null){var c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(c)}if(n.domain){if(!zo.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!zo.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var u=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(u){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}o(lH,"serialize");function dH(t,e){try{return e(t)}catch(r){return t}}o(dH,"tryDecode")});var kO=m(Qr=>{Object.defineProperty(Qr,"__esModule",{value:!0});var Tt=C(),Zr=pe(),fH=EO(),TO=xe(),Qn=q(),mH=wO(),hH=require("domain"),vH=require("os"),gH=require("url"),gs=Jd();function yH(){return o(function(e,r,n){var i;e.headers&&Qn.isString(e.headers["sentry-trace"])&&(i=fH.extractTraceparentData(e.headers["sentry-trace"]));var s=Zr.startTransaction(Tt.__assign({name:Go(e,{path:!0,method:!0}),op:"http.server"},i),{request:Yo(e)});Zr.getCurrentHub().configureScope(function(a){a.setSpan(s)}),r.__sentry_transaction=s,r.once("finish",function(){setImmediate(function(){_H(s,e),s.setHttpStatus(r.statusCode),s.finish()})}),n()},"sentryTracingMiddleware")}o(yH,"tracingHandler");Qr.tracingHandler=yH;function _H(t,e){!t||(t.name=Go(e,{path:!0,method:!0}),t.setData("url",e.originalUrl),t.setData("baseUrl",e.baseUrl),t.setData("query",e.query))}o(_H,"addExpressReqToTransaction");function Go(t,e){e===void 0&&(e={});var r,n=(r=t.method)===null||r===void 0?void 0:r.toUpperCase(),i="";t.route?i=""+(t.baseUrl||"")+t.route.path:(t.originalUrl||t.url)&&(i=Qn.stripUrlQueryAndFragment(t.originalUrl||t.url||""));var s="";return e.method&&n&&(s+=n),e.method&&e.path&&(s+=" "),e.path&&i&&(s+=i),s}o(Go,"extractExpressTransactionName");function bH(t,e){var r;switch(e){case"path":return Go(t,{path:!0});case"handler":return((r=t.route)===null||r===void 0?void 0:r.stack[0].name)||"<anonymous>";case"methodPath":default:return Go(t,{path:!0,method:!0})}}o(bH,"extractTransaction");var xH=["id","username","email"];function SH(t,e){var r={},n=Array.isArray(e)?e:xH;return n.forEach(function(i){t&&i in t&&(r[i]=t[i])}),r}o(SH,"extractUserData");var EH=["cookies","data","headers","method","query_string","url"];function Yo(t,e){e===void 0&&(e=EH);var r={},n=t.headers||t.header||{},i=t.method,s=t.hostname||t.host||n.host||"<no host>",a=t.protocol==="https"||t.secure||(t.socket||{}).encrypted?"https":"http",c=t.originalUrl||t.url||"",u=a+"://"+s+c;return e.forEach(function(p){switch(p){case"headers":r.headers=n;break;case"method":r.method=i;break;case"url":r.url=u;break;case"cookies":r.cookies=t.cookies||mH.parse(n.cookie||"");break;case"query_string":r.query_string=t.query||gH.parse(c||"",!1).query;break;case"data":if(i==="GET"||i==="HEAD")break;t.body!==void 0&&(r.data=Qn.isString(t.body)?t.body:JSON.stringify(Qn.normalize(t.body)));break;default:({}).hasOwnProperty.call(t,p)&&(r[p]=t[p])}}),r}o(Yo,"extractRequestData");Qr.extractRequestData=Yo;function OO(t,e,r){if(r=Tt.__assign({ip:!1,request:!0,serverName:!0,transaction:!0,user:!0,version:!0},r),r.version&&(t.contexts=Tt.__assign(Tt.__assign({},t.contexts),{runtime:{name:"node",version:global.process.version}})),r.request){var n=Array.isArray(r.request)?Yo(e,r.request):Yo(e);t.request=Tt.__assign(Tt.__assign({},t.request),n)}if(r.serverName&&!t.server_name&&(t.server_name=global.process.env.SENTRY_NAME||vH.hostname()),r.user){var i=e.user&&Qn.isPlainObject(e.user)?SH(e.user,r.user):{};Object.keys(i)&&(t.user=Tt.__assign(Tt.__assign({},t.user),i))}if(r.ip){var s=e.ip||e.connection&&e.connection.remoteAddress;s&&(t.user=Tt.__assign(Tt.__assign({},t.user),{ip_address:s}))}return r.transaction&&!t.transaction&&(t.transaction=bH(e,r.transaction)),t}o(OO,"parseRequest");Qr.parseRequest=OO;function wH(t){var e=Zr.getCurrentHub(),r=e.getClient();if(r&&gs.isAutoSessionTrackingEnabled(r)){r.initSessionFlusher();var n=e.getScope();n&&n.getSession()&&n.setSession()}return o(function(s,a,c){if(t&&t.flushTimeout&&t.flushTimeout>0){var u=a.end;a.end=function(l,d,f){var h=this;gs.flush(t.flushTimeout).then(function(){u.call(h,l,d,f)}).then(null,function(v){Qn.logger.error(v)})}}var p=hH.create();p.add(s),p.add(a),p.on("error",c),p.run(function(){var l=Zr.getCurrentHub();l.configureScope(function(d){d.addEventProcessor(function(v){return OO(v,s,t)});var f=l.getClient();if(gs.isAutoSessionTrackingEnabled(f)){var h=l.getScope();h&&h.setRequestSession({status:TO.RequestSessionStatus.Ok})}}),a.once("finish",function(){var d=l.getClient();gs.isAutoSessionTrackingEnabled(d)&&setImmediate(function(){d&&d._captureRequestSession()})}),c()})},"sentryRequestMiddleware")}o(wH,"requestHandler");Qr.requestHandler=wH;function TH(t){var e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}o(TH,"getStatusCodeFromResponse");function OH(t){var e=TH(t);return e>=500}o(OH,"defaultShouldHandleError");function kH(t){return o(function(r,n,i,s){var a=t&&t.shouldHandleError||OH;if(a(r)){Zr.withScope(function(c){var u=i.__sentry_transaction;u&&c.getSpan()===void 0&&c.setSpan(u);var p=Zr.getCurrentHub().getClient();if(p&&gs.isAutoSessionTrackingEnabled(p)){var l=p._sessionFlusher!==void 0;if(l){var d=c.getRequestSession();d&&d.status!==void 0&&(d.status=TO.RequestSessionStatus.Crashed)}}var f=Zr.captureException(r);i.sentry=f,s(r)});return}s(r)},"sentryErrorMiddleware")}o(kH,"errorHandler");Qr.errorHandler=kH});var Xe=m(I=>{Object.defineProperty(I,"__esModule",{value:!0});var qO=C(),CO=xe();I.Severity=CO.Severity;I.Status=CO.Status;var X=pe();I.addGlobalEventProcessor=X.addGlobalEventProcessor;I.addBreadcrumb=X.addBreadcrumb;I.captureException=X.captureException;I.captureEvent=X.captureEvent;I.captureMessage=X.captureMessage;I.configureScope=X.configureScope;I.getHubFromCarrier=X.getHubFromCarrier;I.getCurrentHub=X.getCurrentHub;I.Hub=X.Hub;I.makeMain=X.makeMain;I.Scope=X.Scope;I.startTransaction=X.startTransaction;I.SDK_VERSION=X.SDK_VERSION;I.setContext=X.setContext;I.setExtra=X.setExtra;I.setExtras=X.setExtras;I.setTag=X.setTag;I.setTags=X.setTags;I.setUser=X.setUser;I.withScope=X.withScope;var qH=kd();I.NodeBackend=qH.NodeBackend;var CH=Id();I.NodeClient=CH.NodeClient;var ei=Jd();I.defaultIntegrations=ei.defaultIntegrations;I.init=ei.init;I.lastEventId=ei.lastEventId;I.flush=ei.flush;I.close=ei.close;I.getSentryRelease=ei.getSentryRelease;var IH=jT();I.deepReadDirSync=IH.deepReadDirSync;var PH=ud();I.SDK_NAME=PH.SDK_NAME;var RH=pe(),AH=Me(),jH=require("domain"),NH=kO();I.Handlers=NH;var MH=$d(),BH=Td();I.Transports=BH;var DH=qO.__assign(qO.__assign({},RH.Integrations),MH);I.Integrations=DH;var ys=AH.getMainCarrier();ys.__SENTRY__&&(ys.__SENTRY__.extensions=ys.__SENTRY__.extensions||{},ys.__SENTRY__.extensions.domain=ys.__SENTRY__.extensions.domain||jH)});var IO=m(Tf=>{Object.defineProperty(Tf,"__esModule",{value:!0});function KH(t){t.then(null,function(e){console.error(e)})}o(KH,"forget");Tf.forget=KH});var en=m(we=>{Object.defineProperty(we,"__esModule",{value:!0});function FH(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return Vo(t,Error)}}o(FH,"isError");we.isError=FH;function LH(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}o(LH,"isErrorEvent");we.isErrorEvent=LH;function HH(t){return Object.prototype.toString.call(t)==="[object DOMError]"}o(HH,"isDOMError");we.isDOMError=HH;function UH(t){return Object.prototype.toString.call(t)==="[object DOMException]"}o(UH,"isDOMException");we.isDOMException=UH;function $H(t){return Object.prototype.toString.call(t)==="[object String]"}o($H,"isString");we.isString=$H;function JH(t){return t===null||typeof t!="object"&&typeof t!="function"}o(JH,"isPrimitive");we.isPrimitive=JH;function PO(t){return Object.prototype.toString.call(t)==="[object Object]"}o(PO,"isPlainObject");we.isPlainObject=PO;function WH(t){return typeof Event!="undefined"&&Vo(t,Event)}o(WH,"isEvent");we.isEvent=WH;function zH(t){return typeof Element!="undefined"&&Vo(t,Element)}o(zH,"isElement");we.isElement=zH;function GH(t){return Object.prototype.toString.call(t)==="[object RegExp]"}o(GH,"isRegExp");we.isRegExp=GH;function YH(t){return Boolean(t&&t.then&&typeof t.then=="function")}o(YH,"isThenable");we.isThenable=YH;function VH(t){return PO(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(VH,"isSyntheticEvent");we.isSyntheticEvent=VH;function Vo(t,e){try{return t instanceof e}catch(r){return!1}}o(Vo,"isInstanceOf");we.isInstanceOf=Vo});var kf=m(Of=>{Object.defineProperty(Of,"__esModule",{value:!0});var XH=en();function ZH(t,e){try{for(var r=t,n=5,i=80,s=[],a=0,c=0,u=" > ",p=u.length,l=void 0;r&&a++<n&&(l=QH(r,e),!(l==="html"||a>1&&c+s.length*p+l.length>=i));)s.push(l),c+=l.length,r=r.parentNode;return s.reverse().join(u)}catch(d){return"<unknown>"}}o(ZH,"htmlTreeAsString");Of.htmlTreeAsString=ZH;function QH(t,e){var r,n,i=t,s=[],a,c,u,p,l;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var d=((r=e)===null||r===void 0?void 0:r.length)?e.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((n=d)===null||n===void 0?void 0:n.length)d.forEach(function(h){s.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&s.push("#"+i.id),a=i.className,a&&XH.isString(a))for(c=a.split(/\s+/),l=0;l<c.length;l++)s.push("."+c[l]);var f=["type","name","title","alt"];for(l=0;l<f.length;l++)u=f[l],p=i.getAttribute(u),p&&s.push("["+u+'="'+p+'"]');return s.join("")}o(QH,"_htmlElementAsString")});var RO=m(qf=>{Object.defineProperty(qf,"__esModule",{value:!0});qf.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?eU:tU);function eU(t,e){return t.__proto__=e,t}o(eU,"setProtoOf");function tU(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}o(tU,"mixinProperties")});var Xo=m(Cf=>{Object.defineProperty(Cf,"__esModule",{value:!0});var rU=z(),nU=RO(),iU=function(t){rU.__extends(e,t);function e(r){var n=this.constructor,i=t.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,nU.setPrototypeOf(i,n.prototype),i}return o(e,"SentryError"),e}(Error);Cf.SentryError=iU});var AO=m(If=>{Object.defineProperty(If,"__esModule",{value:!0});var sU=z(),_s=Xo(),aU=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,bs="Invalid Dsn",oU=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return o(t,"Dsn"),t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this,n=r.host,i=r.path,s=r.pass,a=r.port,c=r.projectId,u=r.protocol,p=r.publicKey;return u+"://"+p+(e&&s?":"+s:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+c)},t.prototype._fromString=function(e){var r=aU.exec(e);if(!r)throw new _s.SentryError(bs);var n=sU.__read(r.slice(1),6),i=n[0],s=n[1],a=n[2],c=a===void 0?"":a,u=n[3],p=n[4],l=p===void 0?"":p,d=n[5],f="",h=d,v=h.split("/");if(v.length>1&&(f=v.slice(0,-1).join("/"),h=v.pop()),h){var g=h.match(/^\d+/);g&&(h=g[0])}this._fromComponents({host:u,pass:c,path:f,projectId:h,port:l,protocol:i,publicKey:s})},t.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!e[r])throw new _s.SentryError(bs+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new _s.SentryError(bs+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new _s.SentryError(bs+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new _s.SentryError(bs+": Invalid port "+this.port)},t}();If.Dsn=oU});var ec=m((xs,Qo)=>{Object.defineProperty(xs,"__esModule",{value:!0});function cU(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}o(cU,"isNodeEnv");xs.isNodeEnv=cU;function Zo(t,e){return t.require(e)}o(Zo,"dynamicRequire");xs.dynamicRequire=Zo;function uU(t){var e;try{e=Zo(Qo,t)}catch(n){}try{var r=Zo(Qo,"process").cwd;e=Zo(Qo,r()+"/node_modules/"+t)}catch(n){}return e}o(uU,"loadModule");xs.loadModule=uU});var tc=m(ti=>{Object.defineProperty(ti,"__esModule",{value:!0});var jO=en();function pU(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}o(pU,"truncate");ti.truncate=pU;function lU(t,e){var r=t,n=r.length;if(n<=150)return r;e>n&&(e=n);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r="'{snip} "+r),s<n&&(r+=" {snip}"),r}o(lU,"snipLine");ti.snipLine=lU;function dU(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch(s){r.push("[value cannot be serialized]")}}return r.join(e)}o(dU,"safeJoin");ti.safeJoin=dU;function fU(t,e){return jO.isString(t)?jO.isRegExp(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}o(fU,"isMatchingPattern");ti.isMatchingPattern=fU});var ri=m(Ce=>{Object.defineProperty(Ce,"__esModule",{value:!0});var mU=ec(),Pf=tc(),hU={};function Rf(){return mU.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:hU}o(Rf,"getGlobalObject");Ce.getGlobalObject=Rf;function vU(){var t=Rf(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=o(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,a=i==="x"?s:s&3|8;return a.toString(16)})}o(vU,"uuid4");Ce.uuid4=vU;function gU(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}o(gU,"parseUrl");Ce.parseUrl=gU;function yU(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}o(yU,"getEventDescription");Ce.getEventDescription=yU;function _U(t){var e=Rf(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach(function(a){a in e.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var s=t();return Object.keys(i).forEach(function(a){n[a]=i[a]}),s}o(_U,"consoleSandbox");Ce.consoleSandbox=_U;function bU(t,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||r||"Error"}o(bU,"addExceptionTypeValue");Ce.addExceptionTypeValue=bU;function xU(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(r){t.exception.values[0].mechanism[r]=e[r]})}catch(r){}}o(xU,"addExceptionMechanism");Ce.addExceptionMechanism=xU;function SU(){try{return document.location.href}catch(t){return""}}o(SU,"getLocationHref");Ce.getLocationHref=SU;var EU=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function wU(t){var e=t.match(EU)||[],r=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:e[4]}}o(wU,"parseSemver");Ce.parseSemver=wU;var NO=60*1e3;function TU(t,e){if(!e)return NO;var r=parseInt(""+e,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+e);return isNaN(n)?NO:n-t}o(TU,"parseRetryAfterHeader");Ce.parseRetryAfterHeader=TU;function OU(t,e,r){r===void 0&&(r=5);var n=e.lineno||0,i=t.length,s=Math.max(Math.min(i,n-1),0);e.pre_context=t.slice(Math.max(0,s-r),s).map(function(a){return Pf.snipLine(a,0)}),e.context_line=Pf.snipLine(t[Math.min(i-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,i),s+1+r).map(function(a){return Pf.snipLine(a,0)})}o(OU,"addContextToFrame");Ce.addContextToFrame=OU;function kU(t){return t.split(/[\?#]/,1)[0]}o(kU,"stripUrlQueryAndFragment");Ce.stripUrlQueryAndFragment=kU});var nc=m(jf=>{Object.defineProperty(jf,"__esModule",{value:!0});var rc=ri(),tn=rc.getGlobalObject(),Af="Sentry Logger ",qU=function(){function t(){this._enabled=!1}return o(t,"Logger"),t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||rc.consoleSandbox(function(){tn.console.log(Af+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||rc.consoleSandbox(function(){tn.console.warn(Af+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||rc.consoleSandbox(function(){tn.console.error(Af+"[Error]: "+e.join(" "))})},t}();tn.__SENTRY__=tn.__SENTRY__||{};var CU=tn.__SENTRY__.logger||(tn.__SENTRY__.logger=new qU);jf.logger=CU});var Mf=m(Nf=>{Object.defineProperty(Nf,"__esModule",{value:!0});var IU=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return o(t,"Memo"),t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===e){this._inner.splice(r,1);break}},t}();Nf.Memo=IU});var ic=m(Df=>{Object.defineProperty(Df,"__esModule",{value:!0});var Bf="<anonymous>";function PU(t){try{return!t||typeof t!="function"?Bf:t.name||Bf}catch(e){return Bf}}o(PU,"getFunctionName");Df.getFunctionName=PU});var Lf=m(Jt=>{Object.defineProperty(Jt,"__esModule",{value:!0});var RU=z(),MO=kf(),$t=en(),AU=Mf(),jU=ic(),BO=tc();function NU(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(s){}t[e]=i}}o(NU,"fill");Jt.fill=NU;function MU(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}o(MU,"urlEncode");Jt.urlEncode=MU;function DO(t){if($t.isError(t)){var e=t,r={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}if($t.isEvent(t)){var i=t,s={};s.type=i.type;try{s.target=$t.isElement(i.target)?MO.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(a){s.target="<unknown>"}try{s.currentTarget=$t.isElement(i.currentTarget)?MO.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(a){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&$t.isInstanceOf(t,CustomEvent)&&(s.detail=i.detail);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i);return s}return t}o(DO,"getWalkSource");function BU(t){return~-encodeURI(t).split(/%..|./).length}o(BU,"utf8Length");function DU(t){return BU(JSON.stringify(t))}o(DU,"jsonSize");function KO(t,e,r){e===void 0&&(e=3),r===void 0&&(r=100*1024);var n=LO(t,e);return DU(n)>r?KO(t,e-1,r):n}o(KO,"normalizeToSize");Jt.normalizeToSize=KO;function KU(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var r=FO(t);return $t.isPrimitive(r)?r:e}o(KU,"serializeValue");function FO(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":$t.isSyntheticEvent(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+jU.getFunctionName(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}o(FO,"normalizeValue");function Kf(t,e,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new AU.Memo),r===0)return KU(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var i=FO(e,t);if($t.isPrimitive(i))return i;var s=DO(e),a=Array.isArray(e)?[]:{};if(n.memoize(e))return"[Circular ~]";for(var c in s)!Object.prototype.hasOwnProperty.call(s,c)||(a[c]=Kf(c,s[c],r-1,n));return n.unmemoize(e),a}o(Kf,"walk");Jt.walk=Kf;function LO(t,e){try{return JSON.parse(JSON.stringify(t,function(r,n){return Kf(r,n,e)}))}catch(r){return"**non-serializable**"}}o(LO,"normalize");Jt.normalize=LO;function FU(t,e){e===void 0&&(e=40);var r=Object.keys(DO(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return BO.truncate(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:BO.truncate(i,e)}return""}o(FU,"extractExceptionKeysForMessage");Jt.extractExceptionKeysForMessage=FU;function Ff(t){var e,r;if($t.isPlainObject(t)){var n=t,i={};try{for(var s=RU.__values(Object.keys(n)),a=s.next();!a.done;a=s.next()){var c=a.value;typeof n[c]!="undefined"&&(i[c]=Ff(n[c]))}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(Ff):t}o(Ff,"dropUndefinedKeys");Jt.dropUndefinedKeys=Ff});var $f=m(pt=>{Object.defineProperty(pt,"__esModule",{value:!0});var LU=nc(),sc=ri();function HU(){try{return new ErrorEvent(""),!0}catch(t){return!1}}o(HU,"supportsErrorEvent");pt.supportsErrorEvent=HU;function UU(){try{return new DOMError(""),!0}catch(t){return!1}}o(UU,"supportsDOMError");pt.supportsDOMError=UU;function $U(){try{return new DOMException(""),!0}catch(t){return!1}}o($U,"supportsDOMException");pt.supportsDOMException=$U;function Hf(){if(!("fetch"in sc.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}o(Hf,"supportsFetch");pt.supportsFetch=Hf;function Uf(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(Uf,"isNativeFetch");pt.isNativeFetch=Uf;function JU(){if(!Hf())return!1;var t=sc.getGlobalObject();if(Uf(t.fetch))return!0;var e=!1,r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Uf(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){LU.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}o(JU,"supportsNativeFetch");pt.supportsNativeFetch=JU;function WU(){return"ReportingObserver"in sc.getGlobalObject()}o(WU,"supportsReportingObserver");pt.supportsReportingObserver=WU;function zU(){if(!Hf())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}o(zU,"supportsReferrerPolicy");pt.supportsReferrerPolicy=zU;function GU(){var t=sc.getGlobalObject(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}o(GU,"supportsHistory");pt.supportsHistory=GU});var WO=m(zf=>{Object.defineProperty(zf,"__esModule",{value:!0});var ni=z(),ac=en(),HO=nc(),YU=ri(),Wt=Lf(),VU=ic(),UO=$f(),L=YU.getGlobalObject(),Ss={},$O={};function XU(t){if(!$O[t])switch($O[t]=!0,t){case"console":QU();break;case"dom":c6();break;case"xhr":n6();break;case"fetch":e6();break;case"history":i6();break;case"error":u6();break;case"unhandledrejection":p6();break;default:HO.logger.warn("unknown instrumentation type:",t)}}o(XU,"instrument");function ZU(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(Ss[t.type]=Ss[t.type]||[],Ss[t.type].push(t.callback),XU(t.type))}o(ZU,"addInstrumentationHandler");zf.addInstrumentationHandler=ZU;function lt(t,e){var r,n;if(!(!t||!Ss[t]))try{for(var i=ni.__values(Ss[t]||[]),s=i.next();!s.done;s=i.next()){var a=s.value;try{a(e)}catch(c){HO.logger.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+VU.getFunctionName(a)+`
Error: `+c)}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}o(lt,"triggerHandlers");function QU(){"console"in L&&["debug","info","warn","error","log","assert"].forEach(function(t){t in L.console&&Wt.fill(L.console,t,function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];lt("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,L.console,r)}})})}o(QU,"instrumentConsole");function e6(){!UO.supportsNativeFetch()||Wt.fill(L,"fetch",function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:t6(e),url:r6(e)},startTimestamp:Date.now()};return lt("fetch",ni.__assign({},n)),t.apply(L,e).then(function(i){return lt("fetch",ni.__assign(ni.__assign({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw lt("fetch",ni.__assign(ni.__assign({},n),{endTimestamp:Date.now(),error:i})),i})}})}o(e6,"instrumentFetch");function t6(t){return t===void 0&&(t=[]),"Request"in L&&ac.isInstanceOf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}o(t6,"getFetchMethod");function r6(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in L&&ac.isInstanceOf(t[0],Request)?t[0].url:String(t[0])}o(r6,"getFetchUrl");function n6(){if("XMLHttpRequest"in L){var t=[],e=[],r=XMLHttpRequest.prototype;Wt.fill(r,"open",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=this,c=i[1];a.__sentry_xhr__={method:ac.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},ac.isString(c)&&a.__sentry_xhr__.method==="POST"&&c.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var u=o(function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(d){}try{var p=t.indexOf(a);if(p!==-1){t.splice(p);var l=e.splice(p)[0];a.__sentry_xhr__&&l[0]!==void 0&&(a.__sentry_xhr__.body=l[0])}}catch(d){}lt("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}},"onreadystatechangeHandler");return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?Wt.fill(a,"onreadystatechange",function(p){return function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return u(),p.apply(a,l)}}):a.addEventListener("readystatechange",u),n.apply(a,i)}}),Wt.fill(r,"send",function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return t.push(this),e.push(i),lt("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}o(n6,"instrumentXHR");var oc;function i6(){if(!UO.supportsHistory())return;var t=L.onpopstate;L.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=L.location.href,s=oc;if(oc=i,lt("history",{from:s,to:i}),t)try{return t.apply(this,r)}catch(a){}};function e(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var a=oc,c=String(s);oc=c,lt("history",{from:a,to:c})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),Wt.fill(L.history,"pushState",e),Wt.fill(L.history,"replaceState",e)}o(i6,"instrumentHistory");var s6=1e3,cc,uc;function a6(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(r){}return!1}o(a6,"shouldShortcircuitPreviousDebounce");function o6(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(r){}return!0}o(o6,"shouldSkipDOMEvent");function JO(t,e){return e===void 0&&(e=!1),function(r){if(!(!r||uc===r)&&!o6(r)){var n=r.type==="keypress"?"input":r.type;cc===void 0?(t({event:r,name:n,global:e}),uc=r):a6(uc,r)&&(t({event:r,name:n,global:e}),uc=r),clearTimeout(cc),cc=L.setTimeout(function(){cc=void 0},s6)}}}o(JO,"makeDOMEventHandler");function c6(){if("document"in L){var t=lt.bind(null,"dom"),e=JO(t,!0);L.document.addEventListener("click",e,!1),L.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(r){var n=L[r]&&L[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Wt.fill(n,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{var u=this,p=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},l=p[s]=p[s]||{refCount:0};if(!l.handler){var d=JO(t);l.handler=d,i.call(this,s,d,c)}l.refCount+=1}catch(f){}return i.call(this,s,a,c)}}),Wt.fill(n,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{var u=this,p=u.__sentry_instrumentation_handlers__||{},l=p[s];l&&(l.refCount-=1,l.refCount<=0&&(i.call(this,s,l.handler,c),l.handler=void 0,delete p[s]),Object.keys(p).length===0&&delete u.__sentry_instrumentation_handlers__)}catch(d){}return i.call(this,s,a,c)}}))})}}o(c6,"instrumentDOM");var Jf=null;function u6(){Jf=L.onerror,L.onerror=function(t,e,r,n,i){return lt("error",{column:n,error:i,line:r,msg:t,url:e}),Jf?Jf.apply(this,arguments):!1}}o(u6,"instrumentError");var Wf=null;function p6(){Wf=L.onunhandledrejection,L.onunhandledrejection=function(t){return lt("unhandledrejection",t),Wf?Wf.apply(this,arguments):!0}}o(p6,"instrumentUnhandledRejection")});var ZO=m(zt=>{Object.defineProperty(zt,"__esModule",{value:!0});function zO(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];i==="."?t.splice(n,1):i===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}o(zO,"normalizeArray");var l6=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function GO(t){var e=l6.exec(t);return e?e.slice(1):[]}o(GO,"splitPath");function Gf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r="",n=!1,i=t.length-1;i>=-1&&!n;i--){var s=i>=0?t[i]:"/";!s||(r=s+"/"+r,n=s.charAt(0)==="/")}return r=zO(r.split("/").filter(function(a){return!!a}),!n).join("/"),(n?"/":"")+r||"."}o(Gf,"resolve");zt.resolve=Gf;function YO(t){for(var e=0;e<t.length&&t[e]==="";e++);for(var r=t.length-1;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}o(YO,"trim");function d6(t,e){t=Gf(t).substr(1),e=Gf(e).substr(1);for(var r=YO(t.split("/")),n=YO(e.split("/")),i=Math.min(r.length,n.length),s=i,a=0;a<i;a++)if(r[a]!==n[a]){s=a;break}for(var c=[],a=s;a<r.length;a++)c.push("..");return c=c.concat(n.slice(s)),c.join("/")}o(d6,"relative");zt.relative=d6;function VO(t){var e=XO(t),r=t.substr(-1)==="/",n=zO(t.split("/").filter(function(i){return!!i}),!e).join("/");return!n&&!e&&(n="."),n&&r&&(n+="/"),(e?"/":"")+n}o(VO,"normalizePath");zt.normalizePath=VO;function XO(t){return t.charAt(0)==="/"}o(XO,"isAbsolute");zt.isAbsolute=XO;function f6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return VO(t.join("/"))}o(f6,"join");zt.join=f6;function m6(t){var e=GO(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}o(m6,"dirname");zt.dirname=m6;function h6(t,e){var r=GO(t)[2];return e&&r.substr(e.length*-1)===e&&(r=r.substr(0,r.length-e.length)),r}o(h6,"basename");zt.basename=h6});var Vf=m(Yf=>{Object.defineProperty(Yf,"__esModule",{value:!0});var v6=en(),Gt;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(Gt||(Gt={}));var g6=function(){function t(e){var r=this;this._state=Gt.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(Gt.RESOLVED,n)},this._reject=function(n){r._setResult(Gt.REJECTED,n)},this._setResult=function(n,i){if(r._state===Gt.PENDING){if(v6.isThenable(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==Gt.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===Gt.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===Gt.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return o(t,"SyncPromise"),t.resolve=function(e){return new t(function(r){r(e)})},t.reject=function(e){return new t(function(r,n){n(e)})},t.all=function(e){return new t(function(r,n){if(!Array.isArray(e)){n(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){r([]);return}var i=e.length,s=[];e.forEach(function(a,c){t.resolve(a).then(function(u){s[c]=u,i-=1,i===0&&r(s)}).then(null,n)})})},t.prototype.then=function(e,r){var n=this;return new t(function(i,s){n._attachHandler({done:!1,onfulfilled:function(a){if(!e){i(a);return}try{i(e(a));return}catch(c){s(c);return}},onrejected:function(a){if(!r){s(a);return}try{i(r(a));return}catch(c){s(c);return}}})})},t.prototype.catch=function(e){return this.then(function(r){return r},e)},t.prototype.finally=function(e){var r=this;return new t(function(n,i){var s,a;return r.then(function(c){a=!1,s=c,e&&e()},function(c){a=!0,s=c,e&&e()}).then(function(){if(a){i(s);return}n(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}();Yf.SyncPromise=g6});var QO=m(Zf=>{Object.defineProperty(Zf,"__esModule",{value:!0});var y6=Xo(),Xf=Vf(),_6=function(){function t(e){this._limit=e,this._buffer=[]}return o(t,"PromiseBuffer"),t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var r=this;if(!this.isReady())return Xf.SyncPromise.reject(new y6.SentryError("Not adding Promise due to buffer limit reached."));var n=e();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},t.prototype.remove=function(e){var r=this._buffer.splice(this._buffer.indexOf(e),1)[0];return r},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var r=this;return new Xf.SyncPromise(function(n){var i=setTimeout(function(){e&&e>0&&n(!1)},e);Xf.SyncPromise.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}();Zf.PromiseBuffer=_6});var i1=m((Ze,n1)=>{Object.defineProperty(Ze,"__esModule",{value:!0});var e1=ri(),t1=ec(),Qf={nowSeconds:function(){return Date.now()/1e3}};function b6(){var t=e1.getGlobalObject().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}o(b6,"getBrowserPerformance");function x6(){try{var t=t1.dynamicRequire(n1,"perf_hooks");return t.performance}catch(e){return}}o(x6,"getNodePerformance");var pc=t1.isNodeEnv()?x6():b6(),r1=pc===void 0?Qf:{nowSeconds:function(){return(pc.timeOrigin+pc.now())/1e3}};Ze.dateTimestampInSeconds=Qf.nowSeconds.bind(Qf);Ze.timestampInSeconds=r1.nowSeconds.bind(r1);Ze.timestampWithMs=Ze.timestampInSeconds;Ze.usingPerformanceAPI=pc!==void 0;Ze.browserPerformanceTimeOrigin=function(){var t=e1.getGlobalObject().performance;if(!t||!t.now){Ze._browserPerformanceTimeOriginMode="none";return}var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,c=typeof a=="number",u=c?Math.abs(a+r-n):e,p=u<e;return s||p?i<=u?(Ze._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(Ze._browserPerformanceTimeOriginMode="navigationStart",a):(Ze._browserPerformanceTimeOriginMode="dateNow",n)}()});var M=m(Z=>{Object.defineProperty(Z,"__esModule",{value:!0});var oe=z();oe.__exportStar(IO(),Z);oe.__exportStar(kf(),Z);oe.__exportStar(AO(),Z);oe.__exportStar(Xo(),Z);oe.__exportStar(WO(),Z);oe.__exportStar(en(),Z);oe.__exportStar(nc(),Z);oe.__exportStar(Mf(),Z);oe.__exportStar(ri(),Z);oe.__exportStar(ec(),Z);oe.__exportStar(Lf(),Z);oe.__exportStar(ZO(),Z);oe.__exportStar(QO(),Z);oe.__exportStar(ic(),Z);oe.__exportStar(tc(),Z);oe.__exportStar($f(),Z);oe.__exportStar(Vf(),Z);oe.__exportStar(i1(),Z)});var em=m(lc=>{Object.defineProperty(lc,"__esModule",{value:!0});var k=z(),Es=M(),s1=100,S6=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return o(t,"Scope"),t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=k.__spread(e._breadcrumbs),r._tags=k.__assign({},e._tags),r._extra=k.__assign({},e._extra),r._contexts=k.__assign({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=k.__spread(e._eventProcessors),r._requestSession=e._requestSession),r},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=k.__assign(k.__assign({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,r){var n;return this._tags=k.__assign(k.__assign({},this._tags),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=k.__assign(k.__assign({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,r){var n;return this._extra=k.__assign(k.__assign({},this._extra),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,r){var n;return r===null?delete this._contexts[e]:this._contexts=k.__assign(k.__assign({},this._contexts),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,r,n,i,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(r=s)===null||r===void 0?void 0:r.transaction;if((i=(n=s)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=k.__assign(k.__assign({},this._tags),e._tags),this._extra=k.__assign(k.__assign({},this._extra),e._extra),this._contexts=k.__assign(k.__assign({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Es.isPlainObject(e)&&(e=e,this._tags=k.__assign(k.__assign({},this._tags),e.tags),this._extra=k.__assign(k.__assign({},this._extra),e.extra),this._contexts=k.__assign(k.__assign({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,r){var n=typeof r=="number"?Math.min(r,s1):s1;if(n<=0)return this;var i=k.__assign({timestamp:Es.dateTimestampInSeconds()},e);return this._breadcrumbs=k.__spread(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,r){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=k.__assign(k.__assign({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=k.__assign(k.__assign({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=k.__assign(k.__assign({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=k.__assign(k.__assign({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=k.__assign({trace:this._span.getTraceContext()},e.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(e.tags=k.__assign({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=k.__spread(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(k.__spread(a1(),this._eventProcessors),e,r)},t.prototype._notifyEventProcessors=function(e,r,n,i){var s=this;return i===void 0&&(i=0),new Es.SyncPromise(function(a,c){var u=e[i];if(r===null||typeof u!="function")a(r);else{var p=u(k.__assign({},r),n);Es.isThenable(p)?p.then(function(l){return s._notifyEventProcessors(e,l,n,i+1).then(a)}).then(null,c):s._notifyEventProcessors(e,p,n,i+1).then(a).then(null,c)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();lc.Scope=S6;function a1(){var t=Es.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}o(a1,"getGlobalEventProcessors");function E6(t){a1().push(t)}o(E6,"addGlobalEventProcessor");lc.addGlobalEventProcessor=E6});var o1=m(dc=>{Object.defineProperty(dc,"__esModule",{value:!0});var w6;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"})(w6=dc.LogLevel||(dc.LogLevel={}))});var c1=m(ii=>{Object.defineProperty(ii,"__esModule",{value:!0});var T6;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(T6=ii.SessionStatus||(ii.SessionStatus={}));var O6;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})(O6=ii.RequestSessionStatus||(ii.RequestSessionStatus={}))});var p1=m(si=>{Object.defineProperty(si,"__esModule",{value:!0});var u1;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(u1=si.Severity||(si.Severity={}));(function(t){function e(r){switch(r){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}o(e,"fromString"),t.fromString=e})(u1=si.Severity||(si.Severity={}))});var d1=m(ai=>{Object.defineProperty(ai,"__esModule",{value:!0});var l1;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(l1=ai.Status||(ai.Status={}));(function(t){function e(r){return r>=200&&r<300?t.Success:r===429?t.RateLimit:r>=400&&r<500?t.Invalid:r>=500?t.Failed:t.Unknown}o(e,"fromHttpCode"),t.fromHttpCode=e})(l1=ai.Status||(ai.Status={}))});var f1=m(fc=>{Object.defineProperty(fc,"__esModule",{value:!0});var k6;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(k6=fc.TransactionSamplingMethod||(fc.TransactionSamplingMethod={}))});var ws=m(Er=>{Object.defineProperty(Er,"__esModule",{value:!0});var q6=o1();Er.LogLevel=q6.LogLevel;var m1=c1();Er.SessionStatus=m1.SessionStatus;Er.RequestSessionStatus=m1.RequestSessionStatus;var C6=p1();Er.Severity=C6.Severity;var I6=d1();Er.Status=I6.Status;var P6=f1();Er.TransactionSamplingMethod=P6.TransactionSamplingMethod});var nm=m(rm=>{Object.defineProperty(rm,"__esModule",{value:!0});var tm=ws(),oi=M(),R6=function(){function t(e){this.errors=0,this.sid=oi.uuid4(),this.duration=0,this.status=tm.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var r=oi.timestampInSeconds();this.timestamp=r,this.started=r,e&&this.update(e)}return o(t,"Session"),t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||oi.timestampInSeconds(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:oi.uuid4()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===tm.SessionStatus.Ok?this.update({status:tm.SessionStatus.Exited}):this.update()},t.prototype.toJSON=function(){return oi.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:oi.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}();rm.Session=R6});var am=m(Fe=>{Object.defineProperty(Fe,"__esModule",{value:!0});var dt=z(),h1=ws(),ft=M(),im=em(),A6=nm();Fe.API_VERSION=4;var j6=100,mc=function(){function t(e,r,n){r===void 0&&(r=new im.Scope),n===void 0&&(n=Fe.API_VERSION),this._version=n,this._stack=[{}],this.getStackTop().scope=r,this.bindClient(e)}return o(t,"Hub"),t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=im.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,r){var n=this._lastEventId=ft.uuid4(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,dt.__assign(dt.__assign({},i),{event_id:n})),n},t.prototype.captureMessage=function(e,r,n){var i=this._lastEventId=ft.uuid4(),s=n;if(!n){var a=void 0;try{throw new Error(e)}catch(c){a=c}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,r,dt.__assign(dt.__assign({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,r){var n=this._lastEventId=ft.uuid4();return this._invokeClient("captureEvent",e,dt.__assign(dt.__assign({},r),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var a=s.getOptions&&s.getOptions()||{},c=a.beforeBreadcrumb,u=c===void 0?null:c,p=a.maxBreadcrumbs,l=p===void 0?j6:p;if(!(l<=0)){var d=ft.dateTimestampInSeconds(),f=dt.__assign({timestamp:d},e),h=u?ft.consoleSandbox(function(){return u(f,r)}):f;h!==null&&i.addBreadcrumb(h,l)}}},t.prototype.setUser=function(e){var r=this.getScope();r&&r.setUser(e)},t.prototype.setTags=function(e){var r=this.getScope();r&&r.setTags(e)},t.prototype.setExtras=function(e){var r=this.getScope();r&&r.setExtras(e)},t.prototype.setTag=function(e,r){var n=this.getScope();n&&n.setTag(e,r)},t.prototype.setExtra=function(e,r){var n=this.getScope();n&&n.setExtra(e,r)},t.prototype.setContext=function(e,r){var n=this.getScope();n&&n.setContext(e,r)},t.prototype.configureScope=function(e){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&e(n)},t.prototype.run=function(e){var r=sm(this);try{e(this)}finally{sm(r)}},t.prototype.getIntegration=function(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch(n){return ft.logger.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,r){return this._callExtensionMethod("startTransaction",e,r)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,r,n,i,s;(n=(r=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},t.prototype.startSession=function(e){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},a=s.release,c=s.environment,u=ft.getGlobalObject(),p=(u.navigator||{}).userAgent,l=new A6.Session(dt.__assign(dt.__assign(dt.__assign({release:a,environment:c},n&&{user:n.getUser()}),p&&{userAgent:p}),e));if(n){var d=n.getSession&&n.getSession();d&&d.status===h1.SessionStatus.Ok&&d.update({status:h1.SessionStatus.Exited}),this.endSession(),n.setSession(l)}return l},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),r=e.scope,n=e.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,c=s.client;c&&c[e]&&(r=c)[e].apply(r,dt.__spread(n,[a]))},t.prototype._callExtensionMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=ci(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);ft.logger.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();Fe.Hub=mc;function ci(){var t=ft.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}o(ci,"getMainCarrier");Fe.getMainCarrier=ci;function sm(t){var e=ci(),r=Yt(e);return hc(e,t),r}o(sm,"makeMain");Fe.makeMain=sm;function N6(){var t=ci();return(!v1(t)||Yt(t).isOlderThan(Fe.API_VERSION))&&hc(t,new mc),ft.isNodeEnv()?B6(t):Yt(t)}o(N6,"getCurrentHub");Fe.getCurrentHub=N6;function M6(){ft.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var t=ci().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}o(M6,"getActiveDomain");Fe.getActiveDomain=M6;function B6(t){var e,r,n;try{var i=(n=(r=(e=ci().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return Yt(t);if(!v1(i)||Yt(i).isOlderThan(Fe.API_VERSION)){var s=Yt(t).getStackTop();hc(i,new mc(s.client,im.Scope.clone(s.scope)))}return Yt(i)}catch(a){return Yt(t)}}o(B6,"getHubFromActiveDomain");function v1(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}o(v1,"hasHubOnCarrier");function Yt(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new mc),t.__SENTRY__.hub}o(Yt,"getHubFromCarrier");Fe.getHubFromCarrier=Yt;function hc(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}o(hc,"setHubOnCarrier");Fe.setHubOnCarrier=hc});var g1=m(um=>{Object.defineProperty(um,"__esModule",{value:!0});var om=ws(),cm=M(),D6=am(),K6=function(){function t(e,r){var n=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=e,this._intervalId=setInterval(function(){return n.flush()},this.flushTimeout*1e3),this._sessionAttrs=r}return o(t,"SessionFlusher"),t.prototype.sendSessionAggregates=function(e){if(!this._transport.sendSession){cm.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){cm.logger.error("Error while sending session: "+r)})},t.prototype.flush=function(){var e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(e))},t.prototype.getSessionAggregates=function(){var e=this,r=Object.keys(this._pendingAggregates).map(function(i){return e._pendingAggregates[parseInt(i)]}),n={attrs:this._sessionAttrs,aggregates:r};return cm.dropUndefinedKeys(n)},t.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},t.prototype.incrementSessionStatusCount=function(){var e,r;if(!!this._isEnabled){var n=D6.getCurrentHub().getScope(),i=(e=n)===null||e===void 0?void 0:e.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(r=n)===null||r===void 0||r.setRequestSession(void 0))}},t.prototype._incrementSessionStatusCount=function(e,r){var n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var i=this._pendingAggregates[n];switch(i.started||(i.started=new Date(n).toISOString()),e){case om.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case om.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case om.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},t}();um.SessionFlusher=K6});var vc=m(Le=>{Object.defineProperty(Le,"__esModule",{value:!0});var y1=em();Le.addGlobalEventProcessor=y1.addGlobalEventProcessor;Le.Scope=y1.Scope;var F6=nm();Le.Session=F6.Session;var L6=g1();Le.SessionFlusher=L6.SessionFlusher;var rn=am();Le.getActiveDomain=rn.getActiveDomain;Le.getCurrentHub=rn.getCurrentHub;Le.getHubFromCarrier=rn.getHubFromCarrier;Le.getMainCarrier=rn.getMainCarrier;Le.Hub=rn.Hub;Le.makeMain=rn.makeMain;Le.setHubOnCarrier=rn.setHubOnCarrier});var wr=m(ui=>{Object.defineProperty(ui,"__esModule",{value:!0});var _1;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(_1=ui.SpanStatus||(ui.SpanStatus={}));(function(t){function e(r){if(r<400)return t.Ok;if(r>=400&&r<500)switch(r){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}o(e,"fromHttpCode"),t.fromHttpCode=e})(_1=ui.SpanStatus||(ui.SpanStatus={}))});var Tr=m(Ot=>{Object.defineProperty(Ot,"__esModule",{value:!0});var b1=vc();Ot.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function H6(t){t===void 0&&(t=(e=b1.getCurrentHub().getClient())===null||e===void 0?void 0:e.getOptions());var e;return t?"tracesSampleRate"in t||"tracesSampler"in t:!1}o(H6,"hasTracingEnabled");Ot.hasTracingEnabled=H6;function U6(t){var e=t.match(Ot.TRACEPARENT_REGEXP);if(e){var r=void 0;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}}o(U6,"extractTraceparentData");Ot.extractTraceparentData=U6;function $6(t){t===void 0&&(t=b1.getCurrentHub());var e,r;return(r=(e=t)===null||e===void 0?void 0:e.getScope())===null||r===void 0?void 0:r.getTransaction()}o($6,"getActiveTransaction");Ot.getActiveTransaction=$6;function J6(t){return t/1e3}o(J6,"msToSec");Ot.msToSec=J6;function W6(t){return t*1e3}o(W6,"secToMs");Ot.secToMs=W6;var z6=M();Ot.stripUrlQueryAndFragment=z6.stripUrlQueryAndFragment});var E1=m(lm=>{Object.defineProperty(lm,"__esModule",{value:!0});var pm=M(),x1=wr(),G6=Tr();function Y6(){pm.addInstrumentationHandler({callback:S1,type:"error"}),pm.addInstrumentationHandler({callback:S1,type:"unhandledrejection"})}o(Y6,"registerErrorInstrumentation");lm.registerErrorInstrumentation=Y6;function S1(){var t=G6.getActiveTransaction();t&&(pm.logger.log("[Tracing] Transaction: "+x1.SpanStatus.InternalError+" -> Global error occured"),t.setStatus(x1.SpanStatus.InternalError))}o(S1,"errorCallback")});var yc=m(gc=>{Object.defineProperty(gc,"__esModule",{value:!0});var pi=z(),nn=M(),dm=wr(),V6=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return o(t,"SpanRecorder"),t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}();gc.SpanRecorder=V6;var X6=function(){function t(e){if(this.traceId=nn.uuid4(),this.spanId=nn.uuid4().substring(16),this.startTimestamp=nn.timestampWithMs(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return o(t,"Span"),t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var r=new t(pi.__assign(pi.__assign({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},t.prototype.setTag=function(e,r){var n;return this.tags=pi.__assign(pi.__assign({},this.tags),(n={},n[e]=r,n)),this},t.prototype.setData=function(e,r){var n;return this.data=pi.__assign(pi.__assign({},this.data),(n={},n[e]=r,n)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var r=dm.SpanStatus.fromHttpCode(e);return r!==dm.SpanStatus.UnknownError&&this.setStatus(r),this},t.prototype.isSuccess=function(){return this.status===dm.SpanStatus.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:nn.timestampWithMs()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return nn.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var r,n,i,s,a;return this.data=(r=e.data,r!=null?r:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(n=e.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(a=e.traceId,a!=null?a:this.traceId),this},t.prototype.getTraceContext=function(){return nn.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return nn.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();gc.Span=X6});var _c=m(fm=>{Object.defineProperty(fm,"__esModule",{value:!0});var li=z(),w1=vc(),di=M(),T1=yc(),Z6=function(t){li.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._measurements={},i._hub=w1.getCurrentHub(),di.isInstanceOf(n,w1.Hub)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return o(e,"Transaction"),e.prototype.setName=function(r){this.name=r},e.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new T1.SpanRecorder(r)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(r){this._measurements=li.__assign({},r)},e.prototype.setMetadata=function(r){this.metadata=li.__assign(li.__assign({},this.metadata),r)},e.prototype.finish=function(r){var n=this;if(this.endTimestamp===void 0){if(this.name||(di.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,r),this.sampled!==!0){di.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(c){return c!==n&&c.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(c,u){return c.endTimestamp&&u.endTimestamp?c.endTimestamp>u.endTimestamp?c:u:c}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},a=Object.keys(this._measurements).length>0;return a&&(di.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),di.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},e.prototype.toContext=function(){var r=t.prototype.toContext.call(this);return di.dropUndefinedKeys(li.__assign(li.__assign({},r),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(r){var n;return t.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},e}(T1.Span);fm.Transaction=Z6});var bc=m(fi=>{Object.defineProperty(fi,"__esModule",{value:!0});var mm=z(),ve=M(),Q6=yc(),O1=wr(),e4=_c();fi.DEFAULT_IDLE_TIMEOUT=1e3;var k1=function(t){mm.__extends(e,t);function e(r,n,i,s){i===void 0&&(i="");var a=t.call(this,s)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return o(e,"IdleTransactionSpanRecorder"),e.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:ve.timestampWithMs(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),t.prototype.add.call(this,r)},e}(Q6.SpanRecorder);fi.IdleTransactionSpanRecorder=k1;var t4=function(t){mm.__extends(e,t);function e(r,n,i,s){i===void 0&&(i=fi.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var a=t.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=s,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&s&&(q1(n),ve.logger.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(c){return c.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return o(e,"IdleTransaction"),e.prototype.finish=function(r){var n,i,s=this;if(r===void 0&&(r=ve.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){ve.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=mm.__values(this._beforeFinishCallbacks),c=a.next();!c.done;c=a.next()){var u=c.value;u(this,r)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(p){if(p.spanId===s.spanId)return!0;p.endTimestamp||(p.endTimestamp=r,p.setStatus(O1.SpanStatus.Cancelled),ve.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(p,void 0,2)));var l=p.startTimestamp<r;return l||ve.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(p,void 0,2)),l}),ve.logger.log("[Tracing] flushing IdleTransaction")}else ve.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&q1(this._idleHub),t.prototype.finish.call(this,r)},e.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},e.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=o(function(a){n._finished||n._pushActivity(a)},"pushActivity"),s=o(function(a){n._finished||n._popActivity(a)},"popActivity");this.spanRecorder=new k1(i,s,this.spanId,r),ve.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),ve.logger.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,ve.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(ve.logger.log("[Tracing] popActivity "+r),delete this.activities[r],ve.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=ve.timestampWithMs()+i/1e3;setTimeout(function(){n._finished||n.finish(s)},i)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,s){return i+s}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(ve.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(O1.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var r=this;ve.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},e}(e4.Transaction);fi.IdleTransaction=t4;function q1(t){if(t){var e=t.getScope();if(e){var r=e.getTransaction();r&&e.setSpan(void 0)}}}o(q1,"clearActiveTransaction")});var Sc=m((Ts,Os)=>{Object.defineProperty(Ts,"__esModule",{value:!0});var hm=z(),C1=vc(),xc=ws(),Qe=M(),r4=E1(),n4=bc(),i4=_c(),s4=Tr();function a4(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}o(a4,"traceHeaders");function I1(t,e,r){if(!s4.hasTracingEnabled())return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:xc.TransactionSamplingMethod.Explicit}}),t;var n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({transactionSampling:{method:xc.TransactionSamplingMethod.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,t.setMetadata({transactionSampling:{method:xc.TransactionSamplingMethod.Inheritance}})):(n=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:xc.TransactionSamplingMethod.Rate,rate:Number(n)}})),o4(n)?n?(t.sampled=Math.random()<n,t.sampled?(Qe.logger.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(Qe.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),t)):(Qe.logger.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(Qe.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}o(I1,"sample");function o4(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(Qe.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(Qe.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}o(o4,"isValidSampleRate");function c4(t,e){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},s=new i4.Transaction(t,this);return s=I1(s,i,hm.__assign({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),s}o(c4,"_startTransaction");function u4(t,e,r,n,i){var s,a,c=((s=t.getClient())===null||s===void 0?void 0:s.getOptions())||{},u=new n4.IdleTransaction(e,t,r,n);return u=I1(u,c,hm.__assign({parentSampled:e.parentSampled,transactionContext:e},i)),u.sampled&&u.initSpanRecorder((a=c._experiments)===null||a===void 0?void 0:a.maxSpans),u}o(u4,"startIdleTransaction");Ts.startIdleTransaction=u4;function P1(){var t=C1.getMainCarrier();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=c4),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=a4))}o(P1,"_addTracingExtensions");Ts._addTracingExtensions=P1;function p4(){var t=C1.getMainCarrier();if(!!t.__SENTRY__){var e={mongodb:function(){var n=Qe.dynamicRequire(Os,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=Qe.dynamicRequire(Os,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=Qe.dynamicRequire(Os,"./integrations/mysql");return new n.Mysql},pg:function(){var n=Qe.dynamicRequire(Os,"./integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(function(n){return!!Qe.loadModule(n)}).map(function(n){try{return e[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(t.__SENTRY__.integrations=hm.__spread(t.__SENTRY__.integrations||[],r))}}o(p4,"_autoloadDatabaseIntegrations");function l4(){P1(),Qe.isNodeEnv()&&p4(),r4.registerErrorInstrumentation()}o(l4,"addExtensionMethods");Ts.addExtensionMethods=l4});var A1=m(gm=>{Object.defineProperty(gm,"__esModule",{value:!0});var vm=M(),R1=wr(),d4=Tr(),Ec=vm.getGlobalObject();function f4(){Ec&&Ec.document?Ec.document.addEventListener("visibilitychange",function(){var t=d4.getActiveTransaction();Ec.document.hidden&&t&&(vm.logger.log("[Tracing] Transaction: "+R1.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(R1.SpanStatus.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):vm.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(f4,"registerBackgroundTabDetection");gm.registerBackgroundTabDetection=f4});var wc=m(ym=>{Object.defineProperty(ym,"__esModule",{value:!0});ym.bindReporter=function(t,e,r,n){var i;return function(){r&&e.isFinal&&r.disconnect(),e.value>=0&&(n||e.isFinal||document.visibilityState==="hidden")&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||i===void 0)&&(t(e),i=e.value))}}});var j1=m(_m=>{Object.defineProperty(_m,"__esModule",{value:!0});_m.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var Tc=m(bm=>{Object.defineProperty(bm,"__esModule",{value:!0});var m4=j1();bm.initMetric=function(t,e){return e===void 0&&(e=-1),{name:t,value:e,delta:0,entries:[],id:m4.generateUniqueID(),isFinal:!1}}});var Oc=m(xm=>{Object.defineProperty(xm,"__esModule",{value:!0});xm.observe=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(n){return n.getEntries().map(e)});return r.observe({type:t,buffered:!0}),r}}catch(n){}}});var ks=m(Sm=>{Object.defineProperty(Sm,"__esModule",{value:!0});var N1=!1,M1=!1,h4=o(function(t){N1=!t.persisted},"onPageHide"),v4=o(function(){addEventListener("pagehide",h4),addEventListener("beforeunload",function(){})},"addListeners");Sm.onHidden=function(t,e){e===void 0&&(e=!1),M1||(v4(),M1=!0),addEventListener("visibilitychange",function(r){var n=r.timeStamp;document.visibilityState==="hidden"&&t({timeStamp:n,isUnloading:N1})},{capture:!0,once:e})}});var B1=m(Em=>{Object.defineProperty(Em,"__esModule",{value:!0});var g4=wc(),y4=Tc(),_4=Oc(),b4=ks();Em.getCLS=function(t,e){e===void 0&&(e=!1);var r=y4.initMetric("CLS",0),n,i=o(function(a){a.hadRecentInput||(r.value+=a.value,r.entries.push(a),n())},"entryHandler"),s=_4.observe("layout-shift",i);s&&(n=g4.bindReporter(t,r,s,e),b4.onHidden(function(a){var c=a.isUnloading;s.takeRecords().map(i),c&&(r.isFinal=!0),n()}))}});var qc=m(wm=>{Object.defineProperty(wm,"__esModule",{value:!0});var x4=ks(),kc;wm.getFirstHidden=function(){return kc===void 0&&(kc=document.visibilityState==="hidden"?0:Infinity,x4.onHidden(function(t){var e=t.timeStamp;return kc=e},!0)),{get timeStamp(){return kc}}}});var D1=m(Tm=>{Object.defineProperty(Tm,"__esModule",{value:!0});var S4=wc(),E4=qc(),w4=Tc(),T4=Oc(),O4=ks();Tm.getFID=function(t){var e=w4.initMetric("FID"),r=E4.getFirstHidden(),n=o(function(a){a.startTime<r.timeStamp&&(e.value=a.processingStart-a.startTime,e.entries.push(a),e.isFinal=!0,s())},"entryHandler"),i=T4.observe("first-input",n),s=S4.bindReporter(t,e,i);i?O4.onHidden(function(){i.takeRecords().map(n),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(a,c){c.timeStamp<r.timeStamp&&(e.value=a,e.isFinal=!0,e.entries=[{entryType:"first-input",name:c.type,target:c.target,cancelable:c.cancelable,startTime:c.timeStamp,processingStart:c.timeStamp+a}],s())})}});var K1=m(km=>{Object.defineProperty(km,"__esModule",{value:!0});var Om;km.whenInput=function(){return Om||(Om=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),Om}});var F1=m(qm=>{Object.defineProperty(qm,"__esModule",{value:!0});var k4=wc(),q4=qc(),C4=Tc(),I4=Oc(),P4=ks(),R4=K1();qm.getLCP=function(t,e){e===void 0&&(e=!1);var r=C4.initMetric("LCP"),n=q4.getFirstHidden(),i,s=o(function(u){var p=u.startTime;p<n.timeStamp?(r.value=p,r.entries.push(u)):r.isFinal=!0,i()},"entryHandler"),a=I4.observe("largest-contentful-paint",s);if(a){i=k4.bindReporter(t,r,a,e);var c=o(function(){r.isFinal||(a.takeRecords().map(s),r.isFinal=!0,i())},"onFinal");R4.whenInput().then(c),P4.onHidden(c,!0)}}});var U1=m(qs=>{Object.defineProperty(qs,"__esModule",{value:!0});var L1=z(),ee=M(),ce=Tr(),A4=B1(),j4=D1(),N4=F1(),M4=qc(),Vt=ee.getGlobalObject(),B4=function(){function t(){var e;this._measurements={},this._performanceCursor=0,!ee.isNodeEnv()&&((e=Vt)===null||e===void 0?void 0:e.performance)&&(Vt.performance.mark&&Vt.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return o(t,"MetricsInstrumentation"),t.prototype.addPerformanceEntries=function(e){var r=this;if(!(!Vt||!Vt.performance||!Vt.performance.getEntries||!ee.browserPerformanceTimeOrigin)){ee.logger.log("[Tracing] Adding & adjusting spans using Performance API");var n=ce.msToSec(ee.browserPerformanceTimeOrigin),i;if(Vt.document){for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].dataset.entry==="true"){i=document.scripts[s].src;break}}var a,c,u,p;if(Vt.performance.getEntries().slice(this._performanceCursor).forEach(function(d){var f=ce.msToSec(d.startTime),h=ce.msToSec(d.duration);if(!(e.op==="navigation"&&n+f<e.startTimestamp))switch(d.entryType){case"navigation":{D4(e,d,n),u=n+ce.msToSec(d.responseStart),p=n+ce.msToSec(d.requestStart);break}case"mark":case"paint":case"measure":{var v=K4(e,d,f,h,n);c===void 0&&d.name==="sentry-tracing-init"&&(c=v);var g=M4.getFirstHidden(),y=d.startTime<g.timeStamp;d.name==="first-paint"&&y&&(ee.logger.log("[Measurements] Adding FP"),r._measurements.fp={value:d.startTime},r._measurements["mark.fp"]={value:v}),d.name==="first-contentful-paint"&&y&&(ee.logger.log("[Measurements] Adding FCP"),r._measurements.fcp={value:d.startTime},r._measurements["mark.fcp"]={value:v});break}case"resource":{var _=d.name.replace(window.location.origin,""),x=H1(e,d,_,f,h,n);a===void 0&&(i||"").indexOf(_)>-1&&(a=x);break}default:}}),a!==void 0&&c!==void 0&&kr(e,{description:"evaluation",endTimestamp:c,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var l=ce.msToSec(ee.browserPerformanceTimeOrigin);typeof u=="number"&&(ee.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(u-e.startTimestamp)*1e3},typeof p=="number"&&p<=u&&(this._measurements["ttfb.requestTime"]={value:(u-p)*1e3})),["fcp","fp","lcp"].forEach(function(d){if(!(!r._measurements[d]||l>=e.startTimestamp)){var f=r._measurements[d].value,h=l+ce.msToSec(f),v=Math.abs((h-e.startTimestamp)*1e3),g=v-f;ee.logger.log("[Measurements] Normalized "+d+" from "+f+" to "+v+" ("+g+")"),r._measurements[d].value=v}}),this._measurements["mark.fid"]&&this._measurements.fid&&kr(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+ce.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},t.prototype._tagMetricInfo=function(e){this._lcpEntry&&(ee.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",ee.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&(ee.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(r,n){return e.setTag("cls.source."+(n+1),ee.htmlTreeAsString(r.node))}))},t.prototype._trackCLS=function(){var e=this;A4.getCLS(function(r){var n=r.entries.pop();!n||(ee.logger.log("[Measurements] Adding CLS"),e._measurements.cls={value:r.value},e._clsEntry=n)})},t.prototype._trackNavigator=function(e){var r=Vt.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Cc(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Cc(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Cc(r.deviceMemory)&&e.setTag("deviceMemory",String(r.deviceMemory)),Cc(r.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},t.prototype._trackLCP=function(){var e=this;N4.getLCP(function(r){var n=r.entries.pop();if(!!n){var i=ce.msToSec(ee.browserPerformanceTimeOrigin),s=ce.msToSec(n.startTime);ee.logger.log("[Measurements] Adding LCP"),e._measurements.lcp={value:r.value},e._measurements["mark.lcp"]={value:i+s},e._lcpEntry=n}})},t.prototype._trackFID=function(){var e=this;j4.getFID(function(r){var n=r.entries.pop();if(!!n){var i=ce.msToSec(ee.browserPerformanceTimeOrigin),s=ce.msToSec(n.startTime);ee.logger.log("[Measurements] Adding FID"),e._measurements.fid={value:r.value},e._measurements["mark.fid"]={value:i+s}}})},t}();qs.MetricsInstrumentation=B4;function D4(t,e,r){Or({transaction:t,entry:e,event:"unloadEvent",timeOrigin:r}),Or({transaction:t,entry:e,event:"redirect",timeOrigin:r}),Or({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:r}),Or({transaction:t,entry:e,event:"loadEvent",timeOrigin:r}),Or({transaction:t,entry:e,event:"connect",timeOrigin:r}),Or({transaction:t,entry:e,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),Or({transaction:t,entry:e,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),Or({transaction:t,entry:e,event:"domainLookup",timeOrigin:r,description:"DNS"}),F4(t,e,r)}o(D4,"addNavigationSpans");function K4(t,e,r,n,i){var s=i+r,a=s+n;return kr(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:s}),s}o(K4,"addMeasureSpans");function H1(t,e,r,n,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var c=s+n,u=c+i;return kr(t,{description:r,endTimestamp:u,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:c,data:a}),u}}o(H1,"addResourceSpans");qs.addResourceSpans=H1;function Or(t){var e=t.transaction,r=t.entry,n=t.event,i=t.timeOrigin,s=t.eventEnd,a=t.description,c=s?r[s]:r[n+"End"],u=r[n+"Start"];!u||!c||kr(e,{op:"browser",description:a!=null?a:n,startTimestamp:i+ce.msToSec(u),endTimestamp:i+ce.msToSec(c)})}o(Or,"addPerformanceNavigationTiming");function F4(t,e,r){kr(t,{op:"browser",description:"request",startTimestamp:r+ce.msToSec(e.requestStart),endTimestamp:r+ce.msToSec(e.responseEnd)}),kr(t,{op:"browser",description:"response",startTimestamp:r+ce.msToSec(e.responseStart),endTimestamp:r+ce.msToSec(e.responseEnd)})}o(F4,"addRequest");function kr(t,e){var r=e.startTimestamp,n=L1.__rest(e,["startTimestamp"]);return r&&t.startTimestamp>r&&(t.startTimestamp=r),t.startChild(L1.__assign({startTimestamp:r},n))}o(kr,"_startChild");qs._startChild=kr;function Cc(t){return typeof t=="number"&&isFinite(t)}o(Cc,"isMeasurementValue")});var Cm=m(Zt=>{Object.defineProperty(Zt,"__esModule",{value:!0});var Xt=z(),Cs=M(),L4=wr(),Ic=Tr();Zt.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];Zt.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:Zt.DEFAULT_TRACING_ORIGINS};function H4(t){var e=Xt.__assign(Xt.__assign({},Zt.defaultRequestInstrumentationOptions),t),r=e.traceFetch,n=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,a={},c=o(function(l){if(a[l])return a[l];var d=i;return a[l]=d.some(function(f){return Cs.isMatchingPattern(l,f)})&&!Cs.isMatchingPattern(l,"sentry_key"),a[l]},"defaultShouldCreateSpan"),u=c;typeof s=="function"&&(u=o(function(l){return c(l)&&s(l)},"shouldCreateSpan"));var p={};r&&Cs.addInstrumentationHandler({callback:function(l){$1(l,u,p)},type:"fetch"}),n&&Cs.addInstrumentationHandler({callback:function(l){J1(l,u,p)},type:"xhr"})}o(H4,"instrumentOutgoingRequests");Zt.instrumentOutgoingRequests=H4;function $1(t,e,r){if(!(!Ic.hasTracingEnabled()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp&&t.fetchData.__span){var n=r[t.fetchData.__span];n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus(L4.SpanStatus.InternalError),n.finish(),delete r[t.fetchData.__span]);return}var i=Ic.getActiveTransaction();if(i){var n=i.startChild({data:Xt.__assign(Xt.__assign({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=n.spanId,r[n.spanId]=n;var s=t.args[0]=t.args[0],a=t.args[1]=t.args[1]||{},c=a.headers;Cs.isInstanceOf(s,Request)&&(c=s.headers),c?typeof c.append=="function"?c.append("sentry-trace",n.toTraceparent()):Array.isArray(c)?c=Xt.__spread(c,[["sentry-trace",n.toTraceparent()]]):c=Xt.__assign(Xt.__assign({},c),{"sentry-trace":n.toTraceparent()}):c={"sentry-trace":n.toTraceparent()},a.headers=c}}}o($1,"fetchCallback");Zt.fetchCallback=$1;function J1(t,e,r){var n,i;if(!(!Ic.hasTracingEnabled()||((n=t.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=t.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&e(t.xhr.__sentry_xhr__.url)))){var s=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){var a=r[t.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(s.status_code),a.finish(),delete r[t.xhr.__sentry_xhr_span_id__]);return}var c=Ic.getActiveTransaction();if(c){var a=c.startChild({data:Xt.__assign(Xt.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,r[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(p){}}}}o(J1,"xhrCallback");Zt.xhrCallback=J1});var W1=m(Im=>{Object.defineProperty(Im,"__esModule",{value:!0});var Pc=M(),Is=Pc.getGlobalObject();function U4(t,e,r){if(e===void 0&&(e=!0),r===void 0&&(r=!0),!Is||!Is.location){Pc.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var n=Is.location.href,i;e&&(i=t({name:Is.location.pathname,op:"pageload"})),r&&Pc.addInstrumentationHandler({callback:function(s){var a=s.to,c=s.from;if(c===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}c!==a&&(n=void 0,i&&(Pc.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:Is.location.pathname,op:"navigation"}))},type:"history"})}o(U4,"instrumentRoutingWithDefaults");Im.instrumentRoutingWithDefaults=U4});var V1=m(sn=>{Object.defineProperty(sn,"__esModule",{value:!0});var Qt=z(),mi=M(),$4=Sc(),J4=bc(),W4=wr(),z1=Tr(),z4=A1(),G4=U1(),Rc=Cm(),Y4=W1();sn.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var V4=Qt.__assign({idleTimeout:J4.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:sn.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:Y4.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Rc.defaultRequestInstrumentationOptions),X4=function(){function t(e){this.name=t.id,this._metrics=new G4.MetricsInstrumentation,this._emitOptionsWarning=!1;var r=Rc.defaultRequestInstrumentationOptions.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?r=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Qt.__assign(Qt.__assign(Qt.__assign({},V4),e),{tracingOrigins:r})}return o(t,"BrowserTracing"),t.prototype.setupOnce=function(e,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(mi.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),mi.logger.warn("[Tracing] We added a reasonable default for you: "+Rc.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,a=i.startTransactionOnLocationChange,c=i.startTransactionOnPageLoad,u=i.markBackgroundTransactions,p=i.traceFetch,l=i.traceXHR,d=i.tracingOrigins,f=i.shouldCreateSpanForRequest;s(function(h){return n._createRouteTransaction(h)},c,a),u&&z4.registerBackgroundTabDetection(),Rc.instrumentOutgoingRequests({traceFetch:p,traceXHR:l,tracingOrigins:d,shouldCreateSpanForRequest:f})},t.prototype._createRouteTransaction=function(e){var r=this;if(!this._getCurrentHub){mi.logger.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,s=n.idleTimeout,a=n.maxTransactionDuration,c=e.op==="pageload"?G1():void 0,u=Qt.__assign(Qt.__assign(Qt.__assign({},e),c),{trimEnd:!0}),p=typeof i=="function"?i(u):u,l=p===void 0?Qt.__assign(Qt.__assign({},u),{sampled:!1}):p;l.sampled===!1&&mi.logger.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),mi.logger.log("[Tracing] Starting "+l.op+" transaction on scope");var d=this._getCurrentHub(),f=mi.getGlobalObject().location,h=$4.startIdleTransaction(d,l,s,!0,{location:f});return h.registerBeforeFinishCallback(function(v,g){r._metrics.addPerformanceEntries(v),Z4(z1.secToMs(a),v,g)}),h},t.id="BrowserTracing",t}();sn.BrowserTracing=X4;function G1(){var t=Y1("sentry-trace");if(t)return z1.extractTraceparentData(t)}o(G1,"getHeaderContext");sn.getHeaderContext=G1;function Y1(t){var e=document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}o(Y1,"getMetaContent");sn.getMetaContent=Y1;function Z4(t,e,r){var n=r-e.startTimestamp,i=r&&(n>t||n<0);i&&(e.setStatus(W4.SpanStatus.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}o(Z4,"adjustTransactionDuration")});var Pm=m(Ps=>{Object.defineProperty(Ps,"__esModule",{value:!0});var Q4=V1();Ps.BrowserTracing=Q4.BrowserTracing;var X1=Cm();Ps.instrumentOutgoingRequests=X1.instrumentOutgoingRequests;Ps.defaultRequestInstrumentationOptions=X1.defaultRequestInstrumentationOptions});var Q1=m(Am=>{Object.defineProperty(Am,"__esModule",{value:!0});var Rm=z(),e$=M(),t$=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return o(t,"Express"),t.prototype.setupOnce=function(){if(!this._router){e$.logger.error("ExpressIntegration is missing an Express instance");return}i$(this._router,this._methods)},t.id="Express",t}();Am.Express=t$;function Z1(t,e){var r=t.length;switch(r){case 2:return function(n,i){var s=i.__sentry_transaction;if(s){var a=s.startChild({description:t.name,op:"middleware."+e});i.once("finish",function(){a.finish()})}return t.call(this,n,i)};case 3:return function(n,i,s){var a,c=i.__sentry_transaction,u=(a=c)===null||a===void 0?void 0:a.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];var d;(d=u)===null||d===void 0||d.finish(),s.call.apply(s,Rm.__spread([this],p))})};case 4:return function(n,i,s,a){var c,u=s.__sentry_transaction,p=(c=u)===null||c===void 0?void 0:c.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,s,function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f;(f=p)===null||f===void 0||f.finish(),a.call.apply(a,Rm.__spread([this],l))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}o(Z1,"wrap");function r$(t,e){return t.map(function(r){return typeof r=="function"?Z1(r,e):Array.isArray(r)?r.map(function(n){return typeof n=="function"?Z1(n,e):n}):r})}o(r$,"wrapMiddlewareArgs");function n$(t,e){var r=t[e];return t[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,Rm.__spread([this],r$(n,e)))},t}o(n$,"patchMiddleware");function i$(t,e){e===void 0&&(e=[]),e.forEach(function(r){return n$(t,r)})}o(i$,"instrumentMiddlewares")});var ek=m(jm=>{Object.defineProperty(jm,"__esModule",{value:!0});var Ac=M(),s$=function(){function t(){this.name=t.id}return o(t,"Postgres"),t.prototype.setupOnce=function(e,r){var n=Ac.loadModule("pg");if(!n){Ac.logger.error("Postgres Integration was unable to require `pg` package.");return}Ac.fill(n.Client.prototype,"query",function(i){return function(s,a,c){var u,p,l,d=r().getScope(),f=(u=d)===null||u===void 0?void 0:u.getSpan(),h=(p=f)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof c=="function")return i.call(this,s,a,function(g,y){var _;(_=h)===null||_===void 0||_.finish(),c(g,y)});if(typeof a=="function")return i.call(this,s,function(g,y){var _;(_=h)===null||_===void 0||_.finish(),a(g,y)});var v=typeof a!="undefined"?i.call(this,s,a):i.call(this,s);return Ac.isThenable(v)?v.then(function(g){var y;return(y=h)===null||y===void 0||y.finish(),g}):((l=h)===null||l===void 0||l.finish(),v)}})},t.id="Postgres",t}();jm.Postgres=s$});var tk=m(Mm=>{Object.defineProperty(Mm,"__esModule",{value:!0});var Nm=M(),a$=function(){function t(){this.name=t.id}return o(t,"Mysql"),t.prototype.setupOnce=function(e,r){var n=Nm.loadModule("mysql/lib/Connection.js");if(!n){Nm.logger.error("Mysql Integration was unable to require `mysql` package.");return}Nm.fill(n,"createQuery",function(i){return function(s,a,c){var u,p,l=r().getScope(),d=(u=l)===null||u===void 0?void 0:u.getSpan(),f=(p=d)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof c=="function"?i.call(this,s,a,function(h,v,g){var y;(y=f)===null||y===void 0||y.finish(),c(h,v,g)}):typeof a=="function"?i.call(this,s,function(h,v,g){var y;(y=f)===null||y===void 0||y.finish(),a(h,v,g)}):i.call(this,s,a,c)}})},t.id="Mysql",t}();Mm.Mysql=a$});var rk=m(Dm=>{Object.defineProperty(Dm,"__esModule",{value:!0});var Bm=z(),jc=M(),o$=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],c$={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},u$=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:o$,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}return o(t,"Mongo"),t.prototype.setupOnce=function(e,r){var n=this._useMongoose?"mongoose":"mongodb",i=jc.loadModule(n);if(!i){jc.logger.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},t.prototype._instrumentOperations=function(e,r,n){var i=this;r.forEach(function(s){return i._patchOperation(e,s,n)})},t.prototype._patchOperation=function(e,r,n){if(r in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);jc.fill(e.prototype,r,function(s){return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var u,p,l,d,f=a[a.length-1],h=n().getScope(),v=(u=h)===null||u===void 0?void 0:u.getSpan();if(typeof f!="function"||r==="mapReduce"&&a.length===2){var g=(p=v)===null||p===void 0?void 0:p.startChild(i(this,r,a)),y=s.call.apply(s,Bm.__spread([this],a));return jc.isThenable(y)?y.then(function(x){var S;return(S=g)===null||S===void 0||S.finish(),x}):((l=g)===null||l===void 0||l.finish(),y)}var _=(d=v)===null||d===void 0?void 0:d.startChild(i(this,r,a.slice(0,-1)));return s.call.apply(s,Bm.__spread([this],a.slice(0,-1),[function(x,S){var E;(E=_)===null||E===void 0||E.finish(),f(x,S)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,r,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:r,data:i},a=c$[r],c=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!c)return s;try{if(r==="mapReduce"){var u=Bm.__read(n,2),p=u[0],l=u[1];i[a[0]]=typeof p=="string"?p:p.name||"<anonymous>",i[a[1]]=typeof l=="string"?l:l.name||"<anonymous>"}else for(var d=0;d<a.length;d++)i[a[d]]=JSON.stringify(n[d])}catch(f){}return s},t.id="Mongo",t}();Dm.Mongo=u$});var nk=m(hi=>{Object.defineProperty(hi,"__esModule",{value:!0});var p$=Q1();hi.Express=p$.Express;var l$=ek();hi.Postgres=l$.Postgres;var d$=tk();hi.Mysql=d$.Mysql;var f$=rk();hi.Mongo=f$.Mongo});var Km=m(ge=>{Object.defineProperty(ge,"__esModule",{value:!0});var ik=z(),m$=Pm(),sk=Sc();ge.addExtensionMethods=sk.addExtensionMethods;var h$=nk(),v$=ik.__assign(ik.__assign({},h$),{BrowserTracing:m$.BrowserTracing});ge.Integrations=v$;var g$=yc();ge.Span=g$.Span;var y$=_c();ge.Transaction=y$.Transaction;var ak=Pm();ge.registerRequestInstrumentation=ak.instrumentOutgoingRequests;ge.defaultRequestInstrumentationOptions=ak.defaultRequestInstrumentationOptions;var _$=wr();ge.SpanStatus=_$.SpanStatus;var b$=bc();ge.IdleTransaction=b$.IdleTransaction;var x$=Sc();ge.startIdleTransaction=x$.startIdleTransaction;sk.addExtensionMethods();var Rs=Tr();ge.extractTraceparentData=Rs.extractTraceparentData;ge.getActiveTransaction=Rs.getActiveTransaction;ge.hasTracingEnabled=Rs.hasTracingEnabled;ge.stripUrlQueryAndFragment=Rs.stripUrlQueryAndFragment;ge.TRACEPARENT_REGEXP=Rs.TRACEPARENT_REGEXP});var Lm=m(Fm=>{Object.defineProperty(Fm,"__esModule",{value:!0});var S$=Xe(),E$=M(),vi=class{constructor(e={}){this.name=vi.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("aws-sdk/global");E$.fill(e.Service.prototype,"makeRequest",w$)}catch(e){if(!this._optional)throw e}}};o(vi,"AWSServices");Fm.AWSServices=vi;vi.id="AWSServices";function w$(t){return function(e,r,n){let i,s,a=S$.getCurrentHub().getScope();a&&(i=a.getTransaction());let c=t.call(this,e,r);return c.on("afterBuild",()=>{i&&(s=i.startChild({description:T$(this,e,r),op:"aws.request"}))}),c.on("complete",()=>{s&&s.finish()}),n&&c.send(n),c}}o(w$,"wrapMakeRequest");function T$(t,e,r){let n=`aws.${t.serviceIdentifier}.${e}`;if(r===void 0)return n;switch(t.serviceIdentifier){case"s3":n+=k$(e,r);break;case"lambda":n+=O$(e,r);break}return n}o(T$,"describe");function O$(t,e){let r="";return"FunctionName"in e&&(r+=` ${e.FunctionName}`),r}o(O$,"describeLambdaOperation");function k$(t,e){let r="";return"Bucket"in e&&(r+=` ${e.Bucket}`),r}o(k$,"describeS3Operation")});var yi=m(gi=>{Object.defineProperty(gi,"__esModule",{value:!0});var q$=M(),ok=require("domain");function C$(t){return q$.addExceptionMechanism(t,{handled:!1}),t}o(C$,"serverlessEventProcessor");gi.serverlessEventProcessor=C$;function ck(){return ok.active}o(ck,"getActiveDomain");gi.getActiveDomain=ck;function I$(t){return(...e)=>ck()?t(...e):ok.create().run(()=>t(...e))}o(I$,"domainify");gi.domainify=I$;function P$(t,e,r){let n=e(t),i={apply:(s,a,c)=>n.apply(a,c)};return r&&(i.get=(s,a)=>r.hasOwnProperty(a)?r[a]:s[a]),new Proxy(t,i)}o(P$,"proxyFunction");gi.proxyFunction=P$});var fk=m(qr=>{Object.defineProperty(qr,"__esModule",{value:!0});var R$=z(),an=Xe(),As=Xe(),A$=Km(),js=M(),uk=require("fs"),j$=require("os"),pk=require("path"),lk=require("perf_hooks"),N$=require("util"),M$=Lm(),B$=yi();R$.__exportStar(Xe(),qr);var{isPromise:D$}=N$.types;qr.defaultIntegrations=[...As.defaultIntegrations,new M$.AWSServices({optional:!0})];function K$(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=qr.defaultIntegrations),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.serverless",integrations:["AWSLambda"],packages:[{name:"npm:@sentry/serverless",version:As.SDK_VERSION}],version:As.SDK_VERSION},As.init(t),As.addGlobalEventProcessor(B$.serverlessEventProcessor)}o(K$,"init");qr.init=K$;function F$(t,e,r){let n=pk.resolve(t,e,r);return uk.existsSync(n)||uk.existsSync(`${n}.js`)?require(n):require(require.resolve(r,{paths:[t,e]}))}o(F$,"tryRequire");function L$(t,e){let r=pk.basename(e),n=r.match(/^([^.]*)\.(.*)$/);if(!n){js.logger.error(`Bad handler ${r}`);return}let[,i,s]=n,a;try{let p=e.substring(0,e.indexOf(r));a=F$(t,p,i)}catch(p){js.logger.error(`Cannot require ${e} in ${t}`,p);return}let c,u;if(s.split(".").forEach(p=>{c=a,a=a&&a[p],u=p}),!a){js.logger.error(`${e} is undefined or not exported`);return}if(typeof a!="function"){js.logger.error(`${e} is not a function`);return}c[u]=dk(a)}o(L$,"tryPatchHandler");qr.tryPatchHandler=L$;function Hm(t){return typeof t.getRemainingTimeInMillis=="function"?t.getRemainingTimeInMillis():0}o(Hm,"tryGetRemainingTimeInMillis");function H$(t,e,r){t.setTransactionName(e.functionName),t.setTag("server_name",process.env._AWS_XRAY_DAEMON_ADDRESS||process.env.SENTRY_NAME||j$.hostname()),t.setTag("url",`awslambda:///${e.functionName}`),t.setContext("runtime",{name:"node",version:global.process.version}),t.setContext("aws.lambda",{aws_request_id:e.awsRequestId,function_name:e.functionName,function_version:e.functionVersion,invoked_function_arn:e.invokedFunctionArn,execution_duration_in_millis:lk.performance.now()-r,remaining_time_in_millis:Hm(e),"sys.argv":process.argv}),t.setContext("aws.cloudwatch.logs",{log_group:e.logGroupName,log_stream:e.logStreamName,url:`https://console.aws.amazon.com/cloudwatch/home?region=${process.env.AWS_REGION}#logsV2:log-groups/log-group/${encodeURIComponent(e.logGroupName)}/log-events/${encodeURIComponent(e.logStreamName)}`})}o(H$,"enhanceScopeWithEnvironmentData");function dk(t,e={}){let r=lk.performance.now(),n=b({flushTimeout:2e3,rethrowAfterCapture:!0,callbackWaitsForEmptyEventLoop:!1,captureTimeoutWarning:!0,timeoutWarningLimit:500},e),i,s=t.length>2?(a,c)=>new Promise((u,p)=>{let l=t(a,c,(d,f)=>{d==null?u(f):p(d)});D$(l)&&l.then(u,p)}):t;return async(a,c)=>{c.callbackWaitsForEmptyEventLoop=n.callbackWaitsForEmptyEventLoop;let u=Math.ceil(Hm(c)/1e3),p=Math.floor(u/60),l=u%60,d=p>0?`${p}m${l}s`:`${l}s`;if(n.captureTimeoutWarning){let x=Hm(c)-n.timeoutWarningLimit;i=setTimeout(()=>{an.withScope(S=>{S.setTag("timeout",d),an.captureMessage(`Possible function timeout: ${c.functionName}`,an.Severity.Warning)})},x)}let f,h=a;h.headers&&js.isString(h.headers["sentry-trace"])&&(f=A$.extractTraceparentData(h.headers["sentry-trace"]));let v=an.startTransaction(b({name:c.functionName,op:"awslambda.handler"},f)),g=an.getCurrentHub(),y=g.pushScope(),_;try{H$(y,c,r),y.setSpan(v),_=await s(a,c)}catch(x){if(an.captureException(x),n.rethrowAfterCapture)throw x}finally{clearTimeout(i),v.finish(),g.popScope(),await an.flush(n.flushTimeout)}return _}}o(dk,"wrapHandler");qr.wrapHandler=dk});var hk=m(Um=>{Object.defineProperty(Um,"__esModule",{value:!0});var U$=Xe(),mk=M(),_i=class{constructor(e={}){this.name=_i.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("google-gax");mk.fill(e.GrpcClient.prototype,"createStub",$$)}catch(e){if(!this._optional)throw e}}};o(_i,"GoogleCloudGrpc");Um.GoogleCloudGrpc=_i;_i.id="GoogleCloudGrpc";function $$(t){return async function(...e){var r;let n=(r=e[1])===null||r===void 0?void 0:r.servicePath;if(n==null||n==null)return t.apply(this,e);let i=W$(n),s=await t.apply(this,e);for(let a of Object.keys(Object.getPrototypeOf(s)))J$(s,i,a);return s}}o($$,"wrapCreateStub");function J$(t,e,r){let n=t[r];if(typeof n!="function")return;let i=!n.requestStream&&!n.responseStream?"unary call":n.requestStream&&!n.responseStream?"client stream":!n.requestStream&&n.responseStream?"server stream":"bidi stream";i=="unary call"&&mk.fill(t,r,s=>(...a)=>{var c;let u=s.apply(t,a);if(typeof((c=u)===null||c===void 0?void 0:c.on)!="function")return u;let p,l,d=U$.getCurrentHub().getScope();return d&&(p=d.getTransaction()),p&&(l=p.startChild({description:`${i} ${r}`,op:`gcloud.grpc.${e}`})),u.on("status",()=>{l&&l.finish()}),u})}o(J$,"fillGrpcFunction");function W$(t){let e=t.match(/^(\w+)\.googleapis.com$/);return e?e[1]:t}o(W$,"identifyService")});var vk=m($m=>{Object.defineProperty($m,"__esModule",{value:!0});var z$=Xe(),G$=M(),bi=class{constructor(e={}){this.name=bi.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("@google-cloud/common");G$.fill(e.Service.prototype,"request",Y$)}catch(e){if(!this._optional)throw e}}};o(bi,"GoogleCloudHttp");$m.GoogleCloudHttp=bi;bi.id="GoogleCloudHttp";function Y$(t){return function(e,r){let n,i,s=z$.getCurrentHub().getScope();if(s&&(n=s.getTransaction()),n){let a=e.method||"GET";i=n.startChild({description:`${a} ${e.uri}`,op:`gcloud.http.${V$(this.apiEndpoint)}`})}t.call(this,e,(...a)=>{i&&i.finish(),r(...a)})}}o(Y$,"wrapRequestFunction");function V$(t){let e=t.match(/^https:\/\/(\w+)\.googleapis.com$/);return e?e[1]:t.replace(/^(http|https)?:\/\//,"")}o(V$,"identifyService")});var gk=m(Wm=>{Object.defineProperty(Wm,"__esModule",{value:!0});var Ns=Xe(),X$=Km(),Jm=M(),Nc=yi(),{parseRequest:Z$}=Ns.Handlers;function Q$(t,e={}){let r=o(s=>Nc.domainify(eJ(s,e)),"wrap"),n,i=t.__emulator_func;return i&&(n={__emulator_func:Nc.proxyFunction(i,r)}),Nc.proxyFunction(t,r,n)}o(Q$,"wrapHttpFunction");Wm.wrapHttpFunction=Q$;function eJ(t,e={}){let r=b({flushTimeout:2e3,parseRequestOptions:{}},e);return(n,i)=>{let s=(n.method||"").toUpperCase(),a=Jm.stripUrlQueryAndFragment(n.originalUrl||n.url||""),c,u=n;u.headers&&Jm.isString(u.headers["sentry-trace"])&&(c=X$.extractTraceparentData(u.headers["sentry-trace"]));let p=Ns.startTransaction(b({name:`${s} ${a}`,op:"gcp.function.http"},c));Ns.getCurrentHub().configureScope(d=>{d.addEventProcessor(f=>Z$(f,n,r.parseRequestOptions)),d.setSpan(p)}),i.__sentry_transaction=p,Nc.getActiveDomain().on("error",d=>{Ns.captureException(d)});let l=i.end;return i.end=function(d,f,h){p.setHttpStatus(i.statusCode),p.finish(),Ns.flush(r.flushTimeout).then(()=>{l.call(this,d,f,h)}).then(null,v=>{Jm.logger.error(v)})},t(n,i)}}o(eJ,"_wrapHttpFunction")});var Gm=m(zm=>{Object.defineProperty(zm,"__esModule",{value:!0});var tJ=require("os");function rJ(t,e){t.setContext("runtime",{name:"node",version:global.process.version}),t.setTag("server_name",process.env.SENTRY_NAME||tJ.hostname()),t.setContext("gcp.function.context",b({},e))}o(rJ,"configureScopeWithContext");zm.configureScopeWithContext=rJ});var yk=m(Vm=>{Object.defineProperty(Vm,"__esModule",{value:!0});var Ms=Xe(),nJ=M(),Ym=yi(),iJ=Gm();function sJ(t,e={}){return Ym.proxyFunction(t,r=>Ym.domainify(aJ(r,e)))}o(sJ,"wrapEventFunction");Vm.wrapEventFunction=sJ;function aJ(t,e={}){let r=b({flushTimeout:2e3},e);return(n,i,s)=>{let a=Ms.startTransaction({name:i.eventType,op:"gcp.function.event"});Ms.getCurrentHub().configureScope(p=>{iJ.configureScopeWithContext(p,i),p.setSpan(a)});let c=Ym.getActiveDomain();c.on("error",Ms.captureException);let u=c.bind((...p)=>{p[0]!==null&&p[0]!==void 0&&Ms.captureException(p[0]),a.finish(),Ms.flush(r.flushTimeout).then(()=>{s(...p)}).then(null,l=>{nJ.logger.error(l)})});return t.length>2?t(n,i,u):Promise.resolve().then(()=>t(n,i)).then(p=>u(null,p),p=>u(p,void 0))}}o(aJ,"_wrapEventFunction")});var _k=m(Zm=>{Object.defineProperty(Zm,"__esModule",{value:!0});var Bs=Xe(),oJ=M(),Xm=yi(),cJ=Gm();function uJ(t,e={}){return Xm.proxyFunction(t,r=>Xm.domainify(pJ(r,e)))}o(uJ,"wrapCloudEventFunction");Zm.wrapCloudEventFunction=uJ;function pJ(t,e={}){let r=b({flushTimeout:2e3},e);return(n,i)=>{let s=Bs.startTransaction({name:n.type||"<unknown>",op:"gcp.function.cloud_event"});Bs.getCurrentHub().configureScope(u=>{cJ.configureScopeWithContext(u,n),u.setSpan(s)});let a=Xm.getActiveDomain();a.on("error",Bs.captureException);let c=a.bind((...u)=>{u[0]!==null&&u[0]!==void 0&&Bs.captureException(u[0]),s.finish(),Bs.flush(r.flushTimeout).then(()=>{i(...u)}).then(null,p=>{oJ.logger.error(p)})});return t.length>1?t(n,c):Promise.resolve().then(()=>t(n)).then(u=>c(null,u),u=>c(u,void 0))}}o(pJ,"_wrapCloudEventFunction")});var bk=m(Cr=>{Object.defineProperty(Cr,"__esModule",{value:!0});var Qm=z(),Ds=Xe(),lJ=hk(),dJ=vk(),fJ=yi();Qm.__exportStar(gk(),Cr);Qm.__exportStar(yk(),Cr);Qm.__exportStar(_k(),Cr);Cr.defaultIntegrations=[...Ds.defaultIntegrations,new dJ.GoogleCloudHttp({optional:!0}),new lJ.GoogleCloudGrpc({optional:!0})];function mJ(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=Cr.defaultIntegrations),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.serverless",integrations:["GCPFunction"],packages:[{name:"npm:@sentry/serverless",version:Ds.SDK_VERSION}],version:Ds.SDK_VERSION},Ds.init(t),Ds.addGlobalEventProcessor(fJ.serverlessEventProcessor)}o(mJ,"init");Cr.init=mJ});var Sk=m(xi=>{Object.defineProperty(xi,"__esModule",{value:!0});var xk=z(),hJ=fk();xi.AWSLambda=hJ;var vJ=bk();xi.GCPFunction=vJ;xk.__exportStar(Lm(),xi);xk.__exportStar(Xe(),xi)});Fk(exports,{handler:()=>xJ});var Ik=un(require("assert")),Pk=un(Op());var Ha=un(wE());function Gi(){return Math.round(Date.now()/1e3)}o(Gi,"timestamp");var wB=["users","userkeys","permissions","workspaces","pads","workspaceroles","invites","futurefileattachments","fileattachments"],TB=["userkeys","permissions","tags","usertaggedresources","fileattachments"],TE;async function ol(){return TE||new Promise((e,r)=>{Ha.default.tables().then(n=>{let i=n;for(let s of wB)CB(i,s);for(let s of TB)OB(i,s);e(i)}).catch(r)})}o(ol,"tables");function OB(t,e){let r=t[e];if(!r)throw new Error("No table named "+e);r.__deci_observed__||(r.__deci_observed__=!0,r.put=kB(r,e,r.put),r.delete=qB(r,e,r.delete))}o(OB,"observe");function kB(t,e,r){return o(async function(i){let s=await r.call(t,i);return await Ha.default.queues.publish({name:`${e}-changes`,payload:{table:e,action:"put",args:i}}),s},"putReplacer")}o(kB,"putReplacer");function qB(t,e,r){return o(async function(i){let s=await t.get({id:i.id}),a=await r.call(t,i);return await Ha.default.queues.publish({name:`${e}-changes`,payload:{table:e,action:"delete",args:i,recordBeforeDelete:s}}),a},"deleteReplacer")}o(qB,"deleteReplacer");function CB(t,e){let r=t[e];if(!r)throw new Error("No table named "+e);typeof r.create!="function"&&(r.create=o(async function(i){return i.createdAt||(i.createdAt=Gi()),r.put(i)},"create"))}o(CB,"enhance");var eh=un(Sk());var Ek=un(require("assert"));function wk(){return{sentry:{dsn:Ir("SENTRY_DSN","")}}}o(wk,"monitor");function Tk(){return{userKeyValidationExpirationSeconds:Number(Ir("DECI_KEY_VALIDATION_EXPIRATION_SECONDS","2592000")),inviteExpirationSeconds:Number(Ir("DECI_INVITE_EXPIRATION_SECONDS","86400")),jwt:{secret:Ir("JWT_SECRET"),signingKey:Buffer.from(Ir("JWT_SIGNING_PRIVATE_KEY"),"base64").toString(),maxAge:Number(Ir("JWT_MAX_AGE","2592000"))},providers:{github:{clientId:Ir("GITHUB_CLIENT_ID"),clientSecret:Ir("GITHUB_CLIENT_SECRET")}}}}o(Tk,"auth");function Ir(t,e=void 0){let r=process.env[t];return r==null&&(e!==void 0?r=e:(0,Ek.fail)(`${t} env var must be defined`)),r}o(Ir,"env");var Ok="0.0.1";var{sentry:{dsn:th}}=wk();th&&eh.AWSLambda.init({dsn:th,tracesSampleRate:1,environment:process.env.NODE_ENV,release:Ok});function kk(t,e={}){if(th){let{rethrow:r=!0}=e;return eh.AWSLambda.wrapHandler(t,{rethrowAfterCapture:r})}return t}o(kk,"wrapHandler");var qk=o(t=>kk(async e=>{try{let r=await t(e);return r==null?{statusCode:404}:typeof r=="string"?{statusCode:Ck(e),body:r,headers:{"content-type":"text/plain"}}:yJ(r)?r:{statusCode:Ck(e),headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify(r)}}catch(r){return console.error(r),{statusCode:500,json:{name:r.name,message:r.message,stack:r.stack}}}}),"default");function yJ(t){return!!t.statusCode||!!t.json}o(yJ,"isFullReturnObject");function Ck(t){switch(t.routeKey.split(" ")[0]){case"PUT":case"DELETE":return 202;case"POST":return 201}return 200}o(Ck,"okStatusCodeFor");var rh=un(Op());var _J=Tk().jwt,nh=j(b({},_J),{encode:rh.default.encode,decode:rh.default.decode});var Rk=process.env.NEXTAUTH_URL&&process.env.NEXTAUTH_URL.startsWith("https:"),bJ=Rk?"__Secure-next-auth.session-token":"next-auth.session-token",xJ=qk(async t=>{var c,u;if(!((c=t.pathParameters)==null?void 0:c.userkeyvalidationid))return{statusCode:401};let e=await ol(),r=await e.userkeyvalidations.get({id:t.pathParameters.userkeyvalidationid});if(!r)return{statusCode:404,body:"Validation not found"};let n=await e.userkeys.get({id:r.userkey_id});if(!n)return{statusCode:404,body:"User key not found"};n.validated_at=Gi(),await e.userkeys.put(n),await e.userkeyvalidations.delete({id:r.id});let i=await e.users.get({id:n.user_id});if(!i)return{statusCode:404,body:"User not found"};(0,Ik.default)(i.secret,"user does not have a secret");let s=await Pk.default.encode(j(b({},nh),{token:{accessToken:i.secret}})),a=`${bJ}=${s}`;return a+=`; HttpOnly; Path=/; Max-Age=${nh.maxAge}; SameSite=Strict`,Rk&&(a+="; Secure"),((u=t.queryStringParameters)==null?void 0:u.redirect)==="false"?{statusCode:201,headers:{"Set-Cookie":a}}:{statusCode:302,headers:{Location:"/","Set-Cookie":a}}});0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
