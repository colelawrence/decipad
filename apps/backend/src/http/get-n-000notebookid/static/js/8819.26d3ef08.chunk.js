"use strict";exports.id=8819,exports.ids=[8819],exports.modules={79421:(e,t,s)=>{s.d(t,{X:()=>o});var n=s(42244);const o=(e,t)=>n.og.asLocal(e,t)},17863:(e,t,s)=>{s.d(t,{c:()=>d});var n=s(42244),o=s(82361),r=s.n(o),a=s(16318),i=s.n(a),c=s(60046);function d(e,t,s,o){const a=new(r());null===s||void 0===s||s.on("synced",(function(){a.emit("loaded","local")})),null===s||void 0===s||s.on("saved",(function(e,t){const s=t?"local":"remote";a.emit("saved",s)})),o&&(o.on("synced",(function(e){e&&(a.emit("loaded","remote"),l.next(!0))})),o.on("saved",(function(){a.emit("saved","remote"),l.next(!0)})),o.on("status",(function(e){"connected"===e.status&&a.emit("connected")})),o.on("error",(e=>{console.error("Error caught in websocket:",e)})));const d=new c.BehaviorSubject(!1),l=new c.BehaviorSubject(!1),h=()=>{let e=0;a.on("saved",(t=>{e+=1,e>1&&(e=1,"local"===t&&(d.next(!0),l.next(!1)))}))};s?s.once("synced",h):h();let u=!1;a.once("destroyed",(()=>{u=!0}));return Object.assign(e,{onLoaded(e){a.on("loaded",e)},offLoaded(e){a.removeListener("loaded",e)},onSaved(e){a.on("saved",e)},offSaved(e){a.removeListener("saved",e)},onConnected(e){a.on("connected",e)},onDestroyed(e){a.on("destroyed",e)},offDestroyed(e){a.removeListener("destroyed",e)},destroy(){a.emit("destroyed"),a.removeAllListeners(),t.destroy(),null===s||void 0===s||s.destroy(),null===o||void 0===o||o.destroy()},connect(){null===o||void 0===o||o.connect()},disconnect(){null===o||void 0===o||o.disconnect()},hasLocalChanges:()=>d,isSavedRemotely:()=>l,removeLocalChanges:()=>(null===s||void 0===s?void 0:s.remove())||Promise.resolve(),setLoadedRemotely(){a.emit("loaded","remote")},isDocSyncEnabled:!0,markVersion:e=>(null===s||void 0===s?void 0:s.markVersion(e))||Promise.resolve(),sameVersion:e=>(null===s||void 0===s?void 0:s.sameVersion(e))||Promise.resolve(!1),equals:e=>i()(JSON.stringify((0,n.HQ)(t.getArray())))===e,get destroyed(){return u}})}(0,s(55013).LH)()},65074:(e,t,s)=>{s.d(t,{L:()=>m});var n=s(90224),o=s(42515),r=s(41580),a=s(42244),i=s(78878),c=s(1741),d=s(26056),l=s(17863),h=s(7684),u=s(39528),y=s(79421),w=s(14300).Buffer;async function f(){const e=await(0,r.h)("/api/auth/token?for=pubsub");if(null===e||void 0===e||!e.ok)throw new Error("Error fetching token: response code was ".concat(e.status,": ").concat(e.statusText,". response was ").concat(await(null===e||void 0===e?void 0:e.text())||JSON.stringify(e)));return null===e||void 0===e?void 0:e.text()}async function v(e){var t;return"".concat(await(null===(t=await(0,r.h)("/api/ws"))||void 0===t?void 0:t.text()),"?doc=").concat(encodeURIComponent(e),"&protocol=2")}function m(e,t){let{editor:s,readOnly:r=!1,authSecret:m,onError:p,ws:g=!0,connect:b=g,WebSocketPolyfill:_,connectionParams:E,initialState:S,protocolVersion:U}=t,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};s.children=[];const L=new o.QW,O=(0,d.be)("indexeddb")?new i.H7(e,L,{readOnly:r}):void 0,k=Date.now(),I=()=>Date.now()-k>6e4,H=()=>I()||null===E||void 0===E?void 0:E.token,x=async t=>{try{t.serverUrl=null!==E&&void 0!==E&&E.url?"".concat(E.url):await v(e),t.protocol=m||H()||await f()}catch(s){console.error(s)}};let M,R;const T=g&&(0,d.be)("websockets")&&(!r||null==S);T?(M=(0,c.Em)(L,{WebSocketPolyfill:_,readOnly:r,connect:!1,beforeConnect:x,resyncInterval:6e4,onError:p,protocolVersion:U}),R=M.awareness):R=new n.GL(L);const A=L.getArray(),P=(0,a.hX)(s,A);P.synchronizeValue();let V=!1,D=!1;const W=()=>{if(!D&&(D=!0,b&&!V)){var e;if(null!=S)try{const e=w.from(S,"base64");(0,o.NG)(L,e),setTimeout((()=>z.setLoadedRemotely()),0)}catch(t){console.error("Error applying initial update",t)}null===(e=M)||void 0===e||e.connect()}};O?O.once("synced",W):setTimeout(W,0);const N=(0,a.Fj)(P,R,C),{normalizeNode:B}=N;N.normalizeNode=e=>(0,y.X)(N,(()=>B(e)));let z=(0,l.c)(N,L,O,M);z.destroy=()=>{var e;V=!0,null===O||void 0===O||O.destroy(),null===(e=M)||void 0===e||e.destroy()},z.isDocSyncEnabled=!0;let G=!1,J=!1;const X=e=>{r||V||J||g&&"remote"!==e||(0,h.R)(s),"remote"===e&&(J=!0),"local"===e&&(G=!0),J&&G&&z.offLoaded(X)};return z.onLoaded(X),z=(0,u.V)(z),z.isReadOnly=r,z}},28283:(e,t,s)=>{s.d(t,{y:()=>o});var n=s(78878);const o=async e=>(0,n.i8)(e)},78819:(e,t,s)=>{s.d(t,{L:()=>n.L,y:()=>o.y});var n=s(65074),o=s(28283)},39528:(e,t,s)=>{s.d(t,{V:()=>r});var n=s(18157),o=s(42515);const r=e=>{let t=!0;const s=new o.H6(e.sharedType,{trackedOrigins:new Set([n.DI]),captureTransaction:()=>t,captureTimeout:200});return e.undo=()=>{s.undo()},e.redo=()=>{s.redo()},e.withoutCapturingUndo=e=>{const s=t;t=!1;try{e()}finally{t=s}},e.undoManager=s,e}},7684:(e,t,s)=>{s.d(t,{R:()=>r});var n=s(25555),o=s(74673);function r(e){const{children:t}=e;t.length>1||0===t.length&&(0,o.kRc)(e,(()=>{(0,o.s2K)(e,{type:o.GDC,children:[{text:"My notebook title"}],id:(0,n.x0)()},{at:[0]}),(0,o.s2K)(e,{type:o.JBe,children:[{text:""}],id:(0,n.x0)()},{at:[1]})}))}},42244:(e,t,s)=>{s.d(t,{Fj:()=>n.Fj,HQ:()=>o.HQ,hX:()=>n.hX,og:()=>n.og});s(58834),s(93351),s(18157);var n=s(48625),o=s(12666)},9326:(e,t,s)=>{s.d(t,{F:()=>i});var n=s(33058),o=s(50576);const r=new WeakMap,a={awareness(e){const t=r.get(e);return(0,n.Z)(t,"CursorEditor without attaches awareness"),t},updateCursor:(e,t)=>{try{const{selection:s}=e,{anchor:n}=null!==s&&void 0!==s?s:{},{focus:o}=null!==s&&void 0!==s?s:{},r=a.awareness(e),i=r.getLocalState(),{user:c}=null!==t&&void 0!==t?t:{},d={...i,anchor:n,focus:o,user:c&&{email:c.email,name:c.name}};r.setLocalState(d)}catch(s){console.error(s)}}};function i(e,t,s){const n=e;r.set(n,t),n.awareness=t;const{onChange:i,destroy:c}=e,d=(0,o.debounce)((async()=>{try{a.updateCursor(n,s())}catch(e){}}),2e3);return n.onChange=()=>{d(),i()},n.destroy=()=>{n.onChange=i,c.call(n)},n}},48625:(e,t,s)=>{s.d(t,{Fj:()=>o.F,hX:()=>n.h,og:()=>n.o});var n=s(81331),o=s(9326)},81331:(e,t,s)=>{s.d(t,{h:()=>f,o:()=>u});var n=s(74673),o=s(33058),r=s(58834),a=s(93351),i=s(18157),c=s(12666);const d=new WeakSet,l=new WeakMap,h=new WeakMap,u={synchronizeValue:e=>{(0,n.kRc)(e,(()=>{e.children=(0,c.HQ)(e.sharedType),e.onChange()}))},sharedType:e=>{const t=h.get(e);return(0,o.Z)(t,"YjsEditor without attached shared type"),t},isRemote:e=>d.has(e),asRemote:(e,t)=>{const s=u.isRemote(e);d.add(e),t(),s||d.delete(e)},asLocal:(e,t)=>{const s=u.isRemote(e);s&&d.delete(e);const n=t();return s&&d.add(e),n}};function y(e){const t=l.get(e);return(0,o.Z)(t,"YjsEditor without attached local operations"),t}const w=(e,t)=>(0,n.kRc)(e,(()=>u.asRemote(e,(()=>{try{(0,r.c)(e,t.filter((e=>{var t;return(null===(t=e.transaction)||void 0===t?void 0:t.origin)!==i.DI})))}catch(s){throw console.error("Error applying remote event",s),s}}))));function f(e,t){const s=e;s.sharedType=t,h.set(e,t),l.set(e,new Set);const o=e=>function(e,t){try{(0,n.sGH)(e)?(0,n.Qds)(e,(()=>{w(e,t)})):w(e,t)}catch(s){console.error("Error applying remote events",{error:s,events:t})}}(s,e);t.observeDeep(o);const{apply:r,onChange:c,destroy:d}=s;return s.apply=e=>{!function(e,t){u.isRemote(e)||y(e).add(t)}(s,e),r(e)},s.onChange=()=>{!function(e){const t=y(e),s=Array.from(t).flat();(0,a.Z)(u.sharedType(e),s,i.DI),t.clear()}(s),c()},s.destroy=()=>{t.unobserveDeep(o),s.apply=r,s.onChange=c,d.call(s)},s.synchronizeValue=()=>{u.synchronizeValue(s)},s}},85758:(e,t,s)=>{s.d(t,{i:()=>a});var n=s(18138),o=s(42515),r=s(61014);const a=async e=>{const t=await n.X3(e,(e=>n._w(e,[["updates",{autoIncrement:!0}]]))),[s]=n.ay(t,[r.vH],"readonly"),a=await n.go(s,n.sc(0,!1));if(a.length)return(0,o.kp)(a)}},78878:(e,t,s)=>{s.d(t,{H7:()=>n.H7,i8:()=>o.i});var n=s(61014),o=s(85758)},61014:(e,t,s)=>{s.d(t,{H7:()=>f,vH:()=>h});var n=s(26290),o=s.n(n),r=s(42515),a=s(18138),i=s(83994),c=s(55013),d=s(11307),l=s(14300).Buffer;const h="updates";async function u(e){return e._mux.push((async()=>{await w(e,!1,(async t=>{const s=await a.go(t,a.sc(e._dbref,!1));e._destroyed||(e.doc.transact((()=>s.forEach((t=>r.NG(e.doc,t))))),await w(e,!1,(async t=>{const s=await a.S_(t);e._dbref=s+1,await w(e,!1,(async t=>{const s=await a.QX(t);e._dbsize=s}))})))}))}))}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const[s]=a.ay((0,c.m0)(e.db),[h],t?"readwrite":"readonly");return s}catch(s){if("InvalidStateError"===s.name)return null;throw s}}async function w(e,t,s){if(e._destroyed)return;const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const[s]=a.ay((0,c.m0)(e.db),[h],t?"readwrite":"readonly");return s}catch(s){if("InvalidStateError"===s.name)return null;throw s}}(e,t);return n?s(n):void 0}class f extends i.y{constructor(e,t){let{readOnly:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),o()(this,"db",null),o()(this,"doc",void 0),o()(this,"name",void 0),o()(this,"synced",!1),o()(this,"whenSynced",void 0),o()(this,"_dbref",0),o()(this,"_dbsize",0),o()(this,"_mux",(0,d.l)()),o()(this,"_destroyed",!1),o()(this,"_db",void 0),o()(this,"_storeTimeoutId",void 0),o()(this,"_storeTimeout",1e3),this.doc=t,this.name=s?"".concat(e,":readonly"):e,this._db=a.X3(this.name,(e=>a._w(e,[["updates",{autoIncrement:!0}]]))),this.whenSynced=this._init(),this._storeUpdate=this._storeUpdate.bind(this),this.destroy=this.destroy.bind(this),t.on("update",this._storeUpdate),t.on("destroy",this.destroy)}async _init(){this.db=await this._db;const e=r.D$(this.doc);return await u(this),w(this,!0,(async t=>(await a.yP(t,e),this))).then((e=>(this._destroyed||(this.emit("synced",[this]),this.synced=!0),new Promise((t=>{e&&t(e)})))))}async _storeUpdate(e,t,s,n){await this._mux.push((async()=>{await this.whenSynced,await w(this,!0,(async t=>{await a.yP(t,e),this.emit("saved",[this,n.local]),this._dbsize+=1,this._dbsize>=500&&(this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout((async()=>{await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await u(e),(t||e._dbsize>=500)&&await w(e,!0,(async t=>{await a.yP(t,r.D$(e.doc)),e.emit("saved",[e]),await w(e,!0,(async t=>{await a.IV(t,a.UE(e._dbref,!0)),await w(e,!1,(async t=>{e._dbsize=await a.QX(t)}))}))}))}(this,!1),this._storeTimeoutId=void 0}),this._storeTimeout))}))}))}async destroy(){this._destroyed=!0,this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy);const e=await this._db;await e.close()}async remove(){await w(this,!0,(async e=>{e.clear()}))}async markVersion(e){const t=(0,c.m0)(y(this,!0)),s={name:e,version:l.from(r.gJ(this.doc)).toString("hex"),createdAt:Date.now()};await a.IH(t,JSON.stringify(s),e)}async sameVersion(e){const t=(0,c.m0)(y(this,!1)),s=await a.U2(t,e);if(s&&"string"===typeof s){const e=JSON.parse(s),t=l.from(r.gJ(this.doc)).toString("hex");return e.version!==t}return!1}}},1741:(e,t,s)=>{s.d(t,{Em:()=>n.E});var n=s(56823)},44507:(e,t,s)=>{s.d(t,{T:()=>l});var n=s(67837),o=s(24320),r=s(68352),a=s(90224),i=s(19848),c=s(74881);const d=(e,t)=>console.warn("Permission denied to access ".concat(e.url,".\n").concat(t)),l=[];l[c.Mr]=(e,t,s,n)=>{o.uE(e,c.Mr);const a=r.zu(t,e,s.doc,s);n&&a===r.Px&&!s.synced&&(s.synced=!0)},l[c.J9]=(e,t,s)=>{o.uE(e,c.RO),o.mP(e,a.xq(s.awareness,Array.from(s.awareness.getStates().keys())))},l[c.RO]=(e,t,s)=>{a.oy(s.awareness,n.HN(t),s)},l[c.r9]=(e,t,s)=>{i.nw(t,s.doc,d)}},29704:(e,t,s)=>{s.d(t,{m:()=>a});var n=s(77805),o=s(11471);const r={1:n.F,2:o.T},a=e=>{const t=r[e];if(!t)throw new Error("Invalid protocol version: ".concat(e));return t()}},56823:(e,t,s)=>{s.d(t,{E:()=>C});var n=s(26290),o=s.n(n),r=s(55013),a=s(14300),i=s(67837),c=s(24320),d=s(62637),l=s(83994),h=s(84069),u=s(50576),y=s(90224),w=s(68352),f=s(42515),v=s(29704),m=s(44507),p=s(74881),g=s(77282);const b=e=>"string"===typeof e?b(a.Buffer.from(e,"base64")):a.Buffer.from(e),_=(e,t,s)=>{if((e=>"string"===typeof e||a.Buffer.isBuffer(e)||e instanceof Uint8Array)(t))try{const n=a.Buffer.from(t),o=i.l1(n),r=c.Mf(),d=i.yg(o),l=e.messageHandlers[d];return l?l(r,o,e,s,d):console.error("Could not find handler for message of type ".concat(d)),r}catch(n){console.error("Error trying to decode message",n)}else console.warn("message is unnacceptable",t)},E=async e=>{const t=()=>{if(e.shouldConnect){const t=Math.min(2**e.wsUnsuccessfulReconnects*2e3,2e4);setTimeout(E,t,e)}};try{if(e.shouldConnect&&!e.ws&&!e.wsconnecting){e.beforeConnect&&await e.beforeConnect(e),e.emit("status",[{status:"connecting"}]);const s=new e._WS((0,r.m0)(e.url),e.protocol);s.binaryType="arraybuffer",e.ws=s,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,s.onerror=e=>{console.warn("Error caught on websocket:",e)};const{message:n,receive:o}=(0,v.m)(e.protocolVersion),a=n.subscribe((t=>{try{const s=_(e,t,!0);if(!e.readOnly&&s&&c.kE(s)>1){const t=c._f(s);e.send(t)}}catch(n){var s;console.error("An error was detected while reading a message from a websocket"),console.error(n),null===(s=e.onError)||void 0===s||s.call(e,n)}}));s.onmessage=t=>{!e.destroyed&&t.data&&(e.wsLastMessageReceived=h.ZG(),o(b(t.data)))},s.onclose=s=>{console.info("WS closed",s),a.unsubscribe(),e.ws=void 0,e.wsconnecting=!1,!e.destroyed&&e.wsconnected?(e.wsconnected=!1,e.synced=!1,y.Ag(e.awareness,Array.from(e.awareness.getStates().keys()).filter((t=>t!==e.doc.clientID)),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects+=1,e.shouldConnect&&t()},s.onopen=()=>{console.info("WS: opened"),e.wsLastMessageReceived=h.ZG(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const t=c.Mf();if(c.uE(t,p.Mr),w._J(t,e.doc),e.send(c._f(t)),null!=e.awareness.getLocalState()){const t=c.Mf();c.uE(t,p.RO),c.mP(t,y.xq(e.awareness,[e.doc.clientID])),e.send(c._f(t))}}}}catch(s){console.error(s),e.ws&&e.ws.readyState===e.ws.OPEN&&e.ws.close(),e.ws=void 0,e.wsconnecting=!1,t()}},S=(e,t)=>{if(!e.destroyed&&!e.readOnly&&e.wsconnected)try{e.send(t)}catch(s){if("WebSocket is already in CLOSING or CLOSED state"!==s.message)throw s}};class U extends l.y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{protocolVersion:1};super(),o()(this,"doc",void 0),o()(this,"protocol",void 0),o()(this,"protocolVersion",void 0),o()(this,"beforeConnect",void 0),o()(this,"_WS",void 0),o()(this,"awareness",void 0),o()(this,"url",void 0),o()(this,"readOnly",void 0),o()(this,"shouldConnect",void 0),o()(this,"onError",void 0),o()(this,"ws",void 0),o()(this,"wsconnected",!1),o()(this,"wsconnecting",!1),o()(this,"wsLastMessageReceived",0),o()(this,"wsUnsuccessfulReconnects",0),o()(this,"messageHandlers",void 0),o()(this,"mux",void 0),o()(this,"destroyed",!1),o()(this,"outUpdates",[]),o()(this,"debouncedBroadcastUpdateMessage",(0,u.debounce)(this.broadcastPendingUpdateMessages.bind(this),1e3)),o()(this,"outAwarenessUpdates",[]),o()(this,"debouncedBroadcastAwarenessUpdateMessage",(0,u.debounce)(this.broadcastPendingAwarenessUpdateMessages.bind(this),1e3)),o()(this,"_selfAwareness",!1),o()(this,"_synced",!1),o()(this,"_resyncInterval",0),o()(this,"_checkInterval",void 0),o()(this,"_onOfflineOnlineStatusChange",(()=>{var e;if(!navigator.onLine&&this.ws&&(this.ws.CONNECTING||null!==(e=this.ws)&&void 0!==e&&e.OPEN)){this.shouldConnect=!0;try{console.info("WS: closing websocket because offline"),this.ws.close()}catch(t){console.warn("Error closing websocket:",t)}}}));const{readOnly:s=!1,connect:n=!0,awareness:r,WebSocketPolyfill:a=WebSocket,resyncInterval:i=-1,protocol:l,beforeConnect:f,onError:v,protocolVersion:b}=t;this.readOnly=s,this.doc=e,this.protocol=l,this.beforeConnect=f,this._WS=a,this.onError=v,this.protocolVersion=b,r?this.awareness=r:(this.awareness=new y.GL(e),this._selfAwareness=!0),this.messageHandlers=m.T.slice(),this.mux=d.M(),this.shouldConnect=n,i>0&&(this._resyncInterval=setInterval((()=>{if(this.ws&&this.wsconnected&&!this.readOnly){const s=c.Mf();c.uE(s,p.Mr),w._J(s,e);try{this.send(c._f(s))}catch(t){if("WebSocket is already in CLOSING or CLOSED state"!==t.message)throw t}}}),i)),"addEventListener"in global&&(global.addEventListener("online",this._onOfflineOnlineStatusChange),global.addEventListener("offline",this._onOfflineOnlineStatusChange)),this._updateHandler=this._updateHandler.bind(this),this._beforeUnloadHandler=this._beforeUnloadHandler.bind(this),this._awarenessUpdateHandler=this._awarenessUpdateHandler.bind(this),this.readOnly||this.doc.on("update",this._updateHandler),"undefined"!==typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof g&&g.on("exit",(()=>this._beforeUnloadHandler)),s||this.awareness.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval((()=>{var e;this.wsconnected&&3e4<h.ZG()-this.wsLastMessageReceived&&(this.shouldConnect=!0,null===(e=this.ws)||void 0===e||e.close())}),3e3),n&&this.connect()}set serverUrl(e){if(e){const t=new URL(e).href;this.url=t}}get serverUrl(){return this.url}send(e){this.wsconnected&&this.ws&&this.ws.send((e=>a.Buffer.from(e).toString("base64"))(e))}_updateHandler(e,t){t!==this&&!this.readOnly&&this.wsconnected&&(this.outUpdates.push(e),this.debouncedBroadcastUpdateMessage())}broadcastPendingUpdateMessages(){const e=Array.from(this.outUpdates);this.outUpdates=[];const t=c.Mf();c.uE(t,p.Mr),w.lr(t,(0,f.kp)(e)),c.kE(t)>1&&S(this,c._f(t)),this.emit("saved",[this])}_awarenessUpdateHandler(e){const{added:t,updated:s,removed:n}=e,o=t.concat(s).concat(n);this.outAwarenessUpdates=this.outAwarenessUpdates.concat(o),this.debouncedBroadcastAwarenessUpdateMessage()}broadcastPendingAwarenessUpdateMessages(){const e=Array.from(this.outAwarenessUpdates);if(e.length>0){this.outAwarenessUpdates=[];const t=y.xq(this.awareness,e),s=c.Mf();c.uE(s,p.RO),c.mP(s,t),c.kE(s)>1&&S(this,c._f(s))}}_beforeUnloadHandler(){y.Ag(this.awareness,[this.doc.clientID],"window unload")}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){this.destroyed=!0,0!==this._resyncInterval&&clearInterval(this._resyncInterval),this._checkInterval&&clearInterval(this._checkInterval),this.disconnect(),"undefined"!==typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof g&&g.off("exit",(()=>this._beforeUnloadHandler)),this.awareness.off("update",this._awarenessUpdateHandler),this._selfAwareness&&this.awareness.destroy(),this.doc.off("update",this._updateHandler),"removeEventListener"in global&&(global.removeEventListener("online",this._onOfflineOnlineStatusChange),global.removeEventListener("offline",this._onOfflineOnlineStatusChange)),super.destroy()}disconnect(){if(this.wsconnected&&this.broadcastPendingUpdateMessages(),this.shouldConnect=!1,null!=this.ws){try{this.ws.close()}catch(e){}this.emit("status",[{status:"disconnected"}])}}async connect(){this.shouldConnect=!0,this.wsconnected||this.ws||await E(this)}}const C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{protocolVersion:1};return new U(e,t)}}};
//# sourceMappingURL=8819.26d3ef08.chunk.js.map