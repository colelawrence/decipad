"use strict";exports.id=7082,exports.ids=[7082],exports.modules={11307:(e,t,n)=>{function r(){const e=[];let t=0;const n=[];async function r(){if(0===t&&e.length>0){t+=1;try{await async function(){const t=e.shift();if(!t)throw new Error("Expected to have a function left in the queue");return t()}()}finally{t-=1}r()}else if(0===t&&0===e.length)for(;n.length;){n.shift()()}}return{push:function(t){let n,o;const s=new Promise(((e,t)=>{n=e,o=t}));return e.push((async()=>{try{n(await t())}catch(e){o(e)}})),r(),s},flush:async function(){if(0!==e.length||0!==t)return new Promise((e=>{n.push(e)}))},pendingCount:function(){return e.length}}}n.d(t,{l:()=>r})},58834:(e,t,n)=>{n.d(t,{c:()=>a});var r=n(74673),o=n(42515),s=n(33058),i=n(99626);function c(e,t){if(t instanceof o.Ev)return function(e,t){const n=(0,i.TR)(t.path),o=(0,r.MkB)(e,n);if(!o)return[];(0,s.Z)(!(0,r.GsE)(o),"Cannot apply array event to text node");let c=0;const a=[],d=Array.from(o.children);return t.changes.delta.forEach((e=>{var t;if("retain"in e&&(c+=null!==(t=e.retain)&&void 0!==t?t:0),"delete"in e){var r;const t=[...n,c];d.splice(c,null!==(r=e.delete)&&void 0!==r?r:0).forEach((e=>{a.push({type:"remove_node",path:t,node:e})}))}if("insert"in e){(0,s.Z)(Array.isArray(e.insert),"Unexpected array insert content type: expected array, got ".concat(JSON.stringify(e.insert)));const t=e.insert.map(i.vq);t.forEach(((e,t)=>{a.push({type:"insert_node",path:[...n,c+t],node:e})})),d.splice(c,0,...t),c+=e.insert.length}})),a}(e,t);if(t instanceof o.Yh)return function(e,t){const n=(0,i.TR)(t.path),o=t.target,s=(0,r.MkB)(e,n);if(!s)return[];const c=Array.from(t.changes.keys.entries());return[{type:"set_node",newProperties:Object.fromEntries(c.map((e=>{let[t,n]=e;return[t,"delete"===n.action?null:o.get(t)]}))),properties:Object.fromEntries(c.map((e=>{let[t]=e;return[t,s[t]]}))),path:n}]}(e,t);if(t instanceof o.bT)return function(e,t){const n=(0,i.TR)(t.path),o=(0,r.MkB)(e,n);(0,s.Z)((0,r.GsE)(o),"Cannot apply text event to non-text node");let c=0,{text:a}=o;const d=[];return t.changes.delta.forEach((e=>{var t;if("retain"in e&&(c+=null!==(t=e.retain)&&void 0!==t?t:0),"delete"in e){var r;const t=c+(null!==(r=e.delete)&&void 0!==r?r:0);d.push({type:"remove_text",offset:c,path:n,text:a.slice(c,t)}),a=a.slice(0,c)+a.slice(t)}"insert"in e&&((0,s.Z)("string"===typeof e.insert,"Unexpected text insert content type: expected string, got ".concat(typeof e.insert)),d.push({type:"insert_text",offset:c,text:e.insert,path:n}),c+=e.insert.length,a=a.slice(0,c)+e.insert+a.slice(c))})),d}(e,t);throw new Error("Unsupported yjs event")}function a(e,t){const{selection:n}=e;(0,r.kRc)(e,(()=>{if(t.forEach((t=>c(e,t).forEach(e.apply))),n){const{anchor:t,focus:o}=n;for(const n of[t,o]){(0,r.DYv)(e,{at:n})||(0,r.Z5U)(e,{anchor:void 0,focus:void 0})}}}))}},93351:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(33058),o=n(18157),s=n(99626);function i(e,t){return t.reduce((function(n,r){const i=o.eI.getChildren(n);if(!(e=>!!o.eI.getChildren(e))(n)||null===i||void 0===i||!i.get(r))throw new TypeError("path ".concat(t.toString()," does not match doc ").concat(JSON.stringify((0,s.HQ)(e))));return i.get(r)}),e)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t>e.length)throw new TypeError("requested ancestor is higher than root");return[e[e.length-t],e.slice(0,e.length-t)]}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[o,s]=c(t,n),a=i(e,s);return(0,r.Z)(a,"Parent node should exists"),[a,o]}var d=n(12666);var h=n(57016);const l={insert_node:function(e,t){const[n,i]=a(e,t.path),c=o.eI.getChildren(n);if(void 0!==o.eI.getText(n)||!c)throw new TypeError("Can't insert node into text node");return(0,r.Z)(c,"cannot apply insert node operation to text node"),c.insert(i,[(0,s._9)(t.node)]),e},merge_node:function(e,t){const[n,s]=a(e,t.path),i=o.eI.getChildren(n);(0,r.Z)(i,"Parent of element should have children");const c=i.get(s-1),h=i.get(s),l=o.eI.getText(c),f=o.eI.getText(h);if(l&&f)l.insert(l.length,f.toString());else{const e=o.eI.getChildren(h),t=o.eI.getChildren(c);(0,r.Z)(e,"Next element should have children"),(0,r.Z)(t,"Prev element should have children");const n=e.map(d._S);t.push(n)}return i.delete(s,1),e},move_node:function(e,t){const[n,s]=a(e,t.path),[i,c]=a(e,t.newPath);if(void 0!==o.eI.getText(n)||void 0!==o.eI.getText(i))throw new TypeError("Can't move node as child of a text node");const h=o.eI.getChildren(n),l=o.eI.getChildren(i);(0,r.Z)(h,"From element should not be a text node"),(0,r.Z)(l,"To element should not be a text node");const f=h.get(s),u=(0,d._S)(f);return h.delete(s),l.insert(Math.min(c,l.length),[u]),e},remove_node:function(e,t){const[n,s]=a(e,t.path);if(void 0!==o.eI.getText(n))throw new TypeError("Can't remove node from text node");const i=o.eI.getChildren(n);return(0,r.Z)(i,"Parent should have children"),i.delete(s),e},set_node:function(e,t){const n=i(e,t.path);return Object.entries(t.newProperties).forEach((e=>{let[t,r]=e;if("children"===t||"text"===t)throw new Error('Cannot set the "'.concat(t,'" property of nodes!'));n.set(t,r)})),Object.entries(t.properties).forEach((e=>{let[r]=e;t.newProperties.hasOwnProperty(r)||n.delete(r)})),e},split_node:function(e,t){const[n,s]=a(e,t.path),i=o.eI.getChildren(n);(0,r.Z)(i,"Parent of node should have children");const c=i.get(s),d=(0,h.Z)(c);if(i.insert(s+1,[d]),Object.entries(t.properties).forEach((e=>{let[t,n]=e;return d.set(t,n)})),void 0!==o.eI.getText(c)){const e=o.eI.getText(c),n=o.eI.getText(d);(0,r.Z)(e),(0,r.Z)(n),e.length>t.position&&e.delete(t.position,e.length-t.position),void 0!==n&&void 0!==t.position&&n.delete(0,t.position)}else{const e=o.eI.getChildren(c),n=o.eI.getChildren(d);(0,r.Z)(e),(0,r.Z)(n),e.delete(t.position,e.length-t.position),void 0!==t.position&&n.delete(0,t.position)}return e}},f=l;var u=n(55013);const g={insert_text:function(e,t){const n=i(e,t.path),s=o.P9.getText(n);return(0,r.Z)(s,"Apply text operation to non text node"),s.insert(t.offset,t.text),e},remove_text:function(e,t){const n=i(e,t.path);return(0,u.m0)(o.P9.getText(n),"could not find text in node").delete(t.offset,t.text.length),e}},p={...g,...f,set_selection:e=>e};function v(e,t,n){return(0,r.Z)(e.doc,"Shared type without attached document"),t.length>0&&e.doc.transact((()=>{t.forEach((t=>function(e,t){const n=p[t.type];if(!n)throw new Error("Unknown operation: ".concat(t.type));return n(e,t)}(e,t)))}),n),e}},18157:(e,t,n)=>{n.d(t,{DI:()=>o,P9:()=>s,eI:()=>i});var r=n(42515);const o=Symbol("slate-yjs"),s={getText:e=>null===e||void 0===e?void 0:e.get("text"),getChildren:e=>null===e||void 0===e?void 0:e.get("children")},i={getChildren:e=>e instanceof r.mJ?e:s.getChildren(e),getText(e){if(!(e instanceof r.mJ))return s.getText(e)}}},57016:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(42515),o=n(18157);function s(e){const t=o.P9.getText(e),n=o.P9.getChildren(e),i=new r.D5;if(void 0!==t){const e=new r.xv(t.toString());i.set("text",e)}if(void 0!==n){const e=n.map(s),t=new r.mJ;t.insert(0,e),i.set("children",t)}return Array.from(e.entries()).forEach((e=>{let[t,n]=e;"children"!==t&&"text"!==t&&i.set(t,n)})),i}},99626:(e,t,n)=>{n.d(t,{HQ:()=>a,TR:()=>h,_9:()=>d,vq:()=>c});var r=n(42515),o=n(74673),s=n(55013),i=n(18157);function c(e){const t=i.P9.getText(e),n=i.P9.getChildren(e),r={};void 0!==t&&(r.text=t.toString()),void 0!==n&&(r.children=n.map(c));const o=e.entries();return Array.from(o).forEach((e=>{let[t,n]=e;"children"!==t&&"text"!==t&&(r[t]=n)})),r}function a(e){return e.map(c)}function d(e){const t=new r.D5;if((0,o.kKo)(e)){const n=e.children.map(d),o=new r.mJ;o.insert(0,n),t.set("children",o)}if((0,o.GsE)(e)){const n=new r.xv(e.text);t.set("text",n)}return Object.entries(e).forEach((e=>{let[n,r]=e;"children"!==n&&"text"!==n&&t.set(n,r)})),t}function h(e){return e.filter((e=>"number"===typeof e))}(0,s.LH)()},12666:(e,t,n)=>{n.d(t,{HQ:()=>o.HQ,_S:()=>r.Z});var r=n(57016),o=n(99626)},77805:(e,t,n)=>{n.d(t,{F:()=>s});var r=n(60046),o=n(14300).Buffer;const s=()=>{const e=new r.Subject;return{message:e,receive:t=>{e.next(o.from(t))}}}},11471:(e,t,n)=>{n.d(t,{T:()=>l});var r=n(26290),o=n.n(r),s=n(60046),i=n(67837),c=n(55013),a=n(14300).Buffer;class d{constructor(e){o()(this,"pendingMessages",void 0),o()(this,"expectedMessageCount",void 0),this.pendingMessages=new Array(e),this.expectedMessageCount=e}}class h{constructor(){o()(this,"messages",new s.Subject),o()(this,"pendingMessages",new Map)}maybeFinalizeMessage(e){const t=(0,c.m0)(this.pendingMessages.get(e));t.pendingMessages.filter((e=>null!=e)).length===t.expectedMessageCount&&this.release(e)}release(e){const t=(0,c.m0)(this.pendingMessages.get(e));this.messages.next(a.concat(t.pendingMessages)),this.pendingMessages.delete(e)}receive(e){const t=new i.h(e),n=(0,i.kf)(t),r=(0,i.X0)(t);let o=this.pendingMessages.get(n);o||(o=new d(r),this.pendingMessages.set(n,o));const s=(0,i.X0)(t),c=(0,i.X0)(t);o.pendingMessages[s]=(0,i.k5)(t,c),this.maybeFinalizeMessage(n)}get pending(){return this.pendingMessages.size}}n(14300).Buffer;const l=()=>{const e=new h;return{message:e.messages,receive:e.receive.bind(e)}}},74881:(e,t,n)=>{n.d(t,{J9:()=>o,Mr:()=>r,RO:()=>s,r9:()=>i});const r=0,o=3,s=1,i=2}};
//# sourceMappingURL=7082.8c9fd82c.chunk.js.map