{"version":3,"file":"static/js/5563.1be07f2d.chunk.js","mappings":"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","sources":["../../../node_modules/@emotion/sheet/dist/sheet.esm.js","../../../node_modules/@emotion/core/node_modules/@emotion/weak-memoize/dist/weak-memoize.esm.js","../../../node_modules/@emotion/core/node_modules/@emotion/cache/dist/cache.esm.js","../../../node_modules/@emotion/core/node_modules/@emotion/utils/dist/utils.esm.js","../../../node_modules/@emotion/hash/dist/hash.esm.js","../../../node_modules/@emotion/serialize/dist/serialize.esm.js","../../../node_modules/@emotion/serialize/node_modules/@emotion/memoize/dist/memoize.esm.js","../../../node_modules/@emotion/core/dist/emotion-element-39b82f0b.esm.js","../../../node_modules/@emotion/css/dist/css.esm.js","../../../node_modules/@emotion/core/dist/core.esm.js","../../../node_modules/@radix-ui/primitive/dist/packages/core/primitive/src/primitive.tsx","../../../node_modules/@radix-ui/react-collection/dist/packages/react/collection/src/Collection.tsx","../../../node_modules/@radix-ui/react-context/dist/packages/react/context/src/createContext.tsx","../../../node_modules/@radix-ui/react-direction/dist/packages/react/direction/src/Direction.tsx","../../../node_modules/@radix-ui/react-menu/node_modules/@radix-ui/react-dismissable-layer/dist/packages/react/dismissable-layer/src/DismissableLayer.tsx","../../../node_modules/@radix-ui/react-menu/node_modules/@radix-ui/react-use-escape-keydown/dist/packages/react/use-escape-keydown/src/useEscapeKeydown.tsx","../../../node_modules/@radix-ui/react-menu/node_modules/@radix-ui/react-focus-guards/dist/packages/react/focus-guards/src/FocusGuards.tsx","../../../node_modules/@radix-ui/react-menu/node_modules/@radix-ui/react-focus-scope/dist/packages/react/focus-scope/src/FocusScope.tsx","../../../node_modules/@radix-ui/react-id/dist/packages/react/id/src/id.tsx","../../../node_modules/@radix-ui/react-menu/node_modules/@radix-ui/react-popper/dist/packages/react/popper/src/Popper.tsx","../../../node_modules/@radix-ui/react-menu/node_modules/@radix-ui/react-portal/dist/packages/react/portal/src/Portal.tsx","../../../node_modules/@radix-ui/react-roving-focus/dist/packages/react/roving-focus/src/RovingFocusGroup.tsx","../../../node_modules/@radix-ui/react-menu/dist/packages/react/menu/src/Menu.tsx","../../../node_modules/@radix-ui/react-dropdown-menu/dist/packages/react/dropdown-menu/src/DropdownMenu.tsx","../../../node_modules/@radix-ui/react-hover-card/node_modules/@radix-ui/react-slot/dist/packages/react/slot/src/Slot.tsx","../../../node_modules/@radix-ui/react-hover-card/node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../../../node_modules/@radix-ui/react-hover-card/node_modules/@radix-ui/react-arrow/dist/packages/react/arrow/src/Arrow.tsx","../../../node_modules/@radix-ui/react-hover-card/node_modules/@radix-ui/react-popper/dist/packages/react/popper/src/Popper.tsx","../../../node_modules/@radix-ui/react-hover-card/node_modules/@radix-ui/react-portal/dist/packages/react/portal/src/Portal.tsx","../../../node_modules/@radix-ui/react-hover-card/node_modules/@radix-ui/react-dismissable-layer/dist/packages/react/dismissable-layer/src/DismissableLayer.tsx","../../../node_modules/@radix-ui/react-hover-card/node_modules/@radix-ui/react-use-escape-keydown/dist/packages/react/use-escape-keydown/src/useEscapeKeydown.tsx","../../../node_modules/@radix-ui/react-hover-card/dist/packages/react/hover-card/src/HoverCard.tsx","../../../node_modules/@radix-ui/react-presence/dist/packages/react/presence/src/Presence.tsx","../../../node_modules/@radix-ui/react-presence/dist/packages/react/presence/src/useStateMachine.tsx","../../../node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../../../node_modules/@radix-ui/react-use-callback-ref/dist/packages/react/use-callback-ref/src/useCallbackRef.tsx","../../../node_modules/@radix-ui/react-use-controllable-state/dist/packages/react/use-controllable-state/src/useControllableState.tsx","../../../node_modules/@radix-ui/react-use-layout-effect/dist/packages/react/use-layout-effect/src/useLayoutEffect.tsx","../../../node_modules/@radix-ui/react-use-size/dist/packages/react/use-size/src/useSize.tsx","../../../node_modules/src/helpers.ts","../../../node_modules/@sentry/src/integrations/inboundfilters.ts","../../../node_modules/@sentry/src/integrations/functiontostring.ts","../../../node_modules/@sentry/src/integration.ts","../../../node_modules/@sentry/src/sdk.ts","../../../node_modules/@sentry/src/error.ts","../../../node_modules/@sentry/src/dsn.ts","../../../node_modules/@sentry/src/api.ts","../../../node_modules/@sentry/src/memo.ts","../../../node_modules/@sentry/src/normalize.ts","../../../node_modules/@sentry/src/envelope.ts","../../../node_modules/@sentry/src/utils/prepareEvent.ts","../../../node_modules/@sentry/src/baseclient.ts","../../../node_modules/src/eventbuilder.ts","../../../node_modules/@sentry/src/severity.ts","../../../node_modules/@sentry/src/url.ts","../../../node_modules/src/integrations/breadcrumbs.ts","../../../node_modules/src/client.ts","../../../node_modules/@sentry/src/clientreport.ts","../../../node_modules/src/integrations/globalhandlers.ts","../../../node_modules/src/integrations/trycatch.ts","../../../node_modules/src/integrations/linkederrors.ts","../../../node_modules/src/integrations/httpcontext.ts","../../../node_modules/src/integrations/dedupe.ts","../../../node_modules/src/stack-parsers.ts","../../../node_modules/@sentry/src/promisebuffer.ts","../../../node_modules/@sentry/src/ratelimit.ts","../../../node_modules/@sentry/src/transports/base.ts","../../../node_modules/src/transports/utils.ts","../../../node_modules/src/transports/fetch.ts","../../../node_modules/src/transports/xhr.ts","../../../node_modules/src/sdk.ts","../../../node_modules/@sentry/src/exports.ts","../../../node_modules/@sentry/src/hub.ts","../../../node_modules/@sentry/src/scope.ts","../../../node_modules/@sentry/src/session.ts","../../../node_modules/@sentry/src/version.ts","../../../node_modules/@sentry/src/reactrouterv6.tsx","../../../node_modules/src/errors.ts","../../../node_modules/src/hubextensions.ts","../../../node_modules/src/idletransaction.ts","../../../node_modules/@sentry/src/tracing.ts","../../../node_modules/@sentry/src/baggage.ts","../../../node_modules/src/browser/types.ts","../../../node_modules/src/browser/web-vitals/lib/bindReporter.ts","../../../node_modules/src/browser/web-vitals/lib/getNavigationEntry.ts","../../../node_modules/src/browser/web-vitals/lib/getActivationStart.ts","../../../node_modules/src/browser/web-vitals/lib/initMetric.ts","../../../node_modules/src/browser/web-vitals/lib/generateUniqueID.ts","../../../node_modules/src/browser/web-vitals/lib/observe.ts","../../../node_modules/src/browser/web-vitals/lib/onHidden.ts","../../../node_modules/src/browser/web-vitals/lib/getVisibilityWatcher.ts","../../../node_modules/src/browser/web-vitals/getLCP.ts","../../../node_modules/src/browser/metrics/utils.ts","../../../node_modules/src/browser/metrics/index.ts","../../../node_modules/src/browser/web-vitals/getCLS.ts","../../../node_modules/src/browser/web-vitals/getFID.ts","../../../node_modules/src/browser/request.ts","../../../node_modules/src/browser/browsertracing.ts","../../../node_modules/src/browser/router.ts","../../../node_modules/src/browser/backgroundtab.ts","../../../node_modules/src/index.ts","../../../node_modules/src/span.ts","../../../node_modules/src/transaction.ts","../../../node_modules/src/utils.ts","../../../node_modules/@sentry/src/browser.ts","../../../node_modules/@sentry/src/env.ts","../../../node_modules/@sentry/src/instrument.ts","../../../node_modules/@sentry/src/is.ts","../../../node_modules/@sentry/src/logger.ts","../../../node_modules/@sentry/src/misc.ts","../../../node_modules/@sentry/src/node.ts","../../../node_modules/@sentry/src/object.ts","../../../node_modules/@sentry/src/stacktrace.ts","../../../node_modules/@sentry/src/string.ts","../../../node_modules/@sentry/src/supports.ts","../../../node_modules/@sentry/src/syncpromise.ts","../../../node_modules/@sentry/src/time.ts","../../../node_modules/@sentry/src/worldwide.ts","../../../node_modules/@xzar90/react-router-hash-link/node_modules/object-assign/index.js","../../../node_modules/@xzar90/react-router-hash-link/node_modules/react/cjs/react-jsx-runtime.production.min.js","../../../node_modules/@xzar90/react-router-hash-link/node_modules/react/cjs/react-jsx-runtime.development.js","../../../node_modules/@xzar90/react-router-hash-link/node_modules/react/jsx-runtime.js","../../../node_modules/@xzar90/react-router-hash-link/src/LinkState.ts","../../../node_modules/@xzar90/react-router-hash-link/src/checkIfCanScroll.ts","../../../node_modules/@xzar90/react-router-hash-link/src/getLinkHash.ts","../../../node_modules/@xzar90/react-router-hash-link/src/reset.ts","../../../node_modules/@xzar90/react-router-hash-link/src/isInteractiveElement.ts","../../../node_modules/@xzar90/react-router-hash-link/src/getElAndScroll.ts","../../../node_modules/@xzar90/react-router-hash-link/src/hashLinkScroll.ts","../../../node_modules/@xzar90/react-router-hash-link/src/scrollIntoView.ts","../../../node_modules/@xzar90/react-router-hash-link/src/HashLink.tsx","../../../node_modules/@xzar90/react-router-hash-link/src/NavHashLink.tsx","../../../node_modules/bowser/src/constants.js","../../../node_modules/bowser/src/utils.js","../../../node_modules/bowser/src/parser-browsers.js","../../../node_modules/bowser/src/parser-os.js","../../../node_modules/bowser/src/parser-platforms.js","../../../node_modules/bowser/src/parser-engines.js","../../../node_modules/bowser/src/parser.js","../../../node_modules/bowser/src/bowser.js","../../../node_modules/call-bind/callBound.js","../../../node_modules/call-bind/index.js","../../../node_modules/charenc/charenc.js","../../../node_modules/crypt/crypt.js","../../../node_modules/function-bind/implementation.js","../../../node_modules/function-bind/index.js","../../../node_modules/get-intrinsic/index.js","../../../node_modules/graphql-tag/src/index.ts","../../../node_modules/has-symbols/index.js","../../../node_modules/has-symbols/shams.js","../../../node_modules/has/src/index.js","../../../node_modules/is-retina/index.js","../../../node_modules/md5/md5.js","../../../node_modules/md5/node_modules/is-buffer/index.js","../../../node_modules/object-inspect/index.js","../../../node_modules/object-inspect/util.inspect.js","../../../node_modules/prop-types/factoryWithThrowingShims.js","../../../node_modules/prop-types/index.js","../../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../../node_modules/qs/lib/formats.js","../../../node_modules/qs/lib/index.js","../../../node_modules/qs/lib/parse.js","../../../node_modules/qs/lib/stringify.js","../../../node_modules/qs/lib/utils.js","../../../node_modules/query-string/index.js","../../../node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../../../node_modules/react-fast-compare/index.js","../../../node_modules/react-gravatar/dist/index.js","../../../node_modules/react-helmet/es/Helmet.js","../../../node_modules/react-remove-scroll-bar/dist/es2015/constants.js","../../../node_modules/use-callback-ref/dist/es2015/useMergeRef.js","../../../node_modules/use-callback-ref/dist/es2015/useRef.js","../../../node_modules/use-callback-ref/dist/es2015/assignRef.js","../../../node_modules/use-sidecar/dist/es2015/medium.js","../../../node_modules/react-remove-scroll/dist/es2015/medium.js","../../../node_modules/react-remove-scroll/dist/es2015/UI.js","../../../node_modules/use-sidecar/dist/es2015/exports.js","../../../node_modules/get-nonce/dist/es2015/index.js","../../../node_modules/react-style-singleton/dist/es2015/singleton.js","../../../node_modules/react-style-singleton/dist/es2015/component.js","../../../node_modules/react-style-singleton/dist/es2015/hook.js","../../../node_modules/react-remove-scroll-bar/dist/es2015/utils.js","../../../node_modules/react-remove-scroll-bar/dist/es2015/component.js","../../../node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js","../../../node_modules/react-remove-scroll/dist/es2015/handleScroll.js","../../../node_modules/react-remove-scroll/dist/es2015/SideEffect.js","../../../node_modules/react-remove-scroll/dist/es2015/sidecar.js","../../../node_modules/react-remove-scroll/dist/es2015/Combination.js","../../../node_modules/react-router-dom/dom.ts","../../../node_modules/react-router-dom/index.tsx","../../../node_modules/react-side-effect/lib/index.js","../../../node_modules/react-toast-notifications/dist/ToastContainer.js","../../../node_modules/react-toast-notifications/dist/ToastController.js","../../../node_modules/react-toast-notifications/dist/ToastElement.js","../../../node_modules/react-toast-notifications/dist/ToastProvider.js","../../../node_modules/react-toast-notifications/dist/colors.js","../../../node_modules/react-toast-notifications/dist/icons.js","../../../node_modules/react-toast-notifications/dist/index.js","../../../node_modules/react-toast-notifications/dist/utils.js","../../../node_modules/dom-helpers/esm/removeClass.js","../../../node_modules/react-transition-group/esm/config.js","../../../node_modules/react-transition-group/esm/TransitionGroupContext.js","../../../node_modules/react-transition-group/esm/Transition.js","../../../node_modules/react-transition-group/esm/CSSTransition.js","../../../node_modules/dom-helpers/esm/addClass.js","../../../node_modules/dom-helpers/esm/hasClass.js","../../../node_modules/react-transition-group/esm/utils/ChildMapping.js","../../../node_modules/react-transition-group/esm/TransitionGroup.js","../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/react-transition-group/esm/ReplaceTransition.js","../../../node_modules/react-transition-group/esm/SwitchTransition.js","../../../node_modules/react-use-intercom/src/logger.ts","../../../node_modules/react-use-intercom/src/utils.ts","../../../node_modules/react-use-intercom/src/api.ts","../../../node_modules/react-use-intercom/src/context.ts","../../../node_modules/react-use-intercom/src/mappers.ts","../../../node_modules/react-use-intercom/src/provider.tsx","../../../node_modules/react-use-intercom/src/initialize.ts","../../../node_modules/react-use-intercom/src/useIntercom.ts","../../../node_modules/side-channel/index.js","../../../node_modules/strict-uri-encode/index.js","../../src/index.ts","../../src/parser.ts","../../src/react-router.tsx","../../src/route.ts","../../../node_modules/typesafe-routes/react-router.js","../../../node_modules/use-query-params/adapters/react-router-6/index.js","../../../node_modules/serialize-query-params/src/withDefault.ts","../../../node_modules/serialize-query-params/src/serialize.ts","../../../node_modules/serialize-query-params/src/params.ts","../../../node_modules/serialize-query-params/src/updateLocation.ts","../../../node_modules/serialize-query-params/src/encodeQueryParams.ts","../../../node_modules/use-query-params/src/decodedParamCache.ts","../../../node_modules/use-query-params/src/inheritedParams.ts","../../../node_modules/use-query-params/src/shallowEqual.ts","../../../node_modules/use-query-params/src/latestValues.ts","../../../node_modules/use-query-params/src/memoSearchStringToObject.ts","../../../node_modules/use-query-params/src/urlName.ts","../../../node_modules/use-query-params/src/options.ts","../../../node_modules/use-query-params/src/QueryParamProvider.tsx","../../../node_modules/serialize-query-params/src/searchStringToObject.ts","../../../node_modules/serialize-query-params/src/objectToSearchString.ts","../../../node_modules/use-query-params/src/updateSearchString.ts","../../../node_modules/use-query-params/src/removeDefaults.ts","../../../node_modules/use-query-params/src/useQueryParams.ts","../../../node_modules/use-query-params/src/useQueryParam.ts","../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../../node_modules/@react-dnd/invariant/src/index.ts","../../../node_modules/react-dnd-html5-backend/src/NativeTypes.ts","../../../node_modules/react-dnd-html5-backend/src/utils/js_utils.ts","../../../node_modules/react-dnd-html5-backend/src/EnterLeaveCounter.ts","../../../node_modules/react-dnd-html5-backend/src/NativeDragSources/NativeDragSource.ts","../../../node_modules/react-dnd-html5-backend/src/NativeDragSources/getDataFromDataTransfer.ts","../../../node_modules/react-dnd-html5-backend/src/NativeDragSources/nativeTypesConfig.ts","../../../node_modules/react-dnd-html5-backend/src/NativeDragSources/index.ts","../../../node_modules/react-dnd-html5-backend/src/BrowserDetector.ts","../../../node_modules/react-dnd-html5-backend/src/MonotonicInterpolant.ts","../../../node_modules/react-dnd-html5-backend/src/OffsetUtils.ts","../../../node_modules/react-dnd-html5-backend/src/OptionsReader.ts","../../../node_modules/react-dnd-html5-backend/src/HTML5BackendImpl.ts","../../../node_modules/react-dnd-html5-backend/src/index.ts","../../../node_modules/react-dnd-touch-backend/src/interfaces.ts","../../../node_modules/react-dnd-touch-backend/src/OptionsReader.ts","../../../node_modules/react-dnd-touch-backend/src/utils/predicates.ts","../../../node_modules/react-dnd-touch-backend/src/utils/offsets.ts","../../../node_modules/react-dnd-touch-backend/src/utils/supportsPassive.ts","../../../node_modules/react-dnd-touch-backend/src/TouchBackendImpl.ts","../../../node_modules/react-dnd-touch-backend/src/utils/math.ts","../../../node_modules/react-dnd-touch-backend/src/index.ts","../../../node_modules/react-dnd/src/core/DndContext.ts","../../../node_modules/redux/es/redux.js","../../../node_modules/dnd-core/src/utils/js_utils.ts","../../../node_modules/dnd-core/src/actions/dragDrop/types.ts","../../../node_modules/dnd-core/src/actions/dragDrop/local/setClientOffset.ts","../../../node_modules/dnd-core/src/actions/dragDrop/beginDrag.ts","../../../node_modules/dnd-core/src/actions/dragDrop/drop.ts","../../../node_modules/dnd-core/src/actions/dragDrop/endDrag.ts","../../../node_modules/dnd-core/src/utils/matchesType.ts","../../../node_modules/dnd-core/src/actions/dragDrop/hover.ts","../../../node_modules/dnd-core/src/actions/dragDrop/publishDragSource.ts","../../../node_modules/dnd-core/src/classes/DragDropManagerImpl.ts","../../../node_modules/dnd-core/src/actions/dragDrop/index.ts","../../../node_modules/dnd-core/src/utils/coords.ts","../../../node_modules/dnd-core/src/utils/dirtiness.ts","../../../node_modules/dnd-core/src/classes/DragDropMonitorImpl.ts","../../../node_modules/@react-dnd/asap/src/makeRequestCall.ts","../../../node_modules/@react-dnd/asap/src/RawTask.ts","../../../node_modules/@react-dnd/asap/src/asap.ts","../../../node_modules/@react-dnd/asap/src/AsapQueue.ts","../../../node_modules/@react-dnd/asap/src/TaskFactory.ts","../../../node_modules/dnd-core/src/actions/registry.ts","../../../node_modules/dnd-core/src/contracts.ts","../../../node_modules/dnd-core/src/interfaces.ts","../../../node_modules/dnd-core/src/utils/getNextUniqueId.ts","../../../node_modules/dnd-core/src/classes/HandlerRegistryImpl.ts","../../../node_modules/dnd-core/src/utils/equality.ts","../../../node_modules/dnd-core/src/reducers/dirtyHandlerIds.ts","../../../node_modules/dnd-core/src/reducers/dragOffset.ts","../../../node_modules/dnd-core/src/reducers/dragOperation.ts","../../../node_modules/dnd-core/src/reducers/refCount.ts","../../../node_modules/dnd-core/src/reducers/stateId.ts","../../../node_modules/dnd-core/src/reducers/index.ts","../../../node_modules/dnd-core/src/createDragDropManager.ts","../../../node_modules/react-dnd/src/core/DndProvider.tsx"],"sourcesContent":["/*\n\nBased off glamor's StyleSheet, thanks Sunil ❤️\n\nhigh performance StyleSheet for css-in-js systems\n\n- uses multiple style tags behind the scenes for millions of rules\n- uses `insertRule` for appending in production for *much* faster performance\n\n// usage\n\nimport { StyleSheet } from '@emotion/sheet'\n\nlet styleSheet = new StyleSheet({ key: '', container: document.head })\n\nstyleSheet.insert('#box { border: 1px solid red; }')\n- appends a css rule into the stylesheet\n\nstyleSheet.flush()\n- empties the stylesheet of all its contents\n\n*/\n// $FlowFixMe\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    // $FlowFixMe\n    return tag.sheet;\n  } // this weirdness brought to you by firefox\n\n  /* istanbul ignore next */\n\n\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      // $FlowFixMe\n      return document.styleSheets[i];\n    }\n  }\n}\n\nfunction createStyleElement(options) {\n  var tag = document.createElement('style');\n  tag.setAttribute('data-emotion', options.key);\n\n  if (options.nonce !== undefined) {\n    tag.setAttribute('nonce', options.nonce);\n  }\n\n  tag.appendChild(document.createTextNode(''));\n  return tag;\n}\n\nvar StyleSheet =\n/*#__PURE__*/\nfunction () {\n  function StyleSheet(options) {\n    this.isSpeedy = options.speedy === undefined ? process.env.NODE_ENV === 'production' : options.speedy;\n    this.tags = [];\n    this.ctr = 0;\n    this.nonce = options.nonce; // key is the value of the data-emotion attribute, it's used to identify different sheets\n\n    this.key = options.key;\n    this.container = options.container;\n    this.before = null;\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.insert = function insert(rule) {\n    // the max length is how many rules we have per style tag, it's 65000 in speedy mode\n    // it's 1 in dev because we insert source maps that map a single rule to a location\n    // and you can only have one source map per style tag\n    if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {\n      var _tag = createStyleElement(this);\n\n      var before;\n\n      if (this.tags.length === 0) {\n        before = this.before;\n      } else {\n        before = this.tags[this.tags.length - 1].nextSibling;\n      }\n\n      this.container.insertBefore(_tag, before);\n      this.tags.push(_tag);\n    }\n\n    var tag = this.tags[this.tags.length - 1];\n\n    if (this.isSpeedy) {\n      var sheet = sheetForTag(tag);\n\n      try {\n        // this is a really hot path\n        // we check the second character first because having \"i\"\n        // as the second character will happen less often than\n        // having \"@\" as the first character\n        var isImportRule = rule.charCodeAt(1) === 105 && rule.charCodeAt(0) === 64; // this is the ultrafast version, works across browsers\n        // the big drawback is that the css won't be editable in devtools\n\n        sheet.insertRule(rule, // we need to insert @import rules before anything else\n        // otherwise there will be an error\n        // technically this means that the @import rules will\n        // _usually_(not always since there could be multiple style tags)\n        // be the first ones in prod and generally later in dev\n        // this shouldn't really matter in the real world though\n        // @import is generally only used for font faces from google fonts and etc.\n        // so while this could be technically correct then it would be slower and larger\n        // for a tiny bit of correctness that won't matter in the real world\n        isImportRule ? 0 : sheet.cssRules.length);\n      } catch (e) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(\"There was a problem inserting the following rule: \\\"\" + rule + \"\\\"\", e);\n        }\n      }\n    } else {\n      tag.appendChild(document.createTextNode(rule));\n    }\n\n    this.ctr++;\n  };\n\n  _proto.flush = function flush() {\n    // $FlowFixMe\n    this.tags.forEach(function (tag) {\n      return tag.parentNode.removeChild(tag);\n    });\n    this.tags = [];\n    this.ctr = 0;\n  };\n\n  return StyleSheet;\n}();\n\nexport { StyleSheet };\n","var weakMemoize = function weakMemoize(func) {\n  // $FlowFixMe flow doesn't include all non-primitive types as allowed for weakmaps\n  var cache = new WeakMap();\n  return function (arg) {\n    if (cache.has(arg)) {\n      // $FlowFixMe\n      return cache.get(arg);\n    }\n\n    var ret = func(arg);\n    cache.set(arg, ret);\n    return ret;\n  };\n};\n\nexport default weakMemoize;\n","import { StyleSheet } from '@emotion/sheet';\nimport Stylis from '@emotion/stylis';\nimport weakMemoize from '@emotion/weak-memoize';\n\n// https://github.com/thysultan/stylis.js/tree/master/plugins/rule-sheet\n// inlined to avoid umd wrapper and peerDep warnings/installing stylis\n// since we use stylis after closure compiler\nvar delimiter = '/*|*/';\nvar needle = delimiter + '}';\n\nfunction toSheet(block) {\n  if (block) {\n    Sheet.current.insert(block + '}');\n  }\n}\n\nvar Sheet = {\n  current: null\n};\nvar ruleSheet = function ruleSheet(context, content, selectors, parents, line, column, length, ns, depth, at) {\n  switch (context) {\n    // property\n    case 1:\n      {\n        switch (content.charCodeAt(0)) {\n          case 64:\n            {\n              // @import\n              Sheet.current.insert(content + ';');\n              return '';\n            }\n          // charcode for l\n\n          case 108:\n            {\n              // charcode for b\n              // this ignores label\n              if (content.charCodeAt(2) === 98) {\n                return '';\n              }\n            }\n        }\n\n        break;\n      }\n    // selector\n\n    case 2:\n      {\n        if (ns === 0) return content + delimiter;\n        break;\n      }\n    // at-rule\n\n    case 3:\n      {\n        switch (ns) {\n          // @font-face, @page\n          case 102:\n          case 112:\n            {\n              Sheet.current.insert(selectors[0] + content);\n              return '';\n            }\n\n          default:\n            {\n              return content + (at === 0 ? delimiter : '');\n            }\n        }\n      }\n\n    case -2:\n      {\n        content.split(needle).forEach(toSheet);\n      }\n  }\n};\nvar removeLabel = function removeLabel(context, content) {\n  if (context === 1 && // charcode for l\n  content.charCodeAt(0) === 108 && // charcode for b\n  content.charCodeAt(2) === 98 // this ignores label\n  ) {\n      return '';\n    }\n};\n\nvar isBrowser = typeof document !== 'undefined';\nvar rootServerStylisCache = {};\nvar getServerStylisCache = isBrowser ? undefined : weakMemoize(function () {\n  var getCache = weakMemoize(function () {\n    return {};\n  });\n  var prefixTrueCache = {};\n  var prefixFalseCache = {};\n  return function (prefix) {\n    if (prefix === undefined || prefix === true) {\n      return prefixTrueCache;\n    }\n\n    if (prefix === false) {\n      return prefixFalseCache;\n    }\n\n    return getCache(prefix);\n  };\n});\n\nvar createCache = function createCache(options) {\n  if (options === undefined) options = {};\n  var key = options.key || 'css';\n  var stylisOptions;\n\n  if (options.prefix !== undefined) {\n    stylisOptions = {\n      prefix: options.prefix\n    };\n  }\n\n  var stylis = new Stylis(stylisOptions);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe\n    if (/[^a-z-]/.test(key)) {\n      throw new Error(\"Emotion key must only contain lower case alphabetical characters and - but \\\"\" + key + \"\\\" was passed\");\n    }\n  }\n\n  var inserted = {}; // $FlowFixMe\n\n  var container;\n\n  if (isBrowser) {\n    container = options.container || document.head;\n    var nodes = document.querySelectorAll(\"style[data-emotion-\" + key + \"]\");\n    Array.prototype.forEach.call(nodes, function (node) {\n      var attrib = node.getAttribute(\"data-emotion-\" + key); // $FlowFixMe\n\n      attrib.split(' ').forEach(function (id) {\n        inserted[id] = true;\n      });\n\n      if (node.parentNode !== container) {\n        container.appendChild(node);\n      }\n    });\n  }\n\n  var _insert;\n\n  if (isBrowser) {\n    stylis.use(options.stylisPlugins)(ruleSheet);\n\n    _insert = function insert(selector, serialized, sheet, shouldCache) {\n      var name = serialized.name;\n      Sheet.current = sheet;\n\n      if (process.env.NODE_ENV !== 'production' && serialized.map !== undefined) {\n        var map = serialized.map;\n        Sheet.current = {\n          insert: function insert(rule) {\n            sheet.insert(rule + map);\n          }\n        };\n      }\n\n      stylis(selector, serialized.styles);\n\n      if (shouldCache) {\n        cache.inserted[name] = true;\n      }\n    };\n  } else {\n    stylis.use(removeLabel);\n    var serverStylisCache = rootServerStylisCache;\n\n    if (options.stylisPlugins || options.prefix !== undefined) {\n      stylis.use(options.stylisPlugins); // $FlowFixMe\n\n      serverStylisCache = getServerStylisCache(options.stylisPlugins || rootServerStylisCache)(options.prefix);\n    }\n\n    var getRules = function getRules(selector, serialized) {\n      var name = serialized.name;\n\n      if (serverStylisCache[name] === undefined) {\n        serverStylisCache[name] = stylis(selector, serialized.styles);\n      }\n\n      return serverStylisCache[name];\n    };\n\n    _insert = function _insert(selector, serialized, sheet, shouldCache) {\n      var name = serialized.name;\n      var rules = getRules(selector, serialized);\n\n      if (cache.compat === undefined) {\n        // in regular mode, we don't set the styles on the inserted cache\n        // since we don't need to and that would be wasting memory\n        // we return them so that they are rendered in a style tag\n        if (shouldCache) {\n          cache.inserted[name] = true;\n        }\n\n        if ( // using === development instead of !== production\n        // because if people do ssr in tests, the source maps showing up would be annoying\n        process.env.NODE_ENV === 'development' && serialized.map !== undefined) {\n          return rules + serialized.map;\n        }\n\n        return rules;\n      } else {\n        // in compat mode, we put the styles on the inserted cache so\n        // that emotion-server can pull out the styles\n        // except when we don't want to cache it which was in Global but now\n        // is nowhere but we don't want to do a major right now\n        // and just in case we're going to leave the case here\n        // it's also not affecting client side bundle size\n        // so it's really not a big deal\n        if (shouldCache) {\n          cache.inserted[name] = rules;\n        } else {\n          return rules;\n        }\n      }\n    };\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    // https://esbench.com/bench/5bf7371a4cd7e6009ef61d0a\n    var commentStart = /\\/\\*/g;\n    var commentEnd = /\\*\\//g;\n    stylis.use(function (context, content) {\n      switch (context) {\n        case -1:\n          {\n            while (commentStart.test(content)) {\n              commentEnd.lastIndex = commentStart.lastIndex;\n\n              if (commentEnd.test(content)) {\n                commentStart.lastIndex = commentEnd.lastIndex;\n                continue;\n              }\n\n              throw new Error('Your styles have an unterminated comment (\"/*\" without corresponding \"*/\").');\n            }\n\n            commentStart.lastIndex = 0;\n            break;\n          }\n      }\n    });\n    stylis.use(function (context, content, selectors) {\n      switch (context) {\n        case -1:\n          {\n            var flag = 'emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason';\n            var unsafePseudoClasses = content.match(/(:first|:nth|:nth-last)-child/g);\n\n            if (unsafePseudoClasses && cache.compat !== true) {\n              unsafePseudoClasses.forEach(function (unsafePseudoClass) {\n                var ignoreRegExp = new RegExp(unsafePseudoClass + \".*\\\\/\\\\* \" + flag + \" \\\\*\\\\/\");\n                var ignore = ignoreRegExp.test(content);\n\n                if (unsafePseudoClass && !ignore) {\n                  console.error(\"The pseudo class \\\"\" + unsafePseudoClass + \"\\\" is potentially unsafe when doing server-side rendering. Try changing it to \\\"\" + unsafePseudoClass.split('-child')[0] + \"-of-type\\\".\");\n                }\n              });\n            }\n\n            break;\n          }\n      }\n    });\n  }\n\n  var cache = {\n    key: key,\n    sheet: new StyleSheet({\n      key: key,\n      container: container,\n      nonce: options.nonce,\n      speedy: options.speedy\n    }),\n    nonce: options.nonce,\n    inserted: inserted,\n    registered: {},\n    insert: _insert\n  };\n  return cache;\n};\n\nexport default createCache;\n","var isBrowser = typeof document !== 'undefined';\nfunction getRegisteredStyles(registered, registeredStyles, classNames) {\n  var rawClassName = '';\n  classNames.split(' ').forEach(function (className) {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className]);\n    } else {\n      rawClassName += className + \" \";\n    }\n  });\n  return rawClassName;\n}\nvar insertStyles = function insertStyles(cache, serialized, isStringTag) {\n  var className = cache.key + \"-\" + serialized.name;\n\n  if ( // we only need to add the styles to the registered cache if the\n  // class name could be used further down\n  // the tree but if it's a string tag, we know it won't\n  // so we don't have to add it to registered cache.\n  // this improves memory usage since we can avoid storing the whole style string\n  (isStringTag === false || // we need to always store it if we're in compat mode and\n  // in node since emotion-server relies on whether a style is in\n  // the registered cache to know whether a style is global or not\n  // also, note that this check will be dead code eliminated in the browser\n  isBrowser === false && cache.compat !== undefined) && cache.registered[className] === undefined) {\n    cache.registered[className] = serialized.styles;\n  }\n\n  if (cache.inserted[serialized.name] === undefined) {\n    var stylesForSSR = '';\n    var current = serialized;\n\n    do {\n      var maybeStyles = cache.insert(\".\" + className, current, cache.sheet, true);\n\n      if (!isBrowser && maybeStyles !== undefined) {\n        stylesForSSR += maybeStyles;\n      }\n\n      current = current.next;\n    } while (current !== undefined);\n\n    if (!isBrowser && stylesForSSR.length !== 0) {\n      return stylesForSSR;\n    }\n  }\n};\n\nexport { getRegisteredStyles, insertStyles };\n","/* eslint-disable */\n// Inspired by https://github.com/garycourt/murmurhash-js\n// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86\nfunction murmur2(str) {\n  // 'm' and 'r' are mixing constants generated offline.\n  // They're not really 'magic', they just happen to work well.\n  // const m = 0x5bd1e995;\n  // const r = 24;\n  // Initialize the hash\n  var h = 0; // Mix 4 bytes at a time into the hash\n\n  var k,\n      i = 0,\n      len = str.length;\n\n  for (; len >= 4; ++i, len -= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16);\n    k ^=\n    /* k >>> r: */\n    k >>> 24;\n    h =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16) ^\n    /* Math.imul(h, m): */\n    (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Handle the last few bytes of the input array\n\n\n  switch (len) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h =\n      /* Math.imul(h, m): */\n      (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Do a few final mixes of the hash to ensure the last few\n  // bytes are well-incorporated.\n\n\n  h ^= h >>> 13;\n  h =\n  /* Math.imul(h, m): */\n  (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  return ((h ^ h >>> 15) >>> 0).toString(36);\n}\n\nexport default murmur2;\n","import hashString from '@emotion/hash';\nimport unitless from '@emotion/unitless';\nimport memoize from '@emotion/memoize';\n\nvar ILLEGAL_ESCAPE_SEQUENCE_ERROR = \"You have illegal escape sequence in your template literal, most likely inside content's property value.\\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \\\"content: '\\\\00d7';\\\" should become \\\"content: '\\\\\\\\00d7';\\\".\\nYou can read more about this here:\\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences\";\nvar UNDEFINED_AS_OBJECT_KEY_ERROR = \"You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).\";\nvar hyphenateRegex = /[A-Z]|^ms/g;\nvar animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;\n\nvar isCustomProperty = function isCustomProperty(property) {\n  return property.charCodeAt(1) === 45;\n};\n\nvar isProcessableValue = function isProcessableValue(value) {\n  return value != null && typeof value !== 'boolean';\n};\n\nvar processStyleName = memoize(function (styleName) {\n  return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, '-$&').toLowerCase();\n});\n\nvar processStyleValue = function processStyleValue(key, value) {\n  switch (key) {\n    case 'animation':\n    case 'animationName':\n      {\n        if (typeof value === 'string') {\n          return value.replace(animationRegex, function (match, p1, p2) {\n            cursor = {\n              name: p1,\n              styles: p2,\n              next: cursor\n            };\n            return p1;\n          });\n        }\n      }\n  }\n\n  if (unitless[key] !== 1 && !isCustomProperty(key) && typeof value === 'number' && value !== 0) {\n    return value + 'px';\n  }\n\n  return value;\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  var contentValuePattern = /(attr|calc|counters?|url)\\(/;\n  var contentValues = ['normal', 'none', 'counter', 'open-quote', 'close-quote', 'no-open-quote', 'no-close-quote', 'initial', 'inherit', 'unset'];\n  var oldProcessStyleValue = processStyleValue;\n  var msPattern = /^-ms-/;\n  var hyphenPattern = /-(.)/g;\n  var hyphenatedCache = {};\n\n  processStyleValue = function processStyleValue(key, value) {\n    if (key === 'content') {\n      if (typeof value !== 'string' || contentValues.indexOf(value) === -1 && !contentValuePattern.test(value) && (value.charAt(0) !== value.charAt(value.length - 1) || value.charAt(0) !== '\"' && value.charAt(0) !== \"'\")) {\n        console.error(\"You seem to be using a value for 'content' without quotes, try replacing it with `content: '\\\"\" + value + \"\\\"'`\");\n      }\n    }\n\n    var processed = oldProcessStyleValue(key, value);\n\n    if (processed !== '' && !isCustomProperty(key) && key.indexOf('-') !== -1 && hyphenatedCache[key] === undefined) {\n      hyphenatedCache[key] = true;\n      console.error(\"Using kebab-case for css properties in objects is not supported. Did you mean \" + key.replace(msPattern, 'ms-').replace(hyphenPattern, function (str, _char) {\n        return _char.toUpperCase();\n      }) + \"?\");\n    }\n\n    return processed;\n  };\n}\n\nvar shouldWarnAboutInterpolatingClassNameFromCss = true;\n\nfunction handleInterpolation(mergedProps, registered, interpolation, couldBeSelectorInterpolation) {\n  if (interpolation == null) {\n    return '';\n  }\n\n  if (interpolation.__emotion_styles !== undefined) {\n    if (process.env.NODE_ENV !== 'production' && interpolation.toString() === 'NO_COMPONENT_SELECTOR') {\n      throw new Error('Component selectors can only be used in conjunction with babel-plugin-emotion.');\n    }\n\n    return interpolation;\n  }\n\n  switch (typeof interpolation) {\n    case 'boolean':\n      {\n        return '';\n      }\n\n    case 'object':\n      {\n        if (interpolation.anim === 1) {\n          cursor = {\n            name: interpolation.name,\n            styles: interpolation.styles,\n            next: cursor\n          };\n          return interpolation.name;\n        }\n\n        if (interpolation.styles !== undefined) {\n          var next = interpolation.next;\n\n          if (next !== undefined) {\n            // not the most efficient thing ever but this is a pretty rare case\n            // and there will be very few iterations of this generally\n            while (next !== undefined) {\n              cursor = {\n                name: next.name,\n                styles: next.styles,\n                next: cursor\n              };\n              next = next.next;\n            }\n          }\n\n          var styles = interpolation.styles + \";\";\n\n          if (process.env.NODE_ENV !== 'production' && interpolation.map !== undefined) {\n            styles += interpolation.map;\n          }\n\n          return styles;\n        }\n\n        return createStringFromObject(mergedProps, registered, interpolation);\n      }\n\n    case 'function':\n      {\n        if (mergedProps !== undefined) {\n          var previousCursor = cursor;\n          var result = interpolation(mergedProps);\n          cursor = previousCursor;\n          return handleInterpolation(mergedProps, registered, result, couldBeSelectorInterpolation);\n        } else if (process.env.NODE_ENV !== 'production') {\n          console.error('Functions that are interpolated in css calls will be stringified.\\n' + 'If you want to have a css call based on props, create a function that returns a css call like this\\n' + 'let dynamicStyle = (props) => css`color: ${props.color}`\\n' + 'It can be called directly with props or interpolated in a styled call like this\\n' + \"let SomeComponent = styled('div')`${dynamicStyle}`\");\n        }\n\n        break;\n      }\n\n    case 'string':\n      if (process.env.NODE_ENV !== 'production') {\n        var matched = [];\n        var replaced = interpolation.replace(animationRegex, function (match, p1, p2) {\n          var fakeVarName = \"animation\" + matched.length;\n          matched.push(\"const \" + fakeVarName + \" = keyframes`\" + p2.replace(/^@keyframes animation-\\w+/, '') + \"`\");\n          return \"${\" + fakeVarName + \"}\";\n        });\n\n        if (matched.length) {\n          console.error('`keyframes` output got interpolated into plain string, please wrap it with `css`.\\n\\n' + 'Instead of doing this:\\n\\n' + [].concat(matched, [\"`\" + replaced + \"`\"]).join('\\n') + '\\n\\nYou should wrap it with `css` like this:\\n\\n' + (\"css`\" + replaced + \"`\"));\n        }\n      }\n\n      break;\n  } // finalize string values (regular strings and functions interpolated into css calls)\n\n\n  if (registered == null) {\n    return interpolation;\n  }\n\n  var cached = registered[interpolation];\n\n  if (process.env.NODE_ENV !== 'production' && couldBeSelectorInterpolation && shouldWarnAboutInterpolatingClassNameFromCss && cached !== undefined) {\n    console.error('Interpolating a className from css`` is not recommended and will cause problems with composition.\\n' + 'Interpolating a className from css`` will be completely unsupported in a future major version of Emotion');\n    shouldWarnAboutInterpolatingClassNameFromCss = false;\n  }\n\n  return cached !== undefined && !couldBeSelectorInterpolation ? cached : interpolation;\n}\n\nfunction createStringFromObject(mergedProps, registered, obj) {\n  var string = '';\n\n  if (Array.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      string += handleInterpolation(mergedProps, registered, obj[i], false);\n    }\n  } else {\n    for (var _key in obj) {\n      var value = obj[_key];\n\n      if (typeof value !== 'object') {\n        if (registered != null && registered[value] !== undefined) {\n          string += _key + \"{\" + registered[value] + \"}\";\n        } else if (isProcessableValue(value)) {\n          string += processStyleName(_key) + \":\" + processStyleValue(_key, value) + \";\";\n        }\n      } else {\n        if (_key === 'NO_COMPONENT_SELECTOR' && process.env.NODE_ENV !== 'production') {\n          throw new Error('Component selectors can only be used in conjunction with babel-plugin-emotion.');\n        }\n\n        if (Array.isArray(value) && typeof value[0] === 'string' && (registered == null || registered[value[0]] === undefined)) {\n          for (var _i = 0; _i < value.length; _i++) {\n            if (isProcessableValue(value[_i])) {\n              string += processStyleName(_key) + \":\" + processStyleValue(_key, value[_i]) + \";\";\n            }\n          }\n        } else {\n          var interpolated = handleInterpolation(mergedProps, registered, value, false);\n\n          switch (_key) {\n            case 'animation':\n            case 'animationName':\n              {\n                string += processStyleName(_key) + \":\" + interpolated + \";\";\n                break;\n              }\n\n            default:\n              {\n                if (process.env.NODE_ENV !== 'production' && _key === 'undefined') {\n                  console.error(UNDEFINED_AS_OBJECT_KEY_ERROR);\n                }\n\n                string += _key + \"{\" + interpolated + \"}\";\n              }\n          }\n        }\n      }\n    }\n  }\n\n  return string;\n}\n\nvar labelPattern = /label:\\s*([^\\s;\\n{]+)\\s*;/g;\nvar sourceMapPattern;\n\nif (process.env.NODE_ENV !== 'production') {\n  sourceMapPattern = /\\/\\*#\\ssourceMappingURL=data:application\\/json;\\S+\\s+\\*\\//;\n} // this is the cursor for keyframes\n// keyframes are stored on the SerializedStyles object as a linked list\n\n\nvar cursor;\nvar serializeStyles = function serializeStyles(args, registered, mergedProps) {\n  if (args.length === 1 && typeof args[0] === 'object' && args[0] !== null && args[0].styles !== undefined) {\n    return args[0];\n  }\n\n  var stringMode = true;\n  var styles = '';\n  cursor = undefined;\n  var strings = args[0];\n\n  if (strings == null || strings.raw === undefined) {\n    stringMode = false;\n    styles += handleInterpolation(mergedProps, registered, strings, false);\n  } else {\n    if (process.env.NODE_ENV !== 'production' && strings[0] === undefined) {\n      console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n    }\n\n    styles += strings[0];\n  } // we start at 1 since we've already handled the first arg\n\n\n  for (var i = 1; i < args.length; i++) {\n    styles += handleInterpolation(mergedProps, registered, args[i], styles.charCodeAt(styles.length - 1) === 46);\n\n    if (stringMode) {\n      if (process.env.NODE_ENV !== 'production' && strings[i] === undefined) {\n        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n      }\n\n      styles += strings[i];\n    }\n  }\n\n  var sourceMap;\n\n  if (process.env.NODE_ENV !== 'production') {\n    styles = styles.replace(sourceMapPattern, function (match) {\n      sourceMap = match;\n      return '';\n    });\n  } // using a global regex with .exec is stateful so lastIndex has to be reset each time\n\n\n  labelPattern.lastIndex = 0;\n  var identifierName = '';\n  var match; // https://esbench.com/bench/5b809c2cf2949800a0f61fb5\n\n  while ((match = labelPattern.exec(styles)) !== null) {\n    identifierName += '-' + // $FlowFixMe we know it's not null\n    match[1];\n  }\n\n  var name = hashString(styles) + identifierName;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe SerializedStyles type doesn't have toString property (and we don't want to add it)\n    return {\n      name: name,\n      styles: styles,\n      map: sourceMap,\n      next: cursor,\n      toString: function toString() {\n        return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n      }\n    };\n  }\n\n  return {\n    name: name,\n    styles: styles,\n    next: cursor\n  };\n};\n\nexport { serializeStyles };\n","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { createContext, forwardRef, createElement, Component, Fragment } from 'react';\nimport createCache from '@emotion/cache';\nimport { getRegisteredStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\n\nvar isBrowser = typeof document !== 'undefined';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar EmotionCacheContext = /*#__PURE__*/createContext( // we're doing this to avoid preconstruct's dead code elimination in this one case\n// because this module is primarily intended for the browser and node\n// but it's also required in react native and similar environments sometimes\n// and we could have a special build just for that\n// but this is much easier and the native packages\n// might use a different theme context in the future anyway\ntypeof HTMLElement !== 'undefined' ? createCache() : null);\nvar ThemeContext = /*#__PURE__*/createContext({});\nvar CacheProvider = EmotionCacheContext.Provider;\n\nvar withEmotionCache = function withEmotionCache(func) {\n  var render = function render(props, ref) {\n    return /*#__PURE__*/createElement(EmotionCacheContext.Consumer, null, function (cache) {\n      return func(props, cache, ref);\n    });\n  }; // $FlowFixMe\n\n\n  return /*#__PURE__*/forwardRef(render);\n};\n\nif (!isBrowser) {\n  var BasicProvider = /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(BasicProvider, _React$Component);\n\n    function BasicProvider(props, context, updater) {\n      var _this;\n\n      _this = _React$Component.call(this, props, context, updater) || this;\n      _this.state = {\n        value: createCache()\n      };\n      return _this;\n    }\n\n    var _proto = BasicProvider.prototype;\n\n    _proto.render = function render() {\n      return /*#__PURE__*/createElement(EmotionCacheContext.Provider, this.state, this.props.children(this.state.value));\n    };\n\n    return BasicProvider;\n  }(Component);\n\n  withEmotionCache = function withEmotionCache(func) {\n    return function (props) {\n      return /*#__PURE__*/createElement(EmotionCacheContext.Consumer, null, function (context) {\n        if (context === null) {\n          return /*#__PURE__*/createElement(BasicProvider, null, function (newContext) {\n            return func(props, newContext);\n          });\n        } else {\n          return func(props, context);\n        }\n      });\n    };\n  };\n}\n\n// thus we only need to replace what is a valid character for JS, but not for CSS\n\nvar sanitizeIdentifier = function sanitizeIdentifier(identifier) {\n  return identifier.replace(/\\$/g, '-');\n};\n\nvar typePropName = '__EMOTION_TYPE_PLEASE_DO_NOT_USE__';\nvar labelPropName = '__EMOTION_LABEL_PLEASE_DO_NOT_USE__';\nvar createEmotionProps = function createEmotionProps(type, props) {\n  if (process.env.NODE_ENV !== 'production' && typeof props.css === 'string' && // check if there is a css declaration\n  props.css.indexOf(':') !== -1) {\n    throw new Error(\"Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css`\" + props.css + \"`\");\n  }\n\n  var newProps = {};\n\n  for (var key in props) {\n    if (hasOwnProperty.call(props, key)) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps[typePropName] = type; // TODO: check if this still works with all of those different JSX functions\n\n  if (process.env.NODE_ENV !== 'production') {\n    var error = new Error();\n\n    if (error.stack) {\n      // chrome\n      var match = error.stack.match(/at (?:Object\\.|Module\\.|)(?:jsx|createEmotionProps).*\\n\\s+at (?:Object\\.|)([A-Z][A-Za-z$]+) /);\n\n      if (!match) {\n        // safari and firefox\n        match = error.stack.match(/.*\\n([A-Z][A-Za-z$]+)@/);\n      }\n\n      if (match) {\n        newProps[labelPropName] = sanitizeIdentifier(match[1]);\n      }\n    }\n  }\n\n  return newProps;\n};\n\nvar Noop = function Noop() {\n  return null;\n};\n\nvar render = function render(cache, props, theme, ref) {\n  var cssProp = theme === null ? props.css : props.css(theme); // so that using `css` from `emotion` and passing the result to the css prop works\n  // not passing the registered cache to serializeStyles because it would\n  // make certain babel optimisations not possible\n\n  if (typeof cssProp === 'string' && cache.registered[cssProp] !== undefined) {\n    cssProp = cache.registered[cssProp];\n  }\n\n  var type = props[typePropName];\n  var registeredStyles = [cssProp];\n  var className = '';\n\n  if (typeof props.className === 'string') {\n    className = getRegisteredStyles(cache.registered, registeredStyles, props.className);\n  } else if (props.className != null) {\n    className = props.className + \" \";\n  }\n\n  var serialized = serializeStyles(registeredStyles);\n\n  if (process.env.NODE_ENV !== 'production' && serialized.name.indexOf('-') === -1) {\n    var labelFromStack = props[labelPropName];\n\n    if (labelFromStack) {\n      serialized = serializeStyles([serialized, 'label:' + labelFromStack + ';']);\n    }\n  }\n\n  var rules = insertStyles(cache, serialized, typeof type === 'string');\n  className += cache.key + \"-\" + serialized.name;\n  var newProps = {};\n\n  for (var key in props) {\n    if (hasOwnProperty.call(props, key) && key !== 'css' && key !== typePropName && (process.env.NODE_ENV === 'production' || key !== labelPropName)) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps.ref = ref;\n  newProps.className = className;\n  var ele = /*#__PURE__*/createElement(type, newProps);\n  var possiblyStyleElement = /*#__PURE__*/createElement(Noop, null);\n\n  if (!isBrowser && rules !== undefined) {\n    var _ref;\n\n    var serializedNames = serialized.name;\n    var next = serialized.next;\n\n    while (next !== undefined) {\n      serializedNames += ' ' + next.name;\n      next = next.next;\n    }\n\n    possiblyStyleElement = /*#__PURE__*/createElement(\"style\", (_ref = {}, _ref[\"data-emotion-\" + cache.key] = serializedNames, _ref.dangerouslySetInnerHTML = {\n      __html: rules\n    }, _ref.nonce = cache.sheet.nonce, _ref));\n  } // Need to return the same number of siblings or else `React.useId` will cause hydration mismatches.\n\n\n  return /*#__PURE__*/createElement(Fragment, null, possiblyStyleElement, ele);\n}; // eslint-disable-next-line no-undef\n\n\nvar Emotion = /* #__PURE__ */withEmotionCache(function (props, cache, ref) {\n  if (typeof props.css === 'function') {\n    return /*#__PURE__*/createElement(ThemeContext.Consumer, null, function (theme) {\n      return render(cache, props, theme, ref);\n    });\n  }\n\n  return render(cache, props, null, ref);\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Emotion.displayName = 'EmotionCssPropInternal';\n}\n\nexport { CacheProvider as C, Emotion as E, ThemeContext as T, createEmotionProps as c, hasOwnProperty as h, isBrowser as i, withEmotionCache as w };\n","import { serializeStyles } from '@emotion/serialize';\n\nfunction css() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return serializeStyles(args);\n}\n\nexport default css;\n","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { createElement, Component, Fragment } from 'react';\nimport '@emotion/cache';\nimport { h as hasOwnProperty, E as Emotion, c as createEmotionProps, w as withEmotionCache, T as ThemeContext, i as isBrowser } from './emotion-element-39b82f0b.esm.js';\nexport { C as CacheProvider, T as ThemeContext, w as withEmotionCache } from './emotion-element-39b82f0b.esm.js';\nimport { insertStyles, getRegisteredStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { StyleSheet } from '@emotion/sheet';\nimport css from '@emotion/css';\nexport { default as css } from '@emotion/css';\n\nvar jsx = function jsx(type, props) {\n  var args = arguments;\n\n  if (props == null || !hasOwnProperty.call(props, 'css')) {\n    // $FlowFixMe\n    return createElement.apply(undefined, args);\n  }\n\n  var argsLength = args.length;\n  var createElementArgArray = new Array(argsLength);\n  createElementArgArray[0] = Emotion;\n  createElementArgArray[1] = createEmotionProps(type, props);\n\n  for (var i = 2; i < argsLength; i++) {\n    createElementArgArray[i] = args[i];\n  } // $FlowFixMe\n\n\n  return createElement.apply(null, createElementArgArray);\n};\n\nvar warnedAboutCssPropForGlobal = false;\nvar Global = /* #__PURE__ */withEmotionCache(function (props, cache) {\n  if (process.env.NODE_ENV !== 'production' && !warnedAboutCssPropForGlobal && ( // check for className as well since the user is\n  // probably using the custom createElement which\n  // means it will be turned into a className prop\n  // $FlowFixMe I don't really want to add it to the type since it shouldn't be used\n  props.className || props.css)) {\n    console.error(\"It looks like you're using the css prop on Global, did you mean to use the styles prop instead?\");\n    warnedAboutCssPropForGlobal = true;\n  }\n\n  var styles = props.styles;\n\n  if (typeof styles === 'function') {\n    return /*#__PURE__*/createElement(ThemeContext.Consumer, null, function (theme) {\n      var serialized = serializeStyles([styles(theme)]);\n      return /*#__PURE__*/createElement(InnerGlobal, {\n        serialized: serialized,\n        cache: cache\n      });\n    });\n  }\n\n  var serialized = serializeStyles([styles]);\n  return /*#__PURE__*/createElement(InnerGlobal, {\n    serialized: serialized,\n    cache: cache\n  });\n});\n\n// maintain place over rerenders.\n// initial render from browser, insertBefore context.sheet.tags[0] or if a style hasn't been inserted there yet, appendChild\n// initial client-side render from SSR, use place of hydrating tag\nvar InnerGlobal = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(InnerGlobal, _React$Component);\n\n  function InnerGlobal(props, context, updater) {\n    return _React$Component.call(this, props, context, updater) || this;\n  }\n\n  var _proto = InnerGlobal.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.sheet = new StyleSheet({\n      key: this.props.cache.key + \"-global\",\n      nonce: this.props.cache.sheet.nonce,\n      container: this.props.cache.sheet.container\n    }); // $FlowFixMe\n\n    var node = document.querySelector(\"style[data-emotion-\" + this.props.cache.key + \"=\\\"\" + this.props.serialized.name + \"\\\"]\");\n\n    if (node !== null) {\n      this.sheet.tags.push(node);\n    }\n\n    if (this.props.cache.sheet.tags.length) {\n      this.sheet.before = this.props.cache.sheet.tags[0];\n    }\n\n    this.insertStyles();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.serialized.name !== this.props.serialized.name) {\n      this.insertStyles();\n    }\n  };\n\n  _proto.insertStyles = function insertStyles$1() {\n    if (this.props.serialized.next !== undefined) {\n      // insert keyframes\n      insertStyles(this.props.cache, this.props.serialized.next, true);\n    }\n\n    if (this.sheet.tags.length) {\n      // if this doesn't exist then it will be null so the style element will be appended\n      var element = this.sheet.tags[this.sheet.tags.length - 1].nextElementSibling;\n      this.sheet.before = element;\n      this.sheet.flush();\n    }\n\n    this.props.cache.insert(\"\", this.props.serialized, this.sheet, false);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.sheet.flush();\n  };\n\n  _proto.render = function render() {\n    if (!isBrowser) {\n      var serialized = this.props.serialized;\n      var serializedNames = serialized.name;\n      var serializedStyles = serialized.styles;\n      var next = serialized.next;\n\n      while (next !== undefined) {\n        serializedNames += ' ' + next.name;\n        serializedStyles += next.styles;\n        next = next.next;\n      }\n\n      var shouldCache = this.props.cache.compat === true;\n      var rules = this.props.cache.insert(\"\", {\n        name: serializedNames,\n        styles: serializedStyles\n      }, this.sheet, shouldCache);\n\n      if (!shouldCache) {\n        var _ref;\n\n        return /*#__PURE__*/createElement(\"style\", (_ref = {}, _ref[\"data-emotion-\" + this.props.cache.key] = serializedNames, _ref.dangerouslySetInnerHTML = {\n          __html: rules\n        }, _ref.nonce = this.props.cache.sheet.nonce, _ref));\n      }\n    }\n\n    return null;\n  };\n\n  return InnerGlobal;\n}(Component);\n\nvar keyframes = function keyframes() {\n  var insertable = css.apply(void 0, arguments);\n  var name = \"animation-\" + insertable.name; // $FlowFixMe\n\n  return {\n    name: name,\n    styles: \"@keyframes \" + name + \"{\" + insertable.styles + \"}\",\n    anim: 1,\n    toString: function toString() {\n      return \"_EMO_\" + this.name + \"_\" + this.styles + \"_EMO_\";\n    }\n  };\n};\n\nvar classnames = function classnames(args) {\n  var len = args.length;\n  var i = 0;\n  var cls = '';\n\n  for (; i < len; i++) {\n    var arg = args[i];\n    if (arg == null) continue;\n    var toAdd = void 0;\n\n    switch (typeof arg) {\n      case 'boolean':\n        break;\n\n      case 'object':\n        {\n          if (Array.isArray(arg)) {\n            toAdd = classnames(arg);\n          } else {\n            toAdd = '';\n\n            for (var k in arg) {\n              if (arg[k] && k) {\n                toAdd && (toAdd += ' ');\n                toAdd += k;\n              }\n            }\n          }\n\n          break;\n        }\n\n      default:\n        {\n          toAdd = arg;\n        }\n    }\n\n    if (toAdd) {\n      cls && (cls += ' ');\n      cls += toAdd;\n    }\n  }\n\n  return cls;\n};\n\nfunction merge(registered, css, className) {\n  var registeredStyles = [];\n  var rawClassName = getRegisteredStyles(registered, registeredStyles, className);\n\n  if (registeredStyles.length < 2) {\n    return className;\n  }\n\n  return rawClassName + css(registeredStyles);\n}\n\nvar Noop = function Noop() {\n  return null;\n};\n\nvar ClassNames = withEmotionCache(function (props, context) {\n  return /*#__PURE__*/createElement(ThemeContext.Consumer, null, function (theme) {\n    var rules = '';\n    var serializedHashes = '';\n    var hasRendered = false;\n\n    var css = function css() {\n      if (hasRendered && process.env.NODE_ENV !== 'production') {\n        throw new Error('css can only be used during render');\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var serialized = serializeStyles(args, context.registered);\n\n      if (isBrowser) {\n        insertStyles(context, serialized, false);\n      } else {\n        var res = insertStyles(context, serialized, false);\n\n        if (res !== undefined) {\n          rules += res;\n        }\n      }\n\n      if (!isBrowser) {\n        serializedHashes += \" \" + serialized.name;\n      }\n\n      return context.key + \"-\" + serialized.name;\n    };\n\n    var cx = function cx() {\n      if (hasRendered && process.env.NODE_ENV !== 'production') {\n        throw new Error('cx can only be used during render');\n      }\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return merge(context.registered, css, classnames(args));\n    };\n\n    var content = {\n      css: css,\n      cx: cx,\n      theme: theme\n    };\n    var ele = props.children(content);\n    hasRendered = true;\n    var possiblyStyleElement = /*#__PURE__*/createElement(Noop, null);\n\n    if (!isBrowser && rules.length !== 0) {\n      var _ref;\n\n      possiblyStyleElement = /*#__PURE__*/createElement(\"style\", (_ref = {}, _ref[\"data-emotion-\" + context.key] = serializedHashes.substring(1), _ref.dangerouslySetInnerHTML = {\n        __html: rules\n      }, _ref.nonce = context.sheet.nonce, _ref));\n    } // Need to return the same number of siblings or else `React.useId` will cause hydration mismatches.\n\n\n    return /*#__PURE__*/createElement(Fragment, null, possiblyStyleElement, ele);\n  });\n});\n\nexport { ClassNames, Global, jsx as createElement, jsx, keyframes };\n","function composeEventHandlers<E>(\n  originalEventHandler?: (event: E) => void,\n  ourEventHandler?: (event: E) => void,\n  { checkForDefaultPrevented = true } = {}\n) {\n  return function handleEvent(event: E) {\n    originalEventHandler?.(event);\n\n    if (checkForDefaultPrevented === false || !((event as unknown) as Event).defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\nexport { composeEventHandlers };\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { Slot } from '@radix-ui/react-slot';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\ntype SlotProps = Radix.ComponentPropsWithoutRef<typeof Slot>;\ntype CollectionElement = HTMLElement;\ninterface CollectionProps extends SlotProps {\n  scope: any;\n}\n\n// We have resorted to returning slots directly rather than exposing primitives that can then\n// be slotted like `<CollectionItem as={Slot}>…</CollectionItem>`.\n// This is because we encountered issues with generic types that cannot be statically analysed\n// due to creating them dynamically via createCollection.\n\nfunction createCollection<ItemElement extends HTMLElement, ItemData = {}>(name: string) {\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionProvider\n   * ---------------------------------------------------------------------------------------------*/\n\n  const PROVIDER_NAME = name + 'CollectionProvider';\n  const [createCollectionContext, createCollectionScope] = createContextScope(PROVIDER_NAME);\n\n  type ContextValue = {\n    collectionRef: React.RefObject<CollectionElement>;\n    itemMap: Map<React.RefObject<ItemElement>, { ref: React.RefObject<ItemElement> } & ItemData>;\n  };\n\n  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext<ContextValue>(\n    PROVIDER_NAME,\n    { collectionRef: { current: null }, itemMap: new Map() }\n  );\n\n  const CollectionProvider: React.FC<{ children?: React.ReactNode; scope: any }> = (props) => {\n    const { scope, children } = props;\n    const ref = React.useRef<CollectionElement>(null);\n    const itemMap = React.useRef<ContextValue['itemMap']>(new Map()).current;\n    return (\n      <CollectionProviderImpl scope={scope} itemMap={itemMap} collectionRef={ref}>\n        {children}\n      </CollectionProviderImpl>\n    );\n  };\n\n  CollectionProvider.displayName = PROVIDER_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionSlot\n   * ---------------------------------------------------------------------------------------------*/\n\n  const COLLECTION_SLOT_NAME = name + 'CollectionSlot';\n\n  const CollectionSlot = React.forwardRef<CollectionElement, CollectionProps>(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);\n      return <Slot ref={composedRefs}>{children}</Slot>;\n    }\n  );\n\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionItem\n   * ---------------------------------------------------------------------------------------------*/\n\n  const ITEM_SLOT_NAME = name + 'CollectionItemSlot';\n  const ITEM_DATA_ATTR = 'data-radix-collection-item';\n\n  type CollectionItemSlotProps = ItemData & {\n    children: React.ReactNode;\n    scope: any;\n  };\n\n  const CollectionItemSlot = React.forwardRef<ItemElement, CollectionItemSlotProps>(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React.useRef<ItemElement>(null);\n      const composedRefs = useComposedRefs(forwardedRef, ref);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n\n      React.useEffect(() => {\n        context.itemMap.set(ref, { ref, ...(itemData as unknown as ItemData) });\n        return () => void context.itemMap.delete(ref);\n      });\n\n      return (\n        <Slot {...{ [ITEM_DATA_ATTR]: '' }} ref={composedRefs}>\n          {children}\n        </Slot>\n      );\n    }\n  );\n\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * useCollection\n   * ---------------------------------------------------------------------------------------------*/\n\n  function useCollection(scope: any) {\n    const context = useCollectionContext(name + 'CollectionConsumer', scope);\n\n    const getItems = React.useCallback(() => {\n      const collectionNode = context.collectionRef.current;\n      if (!collectionNode) return [];\n      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n      const items = Array.from(context.itemMap.values());\n      const orderedItems = items.sort(\n        (a, b) => orderedNodes.indexOf(a.ref.current!) - orderedNodes.indexOf(b.ref.current!)\n      );\n      return orderedItems;\n    }, [context.collectionRef, context.itemMap]);\n\n    return getItems;\n  }\n\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    useCollection,\n    createCollectionScope,\n  ] as const;\n}\n\nexport { createCollection };\nexport type { CollectionProps };\n","import * as React from 'react';\n\nfunction createContext<ContextValueType extends object | null>(\n  rootComponentName: string,\n  defaultContext?: ContextValueType\n) {\n  const Context = React.createContext<ContextValueType | undefined>(defaultContext);\n\n  function Provider(props: ContextValueType & { children: React.ReactNode }) {\n    const { children, ...context } = props;\n    // Only re-memoize when prop values change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n    return <Context.Provider value={value}>{children}</Context.Provider>;\n  }\n\n  function useContext(consumerName: string) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== undefined) return defaultContext;\n    // if a defaultContext wasn't specified, it's a required context.\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n\n  Provider.displayName = rootComponentName + 'Provider';\n  return [Provider, useContext] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * createContextScope\n * -----------------------------------------------------------------------------------------------*/\n\ntype Scope<C = any> = { [scopeName: string]: React.Context<C>[] } | undefined;\ntype ScopeHook = (scope: Scope) => { [__scopeProp: string]: Scope };\ninterface CreateScope {\n  scopeName: string;\n  (): ScopeHook;\n}\n\nfunction createContextScope(scopeName: string, createContextScopeDeps: CreateScope[] = []) {\n  let defaultContexts: any[] = [];\n\n  /* -----------------------------------------------------------------------------------------------\n   * createContext\n   * ---------------------------------------------------------------------------------------------*/\n\n  function createContext<ContextValueType extends object | null>(\n    rootComponentName: string,\n    defaultContext?: ContextValueType\n  ) {\n    const BaseContext = React.createContext<ContextValueType | undefined>(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n\n    function Provider(\n      props: ContextValueType & { scope: Scope<ContextValueType>; children: React.ReactNode }\n    ) {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName][index] || BaseContext;\n      // Only re-memoize when prop values change\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n      return <Context.Provider value={value}>{children}</Context.Provider>;\n    }\n\n    function useContext(consumerName: string, scope: Scope<ContextValueType | undefined>) {\n      const Context = scope?.[scopeName][index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== undefined) return defaultContext;\n      // if a defaultContext wasn't specified, it's a required context.\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n\n    Provider.displayName = rootComponentName + 'Provider';\n    return [Provider, useContext] as const;\n  }\n\n  /* -----------------------------------------------------------------------------------------------\n   * createScope\n   * ---------------------------------------------------------------------------------------------*/\n\n  const createScope: CreateScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope: Scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n\n  createScope.scopeName = scopeName;\n  return [createContext, composeContextScopes(createScope, ...createContextScopeDeps)] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * composeContextScopes\n * -----------------------------------------------------------------------------------------------*/\n\nfunction composeContextScopes(...scopes: CreateScope[]) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n\n  const createScope: CreateScope = () => {\n    const scopeHooks = scopes.map((createScope) => ({\n      useScope: createScope(),\n      scopeName: createScope.scopeName,\n    }));\n\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes, { useScope, scopeName }) => {\n        // We are calling a hook inside a callback which React warns against to avoid inconsistent\n        // renders, however, scoping doesn't have render side effects so we ignore the rule.\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes, ...currentScope };\n      }, {});\n\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nexport { createContext, createContextScope };\nexport type { CreateScope, Scope };\n","import * as React from 'react';\n\ntype Direction = 'ltr' | 'rtl';\nconst DirectionContext = React.createContext<Direction | undefined>(undefined);\n\n/* -------------------------------------------------------------------------------------------------\n * Direction\n * -----------------------------------------------------------------------------------------------*/\n\ninterface DirectionProviderProps {\n  children?: React.ReactNode;\n  dir: Direction;\n}\nconst DirectionProvider: React.FC<DirectionProviderProps> = (props) => {\n  const { dir, children } = props;\n  return <DirectionContext.Provider value={dir}>{children}</DirectionContext.Provider>;\n};\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction useDirection(localDir?: Direction) {\n  const globalDir = React.useContext(DirectionContext);\n  return localDir || globalDir || 'ltr';\n}\n\nconst Provider = DirectionProvider;\n\nexport {\n  useDirection,\n  //\n  Provider,\n  //\n  DirectionProvider,\n};\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { Primitive, dispatchDiscreteCustomEvent } from '@radix-ui/react-primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useEscapeKeydown } from '@radix-ui/react-use-escape-keydown';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayer\n * -----------------------------------------------------------------------------------------------*/\n\nconst DISMISSABLE_LAYER_NAME = 'DismissableLayer';\nconst CONTEXT_UPDATE = 'dismissableLayer.update';\nconst POINTER_DOWN_OUTSIDE = 'dismissableLayer.pointerDownOutside';\nconst FOCUS_OUTSIDE = 'dismissableLayer.focusOutside';\n\nlet originalBodyPointerEvents: string;\n\nconst DismissableLayerContext = React.createContext({\n  layers: new Set<DismissableLayerElement>(),\n  layersWithOutsidePointerEventsDisabled: new Set<DismissableLayerElement>(),\n  branches: new Set<DismissableLayerBranchElement>(),\n});\n\ntype DismissableLayerElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface DismissableLayerProps extends PrimitiveDivProps {\n  /**\n   * When `true`, hover/focus/click interactions will be disabled on elements outside\n   * the `DismissableLayer`. Users will need to click twice on outside elements to\n   * interact with them: once to close the `DismissableLayer`, and again to trigger the element.\n   */\n  disableOutsidePointerEvents?: boolean;\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n  /**\n   * Event handler called when the focus moves outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n  /**\n   * Event handler called when an interaction happens outside the `DismissableLayer`.\n   * Specifically, when a `pointerdown` event happens outside or focus moves outside of it.\n   * Can be prevented.\n   */\n  onInteractOutside?: (event: PointerDownOutsideEvent | FocusOutsideEvent) => void;\n  /**\n   * Handler called when the `DismissableLayer` should be dismissed\n   */\n  onDismiss?: () => void;\n}\n\nconst DismissableLayer = React.forwardRef<DismissableLayerElement, DismissableLayerProps>(\n  (props, forwardedRef) => {\n    const {\n      disableOutsidePointerEvents = false,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      ...layerProps\n    } = props;\n    const context = React.useContext(DismissableLayerContext);\n    const [node, setNode] = React.useState<DismissableLayerElement | null>(null);\n    const ownerDocument = node?.ownerDocument ?? globalThis?.document;\n    const [, force] = React.useState({});\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setNode(node));\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [...context.layersWithOutsidePointerEventsDisabled].slice(-1); // prettier-ignore\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled); // prettier-ignore\n    const index = node ? layers.indexOf(node) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n\n    const pointerDownOutside = usePointerDownOutside((event) => {\n      const target = event.target as HTMLElement;\n      const isPointerDownOnBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n      onPointerDownOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n\n    const focusOutside = useFocusOutside((event) => {\n      const target = event.target as HTMLElement;\n      const isFocusInBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (isFocusInBranch) return;\n      onFocusOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n\n    useEscapeKeydown((event) => {\n      const isHighestLayer = index === context.layers.size - 1;\n      if (!isHighestLayer) return;\n      onEscapeKeyDown?.(event);\n      if (!event.defaultPrevented && onDismiss) {\n        event.preventDefault();\n        onDismiss();\n      }\n    }, ownerDocument);\n\n    React.useEffect(() => {\n      if (!node) return;\n      if (disableOutsidePointerEvents) {\n        if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n          originalBodyPointerEvents = ownerDocument.body.style.pointerEvents;\n          ownerDocument.body.style.pointerEvents = 'none';\n        }\n        context.layersWithOutsidePointerEventsDisabled.add(node);\n      }\n      context.layers.add(node);\n      dispatchUpdate();\n      return () => {\n        if (\n          disableOutsidePointerEvents &&\n          context.layersWithOutsidePointerEventsDisabled.size === 1\n        ) {\n          ownerDocument.body.style.pointerEvents = originalBodyPointerEvents;\n        }\n      };\n    }, [node, ownerDocument, disableOutsidePointerEvents, context]);\n\n    /**\n     * We purposefully prevent combining this effect with the `disableOutsidePointerEvents` effect\n     * because a change to `disableOutsidePointerEvents` would remove this layer from the stack\n     * and add it to the end again so the layering order wouldn't be _creation order_.\n     * We only want them to be removed from context stacks when unmounted.\n     */\n    React.useEffect(() => {\n      return () => {\n        if (!node) return;\n        context.layers.delete(node);\n        context.layersWithOutsidePointerEventsDisabled.delete(node);\n        dispatchUpdate();\n      };\n    }, [node, context]);\n\n    React.useEffect(() => {\n      const handleUpdate = () => force({});\n      document.addEventListener(CONTEXT_UPDATE, handleUpdate);\n      return () => document.removeEventListener(CONTEXT_UPDATE, handleUpdate);\n    }, []);\n\n    return (\n      <Primitive.div\n        {...layerProps}\n        ref={composedRefs}\n        style={{\n          pointerEvents: isBodyPointerEventsDisabled\n            ? isPointerEventsEnabled\n              ? 'auto'\n              : 'none'\n            : undefined,\n          ...props.style,\n        }}\n        onFocusCapture={composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture)}\n        onBlurCapture={composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture)}\n        onPointerDownCapture={composeEventHandlers(\n          props.onPointerDownCapture,\n          pointerDownOutside.onPointerDownCapture\n        )}\n      />\n    );\n  }\n);\n\nDismissableLayer.displayName = DISMISSABLE_LAYER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayerBranch\n * -----------------------------------------------------------------------------------------------*/\n\nconst BRANCH_NAME = 'DismissableLayerBranch';\n\ntype DismissableLayerBranchElement = React.ElementRef<typeof Primitive.div>;\ninterface DismissableLayerBranchProps extends PrimitiveDivProps {}\n\nconst DismissableLayerBranch = React.forwardRef<\n  DismissableLayerBranchElement,\n  DismissableLayerBranchProps\n>((props, forwardedRef) => {\n  const context = React.useContext(DismissableLayerContext);\n  const ref = React.useRef<DismissableLayerBranchElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      context.branches.add(node);\n      return () => {\n        context.branches.delete(node);\n      };\n    }\n  }, [context.branches]);\n\n  return <Primitive.div {...props} ref={composedRefs} />;\n});\n\nDismissableLayerBranch.displayName = BRANCH_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype PointerDownOutsideEvent = CustomEvent<{ originalEvent: PointerEvent }>;\ntype FocusOutsideEvent = CustomEvent<{ originalEvent: FocusEvent }>;\n\n/**\n * Listens for `pointerdown` outside a react subtree. We use `pointerdown` rather than `pointerup`\n * to mimic layer dismissing behaviour present in OS.\n * Returns props to pass to the node we want to check for outside events.\n */\nfunction usePointerDownOutside(\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void,\n  ownerDocument: Document = globalThis?.document\n) {\n  const handlePointerDownOutside = useCallbackRef(onPointerDownOutside) as EventListener;\n  const isPointerInsideReactTreeRef = React.useRef(false);\n  const handleClickRef = React.useRef(() => {});\n\n  React.useEffect(() => {\n    const handlePointerDown = (event: PointerEvent) => {\n      if (event.target && !isPointerInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n\n        function handleAndDispatchPointerDownOutsideEvent() {\n          handleAndDispatchCustomEvent(\n            POINTER_DOWN_OUTSIDE,\n            handlePointerDownOutside,\n            eventDetail,\n            { discrete: true }\n          );\n        }\n\n        /**\n         * On touch devices, we need to wait for a click event because browsers implement\n         * a ~350ms delay between the time the user stops touching the display and when the\n         * browser executres events. We need to ensure we don't reactivate pointer-events within\n         * this timeframe otherwise the browser may execute events that should have been prevented.\n         *\n         * Additionally, this also lets us deal automatically with cancellations when a click event\n         * isn't raised because the page was considered scrolled/drag-scrolled, long-pressed, etc.\n         *\n         * This is why we also continuously remove the previous listener, because we cannot be\n         * certain that it was raised, and therefore cleaned-up.\n         */\n        if (event.pointerType === 'touch') {\n          ownerDocument.removeEventListener('click', handleClickRef.current);\n          handleClickRef.current = handleAndDispatchPointerDownOutsideEvent;\n          ownerDocument.addEventListener('click', handleClickRef.current, { once: true });\n        } else {\n          handleAndDispatchPointerDownOutsideEvent();\n        }\n      }\n      isPointerInsideReactTreeRef.current = false;\n    };\n    /**\n     * if this hook executes in a component that mounts via a `pointerdown` event, the event\n     * would bubble up to the document and trigger a `pointerDownOutside` event. We avoid\n     * this by delaying the event listener registration on the document.\n     * This is not React specific, but rather how the DOM works, ie:\n     * ```\n     * button.addEventListener('pointerdown', () => {\n     *   console.log('I will log');\n     *   document.addEventListener('pointerdown', () => {\n     *     console.log('I will also log');\n     *   })\n     * });\n     */\n    const timerId = window.setTimeout(() => {\n      ownerDocument.addEventListener('pointerdown', handlePointerDown);\n    }, 0);\n    return () => {\n      window.clearTimeout(timerId);\n      ownerDocument.removeEventListener('pointerdown', handlePointerDown);\n      ownerDocument.removeEventListener('click', handleClickRef.current);\n    };\n  }, [ownerDocument, handlePointerDownOutside]);\n\n  return {\n    // ensures we check React component tree (not just DOM tree)\n    onPointerDownCapture: () => (isPointerInsideReactTreeRef.current = true),\n  };\n}\n\n/**\n * Listens for when focus happens outside a react subtree.\n * Returns props to pass to the root (node) of the subtree we want to check.\n */\nfunction useFocusOutside(\n  onFocusOutside?: (event: FocusOutsideEvent) => void,\n  ownerDocument: Document = globalThis?.document\n) {\n  const handleFocusOutside = useCallbackRef(onFocusOutside) as EventListener;\n  const isFocusInsideReactTreeRef = React.useRef(false);\n\n  React.useEffect(() => {\n    const handleFocus = (event: FocusEvent) => {\n      if (event.target && !isFocusInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n        handleAndDispatchCustomEvent(FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n          discrete: false,\n        });\n      }\n    };\n    ownerDocument.addEventListener('focusin', handleFocus);\n    return () => ownerDocument.removeEventListener('focusin', handleFocus);\n  }, [ownerDocument, handleFocusOutside]);\n\n  return {\n    onFocusCapture: () => (isFocusInsideReactTreeRef.current = true),\n    onBlurCapture: () => (isFocusInsideReactTreeRef.current = false),\n  };\n}\n\nfunction dispatchUpdate() {\n  const event = new CustomEvent(CONTEXT_UPDATE);\n  document.dispatchEvent(event);\n}\n\nfunction handleAndDispatchCustomEvent<E extends CustomEvent, OriginalEvent extends Event>(\n  name: string,\n  handler: ((event: E) => void) | undefined,\n  detail: { originalEvent: OriginalEvent } & (E extends CustomEvent<infer D> ? D : never),\n  { discrete }: { discrete: boolean }\n) {\n  const target = detail.originalEvent.target;\n  const event = new CustomEvent(name, { bubbles: false, cancelable: true, detail });\n  if (handler) target.addEventListener(name, handler as EventListener, { once: true });\n\n  if (discrete) {\n    dispatchDiscreteCustomEvent(target, event);\n  } else {\n    target.dispatchEvent(event);\n  }\n}\n\nconst Root = DismissableLayer;\nconst Branch = DismissableLayerBranch;\n\nexport {\n  DismissableLayer,\n  DismissableLayerBranch,\n  //\n  Root,\n  Branch,\n};\nexport type { DismissableLayerProps };\n","import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\n/**\n * Listens for when the escape key is down\n */\nfunction useEscapeKeydown(\n  onEscapeKeyDownProp?: (event: KeyboardEvent) => void,\n  ownerDocument: Document = globalThis?.document\n) {\n  const onEscapeKeyDown = useCallbackRef(onEscapeKeyDownProp);\n\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onEscapeKeyDown(event);\n      }\n    };\n    ownerDocument.addEventListener('keydown', handleKeyDown);\n    return () => ownerDocument.removeEventListener('keydown', handleKeyDown);\n  }, [onEscapeKeyDown, ownerDocument]);\n}\n\nexport { useEscapeKeydown };\n","import * as React from 'react';\n\n/** Number of components which have requested interest to have focus guards */\nlet count = 0;\n\nfunction FocusGuards(props: any) {\n  useFocusGuards();\n  return props.children;\n}\n\n/**\n * Injects a pair of focus guards at the edges of the whole DOM tree\n * to ensure `focusin` & `focusout` events can be caught consistently.\n */\nfunction useFocusGuards() {\n  React.useEffect(() => {\n    const edgeGuards = document.querySelectorAll('[data-radix-focus-guard]');\n    document.body.insertAdjacentElement('afterbegin', edgeGuards[0] ?? createFocusGuard());\n    document.body.insertAdjacentElement('beforeend', edgeGuards[1] ?? createFocusGuard());\n    count++;\n\n    return () => {\n      if (count === 1) {\n        document.querySelectorAll('[data-radix-focus-guard]').forEach((node) => node.remove());\n      }\n      count--;\n    };\n  }, []);\n}\n\nfunction createFocusGuard() {\n  const element = document.createElement('span');\n  element.setAttribute('data-radix-focus-guard', '');\n  element.tabIndex = 0;\n  element.style.cssText = 'outline: none; opacity: 0; position: fixed; pointer-events: none';\n  return element;\n}\n\nconst Root = FocusGuards;\n\nexport {\n  FocusGuards,\n  //\n  Root,\n  //\n  useFocusGuards,\n};\n","import * as React from 'react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\nconst AUTOFOCUS_ON_MOUNT = 'focusScope.autoFocusOnMount';\nconst AUTOFOCUS_ON_UNMOUNT = 'focusScope.autoFocusOnUnmount';\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\n\ntype FocusableTarget = HTMLElement | { focus(): void };\n\n/* -------------------------------------------------------------------------------------------------\n * FocusScope\n * -----------------------------------------------------------------------------------------------*/\n\nconst FOCUS_SCOPE_NAME = 'FocusScope';\n\ntype FocusScopeElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface FocusScopeProps extends PrimitiveDivProps {\n  /**\n   * When `true`, tabbing from last item will focus first tabbable\n   * and shift+tab from first item will focus last tababble.\n   * @defaultValue false\n   */\n  loop?: boolean;\n\n  /**\n   * When `true`, focus cannot escape the focus scope via keyboard,\n   * pointer, or a programmatic focus.\n   * @defaultValue false\n   */\n  trapped?: boolean;\n\n  /**\n   * Event handler called when auto-focusing on mount.\n   * Can be prevented.\n   */\n  onMountAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when auto-focusing on unmount.\n   * Can be prevented.\n   */\n  onUnmountAutoFocus?: (event: Event) => void;\n}\n\nconst FocusScope = React.forwardRef<FocusScopeElement, FocusScopeProps>((props, forwardedRef) => {\n  const {\n    loop = false,\n    trapped = false,\n    onMountAutoFocus: onMountAutoFocusProp,\n    onUnmountAutoFocus: onUnmountAutoFocusProp,\n    ...scopeProps\n  } = props;\n  const [container, setContainer] = React.useState<HTMLElement | null>(null);\n  const onMountAutoFocus = useCallbackRef(onMountAutoFocusProp);\n  const onUnmountAutoFocus = useCallbackRef(onUnmountAutoFocusProp);\n  const lastFocusedElementRef = React.useRef<HTMLElement | null>(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContainer(node));\n\n  const focusScope = React.useRef({\n    paused: false,\n    pause() {\n      this.paused = true;\n    },\n    resume() {\n      this.paused = false;\n    },\n  }).current;\n\n  // Takes care of trapping focus if focus is moved outside programmatically for example\n  React.useEffect(() => {\n    if (trapped) {\n      function handleFocusIn(event: FocusEvent) {\n        if (focusScope.paused || !container) return;\n        const target = event.target as HTMLElement | null;\n        if (container.contains(target)) {\n          lastFocusedElementRef.current = target;\n        } else {\n          focus(lastFocusedElementRef.current, { select: true });\n        }\n      }\n\n      function handleFocusOut(event: FocusEvent) {\n        if (focusScope.paused || !container) return;\n        if (!container.contains(event.relatedTarget as HTMLElement | null)) {\n          focus(lastFocusedElementRef.current, { select: true });\n        }\n      }\n\n      document.addEventListener('focusin', handleFocusIn);\n      document.addEventListener('focusout', handleFocusOut);\n      return () => {\n        document.removeEventListener('focusin', handleFocusIn);\n        document.removeEventListener('focusout', handleFocusOut);\n      };\n    }\n  }, [trapped, container, focusScope.paused]);\n\n  React.useEffect(() => {\n    if (container) {\n      focusScopesStack.add(focusScope);\n      const previouslyFocusedElement = document.activeElement as HTMLElement | null;\n      const hasFocusedCandidate = container.contains(previouslyFocusedElement);\n\n      if (!hasFocusedCandidate) {\n        const mountEvent = new CustomEvent(AUTOFOCUS_ON_MOUNT, EVENT_OPTIONS);\n        container.addEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n        container.dispatchEvent(mountEvent);\n        if (!mountEvent.defaultPrevented) {\n          focusFirst(removeLinks(getTabbableCandidates(container)), { select: true });\n          if (document.activeElement === previouslyFocusedElement) {\n            focus(container);\n          }\n        }\n      }\n\n      return () => {\n        container.removeEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n\n        // We hit a react bug (fixed in v17) with focusing in unmount.\n        // We need to delay the focus a little to get around it for now.\n        // See: https://github.com/facebook/react/issues/17894\n        setTimeout(() => {\n          const unmountEvent = new CustomEvent(AUTOFOCUS_ON_UNMOUNT, EVENT_OPTIONS);\n          container.addEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n          container.dispatchEvent(unmountEvent);\n          if (!unmountEvent.defaultPrevented) {\n            focus(previouslyFocusedElement ?? document.body, { select: true });\n          }\n          // we need to remove the listener after we `dispatchEvent`\n          container.removeEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n\n          focusScopesStack.remove(focusScope);\n        }, 0);\n      };\n    }\n  }, [container, onMountAutoFocus, onUnmountAutoFocus, focusScope]);\n\n  // Takes care of looping focus (when tabbing whilst at the edges)\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      if (!loop && !trapped) return;\n      if (focusScope.paused) return;\n\n      const isTabKey = event.key === 'Tab' && !event.altKey && !event.ctrlKey && !event.metaKey;\n      const focusedElement = document.activeElement as HTMLElement | null;\n\n      if (isTabKey && focusedElement) {\n        const container = event.currentTarget as HTMLElement;\n        const [first, last] = getTabbableEdges(container);\n        const hasTabbableElementsInside = first && last;\n\n        // we can only wrap focus if we have tabbable edges\n        if (!hasTabbableElementsInside) {\n          if (focusedElement === container) event.preventDefault();\n        } else {\n          if (!event.shiftKey && focusedElement === last) {\n            event.preventDefault();\n            if (loop) focus(first, { select: true });\n          } else if (event.shiftKey && focusedElement === first) {\n            event.preventDefault();\n            if (loop) focus(last, { select: true });\n          }\n        }\n      }\n    },\n    [loop, trapped, focusScope.paused]\n  );\n\n  return (\n    <Primitive.div tabIndex={-1} {...scopeProps} ref={composedRefs} onKeyDown={handleKeyDown} />\n  );\n});\n\nFocusScope.displayName = FOCUS_SCOPE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * Attempts focusing the first element in a list of candidates.\n * Stops when focus has actually moved.\n */\nfunction focusFirst(candidates: HTMLElement[], { select = false } = {}) {\n  const previouslyFocusedElement = document.activeElement;\n  for (const candidate of candidates) {\n    focus(candidate, { select });\n    if (document.activeElement !== previouslyFocusedElement) return;\n  }\n}\n\n/**\n * Returns the first and last tabbable elements inside a container.\n */\nfunction getTabbableEdges(container: HTMLElement) {\n  const candidates = getTabbableCandidates(container);\n  const first = findVisible(candidates, container);\n  const last = findVisible(candidates.reverse(), container);\n  return [first, last] as const;\n}\n\n/**\n * Returns a list of potential tabbable candidates.\n *\n * NOTE: This is only a close approximation. For example it doesn't take into account cases like when\n * elements are not visible. This cannot be worked out easily by just reading a property, but rather\n * necessitate runtime knowledge (computed styles, etc). We deal with these cases separately.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\n * Credit: https://github.com/discord/focus-layers/blob/master/src/util/wrapFocus.tsx#L1\n */\nfunction getTabbableCandidates(container: HTMLElement) {\n  const nodes: HTMLElement[] = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node: any) => {\n      const isHiddenInput = node.tagName === 'INPUT' && node.type === 'hidden';\n      if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP;\n      // `.tabIndex` is not the same as the `tabindex` attribute. It works on the\n      // runtime's understanding of tabbability, so this automatically accounts\n      // for any kind of element that could be tabbed to.\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    },\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode as HTMLElement);\n  // we do not take into account the order of nodes with positive `tabIndex` as it\n  // hinders accessibility to have tab order different from visual order.\n  return nodes;\n}\n\n/**\n * Returns the first visible element in a list.\n * NOTE: Only checks visibility up to the `container`.\n */\nfunction findVisible(elements: HTMLElement[], container: HTMLElement) {\n  for (const element of elements) {\n    // we stop checking if it's hidden at the `container` level (excluding)\n    if (!isHidden(element, { upTo: container })) return element;\n  }\n}\n\nfunction isHidden(node: HTMLElement, { upTo }: { upTo?: HTMLElement }) {\n  if (getComputedStyle(node).visibility === 'hidden') return true;\n  while (node) {\n    // we stop at `upTo` (excluding it)\n    if (upTo !== undefined && node === upTo) return false;\n    if (getComputedStyle(node).display === 'none') return true;\n    node = node.parentElement as HTMLElement;\n  }\n  return false;\n}\n\nfunction isSelectableInput(element: any): element is FocusableTarget & { select: () => void } {\n  return element instanceof HTMLInputElement && 'select' in element;\n}\n\nfunction focus(element?: FocusableTarget | null, { select = false } = {}) {\n  // only focus if that element is focusable\n  if (element && element.focus) {\n    const previouslyFocusedElement = document.activeElement;\n    // NOTE: we prevent scrolling on focus, to minimize jarring transitions for users\n    element.focus({ preventScroll: true });\n    // only select if its not the same element, it supports selection and we need to select\n    if (element !== previouslyFocusedElement && isSelectableInput(element) && select)\n      element.select();\n  }\n}\n\n/* -------------------------------------------------------------------------------------------------\n * FocusScope stack\n * -----------------------------------------------------------------------------------------------*/\n\ntype FocusScopeAPI = { paused: boolean; pause(): void; resume(): void };\nconst focusScopesStack = createFocusScopesStack();\n\nfunction createFocusScopesStack() {\n  /** A stack of focus scopes, with the active one at the top */\n  let stack: FocusScopeAPI[] = [];\n\n  return {\n    add(focusScope: FocusScopeAPI) {\n      // pause the currently active focus scope (at the top of the stack)\n      const activeFocusScope = stack[0];\n      if (focusScope !== activeFocusScope) {\n        activeFocusScope?.pause();\n      }\n      // remove in case it already exists (because we'll re-add it at the top of the stack)\n      stack = arrayRemove(stack, focusScope);\n      stack.unshift(focusScope);\n    },\n\n    remove(focusScope: FocusScopeAPI) {\n      stack = arrayRemove(stack, focusScope);\n      stack[0]?.resume();\n    },\n  };\n}\n\nfunction arrayRemove<T>(array: T[], item: T) {\n  const updatedArray = [...array];\n  const index = updatedArray.indexOf(item);\n  if (index !== -1) {\n    updatedArray.splice(index, 1);\n  }\n  return updatedArray;\n}\n\nfunction removeLinks(items: HTMLElement[]) {\n  return items.filter((item) => item.tagName !== 'A');\n}\n\nconst Root = FocusScope;\n\nexport {\n  FocusScope,\n  //\n  Root,\n};\nexport type { FocusScopeProps };\n","import * as React from 'react';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\n\n// We `toString()` to prevent bundlers from trying to `import { useId } from 'react';`\nconst useReactId = (React as any)['useId'.toString()] || (() => undefined);\nlet count = 0;\n\nfunction useId(deterministicId?: string): string {\n  const [id, setId] = React.useState<string | undefined>(useReactId());\n  // React versions older than 18 will have client-side ids only.\n  useLayoutEffect(() => {\n    if (!deterministicId) setId((reactId) => reactId ?? String(count++));\n  }, [deterministicId]);\n  return deterministicId || (id ? `radix-${id}` : '');\n}\n\nexport { useId };\n","import * as React from 'react';\nimport {\n  useFloating,\n  autoUpdate,\n  offset,\n  shift,\n  limitShift,\n  hide,\n  arrow as floatingUIarrow,\n  flip,\n} from '@floating-ui/react-dom';\nimport * as ArrowPrimitive from '@radix-ui/react-arrow';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { useSize } from '@radix-ui/react-use-size';\n\nimport type { Placement, Middleware } from '@floating-ui/react-dom';\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\nimport type { Measurable } from '@radix-ui/rect';\n\nconst SIDE_OPTIONS = ['top', 'right', 'bottom', 'left'] as const;\nconst ALIGN_OPTIONS = ['start', 'center', 'end'] as const;\n\ntype Side = typeof SIDE_OPTIONS[number];\ntype Align = typeof ALIGN_OPTIONS[number];\n\n/* -------------------------------------------------------------------------------------------------\n * Popper\n * -----------------------------------------------------------------------------------------------*/\n\nconst POPPER_NAME = 'Popper';\n\ntype ScopedProps<P> = P & { __scopePopper?: Scope };\nconst [createPopperContext, createPopperScope] = createContextScope(POPPER_NAME);\n\ntype PopperContextValue = {\n  anchor: Measurable | null;\n  onAnchorChange(anchor: Measurable | null): void;\n};\nconst [PopperProvider, usePopperContext] = createPopperContext<PopperContextValue>(POPPER_NAME);\n\ninterface PopperProps {\n  children?: React.ReactNode;\n}\nconst Popper: React.FC<PopperProps> = (props: ScopedProps<PopperProps>) => {\n  const { __scopePopper, children } = props;\n  const [anchor, setAnchor] = React.useState<Measurable | null>(null);\n  return (\n    <PopperProvider scope={__scopePopper} anchor={anchor} onAnchorChange={setAnchor}>\n      {children}\n    </PopperProvider>\n  );\n};\n\nPopper.displayName = POPPER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopperAnchor\n * -----------------------------------------------------------------------------------------------*/\n\nconst ANCHOR_NAME = 'PopperAnchor';\n\ntype PopperAnchorElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PopperAnchorProps extends PrimitiveDivProps {\n  virtualRef?: React.RefObject<Measurable>;\n}\n\nconst PopperAnchor = React.forwardRef<PopperAnchorElement, PopperAnchorProps>(\n  (props: ScopedProps<PopperAnchorProps>, forwardedRef) => {\n    const { __scopePopper, virtualRef, ...anchorProps } = props;\n    const context = usePopperContext(ANCHOR_NAME, __scopePopper);\n    const ref = React.useRef<PopperAnchorElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n\n    React.useEffect(() => {\n      // Consumer can anchor the popper to something that isn't\n      // a DOM node e.g. pointer position, so we override the\n      // `anchorRef` with their virtual ref in this case.\n      context.onAnchorChange(virtualRef?.current || ref.current);\n    });\n\n    return virtualRef ? null : <Primitive.div {...anchorProps} ref={composedRefs} />;\n  }\n);\n\nPopperAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopperContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'PopperContent';\n\ntype PopperContentContextValue = {\n  placedSide: Side;\n  onArrowChange(arrow: HTMLSpanElement | null): void;\n  arrowX?: number;\n  arrowY?: number;\n  shouldHideArrow: boolean;\n};\n\nconst [PopperContentProvider, useContentContext] =\n  createPopperContext<PopperContentContextValue>(CONTENT_NAME);\n\nconst [PositionContextProvider, usePositionContext] = createPopperContext(CONTENT_NAME, {\n  hasParent: false,\n  positionUpdateFns: new Set<() => void>(),\n});\n\ntype Boundary = Element | null;\n\ntype PopperContentElement = React.ElementRef<typeof Primitive.div>;\ninterface PopperContentProps extends PrimitiveDivProps {\n  side?: Side;\n  sideOffset?: number;\n  align?: Align;\n  alignOffset?: number;\n  arrowPadding?: number;\n  collisionBoundary?: Boundary | Boundary[];\n  collisionPadding?: number | Partial<Record<Side, number>>;\n  sticky?: 'partial' | 'always';\n  hideWhenDetached?: boolean;\n  avoidCollisions?: boolean;\n}\n\nconst PopperContent = React.forwardRef<PopperContentElement, PopperContentProps>(\n  (props: ScopedProps<PopperContentProps>, forwardedRef) => {\n    const {\n      __scopePopper,\n      side = 'bottom',\n      sideOffset = 0,\n      align = 'center',\n      alignOffset = 0,\n      arrowPadding = 0,\n      collisionBoundary = [],\n      collisionPadding: collisionPaddingProp = 0,\n      sticky = 'partial',\n      hideWhenDetached = false,\n      avoidCollisions = true,\n      ...contentProps\n    } = props;\n\n    const context = usePopperContext(CONTENT_NAME, __scopePopper);\n\n    const [content, setContent] = React.useState<HTMLDivElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n\n    const [arrow, setArrow] = React.useState<HTMLSpanElement | null>(null);\n    const arrowSize = useSize(arrow);\n    const arrowWidth = arrowSize?.width ?? 0;\n    const arrowHeight = arrowSize?.height ?? 0;\n\n    const desiredPlacement = (side + (align !== 'center' ? '-' + align : '')) as Placement;\n\n    const collisionPadding =\n      typeof collisionPaddingProp === 'number'\n        ? collisionPaddingProp\n        : { top: 0, right: 0, bottom: 0, left: 0, ...collisionPaddingProp };\n\n    const boundary = Array.isArray(collisionBoundary) ? collisionBoundary : [collisionBoundary];\n    const hasExplicitBoundaries = boundary.length > 0;\n\n    const detectOverflowOptions = {\n      padding: collisionPadding,\n      boundary: boundary.filter(isNotNull),\n      // with `strategy: 'fixed'`, this is the only way to get it to respect boundaries\n      altBoundary: hasExplicitBoundaries,\n    };\n\n    const { reference, floating, strategy, x, y, placement, middlewareData, update } = useFloating({\n      // default to `fixed` strategy so users don't have to pick and we also avoid focus scroll issues\n      strategy: 'fixed',\n      placement: desiredPlacement,\n      whileElementsMounted: autoUpdate,\n      middleware: [\n        offset({ mainAxis: sideOffset + arrowHeight, alignmentAxis: alignOffset }),\n        avoidCollisions\n          ? shift({\n              mainAxis: true,\n              crossAxis: false,\n              limiter: sticky === 'partial' ? limitShift() : undefined,\n              ...detectOverflowOptions,\n            })\n          : undefined,\n        arrow ? floatingUIarrow({ element: arrow, padding: arrowPadding }) : undefined,\n        avoidCollisions ? flip({ ...detectOverflowOptions }) : undefined,\n        transformOrigin({ arrowWidth, arrowHeight }),\n        hideWhenDetached ? hide({ strategy: 'referenceHidden' }) : undefined,\n      ].filter(isDefined),\n    });\n\n    // assign the reference dynamically once `Content` has mounted so we can collocate the logic\n    useLayoutEffect(() => {\n      reference(context.anchor);\n    }, [reference, context.anchor]);\n\n    const isPlaced = x !== null && y !== null;\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n\n    const arrowX = middlewareData.arrow?.x;\n    const arrowY = middlewareData.arrow?.y;\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n\n    const [contentZIndex, setContentZIndex] = React.useState<string>();\n    useLayoutEffect(() => {\n      if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n    }, [content]);\n\n    const { hasParent, positionUpdateFns } = usePositionContext(CONTENT_NAME, __scopePopper);\n    const isRoot = !hasParent;\n\n    React.useLayoutEffect(() => {\n      if (!isRoot) {\n        positionUpdateFns.add(update);\n        return () => {\n          positionUpdateFns.delete(update);\n        };\n      }\n    }, [isRoot, positionUpdateFns, update]);\n\n    // when nested contents are rendered in portals, they are appended out of order causing\n    // children to be positioned incorrectly if initially open.\n    // we need to re-compute the positioning once the parent has finally been placed.\n    // https://github.com/floating-ui/floating-ui/issues/1531\n    React.useLayoutEffect(() => {\n      if (isRoot && isPlaced) {\n        Array.from(positionUpdateFns)\n          .reverse()\n          .forEach((fn) => requestAnimationFrame(fn));\n      }\n    }, [isRoot, isPlaced, positionUpdateFns]);\n\n    const commonProps = {\n      'data-side': placedSide,\n      'data-align': placedAlign,\n      ...contentProps,\n      ref: composedRefs,\n      style: {\n        ...contentProps.style,\n        // if the PopperContent hasn't been placed yet (not all measurements done)\n        // we prevent animations so that users's animation don't kick in too early referring wrong sides\n        animation: !isPlaced ? 'none' : undefined,\n        // hide the content if using the hide middleware and should be hidden\n        opacity: middlewareData.hide?.referenceHidden ? 0 : undefined,\n      },\n    };\n\n    return (\n      <div\n        ref={floating}\n        data-radix-popper-content-wrapper=\"\"\n        style={{\n          position: strategy,\n          left: 0,\n          top: 0,\n          transform: isPlaced\n            ? `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`\n            : 'translate3d(0, -200%, 0)', // keep off the page when measuring\n          minWidth: 'max-content',\n          zIndex: contentZIndex,\n          ['--radix-popper-transform-origin' as any]: [\n            middlewareData.transformOrigin?.x,\n            middlewareData.transformOrigin?.y,\n          ].join(' '),\n        }}\n      >\n        <PopperContentProvider\n          scope={__scopePopper}\n          placedSide={placedSide}\n          onArrowChange={setArrow}\n          arrowX={arrowX}\n          arrowY={arrowY}\n          shouldHideArrow={cannotCenterArrow}\n        >\n          {isRoot ? (\n            <PositionContextProvider\n              scope={__scopePopper}\n              hasParent\n              positionUpdateFns={positionUpdateFns}\n            >\n              <Primitive.div {...commonProps} />\n            </PositionContextProvider>\n          ) : (\n            <Primitive.div {...commonProps} />\n          )}\n        </PopperContentProvider>\n      </div>\n    );\n  }\n);\n\nPopperContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopperArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'PopperArrow';\n\nconst OPPOSITE_SIDE: Record<Side, Side> = {\n  top: 'bottom',\n  right: 'left',\n  bottom: 'top',\n  left: 'right',\n};\n\ntype PopperArrowElement = React.ElementRef<typeof ArrowPrimitive.Root>;\ntype ArrowProps = Radix.ComponentPropsWithoutRef<typeof ArrowPrimitive.Root>;\ninterface PopperArrowProps extends ArrowProps {}\n\nconst PopperArrow = React.forwardRef<PopperArrowElement, PopperArrowProps>(function PopperArrow(\n  props: ScopedProps<PopperArrowProps>,\n  forwardedRef\n) {\n  const { __scopePopper, ...arrowProps } = props;\n  const contentContext = useContentContext(ARROW_NAME, __scopePopper);\n  const baseSide = OPPOSITE_SIDE[contentContext.placedSide];\n\n  return (\n    // we have to use an extra wrapper because `ResizeObserver` (used by `useSize`)\n    // doesn't report size as we'd expect on SVG elements.\n    // it reports their bounding box which is effectively the largest path inside the SVG.\n    <span\n      ref={contentContext.onArrowChange}\n      style={{\n        position: 'absolute',\n        left: contentContext.arrowX,\n        top: contentContext.arrowY,\n        [baseSide]: 0,\n        transformOrigin: {\n          top: '',\n          right: '0 0',\n          bottom: 'center 0',\n          left: '100% 0',\n        }[contentContext.placedSide],\n        transform: {\n          top: 'translateY(100%)',\n          right: 'translateY(50%) rotate(90deg) translateX(-50%)',\n          bottom: `rotate(180deg)`,\n          left: 'translateY(50%) rotate(-90deg) translateX(50%)',\n        }[contentContext.placedSide],\n        visibility: contentContext.shouldHideArrow ? 'hidden' : undefined,\n      }}\n    >\n      <ArrowPrimitive.Root\n        {...arrowProps}\n        ref={forwardedRef}\n        style={{\n          ...arrowProps.style,\n          // ensures the element can be measured correctly (mostly for if SVG)\n          display: 'block',\n        }}\n      />\n    </span>\n  );\n});\n\nPopperArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction isDefined<T>(value: T | undefined): value is T {\n  return value !== undefined;\n}\n\nfunction isNotNull<T>(value: T | null): value is T {\n  return value !== null;\n}\n\nconst transformOrigin = (options: { arrowWidth: number; arrowHeight: number }): Middleware => ({\n  name: 'transformOrigin',\n  options,\n  fn(data) {\n    const { placement, rects, middlewareData } = data;\n\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n    const isArrowHidden = cannotCenterArrow;\n    const arrowWidth = isArrowHidden ? 0 : options.arrowWidth;\n    const arrowHeight = isArrowHidden ? 0 : options.arrowHeight;\n\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const noArrowAlign = { start: '0%', center: '50%', end: '100%' }[placedAlign];\n\n    const arrowXCenter = (middlewareData.arrow?.x ?? 0) + arrowWidth / 2;\n    const arrowYCenter = (middlewareData.arrow?.y ?? 0) + arrowHeight / 2;\n\n    let x = '';\n    let y = '';\n\n    if (placedSide === 'bottom') {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${-arrowHeight}px`;\n    } else if (placedSide === 'top') {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${rects.floating.height + arrowHeight}px`;\n    } else if (placedSide === 'right') {\n      x = `${-arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    } else if (placedSide === 'left') {\n      x = `${rects.floating.width + arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    }\n    return { data: { x, y } };\n  },\n});\n\nfunction getSideAndAlignFromPlacement(placement: Placement) {\n  const [side, align = 'center'] = placement.split('-');\n  return [side as Side, align as Align] as const;\n}\n\nconst Root = Popper;\nconst Anchor = PopperAnchor;\nconst Content = PopperContent;\nconst Arrow = PopperArrow;\n\nexport {\n  createPopperScope,\n  //\n  Popper,\n  PopperAnchor,\n  PopperContent,\n  PopperArrow,\n  //\n  Root,\n  Anchor,\n  Content,\n  Arrow,\n  //\n  SIDE_OPTIONS,\n  ALIGN_OPTIONS,\n};\nexport type { PopperProps, PopperAnchorProps, PopperContentProps, PopperArrowProps };\n","import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'Portal';\n\ntype PortalElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PortalProps extends PrimitiveDivProps {\n  container?: HTMLElement | null;\n}\n\nconst Portal = React.forwardRef<PortalElement, PortalProps>((props, forwardedRef) => {\n  const { container = globalThis?.document?.body, ...portalProps } = props;\n  return container\n    ? ReactDOM.createPortal(<Primitive.div {...portalProps} ref={forwardedRef} />, container)\n    : null;\n});\n\nPortal.displayName = PORTAL_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Portal;\n\nexport {\n  Portal,\n  //\n  Root,\n};\nexport type { PortalProps };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useId } from '@radix-ui/react-id';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\nconst ENTRY_FOCUS = 'rovingFocusGroup.onEntryFocus';\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'RovingFocusGroup';\n\ntype ItemData = { id: string; focusable: boolean; active: boolean };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  HTMLSpanElement,\n  ItemData\n>(GROUP_NAME);\n\ntype ScopedProps<P> = P & { __scopeRovingFocusGroup?: Scope };\nconst [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(\n  GROUP_NAME,\n  [createCollectionScope]\n);\n\ntype Orientation = React.AriaAttributes['aria-orientation'];\ntype Direction = 'ltr' | 'rtl';\n\ninterface RovingFocusGroupOptions {\n  /**\n   * The orientation of the group.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   */\n  orientation?: Orientation;\n  /**\n   * The direction of navigation between items.\n   */\n  dir?: Direction;\n  /**\n   * Whether keyboard navigation should loop around\n   * @defaultValue false\n   */\n  loop?: boolean;\n}\n\ntype RovingContextValue = RovingFocusGroupOptions & {\n  currentTabStopId: string | null;\n  onItemFocus(tabStopId: string): void;\n  onItemShiftTab(): void;\n  onFocusableItemAdd(): void;\n  onFocusableItemRemove(): void;\n};\n\nconst [RovingFocusProvider, useRovingFocusContext] =\n  createRovingFocusGroupContext<RovingContextValue>(GROUP_NAME);\n\ntype RovingFocusGroupElement = RovingFocusGroupImplElement;\ninterface RovingFocusGroupProps extends RovingFocusGroupImplProps {}\n\nconst RovingFocusGroup = React.forwardRef<RovingFocusGroupElement, RovingFocusGroupProps>(\n  (props: ScopedProps<RovingFocusGroupProps>, forwardedRef) => {\n    return (\n      <Collection.Provider scope={props.__scopeRovingFocusGroup}>\n        <Collection.Slot scope={props.__scopeRovingFocusGroup}>\n          <RovingFocusGroupImpl {...props} ref={forwardedRef} />\n        </Collection.Slot>\n      </Collection.Provider>\n    );\n  }\n);\n\nRovingFocusGroup.displayName = GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype RovingFocusGroupImplElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface RovingFocusGroupImplProps\n  extends Omit<PrimitiveDivProps, 'dir'>,\n    RovingFocusGroupOptions {\n  currentTabStopId?: string | null;\n  defaultCurrentTabStopId?: string;\n  onCurrentTabStopIdChange?: (tabStopId: string | null) => void;\n  onEntryFocus?: (event: Event) => void;\n}\n\nconst RovingFocusGroupImpl = React.forwardRef<\n  RovingFocusGroupImplElement,\n  RovingFocusGroupImplProps\n>((props: ScopedProps<RovingFocusGroupImplProps>, forwardedRef) => {\n  const {\n    __scopeRovingFocusGroup,\n    orientation,\n    loop = false,\n    dir,\n    currentTabStopId: currentTabStopIdProp,\n    defaultCurrentTabStopId,\n    onCurrentTabStopIdChange,\n    onEntryFocus,\n    ...groupProps\n  } = props;\n  const ref = React.useRef<RovingFocusGroupImplElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const direction = useDirection(dir);\n  const [currentTabStopId = null, setCurrentTabStopId] = useControllableState({\n    prop: currentTabStopIdProp,\n    defaultProp: defaultCurrentTabStopId,\n    onChange: onCurrentTabStopIdChange,\n  });\n  const [isTabbingBackOut, setIsTabbingBackOut] = React.useState(false);\n  const handleEntryFocus = useCallbackRef(onEntryFocus);\n  const getItems = useCollection(__scopeRovingFocusGroup);\n  const isClickFocusRef = React.useRef(false);\n  const [focusableItemsCount, setFocusableItemsCount] = React.useState(0);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);\n    }\n  }, [handleEntryFocus]);\n\n  return (\n    <RovingFocusProvider\n      scope={__scopeRovingFocusGroup}\n      orientation={orientation}\n      dir={direction}\n      loop={loop}\n      currentTabStopId={currentTabStopId}\n      onItemFocus={React.useCallback(\n        (tabStopId) => setCurrentTabStopId(tabStopId),\n        [setCurrentTabStopId]\n      )}\n      onItemShiftTab={React.useCallback(() => setIsTabbingBackOut(true), [])}\n      onFocusableItemAdd={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount + 1),\n        []\n      )}\n      onFocusableItemRemove={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount - 1),\n        []\n      )}\n    >\n      <Primitive.div\n        tabIndex={isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0}\n        data-orientation={orientation}\n        {...groupProps}\n        ref={composedRefs}\n        style={{ outline: 'none', ...props.style }}\n        onMouseDown={composeEventHandlers(props.onMouseDown, () => {\n          isClickFocusRef.current = true;\n        })}\n        onFocus={composeEventHandlers(props.onFocus, (event) => {\n          // We normally wouldn't need this check, because we already check\n          // that the focus is on the current target and not bubbling to it.\n          // We do this because Safari doesn't focus buttons when clicked, and\n          // instead, the wrapper will get focused and not through a bubbling event.\n          const isKeyboardFocus = !isClickFocusRef.current;\n\n          if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n            const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n            event.currentTarget.dispatchEvent(entryFocusEvent);\n\n            if (!entryFocusEvent.defaultPrevented) {\n              const items = getItems().filter((item) => item.focusable);\n              const activeItem = items.find((item) => item.active);\n              const currentItem = items.find((item) => item.id === currentTabStopId);\n              const candidateItems = [activeItem, currentItem, ...items].filter(\n                Boolean\n              ) as typeof items;\n              const candidateNodes = candidateItems.map((item) => item.ref.current!);\n              focusFirst(candidateNodes);\n            }\n          }\n\n          isClickFocusRef.current = false;\n        })}\n        onBlur={composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))}\n      />\n    </RovingFocusProvider>\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'RovingFocusGroupItem';\n\ntype RovingFocusItemElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = Radix.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface RovingFocusItemProps extends PrimitiveSpanProps {\n  focusable?: boolean;\n  active?: boolean;\n}\n\nconst RovingFocusGroupItem = React.forwardRef<RovingFocusItemElement, RovingFocusItemProps>(\n  (props: ScopedProps<RovingFocusItemProps>, forwardedRef) => {\n    const { __scopeRovingFocusGroup, focusable = true, active = false, ...itemProps } = props;\n    const id = useId();\n    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection(__scopeRovingFocusGroup);\n\n    const { onFocusableItemAdd, onFocusableItemRemove } = context;\n\n    React.useEffect(() => {\n      if (focusable) {\n        onFocusableItemAdd();\n        return () => onFocusableItemRemove();\n      }\n    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);\n\n    return (\n      <Collection.ItemSlot\n        scope={__scopeRovingFocusGroup}\n        id={id}\n        focusable={focusable}\n        active={active}\n      >\n        <Primitive.span\n          tabIndex={isCurrentTabStop ? 0 : -1}\n          data-orientation={context.orientation}\n          {...itemProps}\n          ref={forwardedRef}\n          onMouseDown={composeEventHandlers(props.onMouseDown, (event) => {\n            // We prevent focusing non-focusable items on `mousedown`.\n            // Even though the item has tabIndex={-1}, that only means take it out of the tab order.\n            if (!focusable) event.preventDefault();\n            // Safari doesn't focus a button when clicked so we run our logic on mousedown also\n            else context.onItemFocus(id);\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => context.onItemFocus(id))}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === 'Tab' && event.shiftKey) {\n              context.onItemShiftTab();\n              return;\n            }\n\n            if (event.target !== event.currentTarget) return;\n\n            const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n\n            if (focusIntent !== undefined) {\n              event.preventDefault();\n              const items = getItems().filter((item) => item.focusable);\n              let candidateNodes = items.map((item) => item.ref.current!);\n\n              if (focusIntent === 'last') candidateNodes.reverse();\n              else if (focusIntent === 'prev' || focusIntent === 'next') {\n                if (focusIntent === 'prev') candidateNodes.reverse();\n                const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                candidateNodes = context.loop\n                  ? wrapArray(candidateNodes, currentIndex + 1)\n                  : candidateNodes.slice(currentIndex + 1);\n              }\n\n              /**\n               * Imperative focus during keydown is risky so we prevent React's batching updates\n               * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n               */\n              setTimeout(() => focusFirst(candidateNodes));\n            }\n          })}\n        />\n      </Collection.ItemSlot>\n    );\n  }\n);\n\nRovingFocusGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\n// prettier-ignore\nconst MAP_KEY_TO_FOCUS_INTENT: Record<string, FocusIntent> = {\n  ArrowLeft: 'prev', ArrowUp: 'prev',\n  ArrowRight: 'next', ArrowDown: 'next',\n  PageUp: 'first', Home: 'first',\n  PageDown: 'last', End: 'last',\n};\n\nfunction getDirectionAwareKey(key: string, dir?: Direction) {\n  if (dir !== 'rtl') return key;\n  return key === 'ArrowLeft' ? 'ArrowRight' : key === 'ArrowRight' ? 'ArrowLeft' : key;\n}\n\ntype FocusIntent = 'first' | 'last' | 'prev' | 'next';\n\nfunction getFocusIntent(event: React.KeyboardEvent, orientation?: Orientation, dir?: Direction) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === 'vertical' && ['ArrowLeft', 'ArrowRight'].includes(key)) return undefined;\n  if (orientation === 'horizontal' && ['ArrowUp', 'ArrowDown'].includes(key)) return undefined;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\n\nfunction focusFirst(candidates: HTMLElement[]) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\nconst Root = RovingFocusGroup;\nconst Item = RovingFocusGroupItem;\n\nexport {\n  createRovingFocusGroupScope,\n  //\n  RovingFocusGroup,\n  RovingFocusGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { RovingFocusGroupProps, RovingFocusItemProps };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs, composeRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive, dispatchDiscreteCustomEvent } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Slot } from '@radix-ui/react-slot';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { hideOthers } from 'aria-hidden';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst SELECTION_KEYS = ['Enter', ' '];\nconst FIRST_KEYS = ['ArrowDown', 'PageUp', 'Home'];\nconst LAST_KEYS = ['ArrowUp', 'PageDown', 'End'];\nconst FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nconst SUB_OPEN_KEYS: Record<Direction, string[]> = {\n  ltr: [...SELECTION_KEYS, 'ArrowRight'],\n  rtl: [...SELECTION_KEYS, 'ArrowLeft'],\n};\nconst SUB_CLOSE_KEYS: Record<Direction, string[]> = {\n  ltr: ['ArrowLeft'],\n  rtl: ['ArrowRight'],\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Menu\n * -----------------------------------------------------------------------------------------------*/\n\nconst MENU_NAME = 'Menu';\n\ntype ItemData = { disabled: boolean; textValue: string };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  MenuItemElement,\n  ItemData\n>(MENU_NAME);\n\ntype ScopedProps<P> = P & { __scopeMenu?: Scope };\nconst [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope,\n]);\nconst usePopperScope = createPopperScope();\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype MenuContextValue = {\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  content: MenuContentElement | null;\n  onContentChange(content: MenuContentElement | null): void;\n};\n\nconst [MenuProvider, useMenuContext] = createMenuContext<MenuContextValue>(MENU_NAME);\n\ntype MenuRootContextValue = {\n  onClose(): void;\n  isUsingKeyboardRef: React.RefObject<boolean>;\n  dir: Direction;\n  modal: boolean;\n};\n\nconst [MenuRootProvider, useMenuRootContext] = createMenuContext<MenuRootContextValue>(MENU_NAME);\n\ninterface MenuProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  onOpenChange?(open: boolean): void;\n  dir?: Direction;\n  modal?: boolean;\n}\n\nconst Menu: React.FC<MenuProps> = (props: ScopedProps<MenuProps>) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React.useState<MenuContentElement | null>(null);\n  const isUsingKeyboardRef = React.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n\n  React.useEffect(() => {\n    // Capture phase ensures we set the boolean before any side effects execute\n    // in response to the key or pointer event as they might depend on this value.\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener('pointerdown', handlePointer, { capture: true, once: true });\n      document.addEventListener('pointermove', handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => (isUsingKeyboardRef.current = false);\n    document.addEventListener('keydown', handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown, { capture: true });\n      document.removeEventListener('pointerdown', handlePointer, { capture: true });\n      document.removeEventListener('pointermove', handlePointer, { capture: true });\n    };\n  }, []);\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <MenuProvider\n        scope={__scopeMenu}\n        open={open}\n        onOpenChange={handleOpenChange}\n        content={content}\n        onContentChange={setContent}\n      >\n        <MenuRootProvider\n          scope={__scopeMenu}\n          onClose={React.useCallback(() => handleOpenChange(false), [handleOpenChange])}\n          isUsingKeyboardRef={isUsingKeyboardRef}\n          dir={direction}\n          modal={modal}\n        >\n          {children}\n        </MenuRootProvider>\n      </MenuProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nMenu.displayName = MENU_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuAnchor\n * -----------------------------------------------------------------------------------------------*/\n\nconst ANCHOR_NAME = 'MenuAnchor';\n\ntype MenuAnchorElement = React.ElementRef<typeof PopperPrimitive.Anchor>;\ntype PopperAnchorProps = Radix.ComponentPropsWithoutRef<typeof PopperPrimitive.Anchor>;\ninterface MenuAnchorProps extends PopperAnchorProps {}\n\nconst MenuAnchor = React.forwardRef<MenuAnchorElement, MenuAnchorProps>(\n  (props: ScopedProps<MenuAnchorProps>, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return <PopperPrimitive.Anchor {...popperScope} {...anchorProps} ref={forwardedRef} />;\n  }\n);\n\nMenuAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'MenuPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createMenuContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface MenuPortalProps extends Omit<PortalProps, 'asChild'> {\n  children?: React.ReactNode;\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuPortal: React.FC<MenuPortalProps> = (props: ScopedProps<MenuPortalProps>) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return (\n    <PortalProvider scope={__scopeMenu} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nMenuPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'MenuContent';\n\ntype MenuContentContextValue = {\n  onItemEnter(event: React.PointerEvent): void;\n  onItemLeave(event: React.PointerEvent): void;\n  onTriggerLeave(event: React.PointerEvent): void;\n  searchRef: React.RefObject<string>;\n  pointerGraceTimerRef: React.MutableRefObject<number>;\n  onPointerGraceIntentChange(intent: GraceIntent | null): void;\n};\nconst [MenuContentProvider, useMenuContentContext] =\n  createMenuContext<MenuContentContextValue>(CONTENT_NAME);\n\ntype MenuContentElement = MenuRootContentTypeElement;\n/**\n * We purposefully don't union MenuRootContent and MenuSubContent props here because\n * they have conflicting prop types. We agreed that we would allow MenuSubContent to\n * accept props that it would just ignore.\n */\ninterface MenuContentProps extends MenuRootContentTypeProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuContent = React.forwardRef<MenuContentElement, MenuContentProps>(\n  (props: ScopedProps<MenuContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n\n    return (\n      <Collection.Provider scope={props.__scopeMenu}>\n        <Presence present={forceMount || context.open}>\n          <Collection.Slot scope={props.__scopeMenu}>\n            {rootContext.modal ? (\n              <MenuRootContentModal {...contentProps} ref={forwardedRef} />\n            ) : (\n              <MenuRootContentNonModal {...contentProps} ref={forwardedRef} />\n            )}\n          </Collection.Slot>\n        </Presence>\n      </Collection.Provider>\n    );\n  }\n);\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype MenuRootContentTypeElement = MenuContentImplElement;\ninterface MenuRootContentTypeProps\n  extends Omit<MenuContentImplProps, keyof MenuContentImplPrivateProps> {}\n\nconst MenuRootContentModal = React.forwardRef<MenuRootContentTypeElement, MenuRootContentTypeProps>(\n  (props: ScopedProps<MenuRootContentTypeProps>, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef<MenuRootContentTypeElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n\n    // Hide everything from ARIA except the `MenuContent`\n    React.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n\n    return (\n      <MenuContentImpl\n        {...props}\n        ref={composedRefs}\n        // we make sure we're not trapping once it's been closed\n        // (closed !== unmounted when animating out)\n        trapFocus={context.open}\n        // make sure to only disable pointer events when open\n        // this avoids blocking interactions while animating out\n        disableOutsidePointerEvents={context.open}\n        disableOutsideScroll\n        // When focus is trapped, a `focusout` event may still happen.\n        // We make sure we don't trigger our `onDismiss` in such case.\n        onFocusOutside={composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        )}\n        onDismiss={() => context.onOpenChange(false)}\n      />\n    );\n  }\n);\n\nconst MenuRootContentNonModal = React.forwardRef<\n  MenuRootContentTypeElement,\n  MenuRootContentTypeProps\n>((props: ScopedProps<MenuRootContentTypeProps>, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return (\n    <MenuContentImpl\n      {...props}\n      ref={forwardedRef}\n      trapFocus={false}\n      disableOutsidePointerEvents={false}\n      disableOutsideScroll={false}\n      onDismiss={() => context.onOpenChange(false)}\n    />\n  );\n});\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype MenuContentImplElement = React.ElementRef<typeof PopperPrimitive.Content>;\ntype FocusScopeProps = Radix.ComponentPropsWithoutRef<typeof FocusScope>;\ntype DismissableLayerProps = Radix.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype RovingFocusGroupProps = Radix.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype PopperContentProps = Radix.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ntype MenuContentImplPrivateProps = {\n  onOpenAutoFocus?: FocusScopeProps['onMountAutoFocus'];\n  onDismiss?: DismissableLayerProps['onDismiss'];\n  disableOutsidePointerEvents?: DismissableLayerProps['disableOutsidePointerEvents'];\n\n  /**\n   * Whether scrolling outside the `MenuContent` should be prevented\n   * (default: `false`)\n   */\n  disableOutsideScroll?: boolean;\n\n  /**\n   * Whether focus should be trapped within the `MenuContent`\n   * (default: false)\n   */\n  trapFocus?: FocusScopeProps['trapped'];\n};\ninterface MenuContentImplProps\n  extends MenuContentImplPrivateProps,\n    Omit<PopperContentProps, 'dir'> {\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n\n  /**\n   * Whether keyboard navigation should loop around\n   * @defaultValue false\n   */\n  loop?: RovingFocusGroupProps['loop'];\n\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n  onFocusOutside?: DismissableLayerProps['onFocusOutside'];\n  onInteractOutside?: DismissableLayerProps['onInteractOutside'];\n}\n\nconst MenuContentImpl = React.forwardRef<MenuContentImplElement, MenuContentImplProps>(\n  (props: ScopedProps<MenuContentImplProps>, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React.useState<string | null>(null);\n    const contentRef = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React.useRef(0);\n    const searchRef = React.useRef('');\n    const pointerGraceTimerRef = React.useRef(0);\n    const pointerGraceIntentRef = React.useRef<GraceIntent | null>(null);\n    const pointerDirRef = React.useRef<Side>('right');\n    const lastPointerXRef = React.useRef(0);\n\n    const ScrollLockWrapper = disableOutsideScroll ? RemoveScroll : React.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll\n      ? { as: Slot, allowPinchZoom: true }\n      : undefined;\n\n    const handleTypeaheadSearch = (key: string) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n\n      // Reset `searchRef` 1 second after it was last updated\n      (function updateSearch(value: string) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== '') timerRef.current = window.setTimeout(() => updateSearch(''), 1000);\n      })(search);\n\n      if (newItem) {\n        /**\n         * Imperative focus during keydown is risky so we prevent React's batching updates\n         * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n         */\n        setTimeout(() => (newItem as HTMLElement).focus());\n      }\n    };\n\n    React.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n\n    // Make sure the whole tree has focus guards as our `MenuContent` may be\n    // the last element in the DOM (beacuse of the `Portal`)\n    useFocusGuards();\n\n    const isPointerMovingToSubmenu = React.useCallback((event: React.PointerEvent) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n\n    return (\n      <MenuContentProvider\n        scope={__scopeMenu}\n        searchRef={searchRef}\n        onItemEnter={React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        )}\n        onItemLeave={React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        )}\n        onTriggerLeave={React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        )}\n        pointerGraceTimerRef={pointerGraceTimerRef}\n        onPointerGraceIntentChange={React.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, [])}\n      >\n        <ScrollLockWrapper {...scrollLockWrapperProps}>\n          <FocusScope\n            asChild\n            trapped={trapFocus}\n            onMountAutoFocus={composeEventHandlers(onOpenAutoFocus, (event) => {\n              // when opening, explicitly focus the content area only and leave\n              // `onEntryFocus` in  control of focusing first item\n              event.preventDefault();\n              contentRef.current?.focus();\n            })}\n            onUnmountAutoFocus={onCloseAutoFocus}\n          >\n            <DismissableLayer\n              asChild\n              disableOutsidePointerEvents={disableOutsidePointerEvents}\n              onEscapeKeyDown={onEscapeKeyDown}\n              onPointerDownOutside={onPointerDownOutside}\n              onFocusOutside={onFocusOutside}\n              onInteractOutside={onInteractOutside}\n              onDismiss={onDismiss}\n            >\n              <RovingFocusGroup.Root\n                asChild\n                {...rovingFocusGroupScope}\n                dir={rootContext.dir}\n                orientation=\"vertical\"\n                loop={loop}\n                currentTabStopId={currentItemId}\n                onCurrentTabStopIdChange={setCurrentItemId}\n                onEntryFocus={(event) => {\n                  // only focus first item when using keyboard\n                  if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                }}\n              >\n                <PopperPrimitive.Content\n                  role=\"menu\"\n                  aria-orientation=\"vertical\"\n                  data-state={getOpenState(context.open)}\n                  data-radix-menu-content=\"\"\n                  dir={rootContext.dir}\n                  {...popperScope}\n                  {...contentProps}\n                  ref={composedRefs}\n                  style={{ outline: 'none', ...contentProps.style }}\n                  onKeyDown={composeEventHandlers(contentProps.onKeyDown, (event) => {\n                    // submenu key events bubble through portals. We only care about keys in this menu.\n                    const target = event.target as HTMLElement;\n                    const isKeyDownInside =\n                      target.closest('[data-radix-menu-content]') === event.currentTarget;\n                    const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                    const isCharacterKey = event.key.length === 1;\n                    if (isKeyDownInside) {\n                      // menus should not be navigated using tab key so we prevent it\n                      if (event.key === 'Tab') event.preventDefault();\n                      if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                    }\n                    // focus first/last item based on key pressed\n                    const content = contentRef.current;\n                    if (event.target !== content) return;\n                    if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                    event.preventDefault();\n                    const items = getItems().filter((item) => !item.disabled);\n                    const candidateNodes = items.map((item) => item.ref.current!);\n                    if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                    focusFirst(candidateNodes);\n                  })}\n                  onBlur={composeEventHandlers(props.onBlur, (event) => {\n                    // clear search buffer when leaving the menu\n                    if (!event.currentTarget.contains(event.target)) {\n                      window.clearTimeout(timerRef.current);\n                      searchRef.current = '';\n                    }\n                  })}\n                  onPointerMove={composeEventHandlers(\n                    props.onPointerMove,\n                    whenMouse((event) => {\n                      const target = event.target as HTMLElement;\n                      const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n\n                      // We don't use `event.movementX` for this check because Safari will\n                      // always return `0` on a pointer event.\n                      if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                        const newDir = event.clientX > lastPointerXRef.current ? 'right' : 'left';\n                        pointerDirRef.current = newDir;\n                        lastPointerXRef.current = event.clientX;\n                      }\n                    })\n                  )}\n                />\n              </RovingFocusGroup.Root>\n            </DismissableLayer>\n          </FocusScope>\n        </ScrollLockWrapper>\n      </MenuContentProvider>\n    );\n  }\n);\n\nMenuContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'MenuGroup';\n\ntype MenuGroupElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface MenuGroupProps extends PrimitiveDivProps {}\n\nconst MenuGroup = React.forwardRef<MenuGroupElement, MenuGroupProps>(\n  (props: ScopedProps<MenuGroupProps>, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return <Primitive.div role=\"group\" {...groupProps} ref={forwardedRef} />;\n  }\n);\n\nMenuGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuLabel\n * -----------------------------------------------------------------------------------------------*/\n\nconst LABEL_NAME = 'MenuLabel';\n\ntype MenuLabelElement = React.ElementRef<typeof Primitive.div>;\ninterface MenuLabelProps extends PrimitiveDivProps {}\n\nconst MenuLabel = React.forwardRef<MenuLabelElement, MenuLabelProps>(\n  (props: ScopedProps<MenuLabelProps>, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return <Primitive.div {...labelProps} ref={forwardedRef} />;\n  }\n);\n\nMenuLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'MenuItem';\nconst ITEM_SELECT = 'menu.itemSelect';\n\ntype MenuItemElement = MenuItemImplElement;\ninterface MenuItemProps extends Omit<MenuItemImplProps, 'onSelect'> {\n  onSelect?: (event: Event) => void;\n}\n\nconst MenuItem = React.forwardRef<MenuItemElement, MenuItemProps>(\n  (props: ScopedProps<MenuItemProps>, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React.useRef<HTMLDivElement>(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React.useRef(false);\n\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n\n    return (\n      <MenuItemImpl\n        {...itemProps}\n        ref={composedRefs}\n        disabled={disabled}\n        onClick={composeEventHandlers(props.onClick, handleSelect)}\n        onPointerDown={(event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        }}\n        onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n          // Pointer down can move to a different menu item which should activate it on pointer up.\n          // We dispatch a click for selection to allow composition with click based triggers and to\n          // prevent Firefox from getting stuck in text selection mode when the menu closes.\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        })}\n        onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== '';\n          if (disabled || (isTypingAhead && event.key === ' ')) return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            /**\n             * We prevent default browser behaviour for selection keys as they should trigger\n             * a selection only:\n             * - prevents space from scrolling the page.\n             * - if keydown causes focus to move, prevents keydown from firing on the new target.\n             */\n            event.preventDefault();\n          }\n        })}\n      />\n    );\n  }\n);\n\nMenuItem.displayName = ITEM_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype MenuItemImplElement = React.ElementRef<typeof Primitive.div>;\ninterface MenuItemImplProps extends PrimitiveDivProps {\n  disabled?: boolean;\n  textValue?: string;\n}\n\nconst MenuItemImpl = React.forwardRef<MenuItemImplElement, MenuItemImplProps>(\n  (props: ScopedProps<MenuItemImplProps>, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React.useState(false);\n\n    // get the item's `.textContent` as default strategy for typeahead `textValue`\n    const [textContent, setTextContent] = React.useState('');\n    React.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? '').trim());\n      }\n    }, [itemProps.children]);\n\n    return (\n      <Collection.ItemSlot\n        scope={__scopeMenu}\n        disabled={disabled}\n        textValue={textValue ?? textContent}\n      >\n        <RovingFocusGroup.Item asChild {...rovingFocusGroupScope} focusable={!disabled}>\n          <Primitive.div\n            role=\"menuitem\"\n            data-highlighted={isFocused ? '' : undefined}\n            aria-disabled={disabled || undefined}\n            data-disabled={disabled ? '' : undefined}\n            {...itemProps}\n            ref={composedRefs}\n            /**\n             * We focus items on `pointerMove` to achieve the following:\n             *\n             * - Mouse over an item (it focuses)\n             * - Leave mouse where it is and use keyboard to focus a different item\n             * - Wiggle mouse without it leaving previously focused item\n             * - Previously focused item should re-focus\n             *\n             * If we used `mouseOver`/`mouseEnter` it would not re-focus when the mouse\n             * wiggles. This is to match native menu implementation.\n             */\n            onPointerMove={composeEventHandlers(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus();\n                  }\n                }\n              })\n            )}\n            onPointerLeave={composeEventHandlers(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            )}\n            onFocus={composeEventHandlers(props.onFocus, () => setIsFocused(true))}\n            onBlur={composeEventHandlers(props.onBlur, () => setIsFocused(false))}\n          />\n        </RovingFocusGroup.Item>\n      </Collection.ItemSlot>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * MenuCheckboxItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst CHECKBOX_ITEM_NAME = 'MenuCheckboxItem';\n\ntype MenuCheckboxItemElement = MenuItemElement;\n\ntype CheckedState = boolean | 'indeterminate';\n\ninterface MenuCheckboxItemProps extends MenuItemProps {\n  checked?: CheckedState;\n  onCheckedChange?: (checked: CheckedState) => void;\n}\n\nconst MenuCheckboxItem = React.forwardRef<MenuCheckboxItemElement, MenuCheckboxItemProps>(\n  (props: ScopedProps<MenuCheckboxItemProps>, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return (\n      <ItemIndicatorProvider scope={props.__scopeMenu} checked={checked}>\n        <MenuItem\n          role=\"menuitemcheckbox\"\n          aria-checked={isIndeterminate(checked) ? 'mixed' : checked}\n          {...checkboxItemProps}\n          ref={forwardedRef}\n          data-state={getCheckedState(checked)}\n          onSelect={composeEventHandlers(\n            checkboxItemProps.onSelect,\n            () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n            { checkForDefaultPrevented: false }\n          )}\n        />\n      </ItemIndicatorProvider>\n    );\n  }\n);\n\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuRadioGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_GROUP_NAME = 'MenuRadioGroup';\n\nconst [RadioGroupProvider, useRadioGroupContext] = createMenuContext<MenuRadioGroupProps>(\n  RADIO_GROUP_NAME,\n  { value: undefined, onValueChange: () => {} }\n);\n\ntype MenuRadioGroupElement = React.ElementRef<typeof MenuGroup>;\ninterface MenuRadioGroupProps extends MenuGroupProps {\n  value?: string;\n  onValueChange?: (value: string) => void;\n}\n\nconst MenuRadioGroup = React.forwardRef<MenuRadioGroupElement, MenuRadioGroupProps>(\n  (props: ScopedProps<MenuRadioGroupProps>, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return (\n      <RadioGroupProvider scope={props.__scopeMenu} value={value} onValueChange={handleValueChange}>\n        <MenuGroup {...groupProps} ref={forwardedRef} />\n      </RadioGroupProvider>\n    );\n  }\n);\n\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuRadioItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_ITEM_NAME = 'MenuRadioItem';\n\ntype MenuRadioItemElement = React.ElementRef<typeof MenuItem>;\ninterface MenuRadioItemProps extends MenuItemProps {\n  value: string;\n}\n\nconst MenuRadioItem = React.forwardRef<MenuRadioItemElement, MenuRadioItemProps>(\n  (props: ScopedProps<MenuRadioItemProps>, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return (\n      <ItemIndicatorProvider scope={props.__scopeMenu} checked={checked}>\n        <MenuItem\n          role=\"menuitemradio\"\n          aria-checked={checked}\n          {...radioItemProps}\n          ref={forwardedRef}\n          data-state={getCheckedState(checked)}\n          onSelect={composeEventHandlers(\n            radioItemProps.onSelect,\n            () => context.onValueChange?.(value),\n            { checkForDefaultPrevented: false }\n          )}\n        />\n      </ItemIndicatorProvider>\n    );\n  }\n);\n\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuItemIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_INDICATOR_NAME = 'MenuItemIndicator';\n\ntype CheckboxContextValue = { checked: CheckedState };\n\nconst [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext<CheckboxContextValue>(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\n\ntype MenuItemIndicatorElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = Radix.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface MenuItemIndicatorProps extends PrimitiveSpanProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuItemIndicator = React.forwardRef<MenuItemIndicatorElement, MenuItemIndicatorProps>(\n  (props: ScopedProps<MenuItemIndicatorProps>, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return (\n      <Presence\n        present={\n          forceMount ||\n          isIndeterminate(indicatorContext.checked) ||\n          indicatorContext.checked === true\n        }\n      >\n        <Primitive.span\n          {...itemIndicatorProps}\n          ref={forwardedRef}\n          data-state={getCheckedState(indicatorContext.checked)}\n        />\n      </Presence>\n    );\n  }\n);\n\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'MenuSeparator';\n\ntype MenuSeparatorElement = React.ElementRef<typeof Primitive.div>;\ninterface MenuSeparatorProps extends PrimitiveDivProps {}\n\nconst MenuSeparator = React.forwardRef<MenuSeparatorElement, MenuSeparatorProps>(\n  (props: ScopedProps<MenuSeparatorProps>, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return (\n      <Primitive.div\n        role=\"separator\"\n        aria-orientation=\"horizontal\"\n        {...separatorProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nMenuSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'MenuArrow';\n\ntype MenuArrowElement = React.ElementRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = Radix.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface MenuArrowProps extends PopperArrowProps {}\n\nconst MenuArrow = React.forwardRef<MenuArrowElement, MenuArrowProps>(\n  (props: ScopedProps<MenuArrowProps>, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nMenuArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSub\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_NAME = 'MenuSub';\n\ntype MenuSubContextValue = {\n  contentId: string;\n  triggerId: string;\n  trigger: MenuSubTriggerElement | null;\n  onTriggerChange(trigger: MenuSubTriggerElement | null): void;\n};\n\nconst [MenuSubProvider, useMenuSubContext] = createMenuContext<MenuSubContextValue>(SUB_NAME);\n\ninterface MenuSubProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  onOpenChange?(open: boolean): void;\n}\n\nconst MenuSub: React.FC<MenuSubProps> = (props: ScopedProps<MenuSubProps>) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React.useState<MenuSubTriggerElement | null>(null);\n  const [content, setContent] = React.useState<MenuContentElement | null>(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n\n  // Prevent the parent menu from reopening with open submenus.\n  React.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <MenuProvider\n        scope={__scopeMenu}\n        open={open}\n        onOpenChange={handleOpenChange}\n        content={content}\n        onContentChange={setContent}\n      >\n        <MenuSubProvider\n          scope={__scopeMenu}\n          contentId={useId()}\n          triggerId={useId()}\n          trigger={trigger}\n          onTriggerChange={setTrigger}\n        >\n          {children}\n        </MenuSubProvider>\n      </MenuProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nMenuSub.displayName = SUB_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSubTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_TRIGGER_NAME = 'MenuSubTrigger';\n\ntype MenuSubTriggerElement = MenuItemImplElement;\ninterface MenuSubTriggerProps extends MenuItemImplProps {}\n\nconst MenuSubTrigger = React.forwardRef<MenuSubTriggerElement, MenuSubTriggerProps>(\n  (props: ScopedProps<MenuSubTriggerProps>, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React.useRef<number | null>(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n\n    const clearOpenTimer = React.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n\n    React.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n\n    React.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n\n    return (\n      <MenuAnchor asChild {...scope}>\n        <MenuItemImpl\n          id={subContext.triggerId}\n          aria-haspopup=\"menu\"\n          aria-expanded={context.open}\n          aria-controls={subContext.contentId}\n          data-state={getOpenState(context.open)}\n          {...props}\n          ref={composeRefs(forwardedRef, subContext.onTriggerChange)}\n          // This is redundant for mouse users but we cannot determine pointer type from\n          // click event and we cannot use pointerup event (see git history for reasons why)\n          onClick={(event) => {\n            props.onClick?.(event);\n            if (props.disabled || event.defaultPrevented) return;\n            /**\n             * We manually focus because iOS Safari doesn't always focus on click (e.g. buttons)\n             * and we rely heavily on `onFocusOutside` for submenus to close when switching\n             * between separate submenus.\n             */\n            event.currentTarget.focus();\n            if (!context.open) context.onOpenChange(true);\n          }}\n          onPointerMove={composeEventHandlers(\n            props.onPointerMove,\n            whenMouse((event) => {\n              contentContext.onItemEnter(event);\n              if (event.defaultPrevented) return;\n              if (!props.disabled && !context.open && !openTimerRef.current) {\n                contentContext.onPointerGraceIntentChange(null);\n                openTimerRef.current = window.setTimeout(() => {\n                  context.onOpenChange(true);\n                  clearOpenTimer();\n                }, 100);\n              }\n            })\n          )}\n          onPointerLeave={composeEventHandlers(\n            props.onPointerLeave,\n            whenMouse((event) => {\n              clearOpenTimer();\n\n              const contentRect = context.content?.getBoundingClientRect();\n              if (contentRect) {\n                // TODO: make sure to update this when we change positioning logic\n                const side = context.content?.dataset.side as Side;\n                const rightSide = side === 'right';\n                const bleed = rightSide ? -5 : +5;\n                const contentNearEdge = contentRect[rightSide ? 'left' : 'right'];\n                const contentFarEdge = contentRect[rightSide ? 'right' : 'left'];\n\n                contentContext.onPointerGraceIntentChange({\n                  area: [\n                    // Apply a bleed on clientX to ensure that our exit point is\n                    // consistently within polygon bounds\n                    { x: event.clientX + bleed, y: event.clientY },\n                    { x: contentNearEdge, y: contentRect.top },\n                    { x: contentFarEdge, y: contentRect.top },\n                    { x: contentFarEdge, y: contentRect.bottom },\n                    { x: contentNearEdge, y: contentRect.bottom },\n                  ],\n                  side,\n                });\n\n                window.clearTimeout(pointerGraceTimerRef.current);\n                pointerGraceTimerRef.current = window.setTimeout(\n                  () => contentContext.onPointerGraceIntentChange(null),\n                  300\n                );\n              } else {\n                contentContext.onTriggerLeave(event);\n                if (event.defaultPrevented) return;\n\n                // There's 100ms where the user may leave an item before the submenu was opened.\n                contentContext.onPointerGraceIntentChange(null);\n              }\n            })\n          )}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            const isTypingAhead = contentContext.searchRef.current !== '';\n            if (props.disabled || (isTypingAhead && event.key === ' ')) return;\n            if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n              context.onOpenChange(true);\n              // The trigger may hold focus if opened via pointer interaction\n              // so we ensure content is given focus again when switching to keyboard.\n              context.content?.focus();\n              // prevent window from scrolling\n              event.preventDefault();\n            }\n          })}\n        />\n      </MenuAnchor>\n    );\n  }\n);\n\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSubContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_CONTENT_NAME = 'MenuSubContent';\n\ntype MenuSubContentElement = MenuContentImplElement;\ninterface MenuSubContentProps\n  extends Omit<\n    MenuContentImplProps,\n    keyof MenuContentImplPrivateProps | 'onCloseAutoFocus' | 'side' | 'align'\n  > {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuSubContent = React.forwardRef<MenuSubContentElement, MenuSubContentProps>(\n  (props: ScopedProps<MenuSubContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef<MenuSubContentElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return (\n      <Collection.Provider scope={props.__scopeMenu}>\n        <Presence present={forceMount || context.open}>\n          <Collection.Slot scope={props.__scopeMenu}>\n            <MenuContentImpl\n              id={subContext.contentId}\n              aria-labelledby={subContext.triggerId}\n              {...subContentProps}\n              ref={composedRefs}\n              align=\"start\"\n              side={rootContext.dir === 'rtl' ? 'left' : 'right'}\n              disableOutsidePointerEvents={false}\n              disableOutsideScroll={false}\n              trapFocus={false}\n              onOpenAutoFocus={(event) => {\n                // when opening a submenu, focus content for keyboard users only\n                if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n                event.preventDefault();\n              }}\n              // The menu might close because of focusing another menu item in the parent menu. We\n              // don't want it to refocus the trigger in that case so we handle trigger focus ourselves.\n              onCloseAutoFocus={(event) => event.preventDefault()}\n              onFocusOutside={composeEventHandlers(props.onFocusOutside, (event) => {\n                // We prevent closing when the trigger is focused to avoid triggering a re-open animation\n                // on pointer interaction.\n                if (event.target !== subContext.trigger) context.onOpenChange(false);\n              })}\n              onEscapeKeyDown={composeEventHandlers(props.onEscapeKeyDown, rootContext.onClose)}\n              onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n                // Submenu key events bubble through portals. We only care about keys in this menu.\n                const isKeyDownInside = event.currentTarget.contains(event.target as HTMLElement);\n                const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n                if (isKeyDownInside && isCloseKey) {\n                  context.onOpenChange(false);\n                  // We focus manually because we prevented it in `onCloseAutoFocus`\n                  subContext.trigger?.focus();\n                  // prevent window from scrolling\n                  event.preventDefault();\n                }\n              })}\n            />\n          </Collection.Slot>\n        </Presence>\n      </Collection.Provider>\n    );\n  }\n);\n\nMenuSubContent.displayName = SUB_CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getOpenState(open: boolean) {\n  return open ? 'open' : 'closed';\n}\n\nfunction isIndeterminate(checked?: CheckedState): checked is 'indeterminate' {\n  return checked === 'indeterminate';\n}\n\nfunction getCheckedState(checked: CheckedState) {\n  return isIndeterminate(checked) ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n}\n\nfunction focusFirst(candidates: HTMLElement[]) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\n/**\n * This is the \"meat\" of the typeahead matching logic. It takes in all the values,\n * the search and the current match, and returns the next match (or `undefined`).\n *\n * We normalize the search because if a user has repeatedly pressed a character,\n * we want the exact same behavior as if we only had that one character\n * (ie. cycle through options starting with that character)\n *\n * We also reorder the values by wrapping the array around the current match.\n * This is so we always look forward from the current match, and picking the first\n * match will always be the correct one.\n *\n * Finally, if the normalized search is exactly one character, we exclude the\n * current match from the values because otherwise it would be the first to match always\n * and focus would never move. This is as opposed to the regular case, where we\n * don't want focus to move if the current match still matches.\n */\nfunction getNextMatch(values: string[], search: string, currentMatch?: string) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find((value) =>\n    value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : undefined;\n}\n\ntype Point = { x: number; y: number };\ntype Polygon = Point[];\ntype Side = 'left' | 'right';\ntype GraceIntent = { area: Polygon; side: Side };\n\n// Determine if a point is inside of a polygon.\n// Based on https://github.com/substack/point-in-polygon\nfunction isPointInPolygon(point: Point, polygon: Polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n\n    // prettier-ignore\n    const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n    if (intersect) inside = !inside;\n  }\n\n  return inside;\n}\n\nfunction isPointerInGraceArea(event: React.PointerEvent, area?: Polygon) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\n\nfunction whenMouse<E>(handler: React.PointerEventHandler<E>): React.PointerEventHandler<E> {\n  return (event) => (event.pointerType === 'mouse' ? handler(event) : undefined);\n}\n\nconst Root = Menu;\nconst Anchor = MenuAnchor;\nconst Portal = MenuPortal;\nconst Content = MenuContent;\nconst Group = MenuGroup;\nconst Label = MenuLabel;\nconst Item = MenuItem;\nconst CheckboxItem = MenuCheckboxItem;\nconst RadioGroup = MenuRadioGroup;\nconst RadioItem = MenuRadioItem;\nconst ItemIndicator = MenuItemIndicator;\nconst Separator = MenuSeparator;\nconst Arrow = MenuArrow;\nconst Sub = MenuSub;\nconst SubTrigger = MenuSubTrigger;\nconst SubContent = MenuSubContent;\n\nexport {\n  createMenuScope,\n  //\n  Menu,\n  MenuAnchor,\n  MenuPortal,\n  MenuContent,\n  MenuGroup,\n  MenuLabel,\n  MenuItem,\n  MenuCheckboxItem,\n  MenuRadioGroup,\n  MenuRadioItem,\n  MenuItemIndicator,\n  MenuSeparator,\n  MenuArrow,\n  MenuSub,\n  MenuSubTrigger,\n  MenuSubContent,\n  //\n  Root,\n  Anchor,\n  Portal,\n  Content,\n  Group,\n  Label,\n  Item,\n  CheckboxItem,\n  RadioGroup,\n  RadioItem,\n  ItemIndicator,\n  Separator,\n  Arrow,\n  Sub,\n  SubTrigger,\n  SubContent,\n};\nexport type {\n  MenuProps,\n  MenuAnchorProps,\n  MenuPortalProps,\n  MenuContentProps,\n  MenuGroupProps,\n  MenuLabelProps,\n  MenuItemProps,\n  MenuCheckboxItemProps,\n  MenuRadioGroupProps,\n  MenuRadioItemProps,\n  MenuItemIndicatorProps,\n  MenuSeparatorProps,\n  MenuArrowProps,\n  MenuSubProps,\n  MenuSubTriggerProps,\n  MenuSubContentProps,\n};\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as MenuPrimitive from '@radix-ui/react-menu';\nimport { createMenuScope } from '@radix-ui/react-menu';\nimport { useId } from '@radix-ui/react-id';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenu\n * -----------------------------------------------------------------------------------------------*/\n\nconst DROPDOWN_MENU_NAME = 'DropdownMenu';\n\ntype ScopedProps<P> = P & { __scopeDropdownMenu?: Scope };\nconst [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(\n  DROPDOWN_MENU_NAME,\n  [createMenuScope]\n);\nconst useMenuScope = createMenuScope();\n\ntype DropdownMenuContextValue = {\n  triggerId: string;\n  triggerRef: React.RefObject<HTMLButtonElement>;\n  contentId: string;\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpenToggle(): void;\n  modal: boolean;\n};\n\nconst [DropdownMenuProvider, useDropdownMenuContext] =\n  createDropdownMenuContext<DropdownMenuContextValue>(DROPDOWN_MENU_NAME);\n\ninterface DropdownMenuProps {\n  children?: React.ReactNode;\n  dir?: Direction;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n  modal?: boolean;\n}\n\nconst DropdownMenu: React.FC<DropdownMenuProps> = (props: ScopedProps<DropdownMenuProps>) => {\n  const {\n    __scopeDropdownMenu,\n    children,\n    dir,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true,\n  } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = React.useRef<HTMLButtonElement>(null);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange,\n  });\n\n  return (\n    <DropdownMenuProvider\n      scope={__scopeDropdownMenu}\n      triggerId={useId()}\n      triggerRef={triggerRef}\n      contentId={useId()}\n      open={open}\n      onOpenChange={setOpen}\n      onOpenToggle={React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n      modal={modal}\n    >\n      <MenuPrimitive.Root {...menuScope} open={open} onOpenChange={setOpen} dir={dir} modal={modal}>\n        {children}\n      </MenuPrimitive.Root>\n    </DropdownMenuProvider>\n  );\n};\n\nDropdownMenu.displayName = DROPDOWN_MENU_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'DropdownMenuTrigger';\n\ntype DropdownMenuTriggerElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = Radix.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface DropdownMenuTriggerProps extends PrimitiveButtonProps {}\n\nconst DropdownMenuTrigger = React.forwardRef<DropdownMenuTriggerElement, DropdownMenuTriggerProps>(\n  (props: ScopedProps<DropdownMenuTriggerProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return (\n      <MenuPrimitive.Anchor asChild {...menuScope}>\n        <Primitive.button\n          type=\"button\"\n          id={context.triggerId}\n          aria-haspopup=\"menu\"\n          aria-expanded={context.open}\n          aria-controls={context.open ? context.contentId : undefined}\n          data-state={context.open ? 'open' : 'closed'}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          {...triggerProps}\n          ref={composeRefs(forwardedRef, context.triggerRef)}\n          onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click)\n            if (!disabled && event.button === 0 && event.ctrlKey === false) {\n              context.onOpenToggle();\n              // prevent trigger focusing when opening\n              // this allows the content to be given focus without competition\n              if (!context.open) event.preventDefault();\n            }\n          })}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (disabled) return;\n            if (['Enter', ' '].includes(event.key)) context.onOpenToggle();\n            if (event.key === 'ArrowDown') context.onOpenChange(true);\n            // prevent keydown from scrolling window / first focused item to execute\n            // that keydown (inadvertently closing the menu)\n            if (['Enter', ' ', 'ArrowDown'].includes(event.key)) event.preventDefault();\n          })}\n        />\n      </MenuPrimitive.Anchor>\n    );\n  }\n);\n\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'DropdownMenuPortal';\n\ntype MenuPortalProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Portal>;\ninterface DropdownMenuPortalProps extends MenuPortalProps {}\n\nconst DropdownMenuPortal: React.FC<DropdownMenuPortalProps> = (\n  props: ScopedProps<DropdownMenuPortalProps>\n) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.Portal {...menuScope} {...portalProps} />;\n};\n\nDropdownMenuPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'DropdownMenuContent';\n\ntype DropdownMenuContentElement = React.ElementRef<typeof MenuPrimitive.Content>;\ntype MenuContentProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.Content>;\ninterface DropdownMenuContentProps extends MenuContentProps {}\n\nconst DropdownMenuContent = React.forwardRef<DropdownMenuContentElement, DropdownMenuContentProps>(\n  (props: ScopedProps<DropdownMenuContentProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...contentProps } = props;\n    const context = useDropdownMenuContext(CONTENT_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = React.useRef(false);\n\n    return (\n      <MenuPrimitive.Content\n        id={context.contentId}\n        aria-labelledby={context.triggerId}\n        {...menuScope}\n        {...contentProps}\n        ref={forwardedRef}\n        onCloseAutoFocus={composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n          hasInteractedOutsideRef.current = false;\n          // Always prevent auto focus because we either focus manually or want user agent focus\n          event.preventDefault();\n        })}\n        onInteractOutside={composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent as PointerEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        })}\n        style={{\n          ...props.style,\n          // re-namespace exposed content custom property\n          ['--radix-dropdown-menu-content-transform-origin' as any]:\n            'var(--radix-popper-transform-origin)',\n        }}\n      />\n    );\n  }\n);\n\nDropdownMenuContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'DropdownMenuGroup';\n\ntype DropdownMenuGroupElement = React.ElementRef<typeof MenuPrimitive.Group>;\ntype MenuGroupProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.Group>;\ninterface DropdownMenuGroupProps extends MenuGroupProps {}\n\nconst DropdownMenuGroup = React.forwardRef<DropdownMenuGroupElement, DropdownMenuGroupProps>(\n  (props: ScopedProps<DropdownMenuGroupProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Group {...menuScope} {...groupProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuLabel\n * -----------------------------------------------------------------------------------------------*/\n\nconst LABEL_NAME = 'DropdownMenuLabel';\n\ntype DropdownMenuLabelElement = React.ElementRef<typeof MenuPrimitive.Label>;\ntype MenuLabelProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.Label>;\ninterface DropdownMenuLabelProps extends MenuLabelProps {}\n\nconst DropdownMenuLabel = React.forwardRef<DropdownMenuLabelElement, DropdownMenuLabelProps>(\n  (props: ScopedProps<DropdownMenuLabelProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Label {...menuScope} {...labelProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'DropdownMenuItem';\n\ntype DropdownMenuItemElement = React.ElementRef<typeof MenuPrimitive.Item>;\ntype MenuItemProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.Item>;\ninterface DropdownMenuItemProps extends MenuItemProps {}\n\nconst DropdownMenuItem = React.forwardRef<DropdownMenuItemElement, DropdownMenuItemProps>(\n  (props: ScopedProps<DropdownMenuItemProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Item {...menuScope} {...itemProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuItem.displayName = ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuCheckboxItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst CHECKBOX_ITEM_NAME = 'DropdownMenuCheckboxItem';\n\ntype DropdownMenuCheckboxItemElement = React.ElementRef<typeof MenuPrimitive.CheckboxItem>;\ntype MenuCheckboxItemProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.CheckboxItem>;\ninterface DropdownMenuCheckboxItemProps extends MenuCheckboxItemProps {}\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  DropdownMenuCheckboxItemElement,\n  DropdownMenuCheckboxItemProps\n>((props: ScopedProps<DropdownMenuCheckboxItemProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.CheckboxItem {...menuScope} {...checkboxItemProps} ref={forwardedRef} />;\n});\n\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuRadioGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_GROUP_NAME = 'DropdownMenuRadioGroup';\n\ntype DropdownMenuRadioGroupElement = React.ElementRef<typeof MenuPrimitive.RadioGroup>;\ntype MenuRadioGroupProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.RadioGroup>;\ninterface DropdownMenuRadioGroupProps extends MenuRadioGroupProps {}\n\nconst DropdownMenuRadioGroup = React.forwardRef<\n  DropdownMenuRadioGroupElement,\n  DropdownMenuRadioGroupProps\n>((props: ScopedProps<DropdownMenuRadioGroupProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.RadioGroup {...menuScope} {...radioGroupProps} ref={forwardedRef} />;\n});\n\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuRadioItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_ITEM_NAME = 'DropdownMenuRadioItem';\n\ntype DropdownMenuRadioItemElement = React.ElementRef<typeof MenuPrimitive.RadioItem>;\ntype MenuRadioItemProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.RadioItem>;\ninterface DropdownMenuRadioItemProps extends MenuRadioItemProps {}\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  DropdownMenuRadioItemElement,\n  DropdownMenuRadioItemProps\n>((props: ScopedProps<DropdownMenuRadioItemProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.RadioItem {...menuScope} {...radioItemProps} ref={forwardedRef} />;\n});\n\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuItemIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'DropdownMenuItemIndicator';\n\ntype DropdownMenuItemIndicatorElement = React.ElementRef<typeof MenuPrimitive.ItemIndicator>;\ntype MenuItemIndicatorProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.ItemIndicator>;\ninterface DropdownMenuItemIndicatorProps extends MenuItemIndicatorProps {}\n\nconst DropdownMenuItemIndicator = React.forwardRef<\n  DropdownMenuItemIndicatorElement,\n  DropdownMenuItemIndicatorProps\n>((props: ScopedProps<DropdownMenuItemIndicatorProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.ItemIndicator {...menuScope} {...itemIndicatorProps} ref={forwardedRef} />;\n});\n\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'DropdownMenuSeparator';\n\ntype DropdownMenuSeparatorElement = React.ElementRef<typeof MenuPrimitive.Separator>;\ntype MenuSeparatorProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.Separator>;\ninterface DropdownMenuSeparatorProps extends MenuSeparatorProps {}\n\nconst DropdownMenuSeparator = React.forwardRef<\n  DropdownMenuSeparatorElement,\n  DropdownMenuSeparatorProps\n>((props: ScopedProps<DropdownMenuSeparatorProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.Separator {...menuScope} {...separatorProps} ref={forwardedRef} />;\n});\n\nDropdownMenuSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'DropdownMenuArrow';\n\ntype DropdownMenuArrowElement = React.ElementRef<typeof MenuPrimitive.Arrow>;\ntype MenuArrowProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.Arrow>;\ninterface DropdownMenuArrowProps extends MenuArrowProps {}\n\nconst DropdownMenuArrow = React.forwardRef<DropdownMenuArrowElement, DropdownMenuArrowProps>(\n  (props: ScopedProps<DropdownMenuArrowProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Arrow {...menuScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSub\n * -----------------------------------------------------------------------------------------------*/\n\ninterface DropdownMenuSubProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n}\n\nconst DropdownMenuSub: React.FC<DropdownMenuSubProps> = (\n  props: ScopedProps<DropdownMenuSubProps>\n) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange,\n  });\n\n  return (\n    <MenuPrimitive.Sub {...menuScope} open={open} onOpenChange={setOpen}>\n      {children}\n    </MenuPrimitive.Sub>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSubTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_TRIGGER_NAME = 'DropdownMenuSubTrigger';\n\ntype DropdownMenuSubTriggerElement = React.ElementRef<typeof MenuPrimitive.SubTrigger>;\ntype MenuSubTriggerProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.SubTrigger>;\ninterface DropdownMenuSubTriggerProps extends MenuSubTriggerProps {}\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  DropdownMenuSubTriggerElement,\n  DropdownMenuSubTriggerProps\n>((props: ScopedProps<DropdownMenuSubTriggerProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subTriggerProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.SubTrigger {...menuScope} {...subTriggerProps} ref={forwardedRef} />;\n});\n\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSubContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_CONTENT_NAME = 'DropdownMenuSubContent';\n\ntype DropdownMenuSubContentElement = React.ElementRef<typeof MenuPrimitive.Content>;\ntype MenuSubContentProps = Radix.ComponentPropsWithoutRef<typeof MenuPrimitive.SubContent>;\ninterface DropdownMenuSubContentProps extends MenuSubContentProps {}\n\nconst DropdownMenuSubContent = React.forwardRef<\n  DropdownMenuSubContentElement,\n  DropdownMenuSubContentProps\n>((props: ScopedProps<DropdownMenuSubContentProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n\n  return (\n    <MenuPrimitive.SubContent\n      {...menuScope}\n      {...subContentProps}\n      ref={forwardedRef}\n      style={{\n        ...props.style,\n        // re-namespace exposed content custom property\n        ['--radix-dropdown-menu-content-transform-origin' as any]:\n          'var(--radix-popper-transform-origin)',\n      }}\n    />\n  );\n});\n\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = DropdownMenu;\nconst Trigger = DropdownMenuTrigger;\nconst Portal = DropdownMenuPortal;\nconst Content = DropdownMenuContent;\nconst Group = DropdownMenuGroup;\nconst Label = DropdownMenuLabel;\nconst Item = DropdownMenuItem;\nconst CheckboxItem = DropdownMenuCheckboxItem;\nconst RadioGroup = DropdownMenuRadioGroup;\nconst RadioItem = DropdownMenuRadioItem;\nconst ItemIndicator = DropdownMenuItemIndicator;\nconst Separator = DropdownMenuSeparator;\nconst Arrow = DropdownMenuArrow;\nconst Sub = DropdownMenuSub;\nconst SubTrigger = DropdownMenuSubTrigger;\nconst SubContent = DropdownMenuSubContent;\n\nexport {\n  createDropdownMenuScope,\n  //\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuPortal,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuItemIndicator,\n  DropdownMenuSeparator,\n  DropdownMenuArrow,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n  //\n  Root,\n  Trigger,\n  Portal,\n  Content,\n  Group,\n  Label,\n  Item,\n  CheckboxItem,\n  RadioGroup,\n  RadioItem,\n  ItemIndicator,\n  Separator,\n  Arrow,\n  Sub,\n  SubTrigger,\n  SubContent,\n};\nexport type {\n  DropdownMenuProps,\n  DropdownMenuTriggerProps,\n  DropdownMenuPortalProps,\n  DropdownMenuContentProps,\n  DropdownMenuGroupProps,\n  DropdownMenuLabelProps,\n  DropdownMenuItemProps,\n  DropdownMenuCheckboxItemProps,\n  DropdownMenuRadioGroupProps,\n  DropdownMenuRadioItemProps,\n  DropdownMenuItemIndicatorProps,\n  DropdownMenuSeparatorProps,\n  DropdownMenuArrowProps,\n  DropdownMenuSubProps,\n  DropdownMenuSubTriggerProps,\n  DropdownMenuSubContentProps,\n};\n","import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nconst Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n\n  if (slottable) {\n    // the new element to render is the one passed as a child of `Slottable`\n    const newElement = slottable.props.children as React.ReactNode;\n\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        // because the new element will be the one rendered, we are only interested\n        // in grabbing its children (`newElement.props.children`)\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement)\n          ? (newElement.props.children as React.ReactNode)\n          : null;\n      } else {\n        return child;\n      }\n    });\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {React.isValidElement(newElement)\n          ? React.cloneElement(newElement, undefined, newChildren)\n          : null}\n      </SlotClone>\n    );\n  }\n\n  return (\n    <SlotClone {...slotProps} ref={forwardedRef}>\n      {children}\n    </SlotClone>\n  );\n});\n\nSlot.displayName = 'Slot';\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\nconst SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n\n  if (React.isValidElement(children)) {\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      ref: composeRefs(forwardedRef, (children as any).ref),\n    });\n  }\n\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\n\nSlotClone.displayName = 'SlotClone';\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst Slottable = ({ children }: { children: React.ReactNode }) => {\n  return <>{children}</>;\n};\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(child: React.ReactNode): child is React.ReactElement {\n  return React.isValidElement(child) && child.type === Slottable;\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    // if it's a handler, modify the override by composing the base handler\n    if (isHandler) {\n      overrideProps[propName] = (...args: unknown[]) => {\n        childPropValue?.(...args);\n        slotPropValue?.(...args);\n      };\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\nconst Root = Slot;\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Root,\n};\nexport type { SlotProps };\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'h2',\n  'h3',\n  'img',\n  'li',\n  'nav',\n  'ol',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce((primitive, node) => {\n  const Node = React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp: any = asChild ? Slot : node;\n\n    React.useEffect(() => {\n      (window as any)[Symbol.for('radix-ui')] = true;\n    }, []);\n\n    return <Comp {...primitiveProps} ref={forwardedRef} />;\n  });\n\n  Node.displayName = `Primitive.${node}`;\n\n  return { ...primitive, [node]: Node };\n}, {} as Primitives);\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * Flush custom event dispatch\n * https://github.com/radix-ui/primitives/pull/1378\n *\n * React batches *all* event handlers since version 18, this introduces certain considerations when using custom event types.\n *\n * Internally, React prioritises events in the following order:\n *  - discrete\n *  - continuous\n *  - default\n *\n * https://github.com/facebook/react/blob/a8a4742f1c54493df00da648a3f9d26e3db9c8b5/packages/react-dom/src/events/ReactDOMEventListener.js#L294-L350\n *\n * `discrete` is an  important distinction as updates within these events are applied immediately.\n * React however, is not able to infer the priority of custom event types due to how they are detected internally.\n * Because of this, it's possible for updates from custom events to be unexpectedly batched when\n * dispatched by another `discrete` event.\n *\n * In order to ensure that updates from custom events are applied predictably, we need to manually flush the batch.\n * This utility should be used when dispatching a custom event from within another `discrete` event, this utility\n * is not nessesary when dispatching known event types, or if dispatching a custom type inside a non-discrete event.\n * For example:\n *\n * dispatching a known click 👎\n * target.dispatchEvent(new Event(‘click’))\n *\n * dispatching a custom type within a non-discrete event 👎\n * onScroll={(event) => event.target.dispatchEvent(new CustomEvent(‘customType’))}\n *\n * dispatching a custom type within a `discrete` event 👍\n * onPointerDown={(event) => dispatchDiscreteCustomEvent(event.target, new CustomEvent(‘customType’))}\n *\n * Note: though React classifies `focus`, `focusin` and `focusout` events as `discrete`, it's  not recommended to use\n * this utility with them. This is because it's possible for those handlers to be called implicitly during render\n * e.g. when focus is within a component as it is unmounted, or when managing focus on mount.\n */\n\nfunction dispatchDiscreteCustomEvent<E extends CustomEvent>(target: E['target'], event: E) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n  //\n  dispatchDiscreteCustomEvent,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Arrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Arrow';\n\ntype ArrowElement = React.ElementRef<typeof Primitive.svg>;\ntype PrimitiveSvgProps = Radix.ComponentPropsWithoutRef<typeof Primitive.svg>;\ninterface ArrowProps extends PrimitiveSvgProps {}\n\nconst Arrow = React.forwardRef<ArrowElement, ArrowProps>((props, forwardedRef) => {\n  const { children, width = 10, height = 5, ...arrowProps } = props;\n  return (\n    <Primitive.svg\n      {...arrowProps}\n      ref={forwardedRef}\n      width={width}\n      height={height}\n      viewBox=\"0 0 30 10\"\n      preserveAspectRatio=\"none\"\n    >\n      {/* We use their children if they're slotting to replace the whole svg */}\n      {props.asChild ? children : <polygon points=\"0,0 30,0 15,10\" />}\n    </Primitive.svg>\n  );\n});\n\nArrow.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Arrow;\n\nexport {\n  Arrow,\n  //\n  Root,\n};\nexport type { ArrowProps };\n","import * as React from 'react';\nimport {\n  useFloating,\n  autoUpdate,\n  offset,\n  shift,\n  limitShift,\n  hide,\n  arrow as floatingUIarrow,\n  flip,\n} from '@floating-ui/react-dom';\nimport * as ArrowPrimitive from '@radix-ui/react-arrow';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { useSize } from '@radix-ui/react-use-size';\n\nimport type { Placement, Middleware } from '@floating-ui/react-dom';\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\nimport type { Measurable } from '@radix-ui/rect';\n\nconst SIDE_OPTIONS = ['top', 'right', 'bottom', 'left'] as const;\nconst ALIGN_OPTIONS = ['start', 'center', 'end'] as const;\n\ntype Side = typeof SIDE_OPTIONS[number];\ntype Align = typeof ALIGN_OPTIONS[number];\n\n/* -------------------------------------------------------------------------------------------------\n * Popper\n * -----------------------------------------------------------------------------------------------*/\n\nconst POPPER_NAME = 'Popper';\n\ntype ScopedProps<P> = P & { __scopePopper?: Scope };\nconst [createPopperContext, createPopperScope] = createContextScope(POPPER_NAME);\n\ntype PopperContextValue = {\n  anchor: Measurable | null;\n  onAnchorChange(anchor: Measurable | null): void;\n};\nconst [PopperProvider, usePopperContext] = createPopperContext<PopperContextValue>(POPPER_NAME);\n\ninterface PopperProps {\n  children?: React.ReactNode;\n}\nconst Popper: React.FC<PopperProps> = (props: ScopedProps<PopperProps>) => {\n  const { __scopePopper, children } = props;\n  const [anchor, setAnchor] = React.useState<Measurable | null>(null);\n  return (\n    <PopperProvider scope={__scopePopper} anchor={anchor} onAnchorChange={setAnchor}>\n      {children}\n    </PopperProvider>\n  );\n};\n\nPopper.displayName = POPPER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopperAnchor\n * -----------------------------------------------------------------------------------------------*/\n\nconst ANCHOR_NAME = 'PopperAnchor';\n\ntype PopperAnchorElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PopperAnchorProps extends PrimitiveDivProps {\n  virtualRef?: React.RefObject<Measurable>;\n}\n\nconst PopperAnchor = React.forwardRef<PopperAnchorElement, PopperAnchorProps>(\n  (props: ScopedProps<PopperAnchorProps>, forwardedRef) => {\n    const { __scopePopper, virtualRef, ...anchorProps } = props;\n    const context = usePopperContext(ANCHOR_NAME, __scopePopper);\n    const ref = React.useRef<PopperAnchorElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n\n    React.useEffect(() => {\n      // Consumer can anchor the popper to something that isn't\n      // a DOM node e.g. pointer position, so we override the\n      // `anchorRef` with their virtual ref in this case.\n      context.onAnchorChange(virtualRef?.current || ref.current);\n    });\n\n    return virtualRef ? null : <Primitive.div {...anchorProps} ref={composedRefs} />;\n  }\n);\n\nPopperAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopperContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'PopperContent';\n\ntype PopperContentContextValue = {\n  placedSide: Side;\n  onArrowChange(arrow: HTMLSpanElement | null): void;\n  arrowX?: number;\n  arrowY?: number;\n  shouldHideArrow: boolean;\n};\n\nconst [PopperContentProvider, useContentContext] =\n  createPopperContext<PopperContentContextValue>(CONTENT_NAME);\n\nconst [PositionContextProvider, usePositionContext] = createPopperContext(CONTENT_NAME, {\n  hasParent: false,\n  positionUpdateFns: new Set<() => void>(),\n});\n\ntype Boundary = Element | null;\n\ntype PopperContentElement = React.ElementRef<typeof Primitive.div>;\ninterface PopperContentProps extends PrimitiveDivProps {\n  side?: Side;\n  sideOffset?: number;\n  align?: Align;\n  alignOffset?: number;\n  arrowPadding?: number;\n  collisionBoundary?: Boundary | Boundary[];\n  collisionPadding?: number | Partial<Record<Side, number>>;\n  sticky?: 'partial' | 'always';\n  hideWhenDetached?: boolean;\n  avoidCollisions?: boolean;\n}\n\nconst PopperContent = React.forwardRef<PopperContentElement, PopperContentProps>(\n  (props: ScopedProps<PopperContentProps>, forwardedRef) => {\n    const {\n      __scopePopper,\n      side = 'bottom',\n      sideOffset = 0,\n      align = 'center',\n      alignOffset = 0,\n      arrowPadding = 0,\n      collisionBoundary = [],\n      collisionPadding: collisionPaddingProp = 0,\n      sticky = 'partial',\n      hideWhenDetached = false,\n      avoidCollisions = true,\n      ...contentProps\n    } = props;\n\n    const context = usePopperContext(CONTENT_NAME, __scopePopper);\n\n    const [content, setContent] = React.useState<HTMLDivElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n\n    const [arrow, setArrow] = React.useState<HTMLSpanElement | null>(null);\n    const arrowSize = useSize(arrow);\n    const arrowWidth = arrowSize?.width ?? 0;\n    const arrowHeight = arrowSize?.height ?? 0;\n\n    const desiredPlacement = (side + (align !== 'center' ? '-' + align : '')) as Placement;\n\n    const collisionPadding =\n      typeof collisionPaddingProp === 'number'\n        ? collisionPaddingProp\n        : { top: 0, right: 0, bottom: 0, left: 0, ...collisionPaddingProp };\n\n    const boundary = Array.isArray(collisionBoundary) ? collisionBoundary : [collisionBoundary];\n    const hasExplicitBoundaries = boundary.length > 0;\n\n    const detectOverflowOptions = {\n      padding: collisionPadding,\n      boundary: boundary.filter(isNotNull),\n      // with `strategy: 'fixed'`, this is the only way to get it to respect boundaries\n      altBoundary: hasExplicitBoundaries,\n    };\n\n    const { reference, floating, strategy, x, y, placement, middlewareData, update } = useFloating({\n      // default to `fixed` strategy so users don't have to pick and we also avoid focus scroll issues\n      strategy: 'fixed',\n      placement: desiredPlacement,\n      whileElementsMounted: autoUpdate,\n      middleware: [\n        offset({ mainAxis: sideOffset + arrowHeight, alignmentAxis: alignOffset }),\n        avoidCollisions\n          ? shift({\n              mainAxis: true,\n              crossAxis: false,\n              limiter: sticky === 'partial' ? limitShift() : undefined,\n              ...detectOverflowOptions,\n            })\n          : undefined,\n        arrow ? floatingUIarrow({ element: arrow, padding: arrowPadding }) : undefined,\n        avoidCollisions ? flip({ ...detectOverflowOptions }) : undefined,\n        transformOrigin({ arrowWidth, arrowHeight }),\n        hideWhenDetached ? hide({ strategy: 'referenceHidden' }) : undefined,\n      ].filter(isDefined),\n    });\n\n    // assign the reference dynamically once `Content` has mounted so we can collocate the logic\n    useLayoutEffect(() => {\n      reference(context.anchor);\n    }, [reference, context.anchor]);\n\n    const isPlaced = x !== null && y !== null;\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n\n    const arrowX = middlewareData.arrow?.x;\n    const arrowY = middlewareData.arrow?.y;\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n\n    const [contentZIndex, setContentZIndex] = React.useState<string>();\n    useLayoutEffect(() => {\n      if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n    }, [content]);\n\n    const { hasParent, positionUpdateFns } = usePositionContext(CONTENT_NAME, __scopePopper);\n    const isRoot = !hasParent;\n\n    React.useLayoutEffect(() => {\n      if (!isRoot) {\n        positionUpdateFns.add(update);\n        return () => {\n          positionUpdateFns.delete(update);\n        };\n      }\n    }, [isRoot, positionUpdateFns, update]);\n\n    // when nested contents are rendered in portals, they are appended out of order causing\n    // children to be positioned incorrectly if initially open.\n    // we need to re-compute the positioning once the parent has finally been placed.\n    // https://github.com/floating-ui/floating-ui/issues/1531\n    React.useLayoutEffect(() => {\n      if (isRoot && isPlaced) {\n        Array.from(positionUpdateFns)\n          .reverse()\n          .forEach((fn) => requestAnimationFrame(fn));\n      }\n    }, [isRoot, isPlaced, positionUpdateFns]);\n\n    const commonProps = {\n      'data-side': placedSide,\n      'data-align': placedAlign,\n      ...contentProps,\n      ref: composedRefs,\n      style: {\n        ...contentProps.style,\n        // if the PopperContent hasn't been placed yet (not all measurements done)\n        // we prevent animations so that users's animation don't kick in too early referring wrong sides\n        animation: !isPlaced ? 'none' : undefined,\n        // hide the content if using the hide middleware and should be hidden\n        opacity: middlewareData.hide?.referenceHidden ? 0 : undefined,\n      },\n    };\n\n    return (\n      <div\n        ref={floating}\n        data-radix-popper-content-wrapper=\"\"\n        style={{\n          position: strategy,\n          left: 0,\n          top: 0,\n          transform: isPlaced\n            ? `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`\n            : 'translate3d(0, -200%, 0)', // keep off the page when measuring\n          minWidth: 'max-content',\n          zIndex: contentZIndex,\n          ['--radix-popper-transform-origin' as any]: [\n            middlewareData.transformOrigin?.x,\n            middlewareData.transformOrigin?.y,\n          ].join(' '),\n        }}\n      >\n        <PopperContentProvider\n          scope={__scopePopper}\n          placedSide={placedSide}\n          onArrowChange={setArrow}\n          arrowX={arrowX}\n          arrowY={arrowY}\n          shouldHideArrow={cannotCenterArrow}\n        >\n          {isRoot ? (\n            <PositionContextProvider\n              scope={__scopePopper}\n              hasParent\n              positionUpdateFns={positionUpdateFns}\n            >\n              <Primitive.div {...commonProps} />\n            </PositionContextProvider>\n          ) : (\n            <Primitive.div {...commonProps} />\n          )}\n        </PopperContentProvider>\n      </div>\n    );\n  }\n);\n\nPopperContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopperArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'PopperArrow';\n\nconst OPPOSITE_SIDE: Record<Side, Side> = {\n  top: 'bottom',\n  right: 'left',\n  bottom: 'top',\n  left: 'right',\n};\n\ntype PopperArrowElement = React.ElementRef<typeof ArrowPrimitive.Root>;\ntype ArrowProps = Radix.ComponentPropsWithoutRef<typeof ArrowPrimitive.Root>;\ninterface PopperArrowProps extends ArrowProps {}\n\nconst PopperArrow = React.forwardRef<PopperArrowElement, PopperArrowProps>(function PopperArrow(\n  props: ScopedProps<PopperArrowProps>,\n  forwardedRef\n) {\n  const { __scopePopper, ...arrowProps } = props;\n  const contentContext = useContentContext(ARROW_NAME, __scopePopper);\n  const baseSide = OPPOSITE_SIDE[contentContext.placedSide];\n\n  return (\n    // we have to use an extra wrapper because `ResizeObserver` (used by `useSize`)\n    // doesn't report size as we'd expect on SVG elements.\n    // it reports their bounding box which is effectively the largest path inside the SVG.\n    <span\n      ref={contentContext.onArrowChange}\n      style={{\n        position: 'absolute',\n        left: contentContext.arrowX,\n        top: contentContext.arrowY,\n        [baseSide]: 0,\n        transformOrigin: {\n          top: '',\n          right: '0 0',\n          bottom: 'center 0',\n          left: '100% 0',\n        }[contentContext.placedSide],\n        transform: {\n          top: 'translateY(100%)',\n          right: 'translateY(50%) rotate(90deg) translateX(-50%)',\n          bottom: `rotate(180deg)`,\n          left: 'translateY(50%) rotate(-90deg) translateX(50%)',\n        }[contentContext.placedSide],\n        visibility: contentContext.shouldHideArrow ? 'hidden' : undefined,\n      }}\n    >\n      <ArrowPrimitive.Root\n        {...arrowProps}\n        ref={forwardedRef}\n        style={{\n          ...arrowProps.style,\n          // ensures the element can be measured correctly (mostly for if SVG)\n          display: 'block',\n        }}\n      />\n    </span>\n  );\n});\n\nPopperArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction isDefined<T>(value: T | undefined): value is T {\n  return value !== undefined;\n}\n\nfunction isNotNull<T>(value: T | null): value is T {\n  return value !== null;\n}\n\nconst transformOrigin = (options: { arrowWidth: number; arrowHeight: number }): Middleware => ({\n  name: 'transformOrigin',\n  options,\n  fn(data) {\n    const { placement, rects, middlewareData } = data;\n\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n    const isArrowHidden = cannotCenterArrow;\n    const arrowWidth = isArrowHidden ? 0 : options.arrowWidth;\n    const arrowHeight = isArrowHidden ? 0 : options.arrowHeight;\n\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const noArrowAlign = { start: '0%', center: '50%', end: '100%' }[placedAlign];\n\n    const arrowXCenter = (middlewareData.arrow?.x ?? 0) + arrowWidth / 2;\n    const arrowYCenter = (middlewareData.arrow?.y ?? 0) + arrowHeight / 2;\n\n    let x = '';\n    let y = '';\n\n    if (placedSide === 'bottom') {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${-arrowHeight}px`;\n    } else if (placedSide === 'top') {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${rects.floating.height + arrowHeight}px`;\n    } else if (placedSide === 'right') {\n      x = `${-arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    } else if (placedSide === 'left') {\n      x = `${rects.floating.width + arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    }\n    return { data: { x, y } };\n  },\n});\n\nfunction getSideAndAlignFromPlacement(placement: Placement) {\n  const [side, align = 'center'] = placement.split('-');\n  return [side as Side, align as Align] as const;\n}\n\nconst Root = Popper;\nconst Anchor = PopperAnchor;\nconst Content = PopperContent;\nconst Arrow = PopperArrow;\n\nexport {\n  createPopperScope,\n  //\n  Popper,\n  PopperAnchor,\n  PopperContent,\n  PopperArrow,\n  //\n  Root,\n  Anchor,\n  Content,\n  Arrow,\n  //\n  SIDE_OPTIONS,\n  ALIGN_OPTIONS,\n};\nexport type { PopperProps, PopperAnchorProps, PopperContentProps, PopperArrowProps };\n","import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'Portal';\n\ntype PortalElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PortalProps extends PrimitiveDivProps {\n  container?: HTMLElement | null;\n}\n\nconst Portal = React.forwardRef<PortalElement, PortalProps>((props, forwardedRef) => {\n  const { container = globalThis?.document?.body, ...portalProps } = props;\n  return container\n    ? ReactDOM.createPortal(<Primitive.div {...portalProps} ref={forwardedRef} />, container)\n    : null;\n});\n\nPortal.displayName = PORTAL_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Portal;\n\nexport {\n  Portal,\n  //\n  Root,\n};\nexport type { PortalProps };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { Primitive, dispatchDiscreteCustomEvent } from '@radix-ui/react-primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useEscapeKeydown } from '@radix-ui/react-use-escape-keydown';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayer\n * -----------------------------------------------------------------------------------------------*/\n\nconst DISMISSABLE_LAYER_NAME = 'DismissableLayer';\nconst CONTEXT_UPDATE = 'dismissableLayer.update';\nconst POINTER_DOWN_OUTSIDE = 'dismissableLayer.pointerDownOutside';\nconst FOCUS_OUTSIDE = 'dismissableLayer.focusOutside';\n\nlet originalBodyPointerEvents: string;\n\nconst DismissableLayerContext = React.createContext({\n  layers: new Set<DismissableLayerElement>(),\n  layersWithOutsidePointerEventsDisabled: new Set<DismissableLayerElement>(),\n  branches: new Set<DismissableLayerBranchElement>(),\n});\n\ntype DismissableLayerElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface DismissableLayerProps extends PrimitiveDivProps {\n  /**\n   * When `true`, hover/focus/click interactions will be disabled on elements outside\n   * the `DismissableLayer`. Users will need to click twice on outside elements to\n   * interact with them: once to close the `DismissableLayer`, and again to trigger the element.\n   */\n  disableOutsidePointerEvents?: boolean;\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n  /**\n   * Event handler called when the focus moves outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n  /**\n   * Event handler called when an interaction happens outside the `DismissableLayer`.\n   * Specifically, when a `pointerdown` event happens outside or focus moves outside of it.\n   * Can be prevented.\n   */\n  onInteractOutside?: (event: PointerDownOutsideEvent | FocusOutsideEvent) => void;\n  /**\n   * Handler called when the `DismissableLayer` should be dismissed\n   */\n  onDismiss?: () => void;\n}\n\nconst DismissableLayer = React.forwardRef<DismissableLayerElement, DismissableLayerProps>(\n  (props, forwardedRef) => {\n    const {\n      disableOutsidePointerEvents = false,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      ...layerProps\n    } = props;\n    const context = React.useContext(DismissableLayerContext);\n    const [node, setNode] = React.useState<DismissableLayerElement | null>(null);\n    const [, force] = React.useState({});\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setNode(node));\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [...context.layersWithOutsidePointerEventsDisabled].slice(-1); // prettier-ignore\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled); // prettier-ignore\n    const index = node ? layers.indexOf(node) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n\n    const pointerDownOutside = usePointerDownOutside((event) => {\n      const target = event.target as HTMLElement;\n      const isPointerDownOnBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n      onPointerDownOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    });\n\n    const focusOutside = useFocusOutside((event) => {\n      const target = event.target as HTMLElement;\n      const isFocusInBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (isFocusInBranch) return;\n      onFocusOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    });\n\n    useEscapeKeydown((event) => {\n      const isHighestLayer = index === context.layers.size - 1;\n      if (!isHighestLayer) return;\n      onEscapeKeyDown?.(event);\n      if (!event.defaultPrevented && onDismiss) {\n        event.preventDefault();\n        onDismiss();\n      }\n    });\n\n    React.useEffect(() => {\n      if (!node) return;\n      if (disableOutsidePointerEvents) {\n        if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n          originalBodyPointerEvents = document.body.style.pointerEvents;\n          document.body.style.pointerEvents = 'none';\n        }\n        context.layersWithOutsidePointerEventsDisabled.add(node);\n      }\n      context.layers.add(node);\n      dispatchUpdate();\n      return () => {\n        if (\n          disableOutsidePointerEvents &&\n          context.layersWithOutsidePointerEventsDisabled.size === 1\n        ) {\n          document.body.style.pointerEvents = originalBodyPointerEvents;\n        }\n      };\n    }, [node, disableOutsidePointerEvents, context]);\n\n    /**\n     * We purposefully prevent combining this effect with the `disableOutsidePointerEvents` effect\n     * because a change to `disableOutsidePointerEvents` would remove this layer from the stack\n     * and add it to the end again so the layering order wouldn't be _creation order_.\n     * We only want them to be removed from context stacks when unmounted.\n     */\n    React.useEffect(() => {\n      return () => {\n        if (!node) return;\n        context.layers.delete(node);\n        context.layersWithOutsidePointerEventsDisabled.delete(node);\n        dispatchUpdate();\n      };\n    }, [node, context]);\n\n    React.useEffect(() => {\n      const handleUpdate = () => force({});\n      document.addEventListener(CONTEXT_UPDATE, handleUpdate);\n      return () => document.removeEventListener(CONTEXT_UPDATE, handleUpdate);\n    }, []);\n\n    return (\n      <Primitive.div\n        {...layerProps}\n        ref={composedRefs}\n        style={{\n          pointerEvents: isBodyPointerEventsDisabled\n            ? isPointerEventsEnabled\n              ? 'auto'\n              : 'none'\n            : undefined,\n          ...props.style,\n        }}\n        onFocusCapture={composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture)}\n        onBlurCapture={composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture)}\n        onPointerDownCapture={composeEventHandlers(\n          props.onPointerDownCapture,\n          pointerDownOutside.onPointerDownCapture\n        )}\n      />\n    );\n  }\n);\n\nDismissableLayer.displayName = DISMISSABLE_LAYER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayerBranch\n * -----------------------------------------------------------------------------------------------*/\n\nconst BRANCH_NAME = 'DismissableLayerBranch';\n\ntype DismissableLayerBranchElement = React.ElementRef<typeof Primitive.div>;\ninterface DismissableLayerBranchProps extends PrimitiveDivProps {}\n\nconst DismissableLayerBranch = React.forwardRef<\n  DismissableLayerBranchElement,\n  DismissableLayerBranchProps\n>((props, forwardedRef) => {\n  const context = React.useContext(DismissableLayerContext);\n  const ref = React.useRef<DismissableLayerBranchElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      context.branches.add(node);\n      return () => {\n        context.branches.delete(node);\n      };\n    }\n  }, [context.branches]);\n\n  return <Primitive.div {...props} ref={composedRefs} />;\n});\n\nDismissableLayerBranch.displayName = BRANCH_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype PointerDownOutsideEvent = CustomEvent<{ originalEvent: PointerEvent }>;\ntype FocusOutsideEvent = CustomEvent<{ originalEvent: FocusEvent }>;\n\n/**\n * Listens for `pointerdown` outside a react subtree. We use `pointerdown` rather than `pointerup`\n * to mimic layer dismissing behaviour present in OS.\n * Returns props to pass to the node we want to check for outside events.\n */\nfunction usePointerDownOutside(onPointerDownOutside?: (event: PointerDownOutsideEvent) => void) {\n  const handlePointerDownOutside = useCallbackRef(onPointerDownOutside) as EventListener;\n  const isPointerInsideReactTreeRef = React.useRef(false);\n  const handleClickRef = React.useRef(() => {});\n\n  React.useEffect(() => {\n    const handlePointerDown = (event: PointerEvent) => {\n      if (event.target && !isPointerInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n\n        function handleAndDispatchPointerDownOutsideEvent() {\n          handleAndDispatchCustomEvent(\n            POINTER_DOWN_OUTSIDE,\n            handlePointerDownOutside,\n            eventDetail,\n            { discrete: true }\n          );\n        }\n\n        /**\n         * On touch devices, we need to wait for a click event because browsers implement\n         * a ~350ms delay between the time the user stops touching the display and when the\n         * browser executres events. We need to ensure we don't reactivate pointer-events within\n         * this timeframe otherwise the browser may execute events that should have been prevented.\n         *\n         * Additionally, this also lets us deal automatically with cancellations when a click event\n         * isn't raised because the page was considered scrolled/drag-scrolled, long-pressed, etc.\n         *\n         * This is why we also continuously remove the previous listener, because we cannot be\n         * certain that it was raised, and therefore cleaned-up.\n         */\n        if (event.pointerType === 'touch') {\n          document.removeEventListener('click', handleClickRef.current);\n          handleClickRef.current = handleAndDispatchPointerDownOutsideEvent;\n          document.addEventListener('click', handleClickRef.current, { once: true });\n        } else {\n          handleAndDispatchPointerDownOutsideEvent();\n        }\n      }\n      isPointerInsideReactTreeRef.current = false;\n    };\n    /**\n     * if this hook executes in a component that mounts via a `pointerdown` event, the event\n     * would bubble up to the document and trigger a `pointerDownOutside` event. We avoid\n     * this by delaying the event listener registration on the document.\n     * This is not React specific, but rather how the DOM works, ie:\n     * ```\n     * button.addEventListener('pointerdown', () => {\n     *   console.log('I will log');\n     *   document.addEventListener('pointerdown', () => {\n     *     console.log('I will also log');\n     *   })\n     * });\n     */\n    const timerId = window.setTimeout(() => {\n      document.addEventListener('pointerdown', handlePointerDown);\n    }, 0);\n    return () => {\n      window.clearTimeout(timerId);\n      document.removeEventListener('pointerdown', handlePointerDown);\n      document.removeEventListener('click', handleClickRef.current);\n    };\n  }, [handlePointerDownOutside]);\n\n  return {\n    // ensures we check React component tree (not just DOM tree)\n    onPointerDownCapture: () => (isPointerInsideReactTreeRef.current = true),\n  };\n}\n\n/**\n * Listens for when focus happens outside a react subtree.\n * Returns props to pass to the root (node) of the subtree we want to check.\n */\nfunction useFocusOutside(onFocusOutside?: (event: FocusOutsideEvent) => void) {\n  const handleFocusOutside = useCallbackRef(onFocusOutside) as EventListener;\n  const isFocusInsideReactTreeRef = React.useRef(false);\n\n  React.useEffect(() => {\n    const handleFocus = (event: FocusEvent) => {\n      if (event.target && !isFocusInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n        handleAndDispatchCustomEvent(FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n          discrete: false,\n        });\n      }\n    };\n    document.addEventListener('focusin', handleFocus);\n    return () => document.removeEventListener('focusin', handleFocus);\n  }, [handleFocusOutside]);\n\n  return {\n    onFocusCapture: () => (isFocusInsideReactTreeRef.current = true),\n    onBlurCapture: () => (isFocusInsideReactTreeRef.current = false),\n  };\n}\n\nfunction dispatchUpdate() {\n  const event = new CustomEvent(CONTEXT_UPDATE);\n  document.dispatchEvent(event);\n}\n\nfunction handleAndDispatchCustomEvent<E extends CustomEvent, OriginalEvent extends Event>(\n  name: string,\n  handler: ((event: E) => void) | undefined,\n  detail: { originalEvent: OriginalEvent } & (E extends CustomEvent<infer D> ? D : never),\n  { discrete }: { discrete: boolean }\n) {\n  const target = detail.originalEvent.target;\n  const event = new CustomEvent(name, { bubbles: false, cancelable: true, detail });\n  if (handler) target.addEventListener(name, handler as EventListener, { once: true });\n\n  if (discrete) {\n    dispatchDiscreteCustomEvent(target, event);\n  } else {\n    target.dispatchEvent(event);\n  }\n}\n\nconst Root = DismissableLayer;\nconst Branch = DismissableLayerBranch;\n\nexport {\n  DismissableLayer,\n  DismissableLayerBranch,\n  //\n  Root,\n  Branch,\n};\nexport type { DismissableLayerProps };\n","import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\n/**\n * Listens for when the escape key is down\n */\nfunction useEscapeKeydown(onEscapeKeyDownProp?: (event: KeyboardEvent) => void) {\n  const onEscapeKeyDown = useCallbackRef(onEscapeKeyDownProp);\n\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onEscapeKeyDown(event);\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [onEscapeKeyDown]);\n}\n\nexport { useEscapeKeydown };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCard\n * -----------------------------------------------------------------------------------------------*/\n\nconst HOVERCARD_NAME = 'HoverCard';\n\ntype ScopedProps<P> = P & { __scopeHoverCard?: Scope };\nconst [createHoverCardContext, createHoverCardScope] = createContextScope(HOVERCARD_NAME, [\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\ntype HoverCardContextValue = {\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpen(): void;\n  onClose(): void;\n  onDismiss(): void;\n};\n\nconst [HoverCardProvider, useHoverCardContext] =\n  createHoverCardContext<HoverCardContextValue>(HOVERCARD_NAME);\n\ninterface HoverCardProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  openDelay?: number;\n  closeDelay?: number;\n}\n\nconst HoverCard: React.FC<HoverCardProps> = (props: ScopedProps<HoverCardProps>) => {\n  const {\n    __scopeHoverCard,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    openDelay = 700,\n    closeDelay = 300,\n  } = props;\n  const popperScope = usePopperScope(__scopeHoverCard);\n  const openTimerRef = React.useRef(0);\n  const closeTimerRef = React.useRef(0);\n\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange,\n  });\n\n  const handleOpen = React.useCallback(() => {\n    clearTimeout(closeTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => setOpen(true), openDelay);\n  }, [openDelay, setOpen]);\n\n  const handleClose = React.useCallback(() => {\n    clearTimeout(openTimerRef.current);\n    closeTimerRef.current = window.setTimeout(() => setOpen(false), closeDelay);\n  }, [closeDelay, setOpen]);\n\n  const handleDismiss = React.useCallback(() => setOpen(false), [setOpen]);\n\n  // cleanup any queued state updates on unmount\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(openTimerRef.current);\n      clearTimeout(closeTimerRef.current);\n    };\n  }, []);\n\n  return (\n    <HoverCardProvider\n      scope={__scopeHoverCard}\n      open={open}\n      onOpenChange={setOpen}\n      onOpen={handleOpen}\n      onClose={handleClose}\n      onDismiss={handleDismiss}\n    >\n      <PopperPrimitive.Root {...popperScope}>{children}</PopperPrimitive.Root>\n    </HoverCardProvider>\n  );\n};\n\nHoverCard.displayName = HOVERCARD_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCardTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'HoverCardTrigger';\n\ntype HoverCardTriggerElement = React.ElementRef<typeof Primitive.a>;\ntype PrimitiveLinkProps = Radix.ComponentPropsWithoutRef<typeof Primitive.a>;\ninterface HoverCardTriggerProps extends PrimitiveLinkProps {}\n\nconst HoverCardTrigger = React.forwardRef<HoverCardTriggerElement, HoverCardTriggerProps>(\n  (props: ScopedProps<HoverCardTriggerProps>, forwardedRef) => {\n    const { __scopeHoverCard, ...triggerProps } = props;\n    const context = useHoverCardContext(TRIGGER_NAME, __scopeHoverCard);\n    const popperScope = usePopperScope(__scopeHoverCard);\n    return (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        <Primitive.a\n          data-state={context.open ? 'open' : 'closed'}\n          {...triggerProps}\n          ref={forwardedRef}\n          onPointerEnter={composeEventHandlers(props.onPointerEnter, excludeTouch(context.onOpen))}\n          onPointerLeave={composeEventHandlers(props.onPointerLeave, excludeTouch(context.onClose))}\n          onFocus={composeEventHandlers(props.onFocus, context.onOpen)}\n          onBlur={composeEventHandlers(props.onBlur, context.onClose)}\n          // prevent focus event on touch devices\n          onTouchStart={composeEventHandlers(props.onTouchStart, (event) => event.preventDefault())}\n        />\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nHoverCardTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCardPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'HoverCardPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createHoverCardContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface HoverCardPortalProps extends Omit<PortalProps, 'asChild'> {\n  children?: React.ReactNode;\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst HoverCardPortal: React.FC<HoverCardPortalProps> = (\n  props: ScopedProps<HoverCardPortalProps>\n) => {\n  const { __scopeHoverCard, forceMount, children, container } = props;\n  const context = useHoverCardContext(PORTAL_NAME, __scopeHoverCard);\n  return (\n    <PortalProvider scope={__scopeHoverCard} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nHoverCardPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCardContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'HoverCardContent';\n\ntype HoverCardContentElement = HoverCardContentImplElement;\ninterface HoverCardContentProps extends HoverCardContentImplProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst HoverCardContent = React.forwardRef<HoverCardContentElement, HoverCardContentProps>(\n  (props: ScopedProps<HoverCardContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeHoverCard);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useHoverCardContext(CONTENT_NAME, props.__scopeHoverCard);\n    return (\n      <Presence present={forceMount || context.open}>\n        <HoverCardContentImpl\n          data-state={context.open ? 'open' : 'closed'}\n          {...contentProps}\n          onPointerEnter={composeEventHandlers(props.onPointerEnter, excludeTouch(context.onOpen))}\n          onPointerLeave={composeEventHandlers(props.onPointerLeave, excludeTouch(context.onClose))}\n          ref={forwardedRef}\n        />\n      </Presence>\n    );\n  }\n);\n\nHoverCardContent.displayName = CONTENT_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype HoverCardContentImplElement = React.ElementRef<typeof PopperPrimitive.Content>;\ntype DismissableLayerProps = Radix.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype PopperContentProps = Radix.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface HoverCardContentImplProps extends PopperContentProps {\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `HoverCard`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n  /**\n   * Event handler called when the focus moves outside of the `HoverCard`.\n   * Can be prevented.\n   */\n  onFocusOutside?: DismissableLayerProps['onFocusOutside'];\n  /**\n   * Event handler called when an interaction happens outside the `HoverCard`.\n   * Specifically, when a `pointerdown` event happens outside or focus moves outside of it.\n   * Can be prevented.\n   */\n  onInteractOutside?: DismissableLayerProps['onInteractOutside'];\n}\n\nconst HoverCardContentImpl = React.forwardRef<\n  HoverCardContentImplElement,\n  HoverCardContentImplProps\n>((props: ScopedProps<HoverCardContentImplProps>, forwardedRef) => {\n  const {\n    __scopeHoverCard,\n    onEscapeKeyDown,\n    onPointerDownOutside,\n    onFocusOutside,\n    onInteractOutside,\n    ...contentProps\n  } = props;\n  const context = useHoverCardContext(CONTENT_NAME, __scopeHoverCard);\n  const popperScope = usePopperScope(__scopeHoverCard);\n  const ref = React.useRef<HoverCardContentImplElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n\n  React.useEffect(() => {\n    if (ref.current) {\n      const tabbables = getTabbableNodes(ref.current);\n      tabbables.forEach((tabbable) => tabbable.setAttribute('tabindex', '-1'));\n    }\n  });\n\n  return (\n    <DismissableLayer\n      asChild\n      disableOutsidePointerEvents={false}\n      onInteractOutside={onInteractOutside}\n      onEscapeKeyDown={onEscapeKeyDown}\n      onPointerDownOutside={onPointerDownOutside}\n      onFocusOutside={onFocusOutside}\n      onDismiss={context.onDismiss}\n    >\n      <PopperPrimitive.Content\n        {...popperScope}\n        {...contentProps}\n        ref={composedRefs}\n        style={{\n          ...contentProps.style,\n          // re-namespace exposed content custom property\n          ['--radix-hover-card-content-transform-origin' as any]:\n            'var(--radix-popper-transform-origin)',\n        }}\n      />\n    </DismissableLayer>\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCardArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'HoverCardArrow';\n\ntype HoverCardArrowElement = React.ElementRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = Radix.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface HoverCardArrowProps extends PopperArrowProps {}\n\nconst HoverCardArrow = React.forwardRef<HoverCardArrowElement, HoverCardArrowProps>(\n  (props: ScopedProps<HoverCardArrowProps>, forwardedRef) => {\n    const { __scopeHoverCard, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeHoverCard);\n    return <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nHoverCardArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction excludeTouch<E>(eventHandler: () => void) {\n  return (event: React.PointerEvent<E>) =>\n    event.pointerType === 'touch' ? undefined : eventHandler();\n}\n\n/**\n * Returns a list of nodes that can be in the tab sequence.\n * @see: https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\n */\nfunction getTabbableNodes(container: HTMLElement) {\n  const nodes: HTMLElement[] = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node: any) => {\n      // `.tabIndex` is not the same as the `tabindex` attribute. It works on the\n      // runtime's understanding of tabbability, so this automatically accounts\n      // for any kind of element that could be tabbed to.\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    },\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode as HTMLElement);\n  return nodes;\n}\n\nconst Root = HoverCard;\nconst Trigger = HoverCardTrigger;\nconst Portal = HoverCardPortal;\nconst Content = HoverCardContent;\nconst Arrow = HoverCardArrow;\n\nexport {\n  createHoverCardScope,\n  //\n  HoverCard,\n  HoverCardTrigger,\n  HoverCardPortal,\n  HoverCardContent,\n  HoverCardArrow,\n  //\n  Root,\n  Trigger,\n  Portal,\n  Content,\n  Arrow,\n};\nexport type {\n  HoverCardProps,\n  HoverCardTriggerProps,\n  HoverCardPortalProps,\n  HoverCardContentProps,\n  HoverCardArrowProps,\n};\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { useStateMachine } from './useStateMachine';\n\ninterface PresenceProps {\n  children: React.ReactElement | ((props: { present: boolean }) => React.ReactElement);\n  present: boolean;\n}\n\nconst Presence: React.FC<PresenceProps> = (props) => {\n  const { present, children } = props;\n  const presence = usePresence(present);\n\n  const child = (\n    typeof children === 'function'\n      ? children({ present: presence.isPresent })\n      : React.Children.only(children)\n  ) as React.ReactElement;\n\n  const ref = useComposedRefs(presence.ref, (child as any).ref);\n  const forceMount = typeof children === 'function';\n  return forceMount || presence.isPresent ? React.cloneElement(child, { ref }) : null;\n};\n\nPresence.displayName = 'Presence';\n\n/* -------------------------------------------------------------------------------------------------\n * usePresence\n * -----------------------------------------------------------------------------------------------*/\n\nfunction usePresence(present: boolean) {\n  const [node, setNode] = React.useState<HTMLElement>();\n  const stylesRef = React.useRef<CSSStyleDeclaration>({} as any);\n  const prevPresentRef = React.useRef(present);\n  const prevAnimationNameRef = React.useRef<string>('none');\n  const initialState = present ? 'mounted' : 'unmounted';\n  const [state, send] = useStateMachine(initialState, {\n    mounted: {\n      UNMOUNT: 'unmounted',\n      ANIMATION_OUT: 'unmountSuspended',\n    },\n    unmountSuspended: {\n      MOUNT: 'mounted',\n      ANIMATION_END: 'unmounted',\n    },\n    unmounted: {\n      MOUNT: 'mounted',\n    },\n  });\n\n  React.useEffect(() => {\n    const currentAnimationName = getAnimationName(stylesRef.current);\n    prevAnimationNameRef.current = state === 'mounted' ? currentAnimationName : 'none';\n  }, [state]);\n\n  useLayoutEffect(() => {\n    const styles = stylesRef.current;\n    const wasPresent = prevPresentRef.current;\n    const hasPresentChanged = wasPresent !== present;\n\n    if (hasPresentChanged) {\n      const prevAnimationName = prevAnimationNameRef.current;\n      const currentAnimationName = getAnimationName(styles);\n\n      if (present) {\n        send('MOUNT');\n      } else if (currentAnimationName === 'none' || styles?.display === 'none') {\n        // If there is no exit animation or the element is hidden, animations won't run\n        // so we unmount instantly\n        send('UNMOUNT');\n      } else {\n        /**\n         * When `present` changes to `false`, we check changes to animation-name to\n         * determine whether an animation has started. We chose this approach (reading\n         * computed styles) because there is no `animationrun` event and `animationstart`\n         * fires after `animation-delay` has expired which would be too late.\n         */\n        const isAnimating = prevAnimationName !== currentAnimationName;\n\n        if (wasPresent && isAnimating) {\n          send('ANIMATION_OUT');\n        } else {\n          send('UNMOUNT');\n        }\n      }\n\n      prevPresentRef.current = present;\n    }\n  }, [present, send]);\n\n  useLayoutEffect(() => {\n    if (node) {\n      /**\n       * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n       * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n       * make sure we only trigger ANIMATION_END for the currently active animation.\n       */\n      const handleAnimationEnd = (event: AnimationEvent) => {\n        const currentAnimationName = getAnimationName(stylesRef.current);\n        const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n        if (event.target === node && isCurrentAnimation) {\n          // With React 18 concurrency this update is applied\n          // a frame after the animation ends, creating a flash of visible content.\n          // By manually flushing we ensure they sync within a frame, removing the flash.\n          ReactDOM.flushSync(() => send('ANIMATION_END'));\n        }\n      };\n      const handleAnimationStart = (event: AnimationEvent) => {\n        if (event.target === node) {\n          // if animation occurred, store its name as the previous animation.\n          prevAnimationNameRef.current = getAnimationName(stylesRef.current);\n        }\n      };\n      node.addEventListener('animationstart', handleAnimationStart);\n      node.addEventListener('animationcancel', handleAnimationEnd);\n      node.addEventListener('animationend', handleAnimationEnd);\n      return () => {\n        node.removeEventListener('animationstart', handleAnimationStart);\n        node.removeEventListener('animationcancel', handleAnimationEnd);\n        node.removeEventListener('animationend', handleAnimationEnd);\n      };\n    } else {\n      // Transition to the unmounted state if the node is removed prematurely.\n      // We avoid doing so during cleanup as the node may change but still exist.\n      send('ANIMATION_END');\n    }\n  }, [node, send]);\n\n  return {\n    isPresent: ['mounted', 'unmountSuspended'].includes(state),\n    ref: React.useCallback((node: HTMLElement) => {\n      if (node) stylesRef.current = getComputedStyle(node);\n      setNode(node);\n    }, []),\n  };\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getAnimationName(styles?: CSSStyleDeclaration) {\n  return styles?.animationName || 'none';\n}\n\nexport { Presence };\nexport type { PresenceProps };\n","import * as React from 'react';\n\ntype Machine<S> = { [k: string]: { [k: string]: S } };\ntype MachineState<T> = keyof T;\ntype MachineEvent<T> = keyof UnionToIntersection<T[keyof T]>;\n\n// 🤯 https://fettblog.eu/typescript-union-to-intersection/\ntype UnionToIntersection<T> = (T extends any ? (x: T) => any : never) extends (x: infer R) => any\n  ? R\n  : never;\n\nexport function useStateMachine<M>(\n  initialState: MachineState<M>,\n  machine: M & Machine<MachineState<M>>\n) {\n  return React.useReducer((state: MachineState<M>, event: MachineEvent<M>): MachineState<M> => {\n    const nextState = (machine[state] as any)[event];\n    return nextState ?? state;\n  }, initialState);\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'h2',\n  'h3',\n  'img',\n  'label',\n  'li',\n  'nav',\n  'ol',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce((primitive, node) => {\n  const Node = React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp: any = asChild ? Slot : node;\n\n    React.useEffect(() => {\n      (window as any)[Symbol.for('radix-ui')] = true;\n    }, []);\n\n    return <Comp {...primitiveProps} ref={forwardedRef} />;\n  });\n\n  Node.displayName = `Primitive.${node}`;\n\n  return { ...primitive, [node]: Node };\n}, {} as Primitives);\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * Flush custom event dispatch\n * https://github.com/radix-ui/primitives/pull/1378\n *\n * React batches *all* event handlers since version 18, this introduces certain considerations when using custom event types.\n *\n * Internally, React prioritises events in the following order:\n *  - discrete\n *  - continuous\n *  - default\n *\n * https://github.com/facebook/react/blob/a8a4742f1c54493df00da648a3f9d26e3db9c8b5/packages/react-dom/src/events/ReactDOMEventListener.js#L294-L350\n *\n * `discrete` is an  important distinction as updates within these events are applied immediately.\n * React however, is not able to infer the priority of custom event types due to how they are detected internally.\n * Because of this, it's possible for updates from custom events to be unexpectedly batched when\n * dispatched by another `discrete` event.\n *\n * In order to ensure that updates from custom events are applied predictably, we need to manually flush the batch.\n * This utility should be used when dispatching a custom event from within another `discrete` event, this utility\n * is not nessesary when dispatching known event types, or if dispatching a custom type inside a non-discrete event.\n * For example:\n *\n * dispatching a known click 👎\n * target.dispatchEvent(new Event(‘click’))\n *\n * dispatching a custom type within a non-discrete event 👎\n * onScroll={(event) => event.target.dispatchEvent(new CustomEvent(‘customType’))}\n *\n * dispatching a custom type within a `discrete` event 👍\n * onPointerDown={(event) => dispatchDiscreteCustomEvent(event.target, new CustomEvent(‘customType’))}\n *\n * Note: though React classifies `focus`, `focusin` and `focusout` events as `discrete`, it's  not recommended to use\n * this utility with them. This is because it's possible for those handlers to be called implicitly during render\n * e.g. when focus is within a component as it is unmounted, or when managing focus on mount.\n */\n\nfunction dispatchDiscreteCustomEvent<E extends CustomEvent>(target: E['target'], event: E) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n  //\n  dispatchDiscreteCustomEvent,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","import * as React from 'react';\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: any[]) => any>(callback: T | undefined): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(() => ((...args) => callbackRef.current?.(...args)) as T, []);\n}\n\nexport { useCallbackRef };\n","import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\ntype UseControllableStateParams<T> = {\n  prop?: T | undefined;\n  defaultProp?: T | undefined;\n  onChange?: (state: T) => void;\n};\n\ntype SetStateFn<T> = (prevState?: T) => T;\n\nfunction useControllableState<T>({\n  prop,\n  defaultProp,\n  onChange = () => {},\n}: UseControllableStateParams<T>) {\n  const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({ defaultProp, onChange });\n  const isControlled = prop !== undefined;\n  const value = isControlled ? prop : uncontrolledProp;\n  const handleChange = useCallbackRef(onChange);\n\n  const setValue: React.Dispatch<React.SetStateAction<T | undefined>> = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const setter = nextValue as SetStateFn<T>;\n        const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n        if (value !== prop) handleChange(value as T);\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, handleChange]\n  );\n\n  return [value, setValue] as const;\n}\n\nfunction useUncontrolledState<T>({\n  defaultProp,\n  onChange,\n}: Omit<UseControllableStateParams<T>, 'prop'>) {\n  const uncontrolledState = React.useState<T | undefined>(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = React.useRef(value);\n  const handleChange = useCallbackRef(onChange);\n\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value as T);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n\n  return uncontrolledState;\n}\n\nexport { useControllableState };\n","import * as React from 'react';\n\n/**\n * On the server, React emits a warning when calling `useLayoutEffect`.\n * This is because neither `useLayoutEffect` nor `useEffect` run on the server.\n * We use this safe version which suppresses the warning by replacing it with a noop on the server.\n *\n * See: https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */\nconst useLayoutEffect = Boolean(globalThis?.document) ? React.useLayoutEffect : () => {};\n\nexport { useLayoutEffect };\n","/// <reference types=\"resize-observer-browser\" />\n\nimport * as React from 'react';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\n\nfunction useSize(element: HTMLElement | null) {\n  const [size, setSize] = React.useState<{ width: number; height: number } | undefined>(undefined);\n\n  useLayoutEffect(() => {\n    if (element) {\n      // provide size as early as possible\n      setSize({ width: element.offsetWidth, height: element.offsetHeight });\n\n      const resizeObserver = new ResizeObserver((entries) => {\n        if (!Array.isArray(entries)) {\n          return;\n        }\n\n        // Since we only observe the one element, we don't need to loop over the\n        // array\n        if (!entries.length) {\n          return;\n        }\n\n        const entry = entries[0];\n        let width: number;\n        let height: number;\n\n        if ('borderBoxSize' in entry) {\n          const borderSizeEntry = entry['borderBoxSize'];\n          // iron out differences between browsers\n          const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n          width = borderSize['inlineSize'];\n          height = borderSize['blockSize'];\n        } else {\n          // for browsers that don't support `borderBoxSize`\n          // we calculate it ourselves to get the correct border box.\n          width = element.offsetWidth;\n          height = element.offsetHeight;\n        }\n\n        setSize({ width, height });\n      });\n\n      resizeObserver.observe(element, { box: 'border-box' });\n\n      return () => resizeObserver.unobserve(element);\n    } else {\n      // We only want to reset to `undefined` when the element becomes `null`,\n      // not if it changes to another element.\n      setSize(undefined);\n    }\n  }, [element]);\n\n  return size;\n}\n\nexport { useSize };\n","import { captureException, withScope } from '@sentry/core';\nimport type { DsnLike, Event as SentryEvent, Mechanism, Scope, WrappedFunction } from '@sentry/types';\nimport {\n  addExceptionMechanism,\n  addExceptionTypeValue,\n  addNonEnumerableProperty,\n  getOriginalFunction,\n  GLOBAL_OBJ,\n  markFunctionWrapped,\n} from '@sentry/utils';\n\nexport const WINDOW = GLOBAL_OBJ as typeof GLOBAL_OBJ & Window;\n\nlet ignoreOnError: number = 0;\n\n/**\n * @hidden\n */\nexport function shouldIgnoreOnError(): boolean {\n  return ignoreOnError > 0;\n}\n\n/**\n * @hidden\n */\nexport function ignoreNextOnError(): void {\n  // onerror should trigger before setTimeout\n  ignoreOnError++;\n  setTimeout(() => {\n    ignoreOnError--;\n  });\n}\n\n/**\n * Instruments the given function and sends an event to Sentry every time the\n * function throws an exception.\n *\n * @param fn A function to wrap. It is generally safe to pass an unbound function, because the returned wrapper always\n * has a correct `this` context.\n * @returns The wrapped function.\n * @hidden\n */\nexport function wrap(\n  fn: WrappedFunction,\n  options: {\n    mechanism?: Mechanism;\n  } = {},\n  before?: WrappedFunction,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): any {\n  // for future readers what this does is wrap a function and then create\n  // a bi-directional wrapping between them.\n  //\n  // example: wrapped = wrap(original);\n  //  original.__sentry_wrapped__ -> wrapped\n  //  wrapped.__sentry_original__ -> original\n\n  if (typeof fn !== 'function') {\n    return fn;\n  }\n\n  try {\n    // if we're dealing with a function that was previously wrapped, return\n    // the original wrapper.\n    const wrapper = fn.__sentry_wrapped__;\n    if (wrapper) {\n      return wrapper;\n    }\n\n    // We don't wanna wrap it twice\n    if (getOriginalFunction(fn)) {\n      return fn;\n    }\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    // Bail on wrapping and return the function as-is (defers to window.onerror).\n    return fn;\n  }\n\n  /* eslint-disable prefer-rest-params */\n  // It is important that `sentryWrapped` is not an arrow function to preserve the context of `this`\n  const sentryWrapped: WrappedFunction = function (this: unknown): void {\n    const args = Array.prototype.slice.call(arguments);\n\n    try {\n      if (before && typeof before === 'function') {\n        before.apply(this, arguments);\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n      const wrappedArguments = args.map((arg: any) => wrap(arg, options));\n\n      // Attempt to invoke user-land function\n      // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n      //       means the sentry.javascript SDK caught an error invoking your application code. This\n      //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n      return fn.apply(this, wrappedArguments);\n    } catch (ex) {\n      ignoreNextOnError();\n\n      withScope((scope: Scope) => {\n        scope.addEventProcessor((event: SentryEvent) => {\n          if (options.mechanism) {\n            addExceptionTypeValue(event, undefined, undefined);\n            addExceptionMechanism(event, options.mechanism);\n          }\n\n          event.extra = {\n            ...event.extra,\n            arguments: args,\n          };\n\n          return event;\n        });\n\n        captureException(ex);\n      });\n\n      throw ex;\n    }\n  };\n  /* eslint-enable prefer-rest-params */\n\n  // Accessing some objects may throw\n  // ref: https://github.com/getsentry/sentry-javascript/issues/1168\n  try {\n    for (const property in fn) {\n      if (Object.prototype.hasOwnProperty.call(fn, property)) {\n        sentryWrapped[property] = fn[property];\n      }\n    }\n  } catch (_oO) {} // eslint-disable-line no-empty\n\n  // Signal that this function has been wrapped/filled already\n  // for both debugging and to prevent it to being wrapped/filled twice\n  markFunctionWrapped(sentryWrapped, fn);\n\n  addNonEnumerableProperty(fn, '__sentry_wrapped__', sentryWrapped);\n\n  // Restore original function name (not all browsers allow that)\n  try {\n    const descriptor = Object.getOwnPropertyDescriptor(sentryWrapped, 'name') as PropertyDescriptor;\n    if (descriptor.configurable) {\n      Object.defineProperty(sentryWrapped, 'name', {\n        get(): string {\n          return fn.name;\n        },\n      });\n    }\n    // eslint-disable-next-line no-empty\n  } catch (_oO) {}\n\n  return sentryWrapped;\n}\n\n/**\n * All properties the report dialog supports\n */\nexport interface ReportDialogOptions {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: any;\n  eventId?: string;\n  dsn?: DsnLike;\n  user?: {\n    email?: string;\n    name?: string;\n  };\n  lang?: string;\n  title?: string;\n  subtitle?: string;\n  subtitle2?: string;\n  labelName?: string;\n  labelEmail?: string;\n  labelComments?: string;\n  labelClose?: string;\n  labelSubmit?: string;\n  errorGeneric?: string;\n  errorFormEntry?: string;\n  successMessage?: string;\n  /** Callback after reportDialog showed up */\n  onLoad?(this: void): void;\n}\n","import type { Event, EventProcessor, Hub, Integration, StackFrame } from '@sentry/types';\nimport { getEventDescription, logger, stringMatchesSomePattern } from '@sentry/utils';\n\n// \"Script error.\" is hard coded into browsers for errors that it can't read.\n// this is the result of a script being pulled in from an external domain and CORS.\nconst DEFAULT_IGNORE_ERRORS = [/^Script error\\.?$/, /^Javascript error: Script error\\.? on line 0$/];\n\n/** Options for the InboundFilters integration */\nexport interface InboundFiltersOptions {\n  allowUrls: Array<string | RegExp>;\n  denyUrls: Array<string | RegExp>;\n  ignoreErrors: Array<string | RegExp>;\n  ignoreInternal: boolean;\n}\n\n/** Inbound filters configurable by the user */\nexport class InboundFilters implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'InboundFilters';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = InboundFilters.id;\n\n  public constructor(private readonly _options: Partial<InboundFiltersOptions> = {}) {}\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (processor: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    const eventProcess: EventProcessor = (event: Event) => {\n      const hub = getCurrentHub();\n      if (hub) {\n        const self = hub.getIntegration(InboundFilters);\n        if (self) {\n          const client = hub.getClient();\n          const clientOptions = client ? client.getOptions() : {};\n          const options = _mergeOptions(self._options, clientOptions);\n          return _shouldDropEvent(event, options) ? null : event;\n        }\n      }\n      return event;\n    };\n\n    eventProcess.id = this.name;\n    addGlobalEventProcessor(eventProcess);\n  }\n}\n\n/** JSDoc */\nexport function _mergeOptions(\n  internalOptions: Partial<InboundFiltersOptions> = {},\n  clientOptions: Partial<InboundFiltersOptions> = {},\n): Partial<InboundFiltersOptions> {\n  return {\n    allowUrls: [...(internalOptions.allowUrls || []), ...(clientOptions.allowUrls || [])],\n    denyUrls: [...(internalOptions.denyUrls || []), ...(clientOptions.denyUrls || [])],\n    ignoreErrors: [\n      ...(internalOptions.ignoreErrors || []),\n      ...(clientOptions.ignoreErrors || []),\n      ...DEFAULT_IGNORE_ERRORS,\n    ],\n    ignoreInternal: internalOptions.ignoreInternal !== undefined ? internalOptions.ignoreInternal : true,\n  };\n}\n\n/** JSDoc */\nexport function _shouldDropEvent(event: Event, options: Partial<InboundFiltersOptions>): boolean {\n  if (options.ignoreInternal && _isSentryError(event)) {\n    __DEBUG_BUILD__ &&\n      logger.warn(`Event dropped due to being internal Sentry Error.\\nEvent: ${getEventDescription(event)}`);\n    return true;\n  }\n  if (_isIgnoredError(event, options.ignoreErrors)) {\n    __DEBUG_BUILD__ &&\n      logger.warn(\n        `Event dropped due to being matched by \\`ignoreErrors\\` option.\\nEvent: ${getEventDescription(event)}`,\n      );\n    return true;\n  }\n  if (_isDeniedUrl(event, options.denyUrls)) {\n    __DEBUG_BUILD__ &&\n      logger.warn(\n        `Event dropped due to being matched by \\`denyUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${_getEventFilterUrl(event)}`,\n      );\n    return true;\n  }\n  if (!_isAllowedUrl(event, options.allowUrls)) {\n    __DEBUG_BUILD__ &&\n      logger.warn(\n        `Event dropped due to not being matched by \\`allowUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${_getEventFilterUrl(event)}`,\n      );\n    return true;\n  }\n  return false;\n}\n\nfunction _isIgnoredError(event: Event, ignoreErrors?: Array<string | RegExp>): boolean {\n  if (!ignoreErrors || !ignoreErrors.length) {\n    return false;\n  }\n\n  return _getPossibleEventMessages(event).some(message => stringMatchesSomePattern(message, ignoreErrors));\n}\n\nfunction _isDeniedUrl(event: Event, denyUrls?: Array<string | RegExp>): boolean {\n  // TODO: Use Glob instead?\n  if (!denyUrls || !denyUrls.length) {\n    return false;\n  }\n  const url = _getEventFilterUrl(event);\n  return !url ? false : stringMatchesSomePattern(url, denyUrls);\n}\n\nfunction _isAllowedUrl(event: Event, allowUrls?: Array<string | RegExp>): boolean {\n  // TODO: Use Glob instead?\n  if (!allowUrls || !allowUrls.length) {\n    return true;\n  }\n  const url = _getEventFilterUrl(event);\n  return !url ? true : stringMatchesSomePattern(url, allowUrls);\n}\n\nfunction _getPossibleEventMessages(event: Event): string[] {\n  if (event.message) {\n    return [event.message];\n  }\n  if (event.exception) {\n    try {\n      const { type = '', value = '' } = (event.exception.values && event.exception.values[0]) || {};\n      return [`${value}`, `${type}: ${value}`];\n    } catch (oO) {\n      __DEBUG_BUILD__ && logger.error(`Cannot extract message for event ${getEventDescription(event)}`);\n      return [];\n    }\n  }\n  return [];\n}\n\nfunction _isSentryError(event: Event): boolean {\n  try {\n    // @ts-ignore can't be a sentry error if undefined\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return event.exception.values[0].type === 'SentryError';\n  } catch (e) {\n    // ignore\n  }\n  return false;\n}\n\nfunction _getLastValidUrl(frames: StackFrame[] = []): string | null {\n  for (let i = frames.length - 1; i >= 0; i--) {\n    const frame = frames[i];\n\n    if (frame && frame.filename !== '<anonymous>' && frame.filename !== '[native code]') {\n      return frame.filename || null;\n    }\n  }\n\n  return null;\n}\n\nfunction _getEventFilterUrl(event: Event): string | null {\n  try {\n    let frames;\n    try {\n      // @ts-ignore we only care about frames if the whole thing here is defined\n      frames = event.exception.values[0].stacktrace.frames;\n    } catch (e) {\n      // ignore\n    }\n    return frames ? _getLastValidUrl(frames) : null;\n  } catch (oO) {\n    __DEBUG_BUILD__ && logger.error(`Cannot extract url for event ${getEventDescription(event)}`);\n    return null;\n  }\n}\n","import type { Integration, WrappedFunction } from '@sentry/types';\nimport { getOriginalFunction } from '@sentry/utils';\n\nlet originalFunctionToString: () => void;\n\n/** Patch toString calls to return proper name for wrapped functions */\nexport class FunctionToString implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'FunctionToString';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = FunctionToString.id;\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    originalFunctionToString = Function.prototype.toString;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Function.prototype.toString = function (this: WrappedFunction, ...args: any[]): string {\n      const context = getOriginalFunction(this) || this;\n      return originalFunctionToString.apply(context, args);\n    };\n  }\n}\n","import type { Integration, Options } from '@sentry/types';\nimport { arrayify, logger } from '@sentry/utils';\n\nimport { getCurrentHub } from './hub';\nimport { addGlobalEventProcessor } from './scope';\n\ndeclare module '@sentry/types' {\n  interface Integration {\n    isDefaultInstance?: boolean;\n  }\n}\n\nexport const installedIntegrations: string[] = [];\n\n/** Map of integrations assigned to a client */\nexport type IntegrationIndex = {\n  [key: string]: Integration;\n};\n\n/**\n * Remove duplicates from the given array, preferring the last instance of any duplicate. Not guaranteed to\n * preseve the order of integrations in the array.\n *\n * @private\n */\nfunction filterDuplicates(integrations: Integration[]): Integration[] {\n  const integrationsByName: { [key: string]: Integration } = {};\n\n  integrations.forEach(currentInstance => {\n    const { name } = currentInstance;\n\n    const existingInstance = integrationsByName[name];\n\n    // We want integrations later in the array to overwrite earlier ones of the same type, except that we never want a\n    // default instance to overwrite an existing user instance\n    if (existingInstance && !existingInstance.isDefaultInstance && currentInstance.isDefaultInstance) {\n      return;\n    }\n\n    integrationsByName[name] = currentInstance;\n  });\n\n  return Object.values(integrationsByName);\n}\n\n/** Gets integrations to install */\nexport function getIntegrationsToSetup(options: Options): Integration[] {\n  const defaultIntegrations = options.defaultIntegrations || [];\n  const userIntegrations = options.integrations;\n\n  // We flag default instances, so that later we can tell them apart from any user-created instances of the same class\n  defaultIntegrations.forEach(integration => {\n    integration.isDefaultInstance = true;\n  });\n\n  let integrations: Integration[];\n\n  if (Array.isArray(userIntegrations)) {\n    integrations = [...defaultIntegrations, ...userIntegrations];\n  } else if (typeof userIntegrations === 'function') {\n    integrations = arrayify(userIntegrations(defaultIntegrations));\n  } else {\n    integrations = defaultIntegrations;\n  }\n\n  const finalIntegrations = filterDuplicates(integrations);\n\n  // The `Debug` integration prints copies of the `event` and `hint` which will be passed to `beforeSend` or\n  // `beforeSendTransaction`. It therefore has to run after all other integrations, so that the changes of all event\n  // processors will be reflected in the printed values. For lack of a more elegant way to guarantee that, we therefore\n  // locate it and, assuming it exists, pop it out of its current spot and shove it onto the end of the array.\n  const debugIndex = finalIntegrations.findIndex(integration => integration.name === 'Debug');\n  if (debugIndex !== -1) {\n    const [debugInstance] = finalIntegrations.splice(debugIndex, 1);\n    finalIntegrations.push(debugInstance);\n  }\n\n  return finalIntegrations;\n}\n\n/**\n * Given a list of integration instances this installs them all. When `withDefaults` is set to `true` then all default\n * integrations are added unless they were already provided before.\n * @param integrations array of integration instances\n * @param withDefault should enable default integrations\n */\nexport function setupIntegrations(integrations: Integration[]): IntegrationIndex {\n  const integrationIndex: IntegrationIndex = {};\n\n  integrations.forEach(integration => {\n    setupIntegration(integration, integrationIndex);\n  });\n\n  return integrationIndex;\n}\n\n/** Setup a single integration.  */\nexport function setupIntegration(integration: Integration, integrationIndex: IntegrationIndex): void {\n  integrationIndex[integration.name] = integration;\n\n  if (installedIntegrations.indexOf(integration.name) === -1) {\n    integration.setupOnce(addGlobalEventProcessor, getCurrentHub);\n    installedIntegrations.push(integration.name);\n    __DEBUG_BUILD__ && logger.log(`Integration installed: ${integration.name}`);\n  }\n}\n","import type { Client, ClientOptions } from '@sentry/types';\nimport { logger } from '@sentry/utils';\n\nimport { getCurrentHub } from './hub';\n\n/** A class object that can instantiate Client objects. */\nexport type ClientClass<F extends Client, O extends ClientOptions> = new (options: O) => F;\n\n/**\n * Internal function to create a new SDK client instance. The client is\n * installed and then bound to the current scope.\n *\n * @param clientClass The client class to instantiate.\n * @param options Options to pass to the client.\n */\nexport function initAndBind<F extends Client, O extends ClientOptions>(\n  clientClass: ClientClass<F, O>,\n  options: O,\n): void {\n  if (options.debug === true) {\n    if (__DEBUG_BUILD__) {\n      logger.enable();\n    } else {\n      // use `console.warn` rather than `logger.warn` since by non-debug bundles have all `logger.x` statements stripped\n      // eslint-disable-next-line no-console\n      console.warn('[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.');\n    }\n  }\n  const hub = getCurrentHub();\n  const scope = hub.getScope();\n  if (scope) {\n    scope.update(options.initialScope);\n  }\n\n  const client = new clientClass(options);\n  hub.bindClient(client);\n}\n","import type { ConsoleLevel } from './logger';\n\n/** An error emitted by Sentry SDKs and related utilities. */\nexport class SentryError extends Error {\n  /** Display name of this error instance. */\n  public name: string;\n\n  public logLevel: ConsoleLevel;\n\n  public constructor(public message: string, logLevel: ConsoleLevel = 'warn') {\n    super(message);\n\n    this.name = new.target.prototype.constructor.name;\n    // This sets the prototype to be `Error`, not `SentryError`. It's unclear why we do this, but commenting this line\n    // out causes various (seemingly totally unrelated) playwright tests consistently time out. FYI, this makes\n    // instances of `SentryError` fail `obj instanceof SentryError` checks.\n    Object.setPrototypeOf(this, new.target.prototype);\n    this.logLevel = logLevel;\n  }\n}\n","import type { DsnComponents, DsnLike, DsnProtocol } from '@sentry/types';\n\nimport { SentryError } from './error';\n\n/** Regular expression used to parse a Dsn. */\nconst DSN_REGEX = /^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+)?)?@)([\\w.-]+)(?::(\\d+))?\\/(.+)/;\n\nfunction isValidProtocol(protocol?: string): protocol is DsnProtocol {\n  return protocol === 'http' || protocol === 'https';\n}\n\n/**\n * Renders the string representation of this Dsn.\n *\n * By default, this will render the public representation without the password\n * component. To get the deprecated private representation, set `withPassword`\n * to true.\n *\n * @param withPassword When set to true, the password will be included.\n */\nexport function dsnToString(dsn: DsnComponents, withPassword: boolean = false): string {\n  const { host, path, pass, port, projectId, protocol, publicKey } = dsn;\n  return (\n    `${protocol}://${publicKey}${withPassword && pass ? `:${pass}` : ''}` +\n    `@${host}${port ? `:${port}` : ''}/${path ? `${path}/` : path}${projectId}`\n  );\n}\n\n/**\n * Parses a Dsn from a given string.\n *\n * @param str A Dsn as string\n * @returns Dsn as DsnComponents\n */\nexport function dsnFromString(str: string): DsnComponents {\n  const match = DSN_REGEX.exec(str);\n\n  if (!match) {\n    throw new SentryError(`Invalid Sentry Dsn: ${str}`);\n  }\n\n  const [protocol, publicKey, pass = '', host, port = '', lastPath] = match.slice(1);\n  let path = '';\n  let projectId = lastPath;\n\n  const split = projectId.split('/');\n  if (split.length > 1) {\n    path = split.slice(0, -1).join('/');\n    projectId = split.pop() as string;\n  }\n\n  if (projectId) {\n    const projectMatch = projectId.match(/^\\d+/);\n    if (projectMatch) {\n      projectId = projectMatch[0];\n    }\n  }\n\n  return dsnFromComponents({ host, pass, path, projectId, port, protocol: protocol as DsnProtocol, publicKey });\n}\n\nfunction dsnFromComponents(components: DsnComponents): DsnComponents {\n  return {\n    protocol: components.protocol,\n    publicKey: components.publicKey || '',\n    pass: components.pass || '',\n    host: components.host,\n    port: components.port || '',\n    path: components.path || '',\n    projectId: components.projectId,\n  };\n}\n\nfunction validateDsn(dsn: DsnComponents): boolean | void {\n  if (!__DEBUG_BUILD__) {\n    return;\n  }\n\n  const { port, projectId, protocol } = dsn;\n\n  const requiredComponents: ReadonlyArray<keyof DsnComponents> = ['protocol', 'publicKey', 'host', 'projectId'];\n  requiredComponents.forEach(component => {\n    if (!dsn[component]) {\n      throw new SentryError(`Invalid Sentry Dsn: ${component} missing`);\n    }\n  });\n\n  if (!projectId.match(/^\\d+$/)) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid projectId ${projectId}`);\n  }\n\n  if (!isValidProtocol(protocol)) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid protocol ${protocol}`);\n  }\n\n  if (port && isNaN(parseInt(port, 10))) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid port ${port}`);\n  }\n\n  return true;\n}\n\n/** The Sentry Dsn, identifying a Sentry instance and project. */\nexport function makeDsn(from: DsnLike): DsnComponents {\n  const components = typeof from === 'string' ? dsnFromString(from) : dsnFromComponents(from);\n  validateDsn(components);\n  return components;\n}\n","import type { ClientOptions, DsnComponents, DsnLike, SdkInfo } from '@sentry/types';\nimport { dsnToString, makeDsn, urlEncode } from '@sentry/utils';\n\nconst SENTRY_API_VERSION = '7';\n\n/** Returns the prefix to construct Sentry ingestion API endpoints. */\nfunction getBaseApiEndpoint(dsn: DsnComponents): string {\n  const protocol = dsn.protocol ? `${dsn.protocol}:` : '';\n  const port = dsn.port ? `:${dsn.port}` : '';\n  return `${protocol}//${dsn.host}${port}${dsn.path ? `/${dsn.path}` : ''}/api/`;\n}\n\n/** Returns the ingest API endpoint for target. */\nfunction _getIngestEndpoint(dsn: DsnComponents): string {\n  return `${getBaseApiEndpoint(dsn)}${dsn.projectId}/envelope/`;\n}\n\n/** Returns a URL-encoded string with auth config suitable for a query string. */\nfunction _encodedAuth(dsn: DsnComponents, sdkInfo: SdkInfo | undefined): string {\n  return urlEncode({\n    // We send only the minimum set of required information. See\n    // https://github.com/getsentry/sentry-javascript/issues/2572.\n    sentry_key: dsn.publicKey,\n    sentry_version: SENTRY_API_VERSION,\n    ...(sdkInfo && { sentry_client: `${sdkInfo.name}/${sdkInfo.version}` }),\n  });\n}\n\n/**\n * Returns the envelope endpoint URL with auth in the query string.\n *\n * Sending auth as part of the query string and not as custom HTTP headers avoids CORS preflight requests.\n */\nexport function getEnvelopeEndpointWithUrlEncodedAuth(\n  dsn: DsnComponents,\n  // TODO (v8): Remove `tunnelOrOptions` in favor of `options`, and use the substitute code below\n  // options: ClientOptions = {} as ClientOptions,\n  tunnelOrOptions: string | ClientOptions = {} as ClientOptions,\n): string {\n  // TODO (v8): Use this code instead\n  // const { tunnel, _metadata = {} } = options;\n  // return tunnel ? tunnel : `${_getIngestEndpoint(dsn)}?${_encodedAuth(dsn, _metadata.sdk)}`;\n\n  const tunnel = typeof tunnelOrOptions === 'string' ? tunnelOrOptions : tunnelOrOptions.tunnel;\n  const sdkInfo =\n    typeof tunnelOrOptions === 'string' || !tunnelOrOptions._metadata ? undefined : tunnelOrOptions._metadata.sdk;\n\n  return tunnel ? tunnel : `${_getIngestEndpoint(dsn)}?${_encodedAuth(dsn, sdkInfo)}`;\n}\n\n/** Returns the url to the report dialog endpoint. */\nexport function getReportDialogEndpoint(\n  dsnLike: DsnLike,\n  dialogOptions: {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: string]: any;\n    user?: { name?: string; email?: string };\n  },\n): string {\n  const dsn = makeDsn(dsnLike);\n  const endpoint = `${getBaseApiEndpoint(dsn)}embed/error-page/`;\n\n  let encodedOptions = `dsn=${dsnToString(dsn)}`;\n  for (const key in dialogOptions) {\n    if (key === 'dsn') {\n      continue;\n    }\n\n    if (key === 'user') {\n      const user = dialogOptions.user;\n      if (!user) {\n        continue;\n      }\n      if (user.name) {\n        encodedOptions += `&name=${encodeURIComponent(user.name)}`;\n      }\n      if (user.email) {\n        encodedOptions += `&email=${encodeURIComponent(user.email)}`;\n      }\n    } else {\n      encodedOptions += `&${encodeURIComponent(key)}=${encodeURIComponent(dialogOptions[key] as string)}`;\n    }\n  }\n\n  return `${endpoint}?${encodedOptions}`;\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nexport type MemoFunc = [\n  // memoize\n  (obj: any) => boolean,\n  // unmemoize\n  (obj: any) => void,\n];\n\n/**\n * Helper to decycle json objects\n */\nexport function memoBuilder(): MemoFunc {\n  const hasWeakSet = typeof WeakSet === 'function';\n  const inner: any = hasWeakSet ? new WeakSet() : [];\n  function memoize(obj: any): boolean {\n    if (hasWeakSet) {\n      if (inner.has(obj)) {\n        return true;\n      }\n      inner.add(obj);\n      return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\n    for (let i = 0; i < inner.length; i++) {\n      const value = inner[i];\n      if (value === obj) {\n        return true;\n      }\n    }\n    inner.push(obj);\n    return false;\n  }\n\n  function unmemoize(obj: any): void {\n    if (hasWeakSet) {\n      inner.delete(obj);\n    } else {\n      for (let i = 0; i < inner.length; i++) {\n        if (inner[i] === obj) {\n          inner.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n  return [memoize, unmemoize];\n}\n","import type { Primitive } from '@sentry/types';\n\nimport { isNaN, isSyntheticEvent } from './is';\nimport type { MemoFunc } from './memo';\nimport { memoBuilder } from './memo';\nimport { convertToPlainObject } from './object';\nimport { getFunctionName } from './stacktrace';\n\ntype Prototype = { constructor: (...args: unknown[]) => unknown };\n// This is a hack to placate TS, relying on the fact that technically, arrays are objects with integer keys. Normally we\n// think of those keys as actual numbers, but `arr['0']` turns out to work just as well as `arr[0]`, and doing it this\n// way lets us use a single type in the places where behave as if we are only dealing with objects, even if some of them\n// might be arrays.\ntype ObjOrArray<T> = { [key: string]: T };\n\n/**\n * Recursively normalizes the given object.\n *\n * - Creates a copy to prevent original input mutation\n * - Skips non-enumerable properties\n * - When stringifying, calls `toJSON` if implemented\n * - Removes circular references\n * - Translates non-serializable values (`undefined`/`NaN`/functions) to serializable format\n * - Translates known global objects/classes to a string representations\n * - Takes care of `Error` object serialization\n * - Optionally limits depth of final output\n * - Optionally limits number of properties/elements included in any single object/array\n *\n * @param input The object to be normalized.\n * @param depth The max depth to which to normalize the object. (Anything deeper stringified whole.)\n * @param maxProperties The max number of elements or properties to be included in any single array or\n * object in the normallized output.\n * @returns A normalized version of the object, or `\"**non-serializable**\"` if any errors are thrown during normalization.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function normalize(input: unknown, depth: number = +Infinity, maxProperties: number = +Infinity): any {\n  try {\n    // since we're at the outermost level, we don't provide a key\n    return visit('', input, depth, maxProperties);\n  } catch (err) {\n    return { ERROR: `**non-serializable** (${err})` };\n  }\n}\n\n/** JSDoc */\nexport function normalizeToSize<T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  object: { [key: string]: any },\n  // Default Node.js REPL depth\n  depth: number = 3,\n  // 100kB, as 200kB is max payload size, so half sounds reasonable\n  maxSize: number = 100 * 1024,\n): T {\n  const normalized = normalize(object, depth);\n\n  if (jsonSize(normalized) > maxSize) {\n    return normalizeToSize(object, depth - 1, maxSize);\n  }\n\n  return normalized as T;\n}\n\n/**\n * Visits a node to perform normalization on it\n *\n * @param key The key corresponding to the given node\n * @param value The node to be visited\n * @param depth Optional number indicating the maximum recursion depth\n * @param maxProperties Optional maximum number of properties/elements included in any single object/array\n * @param memo Optional Memo class handling decycling\n */\nfunction visit(\n  key: string,\n  value: unknown,\n  depth: number = +Infinity,\n  maxProperties: number = +Infinity,\n  memo: MemoFunc = memoBuilder(),\n): Primitive | ObjOrArray<unknown> {\n  const [memoize, unmemoize] = memo;\n\n  // Get the simple cases out of the way first\n  if (value === null || (['number', 'boolean', 'string'].includes(typeof value) && !isNaN(value))) {\n    return value as Primitive;\n  }\n\n  const stringified = stringifyValue(key, value);\n\n  // Anything we could potentially dig into more (objects or arrays) will have come back as `\"[object XXXX]\"`.\n  // Everything else will have already been serialized, so if we don't see that pattern, we're done.\n  if (!stringified.startsWith('[object ')) {\n    return stringified;\n  }\n\n  // From here on, we can assert that `value` is either an object or an array.\n\n  // Do not normalize objects that we know have already been normalized. As a general rule, the\n  // \"__sentry_skip_normalization__\" property should only be used sparingly and only should only be set on objects that\n  // have already been normalized.\n  if ((value as ObjOrArray<unknown>)['__sentry_skip_normalization__']) {\n    return value as ObjOrArray<unknown>;\n  }\n\n  // We're also done if we've reached the max depth\n  if (depth === 0) {\n    // At this point we know `serialized` is a string of the form `\"[object XXXX]\"`. Clean it up so it's just `\"[XXXX]\"`.\n    return stringified.replace('object ', '');\n  }\n\n  // If we've already visited this branch, bail out, as it's circular reference. If not, note that we're seeing it now.\n  if (memoize(value)) {\n    return '[Circular ~]';\n  }\n\n  // If the value has a `toJSON` method, we call it to extract more information\n  const valueWithToJSON = value as unknown & { toJSON?: () => unknown };\n  if (valueWithToJSON && typeof valueWithToJSON.toJSON === 'function') {\n    try {\n      const jsonValue = valueWithToJSON.toJSON();\n      // We need to normalize the return value of `.toJSON()` in case it has circular references\n      return visit('', jsonValue, depth - 1, maxProperties, memo);\n    } catch (err) {\n      // pass (The built-in `toJSON` failed, but we can still try to do it ourselves)\n    }\n  }\n\n  // At this point we know we either have an object or an array, we haven't seen it before, and we're going to recurse\n  // because we haven't yet reached the max depth. Create an accumulator to hold the results of visiting each\n  // property/entry, and keep track of the number of items we add to it.\n  const normalized = (Array.isArray(value) ? [] : {}) as ObjOrArray<unknown>;\n  let numAdded = 0;\n\n  // Before we begin, convert`Error` and`Event` instances into plain objects, since some of each of their relevant\n  // properties are non-enumerable and otherwise would get missed.\n  const visitable = convertToPlainObject(value as ObjOrArray<unknown>);\n\n  for (const visitKey in visitable) {\n    // Avoid iterating over fields in the prototype if they've somehow been exposed to enumeration.\n    if (!Object.prototype.hasOwnProperty.call(visitable, visitKey)) {\n      continue;\n    }\n\n    if (numAdded >= maxProperties) {\n      normalized[visitKey] = '[MaxProperties ~]';\n      break;\n    }\n\n    // Recursively visit all the child nodes\n    const visitValue = visitable[visitKey];\n    normalized[visitKey] = visit(visitKey, visitValue, depth - 1, maxProperties, memo);\n\n    numAdded++;\n  }\n\n  // Once we've visited all the branches, remove the parent from memo storage\n  unmemoize(value);\n\n  // Return accumulated values\n  return normalized;\n}\n\n// TODO remove this in v7 (this means the method will no longer be exported, under any name)\nexport { visit as walk };\n\n/**\n * Stringify the given value. Handles various known special values and types.\n *\n * Not meant to be used on simple primitives which already have a string representation, as it will, for example, turn\n * the number 1231 into \"[Object Number]\", nor on `null`, as it will throw.\n *\n * @param value The value to stringify\n * @returns A stringified representation of the given value\n */\nfunction stringifyValue(\n  key: unknown,\n  // this type is a tiny bit of a cheat, since this function does handle NaN (which is technically a number), but for\n  // our internal use, it'll do\n  value: Exclude<unknown, string | number | boolean | null>,\n): string {\n  try {\n    if (key === 'domain' && value && typeof value === 'object' && (value as { _events: unknown })._events) {\n      return '[Domain]';\n    }\n\n    if (key === 'domainEmitter') {\n      return '[DomainEmitter]';\n    }\n\n    // It's safe to use `global`, `window`, and `document` here in this manner, as we are asserting using `typeof` first\n    // which won't throw if they are not present.\n\n    if (typeof global !== 'undefined' && value === global) {\n      return '[Global]';\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    if (typeof window !== 'undefined' && value === window) {\n      return '[Window]';\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    if (typeof document !== 'undefined' && value === document) {\n      return '[Document]';\n    }\n\n    // React's SyntheticEvent thingy\n    if (isSyntheticEvent(value)) {\n      return '[SyntheticEvent]';\n    }\n\n    if (typeof value === 'number' && value !== value) {\n      return '[NaN]';\n    }\n\n    // this catches `undefined` (but not `null`, which is a primitive and can be serialized on its own)\n    if (value === void 0) {\n      return '[undefined]';\n    }\n\n    if (typeof value === 'function') {\n      return `[Function: ${getFunctionName(value)}]`;\n    }\n\n    if (typeof value === 'symbol') {\n      return `[${String(value)}]`;\n    }\n\n    // stringified BigInts are indistinguishable from regular numbers, so we need to label them to avoid confusion\n    if (typeof value === 'bigint') {\n      return `[BigInt: ${String(value)}]`;\n    }\n\n    // Now that we've knocked out all the special cases and the primitives, all we have left are objects. Simply casting\n    // them to strings means that instances of classes which haven't defined their `toStringTag` will just come out as\n    // `\"[object Object]\"`. If we instead look at the constructor's name (which is the same as the name of the class),\n    // we can make sure that only plain objects come out that way.\n    return `[object ${getConstructorName(value)}]`;\n  } catch (err) {\n    return `**non-serializable** (${err})`;\n  }\n}\n\nfunction getConstructorName(value: unknown): string {\n  const prototype: Prototype | null = Object.getPrototypeOf(value);\n\n  return prototype ? prototype.constructor.name : 'null prototype';\n}\n\n/** Calculates bytes size of input string */\nfunction utf8Length(value: string): number {\n  // eslint-disable-next-line no-bitwise\n  return ~-encodeURI(value).split(/%..|./).length;\n}\n\n/** Calculates bytes size of input object */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction jsonSize(value: any): number {\n  return utf8Length(JSON.stringify(value));\n}\n","import type {\n  Attachment,\n  AttachmentItem,\n  BaseEnvelopeHeaders,\n  BaseEnvelopeItemHeaders,\n  DataCategory,\n  DsnComponents,\n  Envelope,\n  EnvelopeItem,\n  EnvelopeItemType,\n  Event,\n  EventEnvelopeHeaders,\n  SdkInfo,\n  SdkMetadata,\n  TextEncoderInternal,\n} from '@sentry/types';\n\nimport { dsnToString } from './dsn';\nimport { normalize } from './normalize';\nimport { dropUndefinedKeys } from './object';\n\n/**\n * Creates an envelope.\n * Make sure to always explicitly provide the generic to this function\n * so that the envelope types resolve correctly.\n */\nexport function createEnvelope<E extends Envelope>(headers: E[0], items: E[1] = []): E {\n  return [headers, items] as E;\n}\n\n/**\n * Add an item to an envelope.\n * Make sure to always explicitly provide the generic to this function\n * so that the envelope types resolve correctly.\n */\nexport function addItemToEnvelope<E extends Envelope>(envelope: E, newItem: E[1][number]): E {\n  const [headers, items] = envelope;\n  return [headers, [...items, newItem]] as E;\n}\n\n/**\n * Convenience function to loop through the items and item types of an envelope.\n * (This function was mostly created because working with envelope types is painful at the moment)\n */\nexport function forEachEnvelopeItem<E extends Envelope>(\n  envelope: Envelope,\n  callback: (envelopeItem: E[1][number], envelopeItemType: E[1][number][0]['type']) => void,\n): void {\n  const envelopeItems = envelope[1];\n  envelopeItems.forEach((envelopeItem: EnvelopeItem) => {\n    const envelopeItemType = envelopeItem[0].type;\n    callback(envelopeItem, envelopeItemType);\n  });\n}\n\n/**\n * Encode a string to UTF8.\n */\nfunction encodeUTF8(input: string, textEncoder?: TextEncoderInternal): Uint8Array {\n  const utf8 = textEncoder || new TextEncoder();\n  return utf8.encode(input);\n}\n\n/**\n * Serializes an envelope.\n */\nexport function serializeEnvelope(envelope: Envelope, textEncoder?: TextEncoderInternal): string | Uint8Array {\n  const [envHeaders, items] = envelope;\n\n  // Initially we construct our envelope as a string and only convert to binary chunks if we encounter binary data\n  let parts: string | Uint8Array[] = JSON.stringify(envHeaders);\n\n  function append(next: string | Uint8Array): void {\n    if (typeof parts === 'string') {\n      parts = typeof next === 'string' ? parts + next : [encodeUTF8(parts, textEncoder), next];\n    } else {\n      parts.push(typeof next === 'string' ? encodeUTF8(next, textEncoder) : next);\n    }\n  }\n\n  for (const item of items) {\n    const [itemHeaders, payload] = item;\n\n    append(`\\n${JSON.stringify(itemHeaders)}\\n`);\n\n    if (typeof payload === 'string' || payload instanceof Uint8Array) {\n      append(payload);\n    } else {\n      let stringifiedPayload: string;\n      try {\n        stringifiedPayload = JSON.stringify(payload);\n      } catch (e) {\n        // In case, despite all our efforts to keep `payload` circular-dependency-free, `JSON.strinify()` still\n        // fails, we try again after normalizing it again with infinite normalization depth. This of course has a\n        // performance impact but in this case a performance hit is better than throwing.\n        stringifiedPayload = JSON.stringify(normalize(payload));\n      }\n      append(stringifiedPayload);\n    }\n  }\n\n  return typeof parts === 'string' ? parts : concatBuffers(parts);\n}\n\nfunction concatBuffers(buffers: Uint8Array[]): Uint8Array {\n  const totalLength = buffers.reduce((acc, buf) => acc + buf.length, 0);\n\n  const merged = new Uint8Array(totalLength);\n  let offset = 0;\n  for (const buffer of buffers) {\n    merged.set(buffer, offset);\n    offset += buffer.length;\n  }\n\n  return merged;\n}\n\nexport interface TextDecoderInternal {\n  decode(input?: Uint8Array): string;\n}\n\n/**\n * Parses an envelope\n */\nexport function parseEnvelope(\n  env: string | Uint8Array,\n  textEncoder: TextEncoderInternal,\n  textDecoder: TextDecoderInternal,\n): Envelope {\n  let buffer = typeof env === 'string' ? textEncoder.encode(env) : env;\n\n  function readBinary(length: number): Uint8Array {\n    const bin = buffer.subarray(0, length);\n    // Replace the buffer with the remaining data excluding trailing newline\n    buffer = buffer.subarray(length + 1);\n    return bin;\n  }\n\n  function readJson<T>(): T {\n    let i = buffer.indexOf(0xa);\n    // If we couldn't find a newline, we must have found the end of the buffer\n    if (i < 0) {\n      i = buffer.length;\n    }\n\n    return JSON.parse(textDecoder.decode(readBinary(i))) as T;\n  }\n\n  const envelopeHeader = readJson<BaseEnvelopeHeaders>();\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const items: [any, any][] = [];\n\n  while (buffer.length) {\n    const itemHeader = readJson<BaseEnvelopeItemHeaders>();\n    const binaryLength = typeof itemHeader.length === 'number' ? itemHeader.length : undefined;\n\n    items.push([itemHeader, binaryLength ? readBinary(binaryLength) : readJson()]);\n  }\n\n  return [envelopeHeader, items];\n}\n\n/**\n * Creates attachment envelope items\n */\nexport function createAttachmentEnvelopeItem(\n  attachment: Attachment,\n  textEncoder?: TextEncoderInternal,\n): AttachmentItem {\n  const buffer = typeof attachment.data === 'string' ? encodeUTF8(attachment.data, textEncoder) : attachment.data;\n\n  return [\n    dropUndefinedKeys({\n      type: 'attachment',\n      length: buffer.length,\n      filename: attachment.filename,\n      content_type: attachment.contentType,\n      attachment_type: attachment.attachmentType,\n    }),\n    buffer,\n  ];\n}\n\nconst ITEM_TYPE_TO_DATA_CATEGORY_MAP: Record<EnvelopeItemType, DataCategory> = {\n  session: 'session',\n  sessions: 'session',\n  attachment: 'attachment',\n  transaction: 'transaction',\n  event: 'error',\n  client_report: 'internal',\n  user_report: 'default',\n  profile: 'profile',\n  replay_event: 'replay',\n  replay_recording: 'replay',\n};\n\n/**\n * Maps the type of an envelope item to a data category.\n */\nexport function envelopeItemTypeToDataCategory(type: EnvelopeItemType): DataCategory {\n  return ITEM_TYPE_TO_DATA_CATEGORY_MAP[type];\n}\n\n/** Extracts the minimal SDK info from from the metadata or an events */\nexport function getSdkMetadataForEnvelopeHeader(metadataOrEvent?: SdkMetadata | Event): SdkInfo | undefined {\n  if (!metadataOrEvent || !metadataOrEvent.sdk) {\n    return;\n  }\n  const { name, version } = metadataOrEvent.sdk;\n  return { name, version };\n}\n\n/**\n * Creates event envelope headers, based on event, sdk info and tunnel\n * Note: This function was extracted from the core package to make it available in Replay\n */\nexport function createEventEnvelopeHeaders(\n  event: Event,\n  sdkInfo: SdkInfo | undefined,\n  tunnel: string | undefined,\n  dsn: DsnComponents,\n): EventEnvelopeHeaders {\n  const dynamicSamplingContext = event.sdkProcessingMetadata && event.sdkProcessingMetadata.dynamicSamplingContext;\n\n  return {\n    event_id: event.event_id as string,\n    sent_at: new Date().toISOString(),\n    ...(sdkInfo && { sdk: sdkInfo }),\n    ...(!!tunnel && { dsn: dsnToString(dsn) }),\n    ...(event.type === 'transaction' &&\n      dynamicSamplingContext && {\n        trace: dropUndefinedKeys({ ...dynamicSamplingContext }),\n      }),\n  };\n}\n","import type { ClientOptions, Event, EventHint } from '@sentry/types';\nimport { dateTimestampInSeconds, normalize, resolvedSyncPromise, truncate, uuid4 } from '@sentry/utils';\n\nimport { Scope } from '../scope';\n\n/**\n * Adds common information to events.\n *\n * The information includes release and environment from `options`,\n * breadcrumbs and context (extra, tags and user) from the scope.\n *\n * Information that is already present in the event is never overwritten. For\n * nested objects, such as the context, keys are merged.\n *\n * Note: This also triggers callbacks for `addGlobalEventProcessor`, but not `beforeSend`.\n *\n * @param event The original event.\n * @param hint May contain additional information about the original exception.\n * @param scope A scope containing event metadata.\n * @returns A new event with more information.\n * @hidden\n */\nexport function prepareEvent(\n  options: ClientOptions,\n  event: Event,\n  hint: EventHint,\n  scope?: Scope,\n): PromiseLike<Event | null> {\n  const { normalizeDepth = 3, normalizeMaxBreadth = 1_000 } = options;\n  const prepared: Event = {\n    ...event,\n    event_id: event.event_id || hint.event_id || uuid4(),\n    timestamp: event.timestamp || dateTimestampInSeconds(),\n  };\n  const integrations = hint.integrations || options.integrations.map(i => i.name);\n\n  applyClientOptions(prepared, options);\n  applyIntegrationsMetadata(prepared, integrations);\n\n  // If we have scope given to us, use it as the base for further modifications.\n  // This allows us to prevent unnecessary copying of data if `captureContext` is not provided.\n  let finalScope = scope;\n  if (hint.captureContext) {\n    finalScope = Scope.clone(finalScope).update(hint.captureContext);\n  }\n\n  // We prepare the result here with a resolved Event.\n  let result = resolvedSyncPromise<Event | null>(prepared);\n\n  // This should be the last thing called, since we want that\n  // {@link Hub.addEventProcessor} gets the finished prepared event.\n  //\n  // We need to check for the existence of `finalScope.getAttachments`\n  // because `getAttachments` can be undefined if users are using an older version\n  // of `@sentry/core` that does not have the `getAttachments` method.\n  // See: https://github.com/getsentry/sentry-javascript/issues/5229\n  if (finalScope) {\n    // Collect attachments from the hint and scope\n    if (finalScope.getAttachments) {\n      const attachments = [...(hint.attachments || []), ...finalScope.getAttachments()];\n\n      if (attachments.length) {\n        hint.attachments = attachments;\n      }\n    }\n\n    // In case we have a hub we reassign it.\n    result = finalScope.applyToEvent(prepared, hint);\n  }\n\n  return result.then(evt => {\n    if (typeof normalizeDepth === 'number' && normalizeDepth > 0) {\n      return normalizeEvent(evt, normalizeDepth, normalizeMaxBreadth);\n    }\n    return evt;\n  });\n}\n\n/**\n *  Enhances event using the client configuration.\n *  It takes care of all \"static\" values like environment, release and `dist`,\n *  as well as truncating overly long values.\n * @param event event instance to be enhanced\n */\nfunction applyClientOptions(event: Event, options: ClientOptions): void {\n  const { environment, release, dist, maxValueLength = 250 } = options;\n\n  if (!('environment' in event)) {\n    event.environment = 'environment' in options ? environment : 'production';\n  }\n\n  if (event.release === undefined && release !== undefined) {\n    event.release = release;\n  }\n\n  if (event.dist === undefined && dist !== undefined) {\n    event.dist = dist;\n  }\n\n  if (event.message) {\n    event.message = truncate(event.message, maxValueLength);\n  }\n\n  const exception = event.exception && event.exception.values && event.exception.values[0];\n  if (exception && exception.value) {\n    exception.value = truncate(exception.value, maxValueLength);\n  }\n\n  const request = event.request;\n  if (request && request.url) {\n    request.url = truncate(request.url, maxValueLength);\n  }\n}\n\n/**\n * This function adds all used integrations to the SDK info in the event.\n * @param event The event that will be filled with all integrations.\n */\nfunction applyIntegrationsMetadata(event: Event, integrationNames: string[]): void {\n  if (integrationNames.length > 0) {\n    event.sdk = event.sdk || {};\n    event.sdk.integrations = [...(event.sdk.integrations || []), ...integrationNames];\n  }\n}\n\n/**\n * Applies `normalize` function on necessary `Event` attributes to make them safe for serialization.\n * Normalized keys:\n * - `breadcrumbs.data`\n * - `user`\n * - `contexts`\n * - `extra`\n * @param event Event\n * @returns Normalized event\n */\nfunction normalizeEvent(event: Event | null, depth: number, maxBreadth: number): Event | null {\n  if (!event) {\n    return null;\n  }\n\n  const normalized: Event = {\n    ...event,\n    ...(event.breadcrumbs && {\n      breadcrumbs: event.breadcrumbs.map(b => ({\n        ...b,\n        ...(b.data && {\n          data: normalize(b.data, depth, maxBreadth),\n        }),\n      })),\n    }),\n    ...(event.user && {\n      user: normalize(event.user, depth, maxBreadth),\n    }),\n    ...(event.contexts && {\n      contexts: normalize(event.contexts, depth, maxBreadth),\n    }),\n    ...(event.extra && {\n      extra: normalize(event.extra, depth, maxBreadth),\n    }),\n  };\n\n  // event.contexts.trace stores information about a Transaction. Similarly,\n  // event.spans[] stores information about child Spans. Given that a\n  // Transaction is conceptually a Span, normalization should apply to both\n  // Transactions and Spans consistently.\n  // For now the decision is to skip normalization of Transactions and Spans,\n  // so this block overwrites the normalized event to add back the original\n  // Transaction information prior to normalization.\n  if (event.contexts && event.contexts.trace && normalized.contexts) {\n    normalized.contexts.trace = event.contexts.trace;\n\n    // event.contexts.trace.data may contain circular/dangerous data so we need to normalize it\n    if (event.contexts.trace.data) {\n      normalized.contexts.trace.data = normalize(event.contexts.trace.data, depth, maxBreadth);\n    }\n  }\n\n  // event.spans[].data may contain circular/dangerous data so we need to normalize it\n  if (event.spans) {\n    normalized.spans = event.spans.map(span => {\n      // We cannot use the spread operator here because `toJSON` on `span` is non-enumerable\n      if (span.data) {\n        span.data = normalize(span.data, depth, maxBreadth);\n      }\n      return span;\n    });\n  }\n\n  return normalized;\n}\n","/* eslint-disable max-lines */\nimport type {\n  Client,\n  ClientOptions,\n  DataCategory,\n  DsnComponents,\n  Envelope,\n  ErrorEvent,\n  Event,\n  EventDropReason,\n  EventHint,\n  Integration,\n  IntegrationClass,\n  Outcome,\n  SdkMetadata,\n  Session,\n  SessionAggregates,\n  Severity,\n  SeverityLevel,\n  TransactionEvent,\n  Transport,\n} from '@sentry/types';\nimport {\n  addItemToEnvelope,\n  checkOrSetAlreadyCaught,\n  createAttachmentEnvelopeItem,\n  isPlainObject,\n  isPrimitive,\n  isThenable,\n  logger,\n  makeDsn,\n  rejectedSyncPromise,\n  resolvedSyncPromise,\n  SentryError,\n  SyncPromise,\n} from '@sentry/utils';\n\nimport { getEnvelopeEndpointWithUrlEncodedAuth } from './api';\nimport { createEventEnvelope, createSessionEnvelope } from './envelope';\nimport type { IntegrationIndex } from './integration';\nimport { setupIntegration, setupIntegrations } from './integration';\nimport type { Scope } from './scope';\nimport { updateSession } from './session';\nimport { prepareEvent } from './utils/prepareEvent';\n\nconst ALREADY_SEEN_ERROR = \"Not capturing exception because it's already been captured.\";\n\n/**\n * Base implementation for all JavaScript SDK clients.\n *\n * Call the constructor with the corresponding options\n * specific to the client subclass. To access these options later, use\n * {@link Client.getOptions}.\n *\n * If a Dsn is specified in the options, it will be parsed and stored. Use\n * {@link Client.getDsn} to retrieve the Dsn at any moment. In case the Dsn is\n * invalid, the constructor will throw a {@link SentryException}. Note that\n * without a valid Dsn, the SDK will not send any events to Sentry.\n *\n * Before sending an event, it is passed through\n * {@link BaseClient._prepareEvent} to add SDK information and scope data\n * (breadcrumbs and context). To add more custom information, override this\n * method and extend the resulting prepared event.\n *\n * To issue automatically created events (e.g. via instrumentation), use\n * {@link Client.captureEvent}. It will prepare the event and pass it through\n * the callback lifecycle. To issue auto-breadcrumbs, use\n * {@link Client.addBreadcrumb}.\n *\n * @example\n * class NodeClient extends BaseClient<NodeOptions> {\n *   public constructor(options: NodeOptions) {\n *     super(options);\n *   }\n *\n *   // ...\n * }\n */\nexport abstract class BaseClient<O extends ClientOptions> implements Client<O> {\n  /** Options passed to the SDK. */\n  protected readonly _options: O;\n\n  /** The client Dsn, if specified in options. Without this Dsn, the SDK will be disabled. */\n  protected readonly _dsn?: DsnComponents;\n\n  protected readonly _transport?: Transport;\n\n  /** Array of set up integrations. */\n  protected _integrations: IntegrationIndex = {};\n\n  /** Indicates whether this client's integrations have been set up. */\n  protected _integrationsInitialized: boolean = false;\n\n  /** Number of calls being processed */\n  protected _numProcessing: number = 0;\n\n  /** Holds flushable  */\n  private _outcomes: { [key: string]: number } = {};\n\n  /**\n   * Initializes this client instance.\n   *\n   * @param options Options for the client.\n   */\n  protected constructor(options: O) {\n    this._options = options;\n    if (options.dsn) {\n      this._dsn = makeDsn(options.dsn);\n      const url = getEnvelopeEndpointWithUrlEncodedAuth(this._dsn, options);\n      this._transport = options.transport({\n        recordDroppedEvent: this.recordDroppedEvent.bind(this),\n        ...options.transportOptions,\n        url,\n      });\n    } else {\n      __DEBUG_BUILD__ && logger.warn('No DSN provided, client will not do anything.');\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n  public captureException(exception: any, hint?: EventHint, scope?: Scope): string | undefined {\n    // ensure we haven't captured this very object before\n    if (checkOrSetAlreadyCaught(exception)) {\n      __DEBUG_BUILD__ && logger.log(ALREADY_SEEN_ERROR);\n      return;\n    }\n\n    let eventId: string | undefined = hint && hint.event_id;\n\n    this._process(\n      this.eventFromException(exception, hint)\n        .then(event => this._captureEvent(event, hint, scope))\n        .then(result => {\n          eventId = result;\n        }),\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureMessage(\n    message: string,\n    // eslint-disable-next-line deprecation/deprecation\n    level?: Severity | SeverityLevel,\n    hint?: EventHint,\n    scope?: Scope,\n  ): string | undefined {\n    let eventId: string | undefined = hint && hint.event_id;\n\n    const promisedEvent = isPrimitive(message)\n      ? this.eventFromMessage(String(message), level, hint)\n      : this.eventFromException(message, hint);\n\n    this._process(\n      promisedEvent\n        .then(event => this._captureEvent(event, hint, scope))\n        .then(result => {\n          eventId = result;\n        }),\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureEvent(event: Event, hint?: EventHint, scope?: Scope): string | undefined {\n    // ensure we haven't captured this very object before\n    if (hint && hint.originalException && checkOrSetAlreadyCaught(hint.originalException)) {\n      __DEBUG_BUILD__ && logger.log(ALREADY_SEEN_ERROR);\n      return;\n    }\n\n    let eventId: string | undefined = hint && hint.event_id;\n\n    this._process(\n      this._captureEvent(event, hint, scope).then(result => {\n        eventId = result;\n      }),\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureSession(session: Session): void {\n    if (!this._isEnabled()) {\n      __DEBUG_BUILD__ && logger.warn('SDK not enabled, will not capture session.');\n      return;\n    }\n\n    if (!(typeof session.release === 'string')) {\n      __DEBUG_BUILD__ && logger.warn('Discarded session because of missing or non-string release');\n    } else {\n      this.sendSession(session);\n      // After sending, we set init false to indicate it's not the first occurrence\n      updateSession(session, { init: false });\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getDsn(): DsnComponents | undefined {\n    return this._dsn;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getOptions(): O {\n    return this._options;\n  }\n\n  /**\n   * @see SdkMetadata in @sentry/types\n   *\n   * @return The metadata of the SDK\n   */\n  public getSdkMetadata(): SdkMetadata | undefined {\n    return this._options._metadata;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getTransport(): Transport | undefined {\n    return this._transport;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public flush(timeout?: number): PromiseLike<boolean> {\n    const transport = this._transport;\n    if (transport) {\n      return this._isClientDoneProcessing(timeout).then(clientFinished => {\n        return transport.flush(timeout).then(transportFlushed => clientFinished && transportFlushed);\n      });\n    } else {\n      return resolvedSyncPromise(true);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public close(timeout?: number): PromiseLike<boolean> {\n    return this.flush(timeout).then(result => {\n      this.getOptions().enabled = false;\n      return result;\n    });\n  }\n\n  /**\n   * Sets up the integrations\n   */\n  public setupIntegrations(): void {\n    if (this._isEnabled() && !this._integrationsInitialized) {\n      this._integrations = setupIntegrations(this._options.integrations);\n      this._integrationsInitialized = true;\n    }\n  }\n\n  /**\n   * Gets an installed integration by its `id`.\n   *\n   * @returns The installed integration or `undefined` if no integration with that `id` was installed.\n   */\n  public getIntegrationById(integrationId: string): Integration | undefined {\n    return this._integrations[integrationId];\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getIntegration<T extends Integration>(integration: IntegrationClass<T>): T | null {\n    try {\n      return (this._integrations[integration.id] as T) || null;\n    } catch (_oO) {\n      __DEBUG_BUILD__ && logger.warn(`Cannot retrieve integration ${integration.id} from the current Client`);\n      return null;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addIntegration(integration: Integration): void {\n    setupIntegration(integration, this._integrations);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public sendEvent(event: Event, hint: EventHint = {}): void {\n    if (this._dsn) {\n      let env = createEventEnvelope(event, this._dsn, this._options._metadata, this._options.tunnel);\n\n      for (const attachment of hint.attachments || []) {\n        env = addItemToEnvelope(\n          env,\n          createAttachmentEnvelopeItem(\n            attachment,\n            this._options.transportOptions && this._options.transportOptions.textEncoder,\n          ),\n        );\n      }\n\n      this._sendEnvelope(env);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public sendSession(session: Session | SessionAggregates): void {\n    if (this._dsn) {\n      const env = createSessionEnvelope(session, this._dsn, this._options._metadata, this._options.tunnel);\n      this._sendEnvelope(env);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public recordDroppedEvent(reason: EventDropReason, category: DataCategory, _event?: Event): void {\n    // Note: we use `event` in replay, where we overwrite this hook.\n\n    if (this._options.sendClientReports) {\n      // We want to track each category (error, transaction, session, replay_event) separately\n      // but still keep the distinction between different type of outcomes.\n      // We could use nested maps, but it's much easier to read and type this way.\n      // A correct type for map-based implementation if we want to go that route\n      // would be `Partial<Record<SentryRequestType, Partial<Record<Outcome, number>>>>`\n      // With typescript 4.1 we could even use template literal types\n      const key = `${reason}:${category}`;\n      __DEBUG_BUILD__ && logger.log(`Adding outcome: \"${key}\"`);\n\n      // The following works because undefined + 1 === NaN and NaN is falsy\n      this._outcomes[key] = this._outcomes[key] + 1 || 1;\n    }\n  }\n\n  /** Updates existing session based on the provided event */\n  protected _updateSessionFromEvent(session: Session, event: Event): void {\n    let crashed = false;\n    let errored = false;\n    const exceptions = event.exception && event.exception.values;\n\n    if (exceptions) {\n      errored = true;\n\n      for (const ex of exceptions) {\n        const mechanism = ex.mechanism;\n        if (mechanism && mechanism.handled === false) {\n          crashed = true;\n          break;\n        }\n      }\n    }\n\n    // A session is updated and that session update is sent in only one of the two following scenarios:\n    // 1. Session with non terminal status and 0 errors + an error occurred -> Will set error count to 1 and send update\n    // 2. Session with non terminal status and 1 error + a crash occurred -> Will set status crashed and send update\n    const sessionNonTerminal = session.status === 'ok';\n    const shouldUpdateAndSend = (sessionNonTerminal && session.errors === 0) || (sessionNonTerminal && crashed);\n\n    if (shouldUpdateAndSend) {\n      updateSession(session, {\n        ...(crashed && { status: 'crashed' }),\n        errors: session.errors || Number(errored || crashed),\n      });\n      this.captureSession(session);\n    }\n  }\n\n  /**\n   * Determine if the client is finished processing. Returns a promise because it will wait `timeout` ms before saying\n   * \"no\" (resolving to `false`) in order to give the client a chance to potentially finish first.\n   *\n   * @param timeout The time, in ms, after which to resolve to `false` if the client is still busy. Passing `0` (or not\n   * passing anything) will make the promise wait as long as it takes for processing to finish before resolving to\n   * `true`.\n   * @returns A promise which will resolve to `true` if processing is already done or finishes before the timeout, and\n   * `false` otherwise\n   */\n  protected _isClientDoneProcessing(timeout?: number): PromiseLike<boolean> {\n    return new SyncPromise(resolve => {\n      let ticked: number = 0;\n      const tick: number = 1;\n\n      const interval = setInterval(() => {\n        if (this._numProcessing == 0) {\n          clearInterval(interval);\n          resolve(true);\n        } else {\n          ticked += tick;\n          if (timeout && ticked >= timeout) {\n            clearInterval(interval);\n            resolve(false);\n          }\n        }\n      }, tick);\n    });\n  }\n\n  /** Determines whether this SDK is enabled and a valid Dsn is present. */\n  protected _isEnabled(): boolean {\n    return this.getOptions().enabled !== false && this._dsn !== undefined;\n  }\n\n  /**\n   * Adds common information to events.\n   *\n   * The information includes release and environment from `options`,\n   * breadcrumbs and context (extra, tags and user) from the scope.\n   *\n   * Information that is already present in the event is never overwritten. For\n   * nested objects, such as the context, keys are merged.\n   *\n   * @param event The original event.\n   * @param hint May contain additional information about the original exception.\n   * @param scope A scope containing event metadata.\n   * @returns A new event with more information.\n   */\n  protected _prepareEvent(event: Event, hint: EventHint, scope?: Scope): PromiseLike<Event | null> {\n    const options = this.getOptions();\n    const integrations = Object.keys(this._integrations);\n    if (!hint.integrations && integrations.length > 0) {\n      hint.integrations = integrations;\n    }\n    return prepareEvent(options, event, hint, scope);\n  }\n\n  /**\n   * Processes the event and logs an error in case of rejection\n   * @param event\n   * @param hint\n   * @param scope\n   */\n  protected _captureEvent(event: Event, hint: EventHint = {}, scope?: Scope): PromiseLike<string | undefined> {\n    return this._processEvent(event, hint, scope).then(\n      finalEvent => {\n        return finalEvent.event_id;\n      },\n      reason => {\n        if (__DEBUG_BUILD__) {\n          // If something's gone wrong, log the error as a warning. If it's just us having used a `SentryError` for\n          // control flow, log just the message (no stack) as a log-level log.\n          const sentryError = reason as SentryError;\n          if (sentryError.logLevel === 'log') {\n            logger.log(sentryError.message);\n          } else {\n            logger.warn(sentryError);\n          }\n        }\n        return undefined;\n      },\n    );\n  }\n\n  /**\n   * Processes an event (either error or message) and sends it to Sentry.\n   *\n   * This also adds breadcrumbs and context information to the event. However,\n   * platform specific meta data (such as the User's IP address) must be added\n   * by the SDK implementor.\n   *\n   *\n   * @param event The event to send to Sentry.\n   * @param hint May contain additional information about the original exception.\n   * @param scope A scope containing event metadata.\n   * @returns A SyncPromise that resolves with the event or rejects in case event was/will not be send.\n   */\n  protected _processEvent(event: Event, hint: EventHint, scope?: Scope): PromiseLike<Event> {\n    const options = this.getOptions();\n    const { sampleRate } = options;\n\n    if (!this._isEnabled()) {\n      return rejectedSyncPromise(new SentryError('SDK not enabled, will not capture event.', 'log'));\n    }\n\n    const isTransaction = isTransactionEvent(event);\n    const isError = isErrorEvent(event);\n    const eventType = event.type || 'error';\n    const beforeSendLabel = `before send for type \\`${eventType}\\``;\n\n    // 1.0 === 100% events are sent\n    // 0.0 === 0% events are sent\n    // Sampling for transaction happens somewhere else\n    if (isError && typeof sampleRate === 'number' && Math.random() > sampleRate) {\n      this.recordDroppedEvent('sample_rate', 'error', event);\n      return rejectedSyncPromise(\n        new SentryError(\n          `Discarding event because it's not included in the random sample (sampling rate = ${sampleRate})`,\n          'log',\n        ),\n      );\n    }\n\n    const dataCategory: DataCategory = eventType === 'replay_event' ? 'replay' : eventType;\n\n    return this._prepareEvent(event, hint, scope)\n      .then(prepared => {\n        if (prepared === null) {\n          this.recordDroppedEvent('event_processor', dataCategory, event);\n          throw new SentryError('An event processor returned `null`, will not send event.', 'log');\n        }\n\n        const isInternalException = hint.data && (hint.data as { __sentry__: boolean }).__sentry__ === true;\n        if (isInternalException) {\n          return prepared;\n        }\n\n        const result = processBeforeSend(options, prepared, hint);\n        return _validateBeforeSendResult(result, beforeSendLabel);\n      })\n      .then(processedEvent => {\n        if (processedEvent === null) {\n          this.recordDroppedEvent('before_send', dataCategory, event);\n          throw new SentryError(`${beforeSendLabel} returned \\`null\\`, will not send event.`, 'log');\n        }\n\n        const session = scope && scope.getSession();\n        if (!isTransaction && session) {\n          this._updateSessionFromEvent(session, processedEvent);\n        }\n\n        // None of the Sentry built event processor will update transaction name,\n        // so if the transaction name has been changed by an event processor, we know\n        // it has to come from custom event processor added by a user\n        const transactionInfo = processedEvent.transaction_info;\n        if (isTransaction && transactionInfo && processedEvent.transaction !== event.transaction) {\n          const source = 'custom';\n          processedEvent.transaction_info = {\n            ...transactionInfo,\n            source,\n            changes: [\n              ...transactionInfo.changes,\n              {\n                source,\n                // use the same timestamp as the processed event.\n                timestamp: processedEvent.timestamp as number,\n                propagations: transactionInfo.propagations,\n              },\n            ],\n          };\n        }\n\n        this.sendEvent(processedEvent, hint);\n        return processedEvent;\n      })\n      .then(null, reason => {\n        if (reason instanceof SentryError) {\n          throw reason;\n        }\n\n        this.captureException(reason, {\n          data: {\n            __sentry__: true,\n          },\n          originalException: reason as Error,\n        });\n        throw new SentryError(\n          `Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\\nReason: ${reason}`,\n        );\n      });\n  }\n\n  /**\n   * Occupies the client with processing and event\n   */\n  protected _process<T>(promise: PromiseLike<T>): void {\n    this._numProcessing++;\n    void promise.then(\n      value => {\n        this._numProcessing--;\n        return value;\n      },\n      reason => {\n        this._numProcessing--;\n        return reason;\n      },\n    );\n  }\n\n  /**\n   * @inheritdoc\n   */\n  protected _sendEnvelope(envelope: Envelope): void {\n    if (this._transport && this._dsn) {\n      this._transport.send(envelope).then(null, reason => {\n        __DEBUG_BUILD__ && logger.error('Error while sending event:', reason);\n      });\n    } else {\n      __DEBUG_BUILD__ && logger.error('Transport disabled');\n    }\n  }\n\n  /**\n   * Clears outcomes on this client and returns them.\n   */\n  protected _clearOutcomes(): Outcome[] {\n    const outcomes = this._outcomes;\n    this._outcomes = {};\n    return Object.keys(outcomes).map(key => {\n      const [reason, category] = key.split(':') as [EventDropReason, DataCategory];\n      return {\n        reason,\n        category,\n        quantity: outcomes[key],\n      };\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n  public abstract eventFromException(_exception: any, _hint?: EventHint): PromiseLike<Event>;\n\n  /**\n   * @inheritDoc\n   */\n  public abstract eventFromMessage(\n    _message: string,\n    // eslint-disable-next-line deprecation/deprecation\n    _level?: Severity | SeverityLevel,\n    _hint?: EventHint,\n  ): PromiseLike<Event>;\n}\n\n/**\n * Verifies that return value of configured `beforeSend` or `beforeSendTransaction` is of expected type, and returns the value if so.\n */\nfunction _validateBeforeSendResult(\n  beforeSendResult: PromiseLike<Event | null> | Event | null,\n  beforeSendLabel: string,\n): PromiseLike<Event | null> | Event | null {\n  const invalidValueError = `${beforeSendLabel} must return \\`null\\` or a valid event.`;\n  if (isThenable(beforeSendResult)) {\n    return beforeSendResult.then(\n      event => {\n        if (!isPlainObject(event) && event !== null) {\n          throw new SentryError(invalidValueError);\n        }\n        return event;\n      },\n      e => {\n        throw new SentryError(`${beforeSendLabel} rejected with ${e}`);\n      },\n    );\n  } else if (!isPlainObject(beforeSendResult) && beforeSendResult !== null) {\n    throw new SentryError(invalidValueError);\n  }\n  return beforeSendResult;\n}\n\n/**\n * Process the matching `beforeSendXXX` callback.\n */\nfunction processBeforeSend(\n  options: ClientOptions,\n  event: Event,\n  hint: EventHint,\n): PromiseLike<Event | null> | Event | null {\n  const { beforeSend, beforeSendTransaction } = options;\n\n  if (isErrorEvent(event) && beforeSend) {\n    return beforeSend(event, hint);\n  }\n\n  if (isTransactionEvent(event) && beforeSendTransaction) {\n    return beforeSendTransaction(event, hint);\n  }\n\n  return event;\n}\n\nfunction isErrorEvent(event: Event): event is ErrorEvent {\n  return event.type === undefined;\n}\n\nfunction isTransactionEvent(event: Event): event is TransactionEvent {\n  return event.type === 'transaction';\n}\n","import { getCurrentHub } from '@sentry/core';\nimport type { Event, EventHint, Exception, Severity, SeverityLevel, StackFrame, StackParser } from '@sentry/types';\nimport {\n  addExceptionMechanism,\n  addExceptionTypeValue,\n  extractExceptionKeysForMessage,\n  isDOMError,\n  isDOMException,\n  isError,\n  isErrorEvent,\n  isEvent,\n  isPlainObject,\n  normalizeToSize,\n  resolvedSyncPromise,\n} from '@sentry/utils';\n\n/**\n * This function creates an exception from a JavaScript Error\n */\nexport function exceptionFromError(stackParser: StackParser, ex: Error): Exception {\n  // Get the frames first since Opera can lose the stack if we touch anything else first\n  const frames = parseStackFrames(stackParser, ex);\n\n  const exception: Exception = {\n    type: ex && ex.name,\n    value: extractMessage(ex),\n  };\n\n  if (frames.length) {\n    exception.stacktrace = { frames };\n  }\n\n  if (exception.type === undefined && exception.value === '') {\n    exception.value = 'Unrecoverable error caught';\n  }\n\n  return exception;\n}\n\n/**\n * @hidden\n */\nexport function eventFromPlainObject(\n  stackParser: StackParser,\n  exception: Record<string, unknown>,\n  syntheticException?: Error,\n  isUnhandledRejection?: boolean,\n): Event {\n  const hub = getCurrentHub();\n  const client = hub.getClient();\n  const normalizeDepth = client && client.getOptions().normalizeDepth;\n\n  const event: Event = {\n    exception: {\n      values: [\n        {\n          type: isEvent(exception) ? exception.constructor.name : isUnhandledRejection ? 'UnhandledRejection' : 'Error',\n          value: `Non-Error ${\n            isUnhandledRejection ? 'promise rejection' : 'exception'\n          } captured with keys: ${extractExceptionKeysForMessage(exception)}`,\n        },\n      ],\n    },\n    extra: {\n      __serialized__: normalizeToSize(exception, normalizeDepth),\n    },\n  };\n\n  if (syntheticException) {\n    const frames = parseStackFrames(stackParser, syntheticException);\n    if (frames.length) {\n      // event.exception.values[0] has been set above\n      (event.exception as { values: Exception[] }).values[0].stacktrace = { frames };\n    }\n  }\n\n  return event;\n}\n\n/**\n * @hidden\n */\nexport function eventFromError(stackParser: StackParser, ex: Error): Event {\n  return {\n    exception: {\n      values: [exceptionFromError(stackParser, ex)],\n    },\n  };\n}\n\n/** Parses stack frames from an error */\nexport function parseStackFrames(\n  stackParser: StackParser,\n  ex: Error & { framesToPop?: number; stacktrace?: string },\n): StackFrame[] {\n  // Access and store the stacktrace property before doing ANYTHING\n  // else to it because Opera is not very good at providing it\n  // reliably in other circumstances.\n  const stacktrace = ex.stacktrace || ex.stack || '';\n\n  const popSize = getPopSize(ex);\n\n  try {\n    return stackParser(stacktrace, popSize);\n  } catch (e) {\n    // no-empty\n  }\n\n  return [];\n}\n\n// Based on our own mapping pattern - https://github.com/getsentry/sentry/blob/9f08305e09866c8bd6d0c24f5b0aabdd7dd6c59c/src/sentry/lang/javascript/errormapping.py#L83-L108\nconst reactMinifiedRegexp = /Minified React error #\\d+;/i;\n\nfunction getPopSize(ex: Error & { framesToPop?: number }): number {\n  if (ex) {\n    if (typeof ex.framesToPop === 'number') {\n      return ex.framesToPop;\n    }\n\n    if (reactMinifiedRegexp.test(ex.message)) {\n      return 1;\n    }\n  }\n\n  return 0;\n}\n\n/**\n * There are cases where stacktrace.message is an Event object\n * https://github.com/getsentry/sentry-javascript/issues/1949\n * In this specific case we try to extract stacktrace.message.error.message\n */\nfunction extractMessage(ex: Error & { message: { error?: Error } }): string {\n  const message = ex && ex.message;\n  if (!message) {\n    return 'No error message';\n  }\n  if (message.error && typeof message.error.message === 'string') {\n    return message.error.message;\n  }\n  return message;\n}\n\n/**\n * Creates an {@link Event} from all inputs to `captureException` and non-primitive inputs to `captureMessage`.\n * @hidden\n */\nexport function eventFromException(\n  stackParser: StackParser,\n  exception: unknown,\n  hint?: EventHint,\n  attachStacktrace?: boolean,\n): PromiseLike<Event> {\n  const syntheticException = (hint && hint.syntheticException) || undefined;\n  const event = eventFromUnknownInput(stackParser, exception, syntheticException, attachStacktrace);\n  addExceptionMechanism(event); // defaults to { type: 'generic', handled: true }\n  event.level = 'error';\n  if (hint && hint.event_id) {\n    event.event_id = hint.event_id;\n  }\n  return resolvedSyncPromise(event);\n}\n\n/**\n * Builds and Event from a Message\n * @hidden\n */\nexport function eventFromMessage(\n  stackParser: StackParser,\n  message: string,\n  // eslint-disable-next-line deprecation/deprecation\n  level: Severity | SeverityLevel = 'info',\n  hint?: EventHint,\n  attachStacktrace?: boolean,\n): PromiseLike<Event> {\n  const syntheticException = (hint && hint.syntheticException) || undefined;\n  const event = eventFromString(stackParser, message, syntheticException, attachStacktrace);\n  event.level = level;\n  if (hint && hint.event_id) {\n    event.event_id = hint.event_id;\n  }\n  return resolvedSyncPromise(event);\n}\n\n/**\n * @hidden\n */\nexport function eventFromUnknownInput(\n  stackParser: StackParser,\n  exception: unknown,\n  syntheticException?: Error,\n  attachStacktrace?: boolean,\n  isUnhandledRejection?: boolean,\n): Event {\n  let event: Event;\n\n  if (isErrorEvent(exception as ErrorEvent) && (exception as ErrorEvent).error) {\n    // If it is an ErrorEvent with `error` property, extract it to get actual Error\n    const errorEvent = exception as ErrorEvent;\n    return eventFromError(stackParser, errorEvent.error as Error);\n  }\n\n  // If it is a `DOMError` (which is a legacy API, but still supported in some browsers) then we just extract the name\n  // and message, as it doesn't provide anything else. According to the spec, all `DOMExceptions` should also be\n  // `Error`s, but that's not the case in IE11, so in that case we treat it the same as we do a `DOMError`.\n  //\n  // https://developer.mozilla.org/en-US/docs/Web/API/DOMError\n  // https://developer.mozilla.org/en-US/docs/Web/API/DOMException\n  // https://webidl.spec.whatwg.org/#es-DOMException-specialness\n  if (isDOMError(exception as DOMError) || isDOMException(exception as DOMException)) {\n    const domException = exception as DOMException;\n\n    if ('stack' in (exception as Error)) {\n      event = eventFromError(stackParser, exception as Error);\n    } else {\n      const name = domException.name || (isDOMError(domException) ? 'DOMError' : 'DOMException');\n      const message = domException.message ? `${name}: ${domException.message}` : name;\n      event = eventFromString(stackParser, message, syntheticException, attachStacktrace);\n      addExceptionTypeValue(event, message);\n    }\n    if ('code' in domException) {\n      event.tags = { ...event.tags, 'DOMException.code': `${domException.code}` };\n    }\n\n    return event;\n  }\n  if (isError(exception)) {\n    // we have a real Error object, do nothing\n    return eventFromError(stackParser, exception);\n  }\n  if (isPlainObject(exception) || isEvent(exception)) {\n    // If it's a plain object or an instance of `Event` (the built-in JS kind, not this SDK's `Event` type), serialize\n    // it manually. This will allow us to group events based on top-level keys which is much better than creating a new\n    // group on any key/value change.\n    const objectException = exception as Record<string, unknown>;\n    event = eventFromPlainObject(stackParser, objectException, syntheticException, isUnhandledRejection);\n    addExceptionMechanism(event, {\n      synthetic: true,\n    });\n    return event;\n  }\n\n  // If none of previous checks were valid, then it means that it's not:\n  // - an instance of DOMError\n  // - an instance of DOMException\n  // - an instance of Event\n  // - an instance of Error\n  // - a valid ErrorEvent (one with an error property)\n  // - a plain Object\n  //\n  // So bail out and capture it as a simple message:\n  event = eventFromString(stackParser, exception as string, syntheticException, attachStacktrace);\n  addExceptionTypeValue(event, `${exception}`, undefined);\n  addExceptionMechanism(event, {\n    synthetic: true,\n  });\n\n  return event;\n}\n\n/**\n * @hidden\n */\nexport function eventFromString(\n  stackParser: StackParser,\n  input: string,\n  syntheticException?: Error,\n  attachStacktrace?: boolean,\n): Event {\n  const event: Event = {\n    message: input,\n  };\n\n  if (attachStacktrace && syntheticException) {\n    const frames = parseStackFrames(stackParser, syntheticException);\n    if (frames.length) {\n      event.exception = {\n        values: [{ value: input, stacktrace: { frames } }],\n      };\n    }\n  }\n\n  return event;\n}\n","/* eslint-disable deprecation/deprecation */\nimport type { Severity, SeverityLevel } from '@sentry/types';\n\n// Note: Ideally the `SeverityLevel` type would be derived from `validSeverityLevels`, but that would mean either\n//\n// a) moving `validSeverityLevels` to `@sentry/types`,\n// b) moving the`SeverityLevel` type here, or\n// c) importing `validSeverityLevels` from here into `@sentry/types`.\n//\n// Option A would make `@sentry/types` a runtime dependency of `@sentry/utils` (not good), and options B and C would\n// create a circular dependency between `@sentry/types` and `@sentry/utils` (also not good). So a TODO accompanying the\n// type, reminding anyone who changes it to change this list also, will have to do.\n\nexport const validSeverityLevels = ['fatal', 'error', 'warning', 'log', 'info', 'debug'];\n\n/**\n * Converts a string-based level into a member of the deprecated {@link Severity} enum.\n *\n * @deprecated `severityFromString` is deprecated. Please use `severityLevelFromString` instead.\n *\n * @param level String representation of Severity\n * @returns Severity\n */\nexport function severityFromString(level: Severity | SeverityLevel | string): Severity {\n  return severityLevelFromString(level) as Severity;\n}\n\n/**\n * Converts a string-based level into a `SeverityLevel`, normalizing it along the way.\n *\n * @param level String representation of desired `SeverityLevel`.\n * @returns The `SeverityLevel` corresponding to the given string, or 'log' if the string isn't a valid level.\n */\nexport function severityLevelFromString(level: SeverityLevel | string): SeverityLevel {\n  return (level === 'warn' ? 'warning' : validSeverityLevels.includes(level) ? level : 'log') as SeverityLevel;\n}\n","/**\n * Parses string form of URL into an object\n * // borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n * // intentionally using regex and not <a/> href parsing trick because React Native and other\n * // environments where DOM might not be available\n * @returns parsed URL object\n */\nexport function parseUrl(url: string): {\n  host?: string;\n  path?: string;\n  protocol?: string;\n  relative?: string;\n} {\n  if (!url) {\n    return {};\n  }\n\n  const match = url.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n\n  if (!match) {\n    return {};\n  }\n\n  // coerce to undefined values to empty string so we don't get 'undefined'\n  const query = match[6] || '';\n  const fragment = match[8] || '';\n  return {\n    host: match[4],\n    path: match[5],\n    protocol: match[2],\n    relative: match[5] + query + fragment, // everything minus origin\n  };\n}\n\n/**\n * Strip the query string and fragment off of a given URL or path (if present)\n *\n * @param urlPath Full URL or path, including possible query string and/or fragment\n * @returns URL or path without query string or fragment\n */\nexport function stripUrlQueryAndFragment(urlPath: string): string {\n  // eslint-disable-next-line no-useless-escape\n  return urlPath.split(/[\\?#]/, 1)[0];\n}\n\n/**\n * Returns number of URL segments of a passed string URL.\n */\nexport function getNumberOfUrlSegments(url: string): number {\n  // split at '/' or at '\\/' to split regex urls correctly\n  return url.split(/\\\\?\\//).filter(s => s.length > 0 && s !== ',').length;\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable max-lines */\nimport { getCurrentHub } from '@sentry/core';\nimport type { Event, Integration } from '@sentry/types';\nimport {\n  addInstrumentationHandler,\n  getEventDescription,\n  htmlTreeAsString,\n  logger,\n  parseUrl,\n  safeJoin,\n  severityLevelFromString,\n} from '@sentry/utils';\n\nimport { WINDOW } from '../helpers';\n\n/** JSDoc */\ninterface BreadcrumbsOptions {\n  console: boolean;\n  dom:\n    | boolean\n    | {\n        serializeAttribute?: string | string[];\n        maxStringLength?: number;\n      };\n  fetch: boolean;\n  history: boolean;\n  sentry: boolean;\n  xhr: boolean;\n}\n\n/** maxStringLength gets capped to prevent 100 breadcrumbs exceeding 1MB event payload size */\nconst MAX_ALLOWED_STRING_LENGTH = 1024;\n\nexport const BREADCRUMB_INTEGRATION_ID = 'Breadcrumbs';\n\n/**\n * Default Breadcrumbs instrumentations\n * TODO: Deprecated - with v6, this will be renamed to `Instrument`\n */\nexport class Breadcrumbs implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = BREADCRUMB_INTEGRATION_ID;\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = Breadcrumbs.id;\n\n  /**\n   * Options of the breadcrumbs integration.\n   */\n  // This field is public, because we use it in the browser client to check if the `sentry` option is enabled.\n  public readonly options: Readonly<BreadcrumbsOptions>;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options?: Partial<BreadcrumbsOptions>) {\n    this.options = {\n      console: true,\n      dom: true,\n      fetch: true,\n      history: true,\n      sentry: true,\n      xhr: true,\n      ...options,\n    };\n  }\n\n  /**\n   * Instrument browser built-ins w/ breadcrumb capturing\n   *  - Console API\n   *  - DOM API (click/typing)\n   *  - XMLHttpRequest API\n   *  - Fetch API\n   *  - History API\n   */\n  public setupOnce(): void {\n    if (this.options.console) {\n      addInstrumentationHandler('console', _consoleBreadcrumb);\n    }\n    if (this.options.dom) {\n      addInstrumentationHandler('dom', _domBreadcrumb(this.options.dom));\n    }\n    if (this.options.xhr) {\n      addInstrumentationHandler('xhr', _xhrBreadcrumb);\n    }\n    if (this.options.fetch) {\n      addInstrumentationHandler('fetch', _fetchBreadcrumb);\n    }\n    if (this.options.history) {\n      addInstrumentationHandler('history', _historyBreadcrumb);\n    }\n  }\n\n  /**\n   * Adds a breadcrumb for Sentry events or transactions if this option is enabled.\n   */\n  public addSentryBreadcrumb(event: Event): void {\n    if (this.options.sentry) {\n      getCurrentHub().addBreadcrumb(\n        {\n          category: `sentry.${event.type === 'transaction' ? 'transaction' : 'event'}`,\n          event_id: event.event_id,\n          level: event.level,\n          message: getEventDescription(event),\n        },\n        {\n          event,\n        },\n      );\n    }\n  }\n}\n\n/**\n * A HOC that creaes a function that creates breadcrumbs from DOM API calls.\n * This is a HOC so that we get access to dom options in the closure.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _domBreadcrumb(dom: BreadcrumbsOptions['dom']): (handlerData: { [key: string]: any }) => void {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function _innerDomBreadcrumb(handlerData: { [key: string]: any }): void {\n    let target;\n    let keyAttrs = typeof dom === 'object' ? dom.serializeAttribute : undefined;\n\n    let maxStringLength =\n      typeof dom === 'object' && typeof dom.maxStringLength === 'number' ? dom.maxStringLength : undefined;\n    if (maxStringLength && maxStringLength > MAX_ALLOWED_STRING_LENGTH) {\n      __DEBUG_BUILD__ &&\n        logger.warn(\n          `\\`dom.maxStringLength\\` cannot exceed ${MAX_ALLOWED_STRING_LENGTH}, but a value of ${maxStringLength} was configured. Sentry will use ${MAX_ALLOWED_STRING_LENGTH} instead.`,\n        );\n      maxStringLength = MAX_ALLOWED_STRING_LENGTH;\n    }\n\n    if (typeof keyAttrs === 'string') {\n      keyAttrs = [keyAttrs];\n    }\n\n    // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n    try {\n      target = handlerData.event.target\n        ? htmlTreeAsString(handlerData.event.target as Node, { keyAttrs, maxStringLength })\n        : htmlTreeAsString(handlerData.event as unknown as Node, { keyAttrs, maxStringLength });\n    } catch (e) {\n      target = '<unknown>';\n    }\n\n    if (target.length === 0) {\n      return;\n    }\n\n    getCurrentHub().addBreadcrumb(\n      {\n        category: `ui.${handlerData.name}`,\n        message: target,\n      },\n      {\n        event: handlerData.event,\n        name: handlerData.name,\n        global: handlerData.global,\n      },\n    );\n  }\n\n  return _innerDomBreadcrumb;\n}\n\n/**\n * Creates breadcrumbs from console API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _consoleBreadcrumb(handlerData: { [key: string]: any }): void {\n  // This is a hack to fix a Vue3-specific bug that causes an infinite loop of\n  // console warnings. This happens when a Vue template is rendered with\n  // an undeclared variable, which we try to stringify, ultimately causing\n  // Vue to issue another warning which repeats indefinitely.\n  // see: https://github.com/getsentry/sentry-javascript/pull/6010\n  // see: https://github.com/getsentry/sentry-javascript/issues/5916\n  for (let i = 0; i < handlerData.args.length; i++) {\n    if (handlerData.args[i] === 'ref=Ref<') {\n      handlerData.args[i + 1] = 'viewRef';\n      break;\n    }\n  }\n  const breadcrumb = {\n    category: 'console',\n    data: {\n      arguments: handlerData.args,\n      logger: 'console',\n    },\n    level: severityLevelFromString(handlerData.level),\n    message: safeJoin(handlerData.args, ' '),\n  };\n\n  if (handlerData.level === 'assert') {\n    if (handlerData.args[0] === false) {\n      breadcrumb.message = `Assertion failed: ${safeJoin(handlerData.args.slice(1), ' ') || 'console.assert'}`;\n      breadcrumb.data.arguments = handlerData.args.slice(1);\n    } else {\n      // Don't capture a breadcrumb for passed assertions\n      return;\n    }\n  }\n\n  getCurrentHub().addBreadcrumb(breadcrumb, {\n    input: handlerData.args,\n    level: handlerData.level,\n  });\n}\n\n/**\n * Creates breadcrumbs from XHR API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _xhrBreadcrumb(handlerData: { [key: string]: any }): void {\n  if (handlerData.endTimestamp) {\n    // We only capture complete, non-sentry requests\n    if (handlerData.xhr.__sentry_own_request__) {\n      return;\n    }\n\n    const { method, url, status_code, body } = handlerData.xhr.__sentry_xhr__ || {};\n\n    getCurrentHub().addBreadcrumb(\n      {\n        category: 'xhr',\n        data: {\n          method,\n          url,\n          status_code,\n        },\n        type: 'http',\n      },\n      {\n        xhr: handlerData.xhr,\n        input: body,\n      },\n    );\n\n    return;\n  }\n}\n\n/**\n * Creates breadcrumbs from fetch API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _fetchBreadcrumb(handlerData: { [key: string]: any }): void {\n  // We only capture complete fetch requests\n  if (!handlerData.endTimestamp) {\n    return;\n  }\n\n  if (handlerData.fetchData.url.match(/sentry_key/) && handlerData.fetchData.method === 'POST') {\n    // We will not create breadcrumbs for fetch requests that contain `sentry_key` (internal sentry requests)\n    return;\n  }\n\n  if (handlerData.error) {\n    getCurrentHub().addBreadcrumb(\n      {\n        category: 'fetch',\n        data: handlerData.fetchData,\n        level: 'error',\n        type: 'http',\n      },\n      {\n        data: handlerData.error,\n        input: handlerData.args,\n      },\n    );\n  } else {\n    getCurrentHub().addBreadcrumb(\n      {\n        category: 'fetch',\n        data: {\n          ...handlerData.fetchData,\n          status_code: handlerData.response.status,\n        },\n        type: 'http',\n      },\n      {\n        input: handlerData.args,\n        response: handlerData.response,\n      },\n    );\n  }\n}\n\n/**\n * Creates breadcrumbs from history API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _historyBreadcrumb(handlerData: { [key: string]: any }): void {\n  let from = handlerData.from;\n  let to = handlerData.to;\n  const parsedLoc = parseUrl(WINDOW.location.href);\n  let parsedFrom = parseUrl(from);\n  const parsedTo = parseUrl(to);\n\n  // Initial pushState doesn't provide `from` information\n  if (!parsedFrom.path) {\n    parsedFrom = parsedLoc;\n  }\n\n  // Use only the path component of the URL if the URL matches the current\n  // document (almost all the time when using pushState)\n  if (parsedLoc.protocol === parsedTo.protocol && parsedLoc.host === parsedTo.host) {\n    to = parsedTo.relative;\n  }\n  if (parsedLoc.protocol === parsedFrom.protocol && parsedLoc.host === parsedFrom.host) {\n    from = parsedFrom.relative;\n  }\n\n  getCurrentHub().addBreadcrumb({\n    category: 'navigation',\n    data: {\n      from,\n      to,\n    },\n  });\n}\n","import type { Scope } from '@sentry/core';\nimport { BaseClient, getEnvelopeEndpointWithUrlEncodedAuth, SDK_VERSION } from '@sentry/core';\nimport type {\n  BrowserClientReplayOptions,\n  ClientOptions,\n  Event,\n  EventHint,\n  Options,\n  Severity,\n  SeverityLevel,\n} from '@sentry/types';\nimport { createClientReportEnvelope, dsnToString, getSDKSource, logger, serializeEnvelope } from '@sentry/utils';\n\nimport { eventFromException, eventFromMessage } from './eventbuilder';\nimport { WINDOW } from './helpers';\nimport type { Breadcrumbs } from './integrations';\nimport { BREADCRUMB_INTEGRATION_ID } from './integrations/breadcrumbs';\nimport type { BrowserTransportOptions } from './transports/types';\n\n/**\n * Configuration options for the Sentry Browser SDK.\n * @see @sentry/types Options for more information.\n */\nexport type BrowserOptions = Options<BrowserTransportOptions> & BrowserClientReplayOptions;\n\n/**\n * Configuration options for the Sentry Browser SDK Client class\n * @see BrowserClient for more information.\n */\nexport type BrowserClientOptions = ClientOptions<BrowserTransportOptions>;\n\n/**\n * The Sentry Browser SDK Client.\n *\n * @see BrowserOptions for documentation on configuration options.\n * @see SentryClient for usage documentation.\n */\nexport class BrowserClient extends BaseClient<BrowserClientOptions> {\n  /**\n   * Creates a new Browser SDK instance.\n   *\n   * @param options Configuration options for this SDK.\n   */\n  public constructor(options: BrowserClientOptions) {\n    const sdkSource = WINDOW.SENTRY_SDK_SOURCE || getSDKSource();\n\n    options._metadata = options._metadata || {};\n    options._metadata.sdk = options._metadata.sdk || {\n      name: 'sentry.javascript.browser',\n      packages: [\n        {\n          name: `${sdkSource}:@sentry/browser`,\n          version: SDK_VERSION,\n        },\n      ],\n      version: SDK_VERSION,\n    };\n\n    super(options);\n\n    if (options.sendClientReports && WINDOW.document) {\n      WINDOW.document.addEventListener('visibilitychange', () => {\n        if (WINDOW.document.visibilityState === 'hidden') {\n          this._flushOutcomes();\n        }\n      });\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public eventFromException(exception: unknown, hint?: EventHint): PromiseLike<Event> {\n    return eventFromException(this._options.stackParser, exception, hint, this._options.attachStacktrace);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public eventFromMessage(\n    message: string,\n    // eslint-disable-next-line deprecation/deprecation\n    level: Severity | SeverityLevel = 'info',\n    hint?: EventHint,\n  ): PromiseLike<Event> {\n    return eventFromMessage(this._options.stackParser, message, level, hint, this._options.attachStacktrace);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public sendEvent(event: Event, hint?: EventHint): void {\n    // We only want to add the sentry event breadcrumb when the user has the breadcrumb integration installed and\n    // activated its `sentry` option.\n    // We also do not want to use the `Breadcrumbs` class here directly, because we do not want it to be included in\n    // bundles, if it is not used by the SDK.\n    // This all sadly is a bit ugly, but we currently don't have a \"pre-send\" hook on the integrations so we do it this\n    // way for now.\n    const breadcrumbIntegration = this.getIntegrationById(BREADCRUMB_INTEGRATION_ID) as Breadcrumbs | undefined;\n    // We check for definedness of `addSentryBreadcrumb` in case users provided their own integration with id\n    // \"Breadcrumbs\" that does not have this function.\n    if (breadcrumbIntegration && breadcrumbIntegration.addSentryBreadcrumb) {\n      breadcrumbIntegration.addSentryBreadcrumb(event);\n    }\n\n    super.sendEvent(event, hint);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  protected _prepareEvent(event: Event, hint: EventHint, scope?: Scope): PromiseLike<Event | null> {\n    event.platform = event.platform || 'javascript';\n    return super._prepareEvent(event, hint, scope);\n  }\n\n  /**\n   * Sends client reports as an envelope.\n   */\n  private _flushOutcomes(): void {\n    const outcomes = this._clearOutcomes();\n\n    if (outcomes.length === 0) {\n      __DEBUG_BUILD__ && logger.log('No outcomes to send');\n      return;\n    }\n\n    if (!this._dsn) {\n      __DEBUG_BUILD__ && logger.log('No dsn provided, will not send outcomes');\n      return;\n    }\n\n    __DEBUG_BUILD__ && logger.log('Sending outcomes:', outcomes);\n\n    const url = getEnvelopeEndpointWithUrlEncodedAuth(this._dsn, this._options);\n    const envelope = createClientReportEnvelope(outcomes, this._options.tunnel && dsnToString(this._dsn));\n\n    try {\n      const isRealNavigator = Object.prototype.toString.call(WINDOW && WINDOW.navigator) === '[object Navigator]';\n      const hasSendBeacon = isRealNavigator && typeof WINDOW.navigator.sendBeacon === 'function';\n      // Make sure beacon is not used if user configures custom transport options\n      if (hasSendBeacon && !this._options.transportOptions) {\n        // Prevent illegal invocations - https://xgwang.me/posts/you-may-not-know-beacon/#it-may-throw-error%2C-be-sure-to-catch\n        const sendBeacon = WINDOW.navigator.sendBeacon.bind(WINDOW.navigator);\n        sendBeacon(url, serializeEnvelope(envelope));\n      } else {\n        // If beacon is not supported or if they are using the tunnel option\n        // use our regular transport to send client reports to Sentry.\n        this._sendEnvelope(envelope);\n      }\n    } catch (e) {\n      __DEBUG_BUILD__ && logger.error(e);\n    }\n  }\n}\n","import type { ClientReport, ClientReportEnvelope, ClientReportItem } from '@sentry/types';\n\nimport { createEnvelope } from './envelope';\nimport { dateTimestampInSeconds } from './time';\n\n/**\n * Creates client report envelope\n * @param discarded_events An array of discard events\n * @param dsn A DSN that can be set on the header. Optional.\n */\nexport function createClientReportEnvelope(\n  discarded_events: ClientReport['discarded_events'],\n  dsn?: string,\n  timestamp?: number,\n): ClientReportEnvelope {\n  const clientReportItem: ClientReportItem = [\n    { type: 'client_report' },\n    {\n      timestamp: timestamp || dateTimestampInSeconds(),\n      discarded_events,\n    },\n  ];\n  return createEnvelope<ClientReportEnvelope>(dsn ? { dsn } : {}, [clientReportItem]);\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\nimport { getCurrentHub } from '@sentry/core';\nimport type { Event, EventHint, Hub, Integration, Primitive, StackParser } from '@sentry/types';\nimport {\n  addExceptionMechanism,\n  addInstrumentationHandler,\n  getLocationHref,\n  isErrorEvent,\n  isPrimitive,\n  isString,\n  logger,\n} from '@sentry/utils';\n\nimport type { BrowserClient } from '../client';\nimport { eventFromUnknownInput } from '../eventbuilder';\nimport { shouldIgnoreOnError } from '../helpers';\n\ntype GlobalHandlersIntegrationsOptionKeys = 'onerror' | 'onunhandledrejection';\n\n/** JSDoc */\ntype GlobalHandlersIntegrations = Record<GlobalHandlersIntegrationsOptionKeys, boolean>;\n\n/** Global handlers */\nexport class GlobalHandlers implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'GlobalHandlers';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = GlobalHandlers.id;\n\n  /** JSDoc */\n  private readonly _options: GlobalHandlersIntegrations;\n\n  /**\n   * Stores references functions to installing handlers. Will set to undefined\n   * after they have been run so that they are not used twice.\n   */\n  private _installFunc: Record<GlobalHandlersIntegrationsOptionKeys, (() => void) | undefined> = {\n    onerror: _installGlobalOnErrorHandler,\n    onunhandledrejection: _installGlobalOnUnhandledRejectionHandler,\n  };\n\n  /** JSDoc */\n  public constructor(options?: GlobalHandlersIntegrations) {\n    this._options = {\n      onerror: true,\n      onunhandledrejection: true,\n      ...options,\n    };\n  }\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    Error.stackTraceLimit = 50;\n    const options = this._options;\n\n    // We can disable guard-for-in as we construct the options object above + do checks against\n    // `this._installFunc` for the property.\n    // eslint-disable-next-line guard-for-in\n    for (const key in options) {\n      const installFunc = this._installFunc[key as GlobalHandlersIntegrationsOptionKeys];\n      if (installFunc && options[key as GlobalHandlersIntegrationsOptionKeys]) {\n        globalHandlerLog(key);\n        installFunc();\n        this._installFunc[key as GlobalHandlersIntegrationsOptionKeys] = undefined;\n      }\n    }\n  }\n}\n\n/** JSDoc */\nfunction _installGlobalOnErrorHandler(): void {\n  addInstrumentationHandler(\n    'error',\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (data: { msg: any; url: any; line: any; column: any; error: any }) => {\n      const [hub, stackParser, attachStacktrace] = getHubAndOptions();\n      if (!hub.getIntegration(GlobalHandlers)) {\n        return;\n      }\n      const { msg, url, line, column, error } = data;\n      if (shouldIgnoreOnError() || (error && error.__sentry_own_request__)) {\n        return;\n      }\n\n      const event =\n        error === undefined && isString(msg)\n          ? _eventFromIncompleteOnError(msg, url, line, column)\n          : _enhanceEventWithInitialFrame(\n              eventFromUnknownInput(stackParser, error || msg, undefined, attachStacktrace, false),\n              url,\n              line,\n              column,\n            );\n\n      event.level = 'error';\n\n      addMechanismAndCapture(hub, error, event, 'onerror');\n    },\n  );\n}\n\n/** JSDoc */\nfunction _installGlobalOnUnhandledRejectionHandler(): void {\n  addInstrumentationHandler(\n    'unhandledrejection',\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (e: any) => {\n      const [hub, stackParser, attachStacktrace] = getHubAndOptions();\n      if (!hub.getIntegration(GlobalHandlers)) {\n        return;\n      }\n      let error = e;\n\n      // dig the object of the rejection out of known event types\n      try {\n        // PromiseRejectionEvents store the object of the rejection under 'reason'\n        // see https://developer.mozilla.org/en-US/docs/Web/API/PromiseRejectionEvent\n        if ('reason' in e) {\n          error = e.reason;\n        }\n        // something, somewhere, (likely a browser extension) effectively casts PromiseRejectionEvents\n        // to CustomEvents, moving the `promise` and `reason` attributes of the PRE into\n        // the CustomEvent's `detail` attribute, since they're not part of CustomEvent's spec\n        // see https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent and\n        // https://github.com/getsentry/sentry-javascript/issues/2380\n        else if ('detail' in e && 'reason' in e.detail) {\n          error = e.detail.reason;\n        }\n      } catch (_oO) {\n        // no-empty\n      }\n\n      if (shouldIgnoreOnError() || (error && error.__sentry_own_request__)) {\n        return true;\n      }\n\n      const event = isPrimitive(error)\n        ? _eventFromRejectionWithPrimitive(error)\n        : eventFromUnknownInput(stackParser, error, undefined, attachStacktrace, true);\n\n      event.level = 'error';\n\n      addMechanismAndCapture(hub, error, event, 'onunhandledrejection');\n      return;\n    },\n  );\n}\n\n/**\n * Create an event from a promise rejection where the `reason` is a primitive.\n *\n * @param reason: The `reason` property of the promise rejection\n * @returns An Event object with an appropriate `exception` value\n */\nfunction _eventFromRejectionWithPrimitive(reason: Primitive): Event {\n  return {\n    exception: {\n      values: [\n        {\n          type: 'UnhandledRejection',\n          // String() is needed because the Primitive type includes symbols (which can't be automatically stringified)\n          value: `Non-Error promise rejection captured with value: ${String(reason)}`,\n        },\n      ],\n    },\n  };\n}\n\n/**\n * This function creates a stack from an old, error-less onerror handler.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _eventFromIncompleteOnError(msg: any, url: any, line: any, column: any): Event {\n  const ERROR_TYPES_RE =\n    /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;\n\n  // If 'message' is ErrorEvent, get real message from inside\n  let message = isErrorEvent(msg) ? msg.message : msg;\n  let name = 'Error';\n\n  const groups = message.match(ERROR_TYPES_RE);\n  if (groups) {\n    name = groups[1];\n    message = groups[2];\n  }\n\n  const event = {\n    exception: {\n      values: [\n        {\n          type: name,\n          value: message,\n        },\n      ],\n    },\n  };\n\n  return _enhanceEventWithInitialFrame(event, url, line, column);\n}\n\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _enhanceEventWithInitialFrame(event: Event, url: any, line: any, column: any): Event {\n  // event.exception\n  const e = (event.exception = event.exception || {});\n  // event.exception.values\n  const ev = (e.values = e.values || []);\n  // event.exception.values[0]\n  const ev0 = (ev[0] = ev[0] || {});\n  // event.exception.values[0].stacktrace\n  const ev0s = (ev0.stacktrace = ev0.stacktrace || {});\n  // event.exception.values[0].stacktrace.frames\n  const ev0sf = (ev0s.frames = ev0s.frames || []);\n\n  const colno = isNaN(parseInt(column, 10)) ? undefined : column;\n  const lineno = isNaN(parseInt(line, 10)) ? undefined : line;\n  const filename = isString(url) && url.length > 0 ? url : getLocationHref();\n\n  // event.exception.values[0].stacktrace.frames\n  if (ev0sf.length === 0) {\n    ev0sf.push({\n      colno,\n      filename,\n      function: '?',\n      in_app: true,\n      lineno,\n    });\n  }\n\n  return event;\n}\n\nfunction globalHandlerLog(type: string): void {\n  __DEBUG_BUILD__ && logger.log(`Global Handler attached: ${type}`);\n}\n\nfunction addMechanismAndCapture(hub: Hub, error: EventHint['originalException'], event: Event, type: string): void {\n  addExceptionMechanism(event, {\n    handled: false,\n    type,\n  });\n  hub.captureEvent(event, {\n    originalException: error,\n  });\n}\n\nfunction getHubAndOptions(): [Hub, StackParser, boolean | undefined] {\n  const hub = getCurrentHub();\n  const client = hub.getClient<BrowserClient>();\n  const options = (client && client.getOptions()) || {\n    stackParser: () => [],\n    attachStacktrace: false,\n  };\n  return [hub, options.stackParser, options.attachStacktrace];\n}\n","import type { Integration, WrappedFunction } from '@sentry/types';\nimport { fill, getFunctionName, getOriginalFunction } from '@sentry/utils';\n\nimport { WINDOW, wrap } from '../helpers';\n\nconst DEFAULT_EVENT_TARGET = [\n  'EventTarget',\n  'Window',\n  'Node',\n  'ApplicationCache',\n  'AudioTrackList',\n  'ChannelMergerNode',\n  'CryptoOperation',\n  'EventSource',\n  'FileReader',\n  'HTMLUnknownElement',\n  'IDBDatabase',\n  'IDBRequest',\n  'IDBTransaction',\n  'KeyOperation',\n  'MediaController',\n  'MessagePort',\n  'ModalWindow',\n  'Notification',\n  'SVGElementInstance',\n  'Screen',\n  'TextTrack',\n  'TextTrackCue',\n  'TextTrackList',\n  'WebSocket',\n  'WebSocketWorker',\n  'Worker',\n  'XMLHttpRequest',\n  'XMLHttpRequestEventTarget',\n  'XMLHttpRequestUpload',\n];\n\ntype XMLHttpRequestProp = 'onload' | 'onerror' | 'onprogress' | 'onreadystatechange';\n\n/** JSDoc */\ninterface TryCatchOptions {\n  setTimeout: boolean;\n  setInterval: boolean;\n  requestAnimationFrame: boolean;\n  XMLHttpRequest: boolean;\n  eventTarget: boolean | string[];\n}\n\n/** Wrap timer functions and event targets to catch errors and provide better meta data */\nexport class TryCatch implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'TryCatch';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = TryCatch.id;\n\n  /** JSDoc */\n  private readonly _options: TryCatchOptions;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options?: Partial<TryCatchOptions>) {\n    this._options = {\n      XMLHttpRequest: true,\n      eventTarget: true,\n      requestAnimationFrame: true,\n      setInterval: true,\n      setTimeout: true,\n      ...options,\n    };\n  }\n\n  /**\n   * Wrap timer functions and event targets to catch errors\n   * and provide better metadata.\n   */\n  public setupOnce(): void {\n    if (this._options.setTimeout) {\n      fill(WINDOW, 'setTimeout', _wrapTimeFunction);\n    }\n\n    if (this._options.setInterval) {\n      fill(WINDOW, 'setInterval', _wrapTimeFunction);\n    }\n\n    if (this._options.requestAnimationFrame) {\n      fill(WINDOW, 'requestAnimationFrame', _wrapRAF);\n    }\n\n    if (this._options.XMLHttpRequest && 'XMLHttpRequest' in WINDOW) {\n      fill(XMLHttpRequest.prototype, 'send', _wrapXHR);\n    }\n\n    const eventTargetOption = this._options.eventTarget;\n    if (eventTargetOption) {\n      const eventTarget = Array.isArray(eventTargetOption) ? eventTargetOption : DEFAULT_EVENT_TARGET;\n      eventTarget.forEach(_wrapEventTarget);\n    }\n  }\n}\n\n/** JSDoc */\nfunction _wrapTimeFunction(original: () => void): () => number {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function (this: any, ...args: any[]): number {\n    const originalCallback = args[0];\n    args[0] = wrap(originalCallback, {\n      mechanism: {\n        data: { function: getFunctionName(original) },\n        handled: true,\n        type: 'instrument',\n      },\n    });\n    return original.apply(this, args);\n  };\n}\n\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _wrapRAF(original: any): (callback: () => void) => any {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function (this: any, callback: () => void): () => void {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return original.apply(this, [\n      wrap(callback, {\n        mechanism: {\n          data: {\n            function: 'requestAnimationFrame',\n            handler: getFunctionName(original),\n          },\n          handled: true,\n          type: 'instrument',\n        },\n      }),\n    ]);\n  };\n}\n\n/** JSDoc */\nfunction _wrapXHR(originalSend: () => void): () => void {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function (this: XMLHttpRequest, ...args: any[]): void {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const xhr = this;\n    const xmlHttpRequestProps: XMLHttpRequestProp[] = ['onload', 'onerror', 'onprogress', 'onreadystatechange'];\n\n    xmlHttpRequestProps.forEach(prop => {\n      if (prop in xhr && typeof xhr[prop] === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        fill(xhr, prop, function (original: WrappedFunction): () => any {\n          const wrapOptions = {\n            mechanism: {\n              data: {\n                function: prop,\n                handler: getFunctionName(original),\n              },\n              handled: true,\n              type: 'instrument',\n            },\n          };\n\n          // If Instrument integration has been called before TryCatch, get the name of original function\n          const originalFunction = getOriginalFunction(original);\n          if (originalFunction) {\n            wrapOptions.mechanism.data.handler = getFunctionName(originalFunction);\n          }\n\n          // Otherwise wrap directly\n          return wrap(original, wrapOptions);\n        });\n      }\n    });\n\n    return originalSend.apply(this, args);\n  };\n}\n\n/** JSDoc */\nfunction _wrapEventTarget(target: string): void {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const globalObject = WINDOW as { [key: string]: any };\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  const proto = globalObject[target] && globalObject[target].prototype;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, no-prototype-builtins\n  if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n    return;\n  }\n\n  fill(proto, 'addEventListener', function (original: () => void): (\n    eventName: string,\n    fn: EventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n  ) => void {\n    return function (\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this: any,\n      eventName: string,\n      fn: EventListenerObject,\n      options?: boolean | AddEventListenerOptions,\n    ): (eventName: string, fn: EventListenerObject, capture?: boolean, secure?: boolean) => void {\n      try {\n        if (typeof fn.handleEvent === 'function') {\n          // ESlint disable explanation:\n          //  First, it is generally safe to call `wrap` with an unbound function. Furthermore, using `.bind()` would\n          //  introduce a bug here, because bind returns a new function that doesn't have our\n          //  flags(like __sentry_original__) attached. `wrap` checks for those flags to avoid unnecessary wrapping.\n          //  Without those flags, every call to addEventListener wraps the function again, causing a memory leak.\n          // eslint-disable-next-line @typescript-eslint/unbound-method\n          fn.handleEvent = wrap(fn.handleEvent, {\n            mechanism: {\n              data: {\n                function: 'handleEvent',\n                handler: getFunctionName(fn),\n                target,\n              },\n              handled: true,\n              type: 'instrument',\n            },\n          });\n        }\n      } catch (err) {\n        // can sometimes get 'Permission denied to access property \"handle Event'\n      }\n\n      return original.apply(this, [\n        eventName,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        wrap(fn as any as WrappedFunction, {\n          mechanism: {\n            data: {\n              function: 'addEventListener',\n              handler: getFunctionName(fn),\n              target,\n            },\n            handled: true,\n            type: 'instrument',\n          },\n        }),\n        options,\n      ]);\n    };\n  });\n\n  fill(\n    proto,\n    'removeEventListener',\n    function (\n      originalRemoveEventListener: () => void,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ): (this: any, eventName: string, fn: EventListenerObject, options?: boolean | EventListenerOptions) => () => void {\n      return function (\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this: any,\n        eventName: string,\n        fn: EventListenerObject,\n        options?: boolean | EventListenerOptions,\n      ): () => void {\n        /**\n         * There are 2 possible scenarios here:\n         *\n         * 1. Someone passes a callback, which was attached prior to Sentry initialization, or by using unmodified\n         * method, eg. `document.addEventListener.call(el, name, handler). In this case, we treat this function\n         * as a pass-through, and call original `removeEventListener` with it.\n         *\n         * 2. Someone passes a callback, which was attached after Sentry was initialized, which means that it was using\n         * our wrapped version of `addEventListener`, which internally calls `wrap` helper.\n         * This helper \"wraps\" whole callback inside a try/catch statement, and attached appropriate metadata to it,\n         * in order for us to make a distinction between wrapped/non-wrapped functions possible.\n         * If a function was wrapped, it has additional property of `__sentry_wrapped__`, holding the handler.\n         *\n         * When someone adds a handler prior to initialization, and then do it again, but after,\n         * then we have to detach both of them. Otherwise, if we'd detach only wrapped one, it'd be impossible\n         * to get rid of the initial handler and it'd stick there forever.\n         */\n        const wrappedEventHandler = fn as unknown as WrappedFunction;\n        try {\n          const originalEventHandler = wrappedEventHandler && wrappedEventHandler.__sentry_wrapped__;\n          if (originalEventHandler) {\n            originalRemoveEventListener.call(this, eventName, originalEventHandler, options);\n          }\n        } catch (e) {\n          // ignore, accessing __sentry_wrapped__ will throw in some Selenium environments\n        }\n        return originalRemoveEventListener.call(this, eventName, wrappedEventHandler, options);\n      };\n    },\n  );\n}\n","import { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport type { Event, EventHint, Exception, ExtendedError, Integration, StackParser } from '@sentry/types';\nimport { isInstanceOf } from '@sentry/utils';\n\nimport type { BrowserClient } from '../client';\nimport { exceptionFromError } from '../eventbuilder';\n\nconst DEFAULT_KEY = 'cause';\nconst DEFAULT_LIMIT = 5;\n\ninterface LinkedErrorsOptions {\n  key: string;\n  limit: number;\n}\n\n/** Adds SDK info to an event. */\nexport class LinkedErrors implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'LinkedErrors';\n\n  /**\n   * @inheritDoc\n   */\n  public readonly name: string = LinkedErrors.id;\n\n  /**\n   * @inheritDoc\n   */\n  private readonly _key: LinkedErrorsOptions['key'];\n\n  /**\n   * @inheritDoc\n   */\n  private readonly _limit: LinkedErrorsOptions['limit'];\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options: Partial<LinkedErrorsOptions> = {}) {\n    this._key = options.key || DEFAULT_KEY;\n    this._limit = options.limit || DEFAULT_LIMIT;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    const client = getCurrentHub().getClient<BrowserClient>();\n    if (!client) {\n      return;\n    }\n    addGlobalEventProcessor((event: Event, hint?: EventHint) => {\n      const self = getCurrentHub().getIntegration(LinkedErrors);\n      return self ? _handler(client.getOptions().stackParser, self._key, self._limit, event, hint) : event;\n    });\n  }\n}\n\n/**\n * @inheritDoc\n */\nexport function _handler(\n  parser: StackParser,\n  key: string,\n  limit: number,\n  event: Event,\n  hint?: EventHint,\n): Event | null {\n  if (!event.exception || !event.exception.values || !hint || !isInstanceOf(hint.originalException, Error)) {\n    return event;\n  }\n  const linkedErrors = _walkErrorTree(parser, limit, hint.originalException as ExtendedError, key);\n  event.exception.values = [...linkedErrors, ...event.exception.values];\n  return event;\n}\n\n/**\n * JSDOC\n */\nexport function _walkErrorTree(\n  parser: StackParser,\n  limit: number,\n  error: ExtendedError,\n  key: string,\n  stack: Exception[] = [],\n): Exception[] {\n  if (!isInstanceOf(error[key], Error) || stack.length + 1 >= limit) {\n    return stack;\n  }\n  const exception = exceptionFromError(parser, error[key]);\n  return _walkErrorTree(parser, limit, error[key], key, [exception, ...stack]);\n}\n","import { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport type { Event, Integration } from '@sentry/types';\n\nimport { WINDOW } from '../helpers';\n\n/** HttpContext integration collects information about HTTP request headers */\nexport class HttpContext implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'HttpContext';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = HttpContext.id;\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    addGlobalEventProcessor((event: Event) => {\n      if (getCurrentHub().getIntegration(HttpContext)) {\n        // if none of the information we want exists, don't bother\n        if (!WINDOW.navigator && !WINDOW.location && !WINDOW.document) {\n          return event;\n        }\n\n        // grab as much info as exists and add it to the event\n        const url = (event.request && event.request.url) || (WINDOW.location && WINDOW.location.href);\n        const { referrer } = WINDOW.document || {};\n        const { userAgent } = WINDOW.navigator || {};\n\n        const headers = {\n          ...(event.request && event.request.headers),\n          ...(referrer && { Referer: referrer }),\n          ...(userAgent && { 'User-Agent': userAgent }),\n        };\n        const request = { ...event.request, ...(url && { url }), headers };\n\n        return { ...event, request };\n      }\n      return event;\n    });\n  }\n}\n","import type { Event, EventProcessor, Exception, Hub, Integration, StackFrame } from '@sentry/types';\nimport { logger } from '@sentry/utils';\n\n/** Deduplication filter */\nexport class Dedupe implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Dedupe';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = Dedupe.id;\n\n  /**\n   * @inheritDoc\n   */\n  private _previousEvent?: Event;\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    const eventProcessor: EventProcessor = currentEvent => {\n      const self = getCurrentHub().getIntegration(Dedupe);\n      if (self) {\n        // Juuust in case something goes wrong\n        try {\n          if (_shouldDropEvent(currentEvent, self._previousEvent)) {\n            __DEBUG_BUILD__ && logger.warn('Event dropped due to being a duplicate of previously captured event.');\n            return null;\n          }\n        } catch (_oO) {\n          return (self._previousEvent = currentEvent);\n        }\n\n        return (self._previousEvent = currentEvent);\n      }\n      return currentEvent;\n    };\n\n    eventProcessor.id = this.name;\n    addGlobalEventProcessor(eventProcessor);\n  }\n}\n\n/** JSDoc */\nfunction _shouldDropEvent(currentEvent: Event, previousEvent?: Event): boolean {\n  if (!previousEvent) {\n    return false;\n  }\n\n  if (_isSameMessageEvent(currentEvent, previousEvent)) {\n    return true;\n  }\n\n  if (_isSameExceptionEvent(currentEvent, previousEvent)) {\n    return true;\n  }\n\n  return false;\n}\n\n/** JSDoc */\nfunction _isSameMessageEvent(currentEvent: Event, previousEvent: Event): boolean {\n  const currentMessage = currentEvent.message;\n  const previousMessage = previousEvent.message;\n\n  // If neither event has a message property, they were both exceptions, so bail out\n  if (!currentMessage && !previousMessage) {\n    return false;\n  }\n\n  // If only one event has a stacktrace, but not the other one, they are not the same\n  if ((currentMessage && !previousMessage) || (!currentMessage && previousMessage)) {\n    return false;\n  }\n\n  if (currentMessage !== previousMessage) {\n    return false;\n  }\n\n  if (!_isSameFingerprint(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  if (!_isSameStacktrace(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  return true;\n}\n\n/** JSDoc */\nfunction _isSameExceptionEvent(currentEvent: Event, previousEvent: Event): boolean {\n  const previousException = _getExceptionFromEvent(previousEvent);\n  const currentException = _getExceptionFromEvent(currentEvent);\n\n  if (!previousException || !currentException) {\n    return false;\n  }\n\n  if (previousException.type !== currentException.type || previousException.value !== currentException.value) {\n    return false;\n  }\n\n  if (!_isSameFingerprint(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  if (!_isSameStacktrace(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  return true;\n}\n\n/** JSDoc */\nfunction _isSameStacktrace(currentEvent: Event, previousEvent: Event): boolean {\n  let currentFrames = _getFramesFromEvent(currentEvent);\n  let previousFrames = _getFramesFromEvent(previousEvent);\n\n  // If neither event has a stacktrace, they are assumed to be the same\n  if (!currentFrames && !previousFrames) {\n    return true;\n  }\n\n  // If only one event has a stacktrace, but not the other one, they are not the same\n  if ((currentFrames && !previousFrames) || (!currentFrames && previousFrames)) {\n    return false;\n  }\n\n  currentFrames = currentFrames as StackFrame[];\n  previousFrames = previousFrames as StackFrame[];\n\n  // If number of frames differ, they are not the same\n  if (previousFrames.length !== currentFrames.length) {\n    return false;\n  }\n\n  // Otherwise, compare the two\n  for (let i = 0; i < previousFrames.length; i++) {\n    const frameA = previousFrames[i];\n    const frameB = currentFrames[i];\n\n    if (\n      frameA.filename !== frameB.filename ||\n      frameA.lineno !== frameB.lineno ||\n      frameA.colno !== frameB.colno ||\n      frameA.function !== frameB.function\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/** JSDoc */\nfunction _isSameFingerprint(currentEvent: Event, previousEvent: Event): boolean {\n  let currentFingerprint = currentEvent.fingerprint;\n  let previousFingerprint = previousEvent.fingerprint;\n\n  // If neither event has a fingerprint, they are assumed to be the same\n  if (!currentFingerprint && !previousFingerprint) {\n    return true;\n  }\n\n  // If only one event has a fingerprint, but not the other one, they are not the same\n  if ((currentFingerprint && !previousFingerprint) || (!currentFingerprint && previousFingerprint)) {\n    return false;\n  }\n\n  currentFingerprint = currentFingerprint as string[];\n  previousFingerprint = previousFingerprint as string[];\n\n  // Otherwise, compare the two\n  try {\n    return !!(currentFingerprint.join('') === previousFingerprint.join(''));\n  } catch (_oO) {\n    return false;\n  }\n}\n\n/** JSDoc */\nfunction _getExceptionFromEvent(event: Event): Exception | undefined {\n  return event.exception && event.exception.values && event.exception.values[0];\n}\n\n/** JSDoc */\nfunction _getFramesFromEvent(event: Event): StackFrame[] | undefined {\n  const exception = event.exception;\n\n  if (exception) {\n    try {\n      // @ts-ignore Object could be undefined\n      return exception.values[0].stacktrace.frames;\n    } catch (_oO) {\n      return undefined;\n    }\n  }\n  return undefined;\n}\n","import type { StackFrame, StackLineParser, StackLineParserFn } from '@sentry/types';\nimport { createStackParser } from '@sentry/utils';\n\n// global reference to slice\nconst UNKNOWN_FUNCTION = '?';\n\nconst OPERA10_PRIORITY = 10;\nconst OPERA11_PRIORITY = 20;\nconst CHROME_PRIORITY = 30;\nconst WINJS_PRIORITY = 40;\nconst GECKO_PRIORITY = 50;\n\nfunction createFrame(filename: string, func: string, lineno?: number, colno?: number): StackFrame {\n  const frame: StackFrame = {\n    filename,\n    function: func,\n    // All browser frames are considered in_app\n    in_app: true,\n  };\n\n  if (lineno !== undefined) {\n    frame.lineno = lineno;\n  }\n\n  if (colno !== undefined) {\n    frame.colno = colno;\n  }\n\n  return frame;\n}\n\n// Chromium based browsers: Chrome, Brave, new Opera, new Edge\nconst chromeRegex =\n  /^\\s*at (?:(.*\\).*?|.*?) ?\\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nconst chromeEvalRegex = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n\nconst chrome: StackLineParserFn = line => {\n  const parts = chromeRegex.exec(line);\n\n  if (parts) {\n    const isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n\n    if (isEval) {\n      const subMatch = chromeEvalRegex.exec(parts[2]);\n\n      if (subMatch) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = subMatch[1]; // url\n        parts[3] = subMatch[2]; // line\n        parts[4] = subMatch[3]; // column\n      }\n    }\n\n    // Kamil: One more hack won't hurt us right? Understanding and adding more rules on top of these regexps right now\n    // would be way too time consuming. (TODO: Rewrite whole RegExp to be more readable)\n    const [func, filename] = extractSafariExtensionDetails(parts[1] || UNKNOWN_FUNCTION, parts[2]);\n\n    return createFrame(filename, func, parts[3] ? +parts[3] : undefined, parts[4] ? +parts[4] : undefined);\n  }\n\n  return;\n};\n\nexport const chromeStackLineParser: StackLineParser = [CHROME_PRIORITY, chrome];\n\n// gecko regex: `(?:bundle|\\d+\\.js)`: `bundle` is for react native, `\\d+\\.js` also but specifically for ram bundles because it\n// generates filenames without a prefix like `file://` the filenames in the stacktrace are just 42.js\n// We need this specific case for now because we want no other regex to match.\nconst geckoREgex =\n  /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nconst geckoEvalRegex = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\n\nconst gecko: StackLineParserFn = line => {\n  const parts = geckoREgex.exec(line);\n\n  if (parts) {\n    const isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n    if (isEval) {\n      const subMatch = geckoEvalRegex.exec(parts[3]);\n\n      if (subMatch) {\n        // throw out eval line/column and use top-most line number\n        parts[1] = parts[1] || 'eval';\n        parts[3] = subMatch[1];\n        parts[4] = subMatch[2];\n        parts[5] = ''; // no column when eval\n      }\n    }\n\n    let filename = parts[3];\n    let func = parts[1] || UNKNOWN_FUNCTION;\n    [func, filename] = extractSafariExtensionDetails(func, filename);\n\n    return createFrame(filename, func, parts[4] ? +parts[4] : undefined, parts[5] ? +parts[5] : undefined);\n  }\n\n  return;\n};\n\nexport const geckoStackLineParser: StackLineParser = [GECKO_PRIORITY, gecko];\n\nconst winjsRegex =\n  /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nconst winjs: StackLineParserFn = line => {\n  const parts = winjsRegex.exec(line);\n\n  return parts\n    ? createFrame(parts[2], parts[1] || UNKNOWN_FUNCTION, +parts[3], parts[4] ? +parts[4] : undefined)\n    : undefined;\n};\n\nexport const winjsStackLineParser: StackLineParser = [WINJS_PRIORITY, winjs];\n\nconst opera10Regex = / line (\\d+).*script (?:in )?(\\S+)(?:: in function (\\S+))?$/i;\n\nconst opera10: StackLineParserFn = line => {\n  const parts = opera10Regex.exec(line);\n  return parts ? createFrame(parts[2], parts[3] || UNKNOWN_FUNCTION, +parts[1]) : undefined;\n};\n\nexport const opera10StackLineParser: StackLineParser = [OPERA10_PRIORITY, opera10];\n\nconst opera11Regex =\n  / line (\\d+), column (\\d+)\\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\\(.*\\))? in (.*):\\s*$/i;\n\nconst opera11: StackLineParserFn = line => {\n  const parts = opera11Regex.exec(line);\n  return parts ? createFrame(parts[5], parts[3] || parts[4] || UNKNOWN_FUNCTION, +parts[1], +parts[2]) : undefined;\n};\n\nexport const opera11StackLineParser: StackLineParser = [OPERA11_PRIORITY, opera11];\n\nexport const defaultStackLineParsers = [chromeStackLineParser, geckoStackLineParser, winjsStackLineParser];\n\nexport const defaultStackParser = createStackParser(...defaultStackLineParsers);\n\n/**\n * Safari web extensions, starting version unknown, can produce \"frames-only\" stacktraces.\n * What it means, is that instead of format like:\n *\n * Error: wat\n *   at function@url:row:col\n *   at function@url:row:col\n *   at function@url:row:col\n *\n * it produces something like:\n *\n *   function@url:row:col\n *   function@url:row:col\n *   function@url:row:col\n *\n * Because of that, it won't be captured by `chrome` RegExp and will fall into `Gecko` branch.\n * This function is extracted so that we can use it in both places without duplicating the logic.\n * Unfortunately \"just\" changing RegExp is too complicated now and making it pass all tests\n * and fix this case seems like an impossible, or at least way too time-consuming task.\n */\nconst extractSafariExtensionDetails = (func: string, filename: string): [string, string] => {\n  const isSafariExtension = func.indexOf('safari-extension') !== -1;\n  const isSafariWebExtension = func.indexOf('safari-web-extension') !== -1;\n\n  return isSafariExtension || isSafariWebExtension\n    ? [\n        func.indexOf('@') !== -1 ? func.split('@')[0] : UNKNOWN_FUNCTION,\n        isSafariExtension ? `safari-extension:${filename}` : `safari-web-extension:${filename}`,\n      ]\n    : [func, filename];\n};\n","import { SentryError } from './error';\nimport { rejectedSyncPromise, resolvedSyncPromise, SyncPromise } from './syncpromise';\n\nexport interface PromiseBuffer<T> {\n  // exposes the internal array so tests can assert on the state of it.\n  // XXX: this really should not be public api.\n  $: Array<PromiseLike<T>>;\n  add(taskProducer: () => PromiseLike<T>): PromiseLike<T>;\n  drain(timeout?: number): PromiseLike<boolean>;\n}\n\n/**\n * Creates an new PromiseBuffer object with the specified limit\n * @param limit max number of promises that can be stored in the buffer\n */\nexport function makePromiseBuffer<T>(limit?: number): PromiseBuffer<T> {\n  const buffer: Array<PromiseLike<T>> = [];\n\n  function isReady(): boolean {\n    return limit === undefined || buffer.length < limit;\n  }\n\n  /**\n   * Remove a promise from the queue.\n   *\n   * @param task Can be any PromiseLike<T>\n   * @returns Removed promise.\n   */\n  function remove(task: PromiseLike<T>): PromiseLike<T> {\n    return buffer.splice(buffer.indexOf(task), 1)[0];\n  }\n\n  /**\n   * Add a promise (representing an in-flight action) to the queue, and set it to remove itself on fulfillment.\n   *\n   * @param taskProducer A function producing any PromiseLike<T>; In previous versions this used to be `task:\n   *        PromiseLike<T>`, but under that model, Promises were instantly created on the call-site and their executor\n   *        functions therefore ran immediately. Thus, even if the buffer was full, the action still happened. By\n   *        requiring the promise to be wrapped in a function, we can defer promise creation until after the buffer\n   *        limit check.\n   * @returns The original promise.\n   */\n  function add(taskProducer: () => PromiseLike<T>): PromiseLike<T> {\n    if (!isReady()) {\n      return rejectedSyncPromise(new SentryError('Not adding Promise because buffer limit was reached.'));\n    }\n\n    // start the task and add its promise to the queue\n    const task = taskProducer();\n    if (buffer.indexOf(task) === -1) {\n      buffer.push(task);\n    }\n    void task\n      .then(() => remove(task))\n      // Use `then(null, rejectionHandler)` rather than `catch(rejectionHandler)` so that we can use `PromiseLike`\n      // rather than `Promise`. `PromiseLike` doesn't have a `.catch` method, making its polyfill smaller. (ES5 didn't\n      // have promises, so TS has to polyfill when down-compiling.)\n      .then(null, () =>\n        remove(task).then(null, () => {\n          // We have to add another catch here because `remove()` starts a new promise chain.\n        }),\n      );\n    return task;\n  }\n\n  /**\n   * Wait for all promises in the queue to resolve or for timeout to expire, whichever comes first.\n   *\n   * @param timeout The time, in ms, after which to resolve to `false` if the queue is still non-empty. Passing `0` (or\n   * not passing anything) will make the promise wait as long as it takes for the queue to drain before resolving to\n   * `true`.\n   * @returns A promise which will resolve to `true` if the queue is already empty or drains before the timeout, and\n   * `false` otherwise\n   */\n  function drain(timeout?: number): PromiseLike<boolean> {\n    return new SyncPromise<boolean>((resolve, reject) => {\n      let counter = buffer.length;\n\n      if (!counter) {\n        return resolve(true);\n      }\n\n      // wait for `timeout` ms and then resolve to `false` (if not cancelled first)\n      const capturedSetTimeout = setTimeout(() => {\n        if (timeout && timeout > 0) {\n          resolve(false);\n        }\n      }, timeout);\n\n      // if all promises resolve in time, cancel the timer and resolve to `true`\n      buffer.forEach(item => {\n        void resolvedSyncPromise(item).then(() => {\n          if (!--counter) {\n            clearTimeout(capturedSetTimeout);\n            resolve(true);\n          }\n        }, reject);\n      });\n    });\n  }\n\n  return {\n    $: buffer,\n    add,\n    drain,\n  };\n}\n","import type { TransportMakeRequestResponse } from '@sentry/types';\n\n// Intentionally keeping the key broad, as we don't know for sure what rate limit headers get returned from backend\nexport type RateLimits = Record<string, number>;\n\nexport const DEFAULT_RETRY_AFTER = 60 * 1000; // 60 seconds\n\n/**\n * Extracts Retry-After value from the request header or returns default value\n * @param header string representation of 'Retry-After' header\n * @param now current unix timestamp\n *\n */\nexport function parseRetryAfterHeader(header: string, now: number = Date.now()): number {\n  const headerDelay = parseInt(`${header}`, 10);\n  if (!isNaN(headerDelay)) {\n    return headerDelay * 1000;\n  }\n\n  const headerDate = Date.parse(`${header}`);\n  if (!isNaN(headerDate)) {\n    return headerDate - now;\n  }\n\n  return DEFAULT_RETRY_AFTER;\n}\n\n/**\n * Gets the time that the given category is disabled until for rate limiting.\n * In case no category-specific limit is set but a general rate limit across all categories is active,\n * that time is returned.\n *\n * @return the time in ms that the category is disabled until or 0 if there's no active rate limit.\n */\nexport function disabledUntil(limits: RateLimits, category: string): number {\n  return limits[category] || limits.all || 0;\n}\n\n/**\n * Checks if a category is rate limited\n */\nexport function isRateLimited(limits: RateLimits, category: string, now: number = Date.now()): boolean {\n  return disabledUntil(limits, category) > now;\n}\n\n/**\n * Update ratelimits from incoming headers.\n *\n * @return the updated RateLimits object.\n */\nexport function updateRateLimits(\n  limits: RateLimits,\n  { statusCode, headers }: TransportMakeRequestResponse,\n  now: number = Date.now(),\n): RateLimits {\n  const updatedRateLimits: RateLimits = {\n    ...limits,\n  };\n\n  // \"The name is case-insensitive.\"\n  // https://developer.mozilla.org/en-US/docs/Web/API/Headers/get\n  const rateLimitHeader = headers && headers['x-sentry-rate-limits'];\n  const retryAfterHeader = headers && headers['retry-after'];\n\n  if (rateLimitHeader) {\n    /**\n     * rate limit headers are of the form\n     *     <header>,<header>,..\n     * where each <header> is of the form\n     *     <retry_after>: <categories>: <scope>: <reason_code>\n     * where\n     *     <retry_after> is a delay in seconds\n     *     <categories> is the event type(s) (error, transaction, etc) being rate limited and is of the form\n     *         <category>;<category>;...\n     *     <scope> is what's being limited (org, project, or key) - ignored by SDK\n     *     <reason_code> is an arbitrary string like \"org_quota\" - ignored by SDK\n     */\n    for (const limit of rateLimitHeader.trim().split(',')) {\n      const [retryAfter, categories] = limit.split(':', 2);\n      const headerDelay = parseInt(retryAfter, 10);\n      const delay = (!isNaN(headerDelay) ? headerDelay : 60) * 1000; // 60sec default\n      if (!categories) {\n        updatedRateLimits.all = now + delay;\n      } else {\n        for (const category of categories.split(';')) {\n          updatedRateLimits[category] = now + delay;\n        }\n      }\n    }\n  } else if (retryAfterHeader) {\n    updatedRateLimits.all = now + parseRetryAfterHeader(retryAfterHeader, now);\n  } else if (statusCode === 429) {\n    updatedRateLimits.all = now + 60 * 1000;\n  }\n\n  return updatedRateLimits;\n}\n","import type {\n  Envelope,\n  EnvelopeItem,\n  EnvelopeItemType,\n  Event,\n  EventDropReason,\n  EventItem,\n  InternalBaseTransportOptions,\n  Transport,\n  TransportMakeRequestResponse,\n  TransportRequestExecutor,\n} from '@sentry/types';\nimport type { PromiseBuffer, RateLimits } from '@sentry/utils';\nimport {\n  createEnvelope,\n  envelopeItemTypeToDataCategory,\n  forEachEnvelopeItem,\n  isRateLimited,\n  logger,\n  makePromiseBuffer,\n  resolvedSyncPromise,\n  SentryError,\n  serializeEnvelope,\n  updateRateLimits,\n} from '@sentry/utils';\n\nexport const DEFAULT_TRANSPORT_BUFFER_SIZE = 30;\n\n/**\n * Creates an instance of a Sentry `Transport`\n *\n * @param options\n * @param makeRequest\n */\nexport function createTransport(\n  options: InternalBaseTransportOptions,\n  makeRequest: TransportRequestExecutor,\n  buffer: PromiseBuffer<void | TransportMakeRequestResponse> = makePromiseBuffer(\n    options.bufferSize || DEFAULT_TRANSPORT_BUFFER_SIZE,\n  ),\n): Transport {\n  let rateLimits: RateLimits = {};\n\n  const flush = (timeout?: number): PromiseLike<boolean> => buffer.drain(timeout);\n\n  function send(envelope: Envelope): PromiseLike<void | TransportMakeRequestResponse> {\n    const filteredEnvelopeItems: EnvelopeItem[] = [];\n\n    // Drop rate limited items from envelope\n    forEachEnvelopeItem(envelope, (item, type) => {\n      const envelopeItemDataCategory = envelopeItemTypeToDataCategory(type);\n      if (isRateLimited(rateLimits, envelopeItemDataCategory)) {\n        const event: Event | undefined = getEventForEnvelopeItem(item, type);\n        options.recordDroppedEvent('ratelimit_backoff', envelopeItemDataCategory, event);\n      } else {\n        filteredEnvelopeItems.push(item);\n      }\n    });\n\n    // Skip sending if envelope is empty after filtering out rate limited events\n    if (filteredEnvelopeItems.length === 0) {\n      return resolvedSyncPromise();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const filteredEnvelope: Envelope = createEnvelope(envelope[0], filteredEnvelopeItems as any);\n\n    // Creates client report for each item in an envelope\n    const recordEnvelopeLoss = (reason: EventDropReason): void => {\n      forEachEnvelopeItem(filteredEnvelope, (item, type) => {\n        const event: Event | undefined = getEventForEnvelopeItem(item, type);\n        options.recordDroppedEvent(reason, envelopeItemTypeToDataCategory(type), event);\n      });\n    };\n\n    const requestTask = (): PromiseLike<void | TransportMakeRequestResponse> =>\n      makeRequest({ body: serializeEnvelope(filteredEnvelope, options.textEncoder) }).then(\n        response => {\n          // We don't want to throw on NOK responses, but we want to at least log them\n          if (response.statusCode !== undefined && (response.statusCode < 200 || response.statusCode >= 300)) {\n            __DEBUG_BUILD__ && logger.warn(`Sentry responded with status code ${response.statusCode} to sent event.`);\n          }\n\n          rateLimits = updateRateLimits(rateLimits, response);\n          return response;\n        },\n        error => {\n          recordEnvelopeLoss('network_error');\n          throw error;\n        },\n      );\n\n    return buffer.add(requestTask).then(\n      result => result,\n      error => {\n        if (error instanceof SentryError) {\n          __DEBUG_BUILD__ && logger.error('Skipped sending event because buffer is full.');\n          recordEnvelopeLoss('queue_overflow');\n          return resolvedSyncPromise();\n        } else {\n          throw error;\n        }\n      },\n    );\n  }\n\n  return {\n    send,\n    flush,\n  };\n}\n\nfunction getEventForEnvelopeItem(item: Envelope[1][number], type: EnvelopeItemType): Event | undefined {\n  if (type !== 'event' && type !== 'transaction') {\n    return undefined;\n  }\n\n  return Array.isArray(item) ? (item as EventItem)[1] : undefined;\n}\n","import { isNativeFetch, logger } from '@sentry/utils';\n\nimport { WINDOW } from '../helpers';\n\nlet cachedFetchImpl: FetchImpl | undefined = undefined;\n\nexport type FetchImpl = typeof fetch;\n\n/**\n * A special usecase for incorrectly wrapped Fetch APIs in conjunction with ad-blockers.\n * Whenever someone wraps the Fetch API and returns the wrong promise chain,\n * this chain becomes orphaned and there is no possible way to capture it's rejections\n * other than allowing it bubble up to this very handler. eg.\n *\n * const f = window.fetch;\n * window.fetch = function () {\n *   const p = f.apply(this, arguments);\n *\n *   p.then(function() {\n *     console.log('hi.');\n *   });\n *\n *   return p;\n * }\n *\n * `p.then(function () { ... })` is producing a completely separate promise chain,\n * however, what's returned is `p` - the result of original `fetch` call.\n *\n * This mean, that whenever we use the Fetch API to send our own requests, _and_\n * some ad-blocker blocks it, this orphaned chain will _always_ reject,\n * effectively causing another event to be captured.\n * This makes a whole process become an infinite loop, which we need to somehow\n * deal with, and break it in one way or another.\n *\n * To deal with this issue, we are making sure that we _always_ use the real\n * browser Fetch API, instead of relying on what `window.fetch` exposes.\n * The only downside to this would be missing our own requests as breadcrumbs,\n * but because we are already not doing this, it should be just fine.\n *\n * Possible failed fetch error messages per-browser:\n *\n * Chrome:  Failed to fetch\n * Edge:    Failed to Fetch\n * Firefox: NetworkError when attempting to fetch resource\n * Safari:  resource blocked by content blocker\n */\nexport function getNativeFetchImplementation(): FetchImpl {\n  if (cachedFetchImpl) {\n    return cachedFetchImpl;\n  }\n\n  /* eslint-disable @typescript-eslint/unbound-method */\n\n  // Fast path to avoid DOM I/O\n  if (isNativeFetch(WINDOW.fetch)) {\n    return (cachedFetchImpl = WINDOW.fetch.bind(WINDOW));\n  }\n\n  const document = WINDOW.document;\n  let fetchImpl = WINDOW.fetch;\n  // eslint-disable-next-line deprecation/deprecation\n  if (document && typeof document.createElement === 'function') {\n    try {\n      const sandbox = document.createElement('iframe');\n      sandbox.hidden = true;\n      document.head.appendChild(sandbox);\n      const contentWindow = sandbox.contentWindow;\n      if (contentWindow && contentWindow.fetch) {\n        fetchImpl = contentWindow.fetch;\n      }\n      document.head.removeChild(sandbox);\n    } catch (e) {\n      __DEBUG_BUILD__ &&\n        logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', e);\n    }\n  }\n\n  return (cachedFetchImpl = fetchImpl.bind(WINDOW));\n  /* eslint-enable @typescript-eslint/unbound-method */\n}\n\n/** Clears cached fetch impl */\nexport function clearCachedFetchImplementation(): void {\n  cachedFetchImpl = undefined;\n}\n","import { createTransport } from '@sentry/core';\nimport type { Transport, TransportMakeRequestResponse, TransportRequest } from '@sentry/types';\nimport { rejectedSyncPromise } from '@sentry/utils';\n\nimport type { BrowserTransportOptions } from './types';\nimport type { FetchImpl } from './utils';\nimport { clearCachedFetchImplementation, getNativeFetchImplementation } from './utils';\n\n/**\n * Creates a Transport that uses the Fetch API to send events to Sentry.\n */\nexport function makeFetchTransport(\n  options: BrowserTransportOptions,\n  nativeFetch: FetchImpl = getNativeFetchImplementation(),\n): Transport {\n  function makeRequest(request: TransportRequest): PromiseLike<TransportMakeRequestResponse> {\n    const requestOptions: RequestInit = {\n      body: request.body,\n      method: 'POST',\n      referrerPolicy: 'origin',\n      headers: options.headers,\n      // Outgoing requests are usually cancelled when navigating to a different page, causing a \"TypeError: Failed to\n      // fetch\" error and sending a \"network_error\" client-outcome - in Chrome, the request status shows \"(cancelled)\".\n      // The `keepalive` flag keeps outgoing requests alive, even when switching pages. We want this since we're\n      // frequently sending events right before the user is switching pages (eg. whenfinishing navigation transactions).\n      // Gotchas:\n      // - `keepalive` isn't supported by Firefox\n      // - As per spec (https://fetch.spec.whatwg.org/#http-network-or-cache-fetch), a request with `keepalive: true`\n      //   and a content length of > 64 kibibytes returns a network error. We will therefore only activate the flag when\n      //   we're below that limit.\n      keepalive: request.body.length <= 65536,\n      ...options.fetchOptions,\n    };\n\n    try {\n      return nativeFetch(options.url, requestOptions).then(response => ({\n        statusCode: response.status,\n        headers: {\n          'x-sentry-rate-limits': response.headers.get('X-Sentry-Rate-Limits'),\n          'retry-after': response.headers.get('Retry-After'),\n        },\n      }));\n    } catch (e) {\n      clearCachedFetchImplementation();\n      return rejectedSyncPromise(e);\n    }\n  }\n\n  return createTransport(options, makeRequest);\n}\n","import { createTransport } from '@sentry/core';\nimport type { Transport, TransportMakeRequestResponse, TransportRequest } from '@sentry/types';\nimport { SyncPromise } from '@sentry/utils';\n\nimport type { BrowserTransportOptions } from './types';\n\n/**\n * The DONE ready state for XmlHttpRequest\n *\n * Defining it here as a constant b/c XMLHttpRequest.DONE is not always defined\n * (e.g. during testing, it is `undefined`)\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState}\n */\nconst XHR_READYSTATE_DONE = 4;\n\n/**\n * Creates a Transport that uses the XMLHttpRequest API to send events to Sentry.\n */\nexport function makeXHRTransport(options: BrowserTransportOptions): Transport {\n  function makeRequest(request: TransportRequest): PromiseLike<TransportMakeRequestResponse> {\n    return new SyncPromise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n\n      xhr.onerror = reject;\n\n      xhr.onreadystatechange = (): void => {\n        if (xhr.readyState === XHR_READYSTATE_DONE) {\n          resolve({\n            statusCode: xhr.status,\n            headers: {\n              'x-sentry-rate-limits': xhr.getResponseHeader('X-Sentry-Rate-Limits'),\n              'retry-after': xhr.getResponseHeader('Retry-After'),\n            },\n          });\n        }\n      };\n\n      xhr.open('POST', options.url);\n\n      for (const header in options.headers) {\n        if (Object.prototype.hasOwnProperty.call(options.headers, header)) {\n          xhr.setRequestHeader(header, options.headers[header]);\n        }\n      }\n\n      xhr.send(request.body);\n    });\n  }\n\n  return createTransport(options, makeRequest);\n}\n","import type { Hub } from '@sentry/core';\nimport {\n  getCurrentHub,\n  getIntegrationsToSetup,\n  getReportDialogEndpoint,\n  initAndBind,\n  Integrations as CoreIntegrations,\n} from '@sentry/core';\nimport {\n  addInstrumentationHandler,\n  logger,\n  resolvedSyncPromise,\n  stackParserFromStackParserOptions,\n  supportsFetch,\n} from '@sentry/utils';\n\nimport type { BrowserClientOptions, BrowserOptions } from './client';\nimport { BrowserClient } from './client';\nimport type { ReportDialogOptions } from './helpers';\nimport { WINDOW, wrap as internalWrap } from './helpers';\nimport { Breadcrumbs, Dedupe, GlobalHandlers, HttpContext, LinkedErrors, TryCatch } from './integrations';\nimport { defaultStackParser } from './stack-parsers';\nimport { makeFetchTransport, makeXHRTransport } from './transports';\n\nexport const defaultIntegrations = [\n  new CoreIntegrations.InboundFilters(),\n  new CoreIntegrations.FunctionToString(),\n  new TryCatch(),\n  new Breadcrumbs(),\n  new GlobalHandlers(),\n  new LinkedErrors(),\n  new Dedupe(),\n  new HttpContext(),\n];\n\n/**\n * A magic string that build tooling can leverage in order to inject a release value into the SDK.\n */\ndeclare const __SENTRY_RELEASE__: string | undefined;\n\n/**\n * The Sentry Browser SDK Client.\n *\n * To use this SDK, call the {@link init} function as early as possible when\n * loading the web page. To set context information or send manual events, use\n * the provided methods.\n *\n * @example\n *\n * ```\n *\n * import { init } from '@sentry/browser';\n *\n * init({\n *   dsn: '__DSN__',\n *   // ...\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { configureScope } from '@sentry/browser';\n * configureScope((scope: Scope) => {\n *   scope.setExtra({ battery: 0.7 });\n *   scope.setTag({ user_mode: 'admin' });\n *   scope.setUser({ id: '4711' });\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { addBreadcrumb } from '@sentry/browser';\n * addBreadcrumb({\n *   message: 'My Breadcrumb',\n *   // ...\n * });\n * ```\n *\n * @example\n *\n * ```\n *\n * import * as Sentry from '@sentry/browser';\n * Sentry.captureMessage('Hello, world!');\n * Sentry.captureException(new Error('Good bye'));\n * Sentry.captureEvent({\n *   message: 'Manual',\n *   stacktrace: [\n *     // ...\n *   ],\n * });\n * ```\n *\n * @see {@link BrowserOptions} for documentation on configuration options.\n */\nexport function init(options: BrowserOptions = {}): void {\n  if (options.defaultIntegrations === undefined) {\n    options.defaultIntegrations = defaultIntegrations;\n  }\n  if (options.release === undefined) {\n    // This allows build tooling to find-and-replace __SENTRY_RELEASE__ to inject a release value\n    if (typeof __SENTRY_RELEASE__ === 'string') {\n      options.release = __SENTRY_RELEASE__;\n    }\n\n    // This supports the variable that sentry-webpack-plugin injects\n    if (WINDOW.SENTRY_RELEASE && WINDOW.SENTRY_RELEASE.id) {\n      options.release = WINDOW.SENTRY_RELEASE.id;\n    }\n  }\n  if (options.autoSessionTracking === undefined) {\n    options.autoSessionTracking = true;\n  }\n  if (options.sendClientReports === undefined) {\n    options.sendClientReports = true;\n  }\n\n  const clientOptions: BrowserClientOptions = {\n    ...options,\n    stackParser: stackParserFromStackParserOptions(options.stackParser || defaultStackParser),\n    integrations: getIntegrationsToSetup(options),\n    transport: options.transport || (supportsFetch() ? makeFetchTransport : makeXHRTransport),\n  };\n\n  initAndBind(BrowserClient, clientOptions);\n\n  if (options.autoSessionTracking) {\n    startSessionTracking();\n  }\n}\n\n/**\n * Present the user with a report dialog.\n *\n * @param options Everything is optional, we try to fetch all info need from the global scope.\n */\nexport function showReportDialog(options: ReportDialogOptions = {}, hub: Hub = getCurrentHub()): void {\n  // doesn't work without a document (React Native)\n  if (!WINDOW.document) {\n    __DEBUG_BUILD__ && logger.error('Global document not defined in showReportDialog call');\n    return;\n  }\n\n  const { client, scope } = hub.getStackTop();\n  const dsn = options.dsn || (client && client.getDsn());\n  if (!dsn) {\n    __DEBUG_BUILD__ && logger.error('DSN not configured for showReportDialog call');\n    return;\n  }\n\n  if (scope) {\n    options.user = {\n      ...scope.getUser(),\n      ...options.user,\n    };\n  }\n\n  if (!options.eventId) {\n    options.eventId = hub.lastEventId();\n  }\n\n  const script = WINDOW.document.createElement('script');\n  script.async = true;\n  script.src = getReportDialogEndpoint(dsn, options);\n\n  if (options.onLoad) {\n    script.onload = options.onLoad;\n  }\n\n  const injectionPoint = WINDOW.document.head || WINDOW.document.body;\n  if (injectionPoint) {\n    injectionPoint.appendChild(script);\n  } else {\n    __DEBUG_BUILD__ && logger.error('Not injecting report dialog. No injection point found in HTML');\n  }\n}\n\n/**\n * This is the getter for lastEventId.\n *\n * @returns The last event id of a captured event.\n */\nexport function lastEventId(): string | undefined {\n  return getCurrentHub().lastEventId();\n}\n\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nexport function forceLoad(): void {\n  // Noop\n}\n\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nexport function onLoad(callback: () => void): void {\n  callback();\n}\n\n/**\n * Call `flush()` on the current client, if there is one. See {@link Client.flush}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue. Omitting this parameter will cause\n * the client to wait until all events are sent before resolving the promise.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nexport function flush(timeout?: number): PromiseLike<boolean> {\n  const client = getCurrentHub().getClient<BrowserClient>();\n  if (client) {\n    return client.flush(timeout);\n  }\n  __DEBUG_BUILD__ && logger.warn('Cannot flush events. No client defined.');\n  return resolvedSyncPromise(false);\n}\n\n/**\n * Call `close()` on the current client, if there is one. See {@link Client.close}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue before shutting down. Omitting this\n * parameter will cause the client to wait until all events are sent before disabling itself.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nexport function close(timeout?: number): PromiseLike<boolean> {\n  const client = getCurrentHub().getClient<BrowserClient>();\n  if (client) {\n    return client.close(timeout);\n  }\n  __DEBUG_BUILD__ && logger.warn('Cannot flush events and disable SDK. No client defined.');\n  return resolvedSyncPromise(false);\n}\n\n/**\n * Wrap code within a try/catch block so the SDK is able to capture errors.\n *\n * @param fn A function to wrap.\n *\n * @returns The result of wrapped function call.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function wrap(fn: (...args: any) => any): any {\n  return internalWrap(fn)();\n}\n\nfunction startSessionOnHub(hub: Hub): void {\n  hub.startSession({ ignoreDuration: true });\n  hub.captureSession();\n}\n\n/**\n * Enable automatic Session Tracking for the initial page load.\n */\nfunction startSessionTracking(): void {\n  if (typeof WINDOW.document === 'undefined') {\n    __DEBUG_BUILD__ &&\n      logger.warn('Session tracking in non-browser environment with @sentry/browser is not supported.');\n    return;\n  }\n\n  const hub = getCurrentHub();\n\n  // The only way for this to be false is for there to be a version mismatch between @sentry/browser (>= 6.0.0) and\n  // @sentry/hub (< 5.27.0). In the simple case, there won't ever be such a mismatch, because the two packages are\n  // pinned at the same version in package.json, but there are edge cases where it's possible. See\n  // https://github.com/getsentry/sentry-javascript/issues/3207 and\n  // https://github.com/getsentry/sentry-javascript/issues/3234 and\n  // https://github.com/getsentry/sentry-javascript/issues/3278.\n  if (!hub.captureSession) {\n    return;\n  }\n\n  // The session duration for browser sessions does not track a meaningful\n  // concept that can be used as a metric.\n  // Automatically captured sessions are akin to page views, and thus we\n  // discard their duration.\n  startSessionOnHub(hub);\n\n  // We want to create a session for every navigation as well\n  addInstrumentationHandler('history', ({ from, to }) => {\n    // Don't create an additional session for the initial route or if the location did not change\n    if (!(from === undefined || from === to)) {\n      startSessionOnHub(getCurrentHub());\n    }\n  });\n}\n","import type {\n  Breadcrumb,\n  CaptureContext,\n  CustomSamplingContext,\n  Event,\n  EventHint,\n  Extra,\n  Extras,\n  Primitive,\n  Severity,\n  SeverityLevel,\n  TransactionContext,\n  User,\n} from '@sentry/types';\n\nimport type { Hub } from './hub';\nimport { getCurrentHub } from './hub';\nimport type { Scope } from './scope';\n\n// Note: All functions in this file are typed with a return value of `ReturnType<Hub[HUB_FUNCTION]>`,\n// where HUB_FUNCTION is some method on the Hub class.\n//\n// This is done to make sure the top level SDK methods stay in sync with the hub methods.\n// Although every method here has an explicit return type, some of them (that map to void returns) do not\n// contain `return` keywords. This is done to save on bundle size, as `return` is not minifiable.\n\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception An exception-like object.\n * @param captureContext Additional scope data to apply to exception event.\n * @returns The generated eventId.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function captureException(exception: any, captureContext?: CaptureContext): ReturnType<Hub['captureException']> {\n  return getCurrentHub().captureException(exception, { captureContext });\n}\n\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param Severity Define the level of the message.\n * @returns The generated eventId.\n */\nexport function captureMessage(\n  message: string,\n  // eslint-disable-next-line deprecation/deprecation\n  captureContext?: CaptureContext | Severity | SeverityLevel,\n): ReturnType<Hub['captureMessage']> {\n  // This is necessary to provide explicit scopes upgrade, without changing the original\n  // arity of the `captureMessage(message, level)` method.\n  const level = typeof captureContext === 'string' ? captureContext : undefined;\n  const context = typeof captureContext !== 'string' ? { captureContext } : undefined;\n  return getCurrentHub().captureMessage(message, level, context);\n}\n\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @returns The generated eventId.\n */\nexport function captureEvent(event: Event, hint?: EventHint): ReturnType<Hub['captureEvent']> {\n  return getCurrentHub().captureEvent(event, hint);\n}\n\n/**\n * Callback to set context information onto the scope.\n * @param callback Callback function that receives Scope.\n */\nexport function configureScope(callback: (scope: Scope) => void): ReturnType<Hub['configureScope']> {\n  getCurrentHub().configureScope(callback);\n}\n\n/**\n * Records a new breadcrumb which will be attached to future events.\n *\n * Breadcrumbs will be added to subsequent events to provide more context on\n * user's actions prior to an error or crash.\n *\n * @param breadcrumb The breadcrumb to record.\n */\nexport function addBreadcrumb(breadcrumb: Breadcrumb): ReturnType<Hub['addBreadcrumb']> {\n  getCurrentHub().addBreadcrumb(breadcrumb);\n}\n\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normalized.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function setContext(name: string, context: { [key: string]: any } | null): ReturnType<Hub['setContext']> {\n  getCurrentHub().setContext(name, context);\n}\n\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nexport function setExtras(extras: Extras): ReturnType<Hub['setExtras']> {\n  getCurrentHub().setExtras(extras);\n}\n\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normalized.\n */\nexport function setExtra(key: string, extra: Extra): ReturnType<Hub['setExtra']> {\n  getCurrentHub().setExtra(key, extra);\n}\n\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nexport function setTags(tags: { [key: string]: Primitive }): ReturnType<Hub['setTags']> {\n  getCurrentHub().setTags(tags);\n}\n\n/**\n * Set key:value that will be sent as tags data with the event.\n *\n * Can also be used to unset a tag, by passing `undefined`.\n *\n * @param key String key of tag\n * @param value Value of tag\n */\nexport function setTag(key: string, value: Primitive): ReturnType<Hub['setTag']> {\n  getCurrentHub().setTag(key, value);\n}\n\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nexport function setUser(user: User | null): ReturnType<Hub['setUser']> {\n  getCurrentHub().setUser(user);\n}\n\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n *\n * This is essentially a convenience function for:\n *\n *     pushScope();\n *     callback();\n *     popScope();\n *\n * @param callback that will be enclosed into push/popScope.\n */\nexport function withScope(callback: (scope: Scope) => void): ReturnType<Hub['withScope']> {\n  getCurrentHub().withScope(callback);\n}\n\n/**\n * Starts a new `Transaction` and returns it. This is the entry point to manual tracing instrumentation.\n *\n * A tree structure can be built by adding child spans to the transaction, and child spans to other spans. To start a\n * new child span within the transaction or any span, call the respective `.startChild()` method.\n *\n * Every child span must be finished before the transaction is finished, otherwise the unfinished spans are discarded.\n *\n * The transaction must be finished with a call to its `.finish()` method, at which point the transaction with all its\n * finished child spans will be sent to Sentry.\n *\n * NOTE: This function should only be used for *manual* instrumentation. Auto-instrumentation should call\n * `startTransaction` directly on the hub.\n *\n * @param context Properties of the new `Transaction`.\n * @param customSamplingContext Information given to the transaction sampling function (along with context-dependent\n * default values). See {@link Options.tracesSampler}.\n *\n * @returns The transaction which was just started\n */\nexport function startTransaction(\n  context: TransactionContext,\n  customSamplingContext?: CustomSamplingContext,\n): ReturnType<Hub['startTransaction']> {\n  return getCurrentHub().startTransaction({ ...context }, customSamplingContext);\n}\n","/* eslint-disable max-lines */\nimport type {\n  Breadcrumb,\n  BreadcrumbHint,\n  Client,\n  CustomSamplingContext,\n  Event,\n  EventHint,\n  Extra,\n  Extras,\n  Hub as HubInterface,\n  Integration,\n  IntegrationClass,\n  Primitive,\n  Session,\n  SessionContext,\n  Severity,\n  SeverityLevel,\n  Transaction,\n  TransactionContext,\n  User,\n} from '@sentry/types';\nimport {\n  consoleSandbox,\n  dateTimestampInSeconds,\n  getGlobalSingleton,\n  GLOBAL_OBJ,\n  isNodeEnv,\n  logger,\n  uuid4,\n} from '@sentry/utils';\n\nimport { Scope } from './scope';\nimport { closeSession, makeSession, updateSession } from './session';\n\n/**\n * API compatibility version of this hub.\n *\n * WARNING: This number should only be increased when the global interface\n * changes and new methods are introduced.\n *\n * @hidden\n */\nexport const API_VERSION = 4;\n\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nconst DEFAULT_BREADCRUMBS = 100;\n\n/**\n * A layer in the process stack.\n * @hidden\n */\nexport interface Layer {\n  client?: Client;\n  scope?: Scope;\n}\n\n/**\n * An object that contains a hub and maintains a scope stack.\n * @hidden\n */\nexport interface Carrier {\n  __SENTRY__?: {\n    hub?: Hub;\n    /**\n     * Extra Hub properties injected by various SDKs\n     */\n    integrations?: Integration[];\n    extensions?: {\n      /** Hack to prevent bundlers from breaking our usage of the domain package in the cross-platform Hub package */\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      domain?: { [key: string]: any };\n    } & {\n      /** Extension methods for the hub, which are bound to the current Hub instance */\n      // eslint-disable-next-line @typescript-eslint/ban-types\n      [key: string]: Function;\n    };\n  };\n}\n\n/**\n * @inheritDoc\n */\nexport class Hub implements HubInterface {\n  /** Is a {@link Layer}[] containing the client and scope */\n  private readonly _stack: Layer[] = [{}];\n\n  /** Contains the last event id of a captured event.  */\n  private _lastEventId?: string;\n\n  /**\n   * Creates a new instance of the hub, will push one {@link Layer} into the\n   * internal stack on creation.\n   *\n   * @param client bound to the hub.\n   * @param scope bound to the hub.\n   * @param version number, higher number means higher priority.\n   */\n  public constructor(client?: Client, scope: Scope = new Scope(), private readonly _version: number = API_VERSION) {\n    this.getStackTop().scope = scope;\n    if (client) {\n      this.bindClient(client);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public isOlderThan(version: number): boolean {\n    return this._version < version;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public bindClient(client?: Client): void {\n    const top = this.getStackTop();\n    top.client = client;\n    if (client && client.setupIntegrations) {\n      client.setupIntegrations();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public pushScope(): Scope {\n    // We want to clone the content of prev scope\n    const scope = Scope.clone(this.getScope());\n    this.getStack().push({\n      client: this.getClient(),\n      scope,\n    });\n    return scope;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public popScope(): boolean {\n    if (this.getStack().length <= 1) return false;\n    return !!this.getStack().pop();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public withScope(callback: (scope: Scope) => void): void {\n    const scope = this.pushScope();\n    try {\n      callback(scope);\n    } finally {\n      this.popScope();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getClient<C extends Client>(): C | undefined {\n    return this.getStackTop().client as C;\n  }\n\n  /** Returns the scope of the top stack. */\n  public getScope(): Scope | undefined {\n    return this.getStackTop().scope;\n  }\n\n  /** Returns the scope stack for domains or the process. */\n  public getStack(): Layer[] {\n    return this._stack;\n  }\n\n  /** Returns the topmost scope layer in the order domain > local > process. */\n  public getStackTop(): Layer {\n    return this._stack[this._stack.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n  public captureException(exception: any, hint?: EventHint): string {\n    const eventId = (this._lastEventId = hint && hint.event_id ? hint.event_id : uuid4());\n    const syntheticException = new Error('Sentry syntheticException');\n    this._withClient((client, scope) => {\n      client.captureException(\n        exception,\n        {\n          originalException: exception,\n          syntheticException,\n          ...hint,\n          event_id: eventId,\n        },\n        scope,\n      );\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureMessage(\n    message: string,\n    // eslint-disable-next-line deprecation/deprecation\n    level?: Severity | SeverityLevel,\n    hint?: EventHint,\n  ): string {\n    const eventId = (this._lastEventId = hint && hint.event_id ? hint.event_id : uuid4());\n    const syntheticException = new Error(message);\n    this._withClient((client, scope) => {\n      client.captureMessage(\n        message,\n        level,\n        {\n          originalException: message,\n          syntheticException,\n          ...hint,\n          event_id: eventId,\n        },\n        scope,\n      );\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureEvent(event: Event, hint?: EventHint): string {\n    const eventId = hint && hint.event_id ? hint.event_id : uuid4();\n    if (!event.type) {\n      this._lastEventId = eventId;\n    }\n\n    this._withClient((client, scope) => {\n      client.captureEvent(event, { ...hint, event_id: eventId }, scope);\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public lastEventId(): string | undefined {\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addBreadcrumb(breadcrumb: Breadcrumb, hint?: BreadcrumbHint): void {\n    const { scope, client } = this.getStackTop();\n\n    if (!scope || !client) return;\n\n    const { beforeBreadcrumb = null, maxBreadcrumbs = DEFAULT_BREADCRUMBS } =\n      (client.getOptions && client.getOptions()) || {};\n\n    if (maxBreadcrumbs <= 0) return;\n\n    const timestamp = dateTimestampInSeconds();\n    const mergedBreadcrumb = { timestamp, ...breadcrumb };\n    const finalBreadcrumb = beforeBreadcrumb\n      ? (consoleSandbox(() => beforeBreadcrumb(mergedBreadcrumb, hint)) as Breadcrumb | null)\n      : mergedBreadcrumb;\n\n    if (finalBreadcrumb === null) return;\n\n    scope.addBreadcrumb(finalBreadcrumb, maxBreadcrumbs);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setUser(user: User | null): void {\n    const scope = this.getScope();\n    if (scope) scope.setUser(user);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTags(tags: { [key: string]: Primitive }): void {\n    const scope = this.getScope();\n    if (scope) scope.setTags(tags);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtras(extras: Extras): void {\n    const scope = this.getScope();\n    if (scope) scope.setExtras(extras);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTag(key: string, value: Primitive): void {\n    const scope = this.getScope();\n    if (scope) scope.setTag(key, value);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtra(key: string, extra: Extra): void {\n    const scope = this.getScope();\n    if (scope) scope.setExtra(key, extra);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public setContext(name: string, context: { [key: string]: any } | null): void {\n    const scope = this.getScope();\n    if (scope) scope.setContext(name, context);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public configureScope(callback: (scope: Scope) => void): void {\n    const { scope, client } = this.getStackTop();\n    if (scope && client) {\n      callback(scope);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public run(callback: (hub: Hub) => void): void {\n    const oldHub = makeMain(this);\n    try {\n      callback(this);\n    } finally {\n      makeMain(oldHub);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getIntegration<T extends Integration>(integration: IntegrationClass<T>): T | null {\n    const client = this.getClient();\n    if (!client) return null;\n    try {\n      return client.getIntegration(integration);\n    } catch (_oO) {\n      __DEBUG_BUILD__ && logger.warn(`Cannot retrieve integration ${integration.id} from the current Hub`);\n      return null;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public startTransaction(context: TransactionContext, customSamplingContext?: CustomSamplingContext): Transaction {\n    return this._callExtensionMethod('startTransaction', context, customSamplingContext);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public traceHeaders(): { [key: string]: string } {\n    return this._callExtensionMethod<{ [key: string]: string }>('traceHeaders');\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureSession(endSession: boolean = false): void {\n    // both send the update and pull the session from the scope\n    if (endSession) {\n      return this.endSession();\n    }\n\n    // only send the update\n    this._sendSessionUpdate();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public endSession(): void {\n    const layer = this.getStackTop();\n    const scope = layer && layer.scope;\n    const session = scope && scope.getSession();\n    if (session) {\n      closeSession(session);\n    }\n    this._sendSessionUpdate();\n\n    // the session is over; take it off of the scope\n    if (scope) {\n      scope.setSession();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public startSession(context?: SessionContext): Session {\n    const { scope, client } = this.getStackTop();\n    const { release, environment } = (client && client.getOptions()) || {};\n\n    // Will fetch userAgent if called from browser sdk\n    const { userAgent } = GLOBAL_OBJ.navigator || {};\n\n    const session = makeSession({\n      release,\n      environment,\n      ...(scope && { user: scope.getUser() }),\n      ...(userAgent && { userAgent }),\n      ...context,\n    });\n\n    if (scope) {\n      // End existing session if there's one\n      const currentSession = scope.getSession && scope.getSession();\n      if (currentSession && currentSession.status === 'ok') {\n        updateSession(currentSession, { status: 'exited' });\n      }\n      this.endSession();\n\n      // Afterwards we set the new session on the scope\n      scope.setSession(session);\n    }\n\n    return session;\n  }\n\n  /**\n   * Returns if default PII should be sent to Sentry and propagated in ourgoing requests\n   * when Tracing is used.\n   */\n  public shouldSendDefaultPii(): boolean {\n    const client = this.getClient();\n    const options = client && client.getOptions();\n    return Boolean(options && options.sendDefaultPii);\n  }\n\n  /**\n   * Sends the current Session on the scope\n   */\n  private _sendSessionUpdate(): void {\n    const { scope, client } = this.getStackTop();\n    if (!scope) return;\n\n    const session = scope.getSession();\n    if (session) {\n      if (client && client.captureSession) {\n        client.captureSession(session);\n      }\n    }\n  }\n\n  /**\n   * Internal helper function to call a method on the top client if it exists.\n   *\n   * @param method The method to call on the client.\n   * @param args Arguments to pass to the client function.\n   */\n  private _withClient(callback: (client: Client, scope: Scope | undefined) => void): void {\n    const { scope, client } = this.getStackTop();\n    if (client) {\n      callback(client, scope);\n    }\n  }\n\n  /**\n   * Calls global extension method and binding current instance to the function call\n   */\n  // @ts-ignore Function lacks ending return statement and return type does not include 'undefined'. ts(2366)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _callExtensionMethod<T>(method: string, ...args: any[]): T {\n    const carrier = getMainCarrier();\n    const sentry = carrier.__SENTRY__;\n    if (sentry && sentry.extensions && typeof sentry.extensions[method] === 'function') {\n      return sentry.extensions[method].apply(this, args);\n    }\n    __DEBUG_BUILD__ && logger.warn(`Extension method ${method} couldn't be found, doing nothing.`);\n  }\n}\n\n/**\n * Returns the global shim registry.\n *\n * FIXME: This function is problematic, because despite always returning a valid Carrier,\n * it has an optional `__SENTRY__` property, which then in turn requires us to always perform an unnecessary check\n * at the call-site. We always access the carrier through this function, so we can guarantee that `__SENTRY__` is there.\n **/\nexport function getMainCarrier(): Carrier {\n  GLOBAL_OBJ.__SENTRY__ = GLOBAL_OBJ.__SENTRY__ || {\n    extensions: {},\n    hub: undefined,\n  };\n  return GLOBAL_OBJ;\n}\n\n/**\n * Replaces the current main hub with the passed one on the global object\n *\n * @returns The old replaced hub\n */\nexport function makeMain(hub: Hub): Hub {\n  const registry = getMainCarrier();\n  const oldHub = getHubFromCarrier(registry);\n  setHubOnCarrier(registry, hub);\n  return oldHub;\n}\n\n/**\n * Returns the default hub instance.\n *\n * If a hub is already registered in the global carrier but this module\n * contains a more recent version, it replaces the registered version.\n * Otherwise, the currently registered hub will be returned.\n */\nexport function getCurrentHub(): Hub {\n  // Get main carrier (global for every environment)\n  const registry = getMainCarrier();\n\n  // If there's no hub, or its an old API, assign a new one\n  if (!hasHubOnCarrier(registry) || getHubFromCarrier(registry).isOlderThan(API_VERSION)) {\n    setHubOnCarrier(registry, new Hub());\n  }\n\n  // Prefer domains over global if they are there (applicable only to Node environment)\n  if (isNodeEnv()) {\n    return getHubFromActiveDomain(registry);\n  }\n  // Return hub that lives on a global object\n  return getHubFromCarrier(registry);\n}\n\n/**\n * Try to read the hub from an active domain, and fallback to the registry if one doesn't exist\n * @returns discovered hub\n */\nfunction getHubFromActiveDomain(registry: Carrier): Hub {\n  try {\n    const sentry = getMainCarrier().__SENTRY__;\n    const activeDomain = sentry && sentry.extensions && sentry.extensions.domain && sentry.extensions.domain.active;\n\n    // If there's no active domain, just return global hub\n    if (!activeDomain) {\n      return getHubFromCarrier(registry);\n    }\n\n    // If there's no hub on current domain, or it's an old API, assign a new one\n    if (!hasHubOnCarrier(activeDomain) || getHubFromCarrier(activeDomain).isOlderThan(API_VERSION)) {\n      const registryHubTopStack = getHubFromCarrier(registry).getStackTop();\n      setHubOnCarrier(activeDomain, new Hub(registryHubTopStack.client, Scope.clone(registryHubTopStack.scope)));\n    }\n\n    // Return hub that lives on a domain\n    return getHubFromCarrier(activeDomain);\n  } catch (_Oo) {\n    // Return hub that lives on a global object\n    return getHubFromCarrier(registry);\n  }\n}\n\n/**\n * This will tell whether a carrier has a hub on it or not\n * @param carrier object\n */\nfunction hasHubOnCarrier(carrier: Carrier): boolean {\n  return !!(carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub);\n}\n\n/**\n * This will create a new {@link Hub} and add to the passed object on\n * __SENTRY__.hub.\n * @param carrier object\n * @hidden\n */\nexport function getHubFromCarrier(carrier: Carrier): Hub {\n  return getGlobalSingleton<Hub>('hub', () => new Hub(), carrier);\n}\n\n/**\n * This will set passed {@link Hub} on the passed object's __SENTRY__.hub attribute\n * @param carrier object\n * @param hub Hub\n * @returns A boolean indicating success or failure\n */\nexport function setHubOnCarrier(carrier: Carrier, hub: Hub): boolean {\n  if (!carrier) return false;\n  const __SENTRY__ = (carrier.__SENTRY__ = carrier.__SENTRY__ || {});\n  __SENTRY__.hub = hub;\n  return true;\n}\n","/* eslint-disable max-lines */\nimport type {\n  Attachment,\n  Breadcrumb,\n  CaptureContext,\n  Context,\n  Contexts,\n  Event,\n  EventHint,\n  EventProcessor,\n  Extra,\n  Extras,\n  Primitive,\n  RequestSession,\n  Scope as ScopeInterface,\n  ScopeContext,\n  Session,\n  Severity,\n  SeverityLevel,\n  Span,\n  Transaction,\n  User,\n} from '@sentry/types';\nimport {\n  arrayify,\n  dateTimestampInSeconds,\n  getGlobalSingleton,\n  isPlainObject,\n  isThenable,\n  logger,\n  SyncPromise,\n} from '@sentry/utils';\n\nimport { updateSession } from './session';\n\n/**\n * Default value for maximum number of breadcrumbs added to an event.\n */\nconst DEFAULT_MAX_BREADCRUMBS = 100;\n\n/**\n * Holds additional event information. {@link Scope.applyToEvent} will be\n * called by the client before an event will be sent.\n */\nexport class Scope implements ScopeInterface {\n  /** Flag if notifying is happening. */\n  protected _notifyingListeners: boolean;\n\n  /** Callback for client to receive scope changes. */\n  protected _scopeListeners: Array<(scope: Scope) => void>;\n\n  /** Callback list that will be called after {@link applyToEvent}. */\n  protected _eventProcessors: EventProcessor[];\n\n  /** Array of breadcrumbs. */\n  protected _breadcrumbs: Breadcrumb[];\n\n  /** User */\n  protected _user: User;\n\n  /** Tags */\n  protected _tags: { [key: string]: Primitive };\n\n  /** Extra */\n  protected _extra: Extras;\n\n  /** Contexts */\n  protected _contexts: Contexts;\n\n  /** Attachments */\n  protected _attachments: Attachment[];\n\n  /**\n   * A place to stash data which is needed at some point in the SDK's event processing pipeline but which shouldn't get\n   * sent to Sentry\n   */\n  protected _sdkProcessingMetadata: { [key: string]: unknown };\n\n  /** Fingerprint */\n  protected _fingerprint?: string[];\n\n  /** Severity */\n  // eslint-disable-next-line deprecation/deprecation\n  protected _level?: Severity | SeverityLevel;\n\n  /** Transaction Name */\n  protected _transactionName?: string;\n\n  /** Span */\n  protected _span?: Span;\n\n  /** Session */\n  protected _session?: Session;\n\n  /** Request Mode Session Status */\n  protected _requestSession?: RequestSession;\n\n  // NOTE: Any field which gets added here should get added not only to the constructor but also to the `clone` method.\n\n  public constructor() {\n    this._notifyingListeners = false;\n    this._scopeListeners = [];\n    this._eventProcessors = [];\n    this._breadcrumbs = [];\n    this._attachments = [];\n    this._user = {};\n    this._tags = {};\n    this._extra = {};\n    this._contexts = {};\n    this._sdkProcessingMetadata = {};\n  }\n\n  /**\n   * Inherit values from the parent scope.\n   * @param scope to clone.\n   */\n  public static clone(scope?: Scope): Scope {\n    const newScope = new Scope();\n    if (scope) {\n      newScope._breadcrumbs = [...scope._breadcrumbs];\n      newScope._tags = { ...scope._tags };\n      newScope._extra = { ...scope._extra };\n      newScope._contexts = { ...scope._contexts };\n      newScope._user = scope._user;\n      newScope._level = scope._level;\n      newScope._span = scope._span;\n      newScope._session = scope._session;\n      newScope._transactionName = scope._transactionName;\n      newScope._fingerprint = scope._fingerprint;\n      newScope._eventProcessors = [...scope._eventProcessors];\n      newScope._requestSession = scope._requestSession;\n      newScope._attachments = [...scope._attachments];\n      newScope._sdkProcessingMetadata = { ...scope._sdkProcessingMetadata };\n    }\n    return newScope;\n  }\n\n  /**\n   * Add internal on change listener. Used for sub SDKs that need to store the scope.\n   * @hidden\n   */\n  public addScopeListener(callback: (scope: Scope) => void): void {\n    this._scopeListeners.push(callback);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addEventProcessor(callback: EventProcessor): this {\n    this._eventProcessors.push(callback);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setUser(user: User | null): this {\n    this._user = user || {};\n    if (this._session) {\n      updateSession(this._session, { user });\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getUser(): User | undefined {\n    return this._user;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getRequestSession(): RequestSession | undefined {\n    return this._requestSession;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setRequestSession(requestSession?: RequestSession): this {\n    this._requestSession = requestSession;\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTags(tags: { [key: string]: Primitive }): this {\n    this._tags = {\n      ...this._tags,\n      ...tags,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTag(key: string, value: Primitive): this {\n    this._tags = { ...this._tags, [key]: value };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtras(extras: Extras): this {\n    this._extra = {\n      ...this._extra,\n      ...extras,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtra(key: string, extra: Extra): this {\n    this._extra = { ...this._extra, [key]: extra };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setFingerprint(fingerprint: string[]): this {\n    this._fingerprint = fingerprint;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setLevel(\n    // eslint-disable-next-line deprecation/deprecation\n    level: Severity | SeverityLevel,\n  ): this {\n    this._level = level;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTransactionName(name?: string): this {\n    this._transactionName = name;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setContext(key: string, context: Context | null): this {\n    if (context === null) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this._contexts[key];\n    } else {\n      this._contexts[key] = context;\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setSpan(span?: Span): this {\n    this._span = span;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getSpan(): Span | undefined {\n    return this._span;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getTransaction(): Transaction | undefined {\n    // Often, this span (if it exists at all) will be a transaction, but it's not guaranteed to be. Regardless, it will\n    // have a pointer to the currently-active transaction.\n    const span = this.getSpan();\n    return span && span.transaction;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setSession(session?: Session): this {\n    if (!session) {\n      delete this._session;\n    } else {\n      this._session = session;\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getSession(): Session | undefined {\n    return this._session;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public update(captureContext?: CaptureContext): this {\n    if (!captureContext) {\n      return this;\n    }\n\n    if (typeof captureContext === 'function') {\n      const updatedScope = (captureContext as <T>(scope: T) => T)(this);\n      return updatedScope instanceof Scope ? updatedScope : this;\n    }\n\n    if (captureContext instanceof Scope) {\n      this._tags = { ...this._tags, ...captureContext._tags };\n      this._extra = { ...this._extra, ...captureContext._extra };\n      this._contexts = { ...this._contexts, ...captureContext._contexts };\n      if (captureContext._user && Object.keys(captureContext._user).length) {\n        this._user = captureContext._user;\n      }\n      if (captureContext._level) {\n        this._level = captureContext._level;\n      }\n      if (captureContext._fingerprint) {\n        this._fingerprint = captureContext._fingerprint;\n      }\n      if (captureContext._requestSession) {\n        this._requestSession = captureContext._requestSession;\n      }\n    } else if (isPlainObject(captureContext)) {\n      // eslint-disable-next-line no-param-reassign\n      captureContext = captureContext as ScopeContext;\n      this._tags = { ...this._tags, ...captureContext.tags };\n      this._extra = { ...this._extra, ...captureContext.extra };\n      this._contexts = { ...this._contexts, ...captureContext.contexts };\n      if (captureContext.user) {\n        this._user = captureContext.user;\n      }\n      if (captureContext.level) {\n        this._level = captureContext.level;\n      }\n      if (captureContext.fingerprint) {\n        this._fingerprint = captureContext.fingerprint;\n      }\n      if (captureContext.requestSession) {\n        this._requestSession = captureContext.requestSession;\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clear(): this {\n    this._breadcrumbs = [];\n    this._tags = {};\n    this._extra = {};\n    this._user = {};\n    this._contexts = {};\n    this._level = undefined;\n    this._transactionName = undefined;\n    this._fingerprint = undefined;\n    this._requestSession = undefined;\n    this._span = undefined;\n    this._session = undefined;\n    this._notifyScopeListeners();\n    this._attachments = [];\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addBreadcrumb(breadcrumb: Breadcrumb, maxBreadcrumbs?: number): this {\n    const maxCrumbs = typeof maxBreadcrumbs === 'number' ? maxBreadcrumbs : DEFAULT_MAX_BREADCRUMBS;\n\n    // No data has been changed, so don't notify scope listeners\n    if (maxCrumbs <= 0) {\n      return this;\n    }\n\n    const mergedBreadcrumb = {\n      timestamp: dateTimestampInSeconds(),\n      ...breadcrumb,\n    };\n    this._breadcrumbs = [...this._breadcrumbs, mergedBreadcrumb].slice(-maxCrumbs);\n    this._notifyScopeListeners();\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getLastBreadcrumb(): Breadcrumb | undefined {\n    return this._breadcrumbs[this._breadcrumbs.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clearBreadcrumbs(): this {\n    this._breadcrumbs = [];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addAttachment(attachment: Attachment): this {\n    this._attachments.push(attachment);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getAttachments(): Attachment[] {\n    return this._attachments;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clearAttachments(): this {\n    this._attachments = [];\n    return this;\n  }\n\n  /**\n   * Applies data from the scope to the event and runs all event processors on it.\n   *\n   * @param event Event\n   * @param hint Object containing additional information about the original exception, for use by the event processors.\n   * @hidden\n   */\n  public applyToEvent(event: Event, hint: EventHint = {}): PromiseLike<Event | null> {\n    if (this._extra && Object.keys(this._extra).length) {\n      event.extra = { ...this._extra, ...event.extra };\n    }\n    if (this._tags && Object.keys(this._tags).length) {\n      event.tags = { ...this._tags, ...event.tags };\n    }\n    if (this._user && Object.keys(this._user).length) {\n      event.user = { ...this._user, ...event.user };\n    }\n    if (this._contexts && Object.keys(this._contexts).length) {\n      event.contexts = { ...this._contexts, ...event.contexts };\n    }\n    if (this._level) {\n      event.level = this._level;\n    }\n    if (this._transactionName) {\n      event.transaction = this._transactionName;\n    }\n\n    // We want to set the trace context for normal events only if there isn't already\n    // a trace context on the event. There is a product feature in place where we link\n    // errors with transaction and it relies on that.\n    if (this._span) {\n      event.contexts = { trace: this._span.getTraceContext(), ...event.contexts };\n      const transactionName = this._span.transaction && this._span.transaction.name;\n      if (transactionName) {\n        event.tags = { transaction: transactionName, ...event.tags };\n      }\n    }\n\n    this._applyFingerprint(event);\n\n    event.breadcrumbs = [...(event.breadcrumbs || []), ...this._breadcrumbs];\n    event.breadcrumbs = event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\n\n    event.sdkProcessingMetadata = { ...event.sdkProcessingMetadata, ...this._sdkProcessingMetadata };\n\n    return this._notifyEventProcessors([...getGlobalEventProcessors(), ...this._eventProcessors], event, hint);\n  }\n\n  /**\n   * Add data which will be accessible during event processing but won't get sent to Sentry\n   */\n  public setSDKProcessingMetadata(newData: { [key: string]: unknown }): this {\n    this._sdkProcessingMetadata = { ...this._sdkProcessingMetadata, ...newData };\n\n    return this;\n  }\n\n  /**\n   * This will be called after {@link applyToEvent} is finished.\n   */\n  protected _notifyEventProcessors(\n    processors: EventProcessor[],\n    event: Event | null,\n    hint: EventHint,\n    index: number = 0,\n  ): PromiseLike<Event | null> {\n    return new SyncPromise<Event | null>((resolve, reject) => {\n      const processor = processors[index];\n      if (event === null || typeof processor !== 'function') {\n        resolve(event);\n      } else {\n        const result = processor({ ...event }, hint) as Event | null;\n\n        __DEBUG_BUILD__ &&\n          processor.id &&\n          result === null &&\n          logger.log(`Event processor \"${processor.id}\" dropped event`);\n\n        if (isThenable(result)) {\n          void result\n            .then(final => this._notifyEventProcessors(processors, final, hint, index + 1).then(resolve))\n            .then(null, reject);\n        } else {\n          void this._notifyEventProcessors(processors, result, hint, index + 1)\n            .then(resolve)\n            .then(null, reject);\n        }\n      }\n    });\n  }\n\n  /**\n   * This will be called on every set call.\n   */\n  protected _notifyScopeListeners(): void {\n    // We need this check for this._notifyingListeners to be able to work on scope during updates\n    // If this check is not here we'll produce endless recursion when something is done with the scope\n    // during the callback.\n    if (!this._notifyingListeners) {\n      this._notifyingListeners = true;\n      this._scopeListeners.forEach(callback => {\n        callback(this);\n      });\n      this._notifyingListeners = false;\n    }\n  }\n\n  /**\n   * Applies fingerprint from the scope to the event if there's one,\n   * uses message if there's one instead or get rid of empty fingerprint\n   */\n  private _applyFingerprint(event: Event): void {\n    // Make sure it's an array first and we actually have something in place\n    event.fingerprint = event.fingerprint ? arrayify(event.fingerprint) : [];\n\n    // If we have something on the scope, then merge it with event\n    if (this._fingerprint) {\n      event.fingerprint = event.fingerprint.concat(this._fingerprint);\n    }\n\n    // If we have no data at all, remove empty array default\n    if (event.fingerprint && !event.fingerprint.length) {\n      delete event.fingerprint;\n    }\n  }\n}\n\n/**\n * Returns the global event processors.\n */\nfunction getGlobalEventProcessors(): EventProcessor[] {\n  return getGlobalSingleton<EventProcessor[]>('globalEventProcessors', () => []);\n}\n\n/**\n * Add a EventProcessor to be kept globally.\n * @param callback EventProcessor to add\n */\nexport function addGlobalEventProcessor(callback: EventProcessor): void {\n  getGlobalEventProcessors().push(callback);\n}\n","import type { SerializedSession, Session, SessionContext, SessionStatus } from '@sentry/types';\nimport { dropUndefinedKeys, timestampInSeconds, uuid4 } from '@sentry/utils';\n\n/**\n * Creates a new `Session` object by setting certain default parameters. If optional @param context\n * is passed, the passed properties are applied to the session object.\n *\n * @param context (optional) additional properties to be applied to the returned session object\n *\n * @returns a new `Session` object\n */\nexport function makeSession(context?: Omit<SessionContext, 'started' | 'status'>): Session {\n  // Both timestamp and started are in seconds since the UNIX epoch.\n  const startingTime = timestampInSeconds();\n\n  const session: Session = {\n    sid: uuid4(),\n    init: true,\n    timestamp: startingTime,\n    started: startingTime,\n    duration: 0,\n    status: 'ok',\n    errors: 0,\n    ignoreDuration: false,\n    toJSON: () => sessionToJSON(session),\n  };\n\n  if (context) {\n    updateSession(session, context);\n  }\n\n  return session;\n}\n\n/**\n * Updates a session object with the properties passed in the context.\n *\n * Note that this function mutates the passed object and returns void.\n * (Had to do this instead of returning a new and updated session because closing and sending a session\n * makes an update to the session after it was passed to the sending logic.\n * @see BaseClient.captureSession )\n *\n * @param session the `Session` to update\n * @param context the `SessionContext` holding the properties that should be updated in @param session\n */\n// eslint-disable-next-line complexity\nexport function updateSession(session: Session, context: SessionContext = {}): void {\n  if (context.user) {\n    if (!session.ipAddress && context.user.ip_address) {\n      session.ipAddress = context.user.ip_address;\n    }\n\n    if (!session.did && !context.did) {\n      session.did = context.user.id || context.user.email || context.user.username;\n    }\n  }\n\n  session.timestamp = context.timestamp || timestampInSeconds();\n\n  if (context.ignoreDuration) {\n    session.ignoreDuration = context.ignoreDuration;\n  }\n  if (context.sid) {\n    // Good enough uuid validation. — Kamil\n    session.sid = context.sid.length === 32 ? context.sid : uuid4();\n  }\n  if (context.init !== undefined) {\n    session.init = context.init;\n  }\n  if (!session.did && context.did) {\n    session.did = `${context.did}`;\n  }\n  if (typeof context.started === 'number') {\n    session.started = context.started;\n  }\n  if (session.ignoreDuration) {\n    session.duration = undefined;\n  } else if (typeof context.duration === 'number') {\n    session.duration = context.duration;\n  } else {\n    const duration = session.timestamp - session.started;\n    session.duration = duration >= 0 ? duration : 0;\n  }\n  if (context.release) {\n    session.release = context.release;\n  }\n  if (context.environment) {\n    session.environment = context.environment;\n  }\n  if (!session.ipAddress && context.ipAddress) {\n    session.ipAddress = context.ipAddress;\n  }\n  if (!session.userAgent && context.userAgent) {\n    session.userAgent = context.userAgent;\n  }\n  if (typeof context.errors === 'number') {\n    session.errors = context.errors;\n  }\n  if (context.status) {\n    session.status = context.status;\n  }\n}\n\n/**\n * Closes a session by setting its status and updating the session object with it.\n * Internally calls `updateSession` to update the passed session object.\n *\n * Note that this function mutates the passed session (@see updateSession for explanation).\n *\n * @param session the `Session` object to be closed\n * @param status the `SessionStatus` with which the session was closed. If you don't pass a status,\n *               this function will keep the previously set status, unless it was `'ok'` in which case\n *               it is changed to `'exited'`.\n */\nexport function closeSession(session: Session, status?: Exclude<SessionStatus, 'ok'>): void {\n  let context = {};\n  if (status) {\n    context = { status };\n  } else if (session.status === 'ok') {\n    context = { status: 'exited' };\n  }\n\n  updateSession(session, context);\n}\n\n/**\n * Serializes a passed session object to a JSON object with a slightly different structure.\n * This is necessary because the Sentry backend requires a slightly different schema of a session\n * than the one the JS SDKs use internally.\n *\n * @param session the session to be converted\n *\n * @returns a JSON object of the passed session\n */\nfunction sessionToJSON(session: Session): SerializedSession {\n  return dropUndefinedKeys({\n    sid: `${session.sid}`,\n    init: session.init,\n    // Make sure that sec is converted to ms for date constructor\n    started: new Date(session.started * 1000).toISOString(),\n    timestamp: new Date(session.timestamp * 1000).toISOString(),\n    status: session.status,\n    errors: session.errors,\n    did: typeof session.did === 'number' || typeof session.did === 'string' ? `${session.did}` : undefined,\n    duration: session.duration,\n    attrs: {\n      release: session.release,\n      environment: session.environment,\n      ip_address: session.ipAddress,\n      user_agent: session.userAgent,\n    },\n  });\n}\n","export const SDK_VERSION = '7.37.0';\n","// Inspired from Donnie McNeal's solution:\n// https://gist.github.com/wontondon/e8c4bdf2888875e4c755712e99279536\n\nimport { WINDOW } from '@sentry/browser';\nimport type { Transaction, TransactionContext, TransactionSource } from '@sentry/types';\nimport { getNumberOfUrlSegments, logger } from '@sentry/utils';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport React from 'react';\n\nimport type {\n  Action,\n  AgnosticDataRouteMatch,\n  CreateRouterFunction,\n  CreateRoutesFromChildren,\n  Location,\n  MatchRoutes,\n  RouteMatch,\n  RouteObject,\n  Router,\n  RouterState,\n  UseEffect,\n  UseLocation,\n  UseNavigationType,\n  UseRoutes,\n} from './types';\n\nlet activeTransaction: Transaction | undefined;\n\nlet _useEffect: UseEffect;\nlet _useLocation: UseLocation;\nlet _useNavigationType: UseNavigationType;\nlet _createRoutesFromChildren: CreateRoutesFromChildren;\nlet _matchRoutes: MatchRoutes;\nlet _customStartTransaction: (context: TransactionContext) => Transaction | undefined;\nlet _startTransactionOnLocationChange: boolean;\n\nconst SENTRY_TAGS = {\n  'routing.instrumentation': 'react-router-v6',\n};\n\nexport function reactRouterV6Instrumentation(\n  useEffect: UseEffect,\n  useLocation: UseLocation,\n  useNavigationType: UseNavigationType,\n  createRoutesFromChildren: CreateRoutesFromChildren,\n  matchRoutes: MatchRoutes,\n) {\n  return (\n    customStartTransaction: (context: TransactionContext) => Transaction | undefined,\n    startTransactionOnPageLoad = true,\n    startTransactionOnLocationChange = true,\n  ): void => {\n    const initPathName = WINDOW && WINDOW.location && WINDOW.location.pathname;\n    if (startTransactionOnPageLoad && initPathName) {\n      activeTransaction = customStartTransaction({\n        name: initPathName,\n        op: 'pageload',\n        tags: SENTRY_TAGS,\n        metadata: {\n          source: 'url',\n        },\n      });\n    }\n\n    _useEffect = useEffect;\n    _useLocation = useLocation;\n    _useNavigationType = useNavigationType;\n    _matchRoutes = matchRoutes;\n    _createRoutesFromChildren = createRoutesFromChildren;\n\n    _customStartTransaction = customStartTransaction;\n    _startTransactionOnLocationChange = startTransactionOnLocationChange;\n  };\n}\n\nfunction getNormalizedName(\n  routes: RouteObject[],\n  location: Location,\n  branches: RouteMatch[],\n): [string, TransactionSource] {\n  if (!routes || routes.length === 0) {\n    return [location.pathname, 'url'];\n  }\n\n  let pathBuilder = '';\n  if (branches) {\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\n    for (let x = 0; x < branches.length; x++) {\n      const branch = branches[x];\n      const route = branch.route;\n      if (route) {\n        // Early return if index route\n        if (route.index) {\n          return [branch.pathname, 'route'];\n        }\n\n        const path = route.path;\n        if (path) {\n          const newPath = path[0] === '/' || pathBuilder[pathBuilder.length - 1] === '/' ? path : `/${path}`;\n          pathBuilder += newPath;\n          if (branch.pathname === location.pathname) {\n            if (\n              // If the route defined on the element is something like\n              // <Route path=\"/stores/:storeId/products/:productId\" element={<div>Product</div>} />\n              // We should check against the branch.pathname for the number of / seperators\n              getNumberOfUrlSegments(pathBuilder) !== getNumberOfUrlSegments(branch.pathname) &&\n              // We should not count wildcard operators in the url segments calculation\n              pathBuilder.slice(-2) !== '/*'\n            ) {\n              return [newPath, 'route'];\n            }\n            return [pathBuilder, 'route'];\n          }\n        }\n      }\n    }\n  }\n\n  return [location.pathname, 'url'];\n}\n\nfunction updatePageloadTransaction(location: Location, routes: RouteObject[], matches?: AgnosticDataRouteMatch): void {\n  const branches = Array.isArray(matches) ? matches : (_matchRoutes(routes, location) as unknown as RouteMatch[]);\n\n  if (activeTransaction && branches) {\n    activeTransaction.setName(...getNormalizedName(routes, location, branches));\n  }\n}\n\nfunction handleNavigation(\n  location: Location,\n  routes: RouteObject[],\n  navigationType: Action,\n  matches?: AgnosticDataRouteMatch,\n): void {\n  const branches = Array.isArray(matches) ? matches : _matchRoutes(routes, location);\n\n  if (_startTransactionOnLocationChange && (navigationType === 'PUSH' || navigationType === 'POP') && branches) {\n    if (activeTransaction) {\n      activeTransaction.finish();\n    }\n\n    const [name, source] = getNormalizedName(routes, location, branches);\n    activeTransaction = _customStartTransaction({\n      name,\n      op: 'navigation',\n      tags: SENTRY_TAGS,\n      metadata: {\n        source,\n      },\n    });\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function withSentryReactRouterV6Routing<P extends Record<string, any>, R extends React.FC<P>>(Routes: R): R {\n  if (\n    !_useEffect ||\n    !_useLocation ||\n    !_useNavigationType ||\n    !_createRoutesFromChildren ||\n    !_matchRoutes ||\n    !_customStartTransaction\n  ) {\n    __DEBUG_BUILD__ &&\n      logger.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.\n      useEffect: ${_useEffect}. useLocation: ${_useLocation}. useNavigationType: ${_useNavigationType}.\n      createRoutesFromChildren: ${_createRoutesFromChildren}. matchRoutes: ${_matchRoutes}. customStartTransaction: ${_customStartTransaction}.`);\n\n    return Routes;\n  }\n\n  let isMountRenderPass: boolean = true;\n\n  const SentryRoutes: React.FC<P> = (props: P) => {\n    const location = _useLocation();\n    const navigationType = _useNavigationType();\n\n    _useEffect(\n      () => {\n        const routes = _createRoutesFromChildren(props.children) as RouteObject[];\n\n        if (isMountRenderPass) {\n          updatePageloadTransaction(location, routes);\n          isMountRenderPass = false;\n        } else {\n          handleNavigation(location, routes, navigationType);\n        }\n      },\n      // `props.children` is purpusely not included in the dependency array, because we do not want to re-run this effect\n      // when the children change. We only want to start transactions when the location or navigation type change.\n      [location, navigationType],\n    );\n\n    // @ts-ignore Setting more specific React Component typing for `R` generic above\n    // will break advanced type inference done by react router params\n    return <Routes {...props} />;\n  };\n\n  hoistNonReactStatics(SentryRoutes, Routes);\n\n  // @ts-ignore Setting more specific React Component typing for `R` generic above\n  // will break advanced type inference done by react router params\n  return SentryRoutes;\n}\n\nexport function wrapUseRoutes(origUseRoutes: UseRoutes): UseRoutes {\n  if (!_useEffect || !_useLocation || !_useNavigationType || !_matchRoutes || !_customStartTransaction) {\n    __DEBUG_BUILD__ &&\n      logger.warn(\n        'reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters.',\n      );\n\n    return origUseRoutes;\n  }\n\n  let isMountRenderPass: boolean = true;\n\n  // eslint-disable-next-line react/display-name\n  return (routes: RouteObject[], locationArg?: Partial<Location> | string): React.ReactElement | null => {\n    const SentryRoutes: React.FC<unknown> = () => {\n      const Routes = origUseRoutes(routes, locationArg);\n\n      const location = _useLocation();\n      const navigationType = _useNavigationType();\n\n      // A value with stable identity to either pick `locationArg` if available or `location` if not\n      const stableLocationParam =\n        typeof locationArg === 'string' || (locationArg && locationArg.pathname)\n          ? (locationArg as { pathname: string })\n          : location;\n\n      _useEffect(() => {\n        const normalizedLocation =\n          typeof stableLocationParam === 'string' ? { pathname: stableLocationParam } : stableLocationParam;\n\n        if (isMountRenderPass) {\n          updatePageloadTransaction(normalizedLocation, routes);\n          isMountRenderPass = false;\n        } else {\n          handleNavigation(normalizedLocation, routes, navigationType);\n        }\n      }, [navigationType, stableLocationParam]);\n\n      return Routes;\n    };\n\n    return <SentryRoutes />;\n  };\n}\n\nexport function wrapCreateBrowserRouter<\n  TState extends RouterState = RouterState,\n  TRouter extends Router<TState> = Router<TState>,\n>(createRouterFunction: CreateRouterFunction<TState, TRouter>): CreateRouterFunction<TState, TRouter> {\n  // `opts` for createBrowserHistory and createMemoryHistory are different, but also not relevant for us at the moment.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function (routes: RouteObject[], opts?: any): TRouter {\n    const router = createRouterFunction(routes, opts);\n\n    // The initial load ends when `createBrowserRouter` is called.\n    // This is the earliest convenient time to update the transaction name.\n    // Callbacks to `router.subscribe` are not called for the initial load.\n    if (router.state.historyAction === 'POP' && activeTransaction) {\n      updatePageloadTransaction(router.state.location, routes);\n    }\n\n    router.subscribe((state: RouterState) => {\n      const location = state.location;\n\n      if (\n        _startTransactionOnLocationChange &&\n        (state.historyAction === 'PUSH' || state.historyAction === 'POP') &&\n        activeTransaction\n      ) {\n        handleNavigation(location, routes, state.historyAction);\n      }\n    });\n\n    return router;\n  };\n}\n","import { addInstrumentationHandler, logger } from '@sentry/utils';\n\nimport type { SpanStatusType } from './span';\nimport { getActiveTransaction } from './utils';\n\n/**\n * Configures global error listeners\n */\nexport function registerErrorInstrumentation(): void {\n  addInstrumentationHandler('error', errorCallback);\n  addInstrumentationHandler('unhandledrejection', errorCallback);\n}\n\n/**\n * If an error or unhandled promise occurs, we mark the active transaction as failed\n */\nfunction errorCallback(): void {\n  const activeTransaction = getActiveTransaction();\n  if (activeTransaction) {\n    const status: SpanStatusType = 'internal_error';\n    __DEBUG_BUILD__ && logger.log(`[Tracing] Transaction: ${status} -> Global error occured`);\n    activeTransaction.setStatus(status);\n  }\n}\n","import type { Hub } from '@sentry/core';\nimport { getMainCarrier } from '@sentry/core';\nimport type {\n  ClientOptions,\n  CustomSamplingContext,\n  Integration,\n  IntegrationClass,\n  Options,\n  SamplingContext,\n  TransactionContext,\n} from '@sentry/types';\nimport { dynamicRequire, isNaN, isNodeEnv, loadModule, logger } from '@sentry/utils';\n\nimport { registerErrorInstrumentation } from './errors';\nimport { IdleTransaction } from './idletransaction';\nimport { Transaction } from './transaction';\nimport { hasTracingEnabled } from './utils';\n\n/** Returns all trace headers that are currently on the top scope. */\nfunction traceHeaders(this: Hub): { [key: string]: string } {\n  const scope = this.getScope();\n  if (scope) {\n    const span = scope.getSpan();\n    if (span) {\n      return {\n        'sentry-trace': span.toTraceparent(),\n      };\n    }\n  }\n  return {};\n}\n\n/**\n * Makes a sampling decision for the given transaction and stores it on the transaction.\n *\n * Called every time a transaction is created. Only transactions which emerge with a `sampled` value of `true` will be\n * sent to Sentry.\n *\n * @param transaction: The transaction needing a sampling decision\n * @param options: The current client's options, so we can access `tracesSampleRate` and/or `tracesSampler`\n * @param samplingContext: Default and user-provided data which may be used to help make the decision\n *\n * @returns The given transaction with its `sampled` value set\n */\nfunction sample<T extends Transaction>(\n  transaction: T,\n  options: Pick<Options, 'tracesSampleRate' | 'tracesSampler'>,\n  samplingContext: SamplingContext,\n): T {\n  // nothing to do if tracing is not enabled\n  if (!hasTracingEnabled(options)) {\n    transaction.sampled = false;\n    return transaction;\n  }\n\n  // if the user has forced a sampling decision by passing a `sampled` value in their transaction context, go with that\n  if (transaction.sampled !== undefined) {\n    transaction.setMetadata({\n      sampleRate: Number(transaction.sampled),\n    });\n    return transaction;\n  }\n\n  // we would have bailed already if neither `tracesSampler` nor `tracesSampleRate` were defined, so one of these should\n  // work; prefer the hook if so\n  let sampleRate;\n  if (typeof options.tracesSampler === 'function') {\n    sampleRate = options.tracesSampler(samplingContext);\n    transaction.setMetadata({\n      sampleRate: Number(sampleRate),\n    });\n  } else if (samplingContext.parentSampled !== undefined) {\n    sampleRate = samplingContext.parentSampled;\n  } else {\n    sampleRate = options.tracesSampleRate;\n    transaction.setMetadata({\n      sampleRate: Number(sampleRate),\n    });\n  }\n\n  // Since this is coming from the user (or from a function provided by the user), who knows what we might get. (The\n  // only valid values are booleans or numbers between 0 and 1.)\n  if (!isValidSampleRate(sampleRate)) {\n    __DEBUG_BUILD__ && logger.warn('[Tracing] Discarding transaction because of invalid sample rate.');\n    transaction.sampled = false;\n    return transaction;\n  }\n\n  // if the function returned 0 (or false), or if `tracesSampleRate` is 0, it's a sign the transaction should be dropped\n  if (!sampleRate) {\n    __DEBUG_BUILD__ &&\n      logger.log(\n        `[Tracing] Discarding transaction because ${\n          typeof options.tracesSampler === 'function'\n            ? 'tracesSampler returned 0 or false'\n            : 'a negative sampling decision was inherited or tracesSampleRate is set to 0'\n        }`,\n      );\n    transaction.sampled = false;\n    return transaction;\n  }\n\n  // Now we roll the dice. Math.random is inclusive of 0, but not of 1, so strict < is safe here. In case sampleRate is\n  // a boolean, the < comparison will cause it to be automatically cast to 1 if it's true and 0 if it's false.\n  transaction.sampled = Math.random() < (sampleRate as number | boolean);\n\n  // if we're not going to keep it, we're done\n  if (!transaction.sampled) {\n    __DEBUG_BUILD__ &&\n      logger.log(\n        `[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(\n          sampleRate,\n        )})`,\n      );\n    return transaction;\n  }\n\n  __DEBUG_BUILD__ && logger.log(`[Tracing] starting ${transaction.op} transaction - ${transaction.name}`);\n  return transaction;\n}\n\n/**\n * Checks the given sample rate to make sure it is valid type and value (a boolean, or a number between 0 and 1).\n */\nfunction isValidSampleRate(rate: unknown): boolean {\n  // we need to check NaN explicitly because it's of type 'number' and therefore wouldn't get caught by this typecheck\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  if (isNaN(rate) || !(typeof rate === 'number' || typeof rate === 'boolean')) {\n    __DEBUG_BUILD__ &&\n      logger.warn(\n        `[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(\n          rate,\n        )} of type ${JSON.stringify(typeof rate)}.`,\n      );\n    return false;\n  }\n\n  // in case sampleRate is a boolean, it will get automatically cast to 1 if it's true and 0 if it's false\n  if (rate < 0 || rate > 1) {\n    __DEBUG_BUILD__ &&\n      logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${rate}.`);\n    return false;\n  }\n  return true;\n}\n\n/**\n * Creates a new transaction and adds a sampling decision if it doesn't yet have one.\n *\n * The Hub.startTransaction method delegates to this method to do its work, passing the Hub instance in as `this`, as if\n * it had been called on the hub directly. Exists as a separate function so that it can be injected into the class as an\n * \"extension method.\"\n *\n * @param this: The Hub starting the transaction\n * @param transactionContext: Data used to configure the transaction\n * @param CustomSamplingContext: Optional data to be provided to the `tracesSampler` function (if any)\n *\n * @returns The new transaction\n *\n * @see {@link Hub.startTransaction}\n */\nfunction _startTransaction(\n  this: Hub,\n  transactionContext: TransactionContext,\n  customSamplingContext?: CustomSamplingContext,\n): Transaction {\n  const client = this.getClient();\n  const options: Partial<ClientOptions> = (client && client.getOptions()) || {};\n\n  const configInstrumenter = options.instrumenter || 'sentry';\n  const transactionInstrumenter = transactionContext.instrumenter || 'sentry';\n\n  if (configInstrumenter !== transactionInstrumenter) {\n    __DEBUG_BUILD__ &&\n      logger.error(\n        `A transaction was started with instrumenter=\\`${transactionInstrumenter}\\`, but the SDK is configured with the \\`${configInstrumenter}\\` instrumenter.\nThe transaction will not be sampled. Please use the ${configInstrumenter} instrumentation to start transactions.`,\n      );\n\n    transactionContext.sampled = false;\n  }\n\n  let transaction = new Transaction(transactionContext, this);\n  transaction = sample(transaction, options, {\n    parentSampled: transactionContext.parentSampled,\n    transactionContext,\n    ...customSamplingContext,\n  });\n  if (transaction.sampled) {\n    transaction.initSpanRecorder(options._experiments && (options._experiments.maxSpans as number));\n  }\n  return transaction;\n}\n\n/**\n * Create new idle transaction.\n */\nexport function startIdleTransaction(\n  hub: Hub,\n  transactionContext: TransactionContext,\n  idleTimeout: number,\n  finalTimeout: number,\n  onScope?: boolean,\n  customSamplingContext?: CustomSamplingContext,\n  heartbeatInterval?: number,\n): IdleTransaction {\n  const client = hub.getClient();\n  const options: Partial<ClientOptions> = (client && client.getOptions()) || {};\n\n  let transaction = new IdleTransaction(transactionContext, hub, idleTimeout, finalTimeout, heartbeatInterval, onScope);\n  transaction = sample(transaction, options, {\n    parentSampled: transactionContext.parentSampled,\n    transactionContext,\n    ...customSamplingContext,\n  });\n  if (transaction.sampled) {\n    transaction.initSpanRecorder(options._experiments && (options._experiments.maxSpans as number));\n  }\n  return transaction;\n}\n\n/**\n * @private\n */\nexport function _addTracingExtensions(): void {\n  const carrier = getMainCarrier();\n  if (!carrier.__SENTRY__) {\n    return;\n  }\n  carrier.__SENTRY__.extensions = carrier.__SENTRY__.extensions || {};\n  if (!carrier.__SENTRY__.extensions.startTransaction) {\n    carrier.__SENTRY__.extensions.startTransaction = _startTransaction;\n  }\n  if (!carrier.__SENTRY__.extensions.traceHeaders) {\n    carrier.__SENTRY__.extensions.traceHeaders = traceHeaders;\n  }\n}\n\n/**\n * @private\n */\nfunction _autoloadDatabaseIntegrations(): void {\n  const carrier = getMainCarrier();\n  if (!carrier.__SENTRY__) {\n    return;\n  }\n\n  const packageToIntegrationMapping: Record<string, () => Integration> = {\n    mongodb() {\n      const integration = dynamicRequire(module, './integrations/node/mongo') as {\n        Mongo: IntegrationClass<Integration>;\n      };\n      return new integration.Mongo();\n    },\n    mongoose() {\n      const integration = dynamicRequire(module, './integrations/node/mongo') as {\n        Mongo: IntegrationClass<Integration>;\n      };\n      return new integration.Mongo({ mongoose: true });\n    },\n    mysql() {\n      const integration = dynamicRequire(module, './integrations/node/mysql') as {\n        Mysql: IntegrationClass<Integration>;\n      };\n      return new integration.Mysql();\n    },\n    pg() {\n      const integration = dynamicRequire(module, './integrations/node/postgres') as {\n        Postgres: IntegrationClass<Integration>;\n      };\n      return new integration.Postgres();\n    },\n  };\n\n  const mappedPackages = Object.keys(packageToIntegrationMapping)\n    .filter(moduleName => !!loadModule(moduleName))\n    .map(pkg => {\n      try {\n        return packageToIntegrationMapping[pkg]();\n      } catch (e) {\n        return undefined;\n      }\n    })\n    .filter(p => p) as Integration[];\n\n  if (mappedPackages.length > 0) {\n    carrier.__SENTRY__.integrations = [...(carrier.__SENTRY__.integrations || []), ...mappedPackages];\n  }\n}\n\n/**\n * This patches the global object and injects the Tracing extensions methods\n */\nexport function addExtensionMethods(): void {\n  _addTracingExtensions();\n\n  // Detect and automatically load specified integrations.\n  if (isNodeEnv()) {\n    _autoloadDatabaseIntegrations();\n  }\n\n  // If an error happens globally, we should make sure transaction status is set to error.\n  registerErrorInstrumentation();\n}\n","/* eslint-disable max-lines */\nimport type { Hub } from '@sentry/core';\nimport type { TransactionContext } from '@sentry/types';\nimport { logger, timestampWithMs } from '@sentry/utils';\n\nimport type { Span } from './span';\nimport { SpanRecorder } from './span';\nimport { Transaction } from './transaction';\n\nexport const DEFAULT_IDLE_TIMEOUT = 1000;\nexport const DEFAULT_FINAL_TIMEOUT = 30000;\nexport const DEFAULT_HEARTBEAT_INTERVAL = 5000;\n\n/**\n * @inheritDoc\n */\nexport class IdleTransactionSpanRecorder extends SpanRecorder {\n  public constructor(\n    private readonly _pushActivity: (id: string) => void,\n    private readonly _popActivity: (id: string) => void,\n    public transactionSpanId: string,\n    maxlen?: number,\n  ) {\n    super(maxlen);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public add(span: Span): void {\n    // We should make sure we do not push and pop activities for\n    // the transaction that this span recorder belongs to.\n    if (span.spanId !== this.transactionSpanId) {\n      // We patch span.finish() to pop an activity after setting an endTimestamp.\n      span.finish = (endTimestamp?: number) => {\n        span.endTimestamp = typeof endTimestamp === 'number' ? endTimestamp : timestampWithMs();\n        this._popActivity(span.spanId);\n      };\n\n      // We should only push new activities if the span does not have an end timestamp.\n      if (span.endTimestamp === undefined) {\n        this._pushActivity(span.spanId);\n      }\n    }\n\n    super.add(span);\n  }\n}\n\nexport type BeforeFinishCallback = (transactionSpan: IdleTransaction, endTimestamp: number) => void;\n\n/**\n * An IdleTransaction is a transaction that automatically finishes. It does this by tracking child spans as activities.\n * You can have multiple IdleTransactions active, but if the `onScope` option is specified, the idle transaction will\n * put itself on the scope on creation.\n */\nexport class IdleTransaction extends Transaction {\n  // Activities store a list of active spans\n  public activities: Record<string, boolean> = {};\n\n  // Track state of activities in previous heartbeat\n  private _prevHeartbeatString: string | undefined;\n\n  // Amount of times heartbeat has counted. Will cause transaction to finish after 3 beats.\n  private _heartbeatCounter: number = 0;\n\n  // We should not use heartbeat if we finished a transaction\n  private _finished: boolean = false;\n\n  private readonly _beforeFinishCallbacks: BeforeFinishCallback[] = [];\n\n  /**\n   * Timer that tracks Transaction idleTimeout\n   */\n  private _idleTimeoutID: ReturnType<typeof setTimeout> | undefined;\n\n  public constructor(\n    transactionContext: TransactionContext,\n    private readonly _idleHub: Hub,\n    /**\n     * The time to wait in ms until the idle transaction will be finished. This timer is started each time\n     * there are no active spans on this transaction.\n     */\n    private readonly _idleTimeout: number = DEFAULT_IDLE_TIMEOUT,\n    /**\n     * The final value in ms that a transaction cannot exceed\n     */\n    private readonly _finalTimeout: number = DEFAULT_FINAL_TIMEOUT,\n    private readonly _heartbeatInterval: number = DEFAULT_HEARTBEAT_INTERVAL,\n    // Whether or not the transaction should put itself on the scope when it starts and pop itself off when it ends\n    private readonly _onScope: boolean = false,\n  ) {\n    super(transactionContext, _idleHub);\n\n    if (_onScope) {\n      // There should only be one active transaction on the scope\n      clearActiveTransaction(_idleHub);\n\n      // We set the transaction here on the scope so error events pick up the trace\n      // context and attach it to the error.\n      __DEBUG_BUILD__ && logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`);\n      _idleHub.configureScope(scope => scope.setSpan(this));\n    }\n\n    this._startIdleTimeout();\n    setTimeout(() => {\n      if (!this._finished) {\n        this.setStatus('deadline_exceeded');\n        this.finish();\n      }\n    }, this._finalTimeout);\n  }\n\n  /** {@inheritDoc} */\n  public finish(endTimestamp: number = timestampWithMs()): string | undefined {\n    this._finished = true;\n    this.activities = {};\n\n    if (this.spanRecorder) {\n      __DEBUG_BUILD__ &&\n        logger.log('[Tracing] finishing IdleTransaction', new Date(endTimestamp * 1000).toISOString(), this.op);\n\n      for (const callback of this._beforeFinishCallbacks) {\n        callback(this, endTimestamp);\n      }\n\n      this.spanRecorder.spans = this.spanRecorder.spans.filter((span: Span) => {\n        // If we are dealing with the transaction itself, we just return it\n        if (span.spanId === this.spanId) {\n          return true;\n        }\n\n        // We cancel all pending spans with status \"cancelled\" to indicate the idle transaction was finished early\n        if (!span.endTimestamp) {\n          span.endTimestamp = endTimestamp;\n          span.setStatus('cancelled');\n          __DEBUG_BUILD__ &&\n            logger.log('[Tracing] cancelling span since transaction ended early', JSON.stringify(span, undefined, 2));\n        }\n\n        const keepSpan = span.startTimestamp < endTimestamp;\n        if (!keepSpan) {\n          __DEBUG_BUILD__ &&\n            logger.log(\n              '[Tracing] discarding Span since it happened after Transaction was finished',\n              JSON.stringify(span, undefined, 2),\n            );\n        }\n        return keepSpan;\n      });\n\n      __DEBUG_BUILD__ && logger.log('[Tracing] flushing IdleTransaction');\n    } else {\n      __DEBUG_BUILD__ && logger.log('[Tracing] No active IdleTransaction');\n    }\n\n    // if `this._onScope` is `true`, the transaction put itself on the scope when it started\n    if (this._onScope) {\n      clearActiveTransaction(this._idleHub);\n    }\n\n    return super.finish(endTimestamp);\n  }\n\n  /**\n   * Register a callback function that gets excecuted before the transaction finishes.\n   * Useful for cleanup or if you want to add any additional spans based on current context.\n   *\n   * This is exposed because users have no other way of running something before an idle transaction\n   * finishes.\n   */\n  public registerBeforeFinishCallback(callback: BeforeFinishCallback): void {\n    this._beforeFinishCallbacks.push(callback);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public initSpanRecorder(maxlen?: number): void {\n    if (!this.spanRecorder) {\n      const pushActivity = (id: string): void => {\n        if (this._finished) {\n          return;\n        }\n        this._pushActivity(id);\n      };\n      const popActivity = (id: string): void => {\n        if (this._finished) {\n          return;\n        }\n        this._popActivity(id);\n      };\n\n      this.spanRecorder = new IdleTransactionSpanRecorder(pushActivity, popActivity, this.spanId, maxlen);\n\n      // Start heartbeat so that transactions do not run forever.\n      __DEBUG_BUILD__ && logger.log('Starting heartbeat');\n      this._pingHeartbeat();\n    }\n    this.spanRecorder.add(this);\n  }\n\n  /**\n   * Cancels the existing idletimeout, if there is one\n   */\n  private _cancelIdleTimeout(): void {\n    if (this._idleTimeoutID) {\n      clearTimeout(this._idleTimeoutID);\n      this._idleTimeoutID = undefined;\n    }\n  }\n\n  /**\n   * Creates an idletimeout\n   */\n  private _startIdleTimeout(endTimestamp?: Parameters<IdleTransaction['finish']>[0]): void {\n    this._cancelIdleTimeout();\n    this._idleTimeoutID = setTimeout(() => {\n      if (!this._finished && Object.keys(this.activities).length === 0) {\n        this.finish(endTimestamp);\n      }\n    }, this._idleTimeout);\n  }\n\n  /**\n   * Start tracking a specific activity.\n   * @param spanId The span id that represents the activity\n   */\n  private _pushActivity(spanId: string): void {\n    this._cancelIdleTimeout();\n    __DEBUG_BUILD__ && logger.log(`[Tracing] pushActivity: ${spanId}`);\n    this.activities[spanId] = true;\n    __DEBUG_BUILD__ && logger.log('[Tracing] new activities count', Object.keys(this.activities).length);\n  }\n\n  /**\n   * Remove an activity from usage\n   * @param spanId The span id that represents the activity\n   */\n  private _popActivity(spanId: string): void {\n    if (this.activities[spanId]) {\n      __DEBUG_BUILD__ && logger.log(`[Tracing] popActivity ${spanId}`);\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this.activities[spanId];\n      __DEBUG_BUILD__ && logger.log('[Tracing] new activities count', Object.keys(this.activities).length);\n    }\n\n    if (Object.keys(this.activities).length === 0) {\n      // We need to add the timeout here to have the real endtimestamp of the transaction\n      // Remember timestampWithMs is in seconds, timeout is in ms\n      const endTimestamp = timestampWithMs() + this._idleTimeout / 1000;\n      this._startIdleTimeout(endTimestamp);\n    }\n  }\n\n  /**\n   * Checks when entries of this.activities are not changing for 3 beats.\n   * If this occurs we finish the transaction.\n   */\n  private _beat(): void {\n    // We should not be running heartbeat if the idle transaction is finished.\n    if (this._finished) {\n      return;\n    }\n\n    const heartbeatString = Object.keys(this.activities).join('');\n\n    if (heartbeatString === this._prevHeartbeatString) {\n      this._heartbeatCounter++;\n    } else {\n      this._heartbeatCounter = 1;\n    }\n\n    this._prevHeartbeatString = heartbeatString;\n\n    if (this._heartbeatCounter >= 3) {\n      __DEBUG_BUILD__ && logger.log('[Tracing] Transaction finished because of no change for 3 heart beats');\n      this.setStatus('deadline_exceeded');\n      this.finish();\n    } else {\n      this._pingHeartbeat();\n    }\n  }\n\n  /**\n   * Pings the heartbeat\n   */\n  private _pingHeartbeat(): void {\n    __DEBUG_BUILD__ && logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`);\n    setTimeout(() => {\n      this._beat();\n    }, this._heartbeatInterval);\n  }\n}\n\n/**\n * Reset transaction on scope to `undefined`\n */\nfunction clearActiveTransaction(hub: Hub): void {\n  const scope = hub.getScope();\n  if (scope) {\n    const transaction = scope.getTransaction();\n    if (transaction) {\n      scope.setSpan(undefined);\n    }\n  }\n}\n","import type { TraceparentData } from '@sentry/types';\n\nexport const TRACEPARENT_REGEXP = new RegExp(\n  '^[ \\\\t]*' + // whitespace\n    '([0-9a-f]{32})?' + // trace_id\n    '-?([0-9a-f]{16})?' + // span_id\n    '-?([01])?' + // sampled\n    '[ \\\\t]*$', // whitespace\n);\n\n/**\n * Extract transaction context data from a `sentry-trace` header.\n *\n * @param traceparent Traceparent string\n *\n * @returns Object containing data from the header, or undefined if traceparent string is malformed\n */\nexport function extractTraceparentData(traceparent: string): TraceparentData | undefined {\n  const matches = traceparent.match(TRACEPARENT_REGEXP);\n\n  if (!traceparent || !matches) {\n    // empty string or no matches is invalid traceparent data\n    return undefined;\n  }\n\n  let parentSampled: boolean | undefined;\n  if (matches[3] === '1') {\n    parentSampled = true;\n  } else if (matches[3] === '0') {\n    parentSampled = false;\n  }\n\n  return {\n    traceId: matches[1],\n    parentSampled,\n    parentSpanId: matches[2],\n  };\n}\n","import type { DynamicSamplingContext } from '@sentry/types';\n\nimport { isString } from './is';\nimport { logger } from './logger';\n\nexport const BAGGAGE_HEADER_NAME = 'baggage';\n\nexport const SENTRY_BAGGAGE_KEY_PREFIX = 'sentry-';\n\nexport const SENTRY_BAGGAGE_KEY_PREFIX_REGEX = /^sentry-/;\n\n/**\n * Max length of a serialized baggage string\n *\n * https://www.w3.org/TR/baggage/#limits\n */\nexport const MAX_BAGGAGE_STRING_LENGTH = 8192;\n\n/**\n * Takes a baggage header and turns it into Dynamic Sampling Context, by extracting all the \"sentry-\" prefixed values\n * from it.\n *\n * @param baggageHeader A very bread definition of a baggage header as it might appear in various frameworks.\n * @returns The Dynamic Sampling Context that was found on `baggageHeader`, if there was any, `undefined` otherwise.\n */\nexport function baggageHeaderToDynamicSamplingContext(\n  // Very liberal definition of what any incoming header might look like\n  baggageHeader: string | string[] | number | null | undefined | boolean,\n): Partial<DynamicSamplingContext> | undefined {\n  if (!isString(baggageHeader) && !Array.isArray(baggageHeader)) {\n    return undefined;\n  }\n\n  // Intermediary object to store baggage key value pairs of incoming baggage headers on.\n  // It is later used to read Sentry-DSC-values from.\n  let baggageObject: Readonly<Record<string, string>> = {};\n\n  if (Array.isArray(baggageHeader)) {\n    // Combine all baggage headers into one object containing the baggage values so we can later read the Sentry-DSC-values from it\n    baggageObject = baggageHeader.reduce<Record<string, string>>((acc, curr) => {\n      const currBaggageObject = baggageHeaderToObject(curr);\n      return {\n        ...acc,\n        ...currBaggageObject,\n      };\n    }, {});\n  } else {\n    // Return undefined if baggage header is an empty string (technically an empty baggage header is not spec conform but\n    // this is how we choose to handle it)\n    if (!baggageHeader) {\n      return undefined;\n    }\n\n    baggageObject = baggageHeaderToObject(baggageHeader);\n  }\n\n  // Read all \"sentry-\" prefixed values out of the baggage object and put it onto a dynamic sampling context object.\n  const dynamicSamplingContext = Object.entries(baggageObject).reduce<Record<string, string>>((acc, [key, value]) => {\n    if (key.match(SENTRY_BAGGAGE_KEY_PREFIX_REGEX)) {\n      const nonPrefixedKey = key.slice(SENTRY_BAGGAGE_KEY_PREFIX.length);\n      acc[nonPrefixedKey] = value;\n    }\n    return acc;\n  }, {});\n\n  // Only return a dynamic sampling context object if there are keys in it.\n  // A keyless object means there were no sentry values on the header, which means that there is no DSC.\n  if (Object.keys(dynamicSamplingContext).length > 0) {\n    return dynamicSamplingContext as Partial<DynamicSamplingContext>;\n  } else {\n    return undefined;\n  }\n}\n\n/**\n * Turns a Dynamic Sampling Object into a baggage header by prefixing all the keys on the object with \"sentry-\".\n *\n * @param dynamicSamplingContext The Dynamic Sampling Context to turn into a header. For convenience and compatibility\n * with the `getDynamicSamplingContext` method on the Transaction class ,this argument can also be `undefined`. If it is\n * `undefined` the function will return `undefined`.\n * @returns a baggage header, created from `dynamicSamplingContext`, or `undefined` either if `dynamicSamplingContext`\n * was `undefined`, or if `dynamicSamplingContext` didn't contain any values.\n */\nexport function dynamicSamplingContextToSentryBaggageHeader(\n  // this also takes undefined for convenience and bundle size in other places\n  dynamicSamplingContext: Partial<DynamicSamplingContext>,\n): string | undefined {\n  // Prefix all DSC keys with \"sentry-\" and put them into a new object\n  const sentryPrefixedDSC = Object.entries(dynamicSamplingContext).reduce<Record<string, string>>(\n    (acc, [dscKey, dscValue]) => {\n      if (dscValue) {\n        acc[`${SENTRY_BAGGAGE_KEY_PREFIX}${dscKey}`] = dscValue;\n      }\n      return acc;\n    },\n    {},\n  );\n\n  return objectToBaggageHeader(sentryPrefixedDSC);\n}\n\n/**\n * Will parse a baggage header, which is a simple key-value map, into a flat object.\n *\n * @param baggageHeader The baggage header to parse.\n * @returns a flat object containing all the key-value pairs from `baggageHeader`.\n */\nfunction baggageHeaderToObject(baggageHeader: string): Record<string, string> {\n  return baggageHeader\n    .split(',')\n    .map(baggageEntry => baggageEntry.split('=').map(keyOrValue => decodeURIComponent(keyOrValue.trim())))\n    .reduce<Record<string, string>>((acc, [key, value]) => {\n      acc[key] = value;\n      return acc;\n    }, {});\n}\n\n/**\n * Turns a flat object (key-value pairs) into a baggage header, which is also just key-value pairs.\n *\n * @param object The object to turn into a baggage header.\n * @returns a baggage header string, or `undefined` if the object didn't have any values, since an empty baggage header\n * is not spec compliant.\n */\nfunction objectToBaggageHeader(object: Record<string, string>): string | undefined {\n  if (Object.keys(object).length === 0) {\n    // An empty baggage header is not spec compliant: We return undefined.\n    return undefined;\n  }\n\n  return Object.entries(object).reduce((baggageHeader, [objectKey, objectValue], currentIndex) => {\n    const baggageEntry = `${encodeURIComponent(objectKey)}=${encodeURIComponent(objectValue)}`;\n    const newBaggageHeader = currentIndex === 0 ? baggageEntry : `${baggageHeader},${baggageEntry}`;\n    if (newBaggageHeader.length > MAX_BAGGAGE_STRING_LENGTH) {\n      __DEBUG_BUILD__ &&\n        logger.warn(\n          `Not adding key: ${objectKey} with val: ${objectValue} to baggage header due to exceeding baggage size limits.`,\n        );\n      return baggageHeader;\n    } else {\n      return newBaggageHeader;\n    }\n  }, '');\n}\n","import { GLOBAL_OBJ } from '@sentry/utils';\n\nexport const WINDOW = GLOBAL_OBJ as typeof GLOBAL_OBJ & Window;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Metric, ReportCallback } from '../types';\n\nexport const bindReporter = (\n  callback: ReportCallback,\n  metric: Metric,\n  reportAllChanges?: boolean,\n): ((forceReport?: boolean) => void) => {\n  let prevValue: number;\n  let delta: number;\n  return (forceReport?: boolean) => {\n    if (metric.value >= 0) {\n      if (forceReport || reportAllChanges) {\n        delta = metric.value - (prevValue || 0);\n\n        // Report the metric if there's a non-zero delta or if no previous\n        // value exists (which can happen in the case of the document becoming\n        // hidden when the metric value is 0).\n        // See: https://github.com/GoogleChrome/web-vitals/issues/14\n        if (delta || prevValue === undefined) {\n          prevValue = metric.value;\n          metric.delta = delta;\n          callback(metric);\n        }\n      }\n    }\n  };\n};\n","/*\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WINDOW } from '../../types';\nimport type { NavigationTimingPolyfillEntry } from '../types';\n\nconst getNavigationEntryFromPerformanceTiming = (): NavigationTimingPolyfillEntry => {\n  // eslint-disable-next-line deprecation/deprecation\n  const timing = WINDOW.performance.timing;\n  // eslint-disable-next-line deprecation/deprecation\n  const type = WINDOW.performance.navigation.type;\n\n  const navigationEntry: { [key: string]: number | string } = {\n    entryType: 'navigation',\n    startTime: 0,\n    type: type == 2 ? 'back_forward' : type === 1 ? 'reload' : 'navigate',\n  };\n\n  for (const key in timing) {\n    if (key !== 'navigationStart' && key !== 'toJSON') {\n      navigationEntry[key] = Math.max((timing[key as keyof PerformanceTiming] as number) - timing.navigationStart, 0);\n    }\n  }\n  return navigationEntry as unknown as NavigationTimingPolyfillEntry;\n};\n\nexport const getNavigationEntry = (): PerformanceNavigationTiming | NavigationTimingPolyfillEntry | undefined => {\n  if (WINDOW.__WEB_VITALS_POLYFILL__) {\n    return (\n      WINDOW.performance &&\n      ((performance.getEntriesByType && performance.getEntriesByType('navigation')[0]) ||\n        getNavigationEntryFromPerformanceTiming())\n    );\n  } else {\n    return WINDOW.performance && performance.getEntriesByType && performance.getEntriesByType('navigation')[0];\n  }\n};\n","/*\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getNavigationEntry } from './getNavigationEntry';\n\nexport const getActivationStart = (): number => {\n  const navEntry = getNavigationEntry();\n  return (navEntry && navEntry.activationStart) || 0;\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WINDOW } from '../../types';\nimport type { Metric } from '../types';\nimport { generateUniqueID } from './generateUniqueID';\nimport { getActivationStart } from './getActivationStart';\nimport { getNavigationEntry } from './getNavigationEntry';\n\nexport const initMetric = (name: Metric['name'], value?: number): Metric => {\n  const navEntry = getNavigationEntry();\n  let navigationType: Metric['navigationType'] = 'navigate';\n\n  if (navEntry) {\n    if (WINDOW.document.prerendering || getActivationStart() > 0) {\n      navigationType = 'prerender';\n    } else {\n      navigationType = navEntry.type.replace(/_/g, '-') as Metric['navigationType'];\n    }\n  }\n\n  return {\n    name,\n    value: typeof value === 'undefined' ? -1 : value,\n    rating: 'good', // Will be updated if the value changes.\n    delta: 0,\n    entries: [],\n    id: generateUniqueID(),\n    navigationType,\n  };\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Performantly generate a unique, 30-char string by combining a version\n * number, the current timestamp with a 13-digit number integer.\n * @return {string}\n */\nexport const generateUniqueID = (): string => {\n  return `v3-${Date.now()}-${Math.floor(Math.random() * (9e12 - 1)) + 1e12}`;\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { FirstInputPolyfillEntry, NavigationTimingPolyfillEntry, PerformancePaintTiming } from '../types';\n\nexport interface PerformanceEntryHandler {\n  (entry: PerformanceEntry): void;\n}\n\ninterface PerformanceEntryMap {\n  event: PerformanceEventTiming[];\n  paint: PerformancePaintTiming[];\n  'layout-shift': LayoutShift[];\n  'largest-contentful-paint': LargestContentfulPaint[];\n  'first-input': PerformanceEventTiming[] | FirstInputPolyfillEntry[];\n  navigation: PerformanceNavigationTiming[] | NavigationTimingPolyfillEntry[];\n  resource: PerformanceResourceTiming[];\n  longtask: PerformanceEntry[];\n}\n\n/**\n * Takes a performance entry type and a callback function, and creates a\n * `PerformanceObserver` instance that will observe the specified entry type\n * with buffering enabled and call the callback _for each entry_.\n *\n * This function also feature-detects entry support and wraps the logic in a\n * try/catch to avoid errors in unsupporting browsers.\n */\nexport const observe = <K extends keyof PerformanceEntryMap>(\n  type: K,\n  callback: (entries: PerformanceEntryMap[K]) => void,\n  opts?: PerformanceObserverInit,\n): PerformanceObserver | undefined => {\n  try {\n    if (PerformanceObserver.supportedEntryTypes.includes(type)) {\n      const po = new PerformanceObserver(list => {\n        callback(list.getEntries() as PerformanceEntryMap[K]);\n      });\n      po.observe(\n        Object.assign(\n          {\n            type,\n            buffered: true,\n          },\n          opts || {},\n        ) as PerformanceObserverInit,\n      );\n      return po;\n    }\n  } catch (e) {\n    // Do nothing.\n  }\n  return;\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WINDOW } from '../../types';\n\nexport interface OnHiddenCallback {\n  (event: Event): void;\n}\n\nexport const onHidden = (cb: OnHiddenCallback, once?: boolean): void => {\n  const onHiddenOrPageHide = (event: Event): void => {\n    if (event.type === 'pagehide' || WINDOW.document.visibilityState === 'hidden') {\n      cb(event);\n      if (once) {\n        removeEventListener('visibilitychange', onHiddenOrPageHide, true);\n        removeEventListener('pagehide', onHiddenOrPageHide, true);\n      }\n    }\n  };\n  addEventListener('visibilitychange', onHiddenOrPageHide, true);\n  // Some browsers have buggy implementations of visibilitychange,\n  // so we use pagehide in addition, just to be safe.\n  addEventListener('pagehide', onHiddenOrPageHide, true);\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WINDOW } from '../../types';\nimport { onHidden } from './onHidden';\n\nlet firstHiddenTime = -1;\n\nconst initHiddenTime = (): number => {\n  // If the document is hidden and not prerendering, assume it was always\n  // hidden and the page was loaded in the background.\n  return WINDOW.document.visibilityState === 'hidden' && !WINDOW.document.prerendering ? 0 : Infinity;\n};\n\nconst trackChanges = (): void => {\n  // Update the time if/when the document becomes hidden.\n  onHidden(({ timeStamp }) => {\n    firstHiddenTime = timeStamp;\n  }, true);\n};\n\nexport const getVisibilityWatcher = (): {\n  readonly firstHiddenTime: number;\n} => {\n  if (firstHiddenTime < 0) {\n    // If the document is hidden when this code runs, assume it was hidden\n    // since navigation start. This isn't a perfect heuristic, but it's the\n    // best we can do until an API is available to support querying past\n    // visibilityState.\n    firstHiddenTime = initHiddenTime();\n    trackChanges();\n  }\n  return {\n    get firstHiddenTime() {\n      return firstHiddenTime;\n    },\n  };\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { bindReporter } from './lib/bindReporter';\nimport { getActivationStart } from './lib/getActivationStart';\nimport { getVisibilityWatcher } from './lib/getVisibilityWatcher';\nimport { initMetric } from './lib/initMetric';\nimport { observe } from './lib/observe';\nimport { onHidden } from './lib/onHidden';\nimport type { LCPMetric, ReportCallback } from './types';\n\nconst reportedMetricIDs: Record<string, boolean> = {};\n\n/**\n * Calculates the [LCP](https://web.dev/lcp/) value for the current page and\n * calls the `callback` function once the value is ready (along with the\n * relevant `largest-contentful-paint` performance entry used to determine the\n * value). The reported value is a `DOMHighResTimeStamp`.\n */\nexport const onLCP = (onReport: ReportCallback): void => {\n  const visibilityWatcher = getVisibilityWatcher();\n  const metric = initMetric('LCP');\n  let report: ReturnType<typeof bindReporter>;\n\n  const handleEntries = (entries: LCPMetric['entries']): void => {\n    const lastEntry = entries[entries.length - 1] as LargestContentfulPaint;\n    if (lastEntry) {\n      // The startTime attribute returns the value of the renderTime if it is\n      // not 0, and the value of the loadTime otherwise. The activationStart\n      // reference is used because LCP should be relative to page activation\n      // rather than navigation start if the page was prerendered.\n      const value = Math.max(lastEntry.startTime - getActivationStart(), 0);\n\n      // Only report if the page wasn't hidden prior to LCP.\n      if (value < visibilityWatcher.firstHiddenTime) {\n        metric.value = value;\n        metric.entries = [lastEntry];\n        report();\n      }\n    }\n  };\n\n  const po = observe('largest-contentful-paint', handleEntries);\n\n  if (po) {\n    report = bindReporter(onReport, metric);\n\n    const stopListening = (): void => {\n      if (!reportedMetricIDs[metric.id]) {\n        handleEntries(po.takeRecords() as LCPMetric['entries']);\n        po.disconnect();\n        reportedMetricIDs[metric.id] = true;\n        report(true);\n      }\n    };\n\n    // Stop listening after input. Note: while scrolling is an input that\n    // stop LCP observation, it's unreliable since it can be programmatically\n    // generated. See: https://github.com/GoogleChrome/web-vitals/issues/75\n    ['keydown', 'click'].forEach(type => {\n      addEventListener(type, stopListening, { once: true, capture: true });\n    });\n\n    onHidden(stopListening, true);\n  }\n};\n","import type { Span, SpanContext } from '@sentry/types';\n\nimport type { Transaction } from '../../transaction';\n\n/**\n * Checks if a given value is a valid measurement value.\n */\nexport function isMeasurementValue(value: unknown): value is number {\n  return typeof value === 'number' && isFinite(value);\n}\n\n/**\n * Helper function to start child on transactions. This function will make sure that the transaction will\n * use the start timestamp of the created child span if it is earlier than the transactions actual\n * start timestamp.\n */\nexport function _startChild(transaction: Transaction, { startTimestamp, ...ctx }: SpanContext): Span {\n  if (startTimestamp && transaction.startTimestamp > startTimestamp) {\n    transaction.startTimestamp = startTimestamp;\n  }\n\n  return transaction.startChild({\n    startTimestamp,\n    ...ctx,\n  });\n}\n","/* eslint-disable max-lines */\nimport type { Measurements } from '@sentry/types';\nimport { browserPerformanceTimeOrigin, htmlTreeAsString, logger } from '@sentry/utils';\n\nimport type { IdleTransaction } from '../../idletransaction';\nimport type { Transaction } from '../../transaction';\nimport { getActiveTransaction, msToSec } from '../../utils';\nimport { WINDOW } from '../types';\nimport { onCLS } from '../web-vitals/getCLS';\nimport { onFID } from '../web-vitals/getFID';\nimport { onLCP } from '../web-vitals/getLCP';\nimport { getVisibilityWatcher } from '../web-vitals/lib/getVisibilityWatcher';\nimport { observe } from '../web-vitals/lib/observe';\nimport type { NavigatorDeviceMemory, NavigatorNetworkInformation } from '../web-vitals/types';\nimport { _startChild, isMeasurementValue } from './utils';\n\nfunction getBrowserPerformanceAPI(): Performance | undefined {\n  return WINDOW && WINDOW.addEventListener && WINDOW.performance;\n}\n\nlet _performanceCursor: number = 0;\n\nlet _measurements: Measurements = {};\nlet _lcpEntry: LargestContentfulPaint | undefined;\nlet _clsEntry: LayoutShift | undefined;\n\n/**\n * Start tracking web vitals\n */\nexport function startTrackingWebVitals(): void {\n  const performance = getBrowserPerformanceAPI();\n  if (performance && browserPerformanceTimeOrigin) {\n    if (performance.mark) {\n      WINDOW.performance.mark('sentry-tracing-init');\n    }\n    _trackCLS();\n    _trackLCP();\n    _trackFID();\n  }\n}\n\n/**\n * Start tracking long tasks.\n */\nexport function startTrackingLongTasks(): void {\n  const entryHandler = (entries: PerformanceEntry[]): void => {\n    for (const entry of entries) {\n      const transaction = getActiveTransaction() as IdleTransaction | undefined;\n      if (!transaction) {\n        return;\n      }\n      const startTime = msToSec((browserPerformanceTimeOrigin as number) + entry.startTime);\n      const duration = msToSec(entry.duration);\n\n      transaction.startChild({\n        description: 'Main UI thread blocked',\n        op: 'ui.long-task',\n        startTimestamp: startTime,\n        endTimestamp: startTime + duration,\n      });\n    }\n  };\n\n  observe('longtask', entryHandler);\n}\n\n/** Starts tracking the Cumulative Layout Shift on the current page. */\nfunction _trackCLS(): void {\n  // See:\n  // https://web.dev/evolving-cls/\n  // https://web.dev/cls-web-tooling/\n  onCLS(metric => {\n    const entry = metric.entries.pop();\n    if (!entry) {\n      return;\n    }\n\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding CLS');\n    _measurements['cls'] = { value: metric.value, unit: '' };\n    _clsEntry = entry as LayoutShift;\n  });\n}\n\n/** Starts tracking the Largest Contentful Paint on the current page. */\nfunction _trackLCP(): void {\n  onLCP(metric => {\n    const entry = metric.entries.pop();\n    if (!entry) {\n      return;\n    }\n\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding LCP');\n    _measurements['lcp'] = { value: metric.value, unit: 'millisecond' };\n    _lcpEntry = entry as LargestContentfulPaint;\n  });\n}\n\n/** Starts tracking the First Input Delay on the current page. */\nfunction _trackFID(): void {\n  onFID(metric => {\n    const entry = metric.entries.pop();\n    if (!entry) {\n      return;\n    }\n\n    const timeOrigin = msToSec(browserPerformanceTimeOrigin as number);\n    const startTime = msToSec(entry.startTime);\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding FID');\n    _measurements['fid'] = { value: metric.value, unit: 'millisecond' };\n    _measurements['mark.fid'] = { value: timeOrigin + startTime, unit: 'second' };\n  });\n}\n\n/** Add performance related spans to a transaction */\nexport function addPerformanceEntries(transaction: Transaction): void {\n  const performance = getBrowserPerformanceAPI();\n  if (!performance || !WINDOW.performance.getEntries || !browserPerformanceTimeOrigin) {\n    // Gatekeeper if performance API not available\n    return;\n  }\n\n  __DEBUG_BUILD__ && logger.log('[Tracing] Adding & adjusting spans using Performance API');\n  const timeOrigin = msToSec(browserPerformanceTimeOrigin);\n\n  const performanceEntries = performance.getEntries();\n\n  let responseStartTimestamp: number | undefined;\n  let requestStartTimestamp: number | undefined;\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  performanceEntries.slice(_performanceCursor).forEach((entry: Record<string, any>) => {\n    const startTime = msToSec(entry.startTime);\n    const duration = msToSec(entry.duration);\n\n    if (transaction.op === 'navigation' && timeOrigin + startTime < transaction.startTimestamp) {\n      return;\n    }\n\n    switch (entry.entryType) {\n      case 'navigation': {\n        _addNavigationSpans(transaction, entry, timeOrigin);\n        responseStartTimestamp = timeOrigin + msToSec(entry.responseStart);\n        requestStartTimestamp = timeOrigin + msToSec(entry.requestStart);\n        break;\n      }\n      case 'mark':\n      case 'paint':\n      case 'measure': {\n        _addMeasureSpans(transaction, entry, startTime, duration, timeOrigin);\n\n        // capture web vitals\n        const firstHidden = getVisibilityWatcher();\n        // Only report if the page wasn't hidden prior to the web vital.\n        const shouldRecord = entry.startTime < firstHidden.firstHiddenTime;\n\n        if (entry.name === 'first-paint' && shouldRecord) {\n          __DEBUG_BUILD__ && logger.log('[Measurements] Adding FP');\n          _measurements['fp'] = { value: entry.startTime, unit: 'millisecond' };\n        }\n        if (entry.name === 'first-contentful-paint' && shouldRecord) {\n          __DEBUG_BUILD__ && logger.log('[Measurements] Adding FCP');\n          _measurements['fcp'] = { value: entry.startTime, unit: 'millisecond' };\n        }\n        break;\n      }\n      case 'resource': {\n        const resourceName = (entry.name as string).replace(WINDOW.location.origin, '');\n        _addResourceSpans(transaction, entry, resourceName, startTime, duration, timeOrigin);\n        break;\n      }\n      default:\n      // Ignore other entry types.\n    }\n  });\n\n  _performanceCursor = Math.max(performanceEntries.length - 1, 0);\n\n  _trackNavigator(transaction);\n\n  // Measurements are only available for pageload transactions\n  if (transaction.op === 'pageload') {\n    // Generate TTFB (Time to First Byte), which measured as the time between the beginning of the transaction and the\n    // start of the response in milliseconds\n    if (typeof responseStartTimestamp === 'number') {\n      __DEBUG_BUILD__ && logger.log('[Measurements] Adding TTFB');\n      _measurements['ttfb'] = {\n        value: (responseStartTimestamp - transaction.startTimestamp) * 1000,\n        unit: 'millisecond',\n      };\n\n      if (typeof requestStartTimestamp === 'number' && requestStartTimestamp <= responseStartTimestamp) {\n        // Capture the time spent making the request and receiving the first byte of the response.\n        // This is the time between the start of the request and the start of the response in milliseconds.\n        _measurements['ttfb.requestTime'] = {\n          value: (responseStartTimestamp - requestStartTimestamp) * 1000,\n          unit: 'millisecond',\n        };\n      }\n    }\n\n    ['fcp', 'fp', 'lcp'].forEach(name => {\n      if (!_measurements[name] || timeOrigin >= transaction.startTimestamp) {\n        return;\n      }\n      // The web vitals, fcp, fp, lcp, and ttfb, all measure relative to timeOrigin.\n      // Unfortunately, timeOrigin is not captured within the transaction span data, so these web vitals will need\n      // to be adjusted to be relative to transaction.startTimestamp.\n      const oldValue = _measurements[name].value;\n      const measurementTimestamp = timeOrigin + msToSec(oldValue);\n\n      // normalizedValue should be in milliseconds\n      const normalizedValue = Math.abs((measurementTimestamp - transaction.startTimestamp) * 1000);\n      const delta = normalizedValue - oldValue;\n\n      __DEBUG_BUILD__ &&\n        logger.log(`[Measurements] Normalized ${name} from ${oldValue} to ${normalizedValue} (${delta})`);\n      _measurements[name].value = normalizedValue;\n    });\n\n    const fidMark = _measurements['mark.fid'];\n    if (fidMark && _measurements['fid']) {\n      // create span for FID\n      _startChild(transaction, {\n        description: 'first input delay',\n        endTimestamp: fidMark.value + msToSec(_measurements['fid'].value),\n        op: 'ui.action',\n        startTimestamp: fidMark.value,\n      });\n\n      // Delete mark.fid as we don't want it to be part of final payload\n      delete _measurements['mark.fid'];\n    }\n\n    // If FCP is not recorded we should not record the cls value\n    // according to the new definition of CLS.\n    if (!('fcp' in _measurements)) {\n      delete _measurements.cls;\n    }\n\n    Object.keys(_measurements).forEach(measurementName => {\n      transaction.setMeasurement(\n        measurementName,\n        _measurements[measurementName].value,\n        _measurements[measurementName].unit,\n      );\n    });\n\n    _tagMetricInfo(transaction);\n  }\n\n  _lcpEntry = undefined;\n  _clsEntry = undefined;\n  _measurements = {};\n}\n\n/** Create measure related spans */\nexport function _addMeasureSpans(\n  transaction: Transaction,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  entry: Record<string, any>,\n  startTime: number,\n  duration: number,\n  timeOrigin: number,\n): number {\n  const measureStartTimestamp = timeOrigin + startTime;\n  const measureEndTimestamp = measureStartTimestamp + duration;\n\n  _startChild(transaction, {\n    description: entry.name as string,\n    endTimestamp: measureEndTimestamp,\n    op: entry.entryType as string,\n    startTimestamp: measureStartTimestamp,\n  });\n\n  return measureStartTimestamp;\n}\n\n/** Instrument navigation entries */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _addNavigationSpans(transaction: Transaction, entry: Record<string, any>, timeOrigin: number): void {\n  ['unloadEvent', 'redirect', 'domContentLoadedEvent', 'loadEvent', 'connect'].forEach(event => {\n    _addPerformanceNavigationTiming(transaction, entry, event, timeOrigin);\n  });\n  _addPerformanceNavigationTiming(transaction, entry, 'secureConnection', timeOrigin, 'TLS/SSL', 'connectEnd');\n  _addPerformanceNavigationTiming(transaction, entry, 'fetch', timeOrigin, 'cache', 'domainLookupStart');\n  _addPerformanceNavigationTiming(transaction, entry, 'domainLookup', timeOrigin, 'DNS');\n  _addRequest(transaction, entry, timeOrigin);\n}\n\n/** Create performance navigation related spans */\nfunction _addPerformanceNavigationTiming(\n  transaction: Transaction,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  entry: Record<string, any>,\n  event: string,\n  timeOrigin: number,\n  description?: string,\n  eventEnd?: string,\n): void {\n  const end = eventEnd ? (entry[eventEnd] as number | undefined) : (entry[`${event}End`] as number | undefined);\n  const start = entry[`${event}Start`] as number | undefined;\n  if (!start || !end) {\n    return;\n  }\n  _startChild(transaction, {\n    op: 'browser',\n    description: description || event,\n    startTimestamp: timeOrigin + msToSec(start),\n    endTimestamp: timeOrigin + msToSec(end),\n  });\n}\n\n/** Create request and response related spans */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _addRequest(transaction: Transaction, entry: Record<string, any>, timeOrigin: number): void {\n  _startChild(transaction, {\n    op: 'browser',\n    description: 'request',\n    startTimestamp: timeOrigin + msToSec(entry.requestStart as number),\n    endTimestamp: timeOrigin + msToSec(entry.responseEnd as number),\n  });\n\n  _startChild(transaction, {\n    op: 'browser',\n    description: 'response',\n    startTimestamp: timeOrigin + msToSec(entry.responseStart as number),\n    endTimestamp: timeOrigin + msToSec(entry.responseEnd as number),\n  });\n}\n\nexport interface ResourceEntry extends Record<string, unknown> {\n  initiatorType?: string;\n  transferSize?: number;\n  encodedBodySize?: number;\n  decodedBodySize?: number;\n}\n\n/** Create resource-related spans */\nexport function _addResourceSpans(\n  transaction: Transaction,\n  entry: ResourceEntry,\n  resourceName: string,\n  startTime: number,\n  duration: number,\n  timeOrigin: number,\n): void {\n  // we already instrument based on fetch and xhr, so we don't need to\n  // duplicate spans here.\n  if (entry.initiatorType === 'xmlhttprequest' || entry.initiatorType === 'fetch') {\n    return;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const data: Record<string, any> = {};\n  if ('transferSize' in entry) {\n    data['Transfer Size'] = entry.transferSize;\n  }\n  if ('encodedBodySize' in entry) {\n    data['Encoded Body Size'] = entry.encodedBodySize;\n  }\n  if ('decodedBodySize' in entry) {\n    data['Decoded Body Size'] = entry.decodedBodySize;\n  }\n\n  const startTimestamp = timeOrigin + startTime;\n  const endTimestamp = startTimestamp + duration;\n\n  _startChild(transaction, {\n    description: resourceName,\n    endTimestamp,\n    op: entry.initiatorType ? `resource.${entry.initiatorType}` : 'resource.other',\n    startTimestamp,\n    data,\n  });\n}\n\n/**\n * Capture the information of the user agent.\n */\nfunction _trackNavigator(transaction: Transaction): void {\n  const navigator = WINDOW.navigator as null | (Navigator & NavigatorNetworkInformation & NavigatorDeviceMemory);\n  if (!navigator) {\n    return;\n  }\n\n  // track network connectivity\n  const connection = navigator.connection;\n  if (connection) {\n    if (connection.effectiveType) {\n      transaction.setTag('effectiveConnectionType', connection.effectiveType);\n    }\n\n    if (connection.type) {\n      transaction.setTag('connectionType', connection.type);\n    }\n\n    if (isMeasurementValue(connection.rtt)) {\n      _measurements['connection.rtt'] = { value: connection.rtt, unit: 'millisecond' };\n    }\n  }\n\n  if (isMeasurementValue(navigator.deviceMemory)) {\n    transaction.setTag('deviceMemory', `${navigator.deviceMemory} GB`);\n  }\n\n  if (isMeasurementValue(navigator.hardwareConcurrency)) {\n    transaction.setTag('hardwareConcurrency', String(navigator.hardwareConcurrency));\n  }\n}\n\n/** Add LCP / CLS data to transaction to allow debugging */\nfunction _tagMetricInfo(transaction: Transaction): void {\n  if (_lcpEntry) {\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding LCP Data');\n\n    // Capture Properties of the LCP element that contributes to the LCP.\n\n    if (_lcpEntry.element) {\n      transaction.setTag('lcp.element', htmlTreeAsString(_lcpEntry.element));\n    }\n\n    if (_lcpEntry.id) {\n      transaction.setTag('lcp.id', _lcpEntry.id);\n    }\n\n    if (_lcpEntry.url) {\n      // Trim URL to the first 200 characters.\n      transaction.setTag('lcp.url', _lcpEntry.url.trim().slice(0, 200));\n    }\n\n    transaction.setTag('lcp.size', _lcpEntry.size);\n  }\n\n  // See: https://developer.mozilla.org/en-US/docs/Web/API/LayoutShift\n  if (_clsEntry && _clsEntry.sources) {\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding CLS Data');\n    _clsEntry.sources.forEach((source, index) =>\n      transaction.setTag(`cls.source.${index + 1}`, htmlTreeAsString(source.node)),\n    );\n  }\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { bindReporter } from './lib/bindReporter';\nimport { initMetric } from './lib/initMetric';\nimport { observe } from './lib/observe';\nimport { onHidden } from './lib/onHidden';\nimport type { CLSMetric, ReportCallback } from './types';\n\n/**\n * Calculates the [CLS](https://web.dev/cls/) value for the current page and\n * calls the `callback` function once the value is ready to be reported, along\n * with all `layout-shift` performance entries that were used in the metric\n * value calculation. The reported value is a `double` (corresponding to a\n * [layout shift score](https://web.dev/cls/#layout-shift-score)).\n *\n * If the `reportAllChanges` configuration option is set to `true`, the\n * `callback` function will be called as soon as the value is initially\n * determined as well as any time the value changes throughout the page\n * lifespan.\n *\n * _**Important:** CLS should be continually monitored for changes throughout\n * the entire lifespan of a page—including if the user returns to the page after\n * it's been hidden/backgrounded. However, since browsers often [will not fire\n * additional callbacks once the user has backgrounded a\n * page](https://developer.chrome.com/blog/page-lifecycle-api/#advice-hidden),\n * `callback` is always called when the page's visibility state changes to\n * hidden. As a result, the `callback` function might be called multiple times\n * during the same page load._\n */\nexport const onCLS = (onReport: ReportCallback): void => {\n  const metric = initMetric('CLS', 0);\n  let report: ReturnType<typeof bindReporter>;\n\n  let sessionValue = 0;\n  let sessionEntries: PerformanceEntry[] = [];\n\n  // const handleEntries = (entries: Metric['entries']) => {\n  const handleEntries = (entries: LayoutShift[]): void => {\n    entries.forEach(entry => {\n      // Only count layout shifts without recent user input.\n      if (!entry.hadRecentInput) {\n        const firstSessionEntry = sessionEntries[0];\n        const lastSessionEntry = sessionEntries[sessionEntries.length - 1];\n\n        // If the entry occurred less than 1 second after the previous entry and\n        // less than 5 seconds after the first entry in the session, include the\n        // entry in the current session. Otherwise, start a new session.\n        if (\n          sessionValue &&\n          sessionEntries.length !== 0 &&\n          entry.startTime - lastSessionEntry.startTime < 1000 &&\n          entry.startTime - firstSessionEntry.startTime < 5000\n        ) {\n          sessionValue += entry.value;\n          sessionEntries.push(entry);\n        } else {\n          sessionValue = entry.value;\n          sessionEntries = [entry];\n        }\n\n        // If the current session value is larger than the current CLS value,\n        // update CLS and the entries contributing to it.\n        if (sessionValue > metric.value) {\n          metric.value = sessionValue;\n          metric.entries = sessionEntries;\n          if (report) {\n            report();\n          }\n        }\n      }\n    });\n  };\n\n  const po = observe('layout-shift', handleEntries);\n  if (po) {\n    report = bindReporter(onReport, metric);\n\n    onHidden(() => {\n      handleEntries(po.takeRecords() as CLSMetric['entries']);\n      report(true);\n    });\n  }\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { bindReporter } from './lib/bindReporter';\nimport { getVisibilityWatcher } from './lib/getVisibilityWatcher';\nimport { initMetric } from './lib/initMetric';\nimport { observe } from './lib/observe';\nimport { onHidden } from './lib/onHidden';\nimport type { FIDMetric, PerformanceEventTiming, ReportCallback } from './types';\n\n/**\n * Calculates the [FID](https://web.dev/fid/) value for the current page and\n * calls the `callback` function once the value is ready, along with the\n * relevant `first-input` performance entry used to determine the value. The\n * reported value is a `DOMHighResTimeStamp`.\n *\n * _**Important:** since FID is only reported after the user interacts with the\n * page, it's possible that it will not be reported for some page loads._\n */\nexport const onFID = (onReport: ReportCallback): void => {\n  const visibilityWatcher = getVisibilityWatcher();\n  const metric = initMetric('FID');\n  // eslint-disable-next-line prefer-const\n  let report: ReturnType<typeof bindReporter>;\n\n  const handleEntry = (entry: PerformanceEventTiming): void => {\n    // Only report if the page wasn't hidden prior to the first input.\n    if (entry.startTime < visibilityWatcher.firstHiddenTime) {\n      metric.value = entry.processingStart - entry.startTime;\n      metric.entries.push(entry);\n      report(true);\n    }\n  };\n\n  const handleEntries = (entries: FIDMetric['entries']): void => {\n    (entries as PerformanceEventTiming[]).forEach(handleEntry);\n  };\n\n  const po = observe('first-input', handleEntries);\n  report = bindReporter(onReport, metric);\n\n  if (po) {\n    onHidden(() => {\n      handleEntries(po.takeRecords() as FIDMetric['entries']);\n      po.disconnect();\n    }, true);\n  }\n};\n","/* eslint-disable max-lines */\nimport { getCurrentHub } from '@sentry/core';\nimport type { DynamicSamplingContext, Span } from '@sentry/types';\nimport {\n  addInstrumentationHandler,\n  BAGGAGE_HEADER_NAME,\n  dynamicSamplingContextToSentryBaggageHeader,\n  isInstanceOf,\n  stringMatchesSomePattern,\n} from '@sentry/utils';\n\nimport { hasTracingEnabled } from '../utils';\n\nexport const DEFAULT_TRACE_PROPAGATION_TARGETS = ['localhost', /^\\//];\n\n/** Options for Request Instrumentation */\nexport interface RequestInstrumentationOptions {\n  /**\n   * @deprecated Will be removed in v8.\n   * Use `shouldCreateSpanForRequest` to control span creation and `tracePropagationTargets` to control\n   * trace header attachment.\n   */\n  tracingOrigins: Array<string | RegExp>;\n\n  /**\n   * List of strings and/or regexes used to determine which outgoing requests will have `sentry-trace` and `baggage`\n   * headers attached.\n   *\n   * Default: ['localhost', /^\\//] {@see DEFAULT_TRACE_PROPAGATION_TARGETS}\n   */\n  tracePropagationTargets: Array<string | RegExp>;\n\n  /**\n   * Flag to disable patching all together for fetch requests.\n   *\n   * Default: true\n   */\n  traceFetch: boolean;\n\n  /**\n   * Flag to disable patching all together for xhr requests.\n   *\n   * Default: true\n   */\n  traceXHR: boolean;\n\n  /**\n   * This function will be called before creating a span for a request with the given url.\n   * Return false if you don't want a span for the given url.\n   *\n   * Default: (url: string) => true\n   */\n  shouldCreateSpanForRequest?(this: void, url: string): boolean;\n}\n\n/** Data returned from fetch callback */\nexport interface FetchData {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  args: any[]; // the arguments passed to the fetch call itself\n  fetchData?: {\n    method: string;\n    url: string;\n    // span_id\n    __span?: string;\n  };\n\n  // TODO Should this be unknown instead? If we vendor types, make it a Response\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  response?: any;\n  error?: unknown;\n\n  startTimestamp: number;\n  endTimestamp?: number;\n}\n\n/** Data returned from XHR request */\nexport interface XHRData {\n  xhr?: {\n    __sentry_xhr__?: {\n      method: string;\n      url: string;\n      status_code: number;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      data: Record<string, any>;\n    };\n    __sentry_xhr_span_id__?: string;\n    setRequestHeader?: (key: string, val: string) => void;\n    getRequestHeader?: (key: string) => string;\n    __sentry_own_request__?: boolean;\n  };\n  startTimestamp: number;\n  endTimestamp?: number;\n}\n\ntype PolymorphicRequestHeaders =\n  | Record<string, string | undefined>\n  | Array<[string, string]>\n  // the below is not preicsely the Header type used in Request, but it'll pass duck-typing\n  | {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      [key: string]: any;\n      append: (key: string, value: string) => void;\n      get: (key: string) => string;\n    };\n\nexport const defaultRequestInstrumentationOptions: RequestInstrumentationOptions = {\n  traceFetch: true,\n  traceXHR: true,\n  // TODO (v8): Remove this property\n  tracingOrigins: DEFAULT_TRACE_PROPAGATION_TARGETS,\n  tracePropagationTargets: DEFAULT_TRACE_PROPAGATION_TARGETS,\n};\n\n/** Registers span creators for xhr and fetch requests  */\nexport function instrumentOutgoingRequests(_options?: Partial<RequestInstrumentationOptions>): void {\n  // eslint-disable-next-line deprecation/deprecation\n  const { traceFetch, traceXHR, tracePropagationTargets, tracingOrigins, shouldCreateSpanForRequest } = {\n    traceFetch: defaultRequestInstrumentationOptions.traceFetch,\n    traceXHR: defaultRequestInstrumentationOptions.traceXHR,\n    ..._options,\n  };\n\n  const shouldCreateSpan =\n    typeof shouldCreateSpanForRequest === 'function' ? shouldCreateSpanForRequest : (_: string) => true;\n\n  // TODO(v8) Remove tracingOrigins here\n  // The only reason we're passing it in here is because this instrumentOutgoingRequests function is publicly exported\n  // and we don't want to break the API. We can remove it in v8.\n  const shouldAttachHeadersWithTargets = (url: string): boolean =>\n    shouldAttachHeaders(url, tracePropagationTargets || tracingOrigins);\n\n  const spans: Record<string, Span> = {};\n\n  if (traceFetch) {\n    addInstrumentationHandler('fetch', (handlerData: FetchData) => {\n      fetchCallback(handlerData, shouldCreateSpan, shouldAttachHeadersWithTargets, spans);\n    });\n  }\n\n  if (traceXHR) {\n    addInstrumentationHandler('xhr', (handlerData: XHRData) => {\n      xhrCallback(handlerData, shouldCreateSpan, shouldAttachHeadersWithTargets, spans);\n    });\n  }\n}\n\n/**\n * A function that determines whether to attach tracing headers to a request.\n * This was extracted from `instrumentOutgoingRequests` to make it easier to test shouldAttachHeaders.\n * We only export this fuction for testing purposes.\n */\nexport function shouldAttachHeaders(url: string, tracePropagationTargets: (string | RegExp)[] | undefined): boolean {\n  return stringMatchesSomePattern(url, tracePropagationTargets || DEFAULT_TRACE_PROPAGATION_TARGETS);\n}\n\n/**\n * Create and track fetch request spans\n */\nexport function fetchCallback(\n  handlerData: FetchData,\n  shouldCreateSpan: (url: string) => boolean,\n  shouldAttachHeaders: (url: string) => boolean,\n  spans: Record<string, Span>,\n): void {\n  if (!hasTracingEnabled() || !(handlerData.fetchData && shouldCreateSpan(handlerData.fetchData.url))) {\n    return;\n  }\n\n  if (handlerData.endTimestamp) {\n    const spanId = handlerData.fetchData.__span;\n    if (!spanId) return;\n\n    const span = spans[spanId];\n    if (span) {\n      if (handlerData.response) {\n        // TODO (kmclb) remove this once types PR goes through\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        span.setHttpStatus(handlerData.response.status);\n      } else if (handlerData.error) {\n        span.setStatus('internal_error');\n      }\n      span.finish();\n\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete spans[spanId];\n    }\n    return;\n  }\n\n  const currentScope = getCurrentHub().getScope();\n  const currentSpan = currentScope && currentScope.getSpan();\n  const activeTransaction = currentSpan && currentSpan.transaction;\n\n  if (currentSpan && activeTransaction) {\n    const span = currentSpan.startChild({\n      data: {\n        ...handlerData.fetchData,\n        type: 'fetch',\n      },\n      description: `${handlerData.fetchData.method} ${handlerData.fetchData.url}`,\n      op: 'http.client',\n    });\n\n    handlerData.fetchData.__span = span.spanId;\n    spans[span.spanId] = span;\n\n    const request: string | Request = handlerData.args[0];\n\n    // In case the user hasn't set the second argument of a fetch call we default it to `{}`.\n    handlerData.args[1] = handlerData.args[1] || {};\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const options: { [key: string]: any } = handlerData.args[1];\n\n    if (shouldAttachHeaders(handlerData.fetchData.url)) {\n      options.headers = addTracingHeadersToFetchRequest(\n        request,\n        activeTransaction.getDynamicSamplingContext(),\n        span,\n        options,\n      );\n\n      activeTransaction.metadata.propagations++;\n    }\n  }\n}\n\nfunction addTracingHeadersToFetchRequest(\n  request: string | Request,\n  dynamicSamplingContext: Partial<DynamicSamplingContext>,\n  span: Span,\n  options: {\n    headers?:\n      | {\n          [key: string]: string[] | string | undefined;\n        }\n      | Request['headers'];\n  },\n): PolymorphicRequestHeaders {\n  const sentryBaggageHeader = dynamicSamplingContextToSentryBaggageHeader(dynamicSamplingContext);\n  const sentryTraceHeader = span.toTraceparent();\n\n  const headers =\n    typeof Request !== 'undefined' && isInstanceOf(request, Request) ? (request as Request).headers : options.headers;\n\n  if (!headers) {\n    return { 'sentry-trace': sentryTraceHeader, baggage: sentryBaggageHeader };\n  } else if (typeof Headers !== 'undefined' && isInstanceOf(headers, Headers)) {\n    const newHeaders = new Headers(headers as Headers);\n\n    newHeaders.append('sentry-trace', sentryTraceHeader);\n\n    if (sentryBaggageHeader) {\n      // If the same header is appended miultiple times the browser will merge the values into a single request header.\n      // Its therefore safe to simply push a \"baggage\" entry, even though there might already be another baggage header.\n      newHeaders.append(BAGGAGE_HEADER_NAME, sentryBaggageHeader);\n    }\n\n    return newHeaders as PolymorphicRequestHeaders;\n  } else if (Array.isArray(headers)) {\n    const newHeaders = [...headers, ['sentry-trace', sentryTraceHeader]];\n\n    if (sentryBaggageHeader) {\n      // If there are multiple entries with the same key, the browser will merge the values into a single request header.\n      // Its therefore safe to simply push a \"baggage\" entry, even though there might already be another baggage header.\n      newHeaders.push([BAGGAGE_HEADER_NAME, sentryBaggageHeader]);\n    }\n\n    return newHeaders;\n  } else {\n    const existingBaggageHeader = 'baggage' in headers ? headers.baggage : undefined;\n    const newBaggageHeaders: string[] = [];\n\n    if (Array.isArray(existingBaggageHeader)) {\n      newBaggageHeaders.push(...existingBaggageHeader);\n    } else if (existingBaggageHeader) {\n      newBaggageHeaders.push(existingBaggageHeader);\n    }\n\n    if (sentryBaggageHeader) {\n      newBaggageHeaders.push(sentryBaggageHeader);\n    }\n\n    return {\n      ...(headers as Exclude<typeof headers, Headers>),\n      'sentry-trace': sentryTraceHeader,\n      baggage: newBaggageHeaders.length > 0 ? newBaggageHeaders.join(',') : undefined,\n    };\n  }\n}\n\n/**\n * Create and track xhr request spans\n */\nexport function xhrCallback(\n  handlerData: XHRData,\n  shouldCreateSpan: (url: string) => boolean,\n  shouldAttachHeaders: (url: string) => boolean,\n  spans: Record<string, Span>,\n): void {\n  if (\n    !hasTracingEnabled() ||\n    (handlerData.xhr && handlerData.xhr.__sentry_own_request__) ||\n    !(handlerData.xhr && handlerData.xhr.__sentry_xhr__ && shouldCreateSpan(handlerData.xhr.__sentry_xhr__.url))\n  ) {\n    return;\n  }\n\n  const xhr = handlerData.xhr.__sentry_xhr__;\n\n  // check first if the request has finished and is tracked by an existing span which should now end\n  if (handlerData.endTimestamp) {\n    const spanId = handlerData.xhr.__sentry_xhr_span_id__;\n    if (!spanId) return;\n\n    const span = spans[spanId];\n    if (span) {\n      span.setHttpStatus(xhr.status_code);\n      span.finish();\n\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete spans[spanId];\n    }\n    return;\n  }\n\n  const currentScope = getCurrentHub().getScope();\n  const currentSpan = currentScope && currentScope.getSpan();\n  const activeTransaction = currentSpan && currentSpan.transaction;\n\n  if (currentSpan && activeTransaction) {\n    const span = currentSpan.startChild({\n      data: {\n        ...xhr.data,\n        type: 'xhr',\n        method: xhr.method,\n        url: xhr.url,\n      },\n      description: `${xhr.method} ${xhr.url}`,\n      op: 'http.client',\n    });\n\n    handlerData.xhr.__sentry_xhr_span_id__ = span.spanId;\n    spans[handlerData.xhr.__sentry_xhr_span_id__] = span;\n\n    if (handlerData.xhr.setRequestHeader && shouldAttachHeaders(handlerData.xhr.__sentry_xhr__.url)) {\n      try {\n        handlerData.xhr.setRequestHeader('sentry-trace', span.toTraceparent());\n\n        const dynamicSamplingContext = activeTransaction.getDynamicSamplingContext();\n        const sentryBaggageHeader = dynamicSamplingContextToSentryBaggageHeader(dynamicSamplingContext);\n\n        if (sentryBaggageHeader) {\n          // From MDN: \"If this method is called several times with the same header, the values are merged into one single request header.\"\n          // We can therefore simply set a baggage header without checking what was there before\n          // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/setRequestHeader\n          handlerData.xhr.setRequestHeader(BAGGAGE_HEADER_NAME, sentryBaggageHeader);\n        }\n\n        activeTransaction.metadata.propagations++;\n      } catch (_) {\n        // Error: InvalidStateError: Failed to execute 'setRequestHeader' on 'XMLHttpRequest': The object's state must be OPENED.\n      }\n    }\n  }\n}\n","/* eslint-disable max-lines */\nimport type { Hub } from '@sentry/core';\nimport type { EventProcessor, Integration, Transaction, TransactionContext, TransactionSource } from '@sentry/types';\nimport { baggageHeaderToDynamicSamplingContext, getDomElement, logger } from '@sentry/utils';\n\nimport { startIdleTransaction } from '../hubextensions';\nimport type { IdleTransaction } from '../idletransaction';\nimport { DEFAULT_FINAL_TIMEOUT, DEFAULT_HEARTBEAT_INTERVAL, DEFAULT_IDLE_TIMEOUT } from '../idletransaction';\nimport { extractTraceparentData } from '../utils';\nimport { registerBackgroundTabDetection } from './backgroundtab';\nimport { addPerformanceEntries, startTrackingLongTasks, startTrackingWebVitals } from './metrics';\nimport type { RequestInstrumentationOptions } from './request';\nimport { defaultRequestInstrumentationOptions, instrumentOutgoingRequests } from './request';\nimport { instrumentRoutingWithDefaults } from './router';\nimport { WINDOW } from './types';\n\nexport const BROWSER_TRACING_INTEGRATION_ID = 'BrowserTracing';\n\n/** Options for Browser Tracing integration */\nexport interface BrowserTracingOptions extends RequestInstrumentationOptions {\n  /**\n   * The time to wait in ms until the transaction will be finished during an idle state. An idle state is defined\n   * by a moment where there are no in-progress spans.\n   *\n   * The transaction will use the end timestamp of the last finished span as the endtime for the transaction.\n   * If there are still active spans when this the `idleTimeout` is set, the `idleTimeout` will get reset.\n   * Time is in ms.\n   *\n   * Default: 1000\n   */\n  idleTimeout: number;\n\n  /**\n   * The max duration for a transaction. If a transaction duration hits the `finalTimeout` value, it\n   * will be finished.\n   * Time is in ms.\n   *\n   * Default: 30000\n   */\n  finalTimeout: number;\n\n  /**\n   * The heartbeat interval. If no new spans are started or open spans are finished within 3 heartbeats,\n   * the transaction will be finished.\n   * Time is in ms.\n   *\n   * Default: 5000\n   */\n  heartbeatInterval: number;\n\n  /**\n   * Flag to enable/disable creation of `navigation` transaction on history changes.\n   *\n   * Default: true\n   */\n  startTransactionOnLocationChange: boolean;\n\n  /**\n   * Flag to enable/disable creation of `pageload` transaction on first pageload.\n   *\n   * Default: true\n   */\n  startTransactionOnPageLoad: boolean;\n\n  /**\n   * Flag Transactions where tabs moved to background with \"cancelled\". Browser background tab timing is\n   * not suited towards doing precise measurements of operations. By default, we recommend that this option\n   * be enabled as background transactions can mess up your statistics in nondeterministic ways.\n   *\n   * Default: true\n   */\n  markBackgroundTransactions: boolean;\n\n  /**\n   * If true, Sentry will capture long tasks and add them to the corresponding transaction.\n   *\n   * Default: true\n   */\n  enableLongTask: boolean;\n\n  /**\n   * _metricOptions allows the user to send options to change how metrics are collected.\n   *\n   * _metricOptions is currently experimental.\n   *\n   * Default: undefined\n   */\n  _metricOptions?: Partial<{\n    /**\n     * @deprecated This property no longer has any effect and will be removed in v8.\n     */\n    _reportAllChanges: boolean;\n  }>;\n\n  /**\n   * _experiments allows the user to send options to define how this integration works.\n   * Note that the `enableLongTask` options is deprecated in favor of the option at the top level, and will be removed in v8.\n   *\n   * TODO (v8): Remove enableLongTask\n   *\n   * Default: undefined\n   */\n  _experiments: Partial<{ enableLongTask: boolean; enableInteractions: boolean }>;\n\n  /**\n   * beforeNavigate is called before a pageload/navigation transaction is created and allows users to modify transaction\n   * context data, or drop the transaction entirely (by setting `sampled = false` in the context).\n   *\n   * Note: For legacy reasons, transactions can also be dropped by returning `undefined`.\n   *\n   * @param context: The context data which will be passed to `startTransaction` by default\n   *\n   * @returns A (potentially) modified context object, with `sampled = false` if the transaction should be dropped.\n   */\n  beforeNavigate?(this: void, context: TransactionContext): TransactionContext | undefined;\n\n  /**\n   * Instrumentation that creates routing change transactions. By default creates\n   * pageload and navigation transactions.\n   */\n  routingInstrumentation<T extends Transaction>(\n    this: void,\n    customStartTransaction: (context: TransactionContext) => T | undefined,\n    startTransactionOnPageLoad?: boolean,\n    startTransactionOnLocationChange?: boolean,\n  ): void;\n}\n\nconst DEFAULT_BROWSER_TRACING_OPTIONS: BrowserTracingOptions = {\n  idleTimeout: DEFAULT_IDLE_TIMEOUT,\n  finalTimeout: DEFAULT_FINAL_TIMEOUT,\n  heartbeatInterval: DEFAULT_HEARTBEAT_INTERVAL,\n  markBackgroundTransactions: true,\n  routingInstrumentation: instrumentRoutingWithDefaults,\n  startTransactionOnLocationChange: true,\n  startTransactionOnPageLoad: true,\n  enableLongTask: true,\n  _experiments: {},\n  ...defaultRequestInstrumentationOptions,\n};\n\n/**\n * The Browser Tracing integration automatically instruments browser pageload/navigation\n * actions as transactions, and captures requests, metrics and errors as spans.\n *\n * The integration can be configured with a variety of options, and can be extended to use\n * any routing library. This integration uses {@see IdleTransaction} to create transactions.\n */\nexport class BrowserTracing implements Integration {\n  // This class currently doesn't have a static `id` field like the other integration classes, because it prevented\n  // @sentry/tracing from being treeshaken. Tree shakers do not like static fields, because they behave like side effects.\n  // TODO: Come up with a better plan, than using static fields on integration classes, and use that plan on all\n  // integrations.\n\n  /** Browser Tracing integration options */\n  public options: BrowserTracingOptions;\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = BROWSER_TRACING_INTEGRATION_ID;\n\n  private _getCurrentHub?: () => Hub;\n\n  private _latestRouteName?: string;\n  private _latestRouteSource?: TransactionSource;\n\n  public constructor(_options?: Partial<BrowserTracingOptions>) {\n    this.options = {\n      ...DEFAULT_BROWSER_TRACING_OPTIONS,\n      ..._options,\n    };\n\n    // Special case: enableLongTask can be set in _experiments\n    // TODO (v8): Remove this in v8\n    if (this.options._experiments.enableLongTask !== undefined) {\n      this.options.enableLongTask = this.options._experiments.enableLongTask;\n    }\n\n    // TODO (v8): remove this block after tracingOrigins is removed\n    // Set tracePropagationTargets to tracingOrigins if specified by the user\n    // In case both are specified, tracePropagationTargets takes precedence\n    // eslint-disable-next-line deprecation/deprecation\n    if (_options && !_options.tracePropagationTargets && _options.tracingOrigins) {\n      // eslint-disable-next-line deprecation/deprecation\n      this.options.tracePropagationTargets = _options.tracingOrigins;\n    }\n\n    startTrackingWebVitals();\n    if (this.options.enableLongTask) {\n      startTrackingLongTasks();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(_: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    this._getCurrentHub = getCurrentHub;\n\n    const {\n      routingInstrumentation: instrumentRouting,\n      startTransactionOnLocationChange,\n      startTransactionOnPageLoad,\n      markBackgroundTransactions,\n      traceFetch,\n      traceXHR,\n      tracePropagationTargets,\n      shouldCreateSpanForRequest,\n      _experiments,\n    } = this.options;\n\n    instrumentRouting(\n      (context: TransactionContext) => this._createRouteTransaction(context),\n      startTransactionOnPageLoad,\n      startTransactionOnLocationChange,\n    );\n\n    if (markBackgroundTransactions) {\n      registerBackgroundTabDetection();\n    }\n\n    if (_experiments.enableInteractions) {\n      this._registerInteractionListener();\n    }\n\n    instrumentOutgoingRequests({\n      traceFetch,\n      traceXHR,\n      tracePropagationTargets,\n      shouldCreateSpanForRequest,\n    });\n  }\n\n  /** Create routing idle transaction. */\n  private _createRouteTransaction(context: TransactionContext): Transaction | undefined {\n    if (!this._getCurrentHub) {\n      __DEBUG_BUILD__ &&\n        logger.warn(`[Tracing] Did not create ${context.op} transaction because _getCurrentHub is invalid.`);\n      return undefined;\n    }\n\n    const { beforeNavigate, idleTimeout, finalTimeout, heartbeatInterval } = this.options;\n\n    const isPageloadTransaction = context.op === 'pageload';\n\n    const sentryTraceMetaTagValue = isPageloadTransaction ? getMetaContent('sentry-trace') : null;\n    const baggageMetaTagValue = isPageloadTransaction ? getMetaContent('baggage') : null;\n\n    const traceParentData = sentryTraceMetaTagValue ? extractTraceparentData(sentryTraceMetaTagValue) : undefined;\n    const dynamicSamplingContext = baggageMetaTagValue\n      ? baggageHeaderToDynamicSamplingContext(baggageMetaTagValue)\n      : undefined;\n\n    const expandedContext: TransactionContext = {\n      ...context,\n      ...traceParentData,\n      metadata: {\n        ...context.metadata,\n        dynamicSamplingContext: traceParentData && !dynamicSamplingContext ? {} : dynamicSamplingContext,\n      },\n      trimEnd: true,\n    };\n\n    const modifiedContext = typeof beforeNavigate === 'function' ? beforeNavigate(expandedContext) : expandedContext;\n\n    // For backwards compatibility reasons, beforeNavigate can return undefined to \"drop\" the transaction (prevent it\n    // from being sent to Sentry).\n    const finalContext = modifiedContext === undefined ? { ...expandedContext, sampled: false } : modifiedContext;\n\n    // If `beforeNavigate` set a custom name, record that fact\n    finalContext.metadata =\n      finalContext.name !== expandedContext.name\n        ? { ...finalContext.metadata, source: 'custom' }\n        : finalContext.metadata;\n\n    this._latestRouteName = finalContext.name;\n    this._latestRouteSource = finalContext.metadata && finalContext.metadata.source;\n\n    if (finalContext.sampled === false) {\n      __DEBUG_BUILD__ &&\n        logger.log(`[Tracing] Will not send ${finalContext.op} transaction because of beforeNavigate.`);\n    }\n\n    __DEBUG_BUILD__ && logger.log(`[Tracing] Starting ${finalContext.op} transaction on scope`);\n\n    const hub = this._getCurrentHub();\n    const { location } = WINDOW;\n\n    const idleTransaction = startIdleTransaction(\n      hub,\n      finalContext,\n      idleTimeout,\n      finalTimeout,\n      true,\n      { location }, // for use in the tracesSampler\n      heartbeatInterval,\n    );\n    idleTransaction.registerBeforeFinishCallback(transaction => {\n      addPerformanceEntries(transaction);\n    });\n\n    return idleTransaction as Transaction;\n  }\n\n  /** Start listener for interaction transactions */\n  private _registerInteractionListener(): void {\n    let inflightInteractionTransaction: IdleTransaction | undefined;\n    const registerInteractionTransaction = (): void => {\n      const { idleTimeout, finalTimeout, heartbeatInterval } = this.options;\n\n      const op = 'ui.action.click';\n      if (inflightInteractionTransaction) {\n        inflightInteractionTransaction.finish();\n        inflightInteractionTransaction = undefined;\n      }\n\n      if (!this._getCurrentHub) {\n        __DEBUG_BUILD__ && logger.warn(`[Tracing] Did not create ${op} transaction because _getCurrentHub is invalid.`);\n        return undefined;\n      }\n\n      if (!this._latestRouteName) {\n        __DEBUG_BUILD__ &&\n          logger.warn(`[Tracing] Did not create ${op} transaction because _latestRouteName is missing.`);\n        return undefined;\n      }\n\n      const hub = this._getCurrentHub();\n      const { location } = WINDOW;\n\n      const context: TransactionContext = {\n        name: this._latestRouteName,\n        op,\n        trimEnd: true,\n        metadata: {\n          source: this._latestRouteSource || 'url',\n        },\n      };\n\n      inflightInteractionTransaction = startIdleTransaction(\n        hub,\n        context,\n        idleTimeout,\n        finalTimeout,\n        true,\n        { location }, // for use in the tracesSampler\n        heartbeatInterval,\n      );\n    };\n\n    ['click'].forEach(type => {\n      addEventListener(type, registerInteractionTransaction, { once: false, capture: true });\n    });\n  }\n}\n\n/** Returns the value of a meta tag */\nexport function getMetaContent(metaName: string): string | null {\n  // Can't specify generic to `getDomElement` because tracing can be used\n  // in a variety of environments, have to disable `no-unsafe-member-access`\n  // as a result.\n  const metaTag = getDomElement(`meta[name=${metaName}]`);\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return metaTag ? metaTag.getAttribute('content') : null;\n}\n","import type { Transaction, TransactionContext } from '@sentry/types';\nimport { addInstrumentationHandler, logger } from '@sentry/utils';\n\nimport { WINDOW } from './types';\n\n/**\n * Default function implementing pageload and navigation transactions\n */\nexport function instrumentRoutingWithDefaults<T extends Transaction>(\n  customStartTransaction: (context: TransactionContext) => T | undefined,\n  startTransactionOnPageLoad: boolean = true,\n  startTransactionOnLocationChange: boolean = true,\n): void {\n  if (!WINDOW || !WINDOW.location) {\n    __DEBUG_BUILD__ && logger.warn('Could not initialize routing instrumentation due to invalid location');\n    return;\n  }\n\n  let startingUrl: string | undefined = WINDOW.location.href;\n\n  let activeTransaction: T | undefined;\n  if (startTransactionOnPageLoad) {\n    activeTransaction = customStartTransaction({\n      name: WINDOW.location.pathname,\n      op: 'pageload',\n      metadata: { source: 'url' },\n    });\n  }\n\n  if (startTransactionOnLocationChange) {\n    addInstrumentationHandler('history', ({ to, from }: { to: string; from?: string }) => {\n      /**\n       * This early return is there to account for some cases where a navigation transaction starts right after\n       * long-running pageload. We make sure that if `from` is undefined and a valid `startingURL` exists, we don't\n       * create an uneccessary navigation transaction.\n       *\n       * This was hard to duplicate, but this behavior stopped as soon as this fix was applied. This issue might also\n       * only be caused in certain development environments where the usage of a hot module reloader is causing\n       * errors.\n       */\n      if (from === undefined && startingUrl && startingUrl.indexOf(to) !== -1) {\n        startingUrl = undefined;\n        return;\n      }\n\n      if (from !== to) {\n        startingUrl = undefined;\n        if (activeTransaction) {\n          __DEBUG_BUILD__ && logger.log(`[Tracing] Finishing current transaction with op: ${activeTransaction.op}`);\n          // If there's an open transaction on the scope, we need to finish it before creating an new one.\n          activeTransaction.finish();\n        }\n        activeTransaction = customStartTransaction({\n          name: WINDOW.location.pathname,\n          op: 'navigation',\n          metadata: { source: 'url' },\n        });\n      }\n    });\n  }\n}\n","import { logger } from '@sentry/utils';\n\nimport type { IdleTransaction } from '../idletransaction';\nimport type { SpanStatusType } from '../span';\nimport { getActiveTransaction } from '../utils';\nimport { WINDOW } from './types';\n\n/**\n * Add a listener that cancels and finishes a transaction when the global\n * document is hidden.\n */\nexport function registerBackgroundTabDetection(): void {\n  if (WINDOW && WINDOW.document) {\n    WINDOW.document.addEventListener('visibilitychange', () => {\n      const activeTransaction = getActiveTransaction() as IdleTransaction;\n      if (WINDOW.document.hidden && activeTransaction) {\n        const statusType: SpanStatusType = 'cancelled';\n\n        __DEBUG_BUILD__ &&\n          logger.log(\n            `[Tracing] Transaction: ${statusType} -> since tab moved to the background, op: ${activeTransaction.op}`,\n          );\n        // We should not set status if it is already set, this prevent important statuses like\n        // error or data loss from being overwritten on transaction.\n        if (!activeTransaction.status) {\n          activeTransaction.setStatus(statusType);\n        }\n        activeTransaction.setTag('visibilitychange', 'document.hidden');\n        activeTransaction.finish();\n      }\n    });\n  } else {\n    __DEBUG_BUILD__ &&\n      logger.warn('[Tracing] Could not set up background tab detection due to lack of global document');\n  }\n}\n","import { addExtensionMethods } from './hubextensions';\nimport * as Integrations from './integrations';\n\nexport type { RequestInstrumentationOptions } from './browser';\nexport type { SpanStatusType } from './span';\n\nexport { Integrations };\n\n// This is already exported as part of `Integrations` above (and for the moment will remain so for\n// backwards compatibility), but that interferes with treeshaking, so we also export it separately\n// here.\n//\n// Previously we expected users to import tracing integrations like\n//\n// import { Integrations } from '@sentry/tracing';\n// const instance = new Integrations.BrowserTracing();\n//\n// This makes the integrations unable to be treeshaken though. To address this, we now have\n// this individual export. We now expect users to consume BrowserTracing like so:\n//\n// import { BrowserTracing } from '@sentry/tracing';\n// const instance = new BrowserTracing();\n//\n// For an example of of the new usage of BrowserTracing, see @sentry/nextjs index.client.ts\nexport { BrowserTracing, BROWSER_TRACING_INTEGRATION_ID } from './browser';\n\nexport { Span, spanStatusfromHttpCode } from './span';\n// eslint-disable-next-line deprecation/deprecation\nexport { SpanStatus } from './spanstatus';\nexport { Transaction } from './transaction';\nexport { instrumentOutgoingRequests, defaultRequestInstrumentationOptions } from './browser';\nexport { IdleTransaction } from './idletransaction';\nexport { startIdleTransaction } from './hubextensions';\n\n// Treeshakable guard to remove all code related to tracing\ndeclare const __SENTRY_TRACING__: boolean;\n\n// Guard for tree\nif (typeof __SENTRY_TRACING__ === 'undefined' || __SENTRY_TRACING__) {\n  // We are patching the global object with our hub extension methods\n  addExtensionMethods();\n}\n\nexport { addExtensionMethods };\n\nexport {\n  extractTraceparentData,\n  getActiveTransaction,\n  hasTracingEnabled,\n  stripUrlQueryAndFragment,\n  TRACEPARENT_REGEXP,\n} from './utils';\n","/* eslint-disable max-lines */\nimport type {\n  Instrumenter,\n  Primitive,\n  Span as SpanInterface,\n  SpanContext,\n  TraceContext,\n  Transaction,\n} from '@sentry/types';\nimport { dropUndefinedKeys, logger, timestampWithMs, uuid4 } from '@sentry/utils';\n\n/**\n * Keeps track of finished spans for a given transaction\n * @internal\n * @hideconstructor\n * @hidden\n */\nexport class SpanRecorder {\n  public spans: Span[] = [];\n\n  private readonly _maxlen: number;\n\n  public constructor(maxlen: number = 1000) {\n    this._maxlen = maxlen;\n  }\n\n  /**\n   * This is just so that we don't run out of memory while recording a lot\n   * of spans. At some point we just stop and flush out the start of the\n   * trace tree (i.e.the first n spans with the smallest\n   * start_timestamp).\n   */\n  public add(span: Span): void {\n    if (this.spans.length > this._maxlen) {\n      span.spanRecorder = undefined;\n    } else {\n      this.spans.push(span);\n    }\n  }\n}\n\n/**\n * Span contains all data about a span\n */\nexport class Span implements SpanInterface {\n  /**\n   * @inheritDoc\n   */\n  public traceId: string = uuid4();\n\n  /**\n   * @inheritDoc\n   */\n  public spanId: string = uuid4().substring(16);\n\n  /**\n   * @inheritDoc\n   */\n  public parentSpanId?: string;\n\n  /**\n   * Internal keeper of the status\n   */\n  public status?: SpanStatusType | string;\n\n  /**\n   * @inheritDoc\n   */\n  public sampled?: boolean;\n\n  /**\n   * Timestamp in seconds when the span was created.\n   */\n  public startTimestamp: number = timestampWithMs();\n\n  /**\n   * Timestamp in seconds when the span ended.\n   */\n  public endTimestamp?: number;\n\n  /**\n   * @inheritDoc\n   */\n  public op?: string;\n\n  /**\n   * @inheritDoc\n   */\n  public description?: string;\n\n  /**\n   * @inheritDoc\n   */\n  public tags: { [key: string]: Primitive } = {};\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public data: { [key: string]: any } = {};\n\n  /**\n   * List of spans that were finalized\n   */\n  public spanRecorder?: SpanRecorder;\n\n  /**\n   * @inheritDoc\n   */\n  public transaction?: Transaction;\n\n  /**\n   * The instrumenter that created this span.\n   */\n  public instrumenter: Instrumenter = 'sentry';\n\n  /**\n   * You should never call the constructor manually, always use `Sentry.startTransaction()`\n   * or call `startChild()` on an existing span.\n   * @internal\n   * @hideconstructor\n   * @hidden\n   */\n  public constructor(spanContext?: SpanContext) {\n    if (!spanContext) {\n      return this;\n    }\n    if (spanContext.traceId) {\n      this.traceId = spanContext.traceId;\n    }\n    if (spanContext.spanId) {\n      this.spanId = spanContext.spanId;\n    }\n    if (spanContext.parentSpanId) {\n      this.parentSpanId = spanContext.parentSpanId;\n    }\n    // We want to include booleans as well here\n    if ('sampled' in spanContext) {\n      this.sampled = spanContext.sampled;\n    }\n    if (spanContext.op) {\n      this.op = spanContext.op;\n    }\n    if (spanContext.description) {\n      this.description = spanContext.description;\n    }\n    if (spanContext.data) {\n      this.data = spanContext.data;\n    }\n    if (spanContext.tags) {\n      this.tags = spanContext.tags;\n    }\n    if (spanContext.status) {\n      this.status = spanContext.status;\n    }\n    if (spanContext.startTimestamp) {\n      this.startTimestamp = spanContext.startTimestamp;\n    }\n    if (spanContext.endTimestamp) {\n      this.endTimestamp = spanContext.endTimestamp;\n    }\n    if (spanContext.instrumenter) {\n      this.instrumenter = spanContext.instrumenter;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public startChild(\n    spanContext?: Pick<SpanContext, Exclude<keyof SpanContext, 'sampled' | 'traceId' | 'parentSpanId'>>,\n  ): Span {\n    const childSpan = new Span({\n      ...spanContext,\n      parentSpanId: this.spanId,\n      sampled: this.sampled,\n      traceId: this.traceId,\n    });\n\n    childSpan.spanRecorder = this.spanRecorder;\n    if (childSpan.spanRecorder) {\n      childSpan.spanRecorder.add(childSpan);\n    }\n\n    childSpan.transaction = this.transaction;\n\n    if (__DEBUG_BUILD__ && childSpan.transaction) {\n      const opStr = (spanContext && spanContext.op) || '< unknown op >';\n      const nameStr = childSpan.transaction.name || '< unknown name >';\n      const idStr = childSpan.transaction.spanId;\n\n      const logMessage = `[Tracing] Starting '${opStr}' span on transaction '${nameStr}' (${idStr}).`;\n      childSpan.transaction.metadata.spanMetadata[childSpan.spanId] = { logMessage };\n      logger.log(logMessage);\n    }\n\n    return childSpan;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTag(key: string, value: Primitive): this {\n    this.tags = { ...this.tags, [key]: value };\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n  public setData(key: string, value: any): this {\n    this.data = { ...this.data, [key]: value };\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setStatus(value: SpanStatusType): this {\n    this.status = value;\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setHttpStatus(httpStatus: number): this {\n    this.setTag('http.status_code', String(httpStatus));\n    const spanStatus = spanStatusfromHttpCode(httpStatus);\n    if (spanStatus !== 'unknown_error') {\n      this.setStatus(spanStatus);\n    }\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public isSuccess(): boolean {\n    return this.status === 'ok';\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public finish(endTimestamp?: number): void {\n    if (\n      __DEBUG_BUILD__ &&\n      // Don't call this for transactions\n      this.transaction &&\n      this.transaction.spanId !== this.spanId\n    ) {\n      const { logMessage } = this.transaction.metadata.spanMetadata[this.spanId];\n      if (logMessage) {\n        logger.log((logMessage as string).replace('Starting', 'Finishing'));\n      }\n    }\n\n    this.endTimestamp = typeof endTimestamp === 'number' ? endTimestamp : timestampWithMs();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public toTraceparent(): string {\n    let sampledString = '';\n    if (this.sampled !== undefined) {\n      sampledString = this.sampled ? '-1' : '-0';\n    }\n    return `${this.traceId}-${this.spanId}${sampledString}`;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public toContext(): SpanContext {\n    return dropUndefinedKeys({\n      data: this.data,\n      description: this.description,\n      endTimestamp: this.endTimestamp,\n      op: this.op,\n      parentSpanId: this.parentSpanId,\n      sampled: this.sampled,\n      spanId: this.spanId,\n      startTimestamp: this.startTimestamp,\n      status: this.status,\n      tags: this.tags,\n      traceId: this.traceId,\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public updateWithContext(spanContext: SpanContext): this {\n    this.data = spanContext.data || {};\n    this.description = spanContext.description;\n    this.endTimestamp = spanContext.endTimestamp;\n    this.op = spanContext.op;\n    this.parentSpanId = spanContext.parentSpanId;\n    this.sampled = spanContext.sampled;\n    this.spanId = spanContext.spanId || this.spanId;\n    this.startTimestamp = spanContext.startTimestamp || this.startTimestamp;\n    this.status = spanContext.status;\n    this.tags = spanContext.tags || {};\n    this.traceId = spanContext.traceId || this.traceId;\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getTraceContext(): TraceContext {\n    return dropUndefinedKeys({\n      data: Object.keys(this.data).length > 0 ? this.data : undefined,\n      description: this.description,\n      op: this.op,\n      parent_span_id: this.parentSpanId,\n      span_id: this.spanId,\n      status: this.status,\n      tags: Object.keys(this.tags).length > 0 ? this.tags : undefined,\n      trace_id: this.traceId,\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public toJSON(): {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data?: { [key: string]: any };\n    description?: string;\n    op?: string;\n    parent_span_id?: string;\n    span_id: string;\n    start_timestamp: number;\n    status?: string;\n    tags?: { [key: string]: Primitive };\n    timestamp?: number;\n    trace_id: string;\n  } {\n    return dropUndefinedKeys({\n      data: Object.keys(this.data).length > 0 ? this.data : undefined,\n      description: this.description,\n      op: this.op,\n      parent_span_id: this.parentSpanId,\n      span_id: this.spanId,\n      start_timestamp: this.startTimestamp,\n      status: this.status,\n      tags: Object.keys(this.tags).length > 0 ? this.tags : undefined,\n      timestamp: this.endTimestamp,\n      trace_id: this.traceId,\n    });\n  }\n}\n\nexport type SpanStatusType =\n  /** The operation completed successfully. */\n  | 'ok'\n  /** Deadline expired before operation could complete. */\n  | 'deadline_exceeded'\n  /** 401 Unauthorized (actually does mean unauthenticated according to RFC 7235) */\n  | 'unauthenticated'\n  /** 403 Forbidden */\n  | 'permission_denied'\n  /** 404 Not Found. Some requested entity (file or directory) was not found. */\n  | 'not_found'\n  /** 429 Too Many Requests */\n  | 'resource_exhausted'\n  /** Client specified an invalid argument. 4xx. */\n  | 'invalid_argument'\n  /** 501 Not Implemented */\n  | 'unimplemented'\n  /** 503 Service Unavailable */\n  | 'unavailable'\n  /** Other/generic 5xx. */\n  | 'internal_error'\n  /** Unknown. Any non-standard HTTP status code. */\n  | 'unknown_error'\n  /** The operation was cancelled (typically by the user). */\n  | 'cancelled'\n  /** Already exists (409) */\n  | 'already_exists'\n  /** Operation was rejected because the system is not in a state required for the operation's */\n  | 'failed_precondition'\n  /** The operation was aborted, typically due to a concurrency issue. */\n  | 'aborted'\n  /** Operation was attempted past the valid range. */\n  | 'out_of_range'\n  /** Unrecoverable data loss or corruption */\n  | 'data_loss';\n\n/**\n * Converts a HTTP status code into a {@link SpanStatusType}.\n *\n * @param httpStatus The HTTP response status code.\n * @returns The span status or unknown_error.\n */\nexport function spanStatusfromHttpCode(httpStatus: number): SpanStatusType {\n  if (httpStatus < 400 && httpStatus >= 100) {\n    return 'ok';\n  }\n\n  if (httpStatus >= 400 && httpStatus < 500) {\n    switch (httpStatus) {\n      case 401:\n        return 'unauthenticated';\n      case 403:\n        return 'permission_denied';\n      case 404:\n        return 'not_found';\n      case 409:\n        return 'already_exists';\n      case 413:\n        return 'failed_precondition';\n      case 429:\n        return 'resource_exhausted';\n      default:\n        return 'invalid_argument';\n    }\n  }\n\n  if (httpStatus >= 500 && httpStatus < 600) {\n    switch (httpStatus) {\n      case 501:\n        return 'unimplemented';\n      case 503:\n        return 'unavailable';\n      case 504:\n        return 'deadline_exceeded';\n      default:\n        return 'internal_error';\n    }\n  }\n\n  return 'unknown_error';\n}\n","import type { Hub } from '@sentry/core';\nimport { getCurrentHub } from '@sentry/core';\nimport type {\n  Context,\n  Contexts,\n  DynamicSamplingContext,\n  Event,\n  Measurements,\n  MeasurementUnit,\n  Transaction as TransactionInterface,\n  TransactionContext,\n  TransactionMetadata,\n} from '@sentry/types';\nimport { dropUndefinedKeys, logger, timestampInSeconds } from '@sentry/utils';\n\nimport { Span as SpanClass, SpanRecorder } from './span';\n\n/** JSDoc */\nexport class Transaction extends SpanClass implements TransactionInterface {\n  public metadata: TransactionMetadata;\n\n  /**\n   * The reference to the current hub.\n   */\n  public readonly _hub: Hub;\n\n  private _name: string;\n\n  private _measurements: Measurements = {};\n\n  private _contexts: Contexts = {};\n\n  private _trimEnd?: boolean;\n\n  private _frozenDynamicSamplingContext: Readonly<Partial<DynamicSamplingContext>> | undefined = undefined;\n\n  /**\n   * This constructor should never be called manually. Those instrumenting tracing should use\n   * `Sentry.startTransaction()`, and internal methods should use `hub.startTransaction()`.\n   * @internal\n   * @hideconstructor\n   * @hidden\n   */\n  public constructor(transactionContext: TransactionContext, hub?: Hub) {\n    super(transactionContext);\n\n    this._hub = hub || getCurrentHub();\n\n    this._name = transactionContext.name || '';\n\n    this.metadata = {\n      source: 'custom',\n      ...transactionContext.metadata,\n      spanMetadata: {},\n      changes: [],\n      propagations: 0,\n    };\n\n    this._trimEnd = transactionContext.trimEnd;\n\n    // this is because transactions are also spans, and spans have a transaction pointer\n    this.transaction = this;\n\n    // If Dynamic Sampling Context is provided during the creation of the transaction, we freeze it as it usually means\n    // there is incoming Dynamic Sampling Context. (Either through an incoming request, a baggage meta-tag, or other means)\n    const incomingDynamicSamplingContext = this.metadata.dynamicSamplingContext;\n    if (incomingDynamicSamplingContext) {\n      // We shallow copy this in case anything writes to the original reference of the passed in `dynamicSamplingContext`\n      this._frozenDynamicSamplingContext = { ...incomingDynamicSamplingContext };\n    }\n  }\n\n  /** Getter for `name` property */\n  public get name(): string {\n    return this._name;\n  }\n\n  /** Setter for `name` property, which also sets `source` as custom */\n  public set name(newName: string) {\n    this.setName(newName);\n  }\n\n  /**\n   * JSDoc\n   */\n  public setName(name: string, source: TransactionMetadata['source'] = 'custom'): void {\n    // `source` could change without the name changing if we discover that an unparameterized route is actually\n    // parameterized by virtue of having no parameters in its path\n    if (name !== this.name || source !== this.metadata.source) {\n      this.metadata.changes.push({\n        // log previous source\n        source: this.metadata.source,\n        timestamp: timestampInSeconds(),\n        propagations: this.metadata.propagations,\n      });\n    }\n\n    this._name = name;\n    this.metadata.source = source;\n  }\n\n  /**\n   * Attaches SpanRecorder to the span itself\n   * @param maxlen maximum number of spans that can be recorded\n   */\n  public initSpanRecorder(maxlen: number = 1000): void {\n    if (!this.spanRecorder) {\n      this.spanRecorder = new SpanRecorder(maxlen);\n    }\n    this.spanRecorder.add(this);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setContext(key: string, context: Context | null): void {\n    if (context === null) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this._contexts[key];\n    } else {\n      this._contexts[key] = context;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setMeasurement(name: string, value: number, unit: MeasurementUnit = ''): void {\n    this._measurements[name] = { value, unit };\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setMetadata(newMetadata: Partial<TransactionMetadata>): void {\n    this.metadata = { ...this.metadata, ...newMetadata };\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public finish(endTimestamp?: number): string | undefined {\n    // This transaction is already finished, so we should not flush it again.\n    if (this.endTimestamp !== undefined) {\n      return undefined;\n    }\n\n    if (!this.name) {\n      __DEBUG_BUILD__ && logger.warn('Transaction has no name, falling back to `<unlabeled transaction>`.');\n      this.name = '<unlabeled transaction>';\n    }\n\n    // just sets the end timestamp\n    super.finish(endTimestamp);\n\n    if (this.sampled !== true) {\n      // At this point if `sampled !== true` we want to discard the transaction.\n      __DEBUG_BUILD__ && logger.log('[Tracing] Discarding transaction because its trace was not chosen to be sampled.');\n\n      const client = this._hub.getClient();\n      if (client) {\n        client.recordDroppedEvent('sample_rate', 'transaction');\n      }\n\n      return undefined;\n    }\n\n    const finishedSpans = this.spanRecorder ? this.spanRecorder.spans.filter(s => s !== this && s.endTimestamp) : [];\n\n    if (this._trimEnd && finishedSpans.length > 0) {\n      this.endTimestamp = finishedSpans.reduce((prev: SpanClass, current: SpanClass) => {\n        if (prev.endTimestamp && current.endTimestamp) {\n          return prev.endTimestamp > current.endTimestamp ? prev : current;\n        }\n        return prev;\n      }).endTimestamp;\n    }\n\n    const metadata = this.metadata;\n\n    const transaction: Event = {\n      contexts: {\n        ...this._contexts,\n        // We don't want to override trace context\n        trace: this.getTraceContext(),\n      },\n      spans: finishedSpans,\n      start_timestamp: this.startTimestamp,\n      tags: this.tags,\n      timestamp: this.endTimestamp,\n      transaction: this.name,\n      type: 'transaction',\n      sdkProcessingMetadata: {\n        ...metadata,\n        dynamicSamplingContext: this.getDynamicSamplingContext(),\n      },\n      ...(metadata.source && {\n        transaction_info: {\n          source: metadata.source,\n          changes: metadata.changes,\n          propagations: metadata.propagations,\n        },\n      }),\n    };\n\n    const hasMeasurements = Object.keys(this._measurements).length > 0;\n\n    if (hasMeasurements) {\n      __DEBUG_BUILD__ &&\n        logger.log(\n          '[Measurements] Adding measurements to transaction',\n          JSON.stringify(this._measurements, undefined, 2),\n        );\n      transaction.measurements = this._measurements;\n    }\n\n    __DEBUG_BUILD__ && logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`);\n\n    return this._hub.captureEvent(transaction);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public toContext(): TransactionContext {\n    const spanContext = super.toContext();\n\n    return dropUndefinedKeys({\n      ...spanContext,\n      name: this.name,\n      trimEnd: this._trimEnd,\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public updateWithContext(transactionContext: TransactionContext): this {\n    super.updateWithContext(transactionContext);\n\n    this.name = transactionContext.name || '';\n\n    this._trimEnd = transactionContext.trimEnd;\n\n    return this;\n  }\n\n  /**\n   * @inheritdoc\n   *\n   * @experimental\n   */\n  public getDynamicSamplingContext(): Readonly<Partial<DynamicSamplingContext>> {\n    if (this._frozenDynamicSamplingContext) {\n      return this._frozenDynamicSamplingContext;\n    }\n\n    const hub: Hub = this._hub || getCurrentHub();\n    const client = hub && hub.getClient();\n\n    if (!client) return {};\n\n    const { environment, release } = client.getOptions() || {};\n    const { publicKey: public_key } = client.getDsn() || {};\n\n    const maybeSampleRate = this.metadata.sampleRate;\n    const sample_rate = maybeSampleRate !== undefined ? maybeSampleRate.toString() : undefined;\n\n    const scope = hub.getScope();\n    const { segment: user_segment } = (scope && scope.getUser()) || {};\n\n    const source = this.metadata.source;\n\n    // We don't want to have a transaction name in the DSC if the source is \"url\" because URLs might contain PII\n    const transaction = source && source !== 'url' ? this.name : undefined;\n\n    const dsc = dropUndefinedKeys({\n      environment,\n      release,\n      transaction,\n      user_segment,\n      public_key,\n      trace_id: this.traceId,\n      sample_rate,\n    });\n\n    // Uncomment if we want to make DSC immutable\n    // this._frozenDynamicSamplingContext = dsc;\n\n    return dsc;\n  }\n}\n","import type { Hub } from '@sentry/core';\nimport { getCurrentHub } from '@sentry/core';\nimport type { Options, Transaction } from '@sentry/types';\n\n/**\n * The `extractTraceparentData` function and `TRACEPARENT_REGEXP` constant used\n * to be declared in this file. It was later moved into `@sentry/utils` as part of a\n * move to remove `@sentry/tracing` dependencies from `@sentry/node` (`extractTraceparentData`\n * is the only tracing function used by `@sentry/node`).\n *\n * These exports are kept here for backwards compatability's sake.\n *\n * TODO(v7): Reorganize these exports\n *\n * See https://github.com/getsentry/sentry-javascript/issues/4642 for more details.\n */\nexport { TRACEPARENT_REGEXP, extractTraceparentData } from '@sentry/utils';\n\n/**\n * Determines if tracing is currently enabled.\n *\n * Tracing is enabled when at least one of `tracesSampleRate` and `tracesSampler` is defined in the SDK config.\n */\nexport function hasTracingEnabled(\n  maybeOptions?: Pick<Options, 'tracesSampleRate' | 'tracesSampler'> | undefined,\n): boolean {\n  const client = getCurrentHub().getClient();\n  const options = maybeOptions || (client && client.getOptions());\n  return !!options && ('tracesSampleRate' in options || 'tracesSampler' in options);\n}\n\n/** Grabs active transaction off scope, if any */\nexport function getActiveTransaction<T extends Transaction>(maybeHub?: Hub): T | undefined {\n  const hub = maybeHub || getCurrentHub();\n  const scope = hub.getScope();\n  return scope && (scope.getTransaction() as T | undefined);\n}\n\n/**\n * Converts from milliseconds to seconds\n * @param time time in ms\n */\nexport function msToSec(time: number): number {\n  return time / 1000;\n}\n\n/**\n * Converts from seconds to milliseconds\n * @param time time in seconds\n */\nexport function secToMs(time: number): number {\n  return time * 1000;\n}\n\n// so it can be used in manual instrumentation without necessitating a hard dependency on @sentry/utils\nexport { stripUrlQueryAndFragment } from '@sentry/utils';\n","import { isString } from './is';\nimport { getGlobalObject } from './worldwide';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject<Window>();\n\nconst DEFAULT_MAX_STRING_LENGTH = 80;\n\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nexport function htmlTreeAsString(\n  elem: unknown,\n  options: string[] | { keyAttrs?: string[]; maxStringLength?: number } = {},\n): string {\n  type SimpleNode = {\n    parentNode: SimpleNode;\n  } | null;\n\n  // try/catch both:\n  // - accessing event.target (see getsentry/raven-js#838, #768)\n  // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n  // - can throw an exception in some circumstances.\n  try {\n    let currentElem = elem as SimpleNode;\n    const MAX_TRAVERSE_HEIGHT = 5;\n    const out = [];\n    let height = 0;\n    let len = 0;\n    const separator = ' > ';\n    const sepLength = separator.length;\n    let nextStr;\n    const keyAttrs = Array.isArray(options) ? options : options.keyAttrs;\n    const maxStringLength = (!Array.isArray(options) && options.maxStringLength) || DEFAULT_MAX_STRING_LENGTH;\n\n    while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n      nextStr = _htmlElementAsString(currentElem, keyAttrs);\n      // bail out if\n      // - nextStr is the 'html' element\n      // - the length of the string that would be created exceeds maxStringLength\n      //   (ignore this limit if we are on the first iteration)\n      if (nextStr === 'html' || (height > 1 && len + out.length * sepLength + nextStr.length >= maxStringLength)) {\n        break;\n      }\n\n      out.push(nextStr);\n\n      len += nextStr.length;\n      currentElem = currentElem.parentNode;\n    }\n\n    return out.reverse().join(separator);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction _htmlElementAsString(el: unknown, keyAttrs?: string[]): string {\n  const elem = el as {\n    tagName?: string;\n    id?: string;\n    className?: string;\n    getAttribute(key: string): string;\n  };\n\n  const out = [];\n  let className;\n  let classes;\n  let key;\n  let attr;\n  let i;\n\n  if (!elem || !elem.tagName) {\n    return '';\n  }\n\n  out.push(elem.tagName.toLowerCase());\n\n  // Pairs of attribute keys defined in `serializeAttribute` and their values on element.\n  const keyAttrPairs =\n    keyAttrs && keyAttrs.length\n      ? keyAttrs.filter(keyAttr => elem.getAttribute(keyAttr)).map(keyAttr => [keyAttr, elem.getAttribute(keyAttr)])\n      : null;\n\n  if (keyAttrPairs && keyAttrPairs.length) {\n    keyAttrPairs.forEach(keyAttrPair => {\n      out.push(`[${keyAttrPair[0]}=\"${keyAttrPair[1]}\"]`);\n    });\n  } else {\n    if (elem.id) {\n      out.push(`#${elem.id}`);\n    }\n\n    // eslint-disable-next-line prefer-const\n    className = elem.className;\n    if (className && isString(className)) {\n      classes = className.split(/\\s+/);\n      for (i = 0; i < classes.length; i++) {\n        out.push(`.${classes[i]}`);\n      }\n    }\n  }\n  const allowedAttrs = ['aria-label', 'type', 'name', 'title', 'alt'];\n  for (i = 0; i < allowedAttrs.length; i++) {\n    key = allowedAttrs[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.push(`[${key}=\"${attr}\"]`);\n    }\n  }\n  return out.join('');\n}\n\n/**\n * A safe form of location.href\n */\nexport function getLocationHref(): string {\n  try {\n    return WINDOW.document.location.href;\n  } catch (oO) {\n    return '';\n  }\n}\n\n/**\n * Gets a DOM element by using document.querySelector.\n *\n * This wrapper will first check for the existance of the function before\n * actually calling it so that we don't have to take care of this check,\n * every time we want to access the DOM.\n *\n * Reason: DOM/querySelector is not available in all environments.\n *\n * We have to cast to any because utils can be consumed by a variety of environments,\n * and we don't want to break TS users. If you know what element will be selected by\n * `document.querySelector`, specify it as part of the generic call. For example,\n * `const element = getDomElement<Element>('selector');`\n *\n * @param selector the selector string passed on to document.querySelector\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getDomElement<E = any>(selector: string): E | null {\n  if (WINDOW.document && WINDOW.document.querySelector) {\n    return WINDOW.document.querySelector(selector) as unknown as E;\n  }\n  return null;\n}\n","/*\n * This module exists for optimizations in the build process through rollup and terser.  We define some global\n * constants, which can be overridden during build. By guarding certain pieces of code with functions that return these\n * constants, we can control whether or not they appear in the final bundle. (Any code guarded by a false condition will\n * never run, and will hence be dropped during treeshaking.) The two primary uses for this are stripping out calls to\n * `logger` and preventing node-related code from appearing in browser bundles.\n *\n * Attention:\n * This file should not be used to define constants/flags that are intended to be used for tree-shaking conducted by\n * users. These flags should live in their respective packages, as we identified user tooling (specifically webpack)\n * having issues tree-shaking these constants across package boundaries.\n * An example for this is the __SENTRY_DEBUG__ constant. It is declared in each package individually because we want\n * users to be able to shake away expressions that it guards.\n */\n\ndeclare const __SENTRY_BROWSER_BUNDLE__: boolean | undefined;\n\nexport type SdkSource = 'npm' | 'cdn' | 'loader';\n\n/**\n * Figures out if we're building a browser bundle.\n *\n * @returns true if this is a browser bundle build.\n */\nexport function isBrowserBundle(): boolean {\n  return typeof __SENTRY_BROWSER_BUNDLE__ !== 'undefined' && !!__SENTRY_BROWSER_BUNDLE__;\n}\n\n/**\n * Get source of SDK.\n */\nexport function getSDKSource(): SdkSource {\n  // @ts-ignore __SENTRY_SDK_SOURCE__ is injected by rollup during build process\n  return __SENTRY_SDK_SOURCE__;\n}\n","/* eslint-disable max-lines */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/ban-types */\nimport type { WrappedFunction } from '@sentry/types';\n\nimport { isInstanceOf, isString } from './is';\nimport { CONSOLE_LEVELS, logger } from './logger';\nimport { fill } from './object';\nimport { getFunctionName } from './stacktrace';\nimport { supportsHistory, supportsNativeFetch } from './supports';\nimport { getGlobalObject } from './worldwide';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject<Window>();\n\nexport type InstrumentHandlerType =\n  | 'console'\n  | 'dom'\n  | 'fetch'\n  | 'history'\n  | 'sentry'\n  | 'xhr'\n  | 'error'\n  | 'unhandledrejection';\nexport type InstrumentHandlerCallback = (data: any) => void;\n\n/**\n * Instrument native APIs to call handlers that can be used to create breadcrumbs, APM spans etc.\n *  - Console API\n *  - Fetch API\n *  - XHR API\n *  - History API\n *  - DOM API (click/typing)\n *  - Error API\n *  - UnhandledRejection API\n */\n\nconst handlers: { [key in InstrumentHandlerType]?: InstrumentHandlerCallback[] } = {};\nconst instrumented: { [key in InstrumentHandlerType]?: boolean } = {};\n\n/** Instruments given API */\nfunction instrument(type: InstrumentHandlerType): void {\n  if (instrumented[type]) {\n    return;\n  }\n\n  instrumented[type] = true;\n\n  switch (type) {\n    case 'console':\n      instrumentConsole();\n      break;\n    case 'dom':\n      instrumentDOM();\n      break;\n    case 'xhr':\n      instrumentXHR();\n      break;\n    case 'fetch':\n      instrumentFetch();\n      break;\n    case 'history':\n      instrumentHistory();\n      break;\n    case 'error':\n      instrumentError();\n      break;\n    case 'unhandledrejection':\n      instrumentUnhandledRejection();\n      break;\n    default:\n      __DEBUG_BUILD__ && logger.warn('unknown instrumentation type:', type);\n      return;\n  }\n}\n\n/**\n * Add handler that will be called when given type of instrumentation triggers.\n * Use at your own risk, this might break without changelog notice, only used internally.\n * @hidden\n */\nexport function addInstrumentationHandler(type: InstrumentHandlerType, callback: InstrumentHandlerCallback): void {\n  handlers[type] = handlers[type] || [];\n  (handlers[type] as InstrumentHandlerCallback[]).push(callback);\n  instrument(type);\n}\n\n/** JSDoc */\nfunction triggerHandlers(type: InstrumentHandlerType, data: any): void {\n  if (!type || !handlers[type]) {\n    return;\n  }\n\n  for (const handler of handlers[type] || []) {\n    try {\n      handler(data);\n    } catch (e) {\n      __DEBUG_BUILD__ &&\n        logger.error(\n          `Error while triggering instrumentation handler.\\nType: ${type}\\nName: ${getFunctionName(handler)}\\nError:`,\n          e,\n        );\n    }\n  }\n}\n\n/** JSDoc */\nfunction instrumentConsole(): void {\n  if (!('console' in WINDOW)) {\n    return;\n  }\n\n  CONSOLE_LEVELS.forEach(function (level: string): void {\n    if (!(level in WINDOW.console)) {\n      return;\n    }\n\n    fill(WINDOW.console, level, function (originalConsoleMethod: () => any): Function {\n      return function (...args: any[]): void {\n        triggerHandlers('console', { args, level });\n\n        // this fails for some browsers. :(\n        if (originalConsoleMethod) {\n          originalConsoleMethod.apply(WINDOW.console, args);\n        }\n      };\n    });\n  });\n}\n\n/** JSDoc */\nfunction instrumentFetch(): void {\n  if (!supportsNativeFetch()) {\n    return;\n  }\n\n  fill(WINDOW, 'fetch', function (originalFetch: () => void): () => void {\n    return function (...args: any[]): void {\n      const handlerData = {\n        args,\n        fetchData: {\n          method: getFetchMethod(args),\n          url: getFetchUrl(args),\n        },\n        startTimestamp: Date.now(),\n      };\n\n      triggerHandlers('fetch', {\n        ...handlerData,\n      });\n\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      return originalFetch.apply(WINDOW, args).then(\n        (response: Response) => {\n          triggerHandlers('fetch', {\n            ...handlerData,\n            endTimestamp: Date.now(),\n            response,\n          });\n          return response;\n        },\n        (error: Error) => {\n          triggerHandlers('fetch', {\n            ...handlerData,\n            endTimestamp: Date.now(),\n            error,\n          });\n          // NOTE: If you are a Sentry user, and you are seeing this stack frame,\n          //       it means the sentry.javascript SDK caught an error invoking your application code.\n          //       This is expected behavior and NOT indicative of a bug with sentry.javascript.\n          throw error;\n        },\n      );\n    };\n  });\n}\n\ntype XHRSendInput = null | Blob | BufferSource | FormData | URLSearchParams | string;\n\n/** JSDoc */\ninterface SentryWrappedXMLHttpRequest extends XMLHttpRequest {\n  [key: string]: any;\n  __sentry_xhr__?: {\n    method?: string;\n    url?: string;\n    status_code?: number;\n    body?: XHRSendInput;\n  };\n}\n\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/** Extract `method` from fetch call arguments */\nfunction getFetchMethod(fetchArgs: any[] = []): string {\n  if ('Request' in WINDOW && isInstanceOf(fetchArgs[0], Request) && fetchArgs[0].method) {\n    return String(fetchArgs[0].method).toUpperCase();\n  }\n  if (fetchArgs[1] && fetchArgs[1].method) {\n    return String(fetchArgs[1].method).toUpperCase();\n  }\n  return 'GET';\n}\n\n/** Extract `url` from fetch call arguments */\nfunction getFetchUrl(fetchArgs: any[] = []): string {\n  if (typeof fetchArgs[0] === 'string') {\n    return fetchArgs[0];\n  }\n  if ('Request' in WINDOW && isInstanceOf(fetchArgs[0], Request)) {\n    return fetchArgs[0].url;\n  }\n  return String(fetchArgs[0]);\n}\n/* eslint-enable @typescript-eslint/no-unsafe-member-access */\n\n/** JSDoc */\nfunction instrumentXHR(): void {\n  if (!('XMLHttpRequest' in WINDOW)) {\n    return;\n  }\n\n  const xhrproto = XMLHttpRequest.prototype;\n\n  fill(xhrproto, 'open', function (originalOpen: () => void): () => void {\n    return function (this: SentryWrappedXMLHttpRequest, ...args: any[]): void {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const xhr = this;\n      const url = args[1];\n      const xhrInfo: SentryWrappedXMLHttpRequest['__sentry_xhr__'] = (xhr.__sentry_xhr__ = {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        method: isString(args[0]) ? args[0].toUpperCase() : args[0],\n        url: args[1],\n      });\n\n      // if Sentry key appears in URL, don't capture it as a request\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      if (isString(url) && xhrInfo.method === 'POST' && url.match(/sentry_key/)) {\n        xhr.__sentry_own_request__ = true;\n      }\n\n      const onreadystatechangeHandler = function (): void {\n        if (xhr.readyState === 4) {\n          try {\n            // touching statusCode in some platforms throws\n            // an exception\n            xhrInfo.status_code = xhr.status;\n          } catch (e) {\n            /* do nothing */\n          }\n\n          triggerHandlers('xhr', {\n            args,\n            endTimestamp: Date.now(),\n            startTimestamp: Date.now(),\n            xhr,\n          });\n        }\n      };\n\n      if ('onreadystatechange' in xhr && typeof xhr.onreadystatechange === 'function') {\n        fill(xhr, 'onreadystatechange', function (original: WrappedFunction): Function {\n          return function (...readyStateArgs: any[]): void {\n            onreadystatechangeHandler();\n            return original.apply(xhr, readyStateArgs);\n          };\n        });\n      } else {\n        xhr.addEventListener('readystatechange', onreadystatechangeHandler);\n      }\n\n      return originalOpen.apply(xhr, args);\n    };\n  });\n\n  fill(xhrproto, 'send', function (originalSend: () => void): () => void {\n    return function (this: SentryWrappedXMLHttpRequest, ...args: any[]): void {\n      if (this.__sentry_xhr__ && args[0] !== undefined) {\n        this.__sentry_xhr__.body = args[0];\n      }\n\n      triggerHandlers('xhr', {\n        args,\n        startTimestamp: Date.now(),\n        xhr: this,\n      });\n\n      return originalSend.apply(this, args);\n    };\n  });\n}\n\nlet lastHref: string;\n\n/** JSDoc */\nfunction instrumentHistory(): void {\n  if (!supportsHistory()) {\n    return;\n  }\n\n  const oldOnPopState = WINDOW.onpopstate;\n  WINDOW.onpopstate = function (this: WindowEventHandlers, ...args: any[]): any {\n    const to = WINDOW.location.href;\n    // keep track of the current URL state, as we always receive only the updated state\n    const from = lastHref;\n    lastHref = to;\n    triggerHandlers('history', {\n      from,\n      to,\n    });\n    if (oldOnPopState) {\n      // Apparently this can throw in Firefox when incorrectly implemented plugin is installed.\n      // https://github.com/getsentry/sentry-javascript/issues/3344\n      // https://github.com/bugsnag/bugsnag-js/issues/469\n      try {\n        return oldOnPopState.apply(this, args);\n      } catch (_oO) {\n        // no-empty\n      }\n    }\n  };\n\n  /** @hidden */\n  function historyReplacementFunction(originalHistoryFunction: () => void): () => void {\n    return function (this: History, ...args: any[]): void {\n      const url = args.length > 2 ? args[2] : undefined;\n      if (url) {\n        // coerce to string (this is what pushState does)\n        const from = lastHref;\n        const to = String(url);\n        // keep track of the current URL state, as we always receive only the updated state\n        lastHref = to;\n        triggerHandlers('history', {\n          from,\n          to,\n        });\n      }\n      return originalHistoryFunction.apply(this, args);\n    };\n  }\n\n  fill(WINDOW.history, 'pushState', historyReplacementFunction);\n  fill(WINDOW.history, 'replaceState', historyReplacementFunction);\n}\n\nconst debounceDuration = 1000;\nlet debounceTimerID: number | undefined;\nlet lastCapturedEvent: Event | undefined;\n\n/**\n * Decide whether the current event should finish the debounce of previously captured one.\n * @param previous previously captured event\n * @param current event to be captured\n */\nfunction shouldShortcircuitPreviousDebounce(previous: Event | undefined, current: Event): boolean {\n  // If there was no previous event, it should always be swapped for the new one.\n  if (!previous) {\n    return true;\n  }\n\n  // If both events have different type, then user definitely performed two separate actions. e.g. click + keypress.\n  if (previous.type !== current.type) {\n    return true;\n  }\n\n  try {\n    // If both events have the same type, it's still possible that actions were performed on different targets.\n    // e.g. 2 clicks on different buttons.\n    if (previous.target !== current.target) {\n      return true;\n    }\n  } catch (e) {\n    // just accessing `target` property can throw an exception in some rare circumstances\n    // see: https://github.com/getsentry/sentry-javascript/issues/838\n  }\n\n  // If both events have the same type _and_ same `target` (an element which triggered an event, _not necessarily_\n  // to which an event listener was attached), we treat them as the same action, as we want to capture\n  // only one breadcrumb. e.g. multiple clicks on the same button, or typing inside a user input box.\n  return false;\n}\n\n/**\n * Decide whether an event should be captured.\n * @param event event to be captured\n */\nfunction shouldSkipDOMEvent(event: Event): boolean {\n  // We are only interested in filtering `keypress` events for now.\n  if (event.type !== 'keypress') {\n    return false;\n  }\n\n  try {\n    const target = event.target as HTMLElement;\n\n    if (!target || !target.tagName) {\n      return true;\n    }\n\n    // Only consider keypress events on actual input elements. This will disregard keypresses targeting body\n    // e.g.tabbing through elements, hotkeys, etc.\n    if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n      return false;\n    }\n  } catch (e) {\n    // just accessing `target` property can throw an exception in some rare circumstances\n    // see: https://github.com/getsentry/sentry-javascript/issues/838\n  }\n\n  return true;\n}\n\n/**\n * Wraps addEventListener to capture UI breadcrumbs\n * @param handler function that will be triggered\n * @param globalListener indicates whether event was captured by the global event listener\n * @returns wrapped breadcrumb events handler\n * @hidden\n */\nfunction makeDOMEventHandler(handler: Function, globalListener: boolean = false): (event: Event) => void {\n  return (event: Event): void => {\n    // It's possible this handler might trigger multiple times for the same\n    // event (e.g. event propagation through node ancestors).\n    // Ignore if we've already captured that event.\n    if (!event || lastCapturedEvent === event) {\n      return;\n    }\n\n    // We always want to skip _some_ events.\n    if (shouldSkipDOMEvent(event)) {\n      return;\n    }\n\n    const name = event.type === 'keypress' ? 'input' : event.type;\n\n    // If there is no debounce timer, it means that we can safely capture the new event and store it for future comparisons.\n    if (debounceTimerID === undefined) {\n      handler({\n        event: event,\n        name,\n        global: globalListener,\n      });\n      lastCapturedEvent = event;\n    }\n    // If there is a debounce awaiting, see if the new event is different enough to treat it as a unique one.\n    // If that's the case, emit the previous event and store locally the newly-captured DOM event.\n    else if (shouldShortcircuitPreviousDebounce(lastCapturedEvent, event)) {\n      handler({\n        event: event,\n        name,\n        global: globalListener,\n      });\n      lastCapturedEvent = event;\n    }\n\n    // Start a new debounce timer that will prevent us from capturing multiple events that should be grouped together.\n    clearTimeout(debounceTimerID);\n    debounceTimerID = WINDOW.setTimeout(() => {\n      debounceTimerID = undefined;\n    }, debounceDuration);\n  };\n}\n\ntype AddEventListener = (\n  type: string,\n  listener: EventListenerOrEventListenerObject,\n  options?: boolean | AddEventListenerOptions,\n) => void;\ntype RemoveEventListener = (\n  type: string,\n  listener: EventListenerOrEventListenerObject,\n  options?: boolean | EventListenerOptions,\n) => void;\n\ntype InstrumentedElement = Element & {\n  __sentry_instrumentation_handlers__?: {\n    [key in 'click' | 'keypress']?: {\n      handler?: Function;\n      /** The number of custom listeners attached to this element */\n      refCount: number;\n    };\n  };\n};\n\n/** JSDoc */\nfunction instrumentDOM(): void {\n  if (!('document' in WINDOW)) {\n    return;\n  }\n\n  // Make it so that any click or keypress that is unhandled / bubbled up all the way to the document triggers our dom\n  // handlers. (Normally we have only one, which captures a breadcrumb for each click or keypress.) Do this before\n  // we instrument `addEventListener` so that we don't end up attaching this handler twice.\n  const triggerDOMHandler = triggerHandlers.bind(null, 'dom');\n  const globalDOMEventHandler = makeDOMEventHandler(triggerDOMHandler, true);\n  WINDOW.document.addEventListener('click', globalDOMEventHandler, false);\n  WINDOW.document.addEventListener('keypress', globalDOMEventHandler, false);\n\n  // After hooking into click and keypress events bubbled up to `document`, we also hook into user-handled\n  // clicks & keypresses, by adding an event listener of our own to any element to which they add a listener. That\n  // way, whenever one of their handlers is triggered, ours will be, too. (This is needed because their handler\n  // could potentially prevent the event from bubbling up to our global listeners. This way, our handler are still\n  // guaranteed to fire at least once.)\n  ['EventTarget', 'Node'].forEach((target: string) => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    const proto = (WINDOW as any)[target] && (WINDOW as any)[target].prototype;\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, no-prototype-builtins\n    if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n      return;\n    }\n\n    fill(proto, 'addEventListener', function (originalAddEventListener: AddEventListener): AddEventListener {\n      return function (\n        this: Element,\n        type: string,\n        listener: EventListenerOrEventListenerObject,\n        options?: boolean | AddEventListenerOptions,\n      ): AddEventListener {\n        if (type === 'click' || type == 'keypress') {\n          try {\n            const el = this as InstrumentedElement;\n            const handlers = (el.__sentry_instrumentation_handlers__ = el.__sentry_instrumentation_handlers__ || {});\n            const handlerForType = (handlers[type] = handlers[type] || { refCount: 0 });\n\n            if (!handlerForType.handler) {\n              const handler = makeDOMEventHandler(triggerDOMHandler);\n              handlerForType.handler = handler;\n              originalAddEventListener.call(this, type, handler, options);\n            }\n\n            handlerForType.refCount++;\n          } catch (e) {\n            // Accessing dom properties is always fragile.\n            // Also allows us to skip `addEventListenrs` calls with no proper `this` context.\n          }\n        }\n\n        return originalAddEventListener.call(this, type, listener, options);\n      };\n    });\n\n    fill(\n      proto,\n      'removeEventListener',\n      function (originalRemoveEventListener: RemoveEventListener): RemoveEventListener {\n        return function (\n          this: Element,\n          type: string,\n          listener: EventListenerOrEventListenerObject,\n          options?: boolean | EventListenerOptions,\n        ): () => void {\n          if (type === 'click' || type == 'keypress') {\n            try {\n              const el = this as InstrumentedElement;\n              const handlers = el.__sentry_instrumentation_handlers__ || {};\n              const handlerForType = handlers[type];\n\n              if (handlerForType) {\n                handlerForType.refCount--;\n                // If there are no longer any custom handlers of the current type on this element, we can remove ours, too.\n                if (handlerForType.refCount <= 0) {\n                  originalRemoveEventListener.call(this, type, handlerForType.handler, options);\n                  handlerForType.handler = undefined;\n                  delete handlers[type]; // eslint-disable-line @typescript-eslint/no-dynamic-delete\n                }\n\n                // If there are no longer any custom handlers of any type on this element, cleanup everything.\n                if (Object.keys(handlers).length === 0) {\n                  delete el.__sentry_instrumentation_handlers__;\n                }\n              }\n            } catch (e) {\n              // Accessing dom properties is always fragile.\n              // Also allows us to skip `addEventListenrs` calls with no proper `this` context.\n            }\n          }\n\n          return originalRemoveEventListener.call(this, type, listener, options);\n        };\n      },\n    );\n  });\n}\n\nlet _oldOnErrorHandler: OnErrorEventHandler = null;\n/** JSDoc */\nfunction instrumentError(): void {\n  _oldOnErrorHandler = WINDOW.onerror;\n\n  WINDOW.onerror = function (msg: any, url: any, line: any, column: any, error: any): boolean {\n    triggerHandlers('error', {\n      column,\n      error,\n      line,\n      msg,\n      url,\n    });\n\n    if (_oldOnErrorHandler) {\n      // eslint-disable-next-line prefer-rest-params\n      return _oldOnErrorHandler.apply(this, arguments);\n    }\n\n    return false;\n  };\n}\n\nlet _oldOnUnhandledRejectionHandler: ((e: any) => void) | null = null;\n/** JSDoc */\nfunction instrumentUnhandledRejection(): void {\n  _oldOnUnhandledRejectionHandler = WINDOW.onunhandledrejection;\n\n  WINDOW.onunhandledrejection = function (e: any): boolean {\n    triggerHandlers('unhandledrejection', e);\n\n    if (_oldOnUnhandledRejectionHandler) {\n      // eslint-disable-next-line prefer-rest-params\n      return _oldOnUnhandledRejectionHandler.apply(this, arguments);\n    }\n\n    return true;\n  };\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\nimport type { PolymorphicEvent, Primitive } from '@sentry/types';\n\n// eslint-disable-next-line @typescript-eslint/unbound-method\nconst objectToString = Object.prototype.toString;\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isError(wat: unknown): wat is Error {\n  switch (objectToString.call(wat)) {\n    case '[object Error]':\n    case '[object Exception]':\n    case '[object DOMException]':\n      return true;\n    default:\n      return isInstanceOf(wat, Error);\n  }\n}\n/**\n * Checks whether given value is an instance of the given built-in class.\n *\n * @param wat The value to be checked\n * @param className\n * @returns A boolean representing the result.\n */\nfunction isBuiltin(wat: unknown, className: string): boolean {\n  return objectToString.call(wat) === `[object ${className}]`;\n}\n\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isErrorEvent(wat: unknown): boolean {\n  return isBuiltin(wat, 'ErrorEvent');\n}\n\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMError(wat: unknown): boolean {\n  return isBuiltin(wat, 'DOMError');\n}\n\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMException(wat: unknown): boolean {\n  return isBuiltin(wat, 'DOMException');\n}\n\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isString(wat: unknown): wat is string {\n  return isBuiltin(wat, 'String');\n}\n\n/**\n * Checks whether given value is a primitive (undefined, null, number, boolean, string, bigint, symbol)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPrimitive(wat: unknown): wat is Primitive {\n  return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPlainObject(wat: unknown): wat is Record<string, unknown> {\n  return isBuiltin(wat, 'Object');\n}\n\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isEvent(wat: unknown): wat is PolymorphicEvent {\n  return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isElement(wat: unknown): boolean {\n  return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isRegExp(wat: unknown): wat is RegExp {\n  return isBuiltin(wat, 'RegExp');\n}\n\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nexport function isThenable(wat: any): wat is PromiseLike<any> {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return Boolean(wat && wat.then && typeof wat.then === 'function');\n}\n\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isSyntheticEvent(wat: unknown): boolean {\n  return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n\n/**\n * Checks whether given value is NaN\n * {@link isNaN}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isNaN(wat: unknown): boolean {\n  return typeof wat === 'number' && wat !== wat;\n}\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nexport function isInstanceOf(wat: any, base: any): boolean {\n  try {\n    return wat instanceof base;\n  } catch (_e) {\n    return false;\n  }\n}\n","import type { WrappedFunction } from '@sentry/types';\n\nimport { getGlobalSingleton, GLOBAL_OBJ } from './worldwide';\n\n/** Prefix for logging strings */\nconst PREFIX = 'Sentry Logger ';\n\nexport const CONSOLE_LEVELS = ['debug', 'info', 'warn', 'error', 'log', 'assert', 'trace'] as const;\nexport type ConsoleLevel = typeof CONSOLE_LEVELS[number];\n\ntype LoggerMethod = (...args: unknown[]) => void;\ntype LoggerConsoleMethods = Record<typeof CONSOLE_LEVELS[number], LoggerMethod>;\n\n/** JSDoc */\ninterface Logger extends LoggerConsoleMethods {\n  disable(): void;\n  enable(): void;\n}\n\n/**\n * Temporarily disable sentry console instrumentations.\n *\n * @param callback The function to run against the original `console` messages\n * @returns The results of the callback\n */\nexport function consoleSandbox<T>(callback: () => T): T {\n  if (!('console' in GLOBAL_OBJ)) {\n    return callback();\n  }\n\n  const originalConsole = GLOBAL_OBJ.console as Console & Record<string, unknown>;\n  const wrappedLevels: Partial<LoggerConsoleMethods> = {};\n\n  // Restore all wrapped console methods\n  CONSOLE_LEVELS.forEach(level => {\n    // TODO(v7): Remove this check as it's only needed for Node 6\n    const originalWrappedFunc =\n      originalConsole[level] && (originalConsole[level] as WrappedFunction).__sentry_original__;\n    if (level in originalConsole && originalWrappedFunc) {\n      wrappedLevels[level] = originalConsole[level] as LoggerConsoleMethods[typeof level];\n      originalConsole[level] = originalWrappedFunc as Console[typeof level];\n    }\n  });\n\n  try {\n    return callback();\n  } finally {\n    // Revert restoration to wrapped state\n    Object.keys(wrappedLevels).forEach(level => {\n      originalConsole[level] = wrappedLevels[level as typeof CONSOLE_LEVELS[number]];\n    });\n  }\n}\n\nfunction makeLogger(): Logger {\n  let enabled = false;\n  const logger: Partial<Logger> = {\n    enable: () => {\n      enabled = true;\n    },\n    disable: () => {\n      enabled = false;\n    },\n  };\n\n  if (__DEBUG_BUILD__) {\n    CONSOLE_LEVELS.forEach(name => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      logger[name] = (...args: any[]) => {\n        if (enabled) {\n          consoleSandbox(() => {\n            GLOBAL_OBJ.console[name](`${PREFIX}[${name}]:`, ...args);\n          });\n        }\n      };\n    });\n  } else {\n    CONSOLE_LEVELS.forEach(name => {\n      logger[name] = () => undefined;\n    });\n  }\n\n  return logger as Logger;\n}\n\n// Ensure we only have a single logger instance, even if multiple versions of @sentry/utils are being used\nlet logger: Logger;\nif (__DEBUG_BUILD__) {\n  logger = getGlobalSingleton('logger', makeLogger);\n} else {\n  logger = makeLogger();\n}\n\nexport { logger };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport type { Event, Exception, Mechanism, StackFrame } from '@sentry/types';\n\nimport { addNonEnumerableProperty } from './object';\nimport { snipLine } from './string';\nimport { GLOBAL_OBJ } from './worldwide';\n\ninterface CryptoInternal {\n  getRandomValues(array: Uint8Array): Uint8Array;\n  randomUUID?(): string;\n}\n\n/** An interface for common properties on global */\ninterface CryptoGlobal {\n  msCrypto?: CryptoInternal;\n  crypto?: CryptoInternal;\n}\n\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nexport function uuid4(): string {\n  const gbl = GLOBAL_OBJ as typeof GLOBAL_OBJ & CryptoGlobal;\n  const crypto = gbl.crypto || gbl.msCrypto;\n\n  if (crypto && crypto.randomUUID) {\n    return crypto.randomUUID().replace(/-/g, '');\n  }\n\n  const getRandomByte =\n    crypto && crypto.getRandomValues ? () => crypto.getRandomValues(new Uint8Array(1))[0] : () => Math.random() * 16;\n\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n  // Concatenating the following numbers as strings results in '10000000100040008000100000000000'\n  return (([1e7] as unknown as string) + 1e3 + 4e3 + 8e3 + 1e11).replace(/[018]/g, c =>\n    // eslint-disable-next-line no-bitwise\n    ((c as unknown as number) ^ ((getRandomByte() & 15) >> ((c as unknown as number) / 4))).toString(16),\n  );\n}\n\nfunction getFirstException(event: Event): Exception | undefined {\n  return event.exception && event.exception.values ? event.exception.values[0] : undefined;\n}\n\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nexport function getEventDescription(event: Event): string {\n  const { message, event_id: eventId } = event;\n  if (message) {\n    return message;\n  }\n\n  const firstException = getFirstException(event);\n  if (firstException) {\n    if (firstException.type && firstException.value) {\n      return `${firstException.type}: ${firstException.value}`;\n    }\n    return firstException.type || firstException.value || eventId || '<unknown>';\n  }\n  return eventId || '<unknown>';\n}\n\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nexport function addExceptionTypeValue(event: Event, value?: string, type?: string): void {\n  const exception = (event.exception = event.exception || {});\n  const values = (exception.values = exception.values || []);\n  const firstException = (values[0] = values[0] || {});\n  if (!firstException.value) {\n    firstException.value = value || '';\n  }\n  if (!firstException.type) {\n    firstException.type = type || 'Error';\n  }\n}\n\n/**\n * Adds exception mechanism data to a given event. Uses defaults if the second parameter is not passed.\n *\n * @param event The event to modify.\n * @param newMechanism Mechanism data to add to the event.\n * @hidden\n */\nexport function addExceptionMechanism(event: Event, newMechanism?: Partial<Mechanism>): void {\n  const firstException = getFirstException(event);\n  if (!firstException) {\n    return;\n  }\n\n  const defaultMechanism = { type: 'generic', handled: true };\n  const currentMechanism = firstException.mechanism;\n  firstException.mechanism = { ...defaultMechanism, ...currentMechanism, ...newMechanism };\n\n  if (newMechanism && 'data' in newMechanism) {\n    const mergedData = { ...(currentMechanism && currentMechanism.data), ...newMechanism.data };\n    firstException.mechanism.data = mergedData;\n  }\n}\n\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nconst SEMVER_REGEXP =\n  /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n\n/**\n * Represents Semantic Versioning object\n */\ninterface SemVer {\n  major?: number;\n  minor?: number;\n  patch?: number;\n  prerelease?: string;\n  buildmetadata?: string;\n}\n\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nexport function parseSemver(input: string): SemVer {\n  const match = input.match(SEMVER_REGEXP) || [];\n  const major = parseInt(match[1], 10);\n  const minor = parseInt(match[2], 10);\n  const patch = parseInt(match[3], 10);\n  return {\n    buildmetadata: match[5],\n    major: isNaN(major) ? undefined : major,\n    minor: isNaN(minor) ? undefined : minor,\n    patch: isNaN(patch) ? undefined : patch,\n    prerelease: match[4],\n  };\n}\n\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nexport function addContextToFrame(lines: string[], frame: StackFrame, linesOfContext: number = 5): void {\n  // When there is no line number in the frame, attaching context is nonsensical and will even break grouping\n  if (frame.lineno === undefined) {\n    return;\n  }\n\n  const maxLines = lines.length;\n  const sourceLine = Math.max(Math.min(maxLines, frame.lineno - 1), 0);\n\n  frame.pre_context = lines\n    .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n    .map((line: string) => snipLine(line, 0));\n\n  frame.context_line = snipLine(lines[Math.min(maxLines - 1, sourceLine)], frame.colno || 0);\n\n  frame.post_context = lines\n    .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n    .map((line: string) => snipLine(line, 0));\n}\n\n/**\n * Checks whether or not we've already captured the given exception (note: not an identical exception - the very object\n * in question), and marks it captured if not.\n *\n * This is useful because it's possible for an error to get captured by more than one mechanism. After we intercept and\n * record an error, we rethrow it (assuming we've intercepted it before it's reached the top-level global handlers), so\n * that we don't interfere with whatever effects the error might have had were the SDK not there. At that point, because\n * the error has been rethrown, it's possible for it to bubble up to some other code we've instrumented. If it's not\n * caught after that, it will bubble all the way up to the global handlers (which of course we also instrument). This\n * function helps us ensure that even if we encounter the same error more than once, we only record it the first time we\n * see it.\n *\n * Note: It will ignore primitives (always return `false` and not mark them as seen), as properties can't be set on\n * them. {@link: Object.objectify} can be used on exceptions to convert any that are primitives into their equivalent\n * object wrapper forms so that this check will always work. However, because we need to flag the exact object which\n * will get rethrown, and because that rethrowing happens outside of the event processing pipeline, the objectification\n * must be done before the exception captured.\n *\n * @param A thrown exception to check or flag as having been seen\n * @returns `true` if the exception has already been captured, `false` if not (with the side effect of marking it seen)\n */\nexport function checkOrSetAlreadyCaught(exception: unknown): boolean {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  if (exception && (exception as any).__sentry_captured__) {\n    return true;\n  }\n\n  try {\n    // set it this way rather than by assignment so that it's not ennumerable and therefore isn't recorded by the\n    // `ExtraErrorData` integration\n    addNonEnumerableProperty(exception as { [key: string]: unknown }, '__sentry_captured__', true);\n  } catch (err) {\n    // `exception` is a primitive, so we can't mark it seen\n  }\n\n  return false;\n}\n\n/**\n * Checks whether the given input is already an array, and if it isn't, wraps it in one.\n *\n * @param maybeArray Input to turn into an array, if necessary\n * @returns The input, if already an array, or an array with the input as the only element, if not\n */\nexport function arrayify<T = unknown>(maybeArray: T | T[]): T[] {\n  return Array.isArray(maybeArray) ? maybeArray : [maybeArray];\n}\n","/**\n * NOTE: In order to avoid circular dependencies, if you add a function to this module and it needs to print something,\n * you must either a) use `console.log` rather than the logger, or b) put your function elsewhere.\n */\n\nimport { isBrowserBundle } from './env';\n\n/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nexport function isNodeEnv(): boolean {\n  // explicitly check for browser bundles as those can be optimized statically\n  // by terser/rollup.\n  return (\n    !isBrowserBundle() &&\n    Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]'\n  );\n}\n\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param request The module path to resolve\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nexport function dynamicRequire(mod: any, request: string): any {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return mod.require(request);\n}\n\n/**\n * Helper for dynamically loading module that should work with linked dependencies.\n * The problem is that we _should_ be using `require(require.resolve(moduleName, { paths: [cwd()] }))`\n * However it's _not possible_ to do that with Webpack, as it has to know all the dependencies during\n * build time. `require.resolve` is also not available in any other way, so we cannot create,\n * a fake helper like we do with `dynamicRequire`.\n *\n * We always prefer to use local package, thus the value is not returned early from each `try/catch` block.\n * That is to mimic the behavior of `require.resolve` exactly.\n *\n * @param moduleName module name to require\n * @returns possibly required module\n */\nexport function loadModule<T>(moduleName: string): T | undefined {\n  let mod: T | undefined;\n\n  try {\n    mod = dynamicRequire(module, moduleName);\n  } catch (e) {\n    // no-empty\n  }\n\n  try {\n    const { cwd } = dynamicRequire(module, 'process');\n    mod = dynamicRequire(module, `${cwd()}/node_modules/${moduleName}`) as T;\n  } catch (e) {\n    // no-empty\n  }\n\n  return mod;\n}\n","/* eslint-disable max-lines */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport type { WrappedFunction } from '@sentry/types';\n\nimport { htmlTreeAsString } from './browser';\nimport { isElement, isError, isEvent, isInstanceOf, isPlainObject, isPrimitive } from './is';\nimport { truncate } from './string';\n\n/**\n * Replace a method in an object with a wrapped version of itself.\n *\n * @param source An object that contains a method to be wrapped.\n * @param name The name of the method to be wrapped.\n * @param replacementFactory A higher-order function that takes the original version of the given method and returns a\n * wrapped version. Note: The function returned by `replacementFactory` needs to be a non-arrow function, in order to\n * preserve the correct value of `this`, and the original method must be called using `origMethod.call(this, <other\n * args>)` or `origMethod.apply(this, [<other args>])` (rather than being called directly), again to preserve `this`.\n * @returns void\n */\nexport function fill(source: { [key: string]: any }, name: string, replacementFactory: (...args: any[]) => any): void {\n  if (!(name in source)) {\n    return;\n  }\n\n  const original = source[name] as () => any;\n  const wrapped = replacementFactory(original) as WrappedFunction;\n\n  // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n  // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n  if (typeof wrapped === 'function') {\n    try {\n      markFunctionWrapped(wrapped, original);\n    } catch (_Oo) {\n      // This can throw if multiple fill happens on a global object like XMLHttpRequest\n      // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n    }\n  }\n\n  source[name] = wrapped;\n}\n\n/**\n * Defines a non-enumerable property on the given object.\n *\n * @param obj The object on which to set the property\n * @param name The name of the property to be set\n * @param value The value to which to set the property\n */\nexport function addNonEnumerableProperty(obj: { [key: string]: unknown }, name: string, value: unknown): void {\n  Object.defineProperty(obj, name, {\n    // enumerable: false, // the default, so we can save on bundle size by not explicitly setting it\n    value: value,\n    writable: true,\n    configurable: true,\n  });\n}\n\n/**\n * Remembers the original function on the wrapped function and\n * patches up the prototype.\n *\n * @param wrapped the wrapper function\n * @param original the original function that gets wrapped\n */\nexport function markFunctionWrapped(wrapped: WrappedFunction, original: WrappedFunction): void {\n  const proto = original.prototype || {};\n  wrapped.prototype = original.prototype = proto;\n  addNonEnumerableProperty(wrapped, '__sentry_original__', original);\n}\n\n/**\n * This extracts the original function if available.  See\n * `markFunctionWrapped` for more information.\n *\n * @param func the function to unwrap\n * @returns the unwrapped version of the function if available.\n */\nexport function getOriginalFunction(func: WrappedFunction): WrappedFunction | undefined {\n  return func.__sentry_original__;\n}\n\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nexport function urlEncode(object: { [key: string]: any }): string {\n  return Object.keys(object)\n    .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(object[key])}`)\n    .join('&');\n}\n\n/**\n * Transforms any `Error` or `Event` into a plain object with all of their enumerable properties, and some of their\n * non-enumerable properties attached.\n *\n * @param value Initial source that we have to transform in order for it to be usable by the serializer\n * @returns An Event or Error turned into an object - or the value argurment itself, when value is neither an Event nor\n *  an Error.\n */\nexport function convertToPlainObject<V>(value: V):\n  | {\n      [ownProps: string]: unknown;\n      type: string;\n      target: string;\n      currentTarget: string;\n      detail?: unknown;\n    }\n  | {\n      [ownProps: string]: unknown;\n      message: string;\n      name: string;\n      stack?: string;\n    }\n  | V {\n  if (isError(value)) {\n    return {\n      message: value.message,\n      name: value.name,\n      stack: value.stack,\n      ...getOwnProperties(value),\n    };\n  } else if (isEvent(value)) {\n    const newObj: {\n      [ownProps: string]: unknown;\n      type: string;\n      target: string;\n      currentTarget: string;\n      detail?: unknown;\n    } = {\n      type: value.type,\n      target: serializeEventTarget(value.target),\n      currentTarget: serializeEventTarget(value.currentTarget),\n      ...getOwnProperties(value),\n    };\n\n    if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n      newObj.detail = value.detail;\n    }\n\n    return newObj;\n  } else {\n    return value;\n  }\n}\n\n/** Creates a string representation of the target of an `Event` object */\nfunction serializeEventTarget(target: unknown): string {\n  try {\n    return isElement(target) ? htmlTreeAsString(target) : Object.prototype.toString.call(target);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/** Filters out all but an object's own properties */\nfunction getOwnProperties(obj: unknown): { [key: string]: unknown } {\n  if (typeof obj === 'object' && obj !== null) {\n    const extractedProps: { [key: string]: unknown } = {};\n    for (const property in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, property)) {\n        extractedProps[property] = (obj as Record<string, unknown>)[property];\n      }\n    }\n    return extractedProps;\n  } else {\n    return {};\n  }\n}\n\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\nexport function extractExceptionKeysForMessage(exception: Record<string, unknown>, maxLength: number = 40): string {\n  const keys = Object.keys(convertToPlainObject(exception));\n  keys.sort();\n\n  if (!keys.length) {\n    return '[object has no keys]';\n  }\n\n  if (keys[0].length >= maxLength) {\n    return truncate(keys[0], maxLength);\n  }\n\n  for (let includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n    const serialized = keys.slice(0, includedKeys).join(', ');\n    if (serialized.length > maxLength) {\n      continue;\n    }\n    if (includedKeys === keys.length) {\n      return serialized;\n    }\n    return truncate(serialized, maxLength);\n  }\n\n  return '';\n}\n\n/**\n * Given any object, return a new object having removed all fields whose value was `undefined`.\n * Works recursively on objects and arrays.\n *\n * Attention: This function keeps circular references in the returned object.\n */\nexport function dropUndefinedKeys<T>(inputValue: T): T {\n  // This map keeps track of what already visited nodes map to.\n  // Our Set - based memoBuilder doesn't work here because we want to the output object to have the same circular\n  // references as the input object.\n  const memoizationMap = new Map<unknown, unknown>();\n\n  // This function just proxies `_dropUndefinedKeys` to keep the `memoBuilder` out of this function's API\n  return _dropUndefinedKeys(inputValue, memoizationMap);\n}\n\nfunction _dropUndefinedKeys<T>(inputValue: T, memoizationMap: Map<unknown, unknown>): T {\n  if (isPlainObject(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the object it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal as T;\n    }\n\n    const returnValue: { [key: string]: any } = {};\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    for (const key of Object.keys(inputValue)) {\n      if (typeof inputValue[key] !== 'undefined') {\n        returnValue[key] = _dropUndefinedKeys(inputValue[key], memoizationMap);\n      }\n    }\n\n    return returnValue as T;\n  }\n\n  if (Array.isArray(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the array it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal as T;\n    }\n\n    const returnValue: unknown[] = [];\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    inputValue.forEach((item: unknown) => {\n      returnValue.push(_dropUndefinedKeys(item, memoizationMap));\n    });\n\n    return returnValue as unknown as T;\n  }\n\n  return inputValue;\n}\n\n/**\n * Ensure that something is an object.\n *\n * Turns `undefined` and `null` into `String`s and all other primitives into instances of their respective wrapper\n * classes (String, Boolean, Number, etc.). Acts as the identity function on non-primitives.\n *\n * @param wat The subject of the objectification\n * @returns A version of `wat` which can safely be used with `Object` class methods\n */\nexport function objectify(wat: unknown): typeof Object {\n  let objectified;\n  switch (true) {\n    case wat === undefined || wat === null:\n      objectified = new String(wat);\n      break;\n\n    // Though symbols and bigints do have wrapper classes (`Symbol` and `BigInt`, respectively), for whatever reason\n    // those classes don't have constructors which can be used with the `new` keyword. We therefore need to cast each as\n    // an object in order to wrap it.\n    case typeof wat === 'symbol' || typeof wat === 'bigint':\n      objectified = Object(wat);\n      break;\n\n    // this will catch the remaining primitives: `String`, `Number`, and `Boolean`\n    case isPrimitive(wat):\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      objectified = new (wat as any).constructor(wat);\n      break;\n\n    // by process of elimination, at this point we know that `wat` must already be an object\n    default:\n      objectified = wat;\n      break;\n  }\n  return objectified;\n}\n","import type { StackFrame, StackLineParser, StackLineParserFn, StackParser } from '@sentry/types';\n\nimport { GLOBAL_OBJ } from './worldwide';\n\nconst STACKTRACE_LIMIT = 50;\n\ntype DebugIdFilename = string;\ntype DebugId = string;\n\nconst debugIdParserCache = new Map<StackLineParserFn, Map<DebugIdFilename, DebugId>>();\n\n/**\n * Creates a stack parser with the supplied line parsers\n *\n * StackFrames are returned in the correct order for Sentry Exception\n * frames and with Sentry SDK internal frames removed from the top and bottom\n *\n */\nexport function createStackParser(...parsers: StackLineParser[]): StackParser {\n  const sortedParsers = parsers.sort((a, b) => a[0] - b[0]).map(p => p[1]);\n\n  return (stack: string, skipFirst: number = 0): StackFrame[] => {\n    const frames: StackFrame[] = [];\n\n    for (const parser of sortedParsers) {\n      let debugIdCache = debugIdParserCache.get(parser);\n      if (!debugIdCache) {\n        debugIdCache = new Map();\n        debugIdParserCache.set(parser, debugIdCache);\n      }\n\n      const debugIdMap = GLOBAL_OBJ._sentryDebugIds;\n\n      if (debugIdMap) {\n        Object.keys(debugIdMap).forEach(debugIdStackTrace => {\n          debugIdStackTrace.split('\\n').forEach(line => {\n            const frame = parser(line);\n            if (frame && frame.filename) {\n              // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n              debugIdCache!.set(frame.filename, debugIdMap[debugIdStackTrace]);\n            }\n          });\n        });\n      }\n    }\n\n    for (const line of stack.split('\\n').slice(skipFirst)) {\n      // Ignore lines over 1kb as they are unlikely to be stack frames.\n      // Many of the regular expressions use backtracking which results in run time that increases exponentially with\n      // input size. Huge strings can result in hangs/Denial of Service:\n      // https://github.com/getsentry/sentry-javascript/issues/2286\n      if (line.length > 1024) {\n        continue;\n      }\n\n      // https://github.com/getsentry/sentry-javascript/issues/5459\n      // Remove webpack (error: *) wrappers\n      const cleanedLine = line.replace(/\\(error: (.*)\\)/, '$1');\n\n      for (const parser of sortedParsers) {\n        const frame = parser(cleanedLine);\n\n        if (frame) {\n          const debugIdCache = debugIdParserCache.get(parser);\n          if (debugIdCache && frame.filename) {\n            const cachedDebugId = debugIdCache.get(frame.filename);\n            if (cachedDebugId) {\n              frame.debug_id = cachedDebugId;\n            }\n          }\n\n          frames.push(frame);\n          break;\n        }\n      }\n    }\n\n    return stripSentryFramesAndReverse(frames);\n  };\n}\n\n/**\n * Gets a stack parser implementation from Options.stackParser\n * @see Options\n *\n * If options contains an array of line parsers, it is converted into a parser\n */\nexport function stackParserFromStackParserOptions(stackParser: StackParser | StackLineParser[]): StackParser {\n  if (Array.isArray(stackParser)) {\n    return createStackParser(...stackParser);\n  }\n  return stackParser;\n}\n\n/**\n * @hidden\n */\nexport function stripSentryFramesAndReverse(stack: StackFrame[]): StackFrame[] {\n  if (!stack.length) {\n    return [];\n  }\n\n  let localStack = stack;\n\n  const firstFrameFunction = localStack[0].function || '';\n  const lastFrameFunction = localStack[localStack.length - 1].function || '';\n\n  // If stack starts with one of our API calls, remove it (starts, meaning it's the top of the stack - aka last call)\n  if (firstFrameFunction.indexOf('captureMessage') !== -1 || firstFrameFunction.indexOf('captureException') !== -1) {\n    localStack = localStack.slice(1);\n  }\n\n  // If stack ends with one of our internal API calls, remove it (ends, meaning it's the bottom of the stack - aka top-most call)\n  if (lastFrameFunction.indexOf('sentryWrapped') !== -1) {\n    localStack = localStack.slice(0, -1);\n  }\n\n  // The frame where the crash happened, should be the last entry in the array\n  return localStack\n    .slice(0, STACKTRACE_LIMIT)\n    .map(frame => ({\n      ...frame,\n      filename: frame.filename || localStack[0].filename,\n      function: frame.function || '?',\n    }))\n    .reverse();\n}\n\nconst defaultFunctionName = '<anonymous>';\n\n/**\n * Safely extract function name from itself\n */\nexport function getFunctionName(fn: unknown): string {\n  try {\n    if (!fn || typeof fn !== 'function') {\n      return defaultFunctionName;\n    }\n    return fn.name || defaultFunctionName;\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    return defaultFunctionName;\n  }\n}\n\ntype GetModuleFn = (filename: string | undefined) => string | undefined;\n\n// eslint-disable-next-line complexity\nfunction node(getModule?: GetModuleFn): StackLineParserFn {\n  const FILENAME_MATCH = /^\\s*[-]{4,}$/;\n  const FULL_MATCH = /at (?:async )?(?:(.+?)\\s+\\()?(?:(.+):(\\d+):(\\d+)?|([^)]+))\\)?/;\n\n  // eslint-disable-next-line complexity\n  return (line: string) => {\n    if (line.match(FILENAME_MATCH)) {\n      return {\n        filename: line,\n      };\n    }\n\n    const lineMatch = line.match(FULL_MATCH);\n    if (!lineMatch) {\n      return undefined;\n    }\n\n    let object: string | undefined;\n    let method: string | undefined;\n    let functionName: string | undefined;\n    let typeName: string | undefined;\n    let methodName: string | undefined;\n\n    if (lineMatch[1]) {\n      functionName = lineMatch[1];\n\n      let methodStart = functionName.lastIndexOf('.');\n      if (functionName[methodStart - 1] === '.') {\n        methodStart--;\n      }\n\n      if (methodStart > 0) {\n        object = functionName.slice(0, methodStart);\n        method = functionName.slice(methodStart + 1);\n        const objectEnd = object.indexOf('.Module');\n        if (objectEnd > 0) {\n          functionName = functionName.slice(objectEnd + 1);\n          object = object.slice(0, objectEnd);\n        }\n      }\n      typeName = undefined;\n    }\n\n    if (method) {\n      typeName = object;\n      methodName = method;\n    }\n\n    if (method === '<anonymous>') {\n      methodName = undefined;\n      functionName = undefined;\n    }\n\n    if (functionName === undefined) {\n      methodName = methodName || '<anonymous>';\n      functionName = typeName ? `${typeName}.${methodName}` : methodName;\n    }\n\n    const filename = lineMatch[2] && lineMatch[2].startsWith('file://') ? lineMatch[2].slice(7) : lineMatch[2];\n    const isNative = lineMatch[5] === 'native';\n    const isInternal =\n      isNative || (filename && !filename.startsWith('/') && !filename.startsWith('.') && filename.indexOf(':\\\\') !== 1);\n\n    // in_app is all that's not an internal Node function or a module within node_modules\n    // note that isNative appears to return true even for node core libraries\n    // see https://github.com/getsentry/raven-node/issues/176\n    const in_app = !isInternal && filename !== undefined && !filename.includes('node_modules/');\n\n    return {\n      filename,\n      module: getModule ? getModule(filename) : undefined,\n      function: functionName,\n      lineno: parseInt(lineMatch[3], 10) || undefined,\n      colno: parseInt(lineMatch[4], 10) || undefined,\n      in_app,\n    };\n  };\n}\n\n/**\n * Node.js stack line parser\n *\n * This is in @sentry/utils so it can be used from the Electron SDK in the browser for when `nodeIntegration == true`.\n * This allows it to be used without referencing or importing any node specific code which causes bundlers to complain\n */\nexport function nodeStackLineParser(getModule?: GetModuleFn): StackLineParser {\n  return [90, node(getModule)];\n}\n","import { isRegExp, isString } from './is';\n\n/**\n * Truncates given string to the maximum characters count\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string (0 = unlimited)\n * @returns string Encoded\n */\nexport function truncate(str: string, max: number = 0): string {\n  if (typeof str !== 'string' || max === 0) {\n    return str;\n  }\n  return str.length <= max ? str : `${str.slice(0, max)}...`;\n}\n\n/**\n * This is basically just `trim_line` from\n * https://github.com/getsentry/sentry/blob/master/src/sentry/lang/javascript/processor.py#L67\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nexport function snipLine(line: string, colno: number): string {\n  let newLine = line;\n  const lineLength = newLine.length;\n  if (lineLength <= 150) {\n    return newLine;\n  }\n  if (colno > lineLength) {\n    // eslint-disable-next-line no-param-reassign\n    colno = lineLength;\n  }\n\n  let start = Math.max(colno - 60, 0);\n  if (start < 5) {\n    start = 0;\n  }\n\n  let end = Math.min(start + 140, lineLength);\n  if (end > lineLength - 5) {\n    end = lineLength;\n  }\n  if (end === lineLength) {\n    start = Math.max(end - 140, 0);\n  }\n\n  newLine = newLine.slice(start, end);\n  if (start > 0) {\n    newLine = `'{snip} ${newLine}`;\n  }\n  if (end < lineLength) {\n    newLine += ' {snip}';\n  }\n\n  return newLine;\n}\n\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns Joined values\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function safeJoin(input: any[], delimiter?: string): string {\n  if (!Array.isArray(input)) {\n    return '';\n  }\n\n  const output = [];\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < input.length; i++) {\n    const value = input[i];\n    try {\n      output.push(String(value));\n    } catch (e) {\n      output.push('[value cannot be serialized]');\n    }\n  }\n\n  return output.join(delimiter);\n}\n\n/**\n * Checks if the given value matches a regex or string\n *\n * @param value The string to test\n * @param pattern Either a regex or a string against which `value` will be matched\n * @param requireExactStringMatch If true, `value` must match `pattern` exactly. If false, `value` will match\n * `pattern` if it contains `pattern`. Only applies to string-type patterns.\n */\nexport function isMatchingPattern(\n  value: string,\n  pattern: RegExp | string,\n  requireExactStringMatch: boolean = false,\n): boolean {\n  if (!isString(value)) {\n    return false;\n  }\n\n  if (isRegExp(pattern)) {\n    return pattern.test(value);\n  }\n  if (isString(pattern)) {\n    return requireExactStringMatch ? value === pattern : value.includes(pattern);\n  }\n\n  return false;\n}\n\n/**\n * Test the given string against an array of strings and regexes. By default, string matching is done on a\n * substring-inclusion basis rather than a strict equality basis\n *\n * @param testString The string to test\n * @param patterns The patterns against which to test the string\n * @param requireExactStringMatch If true, `testString` must match one of the given string patterns exactly in order to\n * count. If false, `testString` will match a string pattern if it contains that pattern.\n * @returns\n */\nexport function stringMatchesSomePattern(\n  testString: string,\n  patterns: Array<string | RegExp> = [],\n  requireExactStringMatch: boolean = false,\n): boolean {\n  return patterns.some(pattern => isMatchingPattern(testString, pattern, requireExactStringMatch));\n}\n\n/**\n * Given a string, escape characters which have meaning in the regex grammar, such that the result is safe to feed to\n * `new RegExp()`.\n *\n * Based on https://github.com/sindresorhus/escape-string-regexp. Vendored to a) reduce the size by skipping the runtime\n * type-checking, and b) ensure it gets down-compiled for old versions of Node (the published package only supports Node\n * 12+).\n *\n * @param regexString The string to escape\n * @returns An version of the string with all special regex characters escaped\n */\nexport function escapeStringForRegex(regexString: string): string {\n  // escape the hyphen separately so we can also replace it with a unicode literal hyphen, to avoid the problems\n  // discussed in https://github.com/sindresorhus/escape-string-regexp/issues/20.\n  return regexString.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&').replace(/-/g, '\\\\x2d');\n}\n","import { logger } from './logger';\nimport { getGlobalObject } from './worldwide';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject<Window>();\n\n/**\n * Tells whether current environment supports ErrorEvent objects\n * {@link supportsErrorEvent}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsErrorEvent(): boolean {\n  try {\n    new ErrorEvent('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports DOMError objects\n * {@link supportsDOMError}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsDOMError(): boolean {\n  try {\n    // Chrome: VM89:1 Uncaught TypeError: Failed to construct 'DOMError':\n    // 1 argument required, but only 0 present.\n    // @ts-ignore It really needs 1 argument, not 0.\n    new DOMError('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports DOMException objects\n * {@link supportsDOMException}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsDOMException(): boolean {\n  try {\n    new DOMException('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports Fetch API\n * {@link supportsFetch}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsFetch(): boolean {\n  if (!('fetch' in WINDOW)) {\n    return false;\n  }\n\n  try {\n    new Headers();\n    new Request('http://www.example.com');\n    new Response();\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * isNativeFetch checks if the given function is a native implementation of fetch()\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isNativeFetch(func: Function): boolean {\n  return func && /^function fetch\\(\\)\\s+\\{\\s+\\[native code\\]\\s+\\}$/.test(func.toString());\n}\n\n/**\n * Tells whether current environment supports Fetch API natively\n * {@link supportsNativeFetch}.\n *\n * @returns true if `window.fetch` is natively implemented, false otherwise\n */\nexport function supportsNativeFetch(): boolean {\n  if (!supportsFetch()) {\n    return false;\n  }\n\n  // Fast path to avoid DOM I/O\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  if (isNativeFetch(WINDOW.fetch)) {\n    return true;\n  }\n\n  // window.fetch is implemented, but is polyfilled or already wrapped (e.g: by a chrome extension)\n  // so create a \"pure\" iframe to see if that has native fetch\n  let result = false;\n  const doc = WINDOW.document;\n  // eslint-disable-next-line deprecation/deprecation\n  if (doc && typeof (doc.createElement as unknown) === 'function') {\n    try {\n      const sandbox = doc.createElement('iframe');\n      sandbox.hidden = true;\n      doc.head.appendChild(sandbox);\n      if (sandbox.contentWindow && sandbox.contentWindow.fetch) {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        result = isNativeFetch(sandbox.contentWindow.fetch);\n      }\n      doc.head.removeChild(sandbox);\n    } catch (err) {\n      __DEBUG_BUILD__ &&\n        logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', err);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Tells whether current environment supports ReportingObserver API\n * {@link supportsReportingObserver}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsReportingObserver(): boolean {\n  return 'ReportingObserver' in WINDOW;\n}\n\n/**\n * Tells whether current environment supports Referrer Policy API\n * {@link supportsReferrerPolicy}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsReferrerPolicy(): boolean {\n  // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default'\n  // (see https://caniuse.com/#feat=referrer-policy),\n  // it doesn't. And it throws an exception instead of ignoring this parameter...\n  // REF: https://github.com/getsentry/raven-js/issues/1233\n\n  if (!supportsFetch()) {\n    return false;\n  }\n\n  try {\n    new Request('_', {\n      referrerPolicy: 'origin' as ReferrerPolicy,\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports History API\n * {@link supportsHistory}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsHistory(): boolean {\n  // NOTE: in Chrome App environment, touching history.pushState, *even inside\n  //       a try/catch block*, will cause Chrome to output an error to console.error\n  // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n  /* eslint-disable @typescript-eslint/no-unsafe-member-access */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const chrome = (WINDOW as any).chrome;\n  const isChromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n  /* eslint-enable @typescript-eslint/no-unsafe-member-access */\n  const hasHistoryApi = 'history' in WINDOW && !!WINDOW.history.pushState && !!WINDOW.history.replaceState;\n\n  return !isChromePackagedApp && hasHistoryApi;\n}\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/typedef */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isThenable } from './is';\n\n/** SyncPromise internal states */\nconst enum States {\n  /** Pending */\n  PENDING = 0,\n  /** Resolved / OK */\n  RESOLVED = 1,\n  /** Rejected / Error */\n  REJECTED = 2,\n}\n\n// Overloads so we can call resolvedSyncPromise without arguments and generic argument\nexport function resolvedSyncPromise(): PromiseLike<void>;\nexport function resolvedSyncPromise<T>(value: T | PromiseLike<T>): PromiseLike<T>;\n\n/**\n * Creates a resolved sync promise.\n *\n * @param value the value to resolve the promise with\n * @returns the resolved sync promise\n */\nexport function resolvedSyncPromise<T>(value?: T | PromiseLike<T>): PromiseLike<T> {\n  return new SyncPromise(resolve => {\n    resolve(value);\n  });\n}\n\n/**\n * Creates a rejected sync promise.\n *\n * @param value the value to reject the promise with\n * @returns the rejected sync promise\n */\nexport function rejectedSyncPromise<T = never>(reason?: any): PromiseLike<T> {\n  return new SyncPromise((_, reject) => {\n    reject(reason);\n  });\n}\n\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nclass SyncPromise<T> implements PromiseLike<T> {\n  private _state: States = States.PENDING;\n  private _handlers: Array<[boolean, (value: T) => void, (reason: any) => any]> = [];\n  private _value: any;\n\n  public constructor(\n    executor: (resolve: (value?: T | PromiseLike<T> | null) => void, reject: (reason?: any) => void) => void,\n  ) {\n    try {\n      executor(this._resolve, this._reject);\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n\n  /** JSDoc */\n  public then<TResult1 = T, TResult2 = never>(\n    onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | null,\n  ): PromiseLike<TResult1 | TResult2> {\n    return new SyncPromise((resolve, reject) => {\n      this._handlers.push([\n        false,\n        result => {\n          if (!onfulfilled) {\n            // TODO: ¯\\_(ツ)_/¯\n            // TODO: FIXME\n            resolve(result as any);\n          } else {\n            try {\n              resolve(onfulfilled(result));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n        reason => {\n          if (!onrejected) {\n            reject(reason);\n          } else {\n            try {\n              resolve(onrejected(reason));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n      ]);\n      this._executeHandlers();\n    });\n  }\n\n  /** JSDoc */\n  public catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | null,\n  ): PromiseLike<T | TResult> {\n    return this.then(val => val, onrejected);\n  }\n\n  /** JSDoc */\n  public finally<TResult>(onfinally?: (() => void) | null): PromiseLike<TResult> {\n    return new SyncPromise<TResult>((resolve, reject) => {\n      let val: TResult | any;\n      let isRejected: boolean;\n\n      return this.then(\n        value => {\n          isRejected = false;\n          val = value;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n        reason => {\n          isRejected = true;\n          val = reason;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n      ).then(() => {\n        if (isRejected) {\n          reject(val);\n          return;\n        }\n\n        resolve(val as unknown as any);\n      });\n    });\n  }\n\n  /** JSDoc */\n  private readonly _resolve = (value?: T | PromiseLike<T> | null) => {\n    this._setResult(States.RESOLVED, value);\n  };\n\n  /** JSDoc */\n  private readonly _reject = (reason?: any) => {\n    this._setResult(States.REJECTED, reason);\n  };\n\n  /** JSDoc */\n  private readonly _setResult = (state: States, value?: T | PromiseLike<T> | any) => {\n    if (this._state !== States.PENDING) {\n      return;\n    }\n\n    if (isThenable(value)) {\n      void (value as PromiseLike<T>).then(this._resolve, this._reject);\n      return;\n    }\n\n    this._state = state;\n    this._value = value;\n\n    this._executeHandlers();\n  };\n\n  /** JSDoc */\n  private readonly _executeHandlers = () => {\n    if (this._state === States.PENDING) {\n      return;\n    }\n\n    const cachedHandlers = this._handlers.slice();\n    this._handlers = [];\n\n    cachedHandlers.forEach(handler => {\n      if (handler[0]) {\n        return;\n      }\n\n      if (this._state === States.RESOLVED) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        handler[1](this._value as unknown as any);\n      }\n\n      if (this._state === States.REJECTED) {\n        handler[2](this._value);\n      }\n\n      handler[0] = true;\n    });\n  };\n}\n\nexport { SyncPromise };\n","import { dynamicRequire, isNodeEnv } from './node';\nimport { getGlobalObject } from './worldwide';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject<Window>();\n\n/**\n * An object that can return the current timestamp in seconds since the UNIX epoch.\n */\ninterface TimestampSource {\n  nowSeconds(): number;\n}\n\n/**\n * A TimestampSource implementation for environments that do not support the Performance Web API natively.\n *\n * Note that this TimestampSource does not use a monotonic clock. A call to `nowSeconds` may return a timestamp earlier\n * than a previously returned value. We do not try to emulate a monotonic behavior in order to facilitate debugging. It\n * is more obvious to explain \"why does my span have negative duration\" than \"why my spans have zero duration\".\n */\nconst dateTimestampSource: TimestampSource = {\n  nowSeconds: () => Date.now() / 1000,\n};\n\n/**\n * A partial definition of the [Performance Web API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Performance}\n * for accessing a high-resolution monotonic clock.\n */\ninterface Performance {\n  /**\n   * The millisecond timestamp at which measurement began, measured in Unix time.\n   */\n  timeOrigin: number;\n  /**\n   * Returns the current millisecond timestamp, where 0 represents the start of measurement.\n   */\n  now(): number;\n}\n\n/**\n * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n * support the API.\n *\n * Wrapping the native API works around differences in behavior from different browsers.\n */\nfunction getBrowserPerformance(): Performance | undefined {\n  const { performance } = WINDOW;\n  if (!performance || !performance.now) {\n    return undefined;\n  }\n\n  // Replace performance.timeOrigin with our own timeOrigin based on Date.now().\n  //\n  // This is a partial workaround for browsers reporting performance.timeOrigin such that performance.timeOrigin +\n  // performance.now() gives a date arbitrarily in the past.\n  //\n  // Additionally, computing timeOrigin in this way fills the gap for browsers where performance.timeOrigin is\n  // undefined.\n  //\n  // The assumption that performance.timeOrigin + performance.now() ~= Date.now() is flawed, but we depend on it to\n  // interact with data coming out of performance entries.\n  //\n  // Note that despite recommendations against it in the spec, browsers implement the Performance API with a clock that\n  // might stop when the computer is asleep (and perhaps under other circumstances). Such behavior causes\n  // performance.timeOrigin + performance.now() to have an arbitrary skew over Date.now(). In laptop computers, we have\n  // observed skews that can be as long as days, weeks or months.\n  //\n  // See https://github.com/getsentry/sentry-javascript/issues/2590.\n  //\n  // BUG: despite our best intentions, this workaround has its limitations. It mostly addresses timings of pageload\n  // transactions, but ignores the skew built up over time that can aversely affect timestamps of navigation\n  // transactions of long-lived web pages.\n  const timeOrigin = Date.now() - performance.now();\n\n  return {\n    now: () => performance.now(),\n    timeOrigin,\n  };\n}\n\n/**\n * Returns the native Performance API implementation from Node.js. Returns undefined in old Node.js versions that don't\n * implement the API.\n */\nfunction getNodePerformance(): Performance | undefined {\n  try {\n    const perfHooks = dynamicRequire(module, 'perf_hooks') as { performance: Performance };\n    return perfHooks.performance;\n  } catch (_) {\n    return undefined;\n  }\n}\n\n/**\n * The Performance API implementation for the current platform, if available.\n */\nconst platformPerformance: Performance | undefined = isNodeEnv() ? getNodePerformance() : getBrowserPerformance();\n\nconst timestampSource: TimestampSource =\n  platformPerformance === undefined\n    ? dateTimestampSource\n    : {\n        nowSeconds: () => (platformPerformance.timeOrigin + platformPerformance.now()) / 1000,\n      };\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n */\nexport const dateTimestampInSeconds: () => number = dateTimestampSource.nowSeconds.bind(dateTimestampSource);\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n * availability of the Performance API.\n *\n * See `usingPerformanceAPI` to test whether the Performance API is used.\n *\n * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n * skew can grow to arbitrary amounts like days, weeks or months.\n * See https://github.com/getsentry/sentry-javascript/issues/2590.\n */\nexport const timestampInSeconds: () => number = timestampSource.nowSeconds.bind(timestampSource);\n\n// Re-exported with an old name for backwards-compatibility.\nexport const timestampWithMs = timestampInSeconds;\n\n/**\n * A boolean that is true when timestampInSeconds uses the Performance API to produce monotonic timestamps.\n */\nexport const usingPerformanceAPI = platformPerformance !== undefined;\n\n/**\n * Internal helper to store what is the source of browserPerformanceTimeOrigin below. For debugging only.\n */\nexport let _browserPerformanceTimeOriginMode: string;\n\n/**\n * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n * performance API is available.\n */\nexport const browserPerformanceTimeOrigin = ((): number | undefined => {\n  // Unfortunately browsers may report an inaccurate time origin data, through either performance.timeOrigin or\n  // performance.timing.navigationStart, which results in poor results in performance data. We only treat time origin\n  // data as reliable if they are within a reasonable threshold of the current time.\n\n  const { performance } = WINDOW;\n  if (!performance || !performance.now) {\n    _browserPerformanceTimeOriginMode = 'none';\n    return undefined;\n  }\n\n  const threshold = 3600 * 1000;\n  const performanceNow = performance.now();\n  const dateNow = Date.now();\n\n  // if timeOrigin isn't available set delta to threshold so it isn't used\n  const timeOriginDelta = performance.timeOrigin\n    ? Math.abs(performance.timeOrigin + performanceNow - dateNow)\n    : threshold;\n  const timeOriginIsReliable = timeOriginDelta < threshold;\n\n  // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n  // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n  // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n  // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n  // Date API.\n  // eslint-disable-next-line deprecation/deprecation\n  const navigationStart = performance.timing && performance.timing.navigationStart;\n  const hasNavigationStart = typeof navigationStart === 'number';\n  // if navigationStart isn't available set delta to threshold so it isn't used\n  const navigationStartDelta = hasNavigationStart ? Math.abs(navigationStart + performanceNow - dateNow) : threshold;\n  const navigationStartIsReliable = navigationStartDelta < threshold;\n\n  if (timeOriginIsReliable || navigationStartIsReliable) {\n    // Use the more reliable time origin\n    if (timeOriginDelta <= navigationStartDelta) {\n      _browserPerformanceTimeOriginMode = 'timeOrigin';\n      return performance.timeOrigin;\n    } else {\n      _browserPerformanceTimeOriginMode = 'navigationStart';\n      return navigationStart;\n    }\n  }\n\n  // Either both timeOrigin and navigationStart are skewed or neither is available, fallback to Date.\n  _browserPerformanceTimeOriginMode = 'dateNow';\n  return dateNow;\n})();\n","/**\n * NOTE: In order to avoid circular dependencies, if you add a function to this module and it needs to print something,\n * you must either a) use `console.log` rather than the logger, or b) put your function elsewhere.\n *\n * Note: This file was originally called `global.ts`, but was changed to unblock users which might be doing\n * string replaces with bundlers like Vite for `global` (would break imports that rely on importing from utils/src/global).\n *\n * Why worldwide?\n *\n * Why not?\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport type { Integration } from '@sentry/types';\n\nimport type { SdkSource } from './env';\n\n/** Internal global with common properties and Sentry extensions  */\nexport interface InternalGlobal {\n  navigator?: { userAgent?: string };\n  console: Console;\n  Sentry?: {\n    Integrations?: Integration[];\n  };\n  SENTRY_ENVIRONMENT?: string;\n  SENTRY_DSN?: string;\n  SENTRY_RELEASE?: {\n    id?: string;\n  };\n  SENTRY_SDK_SOURCE?: SdkSource;\n  _sentryDebugIds?: Record<string, string>;\n  __SENTRY__: {\n    globalEventProcessors: any;\n    hub: any;\n    logger: any;\n    extensions?: {\n      /** Extension methods for the hub, which are bound to the current Hub instance */\n      // eslint-disable-next-line @typescript-eslint/ban-types\n      [key: string]: Function;\n    };\n  };\n}\n\n// The code below for 'isGlobalObj' and 'GLOBAL_OBJ' was copied from core-js before modification\n// https://github.com/zloirock/core-js/blob/1b944df55282cdc99c90db5f49eb0b6eda2cc0a3/packages/core-js/internals/global.js\n// core-js has the following licence:\n//\n// Copyright (c) 2014-2022 Denis Pushkarev\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/** Returns 'obj' if it's the global object, otherwise returns undefined */\nfunction isGlobalObj(obj: { Math?: Math }): any | undefined {\n  return obj && obj.Math == Math ? obj : undefined;\n}\n\n/** Get's the global object for the current JavaScript runtime */\nexport const GLOBAL_OBJ: InternalGlobal =\n  (typeof globalThis == 'object' && isGlobalObj(globalThis)) ||\n  // eslint-disable-next-line no-restricted-globals\n  (typeof window == 'object' && isGlobalObj(window)) ||\n  (typeof self == 'object' && isGlobalObj(self)) ||\n  (typeof global == 'object' && isGlobalObj(global)) ||\n  (function (this: any) {\n    return this;\n  })() ||\n  {};\n\n/**\n * @deprecated Use GLOBAL_OBJ instead or WINDOW from @sentry/browser. This will be removed in v8\n */\nexport function getGlobalObject<T>(): T & InternalGlobal {\n  return GLOBAL_OBJ as T & InternalGlobal;\n}\n\n/**\n * Returns a global singleton contained in the global `__SENTRY__` object.\n *\n * If the singleton doesn't already exist in `__SENTRY__`, it will be created using the given factory\n * function and added to the `__SENTRY__` object.\n *\n * @param name name of the global singleton on __SENTRY__\n * @param creator creator Factory function to create the singleton if it doesn't already exist on `__SENTRY__`\n * @param obj (Optional) The global object on which to look for `__SENTRY__`, if not `GLOBAL_OBJ`'s return value\n * @returns the singleton\n */\nexport function getGlobalSingleton<T>(name: keyof InternalGlobal['__SENTRY__'], creator: () => T, obj?: unknown): T {\n  const gbl = (obj || GLOBAL_OBJ) as InternalGlobal;\n  const __SENTRY__ = (gbl.__SENTRY__ = gbl.__SENTRY__ || {});\n  const singleton = __SENTRY__[name] || (__SENTRY__[name] = creator());\n  return singleton;\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v17.0.2\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar React = require('react');\nvar _assign = require('object-assign');\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar REACT_ELEMENT_TYPE = 0xeac7;\nvar REACT_PORTAL_TYPE = 0xeaca;\nexports.Fragment = 0xeacb;\nvar REACT_STRICT_MODE_TYPE = 0xeacc;\nvar REACT_PROFILER_TYPE = 0xead2;\nvar REACT_PROVIDER_TYPE = 0xeacd;\nvar REACT_CONTEXT_TYPE = 0xeace;\nvar REACT_FORWARD_REF_TYPE = 0xead0;\nvar REACT_SUSPENSE_TYPE = 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = 0xead8;\nvar REACT_MEMO_TYPE = 0xead3;\nvar REACT_LAZY_TYPE = 0xead4;\nvar REACT_BLOCK_TYPE = 0xead9;\nvar REACT_SERVER_BLOCK_TYPE = 0xeada;\nvar REACT_FUNDAMENTAL_TYPE = 0xead5;\nvar REACT_SCOPE_TYPE = 0xead7;\nvar REACT_OPAQUE_ID_TYPE = 0xeae0;\nvar REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\nvar REACT_OFFSCREEN_TYPE = 0xeae2;\nvar REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\n\nif (typeof Symbol === 'function' && Symbol.for) {\n  var symbolFor = Symbol.for;\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\n  exports.Fragment = symbolFor('react.fragment');\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\n  REACT_MEMO_TYPE = symbolFor('react.memo');\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\n  REACT_BLOCK_TYPE = symbolFor('react.block');\n  REACT_SERVER_BLOCK_TYPE = symbolFor('react.server.block');\n  REACT_FUNDAMENTAL_TYPE = symbolFor('react.fundamental');\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\n}\n\nvar MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    printWarning('error', format, args);\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    }\n\n    var argsWithFormat = args.map(function (item) {\n      return '' + item;\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// Filter certain DOM attributes (e.g. src, href) if their values are empty strings.\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === exports.Fragment || type === REACT_PROFILER_TYPE || type === REACT_DEBUG_TRACING_MODE_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || type === REACT_LEGACY_HIDDEN_TYPE || enableScopeAPI ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_BLOCK_TYPE || type[0] === REACT_SERVER_BLOCK_TYPE) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var functionName = innerType.displayName || innerType.name || '';\n  return outerType.displayName || (functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName);\n}\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n}\n\nfunction getComponentName(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentName(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case exports.Fragment:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        return getComponentName(type.type);\n\n      case REACT_BLOCK_TYPE:\n        return getComponentName(type._render);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentName(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n    }\n  }\n\n  return null;\n}\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: _assign({}, props, {\n          value: prevLog\n        }),\n        info: _assign({}, props, {\n          value: prevInfo\n        }),\n        warn: _assign({}, props, {\n          value: prevWarn\n        }),\n        error: _assign({}, props, {\n          value: prevError\n        }),\n        group: _assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: _assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: _assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_BLOCK_TYPE:\n        return describeFunctionComponentFrame(type._render);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentName(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentName(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentName(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentName(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (Array.isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentName(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentName(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (Array.isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentName(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (Array.isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    if (type === exports.Fragment) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n// even with the prod transform. This means that jsxDEV is purely\n// opt-in behavior for better messages but that we won't stop\n// giving you warnings if you use production apis.\n\nfunction jsxWithValidationStatic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, true);\n  }\n}\nfunction jsxWithValidationDynamic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, false);\n  }\n}\n\nvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n// for now we can ship identical prod functions\n\nvar jsxs =  jsxWithValidationStatic ;\n\nexports.jsx = jsx;\nexports.jsxs = jsxs;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","export interface ILinkState {\n  observer: MutationObserver | null;\n  asyncTimerId: number | null;\n  hashFragment: string;\n  scrollFunction: ((elm: HTMLElement) => void) | null;\n}\n\nclass LinkState implements ILinkState {\n  [index: string]: unknown;\n  observer: MutationObserver | null = null;\n  asyncTimerId: number | null = null;\n  hashFragment = '';\n  scrollFunction: ((elm: HTMLElement) => void) | null = null;\n\n  constructor(obj: Partial<ILinkState>) {\n    this.mutate(obj);\n  }\n\n  mutate(obj: Partial<ILinkState>): void {\n    Object.keys(obj).map((key) => {\n      const k = key as keyof ILinkState;\n      this[key] = obj[k];\n    });\n  }\n}\n\nexport default new LinkState({});\n","import React from 'react';\nimport LinkState from './LinkState';\n\nconst state = LinkState;\n\nexport function checkIfCanScroll(\n  e: React.MouseEvent<HTMLAnchorElement | HTMLOrSVGElement, MouseEvent>,\n  props?: Pick<React.AnchorHTMLAttributes<HTMLAnchorElement>, 'target'>,\n) {\n  return (\n    state.hashFragment !== '' &&\n    // ignore non-vanilla click events, same as react-router\n    // below logic adapted from react-router: https://github.com/ReactTraining/react-router/blob/fc91700e08df8147bd2bb1be19a299cbb14dbcaa/packages/react-router-dom/modules/Link.js#L43-L48\n    !e.defaultPrevented && // onClick prevented default\n    e.button === 0 && // ignore everything but left clicks\n    (!props?.target || props?.target === '_self') && // let browser handle \"target=_blank\" etc\n    !(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)\n  );\n}\n","import { IHashLinkBaseProps } from './IHashLinkProps';\n\nexport function getLinkHash(props: IHashLinkBaseProps) {\n  if (typeof props.to === 'string' && props.to.includes('#')) {\n    return `#${props.to.split('#').slice(1).join('#')}`;\n  }\n\n  if (typeof props.to === 'object' && typeof props.to.hash === 'string') {\n    return props.to.hash;\n  }\n\n  return '';\n}\n","import LinkState from './LinkState';\n\nconst state = LinkState;\n\nexport function reset() {\n  state.hashFragment = '';\n  if (state.observer !== null) state.observer.disconnect();\n  if (state.asyncTimerId !== null) {\n    window.clearTimeout(state.asyncTimerId);\n    state.asyncTimerId = null;\n  }\n}\n","export function isInteractiveElement(element: HTMLElement) {\n  const formTags = ['BUTTON', 'INPUT', 'SELECT', 'TEXTAREA'];\n  const linkTags = ['A', 'AREA'];\n  return (\n    (formTags.includes(element.tagName) && !element.hasAttribute('disabled')) ||\n    (linkTags.includes(element.tagName) && element.hasAttribute('href'))\n  );\n}\n","import { isInteractiveElement } from './isInteractiveElement';\nimport LinkState from './LinkState';\nimport { reset } from './reset';\n\nconst state = LinkState;\n\nexport function getElAndScroll() {\n  let element: HTMLElement | null = null;\n  if (state.hashFragment === '#') {\n    // use document.body instead of document.documentElement because of a bug in smoothscroll-polyfill in safari\n    // see https://github.com/iamdustan/smoothscroll/issues/138\n    // while smoothscroll-polyfill is not included, it is the recommended way to implement smoothscroll\n    // in browsers that don't natively support el.scrollIntoView({ behavior: 'smooth' })\n    element = document.body;\n  } else {\n    // check for element with matching id before assume '#top' is the top of the document\n    // see https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-element\n    const id = state.hashFragment.replace('#', '');\n    element = document.getElementById(id);\n    if (element === null && state.hashFragment === '#top') {\n      // see above comment for why document.body instead of document.documentElement\n      element = document.body;\n    }\n  }\n\n  if (element !== null) {\n    state.scrollFunction && state.scrollFunction(element);\n\n    // update focus to where the page is scrolled to\n    // unfortunately this doesn't work in safari (desktop and iOS) when blur() is called\n    let originalTabIndex = element.getAttribute('tabindex');\n    if (originalTabIndex === null && !isInteractiveElement(element)) {\n      element.setAttribute('tabindex', '-1');\n    }\n    element.focus({ preventScroll: true });\n    if (originalTabIndex === null && !isInteractiveElement(element)) {\n      // for some reason calling blur() in safari resets the focus region to where it was previously,\n      // if blur() is not called it works in safari, but then are stuck with default focus styles\n      // on an element that otherwise might never had focus styles applied, so not an option\n      element.blur();\n      element.removeAttribute('tabindex');\n    }\n\n    reset();\n    return true;\n  }\n  return false;\n}\n","import { getElAndScroll } from './getElAndScroll';\nimport LinkState from './LinkState';\nimport { reset } from './reset';\n\nconst state = LinkState;\n\nexport function hashLinkScroll(timeout?: number) {\n  // Push onto callback queue so it runs after the DOM is updated\n  window.setTimeout(() => {\n    if (getElAndScroll() === false) {\n      if (state.observer === null) {\n        state.observer = new MutationObserver(getElAndScroll);\n      }\n\n      state.observer.observe(document, {\n        attributes: true,\n        childList: true,\n        subtree: true,\n      });\n\n      // if the element doesn't show up in specified timeout or 10 seconds, stop checking\n      state.asyncTimerId = window.setTimeout(() => {\n        reset();\n      }, timeout ?? 10000);\n    }\n  }, 0);\n}\n","import { hashLinkScroll } from './hashLinkScroll';\nimport LinkState from './LinkState';\n\nconst state = LinkState;\n\nexport function scrollIntoView(\n  smooth: boolean | undefined,\n  scroll: ((...args: any[]) => void | Promise<void>) | undefined,\n  timeout: number | undefined,\n) {\n  const defaultScrollFn = (el: HTMLElement) =>\n    smooth ? el.scrollIntoView({ behavior: 'smooth' }) : el.scrollIntoView();\n\n  state.scrollFunction = scroll || defaultScrollFn;\n  hashLinkScroll(timeout);\n}\n","import React from 'react';\nimport { Link, LinkProps } from 'react-router-dom';\nimport { checkIfCanScroll } from './checkIfCanScroll';\nimport { getLinkHash } from './getLinkHash';\nimport { IHashLinkBaseProps } from './IHashLinkProps';\nimport LinkState from './LinkState';\nimport { reset } from './reset';\nimport { scrollIntoView } from './scrollIntoView';\n\nconst state = LinkState;\ntype IHashLinkProps = IHashLinkBaseProps & LinkProps;\n\nconst NavHashLink: React.FC<IHashLinkProps> = React.forwardRef<\n  HTMLAnchorElement,\n  IHashLinkProps\n>((props, ref) => {\n  const { scroll, smooth, timeout, elementId, children, onClick, ...rest } =\n    props;\n  const linkHash = getLinkHash(props);\n\n  const handleClick = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n    reset();\n    state.hashFragment = elementId ? `#${elementId}` : linkHash;\n    if (onClick) {\n      onClick(e);\n    }\n\n    const canScroll = checkIfCanScroll(e, props);\n    if (canScroll) {\n      scrollIntoView(smooth, scroll, timeout);\n    }\n  };\n\n  return (\n    <Link ref={ref} onClick={handleClick} {...rest}>\n      {children}\n    </Link>\n  );\n});\n\nexport default NavHashLink;\n","import React from 'react';\nimport { NavLink, NavLinkProps } from 'react-router-dom';\nimport { checkIfCanScroll } from './checkIfCanScroll';\nimport { getLinkHash } from './getLinkHash';\nimport { IHashLinkBaseProps } from './IHashLinkProps';\nimport LinkState from './LinkState';\nimport { reset } from './reset';\nimport { scrollIntoView } from './scrollIntoView';\n\nconst state = LinkState;\ntype INavHashLinkProps = IHashLinkBaseProps & NavLinkProps;\n\nconst NavHashLink: React.FC<INavHashLinkProps> = React.forwardRef<\n  HTMLAnchorElement,\n  INavHashLinkProps\n>((props, ref) => {\n  const { scroll, smooth, timeout, elementId, children, onClick, ...rest } =\n    props;\n  const linkHash = getLinkHash(props);\n\n  const handleClick = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n    reset();\n    state.hashFragment = elementId ? `#${elementId}` : linkHash;\n    if (onClick) {\n      onClick(e);\n    }\n\n    const canScroll = checkIfCanScroll(e, props);\n    if (canScroll) {\n      scrollIntoView(smooth, scroll, timeout);\n    }\n  };\n\n  return (\n    <NavLink ref={ref} onClick={handleClick} {...rest}>\n      {children}\n    </NavLink>\n  );\n});\n\nexport default NavHashLink;\n","// NOTE: this list must be up-to-date with browsers listed in\n// test/acceptance/useragentstrings.yml\nexport const BROWSER_ALIASES_MAP = {\n  'Amazon Silk': 'amazon_silk',\n  'Android Browser': 'android',\n  Bada: 'bada',\n  BlackBerry: 'blackberry',\n  Chrome: 'chrome',\n  Chromium: 'chromium',\n  Electron: 'electron',\n  Epiphany: 'epiphany',\n  Firefox: 'firefox',\n  Focus: 'focus',\n  Generic: 'generic',\n  'Google Search': 'google_search',\n  Googlebot: 'googlebot',\n  'Internet Explorer': 'ie',\n  'K-Meleon': 'k_meleon',\n  Maxthon: 'maxthon',\n  'Microsoft Edge': 'edge',\n  'MZ Browser': 'mz',\n  'NAVER Whale Browser': 'naver',\n  Opera: 'opera',\n  'Opera Coast': 'opera_coast',\n  PhantomJS: 'phantomjs',\n  Puffin: 'puffin',\n  QupZilla: 'qupzilla',\n  QQ: 'qq',\n  QQLite: 'qqlite',\n  Safari: 'safari',\n  Sailfish: 'sailfish',\n  'Samsung Internet for Android': 'samsung_internet',\n  SeaMonkey: 'seamonkey',\n  Sleipnir: 'sleipnir',\n  Swing: 'swing',\n  Tizen: 'tizen',\n  'UC Browser': 'uc',\n  Vivaldi: 'vivaldi',\n  'WebOS Browser': 'webos',\n  WeChat: 'wechat',\n  'Yandex Browser': 'yandex',\n  Roku: 'roku',\n};\n\nexport const BROWSER_MAP = {\n  amazon_silk: 'Amazon Silk',\n  android: 'Android Browser',\n  bada: 'Bada',\n  blackberry: 'BlackBerry',\n  chrome: 'Chrome',\n  chromium: 'Chromium',\n  electron: 'Electron',\n  epiphany: 'Epiphany',\n  firefox: 'Firefox',\n  focus: 'Focus',\n  generic: 'Generic',\n  googlebot: 'Googlebot',\n  google_search: 'Google Search',\n  ie: 'Internet Explorer',\n  k_meleon: 'K-Meleon',\n  maxthon: 'Maxthon',\n  edge: 'Microsoft Edge',\n  mz: 'MZ Browser',\n  naver: 'NAVER Whale Browser',\n  opera: 'Opera',\n  opera_coast: 'Opera Coast',\n  phantomjs: 'PhantomJS',\n  puffin: 'Puffin',\n  qupzilla: 'QupZilla',\n  qq: 'QQ Browser',\n  qqlite: 'QQ Browser Lite',\n  safari: 'Safari',\n  sailfish: 'Sailfish',\n  samsung_internet: 'Samsung Internet for Android',\n  seamonkey: 'SeaMonkey',\n  sleipnir: 'Sleipnir',\n  swing: 'Swing',\n  tizen: 'Tizen',\n  uc: 'UC Browser',\n  vivaldi: 'Vivaldi',\n  webos: 'WebOS Browser',\n  wechat: 'WeChat',\n  yandex: 'Yandex Browser',\n};\n\nexport const PLATFORMS_MAP = {\n  tablet: 'tablet',\n  mobile: 'mobile',\n  desktop: 'desktop',\n  tv: 'tv',\n};\n\nexport const OS_MAP = {\n  WindowsPhone: 'Windows Phone',\n  Windows: 'Windows',\n  MacOS: 'macOS',\n  iOS: 'iOS',\n  Android: 'Android',\n  WebOS: 'WebOS',\n  BlackBerry: 'BlackBerry',\n  Bada: 'Bada',\n  Tizen: 'Tizen',\n  Linux: 'Linux',\n  ChromeOS: 'Chrome OS',\n  PlayStation4: 'PlayStation 4',\n  Roku: 'Roku',\n};\n\nexport const ENGINE_MAP = {\n  EdgeHTML: 'EdgeHTML',\n  Blink: 'Blink',\n  Trident: 'Trident',\n  Presto: 'Presto',\n  Gecko: 'Gecko',\n  WebKit: 'WebKit',\n};\n","import { BROWSER_MAP, BROWSER_ALIASES_MAP } from './constants.js';\n\nexport default class Utils {\n  /**\n   * Get first matched item for a string\n   * @param {RegExp} regexp\n   * @param {String} ua\n   * @return {Array|{index: number, input: string}|*|boolean|string}\n   */\n  static getFirstMatch(regexp, ua) {\n    const match = ua.match(regexp);\n    return (match && match.length > 0 && match[1]) || '';\n  }\n\n  /**\n   * Get second matched item for a string\n   * @param regexp\n   * @param {String} ua\n   * @return {Array|{index: number, input: string}|*|boolean|string}\n   */\n  static getSecondMatch(regexp, ua) {\n    const match = ua.match(regexp);\n    return (match && match.length > 1 && match[2]) || '';\n  }\n\n  /**\n   * Match a regexp and return a constant or undefined\n   * @param {RegExp} regexp\n   * @param {String} ua\n   * @param {*} _const Any const that will be returned if regexp matches the string\n   * @return {*}\n   */\n  static matchAndReturnConst(regexp, ua, _const) {\n    if (regexp.test(ua)) {\n      return _const;\n    }\n    return void (0);\n  }\n\n  static getWindowsVersionName(version) {\n    switch (version) {\n      case 'NT': return 'NT';\n      case 'XP': return 'XP';\n      case 'NT 5.0': return '2000';\n      case 'NT 5.1': return 'XP';\n      case 'NT 5.2': return '2003';\n      case 'NT 6.0': return 'Vista';\n      case 'NT 6.1': return '7';\n      case 'NT 6.2': return '8';\n      case 'NT 6.3': return '8.1';\n      case 'NT 10.0': return '10';\n      default: return undefined;\n    }\n  }\n\n  /**\n   * Get macOS version name\n   *    10.5 - Leopard\n   *    10.6 - Snow Leopard\n   *    10.7 - Lion\n   *    10.8 - Mountain Lion\n   *    10.9 - Mavericks\n   *    10.10 - Yosemite\n   *    10.11 - El Capitan\n   *    10.12 - Sierra\n   *    10.13 - High Sierra\n   *    10.14 - Mojave\n   *    10.15 - Catalina\n   *\n   * @example\n   *   getMacOSVersionName(\"10.14\") // 'Mojave'\n   *\n   * @param  {string} version\n   * @return {string} versionName\n   */\n  static getMacOSVersionName(version) {\n    const v = version.split('.').splice(0, 2).map(s => parseInt(s, 10) || 0);\n    v.push(0);\n    if (v[0] !== 10) return undefined;\n    switch (v[1]) {\n      case 5: return 'Leopard';\n      case 6: return 'Snow Leopard';\n      case 7: return 'Lion';\n      case 8: return 'Mountain Lion';\n      case 9: return 'Mavericks';\n      case 10: return 'Yosemite';\n      case 11: return 'El Capitan';\n      case 12: return 'Sierra';\n      case 13: return 'High Sierra';\n      case 14: return 'Mojave';\n      case 15: return 'Catalina';\n      default: return undefined;\n    }\n  }\n\n  /**\n   * Get Android version name\n   *    1.5 - Cupcake\n   *    1.6 - Donut\n   *    2.0 - Eclair\n   *    2.1 - Eclair\n   *    2.2 - Froyo\n   *    2.x - Gingerbread\n   *    3.x - Honeycomb\n   *    4.0 - Ice Cream Sandwich\n   *    4.1 - Jelly Bean\n   *    4.4 - KitKat\n   *    5.x - Lollipop\n   *    6.x - Marshmallow\n   *    7.x - Nougat\n   *    8.x - Oreo\n   *    9.x - Pie\n   *\n   * @example\n   *   getAndroidVersionName(\"7.0\") // 'Nougat'\n   *\n   * @param  {string} version\n   * @return {string} versionName\n   */\n  static getAndroidVersionName(version) {\n    const v = version.split('.').splice(0, 2).map(s => parseInt(s, 10) || 0);\n    v.push(0);\n    if (v[0] === 1 && v[1] < 5) return undefined;\n    if (v[0] === 1 && v[1] < 6) return 'Cupcake';\n    if (v[0] === 1 && v[1] >= 6) return 'Donut';\n    if (v[0] === 2 && v[1] < 2) return 'Eclair';\n    if (v[0] === 2 && v[1] === 2) return 'Froyo';\n    if (v[0] === 2 && v[1] > 2) return 'Gingerbread';\n    if (v[0] === 3) return 'Honeycomb';\n    if (v[0] === 4 && v[1] < 1) return 'Ice Cream Sandwich';\n    if (v[0] === 4 && v[1] < 4) return 'Jelly Bean';\n    if (v[0] === 4 && v[1] >= 4) return 'KitKat';\n    if (v[0] === 5) return 'Lollipop';\n    if (v[0] === 6) return 'Marshmallow';\n    if (v[0] === 7) return 'Nougat';\n    if (v[0] === 8) return 'Oreo';\n    if (v[0] === 9) return 'Pie';\n    return undefined;\n  }\n\n  /**\n   * Get version precisions count\n   *\n   * @example\n   *   getVersionPrecision(\"1.10.3\") // 3\n   *\n   * @param  {string} version\n   * @return {number}\n   */\n  static getVersionPrecision(version) {\n    return version.split('.').length;\n  }\n\n  /**\n   * Calculate browser version weight\n   *\n   * @example\n   *   compareVersions('1.10.2.1',  '1.8.2.1.90')    // 1\n   *   compareVersions('1.010.2.1', '1.09.2.1.90');  // 1\n   *   compareVersions('1.10.2.1',  '1.10.2.1');     // 0\n   *   compareVersions('1.10.2.1',  '1.0800.2');     // -1\n   *   compareVersions('1.10.2.1',  '1.10',  true);  // 0\n   *\n   * @param {String} versionA versions versions to compare\n   * @param {String} versionB versions versions to compare\n   * @param {boolean} [isLoose] enable loose comparison\n   * @return {Number} comparison result: -1 when versionA is lower,\n   * 1 when versionA is bigger, 0 when both equal\n   */\n  /* eslint consistent-return: 1 */\n  static compareVersions(versionA, versionB, isLoose = false) {\n    // 1) get common precision for both versions, for example for \"10.0\" and \"9\" it should be 2\n    const versionAPrecision = Utils.getVersionPrecision(versionA);\n    const versionBPrecision = Utils.getVersionPrecision(versionB);\n\n    let precision = Math.max(versionAPrecision, versionBPrecision);\n    let lastPrecision = 0;\n\n    const chunks = Utils.map([versionA, versionB], (version) => {\n      const delta = precision - Utils.getVersionPrecision(version);\n\n      // 2) \"9\" -> \"9.0\" (for precision = 2)\n      const _version = version + new Array(delta + 1).join('.0');\n\n      // 3) \"9.0\" -> [\"000000000\"\", \"000000009\"]\n      return Utils.map(_version.split('.'), chunk => new Array(20 - chunk.length).join('0') + chunk).reverse();\n    });\n\n    // adjust precision for loose comparison\n    if (isLoose) {\n      lastPrecision = precision - Math.min(versionAPrecision, versionBPrecision);\n    }\n\n    // iterate in reverse order by reversed chunks array\n    precision -= 1;\n    while (precision >= lastPrecision) {\n      // 4) compare: \"000000009\" > \"000000010\" = false (but \"9\" > \"10\" = true)\n      if (chunks[0][precision] > chunks[1][precision]) {\n        return 1;\n      }\n\n      if (chunks[0][precision] === chunks[1][precision]) {\n        if (precision === lastPrecision) {\n          // all version chunks are same\n          return 0;\n        }\n\n        precision -= 1;\n      } else if (chunks[0][precision] < chunks[1][precision]) {\n        return -1;\n      }\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Array::map polyfill\n   *\n   * @param  {Array} arr\n   * @param  {Function} iterator\n   * @return {Array}\n   */\n  static map(arr, iterator) {\n    const result = [];\n    let i;\n    if (Array.prototype.map) {\n      return Array.prototype.map.call(arr, iterator);\n    }\n    for (i = 0; i < arr.length; i += 1) {\n      result.push(iterator(arr[i]));\n    }\n    return result;\n  }\n\n  /**\n   * Array::find polyfill\n   *\n   * @param  {Array} arr\n   * @param  {Function} predicate\n   * @return {Array}\n   */\n  static find(arr, predicate) {\n    let i;\n    let l;\n    if (Array.prototype.find) {\n      return Array.prototype.find.call(arr, predicate);\n    }\n    for (i = 0, l = arr.length; i < l; i += 1) {\n      const value = arr[i];\n      if (predicate(value, i)) {\n        return value;\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Object::assign polyfill\n   *\n   * @param  {Object} obj\n   * @param  {Object} ...objs\n   * @return {Object}\n   */\n  static assign(obj, ...assigners) {\n    const result = obj;\n    let i;\n    let l;\n    if (Object.assign) {\n      return Object.assign(obj, ...assigners);\n    }\n    for (i = 0, l = assigners.length; i < l; i += 1) {\n      const assigner = assigners[i];\n      if (typeof assigner === 'object' && assigner !== null) {\n        const keys = Object.keys(assigner);\n        keys.forEach((key) => {\n          result[key] = assigner[key];\n        });\n      }\n    }\n    return obj;\n  }\n\n  /**\n   * Get short version/alias for a browser name\n   *\n   * @example\n   *   getBrowserAlias('Microsoft Edge') // edge\n   *\n   * @param  {string} browserName\n   * @return {string}\n   */\n  static getBrowserAlias(browserName) {\n    return BROWSER_ALIASES_MAP[browserName];\n  }\n\n  /**\n   * Get short version/alias for a browser name\n   *\n   * @example\n   *   getBrowserAlias('edge') // Microsoft Edge\n   *\n   * @param  {string} browserAlias\n   * @return {string}\n   */\n  static getBrowserTypeByAlias(browserAlias) {\n    return BROWSER_MAP[browserAlias] || '';\n  }\n}\n","/**\n * Browsers' descriptors\n *\n * The idea of descriptors is simple. You should know about them two simple things:\n * 1. Every descriptor has a method or property called `test` and a `describe` method.\n * 2. Order of descriptors is important.\n *\n * More details:\n * 1. Method or property `test` serves as a way to detect whether the UA string\n * matches some certain browser or not. The `describe` method helps to make a result\n * object with params that show some browser-specific things: name, version, etc.\n * 2. Order of descriptors is important because a Parser goes through them one by one\n * in course. For example, if you insert Chrome's descriptor as the first one,\n * more then a half of browsers will be described as Chrome, because they will pass\n * the Chrome descriptor's test.\n *\n * Descriptor's `test` could be a property with an array of RegExps, where every RegExp\n * will be applied to a UA string to test it whether it matches or not.\n * If a descriptor has two or more regexps in the `test` array it tests them one by one\n * with a logical sum operation. Parser stops if it has found any RegExp that matches the UA.\n *\n * Or `test` could be a method. In that case it gets a Parser instance and should\n * return true/false to get the Parser know if this browser descriptor matches the UA or not.\n */\n\nimport Utils from './utils.js';\n\nconst commonVersionIdentifier = /version\\/(\\d+(\\.?_?\\d+)+)/i;\n\nconst browsersList = [\n  /* Googlebot */\n  {\n    test: [/googlebot/i],\n    describe(ua) {\n      const browser = {\n        name: 'Googlebot',\n      };\n      const version = Utils.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Opera < 13.0 */\n  {\n    test: [/opera/i],\n    describe(ua) {\n      const browser = {\n        name: 'Opera',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Opera > 13.0 */\n  {\n    test: [/opr\\/|opios/i],\n    describe(ua) {\n      const browser = {\n        name: 'Opera',\n      };\n      const version = Utils.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/SamsungBrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'Samsung Internet for Android',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/Whale/i],\n    describe(ua) {\n      const browser = {\n        name: 'NAVER Whale Browser',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/MZBrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'MZ Browser',\n      };\n      const version = Utils.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/focus/i],\n    describe(ua) {\n      const browser = {\n        name: 'Focus',\n      };\n      const version = Utils.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/swing/i],\n    describe(ua) {\n      const browser = {\n        name: 'Swing',\n      };\n      const version = Utils.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/coast/i],\n    describe(ua) {\n      const browser = {\n        name: 'Opera Coast',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/opt\\/\\d+(?:.?_?\\d+)+/i],\n    describe(ua) {\n      const browser = {\n        name: 'Opera Touch',\n      };\n      const version = Utils.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/yabrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'Yandex Browser',\n      };\n      const version = Utils.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/ucbrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'UC Browser',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/Maxthon|mxios/i],\n    describe(ua) {\n      const browser = {\n        name: 'Maxthon',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/epiphany/i],\n    describe(ua) {\n      const browser = {\n        name: 'Epiphany',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/puffin/i],\n    describe(ua) {\n      const browser = {\n        name: 'Puffin',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/sleipnir/i],\n    describe(ua) {\n      const browser = {\n        name: 'Sleipnir',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/k-meleon/i],\n    describe(ua) {\n      const browser = {\n        name: 'K-Meleon',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/micromessenger/i],\n    describe(ua) {\n      const browser = {\n        name: 'WeChat',\n      };\n      const version = Utils.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/qqbrowser/i],\n    describe(ua) {\n      const browser = {\n        name: (/qqbrowserlite/i).test(ua) ? 'QQ Browser Lite' : 'QQ Browser',\n      };\n      const version = Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/msie|trident/i],\n    describe(ua) {\n      const browser = {\n        name: 'Internet Explorer',\n      };\n      const version = Utils.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/\\sedg\\//i],\n    describe(ua) {\n      const browser = {\n        name: 'Microsoft Edge',\n      };\n\n      const version = Utils.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/edg([ea]|ios)/i],\n    describe(ua) {\n      const browser = {\n        name: 'Microsoft Edge',\n      };\n\n      const version = Utils.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/vivaldi/i],\n    describe(ua) {\n      const browser = {\n        name: 'Vivaldi',\n      };\n      const version = Utils.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/seamonkey/i],\n    describe(ua) {\n      const browser = {\n        name: 'SeaMonkey',\n      };\n      const version = Utils.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/sailfish/i],\n    describe(ua) {\n      const browser = {\n        name: 'Sailfish',\n      };\n\n      const version = Utils.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/silk/i],\n    describe(ua) {\n      const browser = {\n        name: 'Amazon Silk',\n      };\n      const version = Utils.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/phantom/i],\n    describe(ua) {\n      const browser = {\n        name: 'PhantomJS',\n      };\n      const version = Utils.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/slimerjs/i],\n    describe(ua) {\n      const browser = {\n        name: 'SlimerJS',\n      };\n      const version = Utils.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/blackberry|\\bbb\\d+/i, /rim\\stablet/i],\n    describe(ua) {\n      const browser = {\n        name: 'BlackBerry',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/(web|hpw)[o0]s/i],\n    describe(ua) {\n      const browser = {\n        name: 'WebOS Browser',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/bada/i],\n    describe(ua) {\n      const browser = {\n        name: 'Bada',\n      };\n      const version = Utils.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/tizen/i],\n    describe(ua) {\n      const browser = {\n        name: 'Tizen',\n      };\n      const version = Utils.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/qupzilla/i],\n    describe(ua) {\n      const browser = {\n        name: 'QupZilla',\n      };\n      const version = Utils.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/firefox|iceweasel|fxios/i],\n    describe(ua) {\n      const browser = {\n        name: 'Firefox',\n      };\n      const version = Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/electron/i],\n    describe(ua) {\n      const browser = {\n        name: 'Electron',\n      };\n      const version = Utils.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/MiuiBrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'Miui',\n      };\n      const version = Utils.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/chromium/i],\n    describe(ua) {\n      const browser = {\n        name: 'Chromium',\n      };\n      const version = Utils.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/chrome|crios|crmo/i],\n    describe(ua) {\n      const browser = {\n        name: 'Chrome',\n      };\n      const version = Utils.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/GSA/i],\n    describe(ua) {\n      const browser = {\n        name: 'Google Search',\n      };\n      const version = Utils.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Android Browser */\n  {\n    test(parser) {\n      const notLikeAndroid = !parser.test(/like android/i);\n      const butAndroid = parser.test(/android/i);\n      return notLikeAndroid && butAndroid;\n    },\n    describe(ua) {\n      const browser = {\n        name: 'Android Browser',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* PlayStation 4 */\n  {\n    test: [/playstation 4/i],\n    describe(ua) {\n      const browser = {\n        name: 'PlayStation 4',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Safari */\n  {\n    test: [/safari|applewebkit/i],\n    describe(ua) {\n      const browser = {\n        name: 'Safari',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Something else */\n  {\n    test: [/.*/i],\n    describe(ua) {\n      /* Here we try to make sure that there are explicit details about the device\n       * in order to decide what regexp exactly we want to apply\n       * (as there is a specific decision based on that conclusion)\n       */\n      const regexpWithoutDeviceSpec = /^(.*)\\/(.*) /;\n      const regexpWithDeviceSpec = /^(.*)\\/(.*)[ \\t]\\((.*)/;\n      const hasDeviceSpec = ua.search('\\\\(') !== -1;\n      const regexp = hasDeviceSpec ? regexpWithDeviceSpec : regexpWithoutDeviceSpec;\n      return {\n        name: Utils.getFirstMatch(regexp, ua),\n        version: Utils.getSecondMatch(regexp, ua),\n      };\n    },\n  },\n];\n\nexport default browsersList;\n","import Utils from './utils.js';\nimport { OS_MAP } from './constants.js';\n\nexport default [\n  /* Roku */\n  {\n    test: [/Roku\\/DVP/],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i, ua);\n      return {\n        name: OS_MAP.Roku,\n        version,\n      };\n    },\n  },\n\n  /* Windows Phone */\n  {\n    test: [/windows phone/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i, ua);\n      return {\n        name: OS_MAP.WindowsPhone,\n        version,\n      };\n    },\n  },\n\n  /* Windows */\n  {\n    test: [/windows /i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i, ua);\n      const versionName = Utils.getWindowsVersionName(version);\n\n      return {\n        name: OS_MAP.Windows,\n        version,\n        versionName,\n      };\n    },\n  },\n\n  /* Firefox on iPad */\n  {\n    test: [/Macintosh(.*?) FxiOS(.*?)\\//],\n    describe(ua) {\n      const result = {\n        name: OS_MAP.iOS,\n      };\n      const version = Utils.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/, ua);\n      if (version) {\n        result.version = version;\n      }\n      return result;\n    },\n  },\n\n  /* macOS */\n  {\n    test: [/macintosh/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i, ua).replace(/[_\\s]/g, '.');\n      const versionName = Utils.getMacOSVersionName(version);\n\n      const os = {\n        name: OS_MAP.MacOS,\n        version,\n      };\n      if (versionName) {\n        os.versionName = versionName;\n      }\n      return os;\n    },\n  },\n\n  /* iOS */\n  {\n    test: [/(ipod|iphone|ipad)/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i, ua).replace(/[_\\s]/g, '.');\n\n      return {\n        name: OS_MAP.iOS,\n        version,\n      };\n    },\n  },\n\n  /* Android */\n  {\n    test(parser) {\n      const notLikeAndroid = !parser.test(/like android/i);\n      const butAndroid = parser.test(/android/i);\n      return notLikeAndroid && butAndroid;\n    },\n    describe(ua) {\n      const version = Utils.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i, ua);\n      const versionName = Utils.getAndroidVersionName(version);\n      const os = {\n        name: OS_MAP.Android,\n        version,\n      };\n      if (versionName) {\n        os.versionName = versionName;\n      }\n      return os;\n    },\n  },\n\n  /* WebOS */\n  {\n    test: [/(web|hpw)[o0]s/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i, ua);\n      const os = {\n        name: OS_MAP.WebOS,\n      };\n\n      if (version && version.length) {\n        os.version = version;\n      }\n      return os;\n    },\n  },\n\n  /* BlackBerry */\n  {\n    test: [/blackberry|\\bbb\\d+/i, /rim\\stablet/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i, ua)\n        || Utils.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i, ua)\n        || Utils.getFirstMatch(/\\bbb(\\d+)/i, ua);\n\n      return {\n        name: OS_MAP.BlackBerry,\n        version,\n      };\n    },\n  },\n\n  /* Bada */\n  {\n    test: [/bada/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i, ua);\n\n      return {\n        name: OS_MAP.Bada,\n        version,\n      };\n    },\n  },\n\n  /* Tizen */\n  {\n    test: [/tizen/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i, ua);\n\n      return {\n        name: OS_MAP.Tizen,\n        version,\n      };\n    },\n  },\n\n  /* Linux */\n  {\n    test: [/linux/i],\n    describe() {\n      return {\n        name: OS_MAP.Linux,\n      };\n    },\n  },\n\n  /* Chrome OS */\n  {\n    test: [/CrOS/],\n    describe() {\n      return {\n        name: OS_MAP.ChromeOS,\n      };\n    },\n  },\n\n  /* Playstation 4 */\n  {\n    test: [/PlayStation 4/],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i, ua);\n      return {\n        name: OS_MAP.PlayStation4,\n        version,\n      };\n    },\n  },\n];\n","import Utils from './utils.js';\nimport { PLATFORMS_MAP } from './constants.js';\n\n/*\n * Tablets go first since usually they have more specific\n * signs to detect.\n */\n\nexport default [\n  /* Googlebot */\n  {\n    test: [/googlebot/i],\n    describe() {\n      return {\n        type: 'bot',\n        vendor: 'Google',\n      };\n    },\n  },\n\n  /* Huawei */\n  {\n    test: [/huawei/i],\n    describe(ua) {\n      const model = Utils.getFirstMatch(/(can-l01)/i, ua) && 'Nova';\n      const platform = {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'Huawei',\n      };\n      if (model) {\n        platform.model = model;\n      }\n      return platform;\n    },\n  },\n\n  /* Nexus Tablet */\n  {\n    test: [/nexus\\s*(?:7|8|9|10).*/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Nexus',\n      };\n    },\n  },\n\n  /* iPad */\n  {\n    test: [/ipad/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Apple',\n        model: 'iPad',\n      };\n    },\n  },\n\n  /* Firefox on iPad */\n  {\n    test: [/Macintosh(.*?) FxiOS(.*?)\\//],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Apple',\n        model: 'iPad',\n      };\n    },\n  },\n\n  /* Amazon Kindle Fire */\n  {\n    test: [/kftt build/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Amazon',\n        model: 'Kindle Fire HD 7',\n      };\n    },\n  },\n\n  /* Another Amazon Tablet with Silk */\n  {\n    test: [/silk/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Amazon',\n      };\n    },\n  },\n\n  /* Tablet */\n  {\n    test: [/tablet(?! pc)/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n      };\n    },\n  },\n\n  /* iPod/iPhone */\n  {\n    test(parser) {\n      const iDevice = parser.test(/ipod|iphone/i);\n      const likeIDevice = parser.test(/like (ipod|iphone)/i);\n      return iDevice && !likeIDevice;\n    },\n    describe(ua) {\n      const model = Utils.getFirstMatch(/(ipod|iphone)/i, ua);\n      return {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'Apple',\n        model,\n      };\n    },\n  },\n\n  /* Nexus Mobile */\n  {\n    test: [/nexus\\s*[0-6].*/i, /galaxy nexus/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'Nexus',\n      };\n    },\n  },\n\n  /* Mobile */\n  {\n    test: [/[^-]mobi/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n      };\n    },\n  },\n\n  /* BlackBerry */\n  {\n    test(parser) {\n      return parser.getBrowserName(true) === 'blackberry';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'BlackBerry',\n      };\n    },\n  },\n\n  /* Bada */\n  {\n    test(parser) {\n      return parser.getBrowserName(true) === 'bada';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n      };\n    },\n  },\n\n  /* Windows Phone */\n  {\n    test(parser) {\n      return parser.getBrowserName() === 'windows phone';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'Microsoft',\n      };\n    },\n  },\n\n  /* Android Tablet */\n  {\n    test(parser) {\n      const osMajorVersion = Number(String(parser.getOSVersion()).split('.')[0]);\n      return parser.getOSName(true) === 'android' && (osMajorVersion >= 3);\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n      };\n    },\n  },\n\n  /* Android Mobile */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'android';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n      };\n    },\n  },\n\n  /* desktop */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'macos';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.desktop,\n        vendor: 'Apple',\n      };\n    },\n  },\n\n  /* Windows */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'windows';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.desktop,\n      };\n    },\n  },\n\n  /* Linux */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'linux';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.desktop,\n      };\n    },\n  },\n\n  /* PlayStation 4 */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'playstation 4';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tv,\n      };\n    },\n  },\n\n  /* Roku */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'roku';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tv,\n      };\n    },\n  },\n];\n","import Utils from './utils.js';\nimport { ENGINE_MAP } from './constants.js';\n\n/*\n * More specific goes first\n */\nexport default [\n  /* EdgeHTML */\n  {\n    test(parser) {\n      return parser.getBrowserName(true) === 'microsoft edge';\n    },\n    describe(ua) {\n      const isBlinkBased = /\\sedg\\//i.test(ua);\n\n      // return blink if it's blink-based one\n      if (isBlinkBased) {\n        return {\n          name: ENGINE_MAP.Blink,\n        };\n      }\n\n      // otherwise match the version and return EdgeHTML\n      const version = Utils.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      return {\n        name: ENGINE_MAP.EdgeHTML,\n        version,\n      };\n    },\n  },\n\n  /* Trident */\n  {\n    test: [/trident/i],\n    describe(ua) {\n      const engine = {\n        name: ENGINE_MAP.Trident,\n      };\n\n      const version = Utils.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        engine.version = version;\n      }\n\n      return engine;\n    },\n  },\n\n  /* Presto */\n  {\n    test(parser) {\n      return parser.test(/presto/i);\n    },\n    describe(ua) {\n      const engine = {\n        name: ENGINE_MAP.Presto,\n      };\n\n      const version = Utils.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        engine.version = version;\n      }\n\n      return engine;\n    },\n  },\n\n  /* Gecko */\n  {\n    test(parser) {\n      const isGecko = parser.test(/gecko/i);\n      const likeGecko = parser.test(/like gecko/i);\n      return isGecko && !likeGecko;\n    },\n    describe(ua) {\n      const engine = {\n        name: ENGINE_MAP.Gecko,\n      };\n\n      const version = Utils.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        engine.version = version;\n      }\n\n      return engine;\n    },\n  },\n\n  /* Blink */\n  {\n    test: [/(apple)?webkit\\/537\\.36/i],\n    describe() {\n      return {\n        name: ENGINE_MAP.Blink,\n      };\n    },\n  },\n\n  /* WebKit */\n  {\n    test: [/(apple)?webkit/i],\n    describe(ua) {\n      const engine = {\n        name: ENGINE_MAP.WebKit,\n      };\n\n      const version = Utils.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        engine.version = version;\n      }\n\n      return engine;\n    },\n  },\n];\n","import browserParsersList from './parser-browsers.js';\nimport osParsersList from './parser-os.js';\nimport platformParsersList from './parser-platforms.js';\nimport enginesParsersList from './parser-engines.js';\nimport Utils from './utils.js';\n\n/**\n * The main class that arranges the whole parsing process.\n */\nclass Parser {\n  /**\n   * Create instance of Parser\n   *\n   * @param {String} UA User-Agent string\n   * @param {Boolean} [skipParsing=false] parser can skip parsing in purpose of performance\n   * improvements if you need to make a more particular parsing\n   * like {@link Parser#parseBrowser} or {@link Parser#parsePlatform}\n   *\n   * @throw {Error} in case of empty UA String\n   *\n   * @constructor\n   */\n  constructor(UA, skipParsing = false) {\n    if (UA === void (0) || UA === null || UA === '') {\n      throw new Error(\"UserAgent parameter can't be empty\");\n    }\n\n    this._ua = UA;\n\n    /**\n     * @typedef ParsedResult\n     * @property {Object} browser\n     * @property {String|undefined} [browser.name]\n     * Browser name, like `\"Chrome\"` or `\"Internet Explorer\"`\n     * @property {String|undefined} [browser.version] Browser version as a String `\"12.01.45334.10\"`\n     * @property {Object} os\n     * @property {String|undefined} [os.name] OS name, like `\"Windows\"` or `\"macOS\"`\n     * @property {String|undefined} [os.version] OS version, like `\"NT 5.1\"` or `\"10.11.1\"`\n     * @property {String|undefined} [os.versionName] OS name, like `\"XP\"` or `\"High Sierra\"`\n     * @property {Object} platform\n     * @property {String|undefined} [platform.type]\n     * platform type, can be either `\"desktop\"`, `\"tablet\"` or `\"mobile\"`\n     * @property {String|undefined} [platform.vendor] Vendor of the device,\n     * like `\"Apple\"` or `\"Samsung\"`\n     * @property {String|undefined} [platform.model] Device model,\n     * like `\"iPhone\"` or `\"Kindle Fire HD 7\"`\n     * @property {Object} engine\n     * @property {String|undefined} [engine.name]\n     * Can be any of this: `WebKit`, `Blink`, `Gecko`, `Trident`, `Presto`, `EdgeHTML`\n     * @property {String|undefined} [engine.version] String version of the engine\n     */\n    this.parsedResult = {};\n\n    if (skipParsing !== true) {\n      this.parse();\n    }\n  }\n\n  /**\n   * Get UserAgent string of current Parser instance\n   * @return {String} User-Agent String of the current <Parser> object\n   *\n   * @public\n   */\n  getUA() {\n    return this._ua;\n  }\n\n  /**\n   * Test a UA string for a regexp\n   * @param {RegExp} regex\n   * @return {Boolean}\n   */\n  test(regex) {\n    return regex.test(this._ua);\n  }\n\n  /**\n   * Get parsed browser object\n   * @return {Object}\n   */\n  parseBrowser() {\n    this.parsedResult.browser = {};\n\n    const browserDescriptor = Utils.find(browserParsersList, (_browser) => {\n      if (typeof _browser.test === 'function') {\n        return _browser.test(this);\n      }\n\n      if (_browser.test instanceof Array) {\n        return _browser.test.some(condition => this.test(condition));\n      }\n\n      throw new Error(\"Browser's test function is not valid\");\n    });\n\n    if (browserDescriptor) {\n      this.parsedResult.browser = browserDescriptor.describe(this.getUA());\n    }\n\n    return this.parsedResult.browser;\n  }\n\n  /**\n   * Get parsed browser object\n   * @return {Object}\n   *\n   * @public\n   */\n  getBrowser() {\n    if (this.parsedResult.browser) {\n      return this.parsedResult.browser;\n    }\n\n    return this.parseBrowser();\n  }\n\n  /**\n   * Get browser's name\n   * @return {String} Browser's name or an empty string\n   *\n   * @public\n   */\n  getBrowserName(toLowerCase) {\n    if (toLowerCase) {\n      return String(this.getBrowser().name).toLowerCase() || '';\n    }\n    return this.getBrowser().name || '';\n  }\n\n\n  /**\n   * Get browser's version\n   * @return {String} version of browser\n   *\n   * @public\n   */\n  getBrowserVersion() {\n    return this.getBrowser().version;\n  }\n\n  /**\n   * Get OS\n   * @return {Object}\n   *\n   * @example\n   * this.getOS();\n   * {\n   *   name: 'macOS',\n   *   version: '10.11.12'\n   * }\n   */\n  getOS() {\n    if (this.parsedResult.os) {\n      return this.parsedResult.os;\n    }\n\n    return this.parseOS();\n  }\n\n  /**\n   * Parse OS and save it to this.parsedResult.os\n   * @return {*|{}}\n   */\n  parseOS() {\n    this.parsedResult.os = {};\n\n    const os = Utils.find(osParsersList, (_os) => {\n      if (typeof _os.test === 'function') {\n        return _os.test(this);\n      }\n\n      if (_os.test instanceof Array) {\n        return _os.test.some(condition => this.test(condition));\n      }\n\n      throw new Error(\"Browser's test function is not valid\");\n    });\n\n    if (os) {\n      this.parsedResult.os = os.describe(this.getUA());\n    }\n\n    return this.parsedResult.os;\n  }\n\n  /**\n   * Get OS name\n   * @param {Boolean} [toLowerCase] return lower-cased value\n   * @return {String} name of the OS — macOS, Windows, Linux, etc.\n   */\n  getOSName(toLowerCase) {\n    const { name } = this.getOS();\n\n    if (toLowerCase) {\n      return String(name).toLowerCase() || '';\n    }\n\n    return name || '';\n  }\n\n  /**\n   * Get OS version\n   * @return {String} full version with dots ('10.11.12', '5.6', etc)\n   */\n  getOSVersion() {\n    return this.getOS().version;\n  }\n\n  /**\n   * Get parsed platform\n   * @return {{}}\n   */\n  getPlatform() {\n    if (this.parsedResult.platform) {\n      return this.parsedResult.platform;\n    }\n\n    return this.parsePlatform();\n  }\n\n  /**\n   * Get platform name\n   * @param {Boolean} [toLowerCase=false]\n   * @return {*}\n   */\n  getPlatformType(toLowerCase = false) {\n    const { type } = this.getPlatform();\n\n    if (toLowerCase) {\n      return String(type).toLowerCase() || '';\n    }\n\n    return type || '';\n  }\n\n  /**\n   * Get parsed platform\n   * @return {{}}\n   */\n  parsePlatform() {\n    this.parsedResult.platform = {};\n\n    const platform = Utils.find(platformParsersList, (_platform) => {\n      if (typeof _platform.test === 'function') {\n        return _platform.test(this);\n      }\n\n      if (_platform.test instanceof Array) {\n        return _platform.test.some(condition => this.test(condition));\n      }\n\n      throw new Error(\"Browser's test function is not valid\");\n    });\n\n    if (platform) {\n      this.parsedResult.platform = platform.describe(this.getUA());\n    }\n\n    return this.parsedResult.platform;\n  }\n\n  /**\n   * Get parsed engine\n   * @return {{}}\n   */\n  getEngine() {\n    if (this.parsedResult.engine) {\n      return this.parsedResult.engine;\n    }\n\n    return this.parseEngine();\n  }\n\n  /**\n   * Get engines's name\n   * @return {String} Engines's name or an empty string\n   *\n   * @public\n   */\n  getEngineName(toLowerCase) {\n    if (toLowerCase) {\n      return String(this.getEngine().name).toLowerCase() || '';\n    }\n    return this.getEngine().name || '';\n  }\n\n  /**\n   * Get parsed platform\n   * @return {{}}\n   */\n  parseEngine() {\n    this.parsedResult.engine = {};\n\n    const engine = Utils.find(enginesParsersList, (_engine) => {\n      if (typeof _engine.test === 'function') {\n        return _engine.test(this);\n      }\n\n      if (_engine.test instanceof Array) {\n        return _engine.test.some(condition => this.test(condition));\n      }\n\n      throw new Error(\"Browser's test function is not valid\");\n    });\n\n    if (engine) {\n      this.parsedResult.engine = engine.describe(this.getUA());\n    }\n\n    return this.parsedResult.engine;\n  }\n\n  /**\n   * Parse full information about the browser\n   * @returns {Parser}\n   */\n  parse() {\n    this.parseBrowser();\n    this.parseOS();\n    this.parsePlatform();\n    this.parseEngine();\n\n    return this;\n  }\n\n  /**\n   * Get parsed result\n   * @return {ParsedResult}\n   */\n  getResult() {\n    return Utils.assign({}, this.parsedResult);\n  }\n\n  /**\n   * Check if parsed browser matches certain conditions\n   *\n   * @param {Object} checkTree It's one or two layered object,\n   * which can include a platform or an OS on the first layer\n   * and should have browsers specs on the bottom-laying layer\n   *\n   * @returns {Boolean|undefined} Whether the browser satisfies the set conditions or not.\n   * Returns `undefined` when the browser is no described in the checkTree object.\n   *\n   * @example\n   * const browser = Bowser.getParser(window.navigator.userAgent);\n   * if (browser.satisfies({chrome: '>118.01.1322' }))\n   * // or with os\n   * if (browser.satisfies({windows: { chrome: '>118.01.1322' } }))\n   * // or with platforms\n   * if (browser.satisfies({desktop: { chrome: '>118.01.1322' } }))\n   */\n  satisfies(checkTree) {\n    const platformsAndOSes = {};\n    let platformsAndOSCounter = 0;\n    const browsers = {};\n    let browsersCounter = 0;\n\n    const allDefinitions = Object.keys(checkTree);\n\n    allDefinitions.forEach((key) => {\n      const currentDefinition = checkTree[key];\n      if (typeof currentDefinition === 'string') {\n        browsers[key] = currentDefinition;\n        browsersCounter += 1;\n      } else if (typeof currentDefinition === 'object') {\n        platformsAndOSes[key] = currentDefinition;\n        platformsAndOSCounter += 1;\n      }\n    });\n\n    if (platformsAndOSCounter > 0) {\n      const platformsAndOSNames = Object.keys(platformsAndOSes);\n      const OSMatchingDefinition = Utils.find(platformsAndOSNames, name => (this.isOS(name)));\n\n      if (OSMatchingDefinition) {\n        const osResult = this.satisfies(platformsAndOSes[OSMatchingDefinition]);\n\n        if (osResult !== void 0) {\n          return osResult;\n        }\n      }\n\n      const platformMatchingDefinition = Utils.find(\n        platformsAndOSNames,\n        name => (this.isPlatform(name)),\n      );\n      if (platformMatchingDefinition) {\n        const platformResult = this.satisfies(platformsAndOSes[platformMatchingDefinition]);\n\n        if (platformResult !== void 0) {\n          return platformResult;\n        }\n      }\n    }\n\n    if (browsersCounter > 0) {\n      const browserNames = Object.keys(browsers);\n      const matchingDefinition = Utils.find(browserNames, name => (this.isBrowser(name, true)));\n\n      if (matchingDefinition !== void 0) {\n        return this.compareVersion(browsers[matchingDefinition]);\n      }\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Check if the browser name equals the passed string\n   * @param browserName The string to compare with the browser name\n   * @param [includingAlias=false] The flag showing whether alias will be included into comparison\n   * @returns {boolean}\n   */\n  isBrowser(browserName, includingAlias = false) {\n    const defaultBrowserName = this.getBrowserName().toLowerCase();\n    let browserNameLower = browserName.toLowerCase();\n    const alias = Utils.getBrowserTypeByAlias(browserNameLower);\n\n    if (includingAlias && alias) {\n      browserNameLower = alias.toLowerCase();\n    }\n    return browserNameLower === defaultBrowserName;\n  }\n\n  compareVersion(version) {\n    let expectedResults = [0];\n    let comparableVersion = version;\n    let isLoose = false;\n\n    const currentBrowserVersion = this.getBrowserVersion();\n\n    if (typeof currentBrowserVersion !== 'string') {\n      return void 0;\n    }\n\n    if (version[0] === '>' || version[0] === '<') {\n      comparableVersion = version.substr(1);\n      if (version[1] === '=') {\n        isLoose = true;\n        comparableVersion = version.substr(2);\n      } else {\n        expectedResults = [];\n      }\n      if (version[0] === '>') {\n        expectedResults.push(1);\n      } else {\n        expectedResults.push(-1);\n      }\n    } else if (version[0] === '=') {\n      comparableVersion = version.substr(1);\n    } else if (version[0] === '~') {\n      isLoose = true;\n      comparableVersion = version.substr(1);\n    }\n\n    return expectedResults.indexOf(\n      Utils.compareVersions(currentBrowserVersion, comparableVersion, isLoose),\n    ) > -1;\n  }\n\n  isOS(osName) {\n    return this.getOSName(true) === String(osName).toLowerCase();\n  }\n\n  isPlatform(platformType) {\n    return this.getPlatformType(true) === String(platformType).toLowerCase();\n  }\n\n  isEngine(engineName) {\n    return this.getEngineName(true) === String(engineName).toLowerCase();\n  }\n\n  /**\n   * Is anything? Check if the browser is called \"anything\",\n   * the OS called \"anything\" or the platform called \"anything\"\n   * @param {String} anything\n   * @param [includingAlias=false] The flag showing whether alias will be included into comparison\n   * @returns {Boolean}\n   */\n  is(anything, includingAlias = false) {\n    return this.isBrowser(anything, includingAlias) || this.isOS(anything)\n      || this.isPlatform(anything);\n  }\n\n  /**\n   * Check if any of the given values satisfies this.is(anything)\n   * @param {String[]} anythings\n   * @returns {Boolean}\n   */\n  some(anythings = []) {\n    return anythings.some(anything => this.is(anything));\n  }\n}\n\nexport default Parser;\n","/*!\n * Bowser - a browser detector\n * https://github.com/lancedikson/bowser\n * MIT License | (c) Dustin Diaz 2012-2015\n * MIT License | (c) Denis Demchenko 2015-2019\n */\nimport Parser from './parser.js';\nimport {\n  BROWSER_MAP,\n  ENGINE_MAP,\n  OS_MAP,\n  PLATFORMS_MAP,\n} from './constants.js';\n\n/**\n * Bowser class.\n * Keep it simple as much as it can be.\n * It's supposed to work with collections of {@link Parser} instances\n * rather then solve one-instance problems.\n * All the one-instance stuff is located in Parser class.\n *\n * @class\n * @classdesc Bowser is a static object, that provides an API to the Parsers\n * @hideconstructor\n */\nclass Bowser {\n  /**\n   * Creates a {@link Parser} instance\n   *\n   * @param {String} UA UserAgent string\n   * @param {Boolean} [skipParsing=false] Will make the Parser postpone parsing until you ask it\n   * explicitly. Same as `skipParsing` for {@link Parser}.\n   * @returns {Parser}\n   * @throws {Error} when UA is not a String\n   *\n   * @example\n   * const parser = Bowser.getParser(window.navigator.userAgent);\n   * const result = parser.getResult();\n   */\n  static getParser(UA, skipParsing = false) {\n    if (typeof UA !== 'string') {\n      throw new Error('UserAgent should be a string');\n    }\n    return new Parser(UA, skipParsing);\n  }\n\n  /**\n   * Creates a {@link Parser} instance and runs {@link Parser.getResult} immediately\n   *\n   * @param UA\n   * @return {ParsedResult}\n   *\n   * @example\n   * const result = Bowser.parse(window.navigator.userAgent);\n   */\n  static parse(UA) {\n    return (new Parser(UA)).getResult();\n  }\n\n  static get BROWSER_MAP() {\n    return BROWSER_MAP;\n  }\n\n  static get ENGINE_MAP() {\n    return ENGINE_MAP;\n  }\n\n  static get OS_MAP() {\n    return OS_MAP;\n  }\n\n  static get PLATFORMS_MAP() {\n    return PLATFORMS_MAP;\n  }\n}\n\nexport default Bowser;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","import { parse } from 'graphql';\n\nimport {\n  DocumentNode,\n  DefinitionNode,\n  Location,\n} from 'graphql/language/ast';\n\n// A map docString -> graphql document\nconst docCache = new Map<string, DocumentNode>();\n\n// A map fragmentName -> [normalized source]\nconst fragmentSourceMap = new Map<string, Set<string>>();\n\nlet printFragmentWarnings = true;\nlet experimentalFragmentVariables = false;\n\n// Strip insignificant whitespace\n// Note that this could do a lot more, such as reorder fields etc.\nfunction normalize(string: string) {\n  return string.replace(/[\\s,]+/g, ' ').trim();\n}\n\nfunction cacheKeyFromLoc(loc: Location) {\n  return normalize(loc.source.body.substring(loc.start, loc.end));\n}\n\n// Take a unstripped parsed document (query/mutation or even fragment), and\n// check all fragment definitions, checking for name->source uniqueness.\n// We also want to make sure only unique fragments exist in the document.\nfunction processFragments(ast: DocumentNode) {\n  const seenKeys = new Set<string>();\n  const definitions: DefinitionNode[] = [];\n\n  ast.definitions.forEach(fragmentDefinition => {\n    if (fragmentDefinition.kind === 'FragmentDefinition') {\n      var fragmentName = fragmentDefinition.name.value;\n      var sourceKey = cacheKeyFromLoc(fragmentDefinition.loc!);\n\n      // We know something about this fragment\n      let sourceKeySet = fragmentSourceMap.get(fragmentName)!;\n      if (sourceKeySet && !sourceKeySet.has(sourceKey)) {\n        // this is a problem because the app developer is trying to register another fragment with\n        // the same name as one previously registered. So, we tell them about it.\n        if (printFragmentWarnings) {\n          console.warn(\"Warning: fragment with name \" + fragmentName + \" already exists.\\n\"\n            + \"graphql-tag enforces all fragment names across your application to be unique; read more about\\n\"\n            + \"this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names\");\n        }\n      } else if (!sourceKeySet) {\n        fragmentSourceMap.set(fragmentName, sourceKeySet = new Set);\n      }\n\n      sourceKeySet.add(sourceKey);\n\n      if (!seenKeys.has(sourceKey)) {\n        seenKeys.add(sourceKey);\n        definitions.push(fragmentDefinition);\n      }\n    } else {\n      definitions.push(fragmentDefinition);\n    }\n  });\n\n  return {\n    ...ast,\n    definitions,\n  };\n}\n\nfunction stripLoc(doc: DocumentNode) {\n  const workSet = new Set<Record<string, any>>(doc.definitions);\n\n  workSet.forEach(node => {\n    if (node.loc) delete node.loc;\n    Object.keys(node).forEach(key => {\n      const value = node[key];\n      if (value && typeof value === 'object') {\n        workSet.add(value);\n      }\n    });\n  });\n\n  const loc = doc.loc as Record<string, any>;\n  if (loc) {\n    delete loc.startToken;\n    delete loc.endToken;\n  }\n\n  return doc;\n}\n\nfunction parseDocument(source: string) {\n  var cacheKey = normalize(source);\n  if (!docCache.has(cacheKey)) {\n    const parsed = parse(source, {\n      experimentalFragmentVariables,\n      allowLegacyFragmentVariables: experimentalFragmentVariables,\n    } as any);\n    if (!parsed || parsed.kind !== 'Document') {\n      throw new Error('Not a valid GraphQL document.');\n    }\n    docCache.set(\n      cacheKey,\n      // check that all \"new\" fragments inside the documents are consistent with\n      // existing fragments of the same name\n      stripLoc(processFragments(parsed)),\n    );\n  }\n  return docCache.get(cacheKey)!;\n}\n\n// XXX This should eventually disallow arbitrary string interpolation, like Relay does\nexport function gql(\n  literals: string | readonly string[],\n  ...args: any[]\n) {\n\n  if (typeof literals === 'string') {\n    literals = [literals];\n  }\n\n  let result = literals[0];\n\n  args.forEach((arg, i) => {\n    if (arg && arg.kind === 'Document') {\n      result += arg.loc.source.body;\n    } else {\n      result += arg;\n    }\n    result += literals[i + 1];\n  });\n\n  return parseDocument(result);\n}\n\nexport function resetCaches() {\n  docCache.clear();\n  fragmentSourceMap.clear();\n}\n\nexport function disableFragmentWarnings() {\n  printFragmentWarnings = false;\n}\n\nexport function enableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = true;\n}\n\nexport function disableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = false;\n}\n\nconst extras = {\n  gql,\n  resetCaches,\n  disableFragmentWarnings,\n  enableExperimentalFragmentVariables,\n  disableExperimentalFragmentVariables,\n};\n\nexport namespace gql {\n  export const {\n    gql,\n    resetCaches,\n    disableFragmentWarnings,\n    enableExperimentalFragmentVariables,\n    disableExperimentalFragmentVariables,\n  } = extras;\n}\n\ngql.default = gql;\n\nexport default gql;\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","module.exports = function() {\n  var mediaQuery;\n  if (typeof window !== \"undefined\" && window !== null) {\n    mediaQuery = \"(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)\";\n    if (window.devicePixelRatio > 1.25) {\n      return true;\n    }\n    if (window.matchMedia && window.matchMedia(mediaQuery).matches) {\n      return true;\n    }\n  }\n  return false;\n};\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","module.exports = require('util').inspect;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar split = String.prototype.split;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            if (generateArrayPrefix === 'comma' && encodeValuesOnly) {\n                var valuesArray = split.call(String(obj), ',');\n                var valuesJoined = '';\n                for (var i = 0; i < valuesArray.length; ++i) {\n                    valuesJoined += (i === 0 ? '' : ',') + formatter(encoder(valuesArray[i], defaults.encoder, charset, 'value', format));\n                }\n                return [formatter(keyValue) + (commaRoundTrip && isArray(obj) && valuesArray.length === 1 ? '[]' : '') + '=' + valuesJoined];\n            }\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? prefix + '[]' : prefix;\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, key) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n    if (opts && 'commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n    var commaRoundTrip = generateArrayPrefix === 'comma' && opts && opts.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport * as React from 'react';\n\nvar changedArray = function changedArray(a, b) {\n  if (a === void 0) {\n    a = [];\n  }\n\n  if (b === void 0) {\n    b = [];\n  }\n\n  return a.length !== b.length || a.some(function (item, index) {\n    return !Object.is(item, b[index]);\n  });\n};\n\nvar initialState = {\n  error: null\n};\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n    _this.state = initialState;\n\n    _this.resetErrorBoundary = function () {\n      var _this$props;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\n\n      _this.reset();\n    };\n\n    return _this;\n  }\n\n  ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  };\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.reset = function reset() {\n    this.setState(initialState);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n\n    (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var error = this.state.error;\n    var resetKeys = this.props.resetKeys; // There's an edge case where if the thing that triggered the error\n    // happens to *also* be in the resetKeys array, we'd end up resetting\n    // the error boundary immediately. This would likely trigger a second\n    // error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call\n    // of cDU after the error is set\n\n    if (error !== null && prevState.error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onResetKe, _this$props3;\n\n      (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\n      this.reset();\n    }\n  };\n\n  _proto.render = function render() {\n    var error = this.state.error;\n    var _this$props4 = this.props,\n        fallbackRender = _this$props4.fallbackRender,\n        FallbackComponent = _this$props4.FallbackComponent,\n        fallback = _this$props4.fallback;\n\n    if (error !== null) {\n      var _props = {\n        error: error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n\n      if ( /*#__PURE__*/React.isValidElement(fallback)) {\n        return fallback;\n      } else if (typeof fallbackRender === 'function') {\n        return fallbackRender(_props);\n      } else if (FallbackComponent) {\n        return /*#__PURE__*/React.createElement(FallbackComponent, _props);\n      } else {\n        throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\n      }\n    }\n\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nfunction withErrorBoundary(Component, errorBoundaryProps) {\n  var Wrapped = function Wrapped(props) {\n    return /*#__PURE__*/React.createElement(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/React.createElement(Component, props));\n  }; // Format for display in DevTools\n\n\n  var name = Component.displayName || Component.name || 'Unknown';\n  Wrapped.displayName = \"withErrorBoundary(\" + name + \")\";\n  return Wrapped;\n}\n\nfunction useErrorHandler(givenError) {\n  var _React$useState = React.useState(null),\n      error = _React$useState[0],\n      setError = _React$useState[1];\n\n  if (givenError != null) throw givenError;\n  if (error != null) throw error;\n  return setError;\n}\n/*\neslint\n  @typescript-eslint/sort-type-union-intersection-members: \"off\",\n  @typescript-eslint/no-throw-literal: \"off\",\n  @typescript-eslint/prefer-nullish-coalescing: \"off\"\n*/\n\nexport { ErrorBoundary, useErrorHandler, withErrorBoundary };\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _md = require('md5');\n\nvar _md2 = _interopRequireDefault(_md);\n\nvar _queryString = require('query-string');\n\nvar _queryString2 = _interopRequireDefault(_queryString);\n\nvar _isRetina = require('is-retina');\n\nvar _isRetina2 = _interopRequireDefault(_isRetina);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Gravatar = function (_React$Component) {\n  _inherits(Gravatar, _React$Component);\n\n  function Gravatar() {\n    _classCallCheck(this, Gravatar);\n\n    return _possibleConstructorReturn(this, (Gravatar.__proto__ || Object.getPrototypeOf(Gravatar)).apply(this, arguments));\n  }\n\n  _createClass(Gravatar, [{\n    key: 'render',\n    value: function render() {\n      var base = this.props.protocol + 'www.gravatar.com/avatar/';\n\n      var query = _queryString2.default.stringify({\n        s: this.props.size,\n        r: this.props.rating,\n        d: this.props.default\n      });\n\n      var retinaQuery = _queryString2.default.stringify({\n        s: this.props.size * 2,\n        r: this.props.rating,\n        d: this.props.default\n      });\n\n      // Gravatar service currently trims and lowercases all registered emails\n      var formattedEmail = ('' + this.props.email).trim().toLowerCase();\n\n      var hash = void 0;\n      if (this.props.md5) {\n        hash = this.props.md5;\n      } else if (typeof this.props.email === 'string') {\n        hash = (0, _md2.default)(formattedEmail, { encoding: \"binary\" });\n      } else {\n        console.warn('Gravatar image can not be fetched. Either the \"email\" or \"md5\" prop must be specified.');\n        return _react2.default.createElement('script', null);\n      }\n\n      var src = '' + base + hash + '?' + query;\n      var retinaSrc = '' + base + hash + '?' + retinaQuery;\n\n      var modernBrowser = true; // server-side, we render for modern browsers\n\n      if (typeof window !== 'undefined') {\n        // this is not NodeJS\n        modernBrowser = 'srcset' in document.createElement('img');\n      }\n\n      var className = 'react-gravatar';\n      if (this.props.className) {\n        className = className + ' ' + this.props.className;\n      }\n\n      // Clone this.props and then delete Component specific props so we can\n      // spread the rest into the img.\n\n      var rest = _objectWithoutProperties(this.props, []);\n\n      delete rest.md5;\n      delete rest.email;\n      delete rest.protocol;\n      delete rest.rating;\n      delete rest.size;\n      delete rest.style;\n      delete rest.className;\n      delete rest.default;\n      if (!modernBrowser && (0, _isRetina2.default)()) {\n        return _react2.default.createElement('img', _extends({\n          alt: 'Gravatar for ' + formattedEmail,\n          style: this.props.style,\n          src: retinaSrc,\n          height: this.props.size,\n          width: this.props.size\n        }, rest, {\n          className: className\n        }));\n      }\n      return _react2.default.createElement('img', _extends({\n        alt: 'Gravatar for ' + formattedEmail,\n        style: this.props.style,\n        src: src,\n        srcSet: retinaSrc + ' 2x',\n        height: this.props.size,\n        width: this.props.size\n      }, rest, {\n        className: className\n      }));\n    }\n  }]);\n\n  return Gravatar;\n}(_react2.default.Component);\n\nGravatar.displayName = 'Gravatar';\nGravatar.propTypes = {\n  email: _propTypes2.default.string,\n  md5: _propTypes2.default.string,\n  size: _propTypes2.default.number,\n  rating: _propTypes2.default.string,\n  default: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  protocol: _propTypes2.default.string,\n  style: _propTypes2.default.object\n};\nGravatar.defaultProps = {\n  size: 50,\n  rating: 'g',\n  default: 'retro',\n  protocol: '//'\n};\n\n\nmodule.exports = Gravatar;","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Don’t use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","export var zeroRightClassName = 'right-scroll-bar-position';\nexport var fullWidthClassName = 'width-before-scroll-bar';\nexport var noScrollbarsClassName = 'with-scroll-bars-hidden';\n/**\n * Name of a CSS variable containing the amount of \"hidden\" scrollbar\n * ! might be undefined ! use will fallback!\n */\nexport var removedBarSizeVariable = '--removed-body-scroll-bar-size';\n","import { assignRef } from './assignRef';\nimport { useCallbackRef } from './useRef';\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); // 👈 merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nexport function useMergeRefs(refs, defaultValue) {\n    return useCallbackRef(defaultValue || null, function (newValue) { return refs.forEach(function (ref) { return assignRef(ref, newValue); }); });\n}\n","import { useState } from 'react';\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            },\n        },\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n","/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nexport function assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n","import { __assign } from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n","import { createSidecarMedium } from 'use-sidecar';\nexport var effectCar = createSidecarMedium();\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { effectCar } from './medium';\nvar nothing = function () {\n    return;\n};\n/**\n * Removes scrollbar from the page and contain the scroll within the Lock\n */\nvar RemoveScroll = React.forwardRef(function (props, parentRef) {\n    var ref = React.useRef(null);\n    var _a = React.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing,\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, rest = __rest(props, [\"forwardProps\", \"children\", \"className\", \"removeScrollBar\", \"enabled\", \"shards\", \"sideCar\", \"noIsolation\", \"inert\", \"allowPinchZoom\", \"as\"]);\n    var SideCar = sideCar;\n    var containerRef = useMergeRefs([ref, parentRef]);\n    var containerProps = __assign(__assign({}, rest), callbacks);\n    return (React.createElement(React.Fragment, null,\n        enabled && (React.createElement(SideCar, { sideCar: effectCar, removeScrollBar: removeScrollBar, shards: shards, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref })),\n        forwardProps ? (React.cloneElement(React.Children.only(children), __assign(__assign({}, containerProps), { ref: containerRef }))) : (React.createElement(Container, __assign({}, containerProps, { className: className, ref: containerRef }), children))));\n});\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false,\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName,\n};\nexport { RemoveScroll };\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, __assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n","var currentNonce;\nexport var setNonce = function (nonce) {\n    currentNonce = nonce;\n};\nexport var getNonce = function () {\n    if (currentNonce) {\n        return currentNonce;\n    }\n    if (typeof __webpack_nonce__ !== 'undefined') {\n        return __webpack_nonce__;\n    }\n    return undefined;\n};\n","import { getNonce } from 'get-nonce';\nfunction makeStyleTag() {\n    if (!document)\n        return null;\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute('nonce', nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    // @ts-ignore\n    if (tag.styleSheet) {\n        // @ts-ignore\n        tag.styleSheet.cssText = css;\n    }\n    else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    head.appendChild(tag);\n}\nexport var stylesheetSingleton = function () {\n    var counter = 0;\n    var stylesheet = null;\n    return {\n        add: function (style) {\n            if (counter == 0) {\n                if ((stylesheet = makeStyleTag())) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter++;\n        },\n        remove: function () {\n            counter--;\n            if (!counter && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        },\n    };\n};\n","import { styleHookSingleton } from './hook';\n/**\n * create a Component to add styles on demand\n * - styles are added when first instance is mounted\n * - styles are removed when the last instance is unmounted\n * - changing styles in runtime does nothing unless dynamic is set. But with multiple components that can lead to the undefined behavior\n */\nexport var styleSingleton = function () {\n    var useStyle = styleHookSingleton();\n    var Sheet = function (_a) {\n        var styles = _a.styles, dynamic = _a.dynamic;\n        useStyle(styles, dynamic);\n        return null;\n    };\n    return Sheet;\n};\n","import * as React from 'react';\nimport { stylesheetSingleton } from './singleton';\n/**\n * creates a hook to control style singleton\n * @see {@link styleSingleton} for a safer component version\n * @example\n * ```tsx\n * const useStyle = styleHookSingleton();\n * ///\n * useStyle('body { overflow: hidden}');\n */\nexport var styleHookSingleton = function () {\n    var sheet = stylesheetSingleton();\n    return function (styles, isDynamic) {\n        React.useEffect(function () {\n            sheet.add(styles);\n            return function () {\n                sheet.remove();\n            };\n        }, [styles && isDynamic]);\n    };\n};\n","export var zeroGap = {\n    left: 0,\n    top: 0,\n    right: 0,\n    gap: 0,\n};\nvar parse = function (x) { return parseInt(x || '', 10) || 0; };\nvar getOffset = function (gapMode) {\n    var cs = window.getComputedStyle(document.body);\n    if (process.env.NODE_ENV !== 'production') {\n        if (cs.overflowY === 'hidden') {\n            console.error('react-remove-scroll-bar: cannot calculate scrollbar size because it is removed (overflow:hidden on body');\n        }\n    }\n    var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];\n    var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];\n    var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];\n    return [parse(left), parse(top), parse(right)];\n};\nexport var getGapWidth = function (gapMode) {\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    if (typeof window === 'undefined') {\n        return zeroGap;\n    }\n    var offsets = getOffset(gapMode);\n    var documentWidth = document.documentElement.clientWidth;\n    var windowWidth = window.innerWidth;\n    return {\n        left: offsets[0],\n        top: offsets[1],\n        right: offsets[2],\n        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0]),\n    };\n};\n","import * as React from 'react';\nimport { styleSingleton } from 'react-style-singleton';\nimport { fullWidthClassName, zeroRightClassName, noScrollbarsClassName, removedBarSizeVariable } from './constants';\nimport { getGapWidth } from './utils';\nvar Style = styleSingleton();\n// important tip - once we measure scrollBar width and remove them\n// we could not repeat this operation\n// thus we are using style-singleton - only the first \"yet correct\" style will be applied.\nvar getStyles = function (_a, allowRelative, gapMode, important) {\n    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    return \"\\n  .\".concat(noScrollbarsClassName, \" {\\n   overflow: hidden \").concat(important, \";\\n   padding-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  body {\\n    overflow: hidden \").concat(important, \";\\n    overscroll-behavior: contain;\\n    \").concat([\n        allowRelative && \"position: relative \".concat(important, \";\"),\n        gapMode === 'margin' &&\n            \"\\n    padding-left: \".concat(left, \"px;\\n    padding-top: \").concat(top, \"px;\\n    padding-right: \").concat(right, \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n    \"),\n        gapMode === 'padding' && \"padding-right: \".concat(gap, \"px \").concat(important, \";\"),\n    ]\n        .filter(Boolean)\n        .join(''), \"\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" {\\n    right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" {\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" .\").concat(zeroRightClassName, \" {\\n    right: 0 \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" .\").concat(fullWidthClassName, \" {\\n    margin-right: 0 \").concat(important, \";\\n  }\\n  \\n  body {\\n    \").concat(removedBarSizeVariable, \": \").concat(gap, \"px;\\n  }\\n\");\n};\n/**\n * Removes page scrollbar and blocks page scroll when mounted\n */\nexport var RemoveScrollBar = function (props) {\n    var noRelative = props.noRelative, noImportant = props.noImportant, _a = props.gapMode, gapMode = _a === void 0 ? 'margin' : _a;\n    var gap = React.useMemo(function () { return getGapWidth(gapMode); }, [gapMode]);\n    return React.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? '!important' : '') });\n};\n","var passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n                return true;\n            },\n        });\n        // @ts-ignore\n        window.addEventListener('test', options, options);\n        // @ts-ignore\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\nexport var nonPassive = passiveSupported ? { passive: false } : false;\n","var alwaysContainsScroll = function (node) {\n    // textarea will always _contain_ scroll inside self. It only can be hidden\n    return node.tagName === 'TEXTAREA';\n};\nvar elementCanBeScrolled = function (node, overflow) {\n    var styles = window.getComputedStyle(node);\n    return (\n    // not-not-scrollable\n    styles[overflow] !== 'hidden' &&\n        // contains scroll inside self\n        !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === 'visible'));\n};\nvar elementCouldBeVScrolled = function (node) { return elementCanBeScrolled(node, 'overflowY'); };\nvar elementCouldBeHScrolled = function (node) { return elementCanBeScrolled(node, 'overflowX'); };\nexport var locationCouldBeScrolled = function (axis, node) {\n    var current = node;\n    do {\n        // Skip over shadow root\n        if (typeof ShadowRoot !== 'undefined' && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), s = _a[1], d = _a[2];\n            if (s > d) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== document.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n    ];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n    ];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function (axis, direction) {\n    /**\n     * If the element's direction is rtl (right-to-left), then scrollLeft is 0 when the scrollbar is at its rightmost position,\n     * and then increasingly negative as you scroll towards the end of the content.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n     */\n    return axis === 'h' && direction === 'rtl' ? -1 : 1;\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        target = target.parentNode;\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    if (isDeltaPositive && ((noOverscroll && availableScroll === 0) || (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && availableScrollTop === 0) || (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n","import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) { return x[0] === y[0] && x[1] === y[1]; };\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\"); };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(function () { return styleSingleton(); })[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\".concat(id));\n            var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\".concat(id)); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\".concat(id));\n                allow_1.forEach(function (el) { return el.classList.remove(\"allow-interactivity-\".concat(id)); });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if ('touches' in event && event.touches.length === 2) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        // allow horizontal touch move on Range inputs. They will not cause any scroll\n        if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n            return false;\n        }\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) { return e.name === event.type && e.target === event.target && deltaCompare(e.delta, delta); })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove,\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { gapMode: \"margin\" }) : null));\n}\n","import { exportSidecar } from 'use-sidecar';\nimport { RemoveScrollSideCar } from './SideEffect';\nimport { effectCar } from './medium';\nexport default exportSidecar(effectCar, RemoveScrollSideCar);\n","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScroll } from './UI';\nimport SideCar from './sidecar';\nvar ReactRemoveScroll = React.forwardRef(function (props, ref) { return (React.createElement(RemoveScroll, __assign({}, props, { ref: ref, sideCar: SideCar }))); });\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nexport default ReactRemoveScroll;\n","import type { FormEncType, FormMethod } from \"@remix-run/router\";\nimport type { RelativeRoutingType } from \"react-router\";\n\nexport const defaultMethod = \"get\";\nconst defaultEncType = \"application/x-www-form-urlencoded\";\n\nexport function isHtmlElement(object: any): object is HTMLElement {\n  return object != null && typeof object.tagName === \"string\";\n}\n\nexport function isButtonElement(object: any): object is HTMLButtonElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\n\nexport function isFormElement(object: any): object is HTMLFormElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\n\nexport function isInputElement(object: any): object is HTMLInputElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\n\ntype LimitedMouseEvent = Pick<\n  MouseEvent,\n  \"button\" | \"metaKey\" | \"altKey\" | \"ctrlKey\" | \"shiftKey\"\n>;\n\nfunction isModifiedEvent(event: LimitedMouseEvent) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport function shouldProcessLinkClick(\n  event: LimitedMouseEvent,\n  target?: string\n) {\n  return (\n    event.button === 0 && // Ignore everything but left clicks\n    (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n    !isModifiedEvent(event) // Ignore clicks with modifier keys\n  );\n}\n\nexport type ParamKeyValuePair = [string, string];\n\nexport type URLSearchParamsInit =\n  | string\n  | ParamKeyValuePair[]\n  | Record<string, string | string[]>\n  | URLSearchParams;\n\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nexport function createSearchParams(\n  init: URLSearchParamsInit = \"\"\n): URLSearchParams {\n  return new URLSearchParams(\n    typeof init === \"string\" ||\n    Array.isArray(init) ||\n    init instanceof URLSearchParams\n      ? init\n      : Object.keys(init).reduce((memo, key) => {\n          let value = init[key];\n          return memo.concat(\n            Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n          );\n        }, [] as ParamKeyValuePair[])\n  );\n}\n\nexport function getSearchParamsForLocation(\n  locationSearch: string,\n  defaultSearchParams: URLSearchParams | null\n) {\n  let searchParams = createSearchParams(locationSearch);\n\n  if (defaultSearchParams) {\n    for (let key of defaultSearchParams.keys()) {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    }\n  }\n\n  return searchParams;\n}\n\nexport interface SubmitOptions {\n  /**\n   * The HTTP method used to submit the form. Overrides `<form method>`.\n   * Defaults to \"GET\".\n   */\n  method?: FormMethod;\n\n  /**\n   * The action URL path used to submit the form. Overrides `<form action>`.\n   * Defaults to the path of the current route.\n   *\n   * Note: It is assumed the path is already resolved. If you need to resolve a\n   * relative path, use `useFormAction`.\n   */\n  action?: string;\n\n  /**\n   * The action URL used to submit the form. Overrides `<form encType>`.\n   * Defaults to \"application/x-www-form-urlencoded\".\n   */\n  encType?: FormEncType;\n\n  /**\n   * Set `true` to replace the current entry in the browser's history stack\n   * instead of creating a new one (i.e. stay on \"the same page\"). Defaults\n   * to `false`.\n   */\n  replace?: boolean;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * In browser-based environments, prevent resetting scroll after this\n   * navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n}\n\nexport function getFormSubmissionInfo(\n  target:\n    | HTMLFormElement\n    | HTMLButtonElement\n    | HTMLInputElement\n    | FormData\n    | URLSearchParams\n    | { [name: string]: string }\n    | null,\n  defaultAction: string,\n  options: SubmitOptions\n): {\n  url: URL;\n  method: string;\n  encType: string;\n  formData: FormData;\n} {\n  let method: string;\n  let action: string;\n  let encType: string;\n  let formData: FormData;\n\n  if (isFormElement(target)) {\n    let submissionTrigger: HTMLButtonElement | HTMLInputElement = (\n      options as any\n    ).submissionTrigger;\n\n    method = options.method || target.getAttribute(\"method\") || defaultMethod;\n    action = options.action || target.getAttribute(\"action\") || defaultAction;\n    encType =\n      options.encType || target.getAttribute(\"enctype\") || defaultEncType;\n\n    formData = new FormData(target);\n\n    if (submissionTrigger && submissionTrigger.name) {\n      formData.append(submissionTrigger.name, submissionTrigger.value);\n    }\n  } else if (\n    isButtonElement(target) ||\n    (isInputElement(target) &&\n      (target.type === \"submit\" || target.type === \"image\"))\n  ) {\n    let form = target.form;\n\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n\n    method =\n      options.method ||\n      target.getAttribute(\"formmethod\") ||\n      form.getAttribute(\"method\") ||\n      defaultMethod;\n    action =\n      options.action ||\n      target.getAttribute(\"formaction\") ||\n      form.getAttribute(\"action\") ||\n      defaultAction;\n    encType =\n      options.encType ||\n      target.getAttribute(\"formenctype\") ||\n      form.getAttribute(\"enctype\") ||\n      defaultEncType;\n\n    formData = new FormData(form);\n\n    // Include name + value from a <button>, appending in case the button name\n    // matches an existing input name\n    if (target.name) {\n      formData.append(target.name, target.value);\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or ` +\n        `<input type=\"submit|image\">`\n    );\n  } else {\n    method = options.method || defaultMethod;\n    action = options.action || defaultAction;\n    encType = options.encType || defaultEncType;\n\n    if (target instanceof FormData) {\n      formData = target;\n    } else {\n      formData = new FormData();\n\n      if (target instanceof URLSearchParams) {\n        for (let [name, value] of target) {\n          formData.append(name, value);\n        }\n      } else if (target != null) {\n        for (let name of Object.keys(target)) {\n          formData.append(name, target[name]);\n        }\n      }\n    }\n  }\n\n  let { protocol, host } = window.location;\n  let url = new URL(action, `${protocol}//${host}`);\n\n  return { url, method: method.toLowerCase(), encType, formData };\n}\n","/**\n * NOTE: If you refactor this to split up the modules into separate files,\n * you'll need to update the rollup config for react-router-dom-v5-compat.\n */\nimport * as React from \"react\";\nimport type {\n  NavigateOptions,\n  RelativeRoutingType,\n  RouteObject,\n  To,\n} from \"react-router\";\nimport {\n  Router,\n  createPath,\n  useHref,\n  useLocation,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useResolvedPath,\n  unstable_useBlocker as useBlocker,\n  UNSAFE_DataRouterContext as DataRouterContext,\n  UNSAFE_DataRouterStateContext as DataRouterStateContext,\n  UNSAFE_NavigationContext as NavigationContext,\n  UNSAFE_RouteContext as RouteContext,\n  UNSAFE_enhanceManualRouteObjects as enhanceManualRouteObjects,\n} from \"react-router\";\nimport type {\n  BrowserHistory,\n  Fetcher,\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  HashHistory,\n  History,\n  HydrationState,\n  Router as RemixRouter,\n} from \"@remix-run/router\";\nimport {\n  createRouter,\n  createBrowserHistory,\n  createHashHistory,\n  invariant,\n  joinPaths,\n  ErrorResponse,\n} from \"@remix-run/router\";\n\nimport type {\n  SubmitOptions,\n  ParamKeyValuePair,\n  URLSearchParamsInit,\n} from \"./dom\";\nimport {\n  createSearchParams,\n  defaultMethod,\n  getFormSubmissionInfo,\n  getSearchParamsForLocation,\n  shouldProcessLinkClick,\n} from \"./dom\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Re-exports\n////////////////////////////////////////////////////////////////////////////////\n\nexport type {\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  ParamKeyValuePair,\n  SubmitOptions,\n  URLSearchParamsInit,\n};\nexport { createSearchParams };\n\n// Note: Keep in sync with react-router exports!\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  unstable_Blocker,\n  unstable_BlockerFunction,\n  DataRouteMatch,\n  DataRouteObject,\n  Fetcher,\n  Hash,\n  IndexRouteObject,\n  IndexRouteProps,\n  JsonFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  NonIndexRouteObject,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  To,\n} from \"react-router\";\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n  createMemoryRouter,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  unstable_useBlocker,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n} from \"react-router\";\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  UNSAFE_DataRouterContext,\n  UNSAFE_DataRouterStateContext,\n  UNSAFE_NavigationContext,\n  UNSAFE_LocationContext,\n  UNSAFE_RouteContext,\n  UNSAFE_enhanceManualRouteObjects,\n} from \"react-router\";\n//#endregion\n\ndeclare global {\n  var __staticRouterHydrationData: HydrationState | undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Routers\n////////////////////////////////////////////////////////////////////////////////\n\nexport function createBrowserRouter(\n  routes: RouteObject[],\n  opts?: {\n    basename?: string;\n    hydrationData?: HydrationState;\n    window?: Window;\n  }\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes: enhanceManualRouteObjects(routes),\n  }).initialize();\n}\n\nexport function createHashRouter(\n  routes: RouteObject[],\n  opts?: {\n    basename?: string;\n    hydrationData?: HydrationState;\n    window?: Window;\n  }\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes: enhanceManualRouteObjects(routes),\n  }).initialize();\n}\n\nfunction parseHydrationData(): HydrationState | undefined {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors),\n    };\n  }\n  return state;\n}\n\nfunction deserializeErrors(\n  errors: RemixRouter[\"state\"][\"errors\"]\n): RemixRouter[\"state\"][\"errors\"] {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized: RemixRouter[\"state\"][\"errors\"] = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponse(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      let error = new Error(val.message);\n      // Wipe away the client-side stack trace.  Nothing to fill it in with\n      // because we don't serialize SSR stack traces for security reasons\n      error.stack = \"\";\n      serialized[key] = error;\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n\nexport interface BrowserRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nexport function BrowserRouter({\n  basename,\n  children,\n  window,\n}: BrowserRouterProps) {\n  let historyRef = React.useRef<BrowserHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HashRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nexport function HashRouter({ basename, children, window }: HashRouterProps) {\n  let historyRef = React.useRef<HashHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HistoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  history: History;\n}\n\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter({ basename, children, history }: HistoryRouterProps) {\n  const [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nif (__DEV__) {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\n\nexport { HistoryRouter as unstable_HistoryRouter };\n\nexport interface LinkProps\n  extends Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> {\n  reloadDocument?: boolean;\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  to: To;\n}\n\nconst isBrowser =\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\";\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  function LinkWithRef(\n    {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      ...rest\n    },\n    ref\n  ) {\n    // `location` is the unaltered href we will render in the <a> tag for absolute URLs\n    let location = typeof to === \"string\" ? to : createPath(to);\n    let isAbsolute =\n      /^[a-z+]+:\\/\\//i.test(location) || location.startsWith(\"//\");\n\n    // Location to use in the click handler\n    let navigationLocation = location;\n    let isExternal = false;\n    if (isBrowser && isAbsolute) {\n      let currentUrl = new URL(window.location.href);\n      let targetUrl = location.startsWith(\"//\")\n        ? new URL(currentUrl.protocol + location)\n        : new URL(location);\n      if (targetUrl.origin === currentUrl.origin) {\n        // Strip the protocol/origin for same-origin absolute URLs\n        navigationLocation =\n          targetUrl.pathname + targetUrl.search + targetUrl.hash;\n      } else {\n        isExternal = true;\n      }\n    }\n\n    // `href` is what we render in the <a> tag for relative URLs\n    let href = useHref(navigationLocation, { relative });\n\n    let internalOnClick = useLinkClickHandler(navigationLocation, {\n      replace,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n    });\n    function handleClick(\n      event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n    ) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n\n    return (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      <a\n        {...rest}\n        href={isAbsolute ? location : href}\n        onClick={isExternal || reloadDocument ? onClick : handleClick}\n        ref={ref}\n        target={target}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Link.displayName = \"Link\";\n}\n\nexport interface NavLinkProps\n  extends Omit<LinkProps, \"className\" | \"style\" | \"children\"> {\n  children?:\n    | React.ReactNode\n    | ((props: { isActive: boolean; isPending: boolean }) => React.ReactNode);\n  caseSensitive?: boolean;\n  className?:\n    | string\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => string | undefined);\n  end?: boolean;\n  style?:\n    | React.CSSProperties\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => React.CSSProperties | undefined);\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nexport const NavLink = React.forwardRef<HTMLAnchorElement, NavLinkProps>(\n  function NavLinkWithRef(\n    {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      children,\n      ...rest\n    },\n    ref\n  ) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React.useContext(DataRouterStateContext);\n    let { navigator } = React.useContext(NavigationContext);\n\n    let toPathname = navigator.encodeLocation\n      ? navigator.encodeLocation(path).pathname\n      : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname =\n      routerState && routerState.navigation && routerState.navigation.location\n        ? routerState.navigation.location.pathname\n        : null;\n\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname\n        ? nextLocationPathname.toLowerCase()\n        : null;\n      toPathname = toPathname.toLowerCase();\n    }\n\n    let isActive =\n      locationPathname === toPathname ||\n      (!end &&\n        locationPathname.startsWith(toPathname) &&\n        locationPathname.charAt(toPathname.length) === \"/\");\n\n    let isPending =\n      nextLocationPathname != null &&\n      (nextLocationPathname === toPathname ||\n        (!end &&\n          nextLocationPathname.startsWith(toPathname) &&\n          nextLocationPathname.charAt(toPathname.length) === \"/\"));\n\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n\n    let className: string | undefined;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp({ isActive, isPending });\n    } else {\n      // If the className prop is not a function, we use a default `active`\n      // class for <NavLink />s that are active. In v5 `active` was the default\n      // value for `activeClassName`, but we are removing that API and can still\n      // use the old default behavior for a cleaner upgrade path and keep the\n      // simple styling rules working as they currently do.\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n      ]\n        .filter(Boolean)\n        .join(\" \");\n    }\n\n    let style =\n      typeof styleProp === \"function\"\n        ? styleProp({ isActive, isPending })\n        : styleProp;\n\n    return (\n      <Link\n        {...rest}\n        aria-current={ariaCurrent}\n        className={className}\n        ref={ref}\n        style={style}\n        to={to}\n      >\n        {typeof children === \"function\"\n          ? children({ isActive, isPending })\n          : children}\n      </Link>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n}\n\nexport interface FormProps extends React.FormHTMLAttributes<HTMLFormElement> {\n  /**\n   * The HTTP verb to use when the form is submit. Supports \"get\", \"post\",\n   * \"put\", \"delete\", \"patch\".\n   */\n  method?: FormMethod;\n\n  /**\n   * Normal `<form action>` but supports React Router's relative paths.\n   */\n  action?: string;\n\n  /**\n   * Forces a full document navigation instead of a fetch.\n   */\n  reloadDocument?: boolean;\n\n  /**\n   * Replaces the current entry in the browser history stack when the form\n   * navigates. Use this if you don't want the user to be able to click \"back\"\n   * to the page with the form on it.\n   */\n  replace?: boolean;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * Prevent the scroll position from resetting to the top of the viewport on\n   * completion of the navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n\n  /**\n   * A function to call when the form is submitted. If you call\n   * `event.preventDefault()` then this form will not do anything.\n   */\n  onSubmit?: React.FormEventHandler<HTMLFormElement>;\n}\n\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nexport const Form = React.forwardRef<HTMLFormElement, FormProps>(\n  (props, ref) => {\n    return <FormImpl {...props} ref={ref} />;\n  }\n);\n\nif (__DEV__) {\n  Form.displayName = \"Form\";\n}\n\ntype HTMLSubmitEvent = React.BaseSyntheticEvent<\n  SubmitEvent,\n  Event,\n  HTMLFormElement\n>;\n\ntype HTMLFormSubmitter = HTMLButtonElement | HTMLInputElement;\n\ninterface FormImplProps extends FormProps {\n  fetcherKey?: string;\n  routeId?: string;\n}\n\nconst FormImpl = React.forwardRef<HTMLFormElement, FormImplProps>(\n  (\n    {\n      reloadDocument,\n      replace,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      fetcherKey,\n      routeId,\n      relative,\n      preventScrollReset,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    let submit = useSubmitImpl(fetcherKey, routeId);\n    let formMethod: FormMethod =\n      method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let formAction = useFormAction(action, { relative });\n    let submitHandler: React.FormEventHandler<HTMLFormElement> = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n\n      let submitter = (event as unknown as HTMLSubmitEvent).nativeEvent\n        .submitter as HTMLFormSubmitter | null;\n\n      let submitMethod =\n        (submitter?.getAttribute(\"formmethod\") as FormMethod | undefined) ||\n        method;\n\n      submit(submitter || event.currentTarget, {\n        method: submitMethod,\n        replace,\n        relative,\n        preventScrollReset,\n      });\n    };\n\n    return (\n      <form\n        ref={forwardedRef}\n        method={formMethod}\n        action={formAction}\n        onSubmit={reloadDocument ? onSubmit : submitHandler}\n        {...props}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  FormImpl.displayName = \"FormImpl\";\n}\n\nexport interface ScrollRestorationProps {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n}\n\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nexport function ScrollRestoration({\n  getKey,\n  storageKey,\n}: ScrollRestorationProps) {\n  useScrollRestoration({ getKey, storageKey });\n  return null;\n}\n\nif (__DEV__) {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\n\nenum DataRouterHook {\n  UseScrollRestoration = \"useScrollRestoration\",\n  UseSubmitImpl = \"useSubmitImpl\",\n  UseFetcher = \"useFetcher\",\n}\n\nenum DataRouterStateHook {\n  UseFetchers = \"useFetchers\",\n  UseScrollRestoration = \"useScrollRestoration\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nexport function useLinkClickHandler<E extends Element = HTMLAnchorElement>(\n  to: To,\n  {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n  }: {\n    target?: React.HTMLAttributeAnchorTarget;\n    replace?: boolean;\n    state?: any;\n    preventScrollReset?: boolean;\n    relative?: RelativeRoutingType;\n  } = {}\n): (event: React.MouseEvent<E, MouseEvent>) => void {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n\n  return React.useCallback(\n    (event: React.MouseEvent<E, MouseEvent>) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n\n        // If the URL hasn't changed, a regular <a> will do a replace instead of\n        // a push, so do the same here unless the replace prop is explicitly set\n        let replace =\n          replaceProp !== undefined\n            ? replaceProp\n            : createPath(location) === createPath(path);\n\n        navigate(to, { replace, state, preventScrollReset, relative });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n    ]\n  );\n}\n\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nexport function useSearchParams(\n  defaultInit?: URLSearchParamsInit\n): [URLSearchParams, SetURLSearchParams] {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not ` +\n      `support the URLSearchParams API. If you need to support Internet ` +\n      `Explorer 11, we recommend you load a polyfill such as ` +\n      `https://github.com/ungap/url-search-params\\n\\n` +\n      `If you're unsure how to load polyfills, we recommend you check out ` +\n      `https://polyfill.io/v3/ which provides some recommendations about how ` +\n      `to load polyfills only for users that need them, instead of for every ` +\n      `user.`\n  );\n\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n\n  let location = useLocation();\n  let searchParams = React.useMemo(\n    () =>\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      ),\n    [location.search]\n  );\n\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback<SetURLSearchParams>(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n\n  return [searchParams, setSearchParams];\n}\n\ntype SetURLSearchParams = (\n  nextInit?:\n    | URLSearchParamsInit\n    | ((prev: URLSearchParams) => URLSearchParamsInit),\n  navigateOpts?: NavigateOptions\n) => void;\n\ntype SubmitTarget =\n  | HTMLFormElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | FormData\n  | URLSearchParams\n  | { [name: string]: string }\n  | null;\n\n/**\n * Submits a HTML `<form>` to the server without reloading the page.\n */\nexport interface SubmitFunction {\n  (\n    /**\n     * Specifies the `<form>` to be submitted to the server, a specific\n     * `<button>` or `<input type=\"submit\">` to use to submit the form, or some\n     * arbitrary data to submit.\n     *\n     * Note: When using a `<button>` its `name` and `value` will also be\n     * included in the form data that is submitted.\n     */\n    target: SubmitTarget,\n\n    /**\n     * Options that override the `<form>`'s own attributes. Required when\n     * submitting arbitrary data without a backing `<form>`.\n     */\n    options?: SubmitOptions\n  ): void;\n}\n\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nexport function useSubmit(): SubmitFunction {\n  return useSubmitImpl();\n}\n\nfunction useSubmitImpl(fetcherKey?: string, routeId?: string): SubmitFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseSubmitImpl);\n  let defaultAction = useFormAction();\n\n  return React.useCallback(\n    (target, options = {}) => {\n      if (typeof document === \"undefined\") {\n        throw new Error(\n          \"You are calling submit during the server render. \" +\n            \"Try calling submit within a `useEffect` or callback instead.\"\n        );\n      }\n\n      let { method, encType, formData, url } = getFormSubmissionInfo(\n        target,\n        defaultAction,\n        options\n      );\n\n      let href = url.pathname + url.search;\n      let opts = {\n        replace: options.replace,\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        formMethod: method as FormMethod,\n        formEncType: encType as FormEncType,\n      };\n      if (fetcherKey) {\n        invariant(routeId != null, \"No routeId available for useFetcher()\");\n        router.fetch(fetcherKey, routeId, href, opts);\n      } else {\n        router.navigate(href, opts);\n      }\n    },\n    [defaultAction, router, fetcherKey, routeId]\n  );\n}\n\nexport function useFormAction(\n  action?: string,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  let { basename } = React.useContext(NavigationContext);\n  let routeContext = React.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n\n  // Previously we set the default action to \".\". The problem with this is that\n  // `useResolvedPath(\".\")` excludes search params and the hash of the resolved\n  // URL. This is the intended behavior of when \".\" is specifically provided as\n  // the form action, but inconsistent w/ browsers when the action is omitted.\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to these directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    // or hash\n    path.search = location.search;\n    path.hash = location.hash;\n\n    // When grabbing search params from the URL, remove the automatically\n    // inserted ?index param so we match the useResolvedPath search behavior\n    // which would not include ?index\n    if (match.route.index) {\n      let params = new URLSearchParams(path.search);\n      params.delete(\"index\");\n      path.search = params.toString() ? `?${params.toString()}` : \"\";\n    }\n  }\n\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\nfunction createFetcherForm(fetcherKey: string, routeId: string) {\n  let FetcherForm = React.forwardRef<HTMLFormElement, FormProps>(\n    (props, ref) => {\n      return (\n        <FormImpl\n          {...props}\n          ref={ref}\n          fetcherKey={fetcherKey}\n          routeId={routeId}\n        />\n      );\n    }\n  );\n  if (__DEV__) {\n    FetcherForm.displayName = \"fetcher.Form\";\n  }\n  return FetcherForm;\n}\n\nlet fetcherId = 0;\n\nexport type FetcherWithComponents<TData> = Fetcher<TData> & {\n  Form: ReturnType<typeof createFetcherForm>;\n  submit: (\n    target: SubmitTarget,\n    // Fetchers cannot replace/preventScrollReset because they are not\n    // navigation events\n    options?: Omit<SubmitOptions, \"replace\" | \"preventScrollReset\">\n  ) => void;\n  load: (href: string) => void;\n};\n\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nexport function useFetcher<TData = any>(): FetcherWithComponents<TData> {\n  let { router } = useDataRouterContext(DataRouterHook.UseFetcher);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n\n  let [fetcherKey] = React.useState(() => String(++fetcherId));\n  let [Form] = React.useState(() => {\n    invariant(routeId, `No routeId available for fetcher.Form()`);\n    return createFetcherForm(fetcherKey, routeId);\n  });\n  let [load] = React.useState(() => (href: string) => {\n    invariant(router, \"No router available for fetcher.load()\");\n    invariant(routeId, \"No routeId available for fetcher.load()\");\n    router.fetch(fetcherKey, routeId, href);\n  });\n  let submit = useSubmitImpl(fetcherKey, routeId);\n\n  let fetcher = router.getFetcher<TData>(fetcherKey);\n\n  let fetcherWithComponents = React.useMemo(\n    () => ({\n      Form,\n      submit,\n      load,\n      ...fetcher,\n    }),\n    [fetcher, Form, submit, load]\n  );\n\n  React.useEffect(() => {\n    // Is this busted when the React team gets real weird and calls effects\n    // twice on mount?  We really just need to garbage collect here when this\n    // fetcher is no longer around.\n    return () => {\n      if (!router) {\n        console.warn(`No fetcher available to clean up from useFetcher()`);\n        return;\n      }\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n\n  return fetcherWithComponents;\n}\n\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nexport function useFetchers(): Fetcher[] {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return [...state.fetchers.values()];\n}\n\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions: Record<string, number> = {};\n\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration({\n  getKey,\n  storageKey,\n}: {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n} = {}) {\n  let { router } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState(\n    DataRouterStateHook.UseScrollRestoration\n  );\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n\n  // Save positions on pagehide\n  usePageHide(\n    React.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = (getKey ? getKey(location, matches) : null) || location.key;\n        savedScrollPositions[key] = window.scrollY;\n      }\n      sessionStorage.setItem(\n        storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n        JSON.stringify(savedScrollPositions)\n      );\n      window.history.scrollRestoration = \"auto\";\n    }, [storageKey, getKey, navigation.state, location, matches])\n  );\n\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, getKey]);\n\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(location.hash.slice(1));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nexport function useBeforeUnload(\n  callback: (event: BeforeUnloadEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(\n  callback: (event: PageTransitionEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt({ when, message }: { when: boolean; message: string }) {\n  let blocker = useBlocker(when);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n}\n\nexport { usePrompt as unstable_usePrompt };\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Utils\n////////////////////////////////////////////////////////////////////////////////\n\nfunction warning(cond: boolean, message: string): void {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging React Router!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n//#endregion\n\nexport { useScrollRestoration as UNSAFE_useScrollRestoration };\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect =\n    /*#__PURE__*/\n    function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ToastContainer = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactTransitionGroup = require('react-transition-group');\n\nvar _ToastElement = require('./ToastElement');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n/** @jsx jsx */\n\nvar placements = {\n  'top-left': { top: 0, left: 0 },\n  'top-center': { top: 0, left: '50%', transform: 'translateX(-50%)' },\n  'top-right': { top: 0, right: 0 },\n  'bottom-left': { bottom: 0, left: 0 },\n  'bottom-center': { bottom: 0, left: '50%', transform: 'translateX(-50%)' },\n  'bottom-right': { bottom: 0, right: 0 }\n};\n\nvar ToastContainer = function ToastContainer(_ref) {\n  var hasToasts = _ref.hasToasts,\n      placement = _ref.placement,\n      props = _objectWithoutProperties(_ref, ['hasToasts', 'placement']);\n\n  return (0, _core.jsx)('div', _extends({\n    className: 'react-toast-notifications__container',\n    css: _extends({\n      boxSizing: 'border-box',\n      maxHeight: '100%',\n      maxWidth: '100%',\n      overflow: 'hidden',\n      padding: _ToastElement.gutter,\n      pointerEvents: hasToasts ? null : 'none',\n      position: 'fixed',\n      zIndex: 1000\n    }, placements[placement])\n  }, props));\n};\nexports.ToastContainer = ToastContainer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ToastController = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactTransitionGroup = require('react-transition-group');\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultAutoDismissTimeout = 5000;\n\nvar TimerType = {\n  clear: _utils.NOOP,\n  pause: _utils.NOOP,\n  resume: _utils.NOOP\n};\n\nfunction Timer(callback, delay) {\n  var timerId = void 0;\n  var start = delay;\n  var remaining = delay;\n\n  this.clear = function () {\n    clearTimeout(timerId);\n  };\n\n  this.pause = function () {\n    clearTimeout(timerId);\n    remaining -= Date.now() - start;\n  };\n\n  this.resume = function () {\n    start = Date.now();\n    clearTimeout(timerId);\n    timerId = setTimeout(callback, remaining);\n  };\n\n  this.resume();\n}\n\nvar ToastController = exports.ToastController = function (_Component) {\n  _inherits(ToastController, _Component);\n\n  function ToastController() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ToastController);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ToastController.__proto__ || Object.getPrototypeOf(ToastController)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      isRunning: Boolean(_this.props.autoDismiss)\n    }, _this.startTimer = function () {\n      var _this$props = _this.props,\n          autoDismiss = _this$props.autoDismiss,\n          autoDismissTimeout = _this$props.autoDismissTimeout,\n          onDismiss = _this$props.onDismiss;\n\n\n      if (!autoDismiss) return;\n\n      _this.setState({ isRunning: true });\n      _this.timeout = new Timer(onDismiss, autoDismissTimeout);\n    }, _this.clearTimer = function () {\n      if (_this.timeout) _this.timeout.clear();\n    }, _this.onMouseEnter = function () {\n      _this.setState({ isRunning: false }, function () {\n        if (_this.timeout) _this.timeout.pause();\n      });\n    }, _this.onMouseLeave = function () {\n      _this.setState({ isRunning: true }, function () {\n        if (_this.timeout) _this.timeout.resume();\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ToastController, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.startTimer();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.autoDismiss !== this.props.autoDismiss) {\n        var startOrClear = this.props.autoDismiss ? this.startTimer : this.clearTimer;\n\n        startOrClear();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.clearTimer();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          autoDismiss = _props.autoDismiss,\n          autoDismissTimeout = _props.autoDismissTimeout,\n          Toast = _props.component,\n          props = _objectWithoutProperties(_props, ['autoDismiss', 'autoDismissTimeout', 'component']);\n\n      var isRunning = this.state.isRunning;\n\n      // NOTE: conditions here so methods can be clean\n\n      var handleMouseEnter = autoDismiss ? this.onMouseEnter : _utils.NOOP;\n      var handleMouseLeave = autoDismiss ? this.onMouseLeave : _utils.NOOP;\n\n      return _react2.default.createElement(Toast, _extends({\n        autoDismiss: autoDismiss,\n        autoDismissTimeout: autoDismissTimeout,\n        isRunning: isRunning,\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave\n      }, props));\n    }\n  }]);\n\n  return ToastController;\n}(_react.Component);\n\nToastController.defaultProps = {\n  autoDismiss: false\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultToast = exports.shrinkKeyframes = exports.toastWidth = exports.gutter = exports.borderRadius = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _templateObject = _taggedTemplateLiteral(['from { height: 100%; } to { height: 0% }'], ['from { height: 100%; } to { height: 0% }']);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@emotion/core');\n\nvar _icons = require('./icons');\n\nvar _colors = require('./colors');\n\nvar colors = _interopRequireWildcard(_colors);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n/** @jsx jsx */\n\n// common\nvar borderRadius = exports.borderRadius = 4;\nvar gutter = exports.gutter = 8;\nvar toastWidth = exports.toastWidth = 360;\nvar shrinkKeyframes = exports.shrinkKeyframes = (0, _core.keyframes)(_templateObject);\n\n// a11y helper\nvar A11yText = function A11yText(_ref) {\n  var Tag = _ref.tag,\n      props = _objectWithoutProperties(_ref, ['tag']);\n\n  return (0, _core.jsx)(Tag, _extends({\n    css: {\n      border: 0,\n      clip: 'rect(1px, 1px, 1px, 1px)',\n      height: 1,\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      whiteSpace: 'nowrap',\n      width: 1\n    }\n  }, props));\n};\nA11yText.defaultProps = {\n  tag: 'span'\n};\n\n// default appearances\n\nvar appearances = {\n  success: {\n    icon: _icons.CheckIcon,\n    text: colors.G500,\n    fg: colors.G300,\n    bg: colors.G50\n  },\n  error: {\n    icon: _icons.FlameIcon,\n    text: colors.R500,\n    fg: colors.R300,\n    bg: colors.R50\n  },\n  warning: {\n    icon: _icons.AlertIcon,\n    text: colors.Y500,\n    fg: colors.Y300,\n    bg: colors.Y50\n  },\n  info: {\n    icon: _icons.InfoIcon,\n    text: colors.N400,\n    fg: colors.B200,\n    bg: 'white'\n  }\n};\n\n\nvar Button = function Button(props) {\n  return (0, _core.jsx)('div', _extends({\n    role: 'button',\n    className: 'react-toast-notifications__toast__dismiss-button',\n    css: {\n      cursor: 'pointer',\n      flexShrink: 0,\n      opacity: 0.5,\n      padding: gutter + 'px ' + gutter * 1.5 + 'px',\n      transition: 'opacity 150ms',\n\n      ':hover': { opacity: 1 }\n    }\n  }, props));\n};\n\nvar Content = function Content(props) {\n  return (0, _core.jsx)('div', _extends({\n    className: 'react-toast-notifications__toast__content',\n    css: {\n      flexGrow: 1,\n      fontSize: 14,\n      lineHeight: 1.4,\n      minHeight: 40,\n      padding: gutter + 'px ' + gutter * 1.5 + 'px'\n    }\n  }, props));\n};\n\n// NOTE: invoke animation when NOT `autoDismiss` with opacity of 0 to avoid a\n// paint bug in FireFox.\n// https://bugzilla.mozilla.org/show_bug.cgi?id=625289\nvar Countdown = function Countdown(_ref2) {\n  var autoDismissTimeout = _ref2.autoDismissTimeout,\n      opacity = _ref2.opacity,\n      isRunning = _ref2.isRunning,\n      props = _objectWithoutProperties(_ref2, ['autoDismissTimeout', 'opacity', 'isRunning']);\n\n  return (0, _core.jsx)('div', _extends({\n    className: 'react-toast-notifications__toast__countdown',\n    css: {\n      animation: shrinkKeyframes + ' ' + autoDismissTimeout + 'ms linear',\n      animationPlayState: isRunning ? 'running' : 'paused',\n      backgroundColor: 'rgba(0,0,0,0.1)',\n      bottom: 0,\n      height: 0,\n      left: 0,\n      opacity: opacity,\n      position: 'absolute',\n      width: '100%'\n    }\n  }, props));\n};\n\nvar Icon = function Icon(_ref3) {\n  var appearance = _ref3.appearance,\n      autoDismiss = _ref3.autoDismiss,\n      autoDismissTimeout = _ref3.autoDismissTimeout,\n      isRunning = _ref3.isRunning;\n\n  var meta = appearances[appearance];\n  var Glyph = meta.icon;\n\n  return (0, _core.jsx)(\n    'div',\n    {\n      className: 'react-toast-notifications__toast__icon-wrapper',\n      css: {\n        backgroundColor: meta.fg,\n        borderTopLeftRadius: borderRadius,\n        borderBottomLeftRadius: borderRadius,\n        color: meta.bg,\n        flexShrink: 0,\n        paddingBottom: gutter,\n        paddingTop: gutter,\n        position: 'relative',\n        overflow: 'hidden',\n        textAlign: 'center',\n        width: 30\n      }\n    },\n    (0, _core.jsx)(Countdown, {\n      opacity: autoDismiss ? 1 : 0,\n      autoDismissTimeout: autoDismissTimeout,\n      isRunning: isRunning\n    }),\n    (0, _core.jsx)(Glyph, {\n      className: 'react-toast-notifications__toast__icon',\n      css: { position: 'relative', zIndex: 1 }\n    })\n  );\n};\n\n// Transitions\n// ------------------------------\n\nfunction getTranslate(placement) {\n  var pos = placement.split('-');\n  var relevantPlacement = pos[1] === 'center' ? pos[0] : pos[1];\n  var translateMap = {\n    right: 'translate3d(120%, 0, 0)',\n    left: 'translate3d(-120%, 0, 0)',\n    bottom: 'translate3d(0, 120%, 0)',\n    top: 'translate3d(0, -120%, 0)'\n  };\n\n  return translateMap[relevantPlacement];\n}\n\nvar toastStates = function toastStates(placement) {\n  return {\n    entering: { transform: getTranslate(placement) },\n    entered: { transform: 'translate3d(0,0,0)' },\n    exiting: { transform: 'scale(0.66)', opacity: 0 },\n    exited: { transform: 'scale(0.66)', opacity: 0 }\n  };\n};\n\nvar ToastElement = function ToastElement(_ref4) {\n  var appearance = _ref4.appearance,\n      placement = _ref4.placement,\n      transitionDuration = _ref4.transitionDuration,\n      transitionState = _ref4.transitionState,\n      props = _objectWithoutProperties(_ref4, ['appearance', 'placement', 'transitionDuration', 'transitionState']);\n\n  var _useState = (0, _react.useState)('auto'),\n      _useState2 = _slicedToArray(_useState, 2),\n      height = _useState2[0],\n      setHeight = _useState2[1];\n\n  var elementRef = (0, _react.useRef)(null);\n\n  (0, _react.useEffect)(function () {\n    if (transitionState === 'entered') {\n      var el = elementRef.current;\n      setHeight(el.offsetHeight + gutter);\n    }\n    if (transitionState === 'exiting') {\n      setHeight(0);\n    }\n  }, [transitionState]);\n\n  return (0, _core.jsx)(\n    'div',\n    {\n      ref: elementRef,\n      style: { height: height },\n      css: {\n        transition: 'height ' + (transitionDuration - 100) + 'ms 100ms'\n      }\n    },\n    (0, _core.jsx)('div', _extends({\n      className: 'react-toast-notifications__toast react-toast-notifications__toast--' + appearance,\n      css: _extends({\n        backgroundColor: appearances[appearance].bg,\n        borderRadius: borderRadius,\n        boxShadow: '0 3px 8px rgba(0, 0, 0, 0.175)',\n        color: appearances[appearance].text,\n        display: 'flex',\n        marginBottom: gutter,\n        maxWidth: '100%',\n        transition: 'transform ' + transitionDuration + 'ms cubic-bezier(0.2, 0, 0, 1), opacity ' + transitionDuration + 'ms',\n        width: toastWidth\n      }, toastStates(placement)[transitionState])\n    }, props))\n  );\n};\n\n// ==============================\n// DefaultToast\n// ==============================\n\nvar DefaultToast = function DefaultToast(_ref5) {\n  var _ref5$appearance = _ref5.appearance,\n      appearance = _ref5$appearance === undefined ? 'info' : _ref5$appearance,\n      autoDismiss = _ref5.autoDismiss,\n      autoDismissTimeout = _ref5.autoDismissTimeout,\n      children = _ref5.children,\n      isRunning = _ref5.isRunning,\n      onDismiss = _ref5.onDismiss,\n      placement = _ref5.placement,\n      transitionDuration = _ref5.transitionDuration,\n      transitionState = _ref5.transitionState,\n      onMouseEnter = _ref5.onMouseEnter,\n      onMouseLeave = _ref5.onMouseLeave,\n      otherProps = _objectWithoutProperties(_ref5, ['appearance', 'autoDismiss', 'autoDismissTimeout', 'children', 'isRunning', 'onDismiss', 'placement', 'transitionDuration', 'transitionState', 'onMouseEnter', 'onMouseLeave']);\n\n  return (0, _core.jsx)(\n    ToastElement,\n    _extends({\n      appearance: appearance,\n      placement: placement,\n      transitionState: transitionState,\n      transitionDuration: transitionDuration,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave\n    }, otherProps),\n    (0, _core.jsx)(Icon, {\n      appearance: appearance,\n      autoDismiss: autoDismiss,\n      autoDismissTimeout: autoDismissTimeout,\n      isRunning: isRunning\n    }),\n    (0, _core.jsx)(\n      Content,\n      null,\n      children\n    ),\n    onDismiss ? (0, _core.jsx)(\n      Button,\n      { onClick: onDismiss },\n      (0, _core.jsx)(_icons.CloseIcon, { className: 'react-toast-notifications__toast__dismiss-icon' }),\n      (0, _core.jsx)(\n        A11yText,\n        { className: 'react-toast-notifications__toast__dismiss-text' },\n        'Close'\n      )\n    ) : null\n  );\n};\n\nexports.DefaultToast = DefaultToast;\nDefaultToast.defaultProps = {\n  onDismiss: _utils.NOOP\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useToasts = exports.withToastManager = exports.ToastConsumer = exports.ToastProvider = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactTransitionGroup = require('react-transition-group');\n\nvar _ToastController = require('./ToastController');\n\nvar _ToastContainer = require('./ToastContainer');\n\nvar _ToastElement = require('./ToastElement');\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultComponents = { Toast: _ToastElement.DefaultToast, ToastContainer: _ToastContainer.ToastContainer };\n\n// $FlowFixMe `createContext`\nvar ToastContext = _react2.default.createContext();\nvar Consumer = ToastContext.Consumer,\n    Provider = ToastContext.Provider;\n\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n// Provider\n// ==============================\n\nvar ToastProvider = exports.ToastProvider = function (_Component) {\n  _inherits(ToastProvider, _Component);\n\n  function ToastProvider() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ToastProvider);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ToastProvider.__proto__ || Object.getPrototypeOf(ToastProvider)).call.apply(_ref, [this].concat(args))), _this), _this.state = { toasts: [] }, _this.has = function (id) {\n      if (!_this.state.toasts.length) {\n        return false;\n      }\n\n      return Boolean(_this.state.toasts.filter(function (t) {\n        return t.id === id;\n      }).length);\n    }, _this.onDismiss = function (id) {\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _utils.NOOP;\n      return function () {\n        cb(id);\n        _this.remove(id);\n      };\n    }, _this.add = function (content) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _utils.NOOP;\n\n      var id = options.id ? options.id : (0, _utils.generateUEID)();\n      var callback = function callback() {\n        return cb(id);\n      };\n\n      // bail if a toast exists with this ID\n      if (_this.has(id)) {\n        return;\n      }\n\n      // update the toast stack\n      _this.setState(function (state) {\n        var newToast = _extends({ content: content, id: id }, options);\n        var toasts = _this.props.newestOnTop ? [newToast].concat(_toConsumableArray(state.toasts)) : [].concat(_toConsumableArray(state.toasts), [newToast]);\n\n        return { toasts: toasts };\n      }, callback);\n\n      // consumer may want to do something with the generated ID (and not use the callback)\n      return id;\n    }, _this.remove = function (id) {\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _utils.NOOP;\n\n      var callback = function callback() {\n        return cb(id);\n      };\n\n      // bail if NO toasts exists with this ID\n      if (!_this.has(id)) {\n        return;\n      }\n\n      _this.setState(function (state) {\n        var toasts = state.toasts.filter(function (t) {\n          return t.id !== id;\n        });\n        return { toasts: toasts };\n      }, callback);\n    }, _this.removeAll = function () {\n      if (!_this.state.toasts.length) {\n        return;\n      }\n\n      _this.state.toasts.forEach(function (t) {\n        return _this.remove(t.id);\n      });\n    }, _this.update = function (id) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _utils.NOOP;\n\n      var callback = function callback() {\n        return cb(id);\n      };\n\n      // bail if NO toasts exists with this ID\n      if (!_this.has(id)) {\n        return;\n      }\n\n      // update the toast stack\n      _this.setState(function (state) {\n        var old = state.toasts;\n        var i = old.findIndex(function (t) {\n          return t.id === id;\n        });\n        var updatedToast = _extends({}, old[i], options);\n        var toasts = [].concat(_toConsumableArray(old.slice(0, i)), [updatedToast], _toConsumableArray(old.slice(i + 1)));\n\n        return { toasts: toasts };\n      }, callback);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  // Internal Helpers\n  // ------------------------------\n\n  // Public API\n  // ------------------------------\n\n  _createClass(ToastProvider, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          inheritedAutoDismiss = _props.autoDismiss,\n          autoDismissTimeout = _props.autoDismissTimeout,\n          children = _props.children,\n          components = _props.components,\n          placement = _props.placement,\n          portalTargetSelector = _props.portalTargetSelector,\n          transitionDuration = _props.transitionDuration;\n\n      var _defaultComponents$co = _extends({}, defaultComponents, components),\n          Toast = _defaultComponents$co.Toast,\n          ToastContainer = _defaultComponents$co.ToastContainer;\n\n      var add = this.add,\n          remove = this.remove,\n          removeAll = this.removeAll,\n          update = this.update;\n\n      var toasts = Object.freeze(this.state.toasts);\n\n      var hasToasts = Boolean(toasts.length);\n      var portalTarget = canUseDOM ? portalTargetSelector ? document.querySelector(portalTargetSelector) : document.body : null; // appease flow\n\n      return _react2.default.createElement(\n        Provider,\n        { value: { add: add, remove: remove, removeAll: removeAll, update: update, toasts: toasts } },\n        children,\n        portalTarget ? (0, _reactDom.createPortal)(_react2.default.createElement(\n          ToastContainer,\n          { placement: placement, hasToasts: hasToasts },\n          _react2.default.createElement(\n            _reactTransitionGroup.TransitionGroup,\n            { component: null },\n            toasts.map(function (_ref2) {\n              var appearance = _ref2.appearance,\n                  autoDismiss = _ref2.autoDismiss,\n                  content = _ref2.content,\n                  id = _ref2.id,\n                  onDismiss = _ref2.onDismiss,\n                  unknownConsumerProps = _objectWithoutProperties(_ref2, ['appearance', 'autoDismiss', 'content', 'id', 'onDismiss']);\n\n              return _react2.default.createElement(\n                _reactTransitionGroup.Transition,\n                {\n                  appear: true,\n                  key: id,\n                  mountOnEnter: true,\n                  timeout: transitionDuration,\n                  unmountOnExit: true\n                },\n                function (transitionState) {\n                  return _react2.default.createElement(\n                    _ToastController.ToastController,\n                    _extends({\n                      appearance: appearance,\n                      autoDismiss: autoDismiss !== undefined ? autoDismiss : inheritedAutoDismiss,\n                      autoDismissTimeout: autoDismissTimeout,\n                      component: Toast,\n                      key: id,\n                      onDismiss: _this2.onDismiss(id, onDismiss),\n                      placement: placement,\n                      transitionDuration: transitionDuration,\n                      transitionState: transitionState\n                    }, unknownConsumerProps),\n                    content\n                  );\n                }\n              );\n            })\n          )\n        ), portalTarget) : _react2.default.createElement(ToastContainer, { placement: placement, hasToasts: hasToasts }) // keep ReactDOM.hydrate happy\n\n      );\n    }\n  }]);\n\n  return ToastProvider;\n}(_react.Component);\n\nToastProvider.defaultProps = {\n  autoDismiss: false,\n  autoDismissTimeout: 5000,\n  components: defaultComponents,\n  newestOnTop: false,\n  placement: 'top-right',\n  transitionDuration: 220\n};\nvar ToastConsumer = exports.ToastConsumer = function ToastConsumer(_ref3) {\n  var children = _ref3.children;\n  return _react2.default.createElement(\n    Consumer,\n    null,\n    function (context) {\n      return children(context);\n    }\n  );\n};\n\nvar withToastManager = exports.withToastManager = function withToastManager(Comp\n// $FlowFixMe `forwardRef`\n) {\n  return _react2.default.forwardRef(function (props, ref) {\n    return _react2.default.createElement(\n      ToastConsumer,\n      null,\n      function (context) {\n        return _react2.default.createElement(Comp, _extends({ toastManager: context }, props, { ref: ref }));\n      }\n    );\n  });\n};\n\nvar useToasts = exports.useToasts = function useToasts() {\n  var ctx = (0, _react.useContext)(ToastContext);\n\n  if (!ctx) {\n    throw Error('The `useToasts` hook must be called from a descendent of the `ToastProvider`.');\n  }\n\n  return {\n    addToast: ctx.add,\n    removeToast: ctx.remove,\n    removeAllToasts: ctx.removeAll,\n    updateToast: ctx.update,\n    toastStack: ctx.toasts\n  };\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Reds\nvar R50 = exports.R50 = '#FFEBE6';\nvar R75 = exports.R75 = '#FFBDAD';\nvar R100 = exports.R100 = '#FF8F73';\nvar R200 = exports.R200 = '#FF7452';\nvar R300 = exports.R300 = '#FF5630';\nvar R400 = exports.R400 = '#DE350B';\nvar R500 = exports.R500 = '#BF2600';\n\n// Yellows\nvar Y50 = exports.Y50 = '#FFFAE6';\nvar Y75 = exports.Y75 = '#FFF0B3';\nvar Y100 = exports.Y100 = '#FFE380';\nvar Y200 = exports.Y200 = '#FFC400';\nvar Y300 = exports.Y300 = '#FFAB00';\nvar Y400 = exports.Y400 = '#FF991F';\nvar Y500 = exports.Y500 = '#FF8B00';\n\n// Greens\nvar G50 = exports.G50 = '#E3FCEF';\nvar G75 = exports.G75 = '#ABF5D1';\nvar G100 = exports.G100 = '#79F2C0';\nvar G200 = exports.G200 = '#57D9A3';\nvar G300 = exports.G300 = '#36B37E';\nvar G400 = exports.G400 = '#00875A';\nvar G500 = exports.G500 = '#006644';\n\n// Blues\nvar B50 = exports.B50 = '#DEEBFF';\nvar B75 = exports.B75 = '#B3D4FF';\nvar B100 = exports.B100 = '#4C9AFF';\nvar B200 = exports.B200 = '#2684FF';\nvar B300 = exports.B300 = '#0065FF';\nvar B400 = exports.B400 = '#0052CC';\nvar B500 = exports.B500 = '#0747A6';\n\n// Purples\nvar P50 = exports.P50 = '#EAE6FF';\nvar P75 = exports.P75 = '#C0B6F2';\nvar P100 = exports.P100 = '#998DD9';\nvar P200 = exports.P200 = '#8777D9';\nvar P300 = exports.P300 = '#6554C0';\nvar P400 = exports.P400 = '#5243AA';\nvar P500 = exports.P500 = '#403294';\n\n// Teals\nvar T50 = exports.T50 = '#E6FCFF';\nvar T75 = exports.T75 = '#B3F5FF';\nvar T100 = exports.T100 = '#79E2F2';\nvar T200 = exports.T200 = '#00C7E6';\nvar T300 = exports.T300 = '#00B8D9';\nvar T400 = exports.T400 = '#00A3BF';\nvar T500 = exports.T500 = '#008DA6';\n\n// Neutrals\nvar N0 = exports.N0 = '#FFFFFF';\nvar N10 = exports.N10 = '#FAFBFC';\nvar N20 = exports.N20 = '#F4F5F7';\nvar N30 = exports.N30 = '#EBECF0';\nvar N40 = exports.N40 = '#DFE1E6';\nvar N50 = exports.N50 = '#C1C7D0';\nvar N60 = exports.N60 = '#B3BAC5';\nvar N70 = exports.N70 = '#A5ADBA';\nvar N80 = exports.N80 = '#97A0AF';\nvar N90 = exports.N90 = '#8993A4';\nvar N100 = exports.N100 = '#7A869A';\nvar N200 = exports.N200 = '#6B778C';\nvar N300 = exports.N300 = '#5E6C84';\nvar N400 = exports.N400 = '#505F79';\nvar N500 = exports.N500 = '#42526E';\nvar N600 = exports.N600 = '#344563';\nvar N700 = exports.N700 = '#253858';\nvar N800 = exports.N800 = '#172B4D';\n\n// ATTENTION: update the tints if you update this\nvar N900 = exports.N900 = '#091E42';\n\n// Each tint is made of N900 and an alpha channel\nvar N10A = exports.N10A = 'rgba(9, 30, 66, 0.02)';\nvar N20A = exports.N20A = 'rgba(9, 30, 66, 0.04)';\nvar N30A = exports.N30A = 'rgba(9, 30, 66, 0.08)';\nvar N40A = exports.N40A = 'rgba(9, 30, 66, 0.13)';\nvar N50A = exports.N50A = 'rgba(9, 30, 66, 0.25)';\nvar N60A = exports.N60A = 'rgba(9, 30, 66, 0.31)';\nvar N70A = exports.N70A = 'rgba(9, 30, 66, 0.36)';\nvar N80A = exports.N80A = 'rgba(9, 30, 66, 0.42)';\nvar N90A = exports.N90A = 'rgba(9, 30, 66, 0.48)';\nvar N100A = exports.N100A = 'rgba(9, 30, 66, 0.54)';\nvar N200A = exports.N200A = 'rgba(9, 30, 66, 0.60)';\nvar N300A = exports.N300A = 'rgba(9, 30, 66, 0.66)';\nvar N400A = exports.N400A = 'rgba(9, 30, 66, 0.71)';\nvar N500A = exports.N500A = 'rgba(9, 30, 66, 0.77)';\nvar N600A = exports.N600A = 'rgba(9, 30, 66, 0.82)';\nvar N700A = exports.N700A = 'rgba(9, 30, 66, 0.89)';\nvar N800A = exports.N800A = 'rgba(9, 30, 66, 0.95)';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CloseIcon = exports.InfoIcon = exports.FlameIcon = exports.CheckIcon = exports.AlertIcon = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getDefaultProps(width) {\n  return {\n    'aria-hidden': true,\n    height: 16,\n    width: width,\n    viewBox: '0 0 ' + width + ' 16',\n    style: {\n      display: 'inline-block',\n      verticalAlign: 'text-top',\n      fill: 'currentColor'\n    }\n  };\n}\n\nvar AlertIcon = exports.AlertIcon = function AlertIcon(props) {\n  return _react2.default.createElement(\n    'svg',\n    _extends({}, getDefaultProps(16), props),\n    _react2.default.createElement('path', {\n      fillRule: 'evenodd',\n      d: 'M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z'\n    })\n  );\n};\nvar CheckIcon = exports.CheckIcon = function CheckIcon(props) {\n  return _react2.default.createElement(\n    'svg',\n    _extends({}, getDefaultProps(12), props),\n    _react2.default.createElement('path', { fillRule: 'evenodd', d: 'M12 5.5l-8 8-4-4L1.5 8 4 10.5 10.5 4 12 5.5z' })\n  );\n};\nvar FlameIcon = exports.FlameIcon = function FlameIcon(props) {\n  return _react2.default.createElement(\n    'svg',\n    _extends({}, getDefaultProps(12), props),\n    _react2.default.createElement('path', {\n      fillRule: 'evenodd',\n      d: 'M5.05.01c.81 2.17.41 3.38-.52 4.31C3.55 5.37 1.98 6.15.9 7.68c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.01 8.68 2.15 5.05.02L5.03 0l.02.01z'\n    })\n  );\n};\nvar InfoIcon = exports.InfoIcon = function InfoIcon(props) {\n  return _react2.default.createElement(\n    'svg',\n    _extends({}, getDefaultProps(14), props),\n    _react2.default.createElement('path', {\n      fillRule: 'evenodd',\n      d: 'M6.3 5.71a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 8.01c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V8v.01zM7 2.32C3.86 2.32 1.3 4.86 1.3 8c0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 1c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z'\n    })\n  );\n};\nvar CloseIcon = exports.CloseIcon = function CloseIcon(props) {\n  return _react2.default.createElement(\n    'svg',\n    _extends({}, getDefaultProps(14), props),\n    _react2.default.createElement('path', {\n      fillRule: 'evenodd',\n      d: 'M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z'\n    })\n  );\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ToastContainer = require('./ToastContainer');\n\nObject.defineProperty(exports, 'DefaultToastContainer', {\n  enumerable: true,\n  get: function get() {\n    return _ToastContainer.ToastContainer;\n  }\n});\n\nvar _ToastElement = require('./ToastElement');\n\nObject.defineProperty(exports, 'DefaultToast', {\n  enumerable: true,\n  get: function get() {\n    return _ToastElement.DefaultToast;\n  }\n});\n\nvar _ToastProvider = require('./ToastProvider');\n\nObject.defineProperty(exports, 'ToastConsumer', {\n  enumerable: true,\n  get: function get() {\n    return _ToastProvider.ToastConsumer;\n  }\n});\nObject.defineProperty(exports, 'ToastProvider', {\n  enumerable: true,\n  get: function get() {\n    return _ToastProvider.ToastProvider;\n  }\n});\nObject.defineProperty(exports, 'withToastManager', {\n  enumerable: true,\n  get: function get() {\n    return _ToastProvider.withToastManager;\n  }\n});\nObject.defineProperty(exports, 'useToasts', {\n  enumerable: true,\n  get: function get() {\n    return _ToastProvider.useToasts;\n  }\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateUEID = generateUEID;\nvar NOOP = exports.NOOP = function NOOP() {};\nfunction generateUEID() {\n  var first = Math.random() * 46656 | 0;\n  var second = Math.random() * 46656 | 0;\n  first = ('000' + first.toString(36)).slice(-3);\n  second = ('000' + second.toString(36)).slice(-3);\n  return first + second;\n}","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n/**\n * Removes a CSS class from a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props.in,\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A React reference to DOM element that need to transition:\n   * https://stackoverflow.com/a/51127130/4671932\n   *\n   *   - When `nodeRef` prop is used, `node` is not passed to callback functions\n   *      (e.g. `onEnter`) because user already has direct access to the node.\n   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new\n   *     `nodeRef` need to be provided to `Transition` with changed `key` prop\n   *     (see\n   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).\n   */\n  nodeRef: PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : function (propValue, key, componentName, location, propFullName, secret) {\n      var value = propValue[key];\n      return PropTypes.instanceOf(value && 'ownerDocument' in value ? value.ownerDocument.defaultView.Element : Element)(propValue, key, componentName, location, propFullName, secret);\n    }\n  }),\n\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * By default the child component does not perform the enter transition when\n   * it first mounts, regardless of the value of `in`. If you want this\n   * behavior, set both `appear` and `in` to `true`.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. Timeouts are still used as a fallback if provided.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func\n} : {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport addOneClass from 'dom-helpers/addClass';\nimport removeOneClass from 'dom-helpers/removeClass';\nimport React from 'react';\nimport Transition from './Transition';\nimport { classNamesShape } from './utils/PropTypes';\n\nvar _addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return addOneClass(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return removeOneClass(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](https://docs.angularjs.org/api/ngAnimate) library, you should\n * use it if you're using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**, so it's\n * important to add `transition` declaration only to them, otherwise transitions\n * might not behave as intended! This might not be obvious when the transitions\n * are symmetrical, i.e. when `*-enter-active` is the same as `*-exit`, like in\n * the example above (minus `transition`), but it becomes apparent in more\n * complex transitions.\n *\n * **Note**: If you're using the\n * [`appear`](http://reactcommunity.org/react-transition-group/transition#Transition-prop-appear)\n * prop, make sure to define styles for `.appear-*` classes as well.\n */\n\n\nvar CSSTransition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.appliedClasses = {\n      appear: {},\n      enter: {},\n      exit: {}\n    };\n\n    _this.onEnter = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument[0],\n          appearing = _this$resolveArgument[1];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, appearing ? 'appear' : 'enter', 'base');\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntering = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument2 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument2[0],\n          appearing = _this$resolveArgument2[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.addClass(node, type, 'active');\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntered = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument3 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument3[0],\n          appearing = _this$resolveArgument3[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.removeClasses(node, type);\n\n      _this.addClass(node, type, 'done');\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onExit = function (maybeNode) {\n      var _this$resolveArgument4 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument4[0];\n\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      _this.addClass(node, 'exit', 'base');\n\n      if (_this.props.onExit) {\n        _this.props.onExit(maybeNode);\n      }\n    };\n\n    _this.onExiting = function (maybeNode) {\n      var _this$resolveArgument5 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument5[0];\n\n      _this.addClass(node, 'exit', 'active');\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(maybeNode);\n      }\n    };\n\n    _this.onExited = function (maybeNode) {\n      var _this$resolveArgument6 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument6[0];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, 'exit', 'done');\n\n      if (_this.props.onExited) {\n        _this.props.onExited(maybeNode);\n      }\n    };\n\n    _this.resolveArguments = function (maybeNode, maybeAppearing) {\n      return _this.props.nodeRef ? [_this.props.nodeRef.current, maybeNode] // here `maybeNode` is actually `appearing`\n      : [maybeNode, maybeAppearing];\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + \"-\" : '';\n      var baseClassName = isStringClassNames ? \"\" + prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? baseClassName + \"-active\" : classNames[type + \"Active\"];\n      var doneClassName = isStringClassNames ? baseClassName + \"-done\" : classNames[type + \"Done\"];\n      return {\n        baseClassName: baseClassName,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.addClass = function addClass(node, type, phase) {\n    var className = this.getClassNames(type)[phase + \"ClassName\"];\n\n    var _this$getClassNames = this.getClassNames('enter'),\n        doneClassName = _this$getClassNames.doneClassName;\n\n    if (type === 'appear' && phase === 'done' && doneClassName) {\n      className += \" \" + doneClassName;\n    } // This is to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n\n\n    if (phase === 'active') {\n      /* eslint-disable no-unused-expressions */\n      node && node.scrollTop;\n    }\n\n    if (className) {\n      this.appliedClasses[type][phase] = className;\n\n      _addClass(node, className);\n    }\n  };\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$appliedClasses$ = this.appliedClasses[type],\n        baseClassName = _this$appliedClasses$.base,\n        activeClassName = _this$appliedClasses$.active,\n        doneClassName = _this$appliedClasses$.done;\n    this.appliedClasses[type] = {};\n\n    if (baseClassName) {\n      removeClass(node, baseClassName);\n    }\n\n    if (activeClassName) {\n      removeClass(node, activeClassName);\n    }\n\n    if (doneClassName) {\n      removeClass(node, doneClassName);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _ = _this$props.classNames,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"classNames\"]);\n\n    return /*#__PURE__*/React.createElement(Transition, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(React.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes = process.env.NODE_ENV !== \"production\" ? _extends({}, Transition.propTypes, {\n  /**\n   * The animation classNames applied to the component as it appears, enters,\n   * exits or has finished the transition. A single name can be provided, which\n   * will be suffixed for each stage, e.g. `classNames=\"fade\"` applies:\n   *\n   * - `fade-appear`, `fade-appear-active`, `fade-appear-done`\n   * - `fade-enter`, `fade-enter-active`, `fade-enter-done`\n   * - `fade-exit`, `fade-exit-active`, `fade-exit-done`\n   *\n   * A few details to note about how these classes are applied:\n   *\n   * 1. They are _joined_ with the ones that are already defined on the child\n   *    component, so if you want to add some base styles, you can use\n   *    `className` without worrying that it will be overridden.\n   *\n   * 2. If the transition component mounts with `in={false}`, no classes are\n   *    applied yet. You might be expecting `*-exit-done`, but if you think\n   *    about it, a component cannot finish exiting if it hasn't entered yet.\n   *\n   * 2. `fade-appear-done` and `fade-enter-done` will _both_ be applied. This\n   *    allows you to define different behavior for when appearing is done and\n   *    when regular entering is done, using selectors like\n   *    `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply\n   *    an epic entrance animation when element first appears in the DOM using\n   *    [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   *    simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : {};\nexport default CSSTransition;","import hasClass from './hasClass';\n/**\n * Adds a CSS class to a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","/**\n * Checks if a given element has a CSS class.\n * \n * @param element the element\n * @param className the CSS class name\n */\nexport default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = (key in prevChildMapping);\n    var hasNext = (key in nextChildMapping);\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n/**\n * The `<TransitionGroup>` component manages a set of transition components\n * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n * components, `<TransitionGroup>` is a state machine for managing the mounting\n * and unmounting of components over time.\n *\n * Consider the example below. As items are removed or added to the TodoList the\n * `in` prop is toggled automatically by the `<TransitionGroup>`.\n *\n * Note that `<TransitionGroup>`  does not define any animation behavior!\n * Exactly _how_ a list item animates is up to the individual transition\n * component. This means you can mix and match animations across different list\n * items.\n */\n\nvar TransitionGroup = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this)); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  } // node is `undefined` when user provided `nodeRef` prop\n  ;\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, /*#__PURE__*/React.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(React.Component);\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: PropTypes.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: PropTypes.func\n} : {};\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport TransitionGroup from './TransitionGroup';\n/**\n * The `<ReplaceTransition>` component is a specialized `Transition` component\n * that animates between two children.\n *\n * ```jsx\n * <ReplaceTransition in>\n *   <Fade><div>I appear first</div></Fade>\n *   <Fade><div>I replace the above</div></Fade>\n * </ReplaceTransition>\n * ```\n */\n\nvar ReplaceTransition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ReplaceTransition, _React$Component);\n\n  function ReplaceTransition() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n\n    _this.handleEnter = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _this.handleLifecycle('onEnter', 0, args);\n    };\n\n    _this.handleEntering = function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return _this.handleLifecycle('onEntering', 0, args);\n    };\n\n    _this.handleEntered = function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return _this.handleLifecycle('onEntered', 0, args);\n    };\n\n    _this.handleExit = function () {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      return _this.handleLifecycle('onExit', 1, args);\n    };\n\n    _this.handleExiting = function () {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      return _this.handleLifecycle('onExiting', 1, args);\n    };\n\n    _this.handleExited = function () {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      return _this.handleLifecycle('onExited', 1, args);\n    };\n\n    return _this;\n  }\n\n  var _proto = ReplaceTransition.prototype;\n\n  _proto.handleLifecycle = function handleLifecycle(handler, idx, originalArgs) {\n    var _child$props;\n\n    var children = this.props.children;\n    var child = React.Children.toArray(children)[idx];\n    if (child.props[handler]) (_child$props = child.props)[handler].apply(_child$props, originalArgs);\n\n    if (this.props[handler]) {\n      var maybeNode = child.props.nodeRef ? undefined : ReactDOM.findDOMNode(this);\n      this.props[handler](maybeNode);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        inProp = _this$props.in,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\"]);\n\n    var _React$Children$toArr = React.Children.toArray(children),\n        first = _React$Children$toArr[0],\n        second = _React$Children$toArr[1];\n\n    delete props.onEnter;\n    delete props.onEntering;\n    delete props.onEntered;\n    delete props.onExit;\n    delete props.onExiting;\n    delete props.onExited;\n    return /*#__PURE__*/React.createElement(TransitionGroup, props, inProp ? React.cloneElement(first, {\n      key: 'first',\n      onEnter: this.handleEnter,\n      onEntering: this.handleEntering,\n      onEntered: this.handleEntered\n    }) : React.cloneElement(second, {\n      key: 'second',\n      onEnter: this.handleExit,\n      onEntering: this.handleExiting,\n      onEntered: this.handleExited\n    }));\n  };\n\n  return ReplaceTransition;\n}(React.Component);\n\nReplaceTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  in: PropTypes.bool.isRequired,\n  children: function children(props, propName) {\n    if (React.Children.count(props[propName]) !== 2) return new Error(\"\\\"\" + propName + \"\\\" must be exactly two transition components.\");\n    return null;\n  }\n} : {};\nexport default ReplaceTransition;","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\nvar _leaveRenders, _enterRenders;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ENTERED, ENTERING, EXITING } from './Transition';\nimport TransitionGroupContext from './TransitionGroupContext';\n\nfunction areChildrenDifferent(oldChildren, newChildren) {\n  if (oldChildren === newChildren) return false;\n\n  if (React.isValidElement(oldChildren) && React.isValidElement(newChildren) && oldChildren.key != null && oldChildren.key === newChildren.key) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Enum of modes for SwitchTransition component\n * @enum { string }\n */\n\n\nexport var modes = {\n  out: 'out-in',\n  in: 'in-out'\n};\n\nvar callHook = function callHook(element, name, cb) {\n  return function () {\n    var _element$props;\n\n    element.props[name] && (_element$props = element.props)[name].apply(_element$props, arguments);\n    cb();\n  };\n};\n\nvar leaveRenders = (_leaveRenders = {}, _leaveRenders[modes.out] = function (_ref) {\n  var current = _ref.current,\n      changeState = _ref.changeState;\n  return React.cloneElement(current, {\n    in: false,\n    onExited: callHook(current, 'onExited', function () {\n      changeState(ENTERING, null);\n    })\n  });\n}, _leaveRenders[modes.in] = function (_ref2) {\n  var current = _ref2.current,\n      changeState = _ref2.changeState,\n      children = _ref2.children;\n  return [current, React.cloneElement(children, {\n    in: true,\n    onEntered: callHook(children, 'onEntered', function () {\n      changeState(ENTERING);\n    })\n  })];\n}, _leaveRenders);\nvar enterRenders = (_enterRenders = {}, _enterRenders[modes.out] = function (_ref3) {\n  var children = _ref3.children,\n      changeState = _ref3.changeState;\n  return React.cloneElement(children, {\n    in: true,\n    onEntered: callHook(children, 'onEntered', function () {\n      changeState(ENTERED, React.cloneElement(children, {\n        in: true\n      }));\n    })\n  });\n}, _enterRenders[modes.in] = function (_ref4) {\n  var current = _ref4.current,\n      children = _ref4.children,\n      changeState = _ref4.changeState;\n  return [React.cloneElement(current, {\n    in: false,\n    onExited: callHook(current, 'onExited', function () {\n      changeState(ENTERED, React.cloneElement(children, {\n        in: true\n      }));\n    })\n  }), React.cloneElement(children, {\n    in: true\n  })];\n}, _enterRenders);\n/**\n * A transition component inspired by the [vue transition modes](https://vuejs.org/v2/guide/transitions.html#Transition-Modes).\n * You can use it when you want to control the render between state transitions.\n * Based on the selected mode and the child's key which is the `Transition` or `CSSTransition` component, the `SwitchTransition` makes a consistent transition between them.\n *\n * If the `out-in` mode is selected, the `SwitchTransition` waits until the old child leaves and then inserts a new child.\n * If the `in-out` mode is selected, the `SwitchTransition` inserts a new child first, waits for the new child to enter and then removes the old child.\n *\n * **Note**: If you want the animation to happen simultaneously\n * (that is, to have the old child removed and a new child inserted **at the same time**),\n * you should use\n * [`TransitionGroup`](https://reactcommunity.org/react-transition-group/transition-group)\n * instead.\n *\n * ```jsx\n * function App() {\n *  const [state, setState] = useState(false);\n *  return (\n *    <SwitchTransition>\n *      <CSSTransition\n *        key={state ? \"Goodbye, world!\" : \"Hello, world!\"}\n *        addEndListener={(node, done) => node.addEventListener(\"transitionend\", done, false)}\n *        classNames='fade'\n *      >\n *        <button onClick={() => setState(state => !state)}>\n *          {state ? \"Goodbye, world!\" : \"Hello, world!\"}\n *        </button>\n *      </CSSTransition>\n *    </SwitchTransition>\n *  );\n * }\n * ```\n *\n * ```css\n * .fade-enter{\n *    opacity: 0;\n * }\n * .fade-exit{\n *    opacity: 1;\n * }\n * .fade-enter-active{\n *    opacity: 1;\n * }\n * .fade-exit-active{\n *    opacity: 0;\n * }\n * .fade-enter-active,\n * .fade-exit-active{\n *    transition: opacity 500ms;\n * }\n * ```\n */\n\nvar SwitchTransition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(SwitchTransition, _React$Component);\n\n  function SwitchTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      status: ENTERED,\n      current: null\n    };\n    _this.appeared = false;\n\n    _this.changeState = function (status, current) {\n      if (current === void 0) {\n        current = _this.state.current;\n      }\n\n      _this.setState({\n        status: status,\n        current: current\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = SwitchTransition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.appeared = true;\n  };\n\n  SwitchTransition.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (props.children == null) {\n      return {\n        current: null\n      };\n    }\n\n    if (state.status === ENTERING && props.mode === modes.in) {\n      return {\n        status: ENTERING\n      };\n    }\n\n    if (state.current && areChildrenDifferent(state.current, props.children)) {\n      return {\n        status: EXITING\n      };\n    }\n\n    return {\n      current: React.cloneElement(props.children, {\n        in: true\n      })\n    };\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        mode = _this$props.mode,\n        _this$state = this.state,\n        status = _this$state.status,\n        current = _this$state.current;\n    var data = {\n      children: children,\n      current: current,\n      changeState: this.changeState,\n      status: status\n    };\n    var component;\n\n    switch (status) {\n      case ENTERING:\n        component = enterRenders[mode](data);\n        break;\n\n      case EXITING:\n        component = leaveRenders[mode](data);\n        break;\n\n      case ENTERED:\n        component = current;\n    }\n\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: {\n        isMounting: !this.appeared\n      }\n    }, component);\n  };\n\n  return SwitchTransition;\n}(React.Component);\n\nSwitchTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Transition modes.\n   * `out-in`: Current element transitions out first, then when complete, the new element transitions in.\n   * `in-out`: New element transitions in first, then when complete, the current element transitions out.\n   *\n   * @type {'out-in'|'in-out'}\n   */\n  mode: PropTypes.oneOf([modes.in, modes.out]),\n\n  /**\n   * Any `Transition` or `CSSTransition` component.\n   */\n  children: PropTypes.oneOfType([PropTypes.element.isRequired])\n} : {};\nSwitchTransition.defaultProps = {\n  mode: modes.out\n};\nexport default SwitchTransition;","import { LogLevel } from './types';\n\n/**\n * Logs messages in the console with a corresponding urgency\n *\n * @param level the urgency of the message\n * @param message the message to log in the console\n */\nexport const log = (level: LogLevel, message: string) => {\n  if (__DEV__) {\n    const packageName = '[react-use-intercom]';\n\n    switch (level) {\n      case 'info':\n        console.log(`${packageName} ${message}`);\n        break;\n      case 'warn':\n        console.warn(`${packageName} ${message}`);\n        break;\n      case 'error':\n        console.error(`${packageName} ${message}`);\n        break;\n      default:\n        console.log(`${packageName} ${message}`);\n    }\n  }\n};\n","export const isSSR = typeof window === 'undefined';\n\n/**\n * Removes object entries where the value equals to `undefined`\n *\n * @param obj\n */\nexport const removeUndefined = (obj: any) => {\n  Object.keys(obj).forEach(key => {\n    if (obj[key] && typeof obj[key] === 'object') removeUndefined(obj[key]);\n    else if (obj[key] === undefined) delete obj[key];\n  });\n  return obj;\n};\n","import * as logger from './logger';\nimport { IntercomMethod } from './types';\nimport { isSSR } from './utils';\n\n/**\n * Safely exposes `window.Intercom` and passes the arguments to the instance\n *\n * @param method method passed to the `window.Intercom` instance\n * @param args arguments passed to the `window.Intercom` instance\n *\n * @see {@link https://developers.intercom.com/installing-intercom/docs/intercom-javascript}\n */\nconst IntercomAPI = (method: IntercomMethod, ...args: Array<any>) => {\n  if (!isSSR && window.Intercom) {\n    return window.Intercom.apply(null, [method, ...args]);\n  } else {\n    logger.log('error', `${method} Intercom instance is not initalized yet`);\n  }\n};\n\nexport default IntercomAPI;\n","import * as React from 'react';\n\nimport { IntercomContextValues } from './types';\n\nconst IntercomContext = React.createContext<IntercomContextValues | undefined>(\n  undefined,\n);\n\nexport default IntercomContext;\n","import {\n  DataAttributes,\n  DataAttributesAvatar,\n  DataAttributesCompany,\n  IntercomProps,\n  MessengerAttributes,\n  RawDataAttributes,\n  RawDataAttributesAvatar,\n  RawDataAttributesCompany,\n  RawIntercomProps,\n  RawMessengerAttributes,\n} from './types';\nimport { removeUndefined } from './utils';\n\nexport const mapMessengerAttributesToRawMessengerAttributes = (\n  attributes: MessengerAttributes,\n): RawMessengerAttributes => ({\n  custom_launcher_selector: attributes.customLauncherSelector,\n  alignment: attributes.alignment,\n  vertical_padding: attributes.verticalPadding,\n  horizontal_padding: attributes.horizontalPadding,\n  hide_default_launcher: attributes.hideDefaultLauncher,\n  session_duration: attributes.sessionDuration,\n  action_color: attributes.actionColor,\n  background_color: attributes.backgroundColor,\n});\n\nconst mapDataAttributesCompanyToRawDataAttributesCompany = (\n  attributes: DataAttributesCompany,\n): RawDataAttributesCompany => ({\n  company_id: attributes.companyId,\n  name: attributes.name,\n  created_at: attributes.createdAt,\n  plan: attributes.plan,\n  monthly_spend: attributes.monthlySpend,\n  user_count: attributes.userCount,\n  size: attributes.size,\n  website: attributes.website,\n  industry: attributes.industry,\n  ...attributes.customAttributes,\n});\n\nconst mapDataAttributesAvatarToRawDataAttributesAvatar = (\n  attributes: DataAttributesAvatar,\n): RawDataAttributesAvatar => ({\n  type: attributes.type,\n  image_url: attributes.imageUrl,\n});\n\nexport const mapDataAttributesToRawDataAttributes = (\n  attributes: DataAttributes,\n): RawDataAttributes => ({\n  email: attributes.email,\n  user_id: attributes.userId,\n  created_at: attributes.createdAt,\n  name: attributes.name,\n  phone: attributes.phone,\n  last_request_at: attributes.lastRequestAt,\n  unsubscribed_from_emails: attributes.unsubscribedFromEmails,\n  language_override: attributes.languageOverride,\n  utm_campaign: attributes.utmCampaign,\n  utm_content: attributes.utmContent,\n  utm_medium: attributes.utmMedium,\n  utm_source: attributes.utmSource,\n  utm_term: attributes.utmTerm,\n  avatar:\n    attributes.avatar &&\n    mapDataAttributesAvatarToRawDataAttributesAvatar(attributes.avatar),\n  user_hash: attributes.userHash,\n  company:\n    attributes.company &&\n    mapDataAttributesCompanyToRawDataAttributesCompany(attributes.company),\n  companies: attributes.companies?.map(\n    mapDataAttributesCompanyToRawDataAttributesCompany,\n  ),\n  ...attributes.customAttributes,\n});\n\nexport const mapIntercomPropsToRawIntercomProps = (\n  props: IntercomProps,\n): RawIntercomProps => {\n  return removeUndefined({\n    ...mapMessengerAttributesToRawMessengerAttributes(props),\n    ...mapDataAttributesToRawDataAttributes(props),\n  });\n};\n","import * as React from 'react';\n\nimport IntercomAPI from './api';\nimport IntercomContext from './context';\nimport initialize from './initialize';\nimport * as logger from './logger';\nimport { mapIntercomPropsToRawIntercomProps } from './mappers';\nimport {\n  IntercomContextValues,\n  IntercomProps,\n  IntercomProviderProps,\n  RawIntercomBootProps,\n} from './types';\nimport { isSSR } from './utils';\n\nexport const IntercomProvider: React.FC<React.PropsWithChildren<\n  IntercomProviderProps\n>> = ({\n  appId,\n  autoBoot = false,\n  autoBootProps,\n  children,\n  onHide,\n  onShow,\n  onUnreadCountChange,\n  shouldInitialize = !isSSR,\n  apiBase,\n  initializeDelay,\n  ...rest\n}) => {\n  const isBooted = React.useRef(false);\n  const isInitialized = React.useRef(false);\n\n  if (__DEV__) {\n    // Allow data-x attributes, see https://github.com/devrnt/react-use-intercom/issues/478\n    const invalidPropKeys = Object.keys(rest).filter(\n      key => !key.startsWith('data-'),\n    );\n\n    if (invalidPropKeys.length > 0) {\n      logger.log(\n        'warn',\n        [\n          'some invalid props were passed to IntercomProvider. ',\n          `Please check following props: ${invalidPropKeys.join(', ')}.`,\n        ].join(''),\n      );\n    }\n  }\n\n  const boot = React.useCallback(\n    (props?: IntercomProps) => {\n      if (!window.Intercom && !shouldInitialize) {\n        logger.log(\n          'warn',\n          'Intercom instance is not initialized because `shouldInitialize` is set to `false` in `IntercomProvider`',\n        );\n        return;\n      }\n\n      if (isBooted.current) {\n        return;\n      }\n\n      const metaData: RawIntercomBootProps = {\n        app_id: appId,\n        ...(apiBase && { api_base: apiBase }),\n        ...(props && mapIntercomPropsToRawIntercomProps(props)),\n      };\n\n      window.intercomSettings = metaData;\n      IntercomAPI('boot', metaData);\n      isBooted.current = true;\n    },\n    [apiBase, appId, shouldInitialize],\n  );\n\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const onHideWrapper = React.useCallback(() => {\n    setIsOpen(false);\n    if (onHide) onHide();\n  }, [onHide, setIsOpen]);\n\n  const onShowWrapper = React.useCallback(() => {\n    setIsOpen(true);\n    if (onShow) onShow();\n  }, [onShow, setIsOpen]);\n\n  if (!isSSR && shouldInitialize && !isInitialized.current) {\n    initialize(appId, initializeDelay);\n\n    // attach listeners\n    IntercomAPI('onHide', onHideWrapper);\n    IntercomAPI('onShow', onShowWrapper);\n    if (onUnreadCountChange)\n      IntercomAPI('onUnreadCountChange', onUnreadCountChange);\n\n    if (autoBoot) {\n      boot(autoBootProps);\n    }\n\n    isInitialized.current = true;\n  }\n\n  const ensureIntercom = React.useCallback(\n    (\n      functionName: string = 'A function',\n      callback: (() => void) | (() => string),\n    ) => {\n      if (!window.Intercom && !shouldInitialize) {\n        logger.log(\n          'warn',\n          'Intercom instance is not initialized because `shouldInitialize` is set to `false` in `IntercomProvider`',\n        );\n        return;\n      }\n      if (!isBooted.current) {\n        logger.log(\n          'warn',\n          [\n            `'${functionName}' was called but Intercom has not booted yet. `,\n            `Please call 'boot' before calling '${functionName}' or `,\n            `set 'autoBoot' to true in the IntercomProvider.`,\n          ].join(''),\n        );\n        return;\n      }\n      return callback();\n    },\n    [shouldInitialize],\n  );\n\n  const shutdown = React.useCallback(() => {\n    if (!isBooted.current) return;\n\n    IntercomAPI('shutdown');\n    delete window.intercomSettings;\n    isBooted.current = false;\n  }, []);\n\n  const hardShutdown = React.useCallback(() => {\n    if (!isBooted.current) return;\n\n    IntercomAPI('shutdown');\n    delete window.Intercom;\n    delete window.intercomSettings;\n    isBooted.current = false;\n  }, []);\n\n  const refresh = React.useCallback(() => {\n    ensureIntercom('update', () => {\n      const last_request_at = Math.floor(new Date().getTime() / 1000);\n      IntercomAPI('update', { last_request_at });\n    });\n  }, [ensureIntercom]);\n\n  const update = React.useCallback(\n    (props?: IntercomProps) => {\n      ensureIntercom('update', () => {\n        if (!props) {\n          refresh();\n          return;\n        }\n        const rawProps = mapIntercomPropsToRawIntercomProps(props);\n        window.intercomSettings = { ...window.intercomSettings, ...rawProps };\n        IntercomAPI('update', rawProps);\n      });\n    },\n    [ensureIntercom, refresh],\n  );\n\n  const hide = React.useCallback(() => {\n    ensureIntercom('hide', () => {\n      IntercomAPI('hide');\n    });\n  }, [ensureIntercom]);\n\n  const show = React.useCallback(() => {\n    ensureIntercom('show', () => IntercomAPI('show'));\n  }, [ensureIntercom]);\n\n  const showMessages = React.useCallback(() => {\n    ensureIntercom('showMessages', () => {\n      IntercomAPI('showMessages');\n    });\n  }, [ensureIntercom]);\n\n  const showNewMessage = React.useCallback(\n    (message?: string) => {\n      ensureIntercom('showNewMessage', () => {\n        if (!message) {\n          IntercomAPI('showNewMessage');\n        } else {\n          IntercomAPI('showNewMessage', message);\n        }\n      });\n    },\n    [ensureIntercom],\n  );\n\n  const getVisitorId = React.useCallback(() => {\n    return ensureIntercom('getVisitorId', () => {\n      return IntercomAPI('getVisitorId');\n    }) as string;\n  }, [ensureIntercom]);\n\n  const startTour = React.useCallback(\n    (tourId: number) => {\n      ensureIntercom('startTour', () => {\n        IntercomAPI('startTour', tourId);\n      });\n    },\n    [ensureIntercom],\n  );\n\n  const trackEvent = React.useCallback(\n    (event: string, metaData?: object) => {\n      ensureIntercom('trackEvent', () => {\n        if (metaData) {\n          IntercomAPI('trackEvent', event, metaData);\n        } else {\n          IntercomAPI('trackEvent', event);\n        }\n      });\n    },\n    [ensureIntercom],\n  );\n\n  const showArticle = React.useCallback(\n    (articleId: number) =>\n      ensureIntercom('showArticle', () => {\n        IntercomAPI('showArticle', articleId);\n      }),\n    [ensureIntercom],\n  );\n\n  const providerValue = React.useMemo<IntercomContextValues>(() => {\n    return {\n      boot,\n      shutdown,\n      hardShutdown,\n      update,\n      hide,\n      show,\n      isOpen,\n      showMessages,\n      showNewMessage,\n      getVisitorId,\n      startTour,\n      trackEvent,\n      showArticle,\n    };\n  }, [\n    boot,\n    shutdown,\n    hardShutdown,\n    update,\n    hide,\n    show,\n    isOpen,\n    showMessages,\n    showNewMessage,\n    getVisitorId,\n    startTour,\n    trackEvent,\n    showArticle,\n  ]);\n\n  return (\n    <IntercomContext.Provider value={providerValue}>\n      {children}\n    </IntercomContext.Provider>\n  );\n};\n\nexport const useIntercomContext = () => {\n  const context = React.useContext(IntercomContext);\n\n  if (__DEV__) {\n    if (context === undefined) {\n      throw new Error('`useIntercom` must be used within `IntercomProvider`.');\n    }\n  }\n\n  return context as IntercomContextValues;\n};\n","// @ts-nocheck\n/**\n * Snippet to initialize the Intercom instance\n *\n * @param appId - Intercom app id\n * @param [timeout=0] - Amount of milliseconds that the initialization should be delayed, defaults to 0\n *\n * @see {@link https://developers.intercom.com/installing-intercom/docs/basic-javascript}\n */\nconst initialize = (appId: string, timeout = 0) => {\n  var w = window;\n  var ic = w.Intercom;\n  if (typeof ic === 'function') {\n    ic('reattach_activator');\n    ic('update', w.intercomSettings);\n  } else {\n    var d = document;\n    var i = function() {\n      i.c(arguments);\n    };\n    i.q = [];\n    i.c = function(args) {\n      i.q.push(args);\n    };\n    w.Intercom = i;\n    var l = function() {\n      setTimeout(function() {\n        var s = d.createElement('script');\n        s.type = 'text/javascript';\n        s.async = true;\n        s.src = 'https://widget.intercom.io/widget/' + appId;\n        var x = d.getElementsByTagName('script')[0];\n        x.parentNode.insertBefore(s, x);\n      }, timeout);\n    };\n    if (document.readyState === 'complete') {\n      l();\n    } else if (w.attachEvent) {\n      w.attachEvent('onload', l);\n    } else {\n      w.addEventListener('load', l, false);\n    }\n  }\n};\n\nexport default initialize;\n","import { useIntercomContext } from './provider';\n\nexport const useIntercom = () => {\n  return useIntercomContext();\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n",null,null,null,null,"module.exports = require(\"./build/react-router\");\n","import { useContext } from \"react\";\nimport {\n  UNSAFE_NavigationContext,\n  useNavigate,\n  useLocation,\n  UNSAFE_DataRouterContext\n} from \"react-router-dom\";\nconst ReactRouter6Adapter = ({\n  children\n}) => {\n  var _a;\n  const { navigator } = useContext(UNSAFE_NavigationContext);\n  const navigate = useNavigate();\n  const router = (_a = useContext(UNSAFE_DataRouterContext)) == null ? void 0 : _a.router;\n  const location = useLocation();\n  const adapter = {\n    replace(location2) {\n      navigate(location2.search || \"?\", {\n        replace: true,\n        state: location2.state\n      });\n    },\n    push(location2) {\n      navigate(location2.search || \"?\", {\n        replace: false,\n        state: location2.state\n      });\n    },\n    get location() {\n      var _a2, _b, _c;\n      return (_c = (_b = (_a2 = router == null ? void 0 : router.state) == null ? void 0 : _a2.location) != null ? _b : navigator == null ? void 0 : navigator.location) != null ? _c : location;\n    }\n  };\n  return children(adapter);\n};\nexport {\n  ReactRouter6Adapter\n};\n","import { QueryParamConfig } from './types';\n\n/**\n * Wrap a given parameter with a default value when undefined or null (optionally, default includes null)\n * @param param QueryParamConfig - { encode, decode} to serialize a parameter\n * @param defaultValue A default value\n * @param includeNull\n */\nexport function withDefault<D, DefaultType extends D2, D2 = D>(\n  param: QueryParamConfig<D, D2>,\n  defaultValue: DefaultType,\n  includeNull?: false | undefined\n): QueryParamConfig<D, Exclude<D2, undefined> | DefaultType>;\nexport function withDefault<D, DefaultType extends D2, D2 = D>(\n  param: QueryParamConfig<D, D2>,\n  defaultValue: DefaultType,\n  includeNull?: true\n): QueryParamConfig<D, Exclude<D2, null | undefined> | DefaultType>;\nexport function withDefault<D, DefaultType extends D2, D2 = D>(\n  param: QueryParamConfig<D, D2>,\n  defaultValue: DefaultType,\n  includeNull: boolean = true\n): QueryParamConfig<D, any | DefaultType> {\n  const decodeWithDefault = (\n    ...args: Parameters<typeof param.decode>\n  ): Exclude<D2, null | undefined> | Exclude<D2, undefined> | DefaultType => {\n    const decodedValue = param.decode(...args);\n\n    if (decodedValue === undefined) {\n      return defaultValue;\n    }\n    if (includeNull) {\n      if (decodedValue === null) {\n        return defaultValue;\n      } else {\n        return decodedValue as Exclude<D2, undefined>;\n      }\n    }\n\n    return decodedValue as Exclude<D2, undefined | null>;\n  };\n\n  // note we add `default` into the param for other tools to introspect\n  return { ...param, default: defaultValue, decode: decodeWithDefault };\n}\nexport default withDefault;\n","/**\n * Interprets an encoded string and returns either the string or null/undefined if not available.\n * Ignores array inputs (takes just first element in array)\n * @param input encoded string\n */\nfunction getEncodedValue(\n  input: string | (string | null)[] | null | undefined,\n  allowEmptyString?: boolean\n): string | null | undefined {\n  if (input == null) {\n    return input;\n  }\n  // '' or []\n  if (\n    input.length === 0 &&\n    (!allowEmptyString || (allowEmptyString && input !== ''))\n  ) {\n    return null;\n  }\n\n  const str = input instanceof Array ? input[0] : input;\n  if (str == null) {\n    return str;\n  }\n  if (!allowEmptyString && str === '') {\n    return null;\n  }\n\n  return str;\n}\n\n/**\n * Interprets an encoded string and return null/undefined or an array with\n * the encoded string contents\n * @param input encoded string\n */\nfunction getEncodedValueArray(\n  input: string | (string | null)[] | null | undefined\n): (string | null)[] | null | undefined {\n  if (input == null) {\n    return input;\n  }\n\n  return input instanceof Array ? input : input === '' ? [] : [input];\n}\n\n/**\n * Encodes a date as a string in YYYY-MM-DD format.\n *\n * @param {Date} date\n * @return {String} the encoded date\n */\nexport function encodeDate(\n  date: Date | null | undefined\n): string | null | undefined {\n  if (date == null) {\n    return date;\n  }\n\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n\n  return `${year}-${month < 10 ? `0${month}` : month}-${\n    day < 10 ? `0${day}` : day\n  }`;\n}\n\n/**\n * Converts a date in the format 'YYYY-mm-dd...' into a proper date, because\n * new Date() does not do that correctly. The date can be as complete or incomplete\n * as necessary (aka, '2015', '2015-10', '2015-10-01').\n * It will not work for dates that have times included in them.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param  {String} input String date form like '2015-10-01'\n * @return {Date} parsed date\n */\nexport function decodeDate(\n  input: string | (string | null)[] | null | undefined\n): Date | null | undefined {\n  const dateString = getEncodedValue(input);\n  if (dateString == null) return dateString;\n\n  const parts = dateString.split('-') as any;\n  // may only be a year so won't even have a month\n  if (parts[1] != null) {\n    parts[1] -= 1; // Note: months are 0-based\n  } else {\n    // just a year, set the month and day to the first\n    parts[1] = 0;\n    parts[2] = 1;\n  }\n\n  const decoded = new Date(...(parts as [number, number, number]));\n\n  if (isNaN(decoded.getTime())) {\n    return null;\n  }\n\n  return decoded;\n}\n\n/**\n * Encodes a date as a string in ISO 8601 (\"2019-05-28T10:58:40Z\") format.\n *\n * @param {Date} date\n * @return {String} the encoded date\n */\nexport function encodeDateTime(\n  date: Date | null | undefined\n): string | null | undefined {\n  if (date == null) {\n    return date;\n  }\n\n  return date.toISOString();\n}\n\n/**\n * Converts a date in the https://en.wikipedia.org/wiki/ISO_8601 format.\n * For allowed inputs see specs:\n *  - https://tools.ietf.org/html/rfc2822#page-14\n *  - http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.15\n *\n * If an array is provided, only the first entry is used.\n *\n * @param  {String} input String date form like '1995-12-17T03:24:00'\n * @return {Date} parsed date\n */\nexport function decodeDateTime(\n  input: string | (string | null)[] | null | undefined\n): Date | null | undefined {\n  const dateString = getEncodedValue(input);\n  if (dateString == null) return dateString;\n\n  const decoded = new Date(dateString);\n\n  if (isNaN(decoded.getTime())) {\n    return null;\n  }\n\n  return decoded;\n}\n\n/**\n * Encodes a boolean as a string. true -> \"1\", false -> \"0\".\n *\n * @param {Boolean} bool\n * @return {String} the encoded boolean\n */\nexport function encodeBoolean(\n  bool: boolean | null | undefined\n): string | null | undefined {\n  if (bool == null) {\n    return bool;\n  }\n\n  return bool ? '1' : '0';\n}\n\n/**\n * Decodes a boolean from a string. \"1\" -> true, \"0\" -> false.\n * Everything else maps to undefined.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input the encoded boolean string\n * @return {Boolean} the boolean value\n */\nexport function decodeBoolean(\n  input: string | (string | null)[] | null | undefined\n): boolean | null | undefined {\n  const boolStr = getEncodedValue(input);\n  if (boolStr == null) return boolStr;\n\n  if (boolStr === '1') {\n    return true;\n  } else if (boolStr === '0') {\n    return false;\n  }\n\n  return null;\n}\n\n/**\n * Encodes a number as a string.\n *\n * @param {Number} num\n * @return {String} the encoded number\n */\nexport function encodeNumber(\n  num: number | null | undefined\n): string | null | undefined {\n  if (num == null) {\n    return num;\n  }\n\n  return String(num);\n}\n\n/**\n * Decodes a number from a string. If the number is invalid,\n * it returns undefined.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input the encoded number string\n * @return {Number} the number value\n */\nexport function decodeNumber(\n  input: string | (string | null)[] | null | undefined\n): number | null | undefined {\n  const numStr = getEncodedValue(input);\n  if (numStr == null) return numStr;\n  if (numStr === '') return null;\n\n  const result = +numStr;\n  return result;\n}\n\n/**\n * Encodes a string while safely handling null and undefined values.\n *\n * @param {String} str a string to encode\n * @return {String} the encoded string\n */\nexport function encodeString(\n  str: string | (string | null)[] | null | undefined\n): string | null | undefined {\n  if (str == null) {\n    return str;\n  }\n\n  return String(str);\n}\n\n/**\n * Decodes a string while safely handling null and undefined values.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input the encoded string\n * @return {String} the string value\n */\nexport function decodeString(\n  input: string | (string | null)[] | null | undefined\n): string | null | undefined {\n  const str = getEncodedValue(input, true);\n  if (str == null) return str;\n\n  return String(str);\n}\n\n/**\n * Decodes an enum value while safely handling null and undefined values.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input the encoded string\n * @param {String[]} enumValues allowed enum values\n * @return {String} the string value from enumValues\n */\nexport function decodeEnum<T extends string>(\n  input: string | (string | null)[] | null | undefined,\n  enumValues: T[]\n): T | null | undefined {\n  const str = decodeString(input);\n  if (str == null) return str;\n  return enumValues.includes(str as any) ? (str as T) : undefined;\n}\n\n/**\n * Decodes an enum value from arrays while safely handling null and undefined values.\n *\n * @template T\n * @param {String} input the encoded string\n * @param {T[]} enumValues allowed enum values\n * @return {T[]} the string value from enumValues\n */\nexport function decodeArrayEnum<T extends string>(\n  input: string | (string | null)[] | null | undefined,\n  enumValues: T[]\n): T[] | null | undefined {\n  const arr = decodeArray(input);\n  if (arr == null) return arr;\n  if (!arr.length) return undefined;\n  return arr.every((str) => str != null && enumValues.includes(str as T))\n    ? (arr as T[])\n    : undefined;\n}\n\n/**\n * Decodes an enum value from arrays while safely handling null and undefined values.\n *\n * @template T\n * @param {String} input the encoded string\n * @param {T[]} enumValues allowed enum values\n * @param entrySeparator The array as a string with elements joined by the\n * entry separator\n * @return {T[]} the string value from enumValues\n */\nexport function decodeDelimitedArrayEnum<T extends string>(\n  input: string | (string | null)[] | null | undefined,\n  enumValues: T[],\n  entrySeparator = '_'\n): T[] | null | undefined {\n  if (input != null && Array.isArray(input) && !input.length) return undefined;\n  const arr = decodeDelimitedArray(input, entrySeparator);\n  return decodeArrayEnum(arr, enumValues);\n}\n\n/**\n * Encodes anything as a JSON string.\n *\n * @param {Any} any The thing to be encoded\n * @return {String} The JSON string representation of any\n */\nexport function encodeJson(\n  any: any | null | undefined\n): string | null | undefined {\n  if (any == null) {\n    return any;\n  }\n\n  return JSON.stringify(any);\n}\n\n/**\n * Decodes a JSON string into javascript\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input The JSON string representation\n * @return {Any} The javascript representation\n */\nexport function decodeJson(\n  input: string | (string | null)[] | null | undefined\n): any | null | undefined {\n  const jsonStr = getEncodedValue(input);\n  if (jsonStr == null) return jsonStr;\n\n  let result = null;\n  try {\n    result = JSON.parse(jsonStr);\n  } catch (e) {\n    /* ignore errors, returning undefined */\n  }\n\n  return result;\n}\n\n/**\n * Encodes an array as a JSON string.\n *\n * @param {Array} array The array to be encoded\n * @return {String[]} The array of strings to be put in the URL\n * as repeated query parameters\n */\nexport function encodeArray(\n  array: (string | null)[] | null | undefined\n): (string | null)[] | null | undefined {\n  if (array == null) {\n    return array;\n  }\n\n  return array;\n}\n\n/**\n * Decodes an array or singular value and returns it as an array\n * or undefined if falsy. Filters out undefined values.\n *\n * @param {String | Array} input The input value\n * @return {Array} The javascript representation\n */\nexport function decodeArray(\n  input: string | (string | null)[] | null | undefined\n): (string | null)[] | null | undefined {\n  const arr = getEncodedValueArray(input);\n  if (arr == null) return arr;\n\n  return arr;\n}\n\n/**\n * Encodes a numeric array as a JSON string.\n *\n * @param {Array} array The array to be encoded\n * @return {String[]} The array of strings to be put in the URL\n * as repeated query parameters\n */\nexport function encodeNumericArray(\n  array: (number | null)[] | null | undefined\n): (string | null)[] | null | undefined {\n  if (array == null) {\n    return array;\n  }\n\n  return array.map(String);\n}\n\n/**\n * Decodes an array or singular value and returns it as an array\n * or undefined if falsy. Filters out undefined and NaN values.\n *\n * @param {String | Array} input The input value\n * @return {Array} The javascript representation\n */\nexport function decodeNumericArray(\n  input: string | (string | null)[] | null | undefined\n): (number | null)[] | null | undefined {\n  const arr = decodeArray(input);\n  if (arr == null) return arr;\n\n  return arr.map((d) => (d === '' || d == null ? null : +d));\n}\n\n/**\n * Encodes an array as a delimited string. For example,\n * ['a', 'b'] -> 'a_b' with entrySeparator='_'\n *\n * @param array The array to be encoded\n * @param entrySeparator The string used to delimit entries\n * @return The array as a string with elements joined by the\n * entry separator\n */\nexport function encodeDelimitedArray(\n  array: (string | null)[] | null | undefined,\n  entrySeparator = '_'\n): string | null | undefined {\n  if (array == null) {\n    return array;\n  }\n\n  return array.join(entrySeparator);\n}\n\n/**\n * Decodes a delimited string into javascript array. For example,\n * 'a_b' -> ['a', 'b'] with entrySeparator='_'\n *\n * If an array is provided as input, only the first entry is used.\n *\n * @param {String} input The JSON string representation\n * @param entrySeparator The array as a string with elements joined by the\n * entry separator\n * @return {Array} The javascript representation\n */\nexport function decodeDelimitedArray(\n  input: string | (string | null)[] | null | undefined,\n  entrySeparator = '_'\n): (string | null)[] | null | undefined {\n  const arrayStr = getEncodedValue(input, true);\n  if (arrayStr == null) return arrayStr;\n  if (arrayStr === '') return [];\n\n  return arrayStr.split(entrySeparator);\n}\n\n/**\n * Encodes a numeric array as a delimited string. (alias of encodeDelimitedArray)\n * For example, [1, 2] -> '1_2' with entrySeparator='_'\n *\n * @param {Array} array The array to be encoded\n * @return {String} The JSON string representation of array\n */\nexport const encodeDelimitedNumericArray = encodeDelimitedArray as (\n  array: (number | null)[] | null | undefined,\n  entrySeparator?: string\n) => string | null | undefined;\n\n/**\n * Decodes a delimited string into javascript array where all entries are numbers\n * For example, '1_2' -> [1, 2] with entrySeparator='_'\n *\n * If an array is provided as input, only the first entry is used.\n *\n * @param {String} jsonStr The JSON string representation\n * @return {Array} The javascript representation\n */\nexport function decodeDelimitedNumericArray(\n  arrayStr: string | (string | null)[] | null | undefined,\n  entrySeparator = '_'\n): (number | null)[] | null | undefined {\n  const decoded = decodeDelimitedArray(arrayStr, entrySeparator);\n  if (decoded == null) return decoded;\n\n  return decoded.map((d) => (d === '' || d == null ? null : +d));\n}\n\n/**\n * Encode simple objects as readable strings. Works only for simple,\n * flat objects where values are numbers, strings.\n *\n * For example { foo: bar, boo: baz } -> \"foo-bar_boo-baz\"\n *\n * @param {Object} object The object to encode\n * @param {String} keyValSeparator=\"-\" The separator between keys and values\n * @param {String} entrySeparator=\"_\" The separator between entries\n * @return {String} The encoded object\n */\nexport function encodeObject(\n  obj: { [key: string]: string | null | number | undefined } | null | undefined,\n  keyValSeparator = '-',\n  entrySeparator = '_'\n): string | null | undefined {\n  if (obj == null) return obj; // null or undefined\n  if (!Object.keys(obj).length) return ''; // {} case\n\n  return Object.keys(obj)\n    .map((key) => `${key}${keyValSeparator}${obj[key]}`)\n    .join(entrySeparator);\n}\n\n/**\n * Decodes a simple object to javascript. Currently works only for simple,\n * flat objects where values are strings.\n *\n * For example \"foo-bar_boo-baz\" -> { foo: bar, boo: baz }\n *\n * If an array is provided as input, only the first entry is used.\n *\n * @param {String} input The object string to decode\n * @param {String} keyValSeparator=\"-\" The separator between keys and values\n * @param {String} entrySeparator=\"_\" The separator between entries\n * @return {Object} The javascript object\n */\nexport function decodeObject(\n  input: string | (string | null)[] | null | undefined,\n  keyValSeparator = '-',\n  entrySeparator = '_'\n): { [key: string]: string } | null | undefined {\n  const objStr = getEncodedValue(input, true);\n  if (objStr == null) return objStr;\n  if (objStr === '') return {};\n\n  const obj: { [key: string]: string } = {};\n\n  const keyValSeparatorRegExp = new RegExp(`${keyValSeparator}(.*)`);\n  objStr.split(entrySeparator).forEach((entryStr) => {\n    const [key, value] = entryStr.split(keyValSeparatorRegExp);\n    obj[key] = value;\n  });\n\n  return obj;\n}\n\n/**\n * Encode simple objects as readable strings. Alias of encodeObject.\n *\n * For example { foo: 123, boo: 521 } -> \"foo-123_boo-521\"\n *\n * @param {Object} object The object to encode\n * @param {String} keyValSeparator=\"-\" The separator between keys and values\n * @param {String} entrySeparator=\"_\" The separator between entries\n * @return {String} The encoded object\n */\nexport const encodeNumericObject = encodeObject as (\n  obj: { [key: string]: number | null | undefined } | null | undefined,\n  keyValSeparator?: string,\n  entrySeparator?: string\n) => string | null | undefined;\n\n/**\n * Decodes a simple object to javascript where all values are numbers.\n * Currently works only for simple, flat objects.\n *\n * For example \"foo-123_boo-521\" -> { foo: 123, boo: 521 }\n *\n * If an array is provided as input, only the first entry is used.\n *\n * @param {String} input The object string to decode\n * @param {String} keyValSeparator=\"-\" The separator between keys and values\n * @param {String} entrySeparator=\"_\" The separator between entries\n * @return {Object} The javascript object\n */\nexport function decodeNumericObject(\n  input: string | (string | null)[] | null | undefined,\n  keyValSeparator = '-',\n  entrySeparator = '_'\n): { [key: string]: number | null | undefined } | null | undefined {\n  const decoded: { [key: string]: string } | null | undefined = decodeObject(\n    input,\n    keyValSeparator,\n    entrySeparator\n  );\n\n  if (decoded == null) return decoded;\n\n  // convert to numbers\n  const decodedNumberObj: { [key: string]: number | null | undefined } = {};\n  for (const key of Object.keys(decoded)) {\n    decodedNumberObj[key] = decodeNumber(decoded[key]);\n  }\n\n  return decodedNumberObj;\n}\n","import * as Serialize from './serialize';\nimport { QueryParamConfig } from './types';\n\n/**\n * String values\n */\nexport const StringParam: QueryParamConfig<\n  string | null | undefined,\n  string | null | undefined\n> = {\n  encode: Serialize.encodeString,\n  decode: Serialize.decodeString,\n};\n\n/**\n * String enum\n */\nexport const createEnumParam = <T extends string>(\n  enumValues: T[]\n): QueryParamConfig<T | null | undefined, T | null | undefined> => ({\n  encode: Serialize.encodeString,\n  decode: (input) => Serialize.decodeEnum(input, enumValues),\n});\n\n/**\n * Array enum\n */\nexport const createEnumArrayParam = <T extends string>(\n  enumValues: T[]\n): QueryParamConfig<T[] | null | undefined, T[] | null | undefined> => ({\n  encode: (text) =>\n    Serialize.encodeArray(text == null || Array.isArray(text) ? text : [text]),\n  decode: (input) => Serialize.decodeArrayEnum(input, enumValues),\n});\n\n/**\n * Array delimited enum\n */\nexport const createEnumDelimitedArrayParam = <T extends string>(\n  enumValues: T[],\n  entrySeparator = '_'\n): QueryParamConfig<T[] | null | undefined, T[] | null | undefined> => ({\n  encode: (text) =>\n    Serialize.encodeDelimitedArray(\n      text == null || Array.isArray(text) ? text : [text],\n      entrySeparator\n    ),\n  decode: (input) =>\n    Serialize.decodeDelimitedArrayEnum(input, enumValues, entrySeparator),\n});\n\n/**\n * Numbers (integers or floats)\n */\nexport const NumberParam: QueryParamConfig<\n  number | null | undefined,\n  number | null | undefined\n> = {\n  encode: Serialize.encodeNumber,\n  decode: Serialize.decodeNumber,\n};\n\n/**\n * For flat objects where values are strings\n */\nexport const ObjectParam: QueryParamConfig<\n  { [key: string]: string | undefined } | null | undefined,\n  { [key: string]: string | undefined } | null | undefined\n> = {\n  encode: Serialize.encodeObject,\n  decode: Serialize.decodeObject,\n};\n\n/**\n * For flat arrays of strings, filters out undefined values during decode\n */\nexport const ArrayParam: QueryParamConfig<\n  (string | null)[] | null | undefined,\n  (string | null)[] | null | undefined\n> = {\n  encode: Serialize.encodeArray,\n  decode: Serialize.decodeArray,\n};\n\n/**\n * For flat arrays of strings, filters out undefined values during decode\n */\nexport const NumericArrayParam: QueryParamConfig<\n  (number | null)[] | null | undefined,\n  (number | null)[] | null | undefined\n> = {\n  encode: Serialize.encodeNumericArray,\n  decode: Serialize.decodeNumericArray,\n};\n\n/**\n * For any type of data, encoded via JSON.stringify\n */\nexport const JsonParam: QueryParamConfig<any, any> = {\n  encode: Serialize.encodeJson,\n  decode: Serialize.decodeJson,\n};\n\n/**\n * For simple dates (YYYY-MM-DD)\n */\nexport const DateParam: QueryParamConfig<\n  Date | null | undefined,\n  Date | null | undefined\n> = {\n  encode: Serialize.encodeDate,\n  decode: Serialize.decodeDate,\n  equals: (\n    valueA: Date | null | undefined,\n    valueB: Date | null | undefined\n  ) => {\n    if (valueA === valueB) return true;\n    if (valueA == null || valueB == null) return valueA === valueB;\n\n    // ignore time of day\n    return (\n      valueA.getFullYear() === valueB.getFullYear() &&\n      valueA.getMonth() === valueB.getMonth() &&\n      valueA.getDate() === valueB.getDate()\n    );\n  },\n};\n\n/**\n * For dates in simplified extended ISO format (YYYY-MM-DDTHH:mm:ss.sssZ or ±YYYYYY-MM-DDTHH:mm:ss.sssZ)\n */\nexport const DateTimeParam: QueryParamConfig<\n  Date | null | undefined,\n  Date | null | undefined\n> = {\n  encode: Serialize.encodeDateTime,\n  decode: Serialize.decodeDateTime,\n  equals: (\n    valueA: Date | null | undefined,\n    valueB: Date | null | undefined\n  ) => {\n    if (valueA === valueB) return true;\n    if (valueA == null || valueB == null) return valueA === valueB;\n\n    return valueA.valueOf() === valueB.valueOf();\n  },\n};\n\n/**\n * For boolean values: 1 = true, 0 = false\n */\nexport const BooleanParam: QueryParamConfig<\n  boolean | null | undefined,\n  boolean | null | undefined\n> = {\n  encode: Serialize.encodeBoolean,\n  decode: Serialize.decodeBoolean,\n};\n\n/**\n * For flat objects where the values are numbers\n */\nexport const NumericObjectParam: QueryParamConfig<\n  { [key: string]: number | null | undefined } | null | undefined,\n  { [key: string]: number | null | undefined } | null | undefined\n> = {\n  encode: Serialize.encodeNumericObject,\n  decode: Serialize.decodeNumericObject,\n};\n\n/**\n * For flat arrays of strings, filters out undefined values during decode\n */\nexport const DelimitedArrayParam: QueryParamConfig<\n  (string | null)[] | null | undefined,\n  (string | null)[] | null | undefined\n> = {\n  encode: Serialize.encodeDelimitedArray,\n  decode: Serialize.decodeDelimitedArray,\n};\n\n/**\n * For flat arrays where the values are numbers, filters out undefined values during decode\n */\nexport const DelimitedNumericArrayParam: QueryParamConfig<\n  (number | null)[] | null | undefined,\n  (number | null)[] | null | undefined\n> = {\n  encode: Serialize.encodeDelimitedNumericArray,\n  decode: Serialize.decodeDelimitedNumericArray,\n};\n","import { EncodedQuery } from './types';\nimport { objectToSearchString } from './objectToSearchString';\nimport { searchStringToObject } from '.';\n\n/**\n * An example of a transformSearchString function that undoes encoding of\n * common JSON characters that are technically allowed in URLs.\n */\nconst JSON_SAFE_CHARS = `{}[],\":`\n  .split('')\n  .map((d) => [d, encodeURIComponent(d)]);\n\nfunction getHrefFromLocation(location: Location, search: string): string {\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/URL\n  let href: string = search;\n\n  if (location.href) {\n      // TODO - implement base option if location.href is relative\n      //  see https://developer.mozilla.org/en-US/docs/Web/API/URL/URL#syntax\n    try {\n      const url = new URL(location.href);\n      href = `${url.origin}${url.pathname}${search}`;\n    } catch (e) {\n      href = '';\n    }\n  }\n\n  return href;\n}\n\nexport function transformSearchStringJsonSafe(searchString: string): string {\n  let str = searchString;\n  for (let [char, code] of JSON_SAFE_CHARS) {\n    str = str.replace(new RegExp('\\\\' + code, 'g'), char);\n  }\n  return str;\n}\n\n/**\n * Update a location, wiping out parameters not included in encodedQuery\n * If a param is set to undefined it will be removed from the URL.\n */\nexport function updateLocation(\n  encodedQuery: EncodedQuery,\n  location: Location,\n  objectToSearchStringFn = objectToSearchString\n): Location {\n  let encodedSearchString = objectToSearchStringFn(encodedQuery);\n\n  const search = encodedSearchString.length ? `?${encodedSearchString}` : '';\n\n  const newLocation: Location & {\n    key: string;\n    query: EncodedQuery;\n  } = {\n    ...location,\n    key: `${Date.now()}`, // needed for some routers (e.g. react-router)\n    href: getHrefFromLocation(location, search),\n    search,\n    query: encodedQuery, // needed for some routers (e.g. found)\n  };\n\n  return newLocation;\n}\n\n/**\n * Update a location while retaining existing parameters.\n * If a param is set to undefined it will be removed from the URL.\n */\nexport function updateInLocation(\n  encodedQueryReplacements: EncodedQuery,\n  location: Location,\n  objectToSearchStringFn = objectToSearchString,\n  searchStringToObjectFn = searchStringToObject\n): Location {\n  // explicitly avoid parsing numbers to ensure the\n  // return type has the same shape as EncodeQuery\n  const currQuery = searchStringToObjectFn(location.search);\n\n  const newQuery = {\n    ...currQuery,\n    ...encodedQueryReplacements,\n  };\n\n  return updateLocation(newQuery, location, objectToSearchStringFn);\n}\n","import { DecodedValueMap, QueryParamConfigMap, EncodedValueMap } from './types';\n\n/**\n * Convert the values in query to strings via the encode functions configured\n * in paramConfigMap\n *\n * @param paramConfigMap Map from query name to { encode, decode } config\n * @param query Query updates mapping param name to decoded value\n */\nexport function encodeQueryParams<QPCMap extends QueryParamConfigMap>(\n  paramConfigMap: QPCMap,\n  query: Partial<DecodedValueMap<QPCMap>>\n): Partial<EncodedValueMap<QPCMap>> {\n  const encodedQuery: Partial<EncodedValueMap<QPCMap>> = {};\n\n  const paramNames = Object.keys(query);\n  for (const paramName of paramNames) {\n    const decodedValue = query[paramName];\n\n    if (!paramConfigMap[paramName]) {\n      // NOTE: we could just not encode it, but it is probably convenient to have\n      // it be included by default as a string type.\n      (encodedQuery as any)[paramName] =\n        decodedValue == null ? decodedValue : String(decodedValue);\n    } else {\n      encodedQuery[paramName as keyof QPCMap] = paramConfigMap[\n        paramName\n      ].encode(query[paramName]);\n    }\n  }\n\n  return encodedQuery;\n}\nexport default encodeQueryParams;\n","type EncodedValue = string | (string | null)[] | null | undefined;\n\ntype CachedParam = {\n  stringified: EncodedValue;\n  decoded: any;\n  decode: Function;\n};\n\n/**\n * simple cache that keeps values around so long as something\n * has registered interest in it (typically via calling useQueryParams).\n * Caches based on the stringified value as the key and the\n * last passed in decode function.\n */\nexport class DecodedParamCache {\n  private paramsMap: Map<string, CachedParam>;\n  private registeredParams: Map<string, number>;\n\n  constructor() {\n    this.paramsMap = new Map();\n    this.registeredParams = new Map();\n  }\n\n  set(\n    param: string,\n    stringifiedValue: EncodedValue,\n    decodedValue: any,\n    decode: Function\n  ) {\n    this.paramsMap.set(param, {\n      stringified: stringifiedValue,\n      decoded: decodedValue,\n      decode,\n    });\n  }\n\n  /**\n   * A param has been cached if the stringified value and decode function matches\n   */\n  has(param: string, stringifiedValue: EncodedValue, decode?: Function) {\n    if (!this.paramsMap.has(param)) return false;\n    const cachedParam = this.paramsMap.get(param);\n    if (!cachedParam) return false;\n\n    return (\n      cachedParam.stringified === stringifiedValue &&\n      (decode == null || cachedParam.decode === decode)\n    );\n  }\n\n  get(param: string) {\n    if (this.paramsMap.has(param)) return this.paramsMap.get(param)?.decoded;\n    return undefined;\n  }\n\n  /**\n   * Register interest in a set of param names. When these go to 0 they are cleaned out.\n   */\n  registerParams(paramNames: string[]) {\n    for (const param of paramNames) {\n      const currValue = this.registeredParams.get(param) || 0;\n      this.registeredParams.set(param, currValue + 1);\n    }\n  }\n\n  /**\n   * Unregister interest in a set of param names. If there is no remaining interest,\n   * remove the decoded value from the cache to prevent memory leaks.\n   */\n  unregisterParams(paramNames: string[]) {\n    for (const param of paramNames) {\n      const value = (this.registeredParams.get(param) || 0) - 1;\n      if (value <= 0) {\n        this.registeredParams.delete(param);\n        if (this.paramsMap.has(param)) {\n          this.paramsMap.delete(param);\n        }\n      } else {\n        this.registeredParams.set(param, value);\n      }\n    }\n  }\n\n  clear() {\n    this.paramsMap.clear();\n    this.registeredParams.clear();\n  }\n}\n\nexport const decodedParamCache = new DecodedParamCache();\n","import {\n  QueryParamConfig,\n  QueryParamConfigMap,\n  StringParam,\n} from 'serialize-query-params';\nimport { QueryParamOptions } from './options';\nimport { QueryParamConfigMapWithInherit } from './types';\n\n/**\n * Convert inherit strings from a query param config to actual\n * parameters based on predefined ('inherited') mappings.\n * Defaults to StringParam.\n */\nexport function convertInheritedParamStringsToParams(\n  paramConfigMapWithInherit: QueryParamConfigMapWithInherit,\n  options: QueryParamOptions\n): QueryParamConfigMap {\n  const paramConfigMap: QueryParamConfigMap = {};\n  let hasInherit = false;\n\n  const hookKeys = Object.keys(paramConfigMapWithInherit);\n  let paramKeys = hookKeys;\n\n  // include known params if asked for explicitly, or no params were configured and we didn't\n  // explicitly say not to\n  const includeKnownParams =\n    options.includeKnownParams ||\n    (options.includeKnownParams !== false && hookKeys.length === 0);\n\n  if (includeKnownParams) {\n    const knownKeys = Object.keys(options.params ?? {});\n    paramKeys.push(...knownKeys);\n  }\n\n  for (const key of paramKeys) {\n    const param = paramConfigMapWithInherit[key];\n    // does it have an existing parameter definition? use it\n    if (param != null && typeof param === 'object') {\n      paramConfigMap[key] = param;\n      continue;\n    }\n\n    // otherwise, we have to inherit or use the default\n    hasInherit = true;\n\n    // default is StringParam\n    paramConfigMap[key] = options.params?.[key] ?? StringParam;\n  }\n\n  // if we didn't inherit anything, just return the input\n  if (!hasInherit) return paramConfigMapWithInherit as QueryParamConfigMap;\n\n  return paramConfigMap;\n}\n\n/**\n * Extends a config to include params for all specified keys,\n * defaulting to StringParam if not found in the inheritedParams\n * map.\n */\nexport function extendParamConfigForKeys(\n  baseParamConfigMap: QueryParamConfigMap,\n  paramKeys: string[],\n  inheritedParams?: QueryParamOptions['params'] | undefined,\n  defaultParam?: QueryParamConfig<any> | undefined\n) {\n  // if we aren't inheriting anything or there are no params, return the input\n  if (!inheritedParams || !paramKeys.length) return baseParamConfigMap;\n\n  let paramConfigMap = { ...baseParamConfigMap };\n  let hasInherit = false;\n  for (const paramKey of paramKeys) {\n    // if it is missing a parameter, fill it in\n    if (!Object.prototype.hasOwnProperty.call(paramConfigMap, paramKey)) {\n      paramConfigMap[paramKey] = inheritedParams[paramKey] ?? defaultParam;\n      hasInherit = true;\n    }\n  }\n\n  if (!hasInherit) return baseParamConfigMap;\n  return paramConfigMap;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license at\n * https://github.com/facebook/fbjs/blob/master/LICENSE\n */\n\n/*eslint-disable no-self-compare */\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any): boolean {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n\n * @pbeshai modification of shallowEqual to take into consideration a map providing\n * equals functions\n */\nexport default function shallowEqual(\n  objA: any,\n  objB: any,\n  equalMap?: any\n): boolean {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    const isEqual = equalMap?.[keysA[i]]?.equals ?? is;\n    if (\n      !hasOwnProperty.call(objB, keysA[i]) ||\n      !isEqual(objA[keysA[i]], objB[keysA[i]])\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import {\n  DecodedValueMap,\n  EncodedQuery,\n  QueryParamConfigMap,\n} from 'serialize-query-params';\nimport { DecodedParamCache } from './decodedParamCache';\nimport shallowEqual from './shallowEqual';\n\n/**\n * Helper to get the latest decoded values with smart caching.\n * Abstracted into its own function to allow re-use in a functional setter (#26)\n */\nexport function getLatestDecodedValues<QPCMap extends QueryParamConfigMap>(\n  parsedParams: EncodedQuery,\n  paramConfigMap: QPCMap,\n  decodedParamCache: DecodedParamCache\n) {\n  const decodedValues: Partial<DecodedValueMap<QPCMap>> = {};\n\n  // we have new encoded values, so let's get new decoded values.\n  // recompute new values but only for those that changed\n  const paramNames = Object.keys(paramConfigMap);\n  for (const paramName of paramNames) {\n    // do we have a new encoded value?\n    const paramConfig = paramConfigMap[paramName];\n    const encodedValue = parsedParams[paramName];\n\n    // if we have a new encoded value, re-decode. otherwise reuse cache\n    let decodedValue;\n    if (decodedParamCache.has(paramName, encodedValue, paramConfig.decode)) {\n      decodedValue = decodedParamCache.get(paramName);\n    } else {\n      decodedValue = paramConfig.decode(encodedValue);\n\n      // check if we had a cached value for this encoded value but a different encoder\n      // (sometimes people inline decode functions, e.g. withDefault...)\n      // AND we had a different equals check than ===\n      if (\n        paramConfig.equals &&\n        decodedParamCache.has(paramName, encodedValue)\n      ) {\n        const oldDecodedValue = decodedParamCache.get(paramName);\n        if (paramConfig.equals(decodedValue, oldDecodedValue)) {\n          decodedValue = oldDecodedValue;\n        }\n      }\n\n      // do not cache undefined values\n      if (decodedValue !== undefined) {\n        decodedParamCache.set(\n          paramName,\n          encodedValue,\n          decodedValue,\n          paramConfig.decode\n        );\n      }\n    }\n\n    // in case the decode function didn't interpret `default` for some reason,\n    // we can interpret it here as a backup\n    if (decodedValue === undefined && paramConfig.default !== undefined) {\n      decodedValue = paramConfig.default;\n    }\n\n    decodedValues[paramName as keyof QPCMap] = decodedValue;\n  }\n\n  return decodedValues as DecodedValueMap<QPCMap>;\n}\n\n/**\n * Wrap get latest so we use the same exact object if the current\n * values are shallow equal to the previous.\n */\nexport function makeStableGetLatestDecodedValues() {\n  let prevDecodedValues: DecodedValueMap<any> | undefined;\n\n  function stableGetLatest<QPCMap extends QueryParamConfigMap>(\n    parsedParams: EncodedQuery,\n    paramConfigMap: QPCMap,\n    decodedParamCache: DecodedParamCache\n  ) {\n    const decodedValues = getLatestDecodedValues(\n      parsedParams,\n      paramConfigMap,\n      decodedParamCache\n    );\n    if (\n      prevDecodedValues != null &&\n      shallowEqual(prevDecodedValues, decodedValues)\n    ) {\n      return prevDecodedValues;\n    }\n    prevDecodedValues = decodedValues;\n    return decodedValues;\n  }\n\n  return stableGetLatest;\n}\n","import { EncodedQuery } from 'serialize-query-params';\nimport shallowEqual from './shallowEqual';\nimport { deserializeUrlNameMap } from './urlName';\n\nlet cachedSearchString: string | undefined;\nlet cachedUrlNameMapString: string | undefined;\nlet cachedSearchStringToObjectFn:\n  | ((searchString: string) => EncodedQuery)\n  | undefined;\nlet cachedParsedQuery: EncodedQuery = {};\n\n/**\n * cached conversion of ?foo=1&bar=2 to { foo: '1', bar: '2' }\n */\nexport const memoSearchStringToObject = (\n  searchStringToObject: (searchString: string) => EncodedQuery,\n  searchString?: string | undefined,\n  /** optionally provide a mapping string to handle renames via `urlName`\n   * mapping are separated by \\n and mappings are urlName\\0paramName\n   */\n  urlNameMapStr?: string | undefined\n) => {\n  // if we have a cached version, just return it\n  if (\n    cachedSearchString === searchString &&\n    cachedSearchStringToObjectFn === searchStringToObject &&\n    cachedUrlNameMapString === urlNameMapStr\n  ) {\n    return cachedParsedQuery;\n  }\n\n  cachedSearchString = searchString;\n  cachedSearchStringToObjectFn = searchStringToObject;\n  const newParsedQuery = searchStringToObject(searchString ?? '');\n  cachedUrlNameMapString = urlNameMapStr;\n\n  const urlNameMap = deserializeUrlNameMap(urlNameMapStr);\n\n  // keep old values for keys if they are the same\n  for (let [key, value] of Object.entries(newParsedQuery)) {\n    // handle url name mapping\n    if (urlNameMap?.[key]) {\n      delete newParsedQuery[key];\n      key = urlNameMap[key];\n      newParsedQuery[key] = value;\n    }\n\n    const oldValue = cachedParsedQuery[key];\n    if (shallowEqual(value, oldValue)) {\n      newParsedQuery[key] = oldValue;\n    }\n  }\n\n  cachedParsedQuery = newParsedQuery;\n  return newParsedQuery;\n};\n","import { EncodedValueMap, QueryParamConfigMap } from 'serialize-query-params';\n\n/**\n * Create an alias mapping using the optional `urlName` property on params\n */\nexport function serializeUrlNameMap(\n  paramConfigMap: QueryParamConfigMap\n): string | undefined {\n  let urlNameMapParts: string[] | undefined;\n  for (const paramName in paramConfigMap) {\n    if (paramConfigMap[paramName].urlName) {\n      const urlName = paramConfigMap[paramName].urlName;\n      const part = `${urlName}\\0${paramName}`;\n      if (!urlNameMapParts) urlNameMapParts = [part];\n      else urlNameMapParts.push(part);\n    }\n  }\n\n  return urlNameMapParts ? urlNameMapParts.join('\\n') : undefined;\n}\n\n/**\n * Converts the stringified alias/urlName map back into an object\n */\nexport function deserializeUrlNameMap(\n  urlNameMapStr: string | undefined\n): Record<string, string> | undefined {\n  if (!urlNameMapStr) return undefined;\n\n  return Object.fromEntries(\n    urlNameMapStr.split('\\n').map((part) => part.split('\\0'))\n  );\n}\n\n/**\n * converts { searchString: 'foo'} to { q: 'foo'} if the searchString\n * is configured to have \"q\" as its urlName.\n */\nexport function applyUrlNames(\n  encodedValues: Partial<EncodedValueMap<any>>,\n  paramConfigMap: QueryParamConfigMap\n) {\n  let newEncodedValues: Partial<EncodedValueMap<any>> = {};\n  for (const paramName in encodedValues) {\n    if (paramConfigMap[paramName]?.urlName != null) {\n      newEncodedValues[paramConfigMap[paramName].urlName!] =\n        encodedValues[paramName];\n    } else {\n      newEncodedValues[paramName] = encodedValues[paramName];\n    }\n  }\n\n  return newEncodedValues;\n}\n","import {\n  EncodedQuery,\n  QueryParamConfigMap,\n  searchStringToObject,\n  objectToSearchString,\n} from 'serialize-query-params';\nimport { UrlUpdateType } from './types';\n\nexport const defaultOptions: QueryParamOptionsWithRequired = {\n  searchStringToObject: searchStringToObject,\n  objectToSearchString: objectToSearchString,\n  updateType: 'pushIn',\n  includeKnownParams: undefined,\n  includeAllParams: false,\n  removeDefaultsFromUrl: false,\n  enableBatching: false,\n  skipUpdateWhenNoChange: true,\n};\n\nexport interface QueryParamOptions {\n  searchStringToObject?: (searchString: string) => EncodedQuery;\n  objectToSearchString?: (encodedParams: EncodedQuery) => string;\n  updateType?: UrlUpdateType;\n  includeKnownParams?: boolean;\n  includeAllParams?: boolean;\n  /** whether sets that result in no change to the location search string should be ignored (default: true) */\n  skipUpdateWhenNoChange?: boolean;\n  params?: QueryParamConfigMap;\n\n  /** when a value equals its default, do not encode it in the URL when updating */\n  removeDefaultsFromUrl?: boolean;\n\n  /**\n   * @experimental this is an experimental option to combine multiple `set` calls\n   * into a single URL update.\n   */\n  enableBatching?: boolean;\n}\n\ntype RequiredOptions = 'searchStringToObject' | 'objectToSearchString';\nexport type QueryParamOptionsWithRequired = Required<\n  Pick<QueryParamOptions, RequiredOptions>\n> &\n  Omit<QueryParamOptions, RequiredOptions>;\n\nexport function mergeOptions(\n  parentOptions: QueryParamOptionsWithRequired,\n  currOptions: QueryParamOptions | null | undefined\n): QueryParamOptionsWithRequired {\n  if (currOptions == null) {\n    currOptions = {};\n  }\n\n  const merged = { ...parentOptions, ...currOptions };\n\n  // deep merge param objects\n  if (currOptions.params && parentOptions.params) {\n    merged.params = { ...parentOptions.params, ...currOptions.params };\n  }\n\n  return merged;\n}\n","import * as React from 'react';\nimport {\n  mergeOptions,\n  defaultOptions,\n  QueryParamOptions,\n  QueryParamOptionsWithRequired,\n} from './options';\nimport { QueryParamAdapter, QueryParamAdapterComponent } from './types';\n\n/**\n * Shape of the QueryParamContext, which the hooks consume to read and\n * update the URL state.\n */\ntype QueryParamContextValue = {\n  adapter: QueryParamAdapter;\n  options: QueryParamOptionsWithRequired;\n};\n\nconst providerlessContextValue: QueryParamContextValue = {\n  adapter: {} as QueryParamAdapter,\n  options: defaultOptions,\n};\n\nexport const QueryParamContext = React.createContext<QueryParamContextValue>(\n  providerlessContextValue\n);\n\nexport function useQueryParamContext() {\n  const value = React.useContext(QueryParamContext);\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    (value === undefined || value === providerlessContextValue)\n  ) {\n    throw new Error('useQueryParams must be used within a QueryParamProvider');\n  }\n\n  return value;\n}\n\n/**\n * Props for the Provider component, used to hook the active routing\n * system into our controls. Note only the root provider requires\n * `adapter`. We try to encourage that via intellisense by writing\n * the types this way (you must provide at least one of adapter or options,\n * default intellisense suggests adapter required.)\n */\ntype QueryParamProviderProps = {\n  /** Main app goes here */\n  children: React.ReactNode;\n} & (\n  | {\n      adapter?: never;\n      options: QueryParamOptions;\n    }\n  | {\n      /** required for the root provider but not for nested ones */\n      adapter: QueryParamAdapterComponent;\n      options?: QueryParamOptions;\n    }\n);\n\nfunction QueryParamProviderInner({\n  children,\n  adapter,\n  options,\n}: {\n  children: React.ReactNode;\n  adapter?: QueryParamAdapter | undefined;\n  options?: QueryParamOptions;\n}) {\n  // allow merging in parent options\n  const { adapter: parentAdapter, options: parentOptions } =\n    React.useContext(QueryParamContext);\n\n  const value = React.useMemo(() => {\n    return {\n      adapter: adapter ?? parentAdapter,\n      options: mergeOptions(\n        parentOptions,\n        options\n      ) as QueryParamOptionsWithRequired,\n    };\n  }, [adapter, options, parentAdapter, parentOptions]);\n\n  return (\n    <QueryParamContext.Provider value={value}>\n      {children}\n    </QueryParamContext.Provider>\n  );\n}\n\n/**\n * Context provider for query params to have access to the\n * active routing system, enabling updates to the URL.\n */\nexport function QueryParamProvider({\n  children,\n  adapter,\n  options,\n}: QueryParamProviderProps) {\n  const Adapter = adapter;\n  return Adapter ? (\n    <Adapter>\n      {(adapter) => (\n        <QueryParamProviderInner adapter={adapter} options={options}>\n          {children}\n        </QueryParamProviderInner>\n      )}\n    </Adapter>\n  ) : (\n    <QueryParamProviderInner options={options}>\n      {children}\n    </QueryParamProviderInner>\n  );\n}\n\nexport default QueryParamProvider;\n","import { EncodedQuery } from './types';\n\n/**\n * Default implementation of searchStringToObject powered by URLSearchParams\n * This converts a search string like `?foo=123&bar=x` to { foo: '123', bar: 'x' }\n * This is only a very basic version, you may prefer the advanced versions offered\n * by third party libraries like query-string (\"parse\") or qs.\n */\nexport function searchStringToObject(searchString: string): EncodedQuery {\n  const params = new URLSearchParams(searchString);\n  const parsed: EncodedQuery = {};\n  for (let [key, value] of params) {\n    if (Object.prototype.hasOwnProperty.call(parsed, key)) {\n      if (Array.isArray(parsed[key])) {\n        (parsed[key] as string[]).push(value);\n      } else {\n        parsed[key] = [parsed[key] as string, value];\n      }\n    } else {\n      parsed[key] = value;\n    }\n  }\n\n  return parsed;\n}\n","import { EncodedQuery } from './types';\n\n/**\n * Default implementation of objectToSearchString powered by URLSearchParams.\n * Does not support null values. Does not prefix with \"?\"\n * This converts an object { foo: '123', bar: 'x' } to a search string `?foo=123&bar=x`\n * This is only a very basic version, you may prefer the advanced versions offered\n * by third party libraries like query-string (\"stringify\") or qs.\n */\nexport function objectToSearchString(encodedParams: EncodedQuery): string {\n  const params = new URLSearchParams();\n  const entries = Object.entries(encodedParams);\n\n  for (const [key, value] of entries) {\n    if (value === undefined) continue;\n    if (value === null) continue;\n\n    if (Array.isArray(value)) {\n      for (const item of value) {\n        params.append(key, item ?? '');\n      }\n    } else {\n      params.append(key, value);\n    }\n  }\n\n  return params.toString();\n}\n","import {\n  DecodedValueMap,\n  encodeQueryParams,\n  QueryParamConfigMap,\n} from 'serialize-query-params';\nimport { decodedParamCache } from './decodedParamCache';\nimport { extendParamConfigForKeys } from './inheritedParams';\nimport { getLatestDecodedValues } from './latestValues';\nimport { memoSearchStringToObject } from './memoSearchStringToObject';\nimport { QueryParamOptionsWithRequired } from './options';\nimport { removeDefaults } from './removeDefaults';\nimport { PartialLocation, QueryParamAdapter, UrlUpdateType } from './types';\nimport { applyUrlNames } from './urlName';\n\n// for multiple param config\ntype ChangesType<DecodedValueMapType> =\n  | Partial<DecodedValueMapType>\n  | ((latestValues: DecodedValueMapType) => Partial<DecodedValueMapType>);\n\n/**\n * Given a ?foo=1&bar=2 and { bar: 3, baz: true } produce ?foo=1&bar=3&baz=1\n * or similar, depending on updateType. The result will be prefixed with \"?\"\n * or just be the empty string.\n */\nexport function getUpdatedSearchString({\n  changes,\n  updateType,\n  currentSearchString,\n  paramConfigMap: baseParamConfigMap,\n  options,\n}: {\n  changes: ChangesType<DecodedValueMap<any>>;\n  updateType?: UrlUpdateType;\n  currentSearchString: string;\n  paramConfigMap: QueryParamConfigMap;\n  options: QueryParamOptionsWithRequired;\n}): string {\n  const { searchStringToObject, objectToSearchString } = options;\n  if (updateType == null) updateType = options.updateType;\n\n  let encodedChanges;\n  const parsedParams = memoSearchStringToObject(\n    searchStringToObject,\n    currentSearchString\n  );\n\n  // see if we have unconfigured params in the changes that we can\n  // inherit to expand our config map instead of just using strings\n  const paramConfigMap = extendParamConfigForKeys(\n    baseParamConfigMap,\n    Object.keys(changes),\n    options.params\n  );\n\n  // update changes prior to encoding to handle removing defaults\n  // getting latest values when functional update\n  let changesToUse: Partial<DecodedValueMap<any>>;\n\n  // functional updates here get the latest values\n  if (typeof changes === 'function') {\n    const latestValues = getLatestDecodedValues(\n      parsedParams,\n      paramConfigMap,\n      decodedParamCache\n    );\n\n    changesToUse = (changes as Function)(latestValues);\n  } else {\n    // simple update here\n    changesToUse = changes;\n  }\n\n  encodedChanges = encodeQueryParams(paramConfigMap, changesToUse);\n\n  // remove defaults\n  if (options.removeDefaultsFromUrl) {\n    removeDefaults(encodedChanges, paramConfigMap);\n  }\n\n  // interpret urlNames\n  encodedChanges = applyUrlNames(encodedChanges, paramConfigMap);\n\n  let newSearchString: string;\n  if (updateType === 'push' || updateType === 'replace') {\n    newSearchString = objectToSearchString(encodedChanges);\n  } else {\n    newSearchString = objectToSearchString({\n      ...parsedParams,\n      ...encodedChanges,\n    });\n  }\n\n  if (newSearchString?.length && newSearchString[0] !== '?') {\n    (newSearchString as any) = `?${newSearchString}`;\n  }\n\n  return newSearchString ?? '';\n}\n\n/**\n * uses an adapter to update a location object and optionally\n * navigate based on the updateType\n */\nexport function updateSearchString({\n  searchString,\n  adapter,\n  navigate,\n  updateType,\n}: {\n  searchString: string;\n  adapter: QueryParamAdapter;\n  navigate: boolean;\n  updateType?: UrlUpdateType;\n}) {\n  const currentLocation = adapter.location;\n\n  // update the location and URL\n  const newLocation: PartialLocation = {\n    ...currentLocation,\n    search: searchString,\n  };\n\n  if (navigate) {\n    // be defensive about checking updateType since it is somewhat easy to\n    // accidentally pass a second argument to the setter.\n    if (typeof updateType === 'string' && updateType.startsWith('replace')) {\n      adapter.replace(newLocation);\n    } else {\n      adapter.push(newLocation);\n    }\n  }\n}\n\ntype UpdateArgs = Parameters<typeof getUpdatedSearchString>[0] & {\n  adapter: QueryParamAdapter;\n};\n\nconst immediateTask = (task: Function) => task();\nconst timeoutTask = (task: Function) => setTimeout(() => task(), 0);\n// alternative could be native `queueMicrotask`\n\nconst updateQueue: UpdateArgs[] = [];\n\n/**\n * support batching by enqueuing updates (if immediate is not true)\n */\nexport function enqueueUpdate(\n  args: UpdateArgs,\n  { immediate }: { immediate?: boolean } = {}\n) {\n  updateQueue.push(args);\n  let scheduleTask = immediate ? immediateTask : timeoutTask;\n\n  if (updateQueue.length === 1) {\n    scheduleTask(() => {\n      const updates = updateQueue.slice();\n      updateQueue.length = 0;\n      const initialSearchString = updates[0].currentSearchString;\n\n      let searchString: string | undefined;\n      for (let i = 0; i < updates.length; ++i) {\n        const modifiedUpdate: UpdateArgs =\n          i === 0\n            ? updates[i]\n            : { ...updates[i], currentSearchString: searchString! };\n        searchString = getUpdatedSearchString(modifiedUpdate);\n      }\n\n      // do not update unnecessarily #234\n      if (\n        args.options.skipUpdateWhenNoChange &&\n        searchString === initialSearchString\n      ) {\n        return;\n      }\n\n      updateSearchString({\n        searchString: searchString ?? '',\n        adapter: updates[updates.length - 1].adapter,\n        navigate: true,\n        updateType: updates[updates.length - 1].updateType,\n      });\n    });\n  }\n}\n","import { EncodedValueMap, QueryParamConfigMap } from 'serialize-query-params';\n\n/**\n * Note: This function is destructive - it mutates encodedValues.\n * Remove values that match the encoded defaults from the encodedValues object\n */\nexport function removeDefaults(\n  encodedValues: Partial<EncodedValueMap<any>>,\n  paramConfigMap: QueryParamConfigMap\n) {\n  for (const paramName in encodedValues) {\n    // does it have a configured default and does it have a non-undefined value?\n    if (\n      paramConfigMap[paramName]?.default !== undefined &&\n      encodedValues[paramName] !== undefined\n    ) {\n      // does its current value match the encoded default\n      const encodedDefault = paramConfigMap[paramName].encode(\n        paramConfigMap[paramName].default\n      );\n      if (encodedDefault === encodedValues[paramName]) {\n        encodedValues[paramName] = undefined;\n      }\n    }\n  }\n}\n","import { useEffect, useMemo, useRef, useState } from 'react';\nimport {\n  DecodedValueMap,\n  QueryParamConfig,\n  QueryParamConfigMap,\n  StringParam,\n} from 'serialize-query-params';\nimport { decodedParamCache } from './decodedParamCache';\nimport {\n  extendParamConfigForKeys,\n  convertInheritedParamStringsToParams,\n} from './inheritedParams';\nimport { makeStableGetLatestDecodedValues } from './latestValues';\nimport { memoSearchStringToObject } from './memoSearchStringToObject';\nimport { mergeOptions, QueryParamOptions } from './options';\nimport { useQueryParamContext } from './QueryParamProvider';\nimport {\n  QueryParamConfigMapWithInherit,\n  SetQuery,\n  UrlUpdateType,\n} from './types';\nimport { enqueueUpdate } from './updateSearchString';\nimport { serializeUrlNameMap } from './urlName';\n\n// for multiple param config\ntype ChangesType<DecodedValueMapType> =\n  | Partial<DecodedValueMapType>\n  | ((latestValues: DecodedValueMapType) => Partial<DecodedValueMapType>);\n\ntype UseQueryParamsResult<QPCMap extends QueryParamConfigMap> = [\n  DecodedValueMap<QPCMap>,\n  SetQuery<QPCMap>\n];\ntype ExpandInherits<QPCMap extends QueryParamConfigMapWithInherit> = {\n  [ParamName in keyof QPCMap]: QPCMap[ParamName] extends string\n    ? typeof StringParam\n    : QPCMap[ParamName] extends QueryParamConfig<any>\n    ? QPCMap[ParamName]\n    : never;\n};\n\n/**\n * Given a query parameter configuration (mapping query param name to { encode, decode }),\n * return an object with the decoded values and a setter for updating them.\n */\nexport function useQueryParams<\n  QPCMap extends QueryParamConfigMap = QueryParamConfigMap\n>(): UseQueryParamsResult<QPCMap>;\nexport function useQueryParams<QPCMap extends QueryParamConfigMapWithInherit>(\n  names: string[],\n  options?: QueryParamOptions\n): UseQueryParamsResult<ExpandInherits<QPCMap>>;\nexport function useQueryParams<\n  QPCMap extends QueryParamConfigMapWithInherit,\n  OutputQPCMap extends QueryParamConfigMap = ExpandInherits<QPCMap>\n>(\n  paramConfigMap: QPCMap,\n  options?: QueryParamOptions\n): UseQueryParamsResult<OutputQPCMap>;\nexport function useQueryParams(\n  arg1?: string[] | QueryParamConfigMapWithInherit,\n  arg2?: QueryParamConfig<any> | QueryParamOptions\n): UseQueryParamsResult<any> {\n  const { adapter, options: contextOptions } = useQueryParamContext();\n  const [stableGetLatest] = useState(makeStableGetLatestDecodedValues);\n\n  // intepret the overloaded arguments\n  const { paramConfigMap: paramConfigMapWithInherit, options } = parseArguments(\n    arg1,\n    arg2\n  );\n\n  const mergedOptions = useMemo(() => {\n    return mergeOptions(contextOptions, options);\n  }, [contextOptions, options]);\n\n  // interpret params that were configured up the chain\n  let paramConfigMap = convertInheritedParamStringsToParams(\n    paramConfigMapWithInherit,\n    mergedOptions\n  );\n\n  // what is the current stringified value?\n  const parsedParams = memoSearchStringToObject(\n    mergedOptions.searchStringToObject,\n    adapter.location.search,\n    serializeUrlNameMap(paramConfigMap) // note we serialize for memo purposes\n  );\n\n  // do we want to include all params from the URL even if not configured?\n  if (mergedOptions.includeAllParams) {\n    paramConfigMap = extendParamConfigForKeys(\n      paramConfigMap,\n      Object.keys(parsedParams),\n      mergedOptions.params,\n      StringParam\n    );\n  }\n\n  // run decode on each key\n  const decodedValues = stableGetLatest(\n    parsedParams,\n    paramConfigMap,\n    decodedParamCache\n  );\n\n  // clear out unused values in cache\n  // use string for relatively stable effect dependency\n  const paramKeyString = Object.keys(paramConfigMap).join('\\0');\n  useEffect(() => {\n    const paramNames = paramKeyString.split('\\0');\n    decodedParamCache.registerParams(paramNames);\n    return () => {\n      decodedParamCache.unregisterParams(paramNames);\n    };\n  }, [paramKeyString]);\n\n  // create a setter for updating multiple query params at once\n  // use a ref for callback dependencies so we don't generate a new one unnecessarily\n  const callbackDependencies = {\n    adapter,\n    paramConfigMap,\n    options: mergedOptions,\n  };\n  const callbackDependenciesRef =\n    useRef<typeof callbackDependencies>(callbackDependencies);\n  if (callbackDependenciesRef.current == null) {\n    callbackDependenciesRef.current = callbackDependencies;\n  }\n  useEffect(() => {\n    callbackDependenciesRef.current.adapter = adapter;\n    callbackDependenciesRef.current.paramConfigMap = paramConfigMap;\n    callbackDependenciesRef.current.options = mergedOptions;\n  }, [adapter, paramConfigMap, mergedOptions]);\n\n  // create callback with stable identity\n  const [setQuery] = useState(() => {\n    const setQuery = (\n      changes: ChangesType<DecodedValueMap<any>>,\n      updateType?: UrlUpdateType\n    ) => {\n      // read from a ref so we don't generate new setters each time any change\n      const { adapter, paramConfigMap, options } =\n        callbackDependenciesRef.current!;\n      if (updateType == null) updateType = options.updateType;\n\n      enqueueUpdate(\n        {\n          changes,\n          updateType,\n          currentSearchString: adapter.location.search,\n          paramConfigMap,\n          options,\n          adapter,\n        },\n        { immediate: !options.enableBatching }\n      );\n    };\n\n    return setQuery;\n  });\n\n  return [decodedValues, setQuery];\n}\n\nexport default useQueryParams;\n\nfunction parseArguments(\n  arg1: string[] | QueryParamConfigMapWithInherit | undefined,\n  arg2: QueryParamConfig<any> | QueryParamOptions | undefined\n): {\n  paramConfigMap: QueryParamConfigMapWithInherit;\n  options: QueryParamOptions | undefined;\n} {\n  let paramConfigMap: QueryParamConfigMapWithInherit;\n  let options: QueryParamOptions | undefined;\n\n  if (arg1 === undefined) {\n    // useQueryParams()\n    paramConfigMap = {};\n    options = arg2 as QueryParamOptions | undefined;\n  } else if (Array.isArray(arg1)) {\n    // useQueryParams(['geo', 'other'])\n    // useQueryParams(['geo', 'other'], options)\n    paramConfigMap = Object.fromEntries(\n      arg1.map((key) => [key, 'inherit' as const])\n    );\n    options = arg2 as QueryParamOptions | undefined;\n  } else {\n    // useQueryParams({ geo: NumberParam })\n    // useQueryParams({ geo: NumberParam }, options)\n    paramConfigMap = arg1;\n    options = arg2 as QueryParamOptions | undefined;\n  }\n\n  return { paramConfigMap, options };\n}\n","import { useCallback, useMemo } from 'react';\nimport { QueryParamConfig } from 'serialize-query-params';\nimport { QueryParamOptions } from './options';\nimport { UrlUpdateType } from './types';\nimport useQueryParams from './useQueryParams';\n\ntype NewValueType<D> = D | ((latestValue: D) => D);\n\n/**\n * Given a query param name and query parameter configuration ({ encode, decode })\n * return the decoded value and a setter for updating it.\n *\n * The setter takes two arguments (newValue, updateType) where updateType\n * is one of 'replace' | 'replaceIn' | 'push' | 'pushIn', defaulting to\n * 'pushIn'.\n */\nexport const useQueryParam = <TypeToEncode, TypeFromDecode = TypeToEncode>(\n  name: string,\n  paramConfig?: QueryParamConfig<TypeToEncode, TypeFromDecode>,\n  options?: QueryParamOptions\n): [\n  TypeFromDecode,\n  (newValue: NewValueType<TypeToEncode>, updateType?: UrlUpdateType) => void\n] => {\n  const paramConfigMap = useMemo(\n    () => ({ [name]: paramConfig ?? 'inherit' }),\n    [name, paramConfig]\n  );\n  const [query, setQuery] = useQueryParams(paramConfigMap, options);\n  const decodedValue = query[name];\n  const setValue = useCallback(\n    (newValue: NewValueType<TypeToEncode>, updateType?: UrlUpdateType) => {\n      if (typeof newValue === 'function') {\n        return setQuery((latestValues) => {\n          const newValueFromLatest = (newValue as Function)(latestValues[name]);\n          return { [name]: newValueFromLatest };\n        }, updateType);\n      }\n      return setQuery({ [name]: newValue } as any, updateType);\n    },\n    [name, setQuery]\n  );\n\n  return [decodedValue, setValue];\n};\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nexport function invariant(condition: any, format: string, ...args: any[]) {\n\tif (isProduction()) {\n\t\tif (format === undefined) {\n\t\t\tthrow new Error('invariant requires an error message argument')\n\t\t}\n\t}\n\n\tif (!condition) {\n\t\tlet error\n\t\tif (format === undefined) {\n\t\t\terror = new Error(\n\t\t\t\t'Minified exception occurred; use the non-minified dev environment ' +\n\t\t\t\t\t'for the full error message and additional helpful warnings.',\n\t\t\t)\n\t\t} else {\n\t\t\tlet argIndex = 0\n\t\t\terror = new Error(\n\t\t\t\tformat.replace(/%s/g, function () {\n\t\t\t\t\treturn args[argIndex++]\n\t\t\t\t}),\n\t\t\t)\n\t\t\terror.name = 'Invariant Violation'\n\t\t}\n\n\t\t;(error as any).framesToPop = 1 // we don't care about invariant's own frame\n\t\tthrow error\n\t}\n}\n\nfunction isProduction() {\n\treturn (\n\t\ttypeof process !== 'undefined' && process.env['NODE_ENV'] === 'production'\n\t)\n}\n","export const FILE = '__NATIVE_FILE__'\nexport const URL = '__NATIVE_URL__'\nexport const TEXT = '__NATIVE_TEXT__'\nexport const HTML = '__NATIVE_HTML__'\n","// cheap lodash replacements\n\nexport function memoize<T>(fn: () => T): () => T {\n\tlet result: T | null = null\n\tconst memoized = () => {\n\t\tif (result == null) {\n\t\t\tresult = fn()\n\t\t}\n\t\treturn result\n\t}\n\treturn memoized\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T) {\n\treturn items.filter((i) => i !== item)\n}\n\nexport function union<T extends string | number>(itemsA: T[], itemsB: T[]) {\n\tconst set = new Set<T>()\n\tconst insertItem = (item: T) => set.add(item)\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tset.forEach((key) => result.push(key))\n\treturn result\n}\n","import { union, without } from './utils/js_utils.js'\n\ntype NodePredicate = (node: Node | null | undefined) => boolean\n\nexport class EnterLeaveCounter {\n\tprivate entered: any[] = []\n\tprivate isNodeInDocument: NodePredicate\n\n\tpublic constructor(isNodeInDocument: NodePredicate) {\n\t\tthis.isNodeInDocument = isNodeInDocument\n\t}\n\n\tpublic enter(enteringNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tconst isNodeEntered = (node: Node): boolean =>\n\t\t\tthis.isNodeInDocument(node) &&\n\t\t\t(!node.contains || node.contains(enteringNode as Node))\n\n\t\tthis.entered = union(this.entered.filter(isNodeEntered), [enteringNode])\n\n\t\treturn previousLength === 0 && this.entered.length > 0\n\t}\n\n\tpublic leave(leavingNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tthis.entered = without(\n\t\t\tthis.entered.filter(this.isNodeInDocument),\n\t\t\tleavingNode,\n\t\t)\n\n\t\treturn previousLength > 0 && this.entered.length === 0\n\t}\n\n\tpublic reset(): void {\n\t\tthis.entered = []\n\t}\n}\n","import type { DragDropMonitor } from 'dnd-core'\n\nimport type { NativeItemConfig } from './nativeTypesConfig.js'\n\nexport class NativeDragSource {\n\tpublic item: any\n\tprivate config: NativeItemConfig\n\n\tpublic constructor(config: NativeItemConfig) {\n\t\tthis.config = config\n\t\tthis.item = {}\n\t\tthis.initializeExposedProperties()\n\t}\n\n\tprivate initializeExposedProperties() {\n\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\tObject.defineProperty(this.item, property, {\n\t\t\t\tconfigurable: true, // This is needed to allow redefining it later\n\t\t\t\tenumerable: true,\n\t\t\t\tget() {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`Browser doesn't allow reading \"${property}\" until the drop event.`,\n\t\t\t\t\t)\n\t\t\t\t\treturn null\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t}\n\n\tpublic loadDataTransfer(dataTransfer: DataTransfer | null | undefined): void {\n\t\tif (dataTransfer) {\n\t\t\tconst newProperties: PropertyDescriptorMap = {}\n\t\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\t\tconst propertyFn = this.config.exposeProperties[property]\n\t\t\t\tif (propertyFn != null) {\n\t\t\t\t\tnewProperties[property] = {\n\t\t\t\t\t\tvalue: propertyFn(dataTransfer, this.config.matchesTypes),\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tObject.defineProperties(this.item, newProperties)\n\t\t}\n\t}\n\n\tpublic canDrag(): boolean {\n\t\treturn true\n\t}\n\n\tpublic beginDrag(): any {\n\t\treturn this.item\n\t}\n\n\tpublic isDragging(monitor: DragDropMonitor, handle: string): boolean {\n\t\treturn handle === monitor.getSourceId()\n\t}\n\n\tpublic endDrag(): void {\n\t\t// empty\n\t}\n}\n","export function getDataFromDataTransfer(\n\tdataTransfer: DataTransfer,\n\ttypesToTry: string[],\n\tdefaultValue: string,\n): string {\n\tconst result = typesToTry.reduce(\n\t\t(resultSoFar, typeToTry) => resultSoFar || dataTransfer.getData(typeToTry),\n\t\t'',\n\t)\n\n\treturn result != null ? result : defaultValue\n}\n","import * as NativeTypes from '../NativeTypes.js'\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer.js'\n\nexport interface NativeItemConfigExposePropreties {\n\t[property: string]: (\n\t\tdataTransfer: DataTransfer,\n\t\tmatchesTypes: string[],\n\t) => any\n}\n\nexport interface NativeItemConfig {\n\texposeProperties: NativeItemConfigExposePropreties\n\tmatchesTypes: string[]\n}\n\nexport const nativeTypesConfig: {\n\t[key: string]: NativeItemConfig\n} = {\n\t[NativeTypes.FILE]: {\n\t\texposeProperties: {\n\t\t\tfiles: (dataTransfer: DataTransfer): File[] =>\n\t\t\t\tArray.prototype.slice.call(dataTransfer.files),\n\t\t\titems: (dataTransfer: DataTransfer): DataTransferItemList =>\n\t\t\t\tdataTransfer.items,\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Files'],\n\t},\n\t[NativeTypes.HTML]: {\n\t\texposeProperties: {\n\t\t\thtml: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Html', 'text/html'],\n\t},\n\t[NativeTypes.URL]: {\n\t\texposeProperties: {\n\t\t\turls: (dataTransfer: DataTransfer, matchesTypes: string[]): string[] =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n'),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Url', 'text/uri-list'],\n\t},\n\t[NativeTypes.TEXT]: {\n\t\texposeProperties: {\n\t\t\ttext: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Text', 'text/plain'],\n\t},\n}\n","import { NativeDragSource } from './NativeDragSource.js'\nimport { nativeTypesConfig } from './nativeTypesConfig.js'\n\nexport function createNativeDragSource(\n\ttype: string,\n\tdataTransfer?: DataTransfer,\n): NativeDragSource {\n\tconst config = nativeTypesConfig[type]\n\tif (!config) {\n\t\tthrow new Error(`native type ${type} has no configuration`)\n\t}\n\tconst result = new NativeDragSource(config)\n\tresult.loadDataTransfer(dataTransfer)\n\treturn result\n}\n\nexport function matchNativeItemType(\n\tdataTransfer: DataTransfer | null,\n): string | null {\n\tif (!dataTransfer) {\n\t\treturn null\n\t}\n\n\tconst dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || [])\n\treturn (\n\t\tObject.keys(nativeTypesConfig).filter((nativeItemType) => {\n\t\t\tconst typeConfig = nativeTypesConfig[nativeItemType]\n\t\t\tif (!typeConfig?.matchesTypes) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn typeConfig.matchesTypes.some(\n\t\t\t\t(t) => dataTransferTypes.indexOf(t) > -1,\n\t\t\t)\n\t\t})[0] || null\n\t)\n}\n","import { memoize } from './utils/js_utils.js'\n\ndeclare global {\n\tinterface Window extends HTMLElement {\n\t\tsafari: any\n\t}\n}\n\nexport type Predicate = () => boolean\nexport const isFirefox: Predicate = memoize(() =>\n\t/firefox/i.test(navigator.userAgent),\n)\nexport const isSafari: Predicate = memoize(() => Boolean(window.safari))\n","export class MonotonicInterpolant {\n\tprivate xs: any\n\tprivate ys: any\n\tprivate c1s: any\n\tprivate c2s: any\n\tprivate c3s: any\n\n\tpublic constructor(xs: number[], ys: number[]) {\n\t\tconst { length } = xs\n\n\t\t// Rearrange xs and ys so that xs is sorted\n\t\tconst indexes = []\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tindexes.push(i)\n\t\t}\n\t\tindexes.sort((a, b) => ((xs[a] as number) < (xs[b] as number) ? -1 : 1))\n\n\t\t// Get consecutive differences and slopes\n\t\tconst dys = []\n\t\tconst dxs = []\n\t\tconst ms = []\n\t\tlet dx\n\t\tlet dy\n\t\tfor (let i = 0; i < length - 1; i++) {\n\t\t\tdx = (xs[i + 1] as number) - (xs[i] as number)\n\t\t\tdy = (ys[i + 1] as number) - (ys[i] as number)\n\t\t\tdxs.push(dx)\n\t\t\tdys.push(dy)\n\t\t\tms.push(dy / dx)\n\t\t}\n\n\t\t// Get degree-1 coefficients\n\t\tconst c1s = [ms[0]]\n\t\tfor (let i = 0; i < dxs.length - 1; i++) {\n\t\t\tconst m2 = ms[i] as number\n\t\t\tconst mNext = ms[i + 1] as number\n\t\t\tif (m2 * mNext <= 0) {\n\t\t\t\tc1s.push(0)\n\t\t\t} else {\n\t\t\t\tdx = dxs[i] as number\n\t\t\t\tconst dxNext = dxs[i + 1] as number\n\t\t\t\tconst common = dx + dxNext\n\t\t\t\tc1s.push(\n\t\t\t\t\t(3 * common) / ((common + dxNext) / m2 + (common + dx) / mNext),\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tc1s.push(ms[ms.length - 1])\n\n\t\t// Get degree-2 and degree-3 coefficients\n\t\tconst c2s = []\n\t\tconst c3s = []\n\t\tlet m\n\t\tfor (let i = 0; i < c1s.length - 1; i++) {\n\t\t\tm = ms[i] as number\n\t\t\tconst c1 = c1s[i] as number\n\t\t\tconst invDx = 1 / (dxs[i] as number)\n\t\t\tconst common = c1 + (c1s[i + 1] as number) - m - m\n\t\t\tc2s.push((m - c1 - common) * invDx)\n\t\t\tc3s.push(common * invDx * invDx)\n\t\t}\n\n\t\tthis.xs = xs\n\t\tthis.ys = ys\n\t\tthis.c1s = c1s\n\t\tthis.c2s = c2s\n\t\tthis.c3s = c3s\n\t}\n\n\tpublic interpolate(x: number): number {\n\t\tconst { xs, ys, c1s, c2s, c3s } = this\n\n\t\t// The rightmost point in the dataset should give an exact result\n\t\tlet i = xs.length - 1\n\t\tif (x === xs[i]) {\n\t\t\treturn ys[i]\n\t\t}\n\n\t\t// Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\t\tlet low = 0\n\t\tlet high = c3s.length - 1\n\t\tlet mid\n\t\twhile (low <= high) {\n\t\t\tmid = Math.floor(0.5 * (low + high))\n\t\t\tconst xHere = xs[mid]\n\t\t\tif (xHere < x) {\n\t\t\t\tlow = mid + 1\n\t\t\t} else if (xHere > x) {\n\t\t\t\thigh = mid - 1\n\t\t\t} else {\n\t\t\t\treturn ys[mid]\n\t\t\t}\n\t\t}\n\t\ti = Math.max(0, high)\n\n\t\t// Interpolate\n\t\tconst diff = x - xs[i]\n\t\tconst diffSq = diff * diff\n\t\treturn ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq\n\t}\n}\n","import type { XYCoord } from 'dnd-core'\n\nimport { isFirefox, isSafari } from './BrowserDetector.js'\nimport { MonotonicInterpolant } from './MonotonicInterpolant.js'\n\nconst ELEMENT_NODE = 1\n\nexport function getNodeClientOffset(node: Node): XYCoord | null {\n\tconst el = node.nodeType === ELEMENT_NODE ? node : node.parentElement\n\n\tif (!el) {\n\t\treturn null\n\t}\n\n\tconst { top, left } = (el as HTMLElement).getBoundingClientRect()\n\treturn { x: left, y: top }\n}\n\nexport function getEventClientOffset(e: MouseEvent): XYCoord {\n\treturn {\n\t\tx: e.clientX,\n\t\ty: e.clientY,\n\t}\n}\n\nfunction isImageNode(node: any) {\n\treturn (\n\t\tnode.nodeName === 'IMG' &&\n\t\t(isFirefox() || !document.documentElement?.contains(node))\n\t)\n}\n\nfunction getDragPreviewSize(\n\tisImage: boolean,\n\tdragPreview: any,\n\tsourceWidth: number,\n\tsourceHeight: number,\n) {\n\tlet dragPreviewWidth = isImage ? dragPreview.width : sourceWidth\n\tlet dragPreviewHeight = isImage ? dragPreview.height : sourceHeight\n\n\t// Work around @2x coordinate discrepancies in browsers\n\tif (isSafari() && isImage) {\n\t\tdragPreviewHeight /= window.devicePixelRatio\n\t\tdragPreviewWidth /= window.devicePixelRatio\n\t}\n\treturn { dragPreviewWidth, dragPreviewHeight }\n}\n\nexport function getDragPreviewOffset(\n\tsourceNode: HTMLElement,\n\tdragPreview: HTMLElement,\n\tclientOffset: XYCoord,\n\tanchorPoint: { anchorX: number; anchorY: number },\n\toffsetPoint: { offsetX: number; offsetY: number },\n): XYCoord {\n\t// The browsers will use the image intrinsic size under different conditions.\n\t// Firefox only cares if it's an image, but WebKit also wants it to be detached.\n\tconst isImage = isImageNode(dragPreview)\n\tconst dragPreviewNode = isImage ? sourceNode : dragPreview\n\tconst dragPreviewNodeOffsetFromClient = getNodeClientOffset(\n\t\tdragPreviewNode,\n\t) as XYCoord\n\tconst offsetFromDragPreview = {\n\t\tx: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n\t\ty: clientOffset.y - dragPreviewNodeOffsetFromClient.y,\n\t}\n\tconst { offsetWidth: sourceWidth, offsetHeight: sourceHeight } = sourceNode\n\tconst { anchorX, anchorY } = anchorPoint\n\tconst { dragPreviewWidth, dragPreviewHeight } = getDragPreviewSize(\n\t\tisImage,\n\t\tdragPreview,\n\t\tsourceWidth,\n\t\tsourceHeight,\n\t)\n\n\tconst calculateYOffset = () => {\n\t\tconst interpolantY = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the top\n\t\t\t\toffsetFromDragPreview.y,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n\t\t\t\t// Dock to the bottom\n\t\t\t\toffsetFromDragPreview.y + dragPreviewHeight - sourceHeight,\n\t\t\t],\n\t\t)\n\t\tlet y = interpolantY.interpolate(anchorY)\n\t\t// Work around Safari 8 positioning bug\n\t\tif (isSafari() && isImage) {\n\t\t\t// We'll have to wait for @3x to see if this is entirely correct\n\t\t\ty += (window.devicePixelRatio - 1) * dragPreviewHeight\n\t\t}\n\t\treturn y\n\t}\n\n\tconst calculateXOffset = () => {\n\t\t// Interpolate coordinates depending on anchor point\n\t\t// If you know a simpler way to do this, let me know\n\t\tconst interpolantX = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the left\n\t\t\t\toffsetFromDragPreview.x,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n\t\t\t\t// Dock to the right\n\t\t\t\toffsetFromDragPreview.x + dragPreviewWidth - sourceWidth,\n\t\t\t],\n\t\t)\n\t\treturn interpolantX.interpolate(anchorX)\n\t}\n\n\t// Force offsets if specified in the options.\n\tconst { offsetX, offsetY } = offsetPoint\n\tconst isManualOffsetX = offsetX === 0 || offsetX\n\tconst isManualOffsetY = offsetY === 0 || offsetY\n\treturn {\n\t\tx: isManualOffsetX ? offsetX : calculateXOffset(),\n\t\ty: isManualOffsetY ? offsetY : calculateYOffset(),\n\t}\n}\n","import type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport class OptionsReader {\n\tpublic ownerDocument: Document | null = null\n\tprivate globalContext: HTML5BackendContext\n\tprivate optionsArgs: HTML5BackendOptions | undefined\n\n\tpublic constructor(\n\t\tglobalContext: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.globalContext = globalContext\n\t\tthis.optionsArgs = options\n\t}\n\n\tpublic get window(): Window | undefined {\n\t\tif (this.globalContext) {\n\t\t\treturn this.globalContext\n\t\t} else if (typeof window !== 'undefined') {\n\t\t\treturn window\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic get document(): Document | undefined {\n\t\tif (this.globalContext?.document) {\n\t\t\treturn this.globalContext.document\n\t\t} else if (this.window) {\n\t\t\treturn this.window.document\n\t\t} else {\n\t\t\treturn undefined\n\t\t}\n\t}\n\n\tpublic get rootElement(): Node | undefined {\n\t\treturn this.optionsArgs?.rootElement || this.window\n\t}\n}\n","import type {\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter.js'\nimport {\n\tcreateNativeDragSource,\n\tmatchNativeItemType,\n} from './NativeDragSources/index.js'\nimport type { NativeDragSource } from './NativeDragSources/NativeDragSource.js'\nimport * as NativeTypes from './NativeTypes.js'\nimport {\n\tgetDragPreviewOffset,\n\tgetEventClientOffset,\n\tgetNodeClientOffset,\n} from './OffsetUtils.js'\nimport { OptionsReader } from './OptionsReader.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\ntype RootNode = Node & { __isReactDndBackendSetUp: boolean | undefined }\n\nexport class HTML5BackendImpl implements Backend {\n\tprivate options: OptionsReader\n\n\t// React-Dnd Components\n\tprivate actions: DragDropActions\n\tprivate monitor: DragDropMonitor\n\tprivate registry: HandlerRegistry\n\n\t// Internal State\n\tprivate enterLeaveCounter: EnterLeaveCounter\n\n\tprivate sourcePreviewNodes: Map<string, Element> = new Map()\n\tprivate sourcePreviewNodeOptions: Map<string, any> = new Map()\n\tprivate sourceNodes: Map<string, Element> = new Map()\n\tprivate sourceNodeOptions: Map<string, any> = new Map()\n\n\tprivate dragStartSourceIds: string[] | null = null\n\tprivate dropTargetIds: string[] = []\n\tprivate dragEnterTargetIds: string[] = []\n\tprivate currentNativeSource: NativeDragSource | null = null\n\tprivate currentNativeHandle: Identifier | null = null\n\tprivate currentDragSourceNode: Element | null = null\n\tprivate altKeyPressed = false\n\tprivate mouseMoveTimeoutTimer: number | null = null\n\tprivate asyncEndDragFrameId: number | null = null\n\tprivate dragOverTargetIds: string[] | null = null\n\n\tprivate lastClientOffset: XYCoord | null = null\n\tprivate hoverRafId: number | null = null\n\n\tpublic constructor(\n\t\tmanager: DragDropManager,\n\t\tglobalContext?: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.options = new OptionsReader(globalContext, options)\n\t\tthis.actions = manager.getActions()\n\t\tthis.monitor = manager.getMonitor()\n\t\tthis.registry = manager.getRegistry()\n\t\tthis.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument)\n\t}\n\n\t/**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */\n\tpublic profile(): Record<string, number> {\n\t\treturn {\n\t\t\tsourcePreviewNodes: this.sourcePreviewNodes.size,\n\t\t\tsourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n\t\t\tsourceNodeOptions: this.sourceNodeOptions.size,\n\t\t\tsourceNodes: this.sourceNodes.size,\n\t\t\tdragStartSourceIds: this.dragStartSourceIds?.length || 0,\n\t\t\tdropTargetIds: this.dropTargetIds.length,\n\t\t\tdragEnterTargetIds: this.dragEnterTargetIds.length,\n\t\t\tdragOverTargetIds: this.dragOverTargetIds?.length || 0,\n\t\t}\n\t}\n\n\t// public for test\n\tpublic get window(): Window | undefined {\n\t\treturn this.options.window\n\t}\n\tpublic get document(): Document | undefined {\n\t\treturn this.options.document\n\t}\n\t/**\n\t * Get the root element to use for event subscriptions\n\t */\n\tprivate get rootElement(): Node | undefined {\n\t\treturn this.options.rootElement as Node\n\t}\n\n\tpublic setup(): void {\n\t\tconst root = this.rootElement as RootNode | undefined\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\tif (root.__isReactDndBackendSetUp) {\n\t\t\tthrow new Error('Cannot have two HTML5 backends at the same time.')\n\t\t}\n\t\troot.__isReactDndBackendSetUp = true\n\t\tthis.addEventListeners(root)\n\t}\n\n\tpublic teardown(): void {\n\t\tconst root = this.rootElement as RootNode\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\troot.__isReactDndBackendSetUp = false\n\t\tthis.removeEventListeners(this.rootElement as Element)\n\t\tthis.clearCurrentDragSourceNode()\n\t\tif (this.asyncEndDragFrameId) {\n\t\t\tthis.window?.cancelAnimationFrame(this.asyncEndDragFrameId)\n\t\t}\n\t}\n\n\tpublic connectDragPreview(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourcePreviewNodeOptions.set(sourceId, options)\n\t\tthis.sourcePreviewNodes.set(sourceId, node)\n\n\t\treturn (): void => {\n\t\t\tthis.sourcePreviewNodes.delete(sourceId)\n\t\t\tthis.sourcePreviewNodeOptions.delete(sourceId)\n\t\t}\n\t}\n\n\tpublic connectDragSource(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourceNodes.set(sourceId, node)\n\t\tthis.sourceNodeOptions.set(sourceId, options)\n\n\t\tconst handleDragStart = (e: any) => this.handleDragStart(e, sourceId)\n\t\tconst handleSelectStart = (e: any) => this.handleSelectStart(e)\n\n\t\tnode.setAttribute('draggable', 'true')\n\t\tnode.addEventListener('dragstart', handleDragStart)\n\t\tnode.addEventListener('selectstart', handleSelectStart)\n\n\t\treturn (): void => {\n\t\t\tthis.sourceNodes.delete(sourceId)\n\t\t\tthis.sourceNodeOptions.delete(sourceId)\n\n\t\t\tnode.removeEventListener('dragstart', handleDragStart)\n\t\t\tnode.removeEventListener('selectstart', handleSelectStart)\n\t\t\tnode.setAttribute('draggable', 'false')\n\t\t}\n\t}\n\n\tpublic connectDropTarget(targetId: string, node: HTMLElement): Unsubscribe {\n\t\tconst handleDragEnter = (e: DragEvent) => this.handleDragEnter(e, targetId)\n\t\tconst handleDragOver = (e: DragEvent) => this.handleDragOver(e, targetId)\n\t\tconst handleDrop = (e: DragEvent) => this.handleDrop(e, targetId)\n\n\t\tnode.addEventListener('dragenter', handleDragEnter)\n\t\tnode.addEventListener('dragover', handleDragOver)\n\t\tnode.addEventListener('drop', handleDrop)\n\n\t\treturn (): void => {\n\t\t\tnode.removeEventListener('dragenter', handleDragEnter)\n\t\t\tnode.removeEventListener('dragover', handleDragOver)\n\t\t\tnode.removeEventListener('drop', handleDrop)\n\t\t}\n\t}\n\n\tprivate addEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.addEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.addEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStart as EventListener,\n\t\t)\n\t\ttarget.addEventListener('dragstart', this.handleTopDragStartCapture, true)\n\t\ttarget.addEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('dragover', this.handleTopDragOver as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate removeEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.removeEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.removeEventListener('dragstart', this.handleTopDragStart as any)\n\t\ttarget.removeEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStartCapture,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOver as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.removeEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate getCurrentSourceNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourceNodeOptions = this.sourceNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tdropEffect: this.altKeyPressed ? 'copy' : 'move',\n\t\t\t...(sourceNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getCurrentDropEffect() {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\t// It makes more sense to default to 'copy' for native resources\n\t\t\treturn 'copy'\n\t\t}\n\n\t\treturn this.getCurrentSourceNodeOptions().dropEffect\n\t}\n\n\tprivate getCurrentSourcePreviewNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tanchorX: 0.5,\n\t\t\tanchorY: 0.5,\n\t\t\tcaptureDraggingState: false,\n\t\t\t...(sourcePreviewNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getSourceClientOffset = (sourceId: string): XYCoord | null => {\n\t\tconst source = this.sourceNodes.get(sourceId)\n\t\treturn (source && getNodeClientOffset(source as HTMLElement)) || null\n\t}\n\n\tprivate isDraggingNativeItem() {\n\t\tconst itemType = this.monitor.getItemType()\n\t\treturn Object.keys(NativeTypes).some(\n\t\t\t(key: string) => (NativeTypes as any)[key] === itemType,\n\t\t)\n\t}\n\n\tprivate beginDragNativeItem(type: string, dataTransfer?: DataTransfer) {\n\t\tthis.clearCurrentDragSourceNode()\n\n\t\tthis.currentNativeSource = createNativeDragSource(type, dataTransfer)\n\t\tthis.currentNativeHandle = this.registry.addSource(\n\t\t\ttype,\n\t\t\tthis.currentNativeSource,\n\t\t)\n\t\tthis.actions.beginDrag([this.currentNativeHandle])\n\t}\n\n\tprivate endDragNativeItem = (): void => {\n\t\tif (!this.isDraggingNativeItem()) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.actions.endDrag()\n\t\tif (this.currentNativeHandle) {\n\t\t\tthis.registry.removeSource(this.currentNativeHandle)\n\t\t}\n\t\tthis.currentNativeHandle = null\n\t\tthis.currentNativeSource = null\n\t}\n\n\tprivate isNodeInDocument = (node: Node | null | undefined): boolean => {\n\t\t// Check the node either in the main document or in the current context\n\t\treturn Boolean(\n\t\t\tnode &&\n\t\t\t\tthis.document &&\n\t\t\t\tthis.document.body &&\n\t\t\t\tthis.document.body.contains(node),\n\t\t)\n\t}\n\n\tprivate endDragIfSourceWasRemovedFromDOM = (): void => {\n\t\tconst node = this.currentDragSourceNode\n\t\tif (node == null || this.isNodeInDocument(node)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tprivate setCurrentDragSourceNode(node: Element | null) {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.currentDragSourceNode = node\n\n\t\t// A timeout of > 0 is necessary to resolve Firefox issue referenced\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\tconst MOUSE_MOVE_TIMEOUT = 1000\n\n\t\t// Receiving a mouse event in the middle of a dragging operation\n\t\t// means it has ended and the drag source node disappeared from DOM,\n\t\t// so the browser didn't dispatch the dragend event.\n\t\t//\n\t\t// We need to wait before we start listening for mousemove events.\n\t\t// This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n\t\t// immediately in some browsers.\n\t\t//\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\t//\n\t\tthis.mouseMoveTimeoutTimer = setTimeout(() => {\n\t\t\treturn this.rootElement?.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}, MOUSE_MOVE_TIMEOUT) as any as number\n\t}\n\n\tprivate clearCurrentDragSourceNode() {\n\t\tif (this.currentDragSourceNode) {\n\t\t\tthis.currentDragSourceNode = null\n\n\t\t\tif (this.rootElement) {\n\t\t\t\tthis.window?.clearTimeout(this.mouseMoveTimeoutTimer || undefined)\n\t\t\t\tthis.rootElement.removeEventListener(\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\t\ttrue,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tthis.mouseMoveTimeoutTimer = null\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t}\n\n\tprivate scheduleHover = (dragOverTargetIds: string[] | null) => {\n\t\tif (\n\t\t\tthis.hoverRafId === null &&\n\t\t\ttypeof requestAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tthis.hoverRafId = requestAnimationFrame(() => {\n\t\t\t\tif (this.monitor.isDragging()) {\n\t\t\t\t\tthis.actions.hover(dragOverTargetIds || [], {\n\t\t\t\t\t\tclientOffset: this.lastClientOffset,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.hoverRafId = null\n\t\t\t})\n\t\t}\n\t}\n\n\tprivate cancelHover = () => {\n\t\tif (\n\t\t\tthis.hoverRafId !== null &&\n\t\t\ttypeof cancelAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tcancelAnimationFrame(this.hoverRafId)\n\t\t\tthis.hoverRafId = null\n\t\t}\n\t}\n\n\tpublic handleTopDragStartCapture = (): void => {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.dragStartSourceIds = []\n\t}\n\n\tpublic handleDragStart(e: DragEvent, sourceId: string): void {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.dragStartSourceIds) {\n\t\t\tthis.dragStartSourceIds = []\n\t\t}\n\t\tthis.dragStartSourceIds.unshift(sourceId)\n\t}\n\n\tpublic handleTopDragStart = (e: DragEvent): void => {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dragStartSourceIds } = this\n\t\tthis.dragStartSourceIds = null\n\n\t\tconst clientOffset = getEventClientOffset(e)\n\n\t\t// Avoid crashing if we missed a drop event or our previous drag died\n\t\tif (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t\tthis.cancelHover()\n\t\t}\n\n\t\t// Don't publish the source just yet (see why below)\n\t\tthis.actions.beginDrag(dragStartSourceIds || [], {\n\t\t\tpublishSource: false,\n\t\t\tgetSourceClientOffset: this.getSourceClientOffset,\n\t\t\tclientOffset,\n\t\t})\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (this.monitor.isDragging()) {\n\t\t\tif (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n\t\t\t\t// Use custom drag image if user specifies it.\n\t\t\t\t// If child drag source refuses drag but parent agrees,\n\t\t\t\t// use parent's node as drag image. Neither works in IE though.\n\t\t\t\tconst sourceId: string = this.monitor.getSourceId() as string\n\t\t\t\tconst sourceNode = this.sourceNodes.get(sourceId)\n\t\t\t\tconst dragPreview = this.sourcePreviewNodes.get(sourceId) || sourceNode\n\n\t\t\t\tif (dragPreview) {\n\t\t\t\t\tconst { anchorX, anchorY, offsetX, offsetY } =\n\t\t\t\t\t\tthis.getCurrentSourcePreviewNodeOptions()\n\t\t\t\t\tconst anchorPoint = { anchorX, anchorY }\n\t\t\t\t\tconst offsetPoint = { offsetX, offsetY }\n\t\t\t\t\tconst dragPreviewOffset = getDragPreviewOffset(\n\t\t\t\t\t\tsourceNode as HTMLElement,\n\t\t\t\t\t\tdragPreview as HTMLElement,\n\t\t\t\t\t\tclientOffset,\n\t\t\t\t\t\tanchorPoint,\n\t\t\t\t\t\toffsetPoint,\n\t\t\t\t\t)\n\n\t\t\t\t\tdataTransfer.setDragImage(\n\t\t\t\t\t\tdragPreview,\n\t\t\t\t\t\tdragPreviewOffset.x,\n\t\t\t\t\t\tdragPreviewOffset.y,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Firefox won't drag without setting data\n\t\t\t\tdataTransfer?.setData('application/json', {} as any)\n\t\t\t} catch (err) {\n\t\t\t\t// IE doesn't support MIME types in setData\n\t\t\t}\n\n\t\t\t// Store drag source node so we can check whether\n\t\t\t// it is removed from DOM and trigger endDrag manually.\n\t\t\tthis.setCurrentDragSourceNode(e.target as Element)\n\n\t\t\t// Now we are ready to publish the drag source.. or are we not?\n\t\t\tconst { captureDraggingState } = this.getCurrentSourcePreviewNodeOptions()\n\t\t\tif (!captureDraggingState) {\n\t\t\t\t// Usually we want to publish it in the next tick so that browser\n\t\t\t\t// is able to screenshot the current (not yet dragging) state.\n\t\t\t\t//\n\t\t\t\t// It also neatly avoids a situation where render() returns null\n\t\t\t\t// in the same tick for the source element, and browser freaks out.\n\t\t\t\tsetTimeout(() => this.actions.publishDragSource(), 0)\n\t\t\t} else {\n\t\t\t\t// In some cases the user may want to override this behavior, e.g.\n\t\t\t\t// to work around IE not supporting custom drag previews.\n\t\t\t\t//\n\t\t\t\t// When using a custom drag layer, the only way to prevent\n\t\t\t\t// the default drag preview from drawing in IE is to screenshot\n\t\t\t\t// the dragging state in which the node itself has zero opacity\n\t\t\t\t// and height. In this case, though, returning null from render()\n\t\t\t\t// will abruptly end the dragging, which is not obvious.\n\t\t\t\t//\n\t\t\t\t// This is the reason such behavior is strictly opt-in.\n\t\t\t\tthis.actions.publishDragSource()\n\t\t\t}\n\t\t} else if (nativeType) {\n\t\t\t// A native item (such as URL) dragged from inside the document\n\t\t\tthis.beginDragNativeItem(nativeType)\n\t\t} else if (\n\t\t\tdataTransfer &&\n\t\t\t!dataTransfer.types &&\n\t\t\t((e.target && !(e.target as Element).hasAttribute) ||\n\t\t\t\t!(e.target as Element).hasAttribute('draggable'))\n\t\t) {\n\t\t\t// Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n\t\t\t// Just let it drag. It's a native type (URL or text) and will be picked up in\n\t\t\t// dragenter handler.\n\t\t\treturn\n\t\t} else {\n\t\t\t// If by this time no drag source reacted, tell browser not to drag.\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\n\tpublic handleTopDragEndCapture = (): void => {\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\t// Firefox can dispatch this event in an infinite loop\n\t\t\t// if dragend handler does something like showing an alert.\n\t\t\t// Only proceed if we have not handled it already.\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDragEnterCapture = (e: DragEvent): void => {\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\n\t\tconst isFirstEnter = this.enterLeaveCounter.enter(e.target)\n\t\tif (!isFirstEnter || this.monitor.isDragging()) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (nativeType) {\n\t\t\t// A native item (such as file or URL) dragged from outside the document\n\t\t\tthis.beginDragNativeItem(nativeType, dataTransfer as DataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragEnter(_e: DragEvent, targetId: string): void {\n\t\tthis.dragEnterTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragEnter = (e: DragEvent): void => {\n\t\tconst { dragEnterTargetIds } = this\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\n\t\t// If the target changes position as the result of `dragenter`, `dragover` might still\n\t\t// get dispatched despite target being no longer there. The easy solution is to check\n\t\t// whether there actually is a target before firing `hover`.\n\t\tif (dragEnterTargetIds.length > 0) {\n\t\t\tthis.actions.hover(dragEnterTargetIds, {\n\t\t\t\tclientOffset: getEventClientOffset(e),\n\t\t\t})\n\t\t}\n\n\t\tconst canDrop = dragEnterTargetIds.some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// IE requires this to fire dragover events\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragOverCapture = (e: DragEvent): void => {\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragOver(_e: DragEvent, targetId: string): void {\n\t\tif (this.dragOverTargetIds === null) {\n\t\t\tthis.dragOverTargetIds = []\n\t\t}\n\t\tthis.dragOverTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragOver = (e: DragEvent): void => {\n\t\tconst { dragOverTargetIds } = this\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\t// Prevent default \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\t\tthis.lastClientOffset = getEventClientOffset(e)\n\n\t\tthis.scheduleHover(dragOverTargetIds)\n\n\t\tconst canDrop = (dragOverTargetIds || []).some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// Show user-specified drop effect.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t} else if (this.isDraggingNativeItem()) {\n\t\t\t// Don't show a nice cursor but still prevent default\n\t\t\t// \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t} else {\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragLeaveCapture = (e: DragEvent): void => {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tconst isLastLeave = this.enterLeaveCounter.leave(e.target)\n\t\tif (!isLastLeave) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tsetTimeout(() => this.endDragNativeItem(), 0)\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDropCapture = (e: DragEvent): void => {\n\t\tthis.dropTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t} else if (matchNativeItemType(e.dataTransfer)) {\n\t\t\t// Dragging some elements, like <a> and <img> may still behave like a native drag event,\n\t\t\t// even if the current drag event matches a user-defined type.\n\t\t\t// Stop the default behavior when we're not expecting a native item to be dropped.\n\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tthis.enterLeaveCounter.reset()\n\t}\n\n\tpublic handleDrop(_e: DragEvent, targetId: string): void {\n\t\tthis.dropTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDrop = (e: DragEvent): void => {\n\t\tconst { dropTargetIds } = this\n\t\tthis.dropTargetIds = []\n\n\t\tthis.actions.hover(dropTargetIds, {\n\t\t\tclientOffset: getEventClientOffset(e),\n\t\t})\n\t\tthis.actions.drop({ dropEffect: this.getCurrentDropEffect() })\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.endDragNativeItem()\n\t\t} else if (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleSelectStart = (e: DragEvent): void => {\n\t\tconst target = e.target as HTMLElement & { dragDrop: () => void }\n\n\t\t// Only IE requires us to explicitly say\n\t\t// we want drag drop operation to start\n\t\tif (typeof target.dragDrop !== 'function') {\n\t\t\treturn\n\t\t}\n\n\t\t// Inputs and textareas should be selectable\n\t\tif (\n\t\t\ttarget.tagName === 'INPUT' ||\n\t\t\ttarget.tagName === 'SELECT' ||\n\t\t\ttarget.tagName === 'TEXTAREA' ||\n\t\t\ttarget.isContentEditable\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\t// For other targets, ask IE\n\t\t// to enable drag and drop\n\t\te.preventDefault()\n\t\ttarget.dragDrop()\n\t}\n}\n","import type { BackendFactory, DragDropManager } from 'dnd-core'\n\nimport { HTML5BackendImpl } from './HTML5BackendImpl.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\nexport { getEmptyImage } from './getEmptyImage.js'\nexport * as NativeTypes from './NativeTypes.js'\nexport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport const HTML5Backend: BackendFactory = function createBackend(\n\tmanager: DragDropManager,\n\tcontext?: HTML5BackendContext,\n\toptions?: HTML5BackendOptions,\n): HTML5BackendImpl {\n\treturn new HTML5BackendImpl(manager, context, options)\n}\n","export interface EventName {\n\tstart?: 'mousedown' | 'touchstart'\n\tmove?: 'mousemove' | 'touchmove'\n\tend?: 'mouseup' | 'touchend'\n\tcontextmenu?: 'contextmenu'\n\tkeydown?: 'keydown'\n}\n\nexport interface TouchBackendOptions {\n\tdelay: number\n\tdelayTouchStart: number\n\tenableTouchEvents: boolean\n\tenableKeyboardEvents: boolean\n\tenableMouseEvents: boolean\n\tignoreContextMenu: boolean\n\tenableHoverOutsideTarget: boolean\n\tdelayMouseStart: number\n\ttouchSlop: number\n\tscrollAngleRanges?: AngleRange[] | undefined\n\trootElement: Node | undefined\n\n\tgetDropTargetElementsAtPoint?:\n\t\t| undefined\n\t\t| ((x: number, y: number, dropTargets: HTMLElement[]) => HTMLElement[])\n}\n\nexport interface AngleRange {\n\tstart: number\n\tend: number\n}\n\nexport enum ListenerType {\n\tmouse = 'mouse',\n\ttouch = 'touch',\n\tkeyboard = 'keyboard',\n}\n\nexport interface TouchBackendContext {\n\twindow?: Window\n\tdocument?: Document\n}\n","import type {\n\tAngleRange,\n\tTouchBackendContext,\n\tTouchBackendOptions,\n} from './interfaces.js'\n\nexport class OptionsReader implements TouchBackendOptions {\n\tpublic constructor(\n\t\tprivate args: Partial<TouchBackendOptions>,\n\t\tprivate context: TouchBackendContext,\n\t) {}\n\n\tpublic get delay(): number {\n\t\treturn this.args.delay ?? 0\n\t}\n\n\tpublic get scrollAngleRanges(): AngleRange[] | undefined {\n\t\treturn this.args.scrollAngleRanges\n\t}\n\n\tpublic get getDropTargetElementsAtPoint():\n\t\t| ((x: number, y: number, elements: HTMLElement[]) => HTMLElement[])\n\t\t| undefined {\n\t\treturn this.args.getDropTargetElementsAtPoint\n\t}\n\n\tpublic get ignoreContextMenu(): boolean {\n\t\treturn this.args.ignoreContextMenu ?? false\n\t}\n\n\tpublic get enableHoverOutsideTarget(): boolean {\n\t\treturn this.args.enableHoverOutsideTarget ?? false\n\t}\n\n\tpublic get enableKeyboardEvents(): boolean {\n\t\treturn this.args.enableKeyboardEvents ?? false\n\t}\n\n\tpublic get enableMouseEvents(): boolean {\n\t\treturn this.args.enableMouseEvents ?? false\n\t}\n\n\tpublic get enableTouchEvents(): boolean {\n\t\treturn this.args.enableTouchEvents ?? true\n\t}\n\n\tpublic get touchSlop(): number {\n\t\treturn this.args.touchSlop || 0\n\t}\n\n\tpublic get delayTouchStart(): number {\n\t\treturn this.args?.delayTouchStart ?? this.args?.delay ?? 0\n\t}\n\n\tpublic get delayMouseStart(): number {\n\t\treturn this.args?.delayMouseStart ?? this.args?.delay ?? 0\n\t}\n\n\tpublic get window(): Window | undefined {\n\t\tif (this.context && this.context.window) {\n\t\t\treturn this.context.window\n\t\t} else if (typeof window !== 'undefined') {\n\t\t\treturn window\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic get document(): Document | undefined {\n\t\tif (this.context?.document) {\n\t\t\treturn this.context.document\n\t\t}\n\n\t\tif (this.window) {\n\t\t\treturn this.window.document\n\t\t}\n\n\t\treturn undefined\n\t}\n\n\tpublic get rootElement(): Node | undefined {\n\t\treturn this.args?.rootElement || (this.document as any as Node)\n\t}\n}\n","// Used for MouseEvent.buttons (note the s on the end).\nconst MouseButtons = {\n\tLeft: 1,\n\tRight: 2,\n\tCenter: 4,\n}\n\n// Used for e.button (note the lack of an s on the end).\nconst MouseButton = {\n\tLeft: 0,\n\tCenter: 1,\n\tRight: 2,\n}\n\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\nexport function eventShouldStartDrag(e: MouseEvent): boolean {\n\t// For touch events, button will be undefined. If e.button is defined,\n\t// then it should be MouseButton.Left.\n\treturn e.button === undefined || e.button === MouseButton.Left\n}\n\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\nexport function eventShouldEndDrag(e: MouseEvent): boolean {\n\t// Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n\t// bit field unset if the left mouse button has been released\n\treturn e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0\n}\n\nexport function isTouchEvent(\n\te: Touch | TouchEvent | MouseEvent,\n): e is TouchEvent {\n\treturn !!(e as TouchEvent).targetTouches\n}\n","import type { XYCoord } from 'dnd-core'\n\nimport { isTouchEvent } from './predicates.js'\n\nconst ELEMENT_NODE = 1\n\nexport function getNodeClientOffset(node: Element): XYCoord | undefined {\n\tconst el = node.nodeType === ELEMENT_NODE ? node : node.parentElement\n\tif (!el) {\n\t\treturn undefined\n\t}\n\tconst { top, left } = el.getBoundingClientRect()\n\treturn { x: left, y: top }\n}\n\nexport function getEventClientTouchOffset(\n\te: TouchEvent,\n\tlastTargetTouchFallback?: Touch,\n): XYCoord | undefined {\n\tif (e.targetTouches.length === 1) {\n\t\treturn getEventClientOffset(e.targetTouches[0] as Touch)\n\t} else if (lastTargetTouchFallback && e.touches.length === 1) {\n\t\tif ((e.touches[0] as Touch).target === lastTargetTouchFallback.target) {\n\t\t\treturn getEventClientOffset(e.touches[0] as Touch)\n\t\t}\n\t}\n\treturn\n}\n\nexport function getEventClientOffset(\n\te: TouchEvent | Touch | MouseEvent,\n\tlastTargetTouchFallback?: Touch,\n): XYCoord | undefined {\n\tif (isTouchEvent(e)) {\n\t\treturn getEventClientTouchOffset(e, lastTargetTouchFallback)\n\t} else {\n\t\treturn {\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY,\n\t\t}\n\t}\n}\n","export const supportsPassive = ((): boolean => {\n\t// simular to jQuery's test\n\tlet supported = false\n\ttry {\n\t\taddEventListener(\n\t\t\t'test',\n\t\t\t() => {\n\t\t\t\t// do nothing\n\t\t\t},\n\t\t\tObject.defineProperty({}, 'passive', {\n\t\t\t\tget() {\n\t\t\t\t\tsupported = true\n\t\t\t\t\treturn true\n\t\t\t\t},\n\t\t\t}),\n\t\t)\n\t} catch (e) {\n\t\t// do nothing\n\t}\n\treturn supported\n})()\n","import { invariant } from '@react-dnd/invariant'\nimport type {\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type {\n\tEventName,\n\tTouchBackendContext,\n\tTouchBackendOptions,\n} from './interfaces.js'\nimport { ListenerType } from './interfaces.js'\nimport { OptionsReader } from './OptionsReader.js'\nimport { distance, inAngleRanges } from './utils/math.js'\nimport { getEventClientOffset, getNodeClientOffset } from './utils/offsets.js'\nimport {\n\teventShouldEndDrag,\n\teventShouldStartDrag,\n\tisTouchEvent,\n} from './utils/predicates.js'\nimport { supportsPassive } from './utils/supportsPassive.js'\n\nconst eventNames: Record<ListenerType, EventName> = {\n\t[ListenerType.mouse]: {\n\t\tstart: 'mousedown',\n\t\tmove: 'mousemove',\n\t\tend: 'mouseup',\n\t\tcontextmenu: 'contextmenu',\n\t},\n\t[ListenerType.touch]: {\n\t\tstart: 'touchstart',\n\t\tmove: 'touchmove',\n\t\tend: 'touchend',\n\t},\n\t[ListenerType.keyboard]: {\n\t\tkeydown: 'keydown',\n\t},\n}\n\nexport class TouchBackendImpl implements Backend {\n\tprivate options: OptionsReader\n\n\t// React-DnD Dependencies\n\tprivate actions: DragDropActions\n\tprivate monitor: DragDropMonitor\n\n\t// Internal State\n\tprivate static isSetUp: boolean\n\tpublic sourceNodes: Map<Identifier, HTMLElement>\n\tpublic sourcePreviewNodes: Map<string, HTMLElement>\n\tpublic sourcePreviewNodeOptions: Map<string, any>\n\tpublic targetNodes: Map<string, HTMLElement>\n\tprivate _mouseClientOffset: Partial<XYCoord>\n\tprivate _isScrolling: boolean\n\tprivate listenerTypes: ListenerType[]\n\tprivate moveStartSourceIds: string[] | undefined\n\tprivate waitingForDelay: boolean | undefined\n\tprivate timeout: ReturnType<typeof setTimeout> | undefined\n\tprivate dragOverTargetIds: string[] | undefined\n\tprivate draggedSourceNode: HTMLElement | undefined\n\tprivate draggedSourceNodeRemovalObserver: MutationObserver | undefined\n\n\t// Patch for iOS 13, discussion over #1585\n\tprivate lastTargetTouchFallback: Touch | undefined\n\n\tpublic constructor(\n\t\tmanager: DragDropManager,\n\t\tcontext: TouchBackendContext,\n\t\toptions: Partial<TouchBackendOptions>,\n\t) {\n\t\tthis.options = new OptionsReader(options, context)\n\t\tthis.actions = manager.getActions()\n\t\tthis.monitor = manager.getMonitor()\n\n\t\tthis.sourceNodes = new Map()\n\t\tthis.sourcePreviewNodes = new Map()\n\t\tthis.sourcePreviewNodeOptions = new Map()\n\t\tthis.targetNodes = new Map()\n\t\tthis.listenerTypes = []\n\t\tthis._mouseClientOffset = {}\n\t\tthis._isScrolling = false\n\n\t\tif (this.options.enableMouseEvents) {\n\t\t\tthis.listenerTypes.push(ListenerType.mouse)\n\t\t}\n\n\t\tif (this.options.enableTouchEvents) {\n\t\t\tthis.listenerTypes.push(ListenerType.touch)\n\t\t}\n\n\t\tif (this.options.enableKeyboardEvents) {\n\t\t\tthis.listenerTypes.push(ListenerType.keyboard)\n\t\t}\n\t}\n\n\t/**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */\n\tpublic profile(): Record<string, number> {\n\t\treturn {\n\t\t\tsourceNodes: this.sourceNodes.size,\n\t\t\tsourcePreviewNodes: this.sourcePreviewNodes.size,\n\t\t\tsourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n\t\t\ttargetNodes: this.targetNodes.size,\n\t\t\tdragOverTargetIds: this.dragOverTargetIds?.length || 0,\n\t\t}\n\t}\n\n\t// public for test\n\tpublic get document(): Document | undefined {\n\t\treturn this.options.document\n\t}\n\n\tpublic setup(): void {\n\t\tconst root = this.options.rootElement\n\t\tif (!root) {\n\t\t\treturn\n\t\t}\n\n\t\tinvariant(\n\t\t\t!TouchBackendImpl.isSetUp,\n\t\t\t'Cannot have two Touch backends at the same time.',\n\t\t)\n\t\tTouchBackendImpl.isSetUp = true\n\n\t\tthis.addEventListener(root, 'start', this.getTopMoveStartHandler() as any)\n\t\tthis.addEventListener(\n\t\t\troot,\n\t\t\t'start',\n\t\t\tthis.handleTopMoveStartCapture as any,\n\t\t\ttrue,\n\t\t)\n\t\tthis.addEventListener(root, 'move', this.handleTopMove as any)\n\t\tthis.addEventListener(root, 'move', this.handleTopMoveCapture, true)\n\t\tthis.addEventListener(\n\t\t\troot,\n\t\t\t'end',\n\t\t\tthis.handleTopMoveEndCapture as any,\n\t\t\ttrue,\n\t\t)\n\n\t\tif (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n\t\t\tthis.addEventListener(\n\t\t\t\troot,\n\t\t\t\t'contextmenu',\n\t\t\t\tthis.handleTopMoveEndCapture as any,\n\t\t\t)\n\t\t}\n\n\t\tif (this.options.enableKeyboardEvents) {\n\t\t\tthis.addEventListener(\n\t\t\t\troot,\n\t\t\t\t'keydown',\n\t\t\t\tthis.handleCancelOnEscape as any,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}\n\t}\n\n\tpublic teardown(): void {\n\t\tconst root = this.options.rootElement\n\t\tif (!root) {\n\t\t\treturn\n\t\t}\n\n\t\tTouchBackendImpl.isSetUp = false\n\t\tthis._mouseClientOffset = {}\n\n\t\tthis.removeEventListener(\n\t\t\troot,\n\t\t\t'start',\n\t\t\tthis.handleTopMoveStartCapture as any,\n\t\t\ttrue,\n\t\t)\n\t\tthis.removeEventListener(root, 'start', this.handleTopMoveStart as any)\n\t\tthis.removeEventListener(root, 'move', this.handleTopMoveCapture, true)\n\t\tthis.removeEventListener(root, 'move', this.handleTopMove as any)\n\t\tthis.removeEventListener(\n\t\t\troot,\n\t\t\t'end',\n\t\t\tthis.handleTopMoveEndCapture as any,\n\t\t\ttrue,\n\t\t)\n\n\t\tif (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n\t\t\tthis.removeEventListener(\n\t\t\t\troot,\n\t\t\t\t'contextmenu',\n\t\t\t\tthis.handleTopMoveEndCapture as any,\n\t\t\t)\n\t\t}\n\n\t\tif (this.options.enableKeyboardEvents) {\n\t\t\tthis.removeEventListener(\n\t\t\t\troot,\n\t\t\t\t'keydown',\n\t\t\t\tthis.handleCancelOnEscape as any,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}\n\n\t\tthis.uninstallSourceNodeRemovalObserver()\n\t}\n\n\tprivate addEventListener<K extends keyof EventName>(\n\t\tsubject: Node,\n\t\tevent: K,\n\t\thandler: (e: any) => void,\n\t\tcapture = false,\n\t) {\n\t\tconst options = supportsPassive ? { capture, passive: false } : capture\n\n\t\tthis.listenerTypes.forEach(function (listenerType) {\n\t\t\tconst evt = eventNames[listenerType][event]\n\n\t\t\tif (evt) {\n\t\t\t\tsubject.addEventListener(evt as any, handler as any, options)\n\t\t\t}\n\t\t})\n\t}\n\n\tprivate removeEventListener<K extends keyof EventName>(\n\t\tsubject: Node,\n\t\tevent: K,\n\t\thandler: (e: any) => void,\n\t\tcapture = false,\n\t) {\n\t\tconst options = supportsPassive ? { capture, passive: false } : capture\n\n\t\tthis.listenerTypes.forEach(function (listenerType) {\n\t\t\tconst evt = eventNames[listenerType][event]\n\n\t\t\tif (evt) {\n\t\t\t\tsubject.removeEventListener(evt as any, handler as any, options)\n\t\t\t}\n\t\t})\n\t}\n\n\tpublic connectDragSource(sourceId: string, node: HTMLElement): Unsubscribe {\n\t\tconst handleMoveStart = this.handleMoveStart.bind(this, sourceId)\n\t\tthis.sourceNodes.set(sourceId, node)\n\n\t\tthis.addEventListener(node, 'start', handleMoveStart)\n\n\t\treturn (): void => {\n\t\t\tthis.sourceNodes.delete(sourceId)\n\t\t\tthis.removeEventListener(node, 'start', handleMoveStart)\n\t\t}\n\t}\n\n\tpublic connectDragPreview(\n\t\tsourceId: string,\n\t\tnode: HTMLElement,\n\t\toptions: unknown,\n\t): Unsubscribe {\n\t\tthis.sourcePreviewNodeOptions.set(sourceId, options)\n\t\tthis.sourcePreviewNodes.set(sourceId, node)\n\n\t\treturn (): void => {\n\t\t\tthis.sourcePreviewNodes.delete(sourceId)\n\t\t\tthis.sourcePreviewNodeOptions.delete(sourceId)\n\t\t}\n\t}\n\n\tpublic connectDropTarget(targetId: string, node: HTMLElement): Unsubscribe {\n\t\tconst root = this.options.rootElement\n\t\tif (!this.document || !root) {\n\t\t\treturn (): void => {\n\t\t\t\t/* noop */\n\t\t\t}\n\t\t}\n\n\t\tconst handleMove = (e: MouseEvent | TouchEvent) => {\n\t\t\tif (!this.document || !root || !this.monitor.isDragging()) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlet coords\n\n\t\t\t/**\n\t\t\t * Grab the coordinates for the current mouse/touch position\n\t\t\t */\n\t\t\tswitch (e.type) {\n\t\t\t\tcase eventNames.mouse.move:\n\t\t\t\t\tcoords = {\n\t\t\t\t\t\tx: (e as MouseEvent).clientX,\n\t\t\t\t\t\ty: (e as MouseEvent).clientY,\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\n\t\t\t\tcase eventNames.touch.move:\n\t\t\t\t\tcoords = {\n\t\t\t\t\t\tx: (e as TouchEvent).touches[0]?.clientX || 0,\n\t\t\t\t\t\ty: (e as TouchEvent).touches[0]?.clientY || 0,\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Use the coordinates to grab the element the drag ended on.\n\t\t\t * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n\t\t\t */\n\t\t\tconst droppedOn =\n\t\t\t\tcoords != null\n\t\t\t\t\t? this.document.elementFromPoint(coords.x, coords.y)\n\t\t\t\t\t: undefined\n\t\t\tconst childMatch = droppedOn && node.contains(droppedOn)\n\n\t\t\tif (droppedOn === node || childMatch) {\n\t\t\t\treturn this.handleMove(e, targetId)\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n\t\t */\n\t\tthis.addEventListener(this.document.body, 'move', handleMove as any)\n\t\tthis.targetNodes.set(targetId, node)\n\n\t\treturn (): void => {\n\t\t\tif (this.document) {\n\t\t\t\tthis.targetNodes.delete(targetId)\n\t\t\t\tthis.removeEventListener(this.document.body, 'move', handleMove as any)\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getSourceClientOffset = (sourceId: string): XYCoord | undefined => {\n\t\tconst element = this.sourceNodes.get(sourceId)\n\t\treturn element && getNodeClientOffset(element)\n\t}\n\n\tpublic handleTopMoveStartCapture = (e: Event): void => {\n\t\tif (!eventShouldStartDrag(e as MouseEvent)) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.moveStartSourceIds = []\n\t}\n\n\tpublic handleMoveStart = (sourceId: string): void => {\n\t\t// Just because we received an event doesn't necessarily mean we need to collect drag sources.\n\t\t// We only collect start collecting drag sources on touch and left mouse events.\n\t\tif (Array.isArray(this.moveStartSourceIds)) {\n\t\t\tthis.moveStartSourceIds.unshift(sourceId)\n\t\t}\n\t}\n\n\tprivate getTopMoveStartHandler() {\n\t\tif (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n\t\t\treturn this.handleTopMoveStart\n\t\t}\n\n\t\treturn this.handleTopMoveStartDelay\n\t}\n\n\tpublic handleTopMoveStart = (e: MouseEvent | TouchEvent): void => {\n\t\tif (!eventShouldStartDrag(e as MouseEvent)) {\n\t\t\treturn\n\t\t}\n\n\t\t// Don't prematurely preventDefault() here since it might:\n\t\t// 1. Mess up scrolling\n\t\t// 2. Mess up long tap (which brings up context menu)\n\t\t// 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\t\tconst clientOffset = getEventClientOffset(e)\n\t\tif (clientOffset) {\n\t\t\tif (isTouchEvent(e)) {\n\t\t\t\tthis.lastTargetTouchFallback = e.targetTouches[0]\n\t\t\t}\n\t\t\tthis._mouseClientOffset = clientOffset\n\t\t}\n\t\tthis.waitingForDelay = false\n\t}\n\n\tpublic handleTopMoveStartDelay = (e: Event): void => {\n\t\tif (!eventShouldStartDrag(e as MouseEvent)) {\n\t\t\treturn\n\t\t}\n\n\t\tconst delay =\n\t\t\te.type === eventNames.touch.start\n\t\t\t\t? this.options.delayTouchStart\n\t\t\t\t: this.options.delayMouseStart\n\t\tthis.timeout = setTimeout(\n\t\t\tthis.handleTopMoveStart.bind(this, e as any),\n\t\t\tdelay,\n\t\t) as any as ReturnType<typeof setTimeout>\n\t\tthis.waitingForDelay = true\n\t}\n\n\tpublic handleTopMoveCapture = (): void => {\n\t\tthis.dragOverTargetIds = []\n\t}\n\n\tpublic handleMove = (\n\t\t_evt: MouseEvent | TouchEvent,\n\t\ttargetId: string,\n\t): void => {\n\t\tif (this.dragOverTargetIds) {\n\t\t\tthis.dragOverTargetIds.unshift(targetId)\n\t\t}\n\t}\n\n\tpublic handleTopMove = (e: TouchEvent | MouseEvent): void => {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout)\n\t\t}\n\t\tif (!this.document || this.waitingForDelay) {\n\t\t\treturn\n\t\t}\n\t\tconst { moveStartSourceIds, dragOverTargetIds } = this\n\t\tconst enableHoverOutsideTarget = this.options.enableHoverOutsideTarget\n\n\t\tconst clientOffset = getEventClientOffset(e, this.lastTargetTouchFallback)\n\n\t\tif (!clientOffset) {\n\t\t\treturn\n\t\t}\n\n\t\t// If the touch move started as a scroll, or is is between the scroll angles\n\t\tif (\n\t\t\tthis._isScrolling ||\n\t\t\t(!this.monitor.isDragging() &&\n\t\t\t\tinAngleRanges(\n\t\t\t\t\tthis._mouseClientOffset.x || 0,\n\t\t\t\t\tthis._mouseClientOffset.y || 0,\n\t\t\t\t\tclientOffset.x,\n\t\t\t\t\tclientOffset.y,\n\t\t\t\t\tthis.options.scrollAngleRanges,\n\t\t\t\t))\n\t\t) {\n\t\t\tthis._isScrolling = true\n\t\t\treturn\n\t\t}\n\n\t\t// If we're not dragging and we've moved a little, that counts as a drag start\n\t\tif (\n\t\t\t!this.monitor.isDragging() &&\n\t\t\t// eslint-disable-next-line no-prototype-builtins\n\t\t\tthis._mouseClientOffset.hasOwnProperty('x') &&\n\t\t\tmoveStartSourceIds &&\n\t\t\tdistance(\n\t\t\t\tthis._mouseClientOffset.x || 0,\n\t\t\t\tthis._mouseClientOffset.y || 0,\n\t\t\t\tclientOffset.x,\n\t\t\t\tclientOffset.y,\n\t\t\t) > (this.options.touchSlop ? this.options.touchSlop : 0)\n\t\t) {\n\t\t\tthis.moveStartSourceIds = undefined\n\n\t\t\tthis.actions.beginDrag(moveStartSourceIds, {\n\t\t\t\tclientOffset: this._mouseClientOffset,\n\t\t\t\tgetSourceClientOffset: this.getSourceClientOffset,\n\t\t\t\tpublishSource: false,\n\t\t\t})\n\t\t}\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\treturn\n\t\t}\n\n\t\tconst sourceNode = this.sourceNodes.get(\n\t\t\tthis.monitor.getSourceId() as string,\n\t\t)\n\t\tthis.installSourceNodeRemovalObserver(sourceNode)\n\t\tthis.actions.publishDragSource()\n\n\t\tif (e.cancelable) e.preventDefault()\n\n\t\t// Get the node elements of the hovered DropTargets\n\t\tconst dragOverTargetNodes: HTMLElement[] = (dragOverTargetIds || [])\n\t\t\t.map((key) => this.targetNodes.get(key))\n\t\t\t.filter((e) => !!e) as HTMLElement[]\n\n\t\t// Get the a ordered list of nodes that are touched by\n\t\tconst elementsAtPoint = this.options.getDropTargetElementsAtPoint\n\t\t\t? this.options.getDropTargetElementsAtPoint(\n\t\t\t\t\tclientOffset.x,\n\t\t\t\t\tclientOffset.y,\n\t\t\t\t\tdragOverTargetNodes,\n\t\t\t  )\n\t\t\t: this.document.elementsFromPoint(clientOffset.x, clientOffset.y)\n\t\t// Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\t\tconst elementsAtPointExtended: Element[] = []\n\t\tfor (const nodeId in elementsAtPoint) {\n\t\t\t// eslint-disable-next-line no-prototype-builtins\n\t\t\tif (!elementsAtPoint.hasOwnProperty(nodeId)) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tlet currentNode: Element | undefined | null = elementsAtPoint[nodeId]\n\t\t\tif (currentNode != null) {\n\t\t\t\telementsAtPointExtended.push(currentNode)\n\t\t\t}\n\t\t\twhile (currentNode) {\n\t\t\t\tcurrentNode = currentNode.parentElement\n\t\t\t\tif (\n\t\t\t\t\tcurrentNode &&\n\t\t\t\t\telementsAtPointExtended.indexOf(currentNode) === -1\n\t\t\t\t) {\n\t\t\t\t\telementsAtPointExtended.push(currentNode)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst orderedDragOverTargetIds: string[] = elementsAtPointExtended\n\t\t\t// Filter off nodes that arent a hovered DropTargets nodes\n\t\t\t.filter((node) => dragOverTargetNodes.indexOf(node as HTMLElement) > -1)\n\t\t\t// Map back the nodes elements to targetIds\n\t\t\t.map((node) => this._getDropTargetId(node))\n\t\t\t// Filter off possible null rows\n\t\t\t.filter((node) => !!node)\n\t\t\t.filter((id, index, ids) => ids.indexOf(id) === index) as string[]\n\n\t\t// Invoke hover for drop targets when source node is still over and pointer is outside\n\t\tif (enableHoverOutsideTarget) {\n\t\t\tfor (const targetId in this.targetNodes) {\n\t\t\t\tconst targetNode = this.targetNodes.get(targetId)\n\t\t\t\tif (\n\t\t\t\t\tsourceNode &&\n\t\t\t\t\ttargetNode &&\n\t\t\t\t\ttargetNode.contains(sourceNode) &&\n\t\t\t\t\torderedDragOverTargetIds.indexOf(targetId) === -1\n\t\t\t\t) {\n\t\t\t\t\torderedDragOverTargetIds.unshift(targetId)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\t\torderedDragOverTargetIds.reverse()\n\n\t\tthis.actions.hover(orderedDragOverTargetIds, {\n\t\t\tclientOffset: clientOffset,\n\t\t})\n\t}\n\n\t/**\n\t *\n\t * visible for testing\n\t */\n\tpublic _getDropTargetId = (node: Element): Identifier | undefined => {\n\t\tconst keys = this.targetNodes.keys()\n\t\tlet next = keys.next()\n\t\twhile (next.done === false) {\n\t\t\tconst targetId = next.value\n\t\t\tif (node === this.targetNodes.get(targetId)) {\n\t\t\t\treturn targetId\n\t\t\t} else {\n\t\t\t\tnext = keys.next()\n\t\t\t}\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic handleTopMoveEndCapture = (e: Event): void => {\n\t\tthis._isScrolling = false\n\t\tthis.lastTargetTouchFallback = undefined\n\n\t\tif (!eventShouldEndDrag(e as MouseEvent)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.monitor.isDragging() || this.monitor.didDrop()) {\n\t\t\tthis.moveStartSourceIds = undefined\n\t\t\treturn\n\t\t}\n\n\t\tif (e.cancelable) e.preventDefault()\n\n\t\tthis._mouseClientOffset = {}\n\n\t\tthis.uninstallSourceNodeRemovalObserver()\n\t\tthis.actions.drop()\n\t\tthis.actions.endDrag()\n\t}\n\n\tpublic handleCancelOnEscape = (e: KeyboardEvent): void => {\n\t\tif (e.key === 'Escape' && this.monitor.isDragging()) {\n\t\t\tthis._mouseClientOffset = {}\n\n\t\t\tthis.uninstallSourceNodeRemovalObserver()\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t}\n\n\tprivate installSourceNodeRemovalObserver(node: HTMLElement | undefined) {\n\t\tthis.uninstallSourceNodeRemovalObserver()\n\n\t\tthis.draggedSourceNode = node\n\t\tthis.draggedSourceNodeRemovalObserver = new MutationObserver(() => {\n\t\t\tif (node && !node.parentElement) {\n\t\t\t\tthis.resurrectSourceNode()\n\t\t\t\tthis.uninstallSourceNodeRemovalObserver()\n\t\t\t}\n\t\t})\n\n\t\tif (!node || !node.parentElement) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n\t\t\tchildList: true,\n\t\t})\n\t}\n\n\tprivate resurrectSourceNode() {\n\t\tif (this.document && this.draggedSourceNode) {\n\t\t\tthis.draggedSourceNode.style.display = 'none'\n\t\t\tthis.draggedSourceNode.removeAttribute('data-reactid')\n\t\t\tthis.document.body.appendChild(this.draggedSourceNode)\n\t\t}\n\t}\n\n\tprivate uninstallSourceNodeRemovalObserver() {\n\t\tif (this.draggedSourceNodeRemovalObserver) {\n\t\t\tthis.draggedSourceNodeRemovalObserver.disconnect()\n\t\t}\n\n\t\tthis.draggedSourceNodeRemovalObserver = undefined\n\t\tthis.draggedSourceNode = undefined\n\t}\n}\n","import type { AngleRange } from '../interfaces.js'\n\nexport function distance(\n\tx1: number,\n\ty1: number,\n\tx2: number,\n\ty2: number,\n): number {\n\treturn Math.sqrt(\n\t\tMath.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2),\n\t)\n}\n\nexport function inAngleRanges(\n\tx1: number,\n\ty1: number,\n\tx2: number,\n\ty2: number,\n\tangleRanges: AngleRange[] | undefined,\n): boolean {\n\tif (!angleRanges) {\n\t\treturn false\n\t}\n\n\tconst angle = (Math.atan2(y2 - y1, x2 - x1) * 180) / Math.PI + 180\n\n\tfor (let i = 0; i < angleRanges.length; ++i) {\n\t\tconst ar = angleRanges[i]\n\t\tif (\n\t\t\tar &&\n\t\t\t(ar.start == null || angle >= ar.start) &&\n\t\t\t(ar.end == null || angle <= ar.end)\n\t\t) {\n\t\t\treturn true\n\t\t}\n\t}\n\n\treturn false\n}\n","import type { BackendFactory, DragDropManager } from 'dnd-core'\n\nimport type { TouchBackendContext, TouchBackendOptions } from './interfaces.js'\nimport { TouchBackendImpl } from './TouchBackendImpl.js'\n\nexport * from './interfaces.js'\nexport * from './TouchBackendImpl.js'\n\nexport const TouchBackend: BackendFactory = function createBackend(\n\tmanager: DragDropManager,\n\tcontext: TouchBackendContext = {},\n\toptions: Partial<TouchBackendOptions> = {},\n): TouchBackendImpl {\n\treturn new TouchBackendImpl(manager, context, options)\n}\n","import type { DragDropManager } from 'dnd-core'\nimport { createContext } from 'react'\n\n/**\n * The React context type\n */\nexport interface DndContextType {\n\tdragDropManager: DragDropManager | undefined\n}\n\n/**\n * Create the React Context\n */\nexport const DndContext = createContext<DndContextType>({\n\tdragDropManager: undefined,\n})\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get<T>(obj: any, path: string, defaultValue: T): T {\n\treturn path\n\t\t.split('.')\n\t\t.reduce((a, c) => (a && a[c] ? a[c] : defaultValue || null), obj) as T\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T): T[] {\n\treturn items.filter((i) => i !== item)\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isString(input: any): boolean {\n\treturn typeof input === 'string'\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isObject(input: any): boolean {\n\treturn typeof input === 'object'\n}\n\n/**\n * replacement for _.xor\n * @param itemsA\n * @param itemsB\n */\nexport function xor<T extends string | number>(itemsA: T[], itemsB: T[]): T[] {\n\tconst map = new Map<T, number>()\n\tconst insertItem = (item: T) => {\n\t\tmap.set(item, map.has(item) ? (map.get(item) as number) + 1 : 1)\n\t}\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tmap.forEach((count, key) => {\n\t\tif (count === 1) {\n\t\t\tresult.push(key)\n\t\t}\n\t})\n\treturn result\n}\n\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\nexport function intersection<T>(itemsA: T[], itemsB: T[]): T[] {\n\treturn itemsA.filter((t) => itemsB.indexOf(t) > -1)\n}\n","export const INIT_COORDS = 'dnd-core/INIT_COORDS'\nexport const BEGIN_DRAG = 'dnd-core/BEGIN_DRAG'\nexport const PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE'\nexport const HOVER = 'dnd-core/HOVER'\nexport const DROP = 'dnd-core/DROP'\nexport const END_DRAG = 'dnd-core/END_DRAG'\n","import type { AnyAction } from 'redux'\n\nimport type { XYCoord } from '../../../interfaces.js'\nimport { INIT_COORDS } from '../types.js'\n\nexport function setClientOffset(\n\tclientOffset: XYCoord | null | undefined,\n\tsourceClientOffset?: XYCoord | null | undefined,\n): AnyAction {\n\treturn {\n\t\ttype: INIT_COORDS,\n\t\tpayload: {\n\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\tclientOffset: clientOffset || null,\n\t\t},\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tBeginDragOptions,\n\tBeginDragPayload,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tXYCoord,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { setClientOffset } from './local/setClientOffset.js'\nimport { BEGIN_DRAG, INIT_COORDS } from './types.js'\n\nconst ResetCoordinatesAction = {\n\ttype: INIT_COORDS,\n\tpayload: {\n\t\tclientOffset: null,\n\t\tsourceClientOffset: null,\n\t},\n}\n\nexport function createBeginDrag(manager: DragDropManager) {\n\treturn function beginDrag(\n\t\tsourceIds: Identifier[] = [],\n\t\toptions: BeginDragOptions = {\n\t\t\tpublishSource: true,\n\t\t},\n\t): Action<BeginDragPayload> | undefined {\n\t\tconst {\n\t\t\tpublishSource = true,\n\t\t\tclientOffset,\n\t\t\tgetSourceClientOffset,\n\t\t}: BeginDragOptions = options\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\n\t\t// Initialize the coordinates using the client offset\n\t\tmanager.dispatch(setClientOffset(clientOffset))\n\n\t\tverifyInvariants(sourceIds, monitor, registry)\n\n\t\t// Get the draggable source\n\t\tconst sourceId = getDraggableSource(sourceIds, monitor)\n\t\tif (sourceId == null) {\n\t\t\tmanager.dispatch(ResetCoordinatesAction)\n\t\t\treturn\n\t\t}\n\n\t\t// Get the source client offset\n\t\tlet sourceClientOffset: XYCoord | null = null\n\t\tif (clientOffset) {\n\t\t\tif (!getSourceClientOffset) {\n\t\t\t\tthrow new Error('getSourceClientOffset must be defined')\n\t\t\t}\n\t\t\tverifyGetSourceClientOffsetIsFunction(getSourceClientOffset)\n\t\t\tsourceClientOffset = getSourceClientOffset(sourceId)\n\t\t}\n\n\t\t// Initialize the full coordinates\n\t\tmanager.dispatch(setClientOffset(clientOffset, sourceClientOffset))\n\n\t\tconst source = registry.getSource(sourceId)\n\t\tconst item = source.beginDrag(monitor, sourceId)\n\t\t// If source.beginDrag returns null, this is an indicator to cancel the drag\n\t\tif (item == null) {\n\t\t\treturn undefined\n\t\t}\n\t\tverifyItemIsObject(item)\n\t\tregistry.pinSource(sourceId)\n\n\t\tconst itemType = registry.getSourceType(sourceId)\n\t\treturn {\n\t\t\ttype: BEGIN_DRAG,\n\t\t\tpayload: {\n\t\t\t\titemType,\n\t\t\t\titem,\n\t\t\t\tsourceId,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\t\tisSourcePublic: !!publishSource,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyInvariants(\n\tsourceIds: Identifier[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.')\n\tsourceIds.forEach(function (sourceId) {\n\t\tinvariant(\n\t\t\tregistry.getSource(sourceId),\n\t\t\t'Expected sourceIds to be registered.',\n\t\t)\n\t})\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset: any) {\n\tinvariant(\n\t\ttypeof getSourceClientOffset === 'function',\n\t\t'When clientOffset is provided, getSourceClientOffset must be a function.',\n\t)\n}\n\nfunction verifyItemIsObject(item: any) {\n\tinvariant(isObject(item), 'Item must be an object.')\n}\n\nfunction getDraggableSource(sourceIds: Identifier[], monitor: DragDropMonitor) {\n\tlet sourceId = null\n\tfor (let i = sourceIds.length - 1; i >= 0; i--) {\n\t\tif (monitor.canDragSource(sourceIds[i])) {\n\t\t\tsourceId = sourceIds[i]\n\t\t\tbreak\n\t\t}\n\t}\n\treturn sourceId\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tDropPayload,\n\tHandlerRegistry,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { DROP } from './types.js'\n\nexport function createDrop(manager: DragDropManager) {\n\treturn function drop(options = {}): void {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyInvariants(monitor)\n\t\tconst targetIds = getDroppableTargets(monitor)\n\n\t\t// Multiple actions are dispatched here, which is why this doesn't return an action\n\t\ttargetIds.forEach((targetId, index) => {\n\t\t\tconst dropResult = determineDropResult(targetId, index, registry, monitor)\n\t\t\tconst action: Action<DropPayload> = {\n\t\t\t\ttype: DROP,\n\t\t\t\tpayload: {\n\t\t\t\t\tdropResult: {\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\t...dropResult,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t\tmanager.dispatch(action)\n\t\t})\n\t}\n}\n\nfunction verifyInvariants(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call drop while not dragging.')\n\tinvariant(\n\t\t!monitor.didDrop(),\n\t\t'Cannot call drop twice during one drag operation.',\n\t)\n}\n\nfunction determineDropResult(\n\ttargetId: Identifier,\n\tindex: number,\n\tregistry: HandlerRegistry,\n\tmonitor: DragDropMonitor,\n) {\n\tconst target = registry.getTarget(targetId)\n\tlet dropResult = target ? target.drop(monitor, targetId) : undefined\n\tverifyDropResultType(dropResult)\n\tif (typeof dropResult === 'undefined') {\n\t\tdropResult = index === 0 ? {} : monitor.getDropResult()\n\t}\n\treturn dropResult\n}\n\nfunction verifyDropResultType(dropResult: any) {\n\tinvariant(\n\t\ttypeof dropResult === 'undefined' || isObject(dropResult),\n\t\t'Drop result must either be an object or undefined.',\n\t)\n}\n\nfunction getDroppableTargets(monitor: DragDropMonitor) {\n\tconst targetIds = monitor\n\t\t.getTargetIds()\n\t\t.filter(monitor.canDropOnTarget, monitor)\n\ttargetIds.reverse()\n\treturn targetIds\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tSentinelAction,\n} from '../../interfaces.js'\nimport { END_DRAG } from './types.js'\n\nexport function createEndDrag(manager: DragDropManager) {\n\treturn function endDrag(): SentinelAction {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyIsDragging(monitor)\n\n\t\tconst sourceId = monitor.getSourceId()\n\t\tif (sourceId != null) {\n\t\t\tconst source = registry.getSource(sourceId, true)\n\t\t\tsource.endDrag(monitor, sourceId)\n\t\t\tregistry.unpinSource()\n\t\t}\n\t\treturn { type: END_DRAG }\n\t}\n}\n\nfunction verifyIsDragging(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.')\n}\n","import type { Identifier } from '../interfaces.js'\n\nexport function matchesType(\n\ttargetType: Identifier | Identifier[] | null,\n\tdraggedItemType: Identifier | null,\n): boolean {\n\tif (draggedItemType === null) {\n\t\treturn targetType === null\n\t}\n\treturn Array.isArray(targetType)\n\t\t? (targetType as Identifier[]).some((t) => t === draggedItemType)\n\t\t: targetType === draggedItemType\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tHoverOptions,\n\tHoverPayload,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { matchesType } from '../../utils/matchesType.js'\nimport { HOVER } from './types.js'\n\nexport function createHover(manager: DragDropManager) {\n\treturn function hover(\n\t\ttargetIdsArg: string[],\n\t\t{ clientOffset }: HoverOptions = {},\n\t): Action<HoverPayload> {\n\t\tverifyTargetIdsIsArray(targetIdsArg)\n\t\tconst targetIds = targetIdsArg.slice(0)\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tconst draggedItemType = monitor.getItemType()\n\t\tremoveNonMatchingTargetIds(targetIds, registry, draggedItemType)\n\t\tcheckInvariants(targetIds, monitor, registry)\n\t\thoverAllTargets(targetIds, monitor, registry)\n\n\t\treturn {\n\t\t\ttype: HOVER,\n\t\t\tpayload: {\n\t\t\t\ttargetIds,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg: string[]) {\n\tinvariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.')\n}\n\nfunction checkInvariants(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(monitor.isDragging(), 'Cannot call hover while not dragging.')\n\tinvariant(!monitor.didDrop(), 'Cannot call hover after drop.')\n\tfor (let i = 0; i < targetIds.length; i++) {\n\t\tconst targetId = targetIds[i] as string\n\t\tinvariant(\n\t\t\ttargetIds.lastIndexOf(targetId) === i,\n\t\t\t'Expected targetIds to be unique in the passed array.',\n\t\t)\n\n\t\tconst target = registry.getTarget(targetId)\n\t\tinvariant(target, 'Expected targetIds to be registered.')\n\t}\n}\n\nfunction removeNonMatchingTargetIds(\n\ttargetIds: string[],\n\tregistry: HandlerRegistry,\n\tdraggedItemType: Identifier | null,\n) {\n\t// Remove those targetIds that don't match the targetType.  This\n\t// fixes shallow isOver which would only be non-shallow because of\n\t// non-matching targets.\n\tfor (let i = targetIds.length - 1; i >= 0; i--) {\n\t\tconst targetId = targetIds[i] as string\n\t\tconst targetType = registry.getTargetType(targetId)\n\t\tif (!matchesType(targetType, draggedItemType)) {\n\t\t\ttargetIds.splice(i, 1)\n\t\t}\n\t}\n}\n\nfunction hoverAllTargets(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\t// Finally call hover on all matching targets.\n\ttargetIds.forEach(function (targetId) {\n\t\tconst target = registry.getTarget(targetId)\n\t\ttarget.hover(monitor, targetId)\n\t})\n}\n","import type { DragDropManager, SentinelAction } from '../../interfaces.js'\nimport { PUBLISH_DRAG_SOURCE } from './types.js'\n\nexport function createPublishDragSource(manager: DragDropManager) {\n\treturn function publishDragSource(): SentinelAction | undefined {\n\t\tconst monitor = manager.getMonitor()\n\t\tif (monitor.isDragging()) {\n\t\t\treturn { type: PUBLISH_DRAG_SOURCE }\n\t\t}\n\t\treturn\n\t}\n}\n","import type { Action, Store } from 'redux'\n\nimport { createDragDropActions } from '../actions/dragDrop/index.js'\nimport type {\n\tActionCreator,\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport type { DragDropMonitorImpl } from './DragDropMonitorImpl.js'\n\nexport class DragDropManagerImpl implements DragDropManager {\n\tprivate store: Store<State>\n\tprivate monitor: DragDropMonitor\n\tprivate backend: Backend | undefined\n\tprivate isSetUp = false\n\n\tpublic constructor(store: Store<State>, monitor: DragDropMonitor) {\n\t\tthis.store = store\n\t\tthis.monitor = monitor\n\t\tstore.subscribe(this.handleRefCountChange)\n\t}\n\n\tpublic receiveBackend(backend: Backend): void {\n\t\tthis.backend = backend\n\t}\n\n\tpublic getMonitor(): DragDropMonitor {\n\t\treturn this.monitor\n\t}\n\n\tpublic getBackend(): Backend {\n\t\treturn this.backend as Backend\n\t}\n\n\tpublic getRegistry(): HandlerRegistry {\n\t\treturn (this.monitor as DragDropMonitorImpl).registry\n\t}\n\n\tpublic getActions(): DragDropActions {\n\t\t/* eslint-disable-next-line @typescript-eslint/no-this-alias */\n\t\tconst manager = this\n\t\tconst { dispatch } = this.store\n\n\t\tfunction bindActionCreator(actionCreator: ActionCreator<any>) {\n\t\t\treturn (...args: any[]) => {\n\t\t\t\tconst action = actionCreator.apply(manager, args as any)\n\t\t\t\tif (typeof action !== 'undefined') {\n\t\t\t\t\tdispatch(action)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst actions = createDragDropActions(this)\n\n\t\treturn Object.keys(actions).reduce(\n\t\t\t(boundActions: DragDropActions, key: string) => {\n\t\t\t\tconst action: ActionCreator<any> = (actions as any)[\n\t\t\t\t\tkey\n\t\t\t\t] as ActionCreator<any>\n\t\t\t\t;(boundActions as any)[key] = bindActionCreator(action)\n\t\t\t\treturn boundActions\n\t\t\t},\n\t\t\t{} as DragDropActions,\n\t\t)\n\t}\n\n\tpublic dispatch(action: Action<any>): void {\n\t\tthis.store.dispatch(action)\n\t}\n\n\tprivate handleRefCountChange = (): void => {\n\t\tconst shouldSetUp = this.store.getState().refCount > 0\n\t\tif (this.backend) {\n\t\t\tif (shouldSetUp && !this.isSetUp) {\n\t\t\t\tthis.backend.setup()\n\t\t\t\tthis.isSetUp = true\n\t\t\t} else if (!shouldSetUp && this.isSetUp) {\n\t\t\t\tthis.backend.teardown()\n\t\t\t\tthis.isSetUp = false\n\t\t\t}\n\t\t}\n\t}\n}\n","import type { DragDropActions, DragDropManager } from '../../interfaces.js'\nimport { createBeginDrag } from './beginDrag.js'\nimport { createDrop } from './drop.js'\nimport { createEndDrag } from './endDrag.js'\nimport { createHover } from './hover.js'\nimport { createPublishDragSource } from './publishDragSource.js'\n\nexport * from './types.js'\n\nexport function createDragDropActions(\n\tmanager: DragDropManager,\n): DragDropActions {\n\treturn {\n\t\tbeginDrag: createBeginDrag(manager),\n\t\tpublishDragSource: createPublishDragSource(manager),\n\t\thover: createHover(manager),\n\t\tdrop: createDrop(manager),\n\t\tendDrag: createEndDrag(manager),\n\t}\n}\n","import type { XYCoord } from '../interfaces.js'\nimport type { State } from '../reducers/dragOffset.js'\n\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x + b.x,\n\t\ty: a.y + b.y,\n\t}\n}\n\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function subtract(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x - b.x,\n\t\ty: a.y - b.y,\n\t}\n}\n\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\nexport function getSourceClientOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset, initialSourceClientOffset } = state\n\tif (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(\n\t\tadd(clientOffset, initialSourceClientOffset),\n\t\tinitialClientOffset,\n\t)\n}\n\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\nexport function getDifferenceFromInitialOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset } = state\n\tif (!clientOffset || !initialClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(clientOffset, initialClientOffset)\n}\n","import { intersection } from './js_utils.js'\n\nexport const NONE: string[] = []\nexport const ALL: string[] = []\n// Add these flags for debug\n;(NONE as any).__IS_NONE__ = true\n;(ALL as any).__IS_ALL__ = true\n\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\nexport function areDirty(\n\tdirtyIds: string[],\n\thandlerIds: string[] | undefined,\n): boolean {\n\tif (dirtyIds === NONE) {\n\t\treturn false\n\t}\n\n\tif (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n\t\treturn true\n\t}\n\n\tconst commonIds = intersection(handlerIds, dirtyIds)\n\treturn commonIds.length > 0\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport type {\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport {\n\tgetDifferenceFromInitialOffset,\n\tgetSourceClientOffset,\n} from '../utils/coords.js'\nimport { areDirty } from '../utils/dirtiness.js'\nimport { matchesType } from '../utils/matchesType.js'\n\nexport class DragDropMonitorImpl implements DragDropMonitor {\n\tprivate store: Store<State>\n\tpublic readonly registry: HandlerRegistry\n\n\tpublic constructor(store: Store<State>, registry: HandlerRegistry) {\n\t\tthis.store = store\n\t\tthis.registry = registry\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions: { handlerIds?: string[] } = {},\n\t): Unsubscribe {\n\t\tconst { handlerIds } = options\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\t\tinvariant(\n\t\t\ttypeof handlerIds === 'undefined' || Array.isArray(handlerIds),\n\t\t\t'handlerIds, when specified, must be an array of strings.',\n\t\t)\n\n\t\tlet prevStateId = this.store.getState().stateId\n\t\tconst handleChange = () => {\n\t\t\tconst state = this.store.getState()\n\t\t\tconst currentStateId = state.stateId\n\t\t\ttry {\n\t\t\t\tconst canSkipListener =\n\t\t\t\t\tcurrentStateId === prevStateId ||\n\t\t\t\t\t(currentStateId === prevStateId + 1 &&\n\t\t\t\t\t\t!areDirty(state.dirtyHandlerIds, handlerIds))\n\n\t\t\t\tif (!canSkipListener) {\n\t\t\t\t\tlistener()\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tprevStateId = currentStateId\n\t\t\t}\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic subscribeToOffsetChange(listener: Listener): Unsubscribe {\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\n\t\tlet previousState = this.store.getState().dragOffset\n\t\tconst handleChange = () => {\n\t\t\tconst nextState = this.store.getState().dragOffset\n\t\t\tif (nextState === previousState) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tpreviousState = nextState\n\t\t\tlistener()\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic canDragSource(sourceId: string | undefined): boolean {\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.canDrag(this, sourceId)\n\t}\n\n\tpublic canDropOnTarget(targetId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\t\tconst target = this.registry.getTarget(targetId)\n\t\tinvariant(target, `Expected to find a valid target. targetId=${targetId}`)\n\n\t\tif (!this.isDragging() || this.didDrop()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\treturn (\n\t\t\tmatchesType(targetType, draggedItemType) && target.canDrop(this, targetId)\n\t\t)\n\t}\n\n\tpublic isDragging(): boolean {\n\t\treturn Boolean(this.getItemType())\n\t}\n\n\tpublic isDraggingSource(sourceId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId, true)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (!this.isDragging() || !this.isSourcePublic()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst sourceType = this.registry.getSourceType(sourceId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (sourceType !== draggedItemType) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.isDragging(this, sourceId)\n\t}\n\n\tpublic isOverTarget(\n\t\ttargetId: string | undefined,\n\t\toptions = { shallow: false },\n\t): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst { shallow } = options\n\t\tif (!this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (draggedItemType && !matchesType(targetType, draggedItemType)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetIds = this.getTargetIds()\n\t\tif (!targetIds.length) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst index = targetIds.indexOf(targetId)\n\t\tif (shallow) {\n\t\t\treturn index === targetIds.length - 1\n\t\t} else {\n\t\t\treturn index > -1\n\t\t}\n\t}\n\n\tpublic getItemType(): Identifier {\n\t\treturn this.store.getState().dragOperation.itemType as Identifier\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.store.getState().dragOperation.item\n\t}\n\n\tpublic getSourceId(): string | null {\n\t\treturn this.store.getState().dragOperation.sourceId\n\t}\n\n\tpublic getTargetIds(): string[] {\n\t\treturn this.store.getState().dragOperation.targetIds\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.store.getState().dragOperation.dropResult\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.store.getState().dragOperation.didDrop\n\t}\n\n\tpublic isSourcePublic(): boolean {\n\t\treturn Boolean(this.store.getState().dragOperation.isSourcePublic)\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialClientOffset\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialSourceClientOffset\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.clientOffset\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn getSourceClientOffset(this.store.getState().dragOffset)\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn getDifferenceFromInitialOffset(this.store.getState().dragOffset)\n\t}\n}\n","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n","// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { Task, TaskFn } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n","import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\nimport type { Task } from './types.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.js’s\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","import { RawTask } from './RawTask.js'\nimport type { Task } from './types.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n","import type { Action, SourceIdPayload, TargetIdPayload } from '../interfaces.js'\n\nexport const ADD_SOURCE = 'dnd-core/ADD_SOURCE'\nexport const ADD_TARGET = 'dnd-core/ADD_TARGET'\nexport const REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE'\nexport const REMOVE_TARGET = 'dnd-core/REMOVE_TARGET'\n\nexport function addSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: ADD_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function addTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: ADD_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n\nexport function removeSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: REMOVE_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function removeTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: REMOVE_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type { DragSource, DropTarget, Identifier } from './interfaces.js'\n\nexport function validateSourceContract(source: DragSource): void {\n\tinvariant(\n\t\ttypeof source.canDrag === 'function',\n\t\t'Expected canDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.beginDrag === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.endDrag === 'function',\n\t\t'Expected endDrag to be a function.',\n\t)\n}\n\nexport function validateTargetContract(target: DropTarget): void {\n\tinvariant(\n\t\ttypeof target.canDrop === 'function',\n\t\t'Expected canDrop to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.hover === 'function',\n\t\t'Expected hover to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.drop === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n}\n\nexport function validateType(\n\ttype: Identifier | Identifier[],\n\tallowArray?: boolean,\n): void {\n\tif (allowArray && Array.isArray(type)) {\n\t\ttype.forEach((t) => validateType(t, false))\n\t\treturn\n\t}\n\n\tinvariant(\n\t\ttypeof type === 'string' || typeof type === 'symbol',\n\t\tallowArray\n\t\t\t? 'Type can only be a string, a symbol, or an array of either.'\n\t\t\t: 'Type can only be a string or a symbol.',\n\t)\n}\n","export type Identifier = string | symbol\nexport type SourceType = Identifier\nexport type TargetType = Identifier | Identifier[]\nexport type Unsubscribe = () => void\nexport type Listener = () => void\n\nexport interface XYCoord {\n\tx: number\n\ty: number\n}\n\nexport enum HandlerRole {\n\tSOURCE = 'SOURCE',\n\tTARGET = 'TARGET',\n}\n\nexport interface Backend {\n\tsetup(): void\n\tteardown(): void\n\tconnectDragSource(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDragPreview(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDropTarget(targetId: any, node?: any, options?: any): Unsubscribe\n\tprofile(): Record<string, number>\n}\n\nexport interface DragDropMonitor {\n\tsubscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: {\n\t\t\thandlerIds?: Identifier[]\n\t\t},\n\t): Unsubscribe\n\tsubscribeToOffsetChange(listener: Listener): Unsubscribe\n\tcanDragSource(sourceId: Identifier | undefined): boolean\n\tcanDropOnTarget(targetId: Identifier | undefined): boolean\n\n\t/**\n\t * Returns true if a drag operation is in progress, and either the owner initiated the drag, or its isDragging()\n\t * is defined and returns true.\n\t */\n\tisDragging(): boolean\n\tisDraggingSource(sourceId: Identifier | undefined): boolean\n\tisOverTarget(\n\t\ttargetId: Identifier | undefined,\n\t\toptions?: {\n\t\t\tshallow?: boolean\n\t\t},\n\t): boolean\n\n\t/**\n\t * Returns a string or a symbol identifying the type of the current dragged item. Returns null if no item is being dragged.\n\t */\n\tgetItemType(): Identifier | null\n\n\t/**\n\t * Returns a plain object representing the currently dragged item. Every drag source must specify it by returning an object\n\t * from its beginDrag() method. Returns null if no item is being dragged.\n\t */\n\tgetItem(): any\n\tgetSourceId(): Identifier | null\n\tgetTargetIds(): Identifier[]\n\t/**\n\t * Returns a plain object representing the last recorded drop result. The drop targets may optionally specify it by returning an\n\t * object from their drop() methods. When a chain of drop() is dispatched for the nested targets, bottom up, any parent that\n\t * explicitly returns its own result from drop() overrides the child drop result previously set by the child. Returns null if\n\t * called outside endDrag().\n\t */\n\tgetDropResult(): any\n\t/**\n\t * Returns true if some drop target has handled the drop event, false otherwise. Even if a target did not return a drop result,\n\t * didDrop() returns true. Use it inside endDrag() to test whether any drop target has handled the drop. Returns false if called\n\t * outside endDrag().\n\t */\n\tdidDrop(): boolean\n\tisSourcePublic(): boolean | null\n\t/**\n\t * Returns the { x, y } client offset of the pointer at the time when the current drag operation has started.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetInitialClientOffset(): XYCoord | null\n\t/**\n\t * Returns the { x, y } client offset of the drag source component's root DOM node at the time when the current drag\n\t * operation has started. Returns null if no item is being dragged.\n\t */\n\tgetInitialSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the last recorded { x, y } client offset of the pointer while a drag operation is in progress.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the projected { x, y } client offset of the drag source component's root DOM node, based on its position at the time\n\t * when the current drag operation has started, and the movement difference. Returns null if no item is being dragged.\n\t */\n\tgetSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the { x, y } difference between the last recorded client offset of the pointer and the client offset when the current\n\t * drag operation has started. Returns null if no item is being dragged.\n\t */\n\tgetDifferenceFromInitialOffset(): XYCoord | null\n}\n\nexport interface HandlerRegistry {\n\taddSource(type: SourceType, source: DragSource): Identifier\n\taddTarget(type: TargetType, target: DropTarget): Identifier\n\tcontainsHandler(handler: DragSource | DropTarget): boolean\n\tgetSource(sourceId: Identifier, includePinned?: boolean): DragSource\n\tgetSourceType(sourceId: Identifier): SourceType\n\tgetTargetType(targetId: Identifier): TargetType\n\tgetTarget(targetId: Identifier): DropTarget\n\tisSourceId(handlerId: Identifier): boolean\n\tisTargetId(handlerId: Identifier): boolean\n\tremoveSource(sourceId: Identifier): void\n\tremoveTarget(targetId: Identifier): void\n\tpinSource(sourceId: Identifier): void\n\tunpinSource(): void\n}\n\nexport interface Action<Payload> {\n\ttype: Identifier\n\tpayload: Payload\n}\nexport interface SentinelAction {\n\ttype: Identifier\n}\n\nexport type ActionCreator<Payload> = (args: any[]) => Action<Payload>\n\nexport interface BeginDragOptions {\n\tpublishSource?: boolean\n\tclientOffset?: XYCoord\n\tgetSourceClientOffset?: (sourceId: Identifier | undefined) => XYCoord\n}\n\nexport interface InitCoordsPayload {\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n}\n\nexport interface BeginDragPayload {\n\titemType: Identifier\n\titem: any\n\tsourceId: Identifier\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n\tisSourcePublic: boolean\n}\n\nexport interface HoverPayload {\n\ttargetIds: Identifier[]\n\tclientOffset: XYCoord | null\n}\n\nexport interface HoverOptions {\n\tclientOffset?: XYCoord\n}\n\nexport interface DropPayload {\n\tdropResult: any\n}\n\nexport interface TargetIdPayload {\n\ttargetId: Identifier\n}\n\nexport interface SourceIdPayload {\n\tsourceId: Identifier\n}\n\nexport interface DragDropActions {\n\tbeginDrag(\n\t\tsourceIds?: Identifier[],\n\t\toptions?: any,\n\t): Action<BeginDragPayload> | undefined\n\tpublishDragSource(): SentinelAction | undefined\n\thover(targetIds: Identifier[], options?: any): Action<HoverPayload>\n\tdrop(options?: any): void\n\tendDrag(): SentinelAction\n}\n\nexport interface DragDropManager {\n\tgetMonitor(): DragDropMonitor\n\tgetBackend(): Backend\n\tgetRegistry(): HandlerRegistry\n\tgetActions(): DragDropActions\n\tdispatch(action: any): void\n}\n\nexport type BackendFactory = (\n\tmanager: DragDropManager,\n\tglobalContext?: any,\n\tconfiguration?: any,\n) => Backend\n\nexport interface DragSource {\n\tbeginDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tendDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tcanDrag(monitor: DragDropMonitor, targetId: Identifier): boolean\n\tisDragging(monitor: DragDropMonitor, targetId: Identifier): boolean\n}\n\nexport interface DropTarget {\n\tcanDrop(monitor: DragDropMonitor, targetId: Identifier): boolean\n\thover(monitor: DragDropMonitor, targetId: Identifier): void\n\tdrop(monitor: DragDropMonitor, targetId: Identifier): any\n}\n","let nextUniqueId = 0\n\nexport function getNextUniqueId(): number {\n\treturn nextUniqueId++\n}\n","import { asap } from '@react-dnd/asap'\nimport { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport {\n\taddSource,\n\taddTarget,\n\tremoveSource,\n\tremoveTarget,\n} from '../actions/registry.js'\nimport {\n\tvalidateSourceContract,\n\tvalidateTargetContract,\n\tvalidateType,\n} from '../contracts.js'\nimport type {\n\tDragSource,\n\tDropTarget,\n\tHandlerRegistry,\n\tIdentifier,\n\tSourceType,\n\tTargetType,\n} from '../interfaces.js'\nimport { HandlerRole } from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport { getNextUniqueId } from '../utils/getNextUniqueId.js'\n\nfunction getNextHandlerId(role: HandlerRole): string {\n\tconst id = getNextUniqueId().toString()\n\tswitch (role) {\n\t\tcase HandlerRole.SOURCE:\n\t\t\treturn `S${id}`\n\t\tcase HandlerRole.TARGET:\n\t\t\treturn `T${id}`\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown Handler Role: ${role}`)\n\t}\n}\n\nfunction parseRoleFromHandlerId(handlerId: string) {\n\tswitch (handlerId[0]) {\n\t\tcase 'S':\n\t\t\treturn HandlerRole.SOURCE\n\t\tcase 'T':\n\t\t\treturn HandlerRole.TARGET\n\t\tdefault:\n\t\t\tthrow new Error(`Cannot parse handler ID: ${handlerId}`)\n\t}\n}\n\nfunction mapContainsValue<T>(map: Map<string, T>, searchValue: T) {\n\tconst entries = map.entries()\n\tlet isDone = false\n\tdo {\n\t\tconst {\n\t\t\tdone,\n\t\t\tvalue: [, value],\n\t\t} = entries.next()\n\t\tif (value === searchValue) {\n\t\t\treturn true\n\t\t}\n\t\tisDone = !!done\n\t} while (!isDone)\n\treturn false\n}\n\nexport class HandlerRegistryImpl implements HandlerRegistry {\n\tprivate types: Map<string, SourceType | TargetType> = new Map()\n\tprivate dragSources: Map<string, DragSource> = new Map()\n\tprivate dropTargets: Map<string, DropTarget> = new Map()\n\tprivate pinnedSourceId: string | null = null\n\tprivate pinnedSource: any = null\n\tprivate store: Store<State>\n\n\tpublic constructor(store: Store<State>) {\n\t\tthis.store = store\n\t}\n\n\tpublic addSource(type: SourceType, source: DragSource): string {\n\t\tvalidateType(type)\n\t\tvalidateSourceContract(source)\n\n\t\tconst sourceId = this.addHandler(HandlerRole.SOURCE, type, source)\n\t\tthis.store.dispatch(addSource(sourceId))\n\t\treturn sourceId\n\t}\n\n\tpublic addTarget(type: TargetType, target: DropTarget): string {\n\t\tvalidateType(type, true)\n\t\tvalidateTargetContract(target)\n\n\t\tconst targetId = this.addHandler(HandlerRole.TARGET, type, target)\n\t\tthis.store.dispatch(addTarget(targetId))\n\t\treturn targetId\n\t}\n\n\tpublic containsHandler(handler: DragSource | DropTarget): boolean {\n\t\treturn (\n\t\t\tmapContainsValue(this.dragSources, handler) ||\n\t\t\tmapContainsValue(this.dropTargets, handler)\n\t\t)\n\t}\n\n\tpublic getSource(sourceId: string, includePinned = false): DragSource {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\tconst isPinned = includePinned && sourceId === this.pinnedSourceId\n\t\tconst source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId)\n\t\treturn source\n\t}\n\n\tpublic getTarget(targetId: string): DropTarget {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.dropTargets.get(targetId) as DropTarget\n\t}\n\n\tpublic getSourceType(sourceId: string): Identifier {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\treturn this.types.get(sourceId) as Identifier\n\t}\n\n\tpublic getTargetType(targetId: string): Identifier | Identifier[] {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.types.get(targetId) as Identifier | Identifier[]\n\t}\n\n\tpublic isSourceId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.SOURCE\n\t}\n\n\tpublic isTargetId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.TARGET\n\t}\n\n\tpublic removeSource(sourceId: string): void {\n\t\tinvariant(this.getSource(sourceId), 'Expected an existing source.')\n\t\tthis.store.dispatch(removeSource(sourceId))\n\t\tasap(() => {\n\t\t\tthis.dragSources.delete(sourceId)\n\t\t\tthis.types.delete(sourceId)\n\t\t})\n\t}\n\n\tpublic removeTarget(targetId: string): void {\n\t\tinvariant(this.getTarget(targetId), 'Expected an existing target.')\n\t\tthis.store.dispatch(removeTarget(targetId))\n\t\tthis.dropTargets.delete(targetId)\n\t\tthis.types.delete(targetId)\n\t}\n\n\tpublic pinSource(sourceId: string): void {\n\t\tconst source = this.getSource(sourceId)\n\t\tinvariant(source, 'Expected an existing source.')\n\n\t\tthis.pinnedSourceId = sourceId\n\t\tthis.pinnedSource = source\n\t}\n\n\tpublic unpinSource(): void {\n\t\tinvariant(this.pinnedSource, 'No source is pinned at the time.')\n\n\t\tthis.pinnedSourceId = null\n\t\tthis.pinnedSource = null\n\t}\n\n\tprivate addHandler(\n\t\trole: HandlerRole,\n\t\ttype: SourceType | TargetType,\n\t\thandler: DragSource | DropTarget,\n\t): string {\n\t\tconst id = getNextHandlerId(role)\n\t\tthis.types.set(id, type)\n\t\tif (role === HandlerRole.SOURCE) {\n\t\t\tthis.dragSources.set(id, handler as DragSource)\n\t\t} else if (role === HandlerRole.TARGET) {\n\t\t\tthis.dropTargets.set(id, handler as DropTarget)\n\t\t}\n\t\treturn id\n\t}\n}\n","import type { XYCoord } from '../interfaces.js'\n\nexport type EqualityCheck<T> = (a: T, b: T) => boolean\nexport const strictEquality = <T>(a: T, b: T): boolean => a === b\n\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\nexport function areCoordsEqual(\n\toffsetA: XYCoord | null | undefined,\n\toffsetB: XYCoord | null | undefined,\n): boolean {\n\tif (!offsetA && !offsetB) {\n\t\treturn true\n\t} else if (!offsetA || !offsetB) {\n\t\treturn false\n\t} else {\n\t\treturn offsetA.x === offsetB.x && offsetA.y === offsetB.y\n\t}\n}\n\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\nexport function areArraysEqual<T>(\n\ta: T[],\n\tb: T[],\n\tisEqual: EqualityCheck<T> = strictEquality,\n): boolean {\n\tif (a.length !== b.length) {\n\t\treturn false\n\t}\n\tfor (let i = 0; i < a.length; ++i) {\n\t\tif (!isEqual(a[i] as T, b[i] as T)) {\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\nimport { ALL, NONE } from '../utils/dirtiness.js'\nimport { areArraysEqual } from '../utils/equality.js'\nimport { xor } from '../utils/js_utils.js'\n\nexport type State = string[]\n\nexport interface DirtyHandlerIdPayload {\n\ttargetIds: string[]\n\tprevTargetIds: string[]\n}\n\nexport function reduce(\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t_state: State = NONE,\n\taction: Action<DirtyHandlerIdPayload>,\n): State {\n\tswitch (action.type) {\n\t\tcase HOVER:\n\t\t\tbreak\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\tcase REMOVE_TARGET:\n\t\tcase REMOVE_SOURCE:\n\t\t\treturn NONE\n\t\tcase BEGIN_DRAG:\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\tdefault:\n\t\t\treturn ALL\n\t}\n\n\tconst { targetIds = [], prevTargetIds = [] } = action.payload\n\tconst result = xor(targetIds, prevTargetIds)\n\tconst didChange =\n\t\tresult.length > 0 || !areArraysEqual(targetIds, prevTargetIds)\n\n\tif (!didChange) {\n\t\treturn NONE\n\t}\n\n\t// Check the target ids at the innermost position. If they are valid, add them\n\t// to the result\n\tconst prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1]\n\tconst innermostTargetId = targetIds[targetIds.length - 1]\n\tif (prevInnermostTargetId !== innermostTargetId) {\n\t\tif (prevInnermostTargetId) {\n\t\t\tresult.push(prevInnermostTargetId)\n\t\t}\n\t\tif (innermostTargetId) {\n\t\t\tresult.push(innermostTargetId)\n\t\t}\n\t}\n\n\treturn result\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tINIT_COORDS,\n} from '../actions/dragDrop/index.js'\nimport type { Action, XYCoord } from '../interfaces.js'\nimport { areCoordsEqual } from '../utils/equality.js'\n\nexport interface State {\n\tinitialSourceClientOffset: XYCoord | null\n\tinitialClientOffset: XYCoord | null\n\tclientOffset: XYCoord | null\n}\n\nconst initialState: State = {\n\tinitialSourceClientOffset: null,\n\tinitialClientOffset: null,\n\tclientOffset: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\tsourceClientOffset: XYCoord\n\t\tclientOffset: XYCoord\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase INIT_COORDS:\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\tinitialSourceClientOffset: payload.sourceClientOffset,\n\t\t\t\tinitialClientOffset: payload.clientOffset,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\tif (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\t\treturn initialState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport { REMOVE_TARGET } from '../actions/registry.js'\nimport type { Action, Identifier } from '../interfaces.js'\nimport { without } from '../utils/js_utils.js'\n\nexport interface State {\n\titemType: Identifier | Identifier[] | null\n\titem: any\n\tsourceId: string | null\n\ttargetIds: string[]\n\tdropResult: any\n\tdidDrop: boolean\n\tisSourcePublic: boolean | null\n}\n\nconst initialState: State = {\n\titemType: null,\n\titem: null,\n\tsourceId: null,\n\ttargetIds: [],\n\tdropResult: null,\n\tdidDrop: false,\n\tisSourcePublic: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\titemType: Identifier | Identifier[]\n\t\titem: any\n\t\tsourceId: string\n\t\ttargetId: string\n\t\ttargetIds: string[]\n\t\tisSourcePublic: boolean\n\t\tdropResult: any\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: payload.itemType,\n\t\t\t\titem: payload.item,\n\t\t\t\tsourceId: payload.sourceId,\n\t\t\t\tisSourcePublic: payload.isSourcePublic,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t}\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSourcePublic: true,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: payload.targetIds,\n\t\t\t}\n\t\tcase REMOVE_TARGET:\n\t\t\tif (state.targetIds.indexOf(payload.targetId) === -1) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: without(state.targetIds, payload.targetId),\n\t\t\t}\n\t\tcase DROP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdropResult: payload.dropResult,\n\t\t\t\tdidDrop: true,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tcase END_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: null,\n\t\t\t\titem: null,\n\t\t\t\tsourceId: null,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t\tisSourcePublic: null,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\n\nexport type State = number\n\nexport function reduce(state: State = 0, action: Action<any>): State {\n\tswitch (action.type) {\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\t\treturn state + 1\n\t\tcase REMOVE_SOURCE:\n\t\tcase REMOVE_TARGET:\n\t\t\treturn state - 1\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","export type State = number\n\nexport function reduce(state: State = 0): State {\n\treturn state + 1\n}\n","import type { Action } from '../interfaces.js'\nimport { get } from '../utils/js_utils.js'\nimport type { State as DirtyHandlerIdsState } from './dirtyHandlerIds.js'\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds.js'\nimport type { State as DragOffsetState } from './dragOffset.js'\nimport { reduce as dragOffset } from './dragOffset.js'\nimport type { State as DragOperationState } from './dragOperation.js'\nimport { reduce as dragOperation } from './dragOperation.js'\nimport type { State as RefCountState } from './refCount.js'\nimport { reduce as refCount } from './refCount.js'\nimport type { State as StateIdState } from './stateId.js'\nimport { reduce as stateId } from './stateId.js'\n\nexport interface State {\n\tdirtyHandlerIds: DirtyHandlerIdsState\n\tdragOffset: DragOffsetState\n\trefCount: RefCountState\n\tdragOperation: DragOperationState\n\tstateId: StateIdState\n}\n\nexport function reduce(state: State = {} as State, action: Action<any>): State {\n\treturn {\n\t\tdirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n\t\t\ttype: action.type,\n\t\t\tpayload: {\n\t\t\t\t...action.payload,\n\t\t\t\tprevTargetIds: get<string[]>(state, 'dragOperation.targetIds', []),\n\t\t\t},\n\t\t}),\n\t\tdragOffset: dragOffset(state.dragOffset, action),\n\t\trefCount: refCount(state.refCount, action),\n\t\tdragOperation: dragOperation(state.dragOperation, action),\n\t\tstateId: stateId(state.stateId),\n\t}\n}\n","import type { Store } from 'redux'\nimport { createStore } from 'redux'\n\nimport { DragDropManagerImpl } from './classes/DragDropManagerImpl.js'\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl.js'\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl.js'\nimport type { BackendFactory, DragDropManager } from './interfaces.js'\nimport type { State } from './reducers/index.js'\nimport { reduce } from './reducers/index.js'\n\nexport function createDragDropManager(\n\tbackendFactory: BackendFactory,\n\tglobalContext: unknown = undefined,\n\tbackendOptions: unknown = {},\n\tdebugMode = false,\n): DragDropManager {\n\tconst store = makeStoreInstance(debugMode)\n\tconst monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store))\n\tconst manager = new DragDropManagerImpl(store, monitor)\n\tconst backend = backendFactory(manager, globalContext, backendOptions)\n\tmanager.receiveBackend(backend)\n\treturn manager\n}\n\nfunction makeStoreInstance(debugMode: boolean): Store<State> {\n\t// TODO: if we ever make a react-native version of this,\n\t// we'll need to consider how to pull off dev-tooling\n\tconst reduxDevTools =\n\t\ttypeof window !== 'undefined' &&\n\t\t(window as any).__REDUX_DEVTOOLS_EXTENSION__\n\treturn createStore(\n\t\treduce,\n\t\tdebugMode &&\n\t\t\treduxDevTools &&\n\t\t\treduxDevTools({\n\t\t\t\tname: 'dnd-core',\n\t\t\t\tinstanceId: 'dnd-core',\n\t\t\t}),\n\t)\n}\n","import type { BackendFactory, DragDropManager } from 'dnd-core'\nimport { createDragDropManager } from 'dnd-core'\nimport type { FC, ReactNode } from 'react'\nimport { memo, useEffect } from 'react'\n\nimport { DndContext } from './DndContext.js'\n\nexport type DndProviderProps<BackendContext, BackendOptions> =\n\t| {\n\t\t\tchildren?: ReactNode\n\t\t\tmanager: DragDropManager\n\t  }\n\t| {\n\t\t\tbackend: BackendFactory\n\t\t\tchildren?: ReactNode\n\t\t\tcontext?: BackendContext\n\t\t\toptions?: BackendOptions\n\t\t\tdebugMode?: boolean\n\t  }\n\nlet refCount = 0\nconst INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__')\n\n/**\n * A React component that provides the React-DnD context\n */\nexport const DndProvider: FC<DndProviderProps<unknown, unknown>> = memo(\n\tfunction DndProvider({ children, ...props }) {\n\t\tconst [manager, isGlobalInstance] = getDndContextValue(props) // memoized from props\n\t\t/**\n\t\t * If the global context was used to store the DND context\n\t\t * then where theres no more references to it we should\n\t\t * clean it up to avoid memory leaks\n\t\t */\n\t\tuseEffect(() => {\n\t\t\tif (isGlobalInstance) {\n\t\t\t\tconst context = getGlobalContext()\n\t\t\t\t++refCount\n\n\t\t\t\treturn () => {\n\t\t\t\t\tif (--refCount === 0) {\n\t\t\t\t\t\tcontext[INSTANCE_SYM] = null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn\n\t\t}, [])\n\n\t\treturn <DndContext.Provider value={manager}>{children}</DndContext.Provider>\n\t},\n)\n\nfunction getDndContextValue(props: DndProviderProps<unknown, unknown>) {\n\tif ('manager' in props) {\n\t\tconst manager = { dragDropManager: props.manager }\n\t\treturn [manager, false]\n\t}\n\n\tconst manager = createSingletonDndContext(\n\t\tprops.backend,\n\t\tprops.context,\n\t\tprops.options,\n\t\tprops.debugMode,\n\t)\n\tconst isGlobalInstance = !props.context\n\n\treturn [manager, isGlobalInstance]\n}\n\nfunction createSingletonDndContext<BackendContext, BackendOptions>(\n\tbackend: BackendFactory,\n\tcontext: BackendContext = getGlobalContext(),\n\toptions: BackendOptions,\n\tdebugMode?: boolean,\n) {\n\tconst ctx = context as any\n\tif (!ctx[INSTANCE_SYM]) {\n\t\tctx[INSTANCE_SYM] = {\n\t\t\tdragDropManager: createDragDropManager(\n\t\t\t\tbackend,\n\t\t\t\tcontext,\n\t\t\t\toptions,\n\t\t\t\tdebugMode,\n\t\t\t),\n\t\t}\n\t}\n\treturn ctx[INSTANCE_SYM]\n}\n\ndeclare const global: any\nfunction getGlobalContext() {\n\treturn typeof global !== 'undefined' ? global : (window as any)\n}\n"],"names":["StyleSheet","options","this","isSpeedy","undefined","speedy","tags","ctr","nonce","key","container","before","_proto","prototype","insert","rule","_tag","tag","document","createElement","setAttribute","appendChild","createTextNode","createStyleElement","length","nextSibling","insertBefore","push","sheet","i","styleSheets","ownerNode","sheetForTag","isImportRule","charCodeAt","insertRule","cssRules","e","process","flush","forEach","parentNode","removeChild","func","cache","WeakMap","arg","has","get","ret","set","delimiter","toSheet","block","Sheet","current","ruleSheet","context","content","selectors","parents","line","column","ns","depth","at","split","removeLabel","isBrowser","rootServerStylisCache","getServerStylisCache","weakMemoize","getCache","prefixTrueCache","prefixFalseCache","prefix","stylisOptions","stylis","Stylis","_insert","inserted","head","nodes","querySelectorAll","Array","call","node","getAttribute","id","use","stylisPlugins","selector","serialized","shouldCache","name","styles","serverStylisCache","rules","getRules","compat","registered","getRegisteredStyles","registeredStyles","classNames","rawClassName","className","insertStyles","isStringTag","stylesForSSR","maybeStyles","next","str","k","h","len","toString","hyphenateRegex","animationRegex","isCustomProperty","property","isProcessableValue","value","processStyleName","fn","memoize","styleName","replace","toLowerCase","processStyleValue","match","p1","p2","cursor","unitless","handleInterpolation","mergedProps","interpolation","couldBeSelectorInterpolation","__emotion_styles","anim","obj","string","isArray","_key","interpolated","_i","createStringFromObject","previousCursor","result","cached","labelPattern","serializeStyles","args","stringMode","strings","raw","lastIndex","identifierName","exec","hashString","hasOwnProperty","Object","EmotionCacheContext","createContext","HTMLElement","createCache","ThemeContext","CacheProvider","Provider","withEmotionCache","render","props","ref","Consumer","forwardRef","BasicProvider","_React$Component","updater","_this","state","_inheritsLoose","children","Component","newContext","typePropName","createEmotionProps","type","newProps","Noop","theme","cssProp","css","ele","possiblyStyleElement","_ref","serializedNames","dangerouslySetInnerHTML","__html","Fragment","Emotion","_len","arguments","jsx","argsLength","createElementArgArray","Global","InnerGlobal","componentDidMount","querySelector","componentDidUpdate","prevProps","element","nextElementSibling","componentWillUnmount","serializedStyles","keyframes","insertable","classnames","cls","toAdd","merge","ClassNames","serializedHashes","res","cx","_len2","_key2","substring","composeEventHandlers","originalEventHandler","ourEventHandler","checkForDefaultPrevented","event","defaultPrevented","createCollection","PROVIDER_NAME","createCollectionContext","createCollectionScope","createContextScope","CollectionProviderImpl","useCollectionContext","collectionRef","itemMap","Map","CollectionProvider","scope","React","$6vYhU$react","COLLECTION_SLOT_NAME","CollectionSlot","forwardedRef","composedRefs","useComposedRefs","$6vYhU$Slot","ITEM_SLOT_NAME","ITEM_DATA_ATTR","CollectionItemSlot","itemData","delete","Slot","ItemSlot","collectionNode","orderedNodes","from","values","sort","a","b","indexOf","scopeName","createContextScopeDeps","defaultContexts","rootComponentName","defaultContext","BaseContext","index","Context","$3bkAK$createElement","displayName","consumerName","Error","createScope","scopeContexts","map","contexts","composeContextScopes","scopes","baseScope","scopeHooks","useScope","overrideScopes","nextScopes","reduce","DirectionContext","useDirection","localDir","globalDir","CONTEXT_UPDATE","POINTER_DOWN_OUTSIDE","FOCUS_OUTSIDE","originalBodyPointerEvents","DismissableLayerContext","layers","Set","layersWithOutsidePointerEventsDisabled","branches","DismissableLayer","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","layerProps","setNode","ownerDocument","globalThis","force","highestLayerWithOutsidePointerEventsDisabled","slice","highestLayerWithOutsidePointerEventsDisabledIndex","isBodyPointerEventsDisabled","size","isPointerEventsEnabled","pointerDownOutside","handlePointerDownOutside","useCallbackRef","isPointerInsideReactTreeRef","handleClickRef","handlePointerDown","target","eventDetail","originalEvent","handleAndDispatchPointerDownOutsideEvent","handleAndDispatchCustomEvent","discrete","pointerType","removeEventListener","addEventListener","once","timerId","window","setTimeout","clearTimeout","onPointerDownCapture","usePointerDownOutside","isPointerDownOnBranch","some","branch","contains","focusOutside","handleFocusOutside","isFocusInsideReactTreeRef","handleFocus","onFocusCapture","onBlurCapture","useFocusOutside","onEscapeKeyDownProp","handleKeyDown","useEscapeKeydown","preventDefault","body","style","pointerEvents","add","dispatchUpdate","handleUpdate","$kqwpH$createElement","$kqwpH$Primitive","CustomEvent","dispatchEvent","handler","detail","bubbles","cancelable","dispatchDiscreteCustomEvent","count","useFocusGuards","edgeGuards","insertAdjacentElement","createFocusGuard","remove","tabIndex","cssText","AUTOFOCUS_ON_MOUNT","AUTOFOCUS_ON_UNMOUNT","EVENT_OPTIONS","FocusScope","loop","trapped","onMountAutoFocus","onMountAutoFocusProp","onUnmountAutoFocus","onUnmountAutoFocusProp","scopeProps","setContainer","lastFocusedElementRef","focusScope","paused","pause","resume","handleFocusIn","focus","select","handleFocusOut","relatedTarget","focusScopesStack","previouslyFocusedElement","activeElement","mountEvent","candidates","candidate","focusFirst","items","getTabbableCandidates","filter","item","tagName","unmountEvent","isTabKey","altKey","ctrlKey","metaKey","focusedElement","currentTarget","first","last","findVisible","reverse","getTabbableEdges","shiftKey","$45QHv$createElement","$45QHv$Primitive","$45QHv$babelruntimehelpersesmextends","onKeyDown","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","isHiddenInput","disabled","hidden","FILTER_SKIP","FILTER_ACCEPT","nextNode","currentNode","elements","isHidden","upTo","getComputedStyle","visibility","display","parentElement","isSelectableInput","HTMLInputElement","preventScroll","stack","activeFocusScope","arrayRemove","unshift","createFocusScopesStack","array","updatedArray","splice","useReactId","useId","deterministicId","setId","useLayoutEffect","reactId","String","POPPER_NAME","createPopperContext","createPopperScope","PopperProvider","usePopperContext","Popper","__scopePopper","anchor","setAnchor","$kY93V$createElement","$cf1ac5d9fe0e8206$var$PopperProvider","onAnchorChange","ANCHOR_NAME","PopperAnchor","virtualRef","anchorProps","$kY93V$Primitive","CONTENT_NAME","PopperContentProvider","useContentContext","PositionContextProvider","usePositionContext","hasParent","positionUpdateFns","PopperContent","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","collisionPaddingProp","sticky","hideWhenDetached","avoidCollisions","contentProps","setContent","arrow","setArrow","arrowSize","useSize","arrowWidth","width","arrowHeight","height","desiredPlacement","top","right","bottom","left","boundary","hasExplicitBoundaries","detectOverflowOptions","padding","isNotNull","altBoundary","reference","floating","strategy","x","y","placement","middlewareData","update","useFloating","whileElementsMounted","autoUpdate","middleware","offset","mainAxis","alignmentAxis","shift","crossAxis","limiter","limitShift","floatingUIarrow","flip","transformOrigin","hide","isDefined","isPlaced","placedSide","placedAlign","getSideAndAlignFromPlacement","arrowX","_middlewareData$arrow","arrowY","_middlewareData$arrow2","cannotCenterArrow","centerOffset","contentZIndex","setContentZIndex","zIndex","isRoot","requestAnimationFrame","commonProps","animation","opacity","referenceHidden","position","transform","Math","round","minWidth","_middlewareData$trans","_middlewareData$trans2","join","$cf1ac5d9fe0e8206$var$PopperContentProvider","onArrowChange","shouldHideArrow","$cf1ac5d9fe0e8206$var$PositionContextProvider","data","rects","isArrowHidden","noArrowAlign","start","center","end","arrowXCenter","_middlewareData$arrow6","arrowYCenter","_middlewareData$arrow8","Root","Anchor","Content","Portal","_globalThis$document","portalProps","ReactDOM","$7SXl2$createElement","$7SXl2$Primitive","ENTRY_FOCUS","GROUP_NAME","Collection","useCollection","createRovingFocusGroupContext","createRovingFocusGroupScope","RovingFocusProvider","useRovingFocusContext","RovingFocusGroup","$98Iye$createElement","$d7bdfb9eb0fdf311$var$Collection","__scopeRovingFocusGroup","$d7bdfb9eb0fdf311$var$RovingFocusGroupImpl","RovingFocusGroupImpl","orientation","dir","currentTabStopId","currentTabStopIdProp","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","groupProps","direction","setCurrentTabStopId","useControllableState","prop","defaultProp","onChange","isTabbingBackOut","setIsTabbingBackOut","handleEntryFocus","getItems","isClickFocusRef","focusableItemsCount","setFocusableItemsCount","$d7bdfb9eb0fdf311$var$RovingFocusProvider","onItemFocus","tabStopId","onItemShiftTab","onFocusableItemAdd","prevCount","onFocusableItemRemove","$98Iye$Primitive","$98Iye$babelruntimehelpersesmextends","outline","onMouseDown","onFocus","isKeyboardFocus","entryFocusEvent","focusable","find","active","Boolean","onBlur","ITEM_NAME","RovingFocusGroupItem","itemProps","isCurrentTabStop","focusIntent","getDirectionAwareKey","includes","MAP_KEY_TO_FOCUS_INTENT","getFocusIntent","candidateNodes","currentIndex","startIndex","_","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","PageUp","Home","PageDown","End","PREVIOUSLY_FOCUSED_ELEMENT","Item","SELECTION_KEYS","LAST_KEYS","FIRST_LAST_KEYS","SUB_OPEN_KEYS","ltr","rtl","SUB_CLOSE_KEYS","MENU_NAME","createMenuContext","createMenuScope","usePopperScope","useRovingFocusGroupScope","MenuProvider","useMenuContext","MenuRootProvider","useMenuRootContext","Menu","__scopeMenu","open","onOpenChange","modal","popperScope","isUsingKeyboardRef","handleOpenChange","handlePointer","capture","$epM9y$createElement","$epM9y$Root","$6cc32821e9371a1c$var$MenuProvider","onContentChange","$6cc32821e9371a1c$var$MenuRootProvider","onClose","MenuAnchor","$epM9y$Anchor","PORTAL_NAME","PortalProvider","usePortalContext","forceMount","MenuPortal","$6cc32821e9371a1c$var$PortalProvider","$epM9y$Presence","present","$epM9y$Portal","asChild","MenuContentProvider","useMenuContentContext","MenuContent","portalContext","rootContext","$6cc32821e9371a1c$var$Collection","$6cc32821e9371a1c$var$MenuRootContentModal","$6cc32821e9371a1c$var$MenuRootContentNonModal","MenuRootContentModal","hideOthers","$6cc32821e9371a1c$var$MenuContentImpl","trapFocus","disableOutsideScroll","MenuRootContentNonModal","MenuContentImpl","onOpenAutoFocus","onCloseAutoFocus","rovingFocusGroupScope","currentItemId","setCurrentItemId","contentRef","timerRef","searchRef","pointerGraceTimerRef","pointerGraceIntentRef","pointerDirRef","lastPointerXRef","ScrollLockWrapper","RemoveScroll","scrollLockWrapperProps","as","allowPinchZoom","handleTypeaheadSearch","search","currentItem","currentMatch","_items$find","textValue","nextMatch","normalizedSearch","every","char","currentMatchIndex","wrappedValues","max","v","startsWith","getNextMatch","newItem","_items$find2","updateSearch","isPointerMovingToSubmenu","_pointerGraceIntentRe","area","point","polygon","inside","j","xi","yi","xj","yj","isPointInPolygon","clientX","clientY","isPointerInGraceArea","_pointerGraceIntentRe2","$6cc32821e9371a1c$var$MenuContentProvider","onItemEnter","onItemLeave","onTriggerLeave","onPointerGraceIntentChange","intent","$epM9y$FocusScope","$epM9y$DismissableLayer","$epM9y$Root1","$epM9y$babelruntimehelpersesmextends","$epM9y$Content","role","getOpenState","isKeyDownInside","closest","isModifierKey","isCharacterKey","onPointerMove","whenMouse","pointerXHasChanged","newDir","ITEM_SELECT","MenuItem","onSelect","contentContext","isPointerDownRef","$6cc32821e9371a1c$var$MenuItemImpl","onClick","menuItem","itemSelectEvent","onPointerDown","onPointerUp","click","isTypingAhead","MenuItemImpl","isFocused","setIsFocused","textContent","setTextContent","trim","$epM9y$Item","$epM9y$Primitive","onPointerLeave","RADIO_GROUP_NAME","RadioGroupProvider","useRadioGroupContext","onValueChange","ITEM_INDICATOR_NAME","ItemIndicatorProvider","useItemIndicatorContext","checked","MenuSeparator","separatorProps","SUB_NAME","MenuSubProvider","useMenuSubContext","MenuSub","parentMenuContext","trigger","setTrigger","$6cc32821e9371a1c$var$MenuSubProvider","contentId","triggerId","onTriggerChange","SUB_TRIGGER_NAME","MenuSubTrigger","subContext","openTimerRef","clearOpenTimer","pointerGraceTimer","$6cc32821e9371a1c$export$9fa5ebd18bee4d43","composeRefs","contentRect","_context$content","getBoundingClientRect","_context$content2","dataset","rightSide","bleed","contentNearEdge","contentFarEdge","SUB_CONTENT_NAME","MenuSubContent","subContentProps","isCloseKey","Separator","Sub","SubTrigger","SubContent","DROPDOWN_MENU_NAME","createDropdownMenuContext","createDropdownMenuScope","useMenuScope","DropdownMenuProvider","useDropdownMenuContext","DropdownMenu","__scopeDropdownMenu","openProp","defaultOpen","menuScope","triggerRef","setOpen","$9kmUS$createElement","$d08ef79370b62062$var$DropdownMenuProvider","onOpenToggle","prevOpen","$9kmUS$Root","TRIGGER_NAME","DropdownMenuTrigger","triggerProps","$9kmUS$Anchor","$9kmUS$babelruntimehelpersesmextends","$9kmUS$Primitive","button","DropdownMenuPortal","$9kmUS$Portal","DropdownMenuContent","hasInteractedOutsideRef","$9kmUS$Content","ctrlLeftClick","isRightClick","DropdownMenuItem","$9kmUS$Item","DropdownMenuSeparator","$9kmUS$Separator","DropdownMenuSubTrigger","subTriggerProps","$9kmUS$SubTrigger","DropdownMenuSubContent","$9kmUS$SubContent","Trigger","$9kmUS$Sub","slotProps","childrenArray","slottable","isSlottable","newElement","newChildren","child","$9IrjX$createElement","$5e63c961fc1ce211$var$SlotClone","SlotClone","mergeProps","Slottable","childProps","overrideProps","propName","slotPropValue","childPropValue","test","Primitive","primitive","Node","primitiveProps","Comp","Symbol","for","$4q5Fq$createElement","Arrow","arrowProps","$jbnEx$createElement","$jbnEx$Primitive","viewBox","preserveAspectRatio","points","ARROW_NAME","OPPOSITE_SIDE","PopperArrow","baseSide","$kY93V$Root","HOVERCARD_NAME","createHoverCardContext","createHoverCardScope","HoverCardProvider","useHoverCardContext","HoverCard","__scopeHoverCard","openDelay","closeDelay","closeTimerRef","handleOpen","handleClose","handleDismiss","$eRSIW$createElement","$cef8881cdc69808e$var$HoverCardProvider","onOpen","$eRSIW$Root","HoverCardTrigger","$eRSIW$Anchor","$eRSIW$babelruntimehelpersesmextends","$eRSIW$Primitive","onPointerEnter","excludeTouch","onTouchStart","HoverCardPortal","$cef8881cdc69808e$var$PortalProvider","$eRSIW$Presence","$eRSIW$Portal","HoverCardContent","$cef8881cdc69808e$var$HoverCardContentImpl","HoverCardContentImpl","getTabbableNodes","tabbable","$eRSIW$DismissableLayer","$eRSIW$Content","HoverCardArrow","$eRSIW$Arrow","eventHandler","Presence","presence","stylesRef","prevPresentRef","prevAnimationNameRef","initialState","send","machine","nextState","useStateMachine","mounted","UNMOUNT","ANIMATION_OUT","unmountSuspended","MOUNT","ANIMATION_END","unmounted","currentAnimationName","getAnimationName","wasPresent","prevAnimationName","isAnimating","handleAnimationEnd","isCurrentAnimation","animationName","handleAnimationStart","isPresent","usePresence","callback","callbackRef","_callbackRef$current","uncontrolledProp","setUncontrolledProp","uncontrolledState","prevValueRef","handleChange","useUncontrolledState","isControlled","nextValue","setter","setSize","offsetWidth","offsetHeight","resizeObserver","ResizeObserver","entries","entry","borderSizeEntry","borderSize","observe","box","unobserve","ignoreOnError","ignoreNextOnError","withScope","addExceptionTypeValue","addExceptionMechanism","captureException","sentryWrapped","markFunctionWrapped","addNonEnumerableProperty","DEFAULT_IGNORE_ERRORS","__init","constructor","InboundFilters","setupOnce","internalOptions","clientOptions","allowUrls","denyUrls","ignoreErrors","ignoreInternal","logger","getEventDescription","eventProcess","addGlobalEventProcessor","_getEventFilterUrl","frames","originalFunctionToString","FunctionToString","Function","defaultIntegrations","integration","integrations","integrationsByName","finalIntegrations","integrationIndex","installedIntegrations","clientClass","console","hub","DSN_REGEX","host","path","pass","port","projectId","protocol","publicKey","dsnFromComponents","components","dsn","requiredComponents","validateDsn","getBaseApiEndpoint","_getIngestEndpoint","_encodedAuth","sentry_key","sentry_version","sentry_client","tunnelOrOptions","dsnLike","dialogOptions","encodedOptions","inner","ERROR","object","maxSize","visit","maxProperties","memo","normalized","numAdded","unmemoize","stringifyValue","jsonSize","envelope","envelopeItems","encodeUTF8","input","parts","append","stringifiedPayload","buffers","merged","attachment","textEncoder","dropUndefinedKeys","filename","content_type","attachment_type","buffer","ITEM_TYPE_TO_DATA_CATEGORY_MAP","session","sessions","transaction","client_report","user_report","profile","replay_event","replay_recording","version","metadata","tunnel","enhanceEventWithSdkInfo","sdkInfo","event_id","sent_at","sdk","dynamicSamplingContext","trace","hint","normalizeDepth","normalizeMaxBreadth","timestamp","environment","release","dist","maxValueLength","exception","request","applyClientOptions","applyIntegrationsMetadata","finalScope","breadcrumbs","user","extra","span","ALREADY_SEEN_ERROR","__init2","__init3","__init4","BaseClient","recordDroppedEvent","url","then","eventId","captureMessage","message","level","promisedEvent","captureEvent","captureSession","updateSession","init","getDsn","getOptions","getSdkMetadata","getTransport","close","setupIntegrations","setupIntegration","getIntegrationById","getIntegration","addIntegration","sendEvent","env","createAttachmentEnvelopeItem","sendSession","_updateSessionFromEvent","errored","crashed","status","errors","_isClientDoneProcessing","clearInterval","resolve","ticked","_isEnabled","_prepareEvent","_captureEvent","finalEvent","reason","_processEvent","sampleRate","beforeSend","beforeSendTransaction","beforeSendResult","beforeSendLabel","processedEvent","source","changes","propagations","__sentry__","originalException","_process","_sendEnvelope","_clearOutcomes","category","quantity","isErrorEvent","isTransactionEvent","ex","stackParser","reactMinifiedRegexp","extractMessage","syntheticException","attachStacktrace","isUnhandledRejection","extractExceptionKeysForMessage","__serialized__","synthetic","stacktrace","relative","MAX_ALLOWED_STRING_LENGTH","Breadcrumbs","dom","fetch","history","sentry","xhr","addInstrumentationHandler","maxStringLength","keyAttrs","htmlTreeAsString","getCurrentHub","global","addSentryBreadcrumb","_consoleBreadcrumb","handlerData","breadcrumb","_xhrBreadcrumb","method","status_code","_fetchBreadcrumb","response","_historyBreadcrumb","parsedFrom","to","packages","WINDOW","eventFromException","eventFromMessage","breadcrumbIntegration","_flushOutcomes","discarded_events","sendBeacon","onerror","onunhandledrejection","GlobalHandlers","globalHandlerLog","installFunc","_installGlobalOnErrorHandler","msg","error","_eventFromIncompleteOnError","_enhanceEventWithInitialFrame","eventFromUnknownInput","addMechanismAndCapture","_installGlobalOnUnhandledRejectionHandler","_eventFromRejectionWithPrimitive","ev0sf","colno","function","in_app","lineno","handled","getHubAndOptions","DEFAULT_EVENT_TARGET","TryCatch","XMLHttpRequest","eventTarget","setInterval","fill","_wrapTimeFunction","original","mechanism","_wrapRAF","wrap","_wrapXHR","originalSend","xmlHttpRequestProps","wrapOptions","_wrapEventTarget","eventName","proto","originalRemoveEventListener","LinkedErrors","parser","limit","HttpContext","referrer","userAgent","Referer","headers","Dedupe","currentEvent","eventProcessor","_isSameStacktrace","frameA","_isSameFingerprint","_getExceptionFromEvent","_getFramesFromEvent","UNKNOWN_FUNCTION","createFrame","frame","chromeRegex","chromeEvalRegex","geckoREgex","geckoEvalRegex","winjsRegex","extractSafariExtensionDetails","isSafariExtension","$","drain","limits","statusCode","now","updatedRateLimits","makeRequest","forEachEnvelopeItem","filteredEnvelopeItems","rateLimits","recordEnvelopeLoss","getEventForEnvelopeItem","cachedFetchImpl","sandbox","fetchImpl","nativeFetch","referrerPolicy","keepalive","clearCachedFetchImplementation","transport","initAndBind","startSessionTracking","client","script","injectionPoint","startSessionOnHub","ignoreDuration","captureContext","DEFAULT_BREADCRUMBS","Hub","isOlderThan","bindClient","pushScope","popScope","getClient","getScope","getStack","getStackTop","lastEventId","addBreadcrumb","beforeBreadcrumb","maxBreadcrumbs","consoleSandbox","mergedBreadcrumb","setUser","setTags","setExtras","setTag","setExtra","setContext","configureScope","run","makeMain","startTransaction","traceHeaders","endSession","closeSession","startSession","shouldSendDefaultPii","_sendSessionUpdate","_withClient","_callExtensionMethod","GLOBAL_OBJ","extensions","setHubOnCarrier","registry","hasHubOnCarrier","carrier","__SENTRY__","newScope","addScopeListener","addEventProcessor","getUser","getRequestSession","setRequestSession","setFingerprint","setLevel","setTransactionName","setSpan","getSpan","getTransaction","setSession","getSession","clear","getLastBreadcrumb","clearBreadcrumbs","addAttachment","getAttachments","clearAttachments","applyToEvent","setSDKProcessingMetadata","_notifyEventProcessors","processors","processor","_notifyScopeListeners","_applyFingerprint","getGlobalEventProcessors","sid","started","duration","toJSON","did","attrs","ip_address","user_agent","activeTransaction","_useEffect","_useLocation","_useNavigationType","_createRoutesFromChildren","_matchRoutes","_customStartTransaction","_startTransactionOnLocationChange","SENTRY_TAGS","useEffect","useLocation","useNavigationType","createRoutesFromChildren","matchRoutes","customStartTransaction","startTransactionOnPageLoad","startTransactionOnLocationChange","op","browserInit","errorCallback","sample","samplingContext","rate","JSON","Number","_startTransaction","transactionContext","customSamplingContext","transactionInstrumenter","configInstrumenter","parentSampled","idleTimeout","finalTimeout","onScope","heartbeatInterval","_addTracingExtensions","mongodb","mongoose","mysql","pg","_autoloadDatabaseIntegrations","_pushActivity","_popActivity","transactionSpanId","maxlen","_idleHub","_idleTimeout","_finalTimeout","_heartbeatInterval","_onScope","IdleTransaction","clearActiveTransaction","finish","registerBeforeFinishCallback","initSpanRecorder","_cancelIdleTimeout","_startIdleTimeout","_beat","_pingHeartbeat","objectKey","acc","baggageHeaderToObject","baggageHeader","metric","reportAllChanges","delta","prevValue","performance","entryType","startTime","navigationEntry","getNavigationEntryFromPerformanceTiming","navigationType","rating","opts","po","buffered","cb","firstHiddenTime","onHidden","timeStamp","reportedMetricIDs","startTimestamp","getBrowserPerformanceAPI","_lcpEntry","_clsEntry","_performanceCursor","_measurements","sessionValue","sessionEntries","report","handleEntries","onCLS","unit","onLCP","onFID","performanceEntries","_addPerformanceNavigationTiming","_startChild","description","endTimestamp","_addRequest","_addNavigationSpans","responseStartTimestamp","requestStartTimestamp","timeOrigin","_addMeasureSpans","resourceName","_addResourceSpans","_trackNavigator","measurementName","_tagMetricInfo","eventEnd","traceFetch","traceXHR","tracingOrigins","tracePropagationTargets","shouldCreateSpanForRequest","shouldAttachHeaders","shouldCreateSpan","spans","newHeaders","newBaggageHeaders","baggage","fetchCallback","xhrCallback","DEFAULT_BROWSER_TRACING_OPTIONS","markBackgroundTransactions","routingInstrumentation","startingUrl","enableLongTask","_experiments","BrowserTracing","startTrackingWebVitals","instrumentRouting","statusType","instrumentOutgoingRequests","_createRouteTransaction","beforeNavigate","traceId","parentSpanId","baggageObject","baggageHeaderToDynamicSamplingContext","trimEnd","sampled","finalContext","location","idleTransaction","addPerformanceEntries","_registerInteractionListener","inflightInteractionTransaction","__SENTRY_TRACING__","addExtensionMethods","SpanRecorder","__init5","__init6","__init7","Span","startChild","spanContext","childSpan","logMessage","setData","setStatus","setHttpStatus","isSuccess","toTraceparent","sampledString","toContext","spanId","updateWithContext","getTraceContext","parent_span_id","span_id","trace_id","start_timestamp","Transaction","spanMetadata","setName","setMeasurement","setMetadata","sdkProcessingMetadata","transaction_info","getDynamicSamplingContext","segment","user_segment","public_key","sample_rate","maybeOptions","elem","nextStr","out","currentElem","_htmlElementAsString","el","keyAttrPairs","classes","attr","handlers","instrumented","instrument","CONSOLE_LEVELS","triggerHandlers","originalConsoleMethod","instrumentConsole","listener","refCount","handlerForType","originalAddEventListener","instrumentDOM","xhrInfo","onreadystatechangeHandler","readyStateArgs","instrumentXHR","fetchData","instrumentFetch","lastHref","instrumentHistory","_oldOnErrorHandler","_oldOnUnhandledRejectionHandler","getFetchMethod","getFetchUrl","debounceTimerID","lastCapturedEvent","shouldShortcircuitPreviousDebounce","previous","shouldSkipDOMEvent","makeDOMEventHandler","objectToString","isBuiltin","wat","PREFIX","originalConsole","wrappedLevels","makeLogger","enable","enabled","disable","crypto","getFirstException","firstException","mod","cwd","writable","configurable","wrapped","newObj","serializeEventTarget","getOwnProperties","extractedProps","keys","_dropUndefinedKeys","memoizationMap","returnValue","inputValue","debugIdParserCache","parsers","debugIdCache","debugIdStackTrace","localStack","defaultFunctionName","output","pattern","requireExactStringMatch","testString","patterns","doc","reject","States","SyncPromise","executor","onfulfilled","onrejected","catch","finally","isRejected","val","onfinally","cachedHandlers","dateTimestampSource","nowSeconds","platformPerformance","timestampSource","_browserPerformanceTimeOriginMode","threshold","isGlobalObj","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","TypeError","assign","test1","getOwnPropertyNames","test2","fromCharCode","n","test3","letter","err","shouldUseNative","g","exports","m","f","p","__self","__source","q","c","d","l","defaultProps","$$typeof","_owner","jsxs","module","require$$0","observer","asyncTimerId","hashFragment","scrollFunction","mutate","LinkState","checkIfCanScroll","getLinkHash","hash","reset","disconnect","isInteractiveElement","hasAttribute","getElAndScroll","getElementById","originalTabIndex","blur","removeAttribute","scrollIntoView","smooth","scroll","timeout","behavior","MutationObserver","attributes","childList","subtree","hashLinkScroll","elementId","rest","linkHash","_jsx","Link","NavLink","BROWSER_ALIASES_MAP","Bada","BlackBerry","Chrome","Chromium","Electron","Epiphany","Firefox","Focus","Generic","Googlebot","Maxthon","Opera","PhantomJS","Puffin","QupZilla","QQ","QQLite","Safari","Sailfish","SeaMonkey","Sleipnir","Swing","Tizen","Vivaldi","WeChat","Roku","BROWSER_MAP","amazon_silk","android","bada","blackberry","chrome","chromium","electron","epiphany","firefox","generic","googlebot","google_search","ie","k_meleon","maxthon","edge","mz","naver","opera","opera_coast","phantomjs","puffin","qupzilla","qq","qqlite","safari","sailfish","samsung_internet","seamonkey","sleipnir","swing","tizen","uc","vivaldi","webos","wechat","yandex","PLATFORMS_MAP","tablet","mobile","desktop","tv","OS_MAP","WindowsPhone","Windows","MacOS","iOS","Android","WebOS","Linux","ChromeOS","PlayStation4","ENGINE_MAP","EdgeHTML","Blink","Trident","Presto","Gecko","WebKit","Utils","static","regexp","ua","_const","s","parseInt","versionA","versionB","isLoose","versionAPrecision","getVersionPrecision","versionBPrecision","precision","lastPrecision","chunks","_version","chunk","min","arr","iterator","predicate","assigners","assigner","browserName","browserAlias","commonVersionIdentifier","browsersList","describe","browser","getFirstMatch","getSecondMatch","notLikeAndroid","butAndroid","versionName","getWindowsVersionName","getMacOSVersionName","os","getAndroidVersionName","vendor","model","platform","iDevice","likeIDevice","getBrowserName","osMajorVersion","getOSVersion","getOSName","engine","isGecko","likeGecko","UA","skipParsing","_ua","parsedResult","parse","getUA","regex","parseBrowser","browserDescriptor","browserParsersList","_browser","condition","getBrowser","getBrowserVersion","getOS","parseOS","osParsersList","_os","getPlatform","parsePlatform","getPlatformType","platformParsersList","_platform","getEngine","parseEngine","getEngineName","enginesParsersList","_engine","getResult","satisfies","checkTree","platformsAndOSes","platformsAndOSCounter","browsers","browsersCounter","currentDefinition","platformsAndOSNames","OSMatchingDefinition","isOS","osResult","platformMatchingDefinition","isPlatform","platformResult","browserNames","matchingDefinition","compareVersion","includingAlias","defaultBrowserName","browserNameLower","alias","getBrowserTypeByAlias","expectedResults","comparableVersion","currentBrowserVersion","substr","compareVersions","osName","platformType","isEngine","engineName","is","anything","Parser","GetIntrinsic","require","callBind","$indexOf","allowMissing","intrinsic","bind","$apply","$call","$reflectApply","$gOPD","$defineProperty","$max","originalFunction","desc","applyBind","apply","charenc","utf8","stringToBytes","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","base64map","crypt","rotl","rotr","endian","randomBytes","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","hexToBytes","bytesToBase64","base64","triplet","charAt","base64ToBytes","imod4","pow","ERROR_MESSAGE","toStr","funcType","that","bound","binder","concat","boundLength","boundArgs","Empty","implementation","$SyntaxError","SyntaxError","$Function","$TypeError","getEvalledConstructor","expressionSyntax","getOwnPropertyDescriptor","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","hasSymbols","getProto","getPrototypeOf","__proto__","needsEval","TypedArray","Uint8Array","INTRINSICS","AggregateError","ArrayBuffer","Atomics","BigInt","DataView","Date","decodeURI","encodeURI","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","isNaN","parseFloat","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakRef","WeakSet","doEval","gen","LEGACY_ALIASES","hasOwn","$concat","$spliceApply","$replace","$strSlice","$exec","rePropName","reEscapeChar","stringToPath","number","quote","subString","getBaseIntrinsic","intrinsicName","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","docCache","fragmentSourceMap","printFragmentWarnings","experimentalFragmentVariables","normalize","processFragments","ast","seenKeys","definitions","fragmentDefinition","kind","fragmentName","sourceKey","loc","sourceKeySet","warn","parseDocument","cacheKey","parsed","allowLegacyFragmentVariables","workSet","startToken","endToken","stripLoc","gql","literals","gql_1","extras","origSymbol","hasSymbolSham","sym","symObj","syms","descriptor","enumerable","devicePixelRatio","matchMedia","matches","isBuffer","md5","encoding","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","t","_blocksize","_digestsize","digestbytes","asBytes","asString","readFloatLE","isSlowBuffer","_isBuffer","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setForEach","weakMapHas","weakSetHas","weakRefDeref","deref","booleanValueOf","valueOf","functionToString","$match","$slice","$toUpperCase","toUpperCase","$toLowerCase","$test","$join","$arrSlice","$floor","bigIntValueOf","gOPS","symToString","hasShammedSymbols","toStringTag","isEnumerable","gPO","O","addNumericSeparator","num","Infinity","sepRegex","int","intStr","dec","utilInspect","inspectCustom","custom","inspectSymbol","isSymbol","wrapQuotes","defaultStyle","quoteChar","quoteStyle","isRegExp","inspect_","seen","customInspect","indent","numericSeparator","inspectString","bigIntStr","maxDepth","baseIndent","base","prev","getIndent","inspect","noIndent","newOpts","nameOf","arrObjKeys","symString","markBoxed","nodeName","isElement","childNodes","xs","singleLineValues","indentedJoin","isError","cause","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isString","isDate","ys","isPlainObject","protoTag","stringTag","remaining","trailer","lowbyte","lineJoiner","isArr","symMap","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","bigint","bool","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","percentTwenties","Format","formatters","RFC1738","RFC3986","stringify","formats","utils","defaults","allowDots","allowPrototypes","allowSparse","arrayLimit","charset","charsetSentinel","comma","decoder","decode","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","strictNullHandling","$0","numberStr","parseArrayValue","parseKeys","givenKey","valuesParsed","parent","chain","leaf","root","create","cleanRoot","parseObject","normalizeParseOptions","tempObj","cleanStr","skipIndex","bracketEqualsPos","pos","maybeMap","encodedVal","combine","parseValues","compact","getSideChannel","arrayPrefixGenerators","brackets","indices","repeat","pushToArray","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","encode","encoder","encodeValuesOnly","format","formatter","serializeDate","date","skipNulls","sentinel","generateArrayPrefix","commaRoundTrip","sideChannel","tmpSc","step","findFlag","keyValue","valuesArray","valuesJoined","objKeys","adjustedPrefix","keyPrefix","valueSideChannel","normalizeStringifyOptions","arrayFormat","joined","hexTable","arrayToObject","queue","o","refs","pop","compacted","compactQueue","strWithoutPlus","defaultEncoder","mapped","mergeTarget","targetItem","strictUriEncode","objectAssign","strict","keysSorter","extract","accumulator","parserForArrayFormat","param","encoderForArrayFormat","val2","ErrorBoundary","_args","resetErrorBoundary","_this$props","onReset","getDerivedStateFromError","setState","componentDidCatch","info","_this$props$onError","_this$props2","onError","prevState","_this$props$onResetKe","_this$props3","resetKeys","onResetKeysChange","_this$props4","fallbackRender","FallbackComponent","fallback","_props","hasElementType","Element","hasArrayBuffer","isView","equal","it","done","flags","_extends","_createClass","defineProperties","defineProperty","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_md2","_queryString2","_isRetina2","_propTypes2","__esModule","default","_classCallCheck","instance","_possibleConstructorReturn","self","Gravatar","subClass","superClass","setPrototypeOf","_inherits","query","r","retinaQuery","formattedEmail","email","src","retinaSrc","modernBrowser","_objectWithoutProperties","alt","srcSet","propTypes","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","REACT_TAG_MAP","accesskey","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","classCallCheck","createClass","objectWithoutProperties","possibleConstructorReturn","encodeSpecialCharacters","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","lowerCaseAttributeKey","getTagsFromPropsList","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","rafPolyfill","clock","currentTime","cafPolyfill","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","_helmetCallback","commitTagChanges","newState","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","elementTag","getElementsByTagName","helmetAttributeString","helmetAttributes","attributesToRemove","attributeKeys","attribute","indexToSave","headElement","tagNodes","indexToDelete","innerHTML","styleSheet","existingTag","isEqualNode","generateElementAttributesAsString","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","generateTitleAsReactComponent","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","generateTagsAsReactComponent","attributeHtml","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref$title","link","meta","noscript","HelmetExport","_class","_temp","HelmetWrapper","inherits","shouldComponentUpdate","nextProps","isEqual","mapNestedChildrenToProps","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","_this2","_child$props","initAttributes","convertReactPropstoHtmlAttributes","canUseDOM","defaultTitle","defer","titleTemplate","peek","rewind","mappedState","Helmet","withSideEffect","renderStatic","zeroRightClassName","fullWidthClassName","useMergeRefs","defaultValue","initialValue","useState","facade","newValue","assignRef","ItoI","innerCreateMedium","assigned","read","useMedium","assignSyncMedium","cbs","assignMedium","pendingQueue","executeQueue","cycle","effectCar","medium","__assign","async","ssr","createSidecarMedium","nothing","parentRef","_a","onScrollCapture","onWheelCapture","onTouchMoveCapture","callbacks","setCallbacks","forwardProps","removeScrollBar","shards","sideCar","noIsolation","inert","_b","Container","__rest","SideCar","containerRef","containerProps","lockRef","fullWidth","zeroRight","currentNonce","Target","isSideCarExport","makeStyleTag","__webpack_nonce__","stylesheetSingleton","counter","stylesheet","insertStyleTag","styleSingleton","useStyle","isDynamic","styleHookSingleton","dynamic","zeroGap","gap","getGapWidth","gapMode","offsets","cs","getOffset","documentWidth","documentElement","clientWidth","windowWidth","innerWidth","Style","getStyles","allowRelative","important","RemoveScrollBar","noRelative","noImportant","passiveSupported","nonPassive","passive","elementCanBeScrolled","overflow","overflowY","overflowX","alwaysContainsScroll","locationCouldBeScrolled","axis","ShadowRoot","elementCouldBeScrolled","getScrollVariables","elementCouldBeVScrolled","elementCouldBeHScrolled","scrollTop","scrollHeight","clientHeight","scrollLeft","scrollWidth","getHScrollVariables","getTouchXY","changedTouches","getDeltaXY","deltaX","deltaY","extractRef","generateStyle","idCounter","lockStack","exported","shouldPreventQueue","touchStartRef","activeAxis","lastProps","classList","allow_1","__spreadArray","shouldCancelEvent","touches","currentAxis","touch","touchStart","moveDirection","abs","canBeScrolledInMainDirection","cancelingAxis","endTarget","sourceDelta","noOverscroll","directionFactor","getDirectionFactor","targetInLock","shouldCancelScroll","isDeltaPositive","availableScroll","availableScrollTop","elementScroll","handleScroll","shouldPrevent","_event","sourceEvent","should","shardNodes","shouldCancel","scrollTouchStart","scrollWheel","scrollTouchMove","inst","ReactRemoveScroll","defaultMethod","defaultEncType","isHtmlElement","createSearchParams","URLSearchParams","getFormSubmissionInfo","defaultAction","action","encType","formData","submissionTrigger","FormData","isButtonElement","isInputElement","form","URL","createBrowserRouter","routes","createRouter","basename","createBrowserHistory","hydrationData","parseHydrationData","enhanceManualRouteObjects","initialize","createHashRouter","createHashHistory","_window","__staticRouterHydrationData","deserializeErrors","__type","ErrorResponse","statusText","internal","BrowserRouter","historyRef","v5Compat","listen","Router","navigator","HashRouter","HistoryRouter","_ref3","reloadDocument","preventScrollReset","createPath","isAbsolute","navigationLocation","isExternal","currentUrl","href","targetUrl","origin","pathname","useHref","internalOnClick","useLinkClickHandler","ariaCurrentProp","caseSensitive","classNameProp","styleProp","useResolvedPath","routerState","DataRouterStateContext","NavigationContext","toPathname","encodeLocation","locationPathname","nextLocationPathname","navigation","isActive","isPending","ariaCurrent","Form","FormImpl","onSubmit","fetcherKey","routeId","submit","useSubmitImpl","formMethod","formAction","useFormAction","submitter","nativeEvent","submitMethod","ScrollRestoration","_ref7","getKey","storageKey","useScrollRestoration","DataRouterHook","DataRouterStateHook","useDataRouterContext","hookName","ctx","DataRouterContext","useDataRouterState","replaceProp","navigate","useNavigate","isModifiedEvent","shouldProcessLinkClick","useSearchParams","defaultInit","defaultSearchParamsRef","hasSetSearchParamsRef","searchParams","locationSearch","defaultSearchParams","getAll","getSearchParamsForLocation","setSearchParams","nextInit","navigateOptions","newSearchParams","useSubmit","router","UseSubmitImpl","formEncType","_temp2","routeContext","RouteContext","route","params","joinPaths","fetcherId","useFetcher","UseFetcher","_route$matches","createFetcherForm","load","fetcher","getFetcher","fetcherWithComponents","deleteFetcher","useFetchers","UseFetchers","fetchers","SCROLL_RESTORATION_STORAGE_KEY","savedScrollPositions","_temp3","UseScrollRestoration","restoreScrollPosition","useMatches","useNavigation","scrollRestoration","usePageHide","scrollY","sessionStorage","setItem","sessionPositions","getItem","disableScrollRestoration","enableScrollRestoration","scrollTo","useBeforeUnload","usePrompt","_ref8","when","blocker","useBlocker","confirm","proceed","React__default","_defineProperty","reducePropsToState","handleStateChangeOnClient","WrappedComponent","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","UNSAFE_componentWillMount","PureComponent","getDisplayName","ToastContainer","_core","_react","_ToastElement","placements","hasToasts","boxSizing","maxHeight","maxWidth","gutter","ToastController","_utils","NOOP","Timer","delay","_Component","isRunning","autoDismiss","startTimer","autoDismissTimeout","clearTimer","onMouseEnter","onMouseLeave","Toast","component","handleMouseEnter","handleMouseLeave","DefaultToast","shrinkKeyframes","toastWidth","borderRadius","_slicedToArray","_arr","_n","_d","_e","_s","sliceIterator","_templateObject","freeze","_icons","colors","_interopRequireWildcard","A11yText","Tag","border","clip","whiteSpace","appearances","success","icon","CheckIcon","text","G500","fg","G300","bg","G50","FlameIcon","R500","R300","R50","warning","AlertIcon","Y500","Y300","Y50","InfoIcon","N400","B200","Button","flexShrink","transition","flexGrow","fontSize","lineHeight","minHeight","Countdown","animationPlayState","backgroundColor","Icon","appearance","Glyph","borderTopLeftRadius","borderBottomLeftRadius","color","paddingBottom","paddingTop","textAlign","getTranslate","toastStates","entering","entered","exiting","exited","ToastElement","_ref4","transitionDuration","transitionState","_useState","_useState2","setHeight","elementRef","useRef","boxShadow","marginBottom","_ref5","_ref5$appearance","otherProps","CloseIcon","useToasts","withToastManager","ToastConsumer","ToastProvider","_reactDom","_reactTransitionGroup","_ToastController","_ToastContainer","_toConsumableArray","arr2","defaultComponents","ToastContext","toasts","generateUEID","newToast","newestOnTop","removeAll","old","findIndex","updatedToast","inheritedAutoDismiss","portalTargetSelector","_defaultComponents$co","portalTarget","createPortal","TransitionGroup","unknownConsumerProps","Transition","appear","mountOnEnter","unmountOnExit","toastManager","useContext","addToast","removeToast","removeAllToasts","updateToast","toastStack","R75","R100","R200","R400","Y75","Y100","Y200","Y400","G75","G100","G200","G400","B50","B75","B100","B300","B400","B500","P50","P75","P100","P200","P300","P400","P500","T50","T75","T100","T200","T300","T400","T500","N0","N10","N20","N30","N40","N50","N60","N70","N80","N90","N100","N200","N300","N500","N600","N700","N800","N900","N10A","N20A","N30A","N40A","N50A","N60A","N70A","N80A","N90A","N100A","N200A","N300A","N400A","N500A","N600A","N700A","N800A","getDefaultProps","verticalAlign","fillRule","_ToastProvider","second","replaceClassName","origClass","classToRemove","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","initialStatus","isMounting","enter","appearStatus","in","nextCallback","getDerivedStateFromProps","updateStatus","nextStatus","cancelNextCallback","getTimeouts","exit","mounting","performEnter","performExit","appearing","nodeRef","maybeNode","maybeAppearing","timeouts","enterTimeout","config","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","setNextCallback","_this4","doesNotHaveTimeoutOrListener","addEndListener","maybeNextCallback","_objectWithoutPropertiesLoose","TransitionGroupContext","noop","contextType","removeClass","baseVal","CSSTransition","appliedClasses","_this$resolveArgument","resolveArguments","removeClasses","addClass","_this$resolveArgument2","_this$resolveArgument3","getClassNames","isStringClassNames","baseClassName","activeClassName","doneClassName","phase","hasClass","_addClass","_this$appliedClasses$","getChildMapping","mapFn","Children","isValidElement","mapper","getProp","getNextChildMapping","prevChildMapping","nextChildMapping","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","mergeChildMappings","hasPrev","hasNext","prevChild","isLeaving","cloneElement","handleExited","_assertThisInitialized","contextValue","firstRender","currentChildMapping","childFactory","ReplaceTransition","handleEnter","handleLifecycle","handleEntering","_len3","_key3","handleEntered","_len4","_key4","handleExit","_len5","_key5","handleExiting","_len6","_key6","_len7","_key7","idx","originalArgs","inProp","_React$Children$toArr","_leaveRenders","_enterRenders","modes","callHook","_element$props","leaveRenders","changeState","enterRenders","SwitchTransition","appeared","mode","oldChildren","_this$state","isSSR","removeUndefined","IntercomAPI","Intercom","IntercomContext","mapDataAttributesCompanyToRawDataAttributesCompany","company_id","companyId","created_at","createdAt","plan","monthly_spend","monthlySpend","user_count","userCount","website","industry","customAttributes","mapDataAttributesAvatarToRawDataAttributesAvatar","image_url","imageUrl","mapIntercomPropsToRawIntercomProps","custom_launcher_selector","customLauncherSelector","alignment","vertical_padding","verticalPadding","horizontal_padding","horizontalPadding","hide_default_launcher","hideDefaultLauncher","session_duration","sessionDuration","action_color","actionColor","background_color","user_id","userId","phone","last_request_at","lastRequestAt","unsubscribed_from_emails","unsubscribedFromEmails","language_override","languageOverride","utm_campaign","utmCampaign","utm_content","utmContent","utm_medium","utmMedium","utm_source","utmSource","utm_term","utmTerm","avatar","user_hash","userHash","company","companies","_attributes$companies","mapDataAttributesToRawDataAttributes","IntercomProvider","appId","_ref$autoBoot","autoBoot","autoBootProps","onHide","onShow","onUnreadCountChange","_ref$shouldInitialize","shouldInitialize","apiBase","initializeDelay","isBooted","isInitialized","boot","metaData","app_id","api_base","intercomSettings","isOpen","setIsOpen","onHideWrapper","onShowWrapper","w","ic","readyState","attachEvent","ensureIntercom","functionName","shutdown","hardShutdown","refresh","getTime","rawProps","show","showMessages","showNewMessage","getVisitorId","startTour","tourId","trackEvent","showArticle","articleId","providerValue","useIntercom","callBound","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","list","curr","$wm","$m","$o","channel","assert","objects","listGet","listHas","listSet","__exportStar","serialize","parseParams","react_router_dom_1","isPathParam","filterParserMap","parserMap","tokens","parseTokens","maybeMod","modifier","stringifyParams","routeFn","templateWithQuery","parsedRoute","pathWithQuery","pathTemplate","queryFragments","pathTokens","queryTokens","pathParamParsers","queryParamParsers","parseRoute","rawParams","receiver","pathParams","queryParams","previousQueryParams","previousPath","stringifyRoute","toPrimitive","paramsParser","template","prefixPath","parsedParams","ReactRouter6Adapter","UNSAFE_NavigationContext","UNSAFE_DataRouterContext","location2","_a2","_c","withDefault","includeNull","decodeWithDefault","decodedValue","getEncodedValue","allowEmptyString","decodeString","decodeArray","getEncodedValueArray","StringParam","Serialize","ArrayParam","encodeQueryParams","paramConfigMap","encodedQuery","paramNames","paramName","decodedParamCache","paramsMap","registeredParams","stringifiedValue","stringified","decoded","cachedParam","registerParams","currValue","unregisterParams","extendParamConfigForKeys","baseParamConfigMap","paramKeys","inheritedParams","defaultParam","hasInherit","paramKey","shallowEqual","objA","objB","equalMap","keysA","keysB","equals","getLatestDecodedValues","decodedValues","paramConfig","encodedValue","oldDecodedValue","makeStableGetLatestDecodedValues","prevDecodedValues","cachedSearchString","cachedUrlNameMapString","cachedSearchStringToObjectFn","cachedParsedQuery","memoSearchStringToObject","searchStringToObject","searchString","urlNameMapStr","newParsedQuery","urlNameMap","fromEntries","deserializeUrlNameMap","oldValue","mergeOptions","parentOptions","currOptions","providerlessContextValue","adapter","objectToSearchString","encodedParams","updateType","includeKnownParams","includeAllParams","removeDefaultsFromUrl","enableBatching","skipUpdateWhenNoChange","QueryParamContext","QueryParamProviderInner","parentAdapter","QueryParamProvider","Adapter","getUpdatedSearchString","currentSearchString","encodedChanges","changesToUse","newSearchString","encodedValues","removeDefaults","newEncodedValues","urlName","applyUrlNames","updateSearchString","newLocation","immediateTask","task","timeoutTask","updateQueue","useQueryParams_default","arg1","arg2","contextOptions","useQueryParamContext","stableGetLatest","paramConfigMapWithInherit","parseArguments","mergedOptions","useMemo","hookKeys","knownKeys","convertInheritedParamStringsToParams","urlNameMapParts","serializeUrlNameMap","paramKeyString","callbackDependencies","callbackDependenciesRef","setQuery","immediate","scheduleTask","updates","initialSearchString","enqueueUpdate","useQueryParam","useQueryParams","useCallback","latestValues","newValueFromLatest","_setPrototypeOf","invariant","isProduction","argIndex","framesToPop","FILE","TEXT","EnterLeaveCounter","enteringNode","previousLength","itemsA","itemsB","insertItem","union","isNodeInDocument","leave","leavingNode","NativeDragSource","initializeExposedProperties","exposeProperties","loadDataTransfer","dataTransfer","newProperties","propertyFn","matchesTypes","canDrag","beginDrag","isDragging","monitor","handle","getSourceId","endDrag","getDataFromDataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","files","html","urls","matchNativeItemType","dataTransferTypes","types","nativeItemType","typeConfig","isFirefox","isSafari","MonotonicInterpolant","interpolate","c1s","c2s","c3s","mid","low","high","xHere","diff","diffSq","indexes","dys","dxs","ms","dx","dy","m2","mNext","dxNext","common","c1","invDx","getNodeClientOffset","nodeType","getEventClientOffset","getDragPreviewOffset","sourceNode","dragPreview","clientOffset","anchorPoint","offsetPoint","isImage","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","sourceHeight","anchorX","anchorY","dragPreviewWidth","dragPreviewHeight","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","calculateYOffset","OptionsReader","globalContext","rootElement","optionsArgs","HTML5BackendImpl","ref1","sourcePreviewNodes","sourcePreviewNodeOptions","sourceNodeOptions","sourceNodes","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","dragOverTargetIds","setup","__isReactDndBackendSetUp","addEventListeners","teardown","removeEventListeners","clearCurrentDragSourceNode","asyncEndDragFrameId","connectDragPreview","sourceId","connectDragSource","handleDragStart","handleSelectStart","connectDropTarget","targetId","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","_objectSpread","dropEffect","altKeyPressed","getCurrentDropEffect","isDraggingNativeItem","getCurrentSourcePreviewNodeOptions","captureDraggingState","itemType","getItemType","beginDragNativeItem","currentNativeSource","createNativeDragSource","currentNativeHandle","addSource","actions","setCurrentDragSourceNode","currentDragSourceNode","mouseMoveTimeoutTimer","endDragIfSourceWasRemovedFromDOM","manager","lastClientOffset","hoverRafId","getSourceClientOffset","endDragNativeItem","removeSource","cancelHover","scheduleHover","hover","publishSource","nativeType","setDragImage","dragPreviewOffset","publishDragSource","enterLeaveCounter","canDropOnTarget","drop","dragDrop","isContentEditable","getActions","getMonitor","getRegistry","HTML5Backend","ListenerType","mouse","keyboard","_delay","scrollAngleRanges","getDropTargetElementsAtPoint","ignoreContextMenu","_ignoreContextMenu","enableHoverOutsideTarget","_enableHoverOutsideTarget","enableKeyboardEvents","_enableKeyboardEvents","enableMouseEvents","_enableMouseEvents","enableTouchEvents","_enableTouchEvents","touchSlop","delayTouchStart","ref2","ref3","delayMouseStart","ref4","ref5","ref6","MouseButtons","MouseButton","eventShouldStartDrag","isTouchEvent","targetTouches","lastTargetTouchFallback","getEventClientTouchOffset","supportsPassive","supported","eventNames","move","keydown","TouchBackendImpl","targetNodes","isSetUp","getTopMoveStartHandler","handleTopMoveStartCapture","handleTopMove","handleTopMoveCapture","handleTopMoveEndCapture","handleCancelOnEscape","_mouseClientOffset","handleTopMoveStart","uninstallSourceNodeRemovalObserver","subject","listenerTypes","listenerType","evt","handleMoveStart","handleMove","coords","droppedOn","elementFromPoint","childMatch","handleTopMoveStartDelay","installSourceNodeRemovalObserver","draggedSourceNode","draggedSourceNodeRemovalObserver","resurrectSourceNode","moveStartSourceIds","waitingForDelay","_evt","_isScrolling","x1","y1","x2","y2","angleRanges","angle","atan2","PI","ar","inAngleRanges","sqrt","dragOverTargetNodes","elementsAtPoint","elementsFromPoint","elementsAtPointExtended","nodeId","orderedDragOverTargetIds","_getDropTargetId","ids","targetNode","buttons","eventShouldEndDrag","didDrop","TouchBackend","DndContext","dragDropManager","formatProdErrorMessage","code","$$observable","observable","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","isSubscribed","dispatch","listeners","replaceReducer","nextReducer","outerSubscribe","observeState","unsubscribe","without","isObject","xor","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","sourceClientOffset","payload","ResetCoordinatesAction","createBeginDrag","sourceIds","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","getSourceType","isSourcePublic","canDragSource","createDrop","targetIds","getDroppableTargets","dropResult","determineDropResult","getTarget","verifyDropResultType","getDropResult","getTargetIds","createEndDrag","verifyIsDragging","unpinSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","removeNonMatchingTargetIds","checkInvariants","hoverAllTargets","lastIndexOf","getTargetType","createPublishDragSource","DragDropManagerImpl","receiveBackend","backend","getBackend","store","createDragDropActions","boundActions","actionCreator","handleRefCountChange","shouldSetUp","subtract","NONE","ALL","__IS_NONE__","__IS_ALL__","DragDropMonitorImpl","subscribeToStateChange","handlerIds","prevStateId","stateId","currentStateId","canSkipListener","dirtyIds","areDirty","dirtyHandlerIds","subscribeToOffsetChange","previousState","dragOffset","canDrop","isDraggingSource","isOverTarget","shallow","dragOperation","getInitialClientOffset","initialClientOffset","getInitialSourceClientOffset","initialSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","BrowserMutationObserver","WebKitMutationObserver","makeRequestCallFromTimer","timeoutHandle","handleTimer","intervalHandle","makeRequestCall","toggle","characterData","RawTask","asapQueue","enqueueTask","requestFlush","flushing","pendingErrors","capacity","scan","newLength","registerPendingError","requestErrorThrow","taskFactory","tasks","freeTasks","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","validateType","allowArray","HandlerRole","SOURCE","TARGET","nextUniqueId","getNextHandlerId","parseRoleFromHandlerId","handlerId","mapContainsValue","searchValue","isDone","HandlerRegistryImpl","validateSourceContract","addHandler","addTarget","validateTargetContract","containsHandler","dragSources","dropTargets","includePinned","isSourceId","pinnedSourceId","pinnedSource","isTargetId","removeTarget","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","prevTargetIds","didChange","prevInnermostTargetId","innermostTargetId","createDragDropManager","backendFactory","backendOptions","debugMode","makeStoreInstance","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId","INSTANCE_SYM","DndProvider","_param","isGlobalInstance","getGlobalContext","createSingletonDndContext","getDndContextValue"],"sourceRoot":""}