var Uk=Object.create;var xi=Object.defineProperty,$k=Object.defineProperties,Jk=Object.getOwnPropertyDescriptor,Wk=Object.getOwnPropertyDescriptors,zk=Object.getOwnPropertyNames,Ks=Object.getOwnPropertySymbols,Gk=Object.getPrototypeOf,Bc=Object.prototype.hasOwnProperty,rh=Object.prototype.propertyIsEnumerable;var ih=(t,e,n)=>e in t?xi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e)=>{for(var n in e||(e={}))Bc.call(e,n)&&ih(t,n,e[n]);if(Ks)for(var n of Ks(e))rh.call(e,n)&&ih(t,n,e[n]);return t},R=(t,e)=>$k(t,Wk(e)),Yk=t=>xi(t,"__esModule",{value:!0}),a=(t,e)=>xi(t,"name",{value:e,configurable:!0});var ht=(t,e)=>{var n={};for(var r in t)Bc.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ks)for(var r of Ks(t))e.indexOf(r)<0&&rh.call(t,r)&&(n[r]=t[r]);return n};var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Vk=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of zk(e))!Bc.call(t,r)&&r!=="default"&&xi(t,r,{get:()=>e[r],enumerable:!(n=Jk(e,r))||n.enumerable});return t},An=t=>Vk(Yk(xi(t!=null?Uk(Gk(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var J=m((JJ,Ls)=>{var sh,ah,oh,ch,uh,ph,lh,dh,fh,Fs,Dc,mh,hh,ur,vh,gh,yh,_h,bh,xh,Sh,Eh,wh;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof Ls=="object"&&typeof Ls.exports=="object"?t(n(e,n(Ls.exports))):t(n(e));function n(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,o){return r[s]=i?i(s,o):o}}a(n,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])};sh=a(function(n,r){e(n,r);function i(){this.constructor=n}a(i,"__"),n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)},"__extends"),ah=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},oh=a(function(n,r){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(i[s[o]]=n[s[o]]);return i},"__rest"),ch=a(function(n,r,i,s){var o=arguments.length,c=o<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,i):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,r,i,s);else for(var p=n.length-1;p>=0;p--)(u=n[p])&&(c=(o<3?u(c):o>3?u(r,i,c):u(r,i))||c);return o>3&&c&&Object.defineProperty(r,i,c),c},"__decorate"),uh=a(function(n,r){return function(i,s){r(i,s,n)}},"__param"),ph=a(function(n,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,r)},"__metadata"),lh=a(function(n,r,i,s){function o(c){return c instanceof i?c:new i(function(u){u(c)})}return a(o,"adopt"),new(i||(i=Promise))(function(c,u){function p(f){try{d(s.next(f))}catch(h){u(h)}}a(p,"fulfilled");function l(f){try{d(s.throw(f))}catch(h){u(h)}}a(l,"rejected");function d(f){f.done?c(f.value):o(f.value).then(p,l)}a(d,"step"),d((s=s.apply(n,r||[])).next())})},"__awaiter"),dh=a(function(n,r){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,o,c,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(d){return function(f){return l([d,f])}}function l(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,o&&(c=d[0]&2?o.return:d[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,d[1])).done)return c;switch(o=0,c&&(d=[d[0]&2,c.value]),d[0]){case 0:case 1:c=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,o=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!c||d[1]>c[0]&&d[1]<c[3])){i.label=d[1];break}if(d[0]===6&&i.label<c[1]){i.label=c[1],c=d;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(d);break}c[2]&&i.ops.pop(),i.trys.pop();continue}d=r.call(n,i)}catch(f){d=[6,f],o=0}finally{s=c=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},"__generator"),wh=a(function(n,r,i,s){s===void 0&&(s=i),n[s]=r[i]},"__createBinding"),fh=a(function(n,r){for(var i in n)i!=="default"&&!r.hasOwnProperty(i)&&(r[i]=n[i])},"__exportStar"),Fs=a(function(n){var r=typeof Symbol=="function"&&Symbol.iterator,i=r&&n[r],s=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),Dc=a(function(n,r){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var s=i.call(n),o,c=[],u;try{for(;(r===void 0||r-- >0)&&!(o=s.next()).done;)c.push(o.value)}catch(p){u={error:p}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(u)throw u.error}}return c},"__read"),mh=a(function(){for(var n=[],r=0;r<arguments.length;r++)n=n.concat(Dc(arguments[r]));return n},"__spread"),hh=a(function(){for(var n=0,r=0,i=arguments.length;r<i;r++)n+=arguments[r].length;for(var s=Array(n),o=0,r=0;r<i;r++)for(var c=arguments[r],u=0,p=c.length;u<p;u++,o++)s[o]=c[u];return s},"__spreadArrays"),ur=a(function(n){return this instanceof ur?(this.v=n,this):new ur(n)},"__await"),vh=a(function(n,r,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(n,r||[]),o,c=[];return o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o;function u(v){s[v]&&(o[v]=function(g){return new Promise(function(y,_){c.push([v,g,y,_])>1||p(v,g)})})}function p(v,g){try{l(s[v](g))}catch(y){h(c[0][3],y)}}function l(v){v.value instanceof ur?Promise.resolve(v.value.v).then(d,f):h(c[0][2],v)}function d(v){p("next",v)}function f(v){p("throw",v)}function h(v,g){v(g),c.shift(),c.length&&p(c[0][0],c[0][1])}},"__asyncGenerator"),gh=a(function(n){var r,i;return r={},s("next"),s("throw",function(o){throw o}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(o,c){r[o]=n[o]?function(u){return(i=!i)?{value:ur(n[o](u)),done:o==="return"}:c?c(u):u}:c}},"__asyncDelegator"),yh=a(function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],i;return r?r.call(n):(n=typeof Fs=="function"?Fs(n):n[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(c){i[c]=n[c]&&function(u){return new Promise(function(p,l){u=n[c](u),o(p,l,u.done,u.value)})}}function o(c,u,p,l){Promise.resolve(l).then(function(d){c({value:d,done:p})},u)}},"__asyncValues"),_h=a(function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},"__makeTemplateObject"),bh=a(function(n){if(n&&n.__esModule)return n;var r={};if(n!=null)for(var i in n)Object.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r.default=n,r},"__importStar"),xh=a(function(n){return n&&n.__esModule?n:{default:n}},"__importDefault"),Sh=a(function(n,r){if(!r.has(n))throw new TypeError("attempted to get private field on non-instance");return r.get(n)},"__classPrivateFieldGet"),Eh=a(function(n,r,i){if(!r.has(n))throw new TypeError("attempted to set private field on non-instance");return r.set(n,i),i},"__classPrivateFieldSet"),t("__extends",sh),t("__assign",ah),t("__rest",oh),t("__decorate",ch),t("__param",uh),t("__metadata",ph),t("__awaiter",lh),t("__generator",dh),t("__exportStar",fh),t("__createBinding",wh),t("__values",Fs),t("__read",Dc),t("__spread",mh),t("__spreadArrays",hh),t("__await",ur),t("__asyncGenerator",vh),t("__asyncDelegator",gh),t("__asyncValues",yh),t("__makeTemplateObject",_h),t("__importStar",bh),t("__importDefault",xh),t("__classPrivateFieldGet",Sh),t("__classPrivateFieldSet",Eh)})});var C=m((WJ,Us)=>{var Th,Oh,kh,qh,Ch,Ih,Ph,Rh,Ah,Hs,Kc,jh,Nh,pr,Mh,Bh,Dh,Kh,Fh,Lh,Hh,Uh,$h;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof Us=="object"&&typeof Us.exports=="object"?t(n(e,n(Us.exports))):t(n(e));function n(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,o){return r[s]=i?i(s,o):o}}a(n,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])};Th=a(function(n,r){e(n,r);function i(){this.constructor=n}a(i,"__"),n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)},"__extends"),Oh=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},kh=a(function(n,r){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(i[s[o]]=n[s[o]]);return i},"__rest"),qh=a(function(n,r,i,s){var o=arguments.length,c=o<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,i):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,r,i,s);else for(var p=n.length-1;p>=0;p--)(u=n[p])&&(c=(o<3?u(c):o>3?u(r,i,c):u(r,i))||c);return o>3&&c&&Object.defineProperty(r,i,c),c},"__decorate"),Ch=a(function(n,r){return function(i,s){r(i,s,n)}},"__param"),Ih=a(function(n,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,r)},"__metadata"),Ph=a(function(n,r,i,s){function o(c){return c instanceof i?c:new i(function(u){u(c)})}return a(o,"adopt"),new(i||(i=Promise))(function(c,u){function p(f){try{d(s.next(f))}catch(h){u(h)}}a(p,"fulfilled");function l(f){try{d(s.throw(f))}catch(h){u(h)}}a(l,"rejected");function d(f){f.done?c(f.value):o(f.value).then(p,l)}a(d,"step"),d((s=s.apply(n,r||[])).next())})},"__awaiter"),Rh=a(function(n,r){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,o,c,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(d){return function(f){return l([d,f])}}function l(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,o&&(c=d[0]&2?o.return:d[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,d[1])).done)return c;switch(o=0,c&&(d=[d[0]&2,c.value]),d[0]){case 0:case 1:c=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,o=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!c||d[1]>c[0]&&d[1]<c[3])){i.label=d[1];break}if(d[0]===6&&i.label<c[1]){i.label=c[1],c=d;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(d);break}c[2]&&i.ops.pop(),i.trys.pop();continue}d=r.call(n,i)}catch(f){d=[6,f],o=0}finally{s=c=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},"__generator"),$h=a(function(n,r,i,s){s===void 0&&(s=i),n[s]=r[i]},"__createBinding"),Ah=a(function(n,r){for(var i in n)i!=="default"&&!r.hasOwnProperty(i)&&(r[i]=n[i])},"__exportStar"),Hs=a(function(n){var r=typeof Symbol=="function"&&Symbol.iterator,i=r&&n[r],s=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),Kc=a(function(n,r){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var s=i.call(n),o,c=[],u;try{for(;(r===void 0||r-- >0)&&!(o=s.next()).done;)c.push(o.value)}catch(p){u={error:p}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(u)throw u.error}}return c},"__read"),jh=a(function(){for(var n=[],r=0;r<arguments.length;r++)n=n.concat(Kc(arguments[r]));return n},"__spread"),Nh=a(function(){for(var n=0,r=0,i=arguments.length;r<i;r++)n+=arguments[r].length;for(var s=Array(n),o=0,r=0;r<i;r++)for(var c=arguments[r],u=0,p=c.length;u<p;u++,o++)s[o]=c[u];return s},"__spreadArrays"),pr=a(function(n){return this instanceof pr?(this.v=n,this):new pr(n)},"__await"),Mh=a(function(n,r,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(n,r||[]),o,c=[];return o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o;function u(v){s[v]&&(o[v]=function(g){return new Promise(function(y,_){c.push([v,g,y,_])>1||p(v,g)})})}function p(v,g){try{l(s[v](g))}catch(y){h(c[0][3],y)}}function l(v){v.value instanceof pr?Promise.resolve(v.value.v).then(d,f):h(c[0][2],v)}function d(v){p("next",v)}function f(v){p("throw",v)}function h(v,g){v(g),c.shift(),c.length&&p(c[0][0],c[0][1])}},"__asyncGenerator"),Bh=a(function(n){var r,i;return r={},s("next"),s("throw",function(o){throw o}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(o,c){r[o]=n[o]?function(u){return(i=!i)?{value:pr(n[o](u)),done:o==="return"}:c?c(u):u}:c}},"__asyncDelegator"),Dh=a(function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],i;return r?r.call(n):(n=typeof Hs=="function"?Hs(n):n[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(c){i[c]=n[c]&&function(u){return new Promise(function(p,l){u=n[c](u),o(p,l,u.done,u.value)})}}function o(c,u,p,l){Promise.resolve(l).then(function(d){c({value:d,done:p})},u)}},"__asyncValues"),Kh=a(function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},"__makeTemplateObject"),Fh=a(function(n){if(n&&n.__esModule)return n;var r={};if(n!=null)for(var i in n)Object.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r.default=n,r},"__importStar"),Lh=a(function(n){return n&&n.__esModule?n:{default:n}},"__importDefault"),Hh=a(function(n,r){if(!r.has(n))throw new TypeError("attempted to get private field on non-instance");return r.get(n)},"__classPrivateFieldGet"),Uh=a(function(n,r,i){if(!r.has(n))throw new TypeError("attempted to set private field on non-instance");return r.set(n,i),i},"__classPrivateFieldSet"),t("__extends",Th),t("__assign",Oh),t("__rest",kh),t("__decorate",qh),t("__param",Ch),t("__metadata",Ih),t("__awaiter",Ph),t("__generator",Rh),t("__exportStar",Ah),t("__createBinding",$h),t("__values",Hs),t("__read",Kc),t("__spread",jh),t("__spreadArrays",Nh),t("__await",pr),t("__asyncGenerator",Mh),t("__asyncDelegator",Bh),t("__asyncValues",Dh),t("__makeTemplateObject",Kh),t("__importStar",Fh),t("__importDefault",Lh),t("__classPrivateFieldGet",Hh),t("__classPrivateFieldSet",Uh)})});var Jh=m($s=>{Object.defineProperty($s,"__esModule",{value:!0});var Xk;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"})(Xk=$s.LogLevel||($s.LogLevel={}))});var Wh=m(lr=>{Object.defineProperty(lr,"__esModule",{value:!0});var Zk;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(Zk=lr.SessionStatus||(lr.SessionStatus={}));var Qk;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})(Qk=lr.RequestSessionStatus||(lr.RequestSessionStatus={}))});var Gh=m(dr=>{Object.defineProperty(dr,"__esModule",{value:!0});var zh;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(zh=dr.Severity||(dr.Severity={}));(function(t){function e(n){switch(n){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}a(e,"fromString"),t.fromString=e})(zh=dr.Severity||(dr.Severity={}))});var Vh=m(fr=>{Object.defineProperty(fr,"__esModule",{value:!0});var Yh;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(Yh=fr.Status||(fr.Status={}));(function(t){function e(n){return n>=200&&n<300?t.Success:n===429?t.RateLimit:n>=400&&n<500?t.Invalid:n>=500?t.Failed:t.Unknown}a(e,"fromHttpCode"),t.fromHttpCode=e})(Yh=fr.Status||(fr.Status={}))});var Xh=m(Js=>{Object.defineProperty(Js,"__esModule",{value:!0});var eq;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(eq=Js.TransactionSamplingMethod||(Js.TransactionSamplingMethod={}))});var ye=m(rn=>{Object.defineProperty(rn,"__esModule",{value:!0});var tq=Jh();rn.LogLevel=tq.LogLevel;var Zh=Wh();rn.SessionStatus=Zh.SessionStatus;rn.RequestSessionStatus=Zh.RequestSessionStatus;var nq=Gh();rn.Severity=nq.Severity;var rq=Vh();rn.Status=rq.Status;var iq=Xh();rn.TransactionSamplingMethod=iq.TransactionSamplingMethod});var Qh=m(Fc=>{Object.defineProperty(Fc,"__esModule",{value:!0});function sq(t){t.then(null,function(e){console.error(e)})}a(sq,"forget");Fc.forget=sq});var jn=m(_e=>{Object.defineProperty(_e,"__esModule",{value:!0});function aq(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return Ws(t,Error)}}a(aq,"isError");_e.isError=aq;function oq(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}a(oq,"isErrorEvent");_e.isErrorEvent=oq;function cq(t){return Object.prototype.toString.call(t)==="[object DOMError]"}a(cq,"isDOMError");_e.isDOMError=cq;function uq(t){return Object.prototype.toString.call(t)==="[object DOMException]"}a(uq,"isDOMException");_e.isDOMException=uq;function pq(t){return Object.prototype.toString.call(t)==="[object String]"}a(pq,"isString");_e.isString=pq;function lq(t){return t===null||typeof t!="object"&&typeof t!="function"}a(lq,"isPrimitive");_e.isPrimitive=lq;function ev(t){return Object.prototype.toString.call(t)==="[object Object]"}a(ev,"isPlainObject");_e.isPlainObject=ev;function dq(t){return typeof Event!="undefined"&&Ws(t,Event)}a(dq,"isEvent");_e.isEvent=dq;function fq(t){return typeof Element!="undefined"&&Ws(t,Element)}a(fq,"isElement");_e.isElement=fq;function mq(t){return Object.prototype.toString.call(t)==="[object RegExp]"}a(mq,"isRegExp");_e.isRegExp=mq;function hq(t){return Boolean(t&&t.then&&typeof t.then=="function")}a(hq,"isThenable");_e.isThenable=hq;function vq(t){return ev(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}a(vq,"isSyntheticEvent");_e.isSyntheticEvent=vq;function Ws(t,e){try{return t instanceof e}catch(n){return!1}}a(Ws,"isInstanceOf");_e.isInstanceOf=Ws});var Hc=m(Lc=>{Object.defineProperty(Lc,"__esModule",{value:!0});var gq=jn();function yq(t,e){try{for(var n=t,r=5,i=80,s=[],o=0,c=0,u=" > ",p=u.length,l=void 0;n&&o++<r&&(l=_q(n,e),!(l==="html"||o>1&&c+s.length*p+l.length>=i));)s.push(l),c+=l.length,n=n.parentNode;return s.reverse().join(u)}catch(d){return"<unknown>"}}a(yq,"htmlTreeAsString");Lc.htmlTreeAsString=yq;function _q(t,e){var n,r,i=t,s=[],o,c,u,p,l;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var d=((n=e)===null||n===void 0?void 0:n.length)?e.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((r=d)===null||r===void 0?void 0:r.length)d.forEach(function(h){s.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&s.push("#"+i.id),o=i.className,o&&gq.isString(o))for(c=o.split(/\s+/),l=0;l<c.length;l++)s.push("."+c[l]);var f=["type","name","title","alt"];for(l=0;l<f.length;l++)u=f[l],p=i.getAttribute(u),p&&s.push("["+u+'="'+p+'"]');return s.join("")}a(_q,"_htmlElementAsString")});var tv=m(Uc=>{Object.defineProperty(Uc,"__esModule",{value:!0});Uc.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?bq:xq);function bq(t,e){return t.__proto__=e,t}a(bq,"setProtoOf");function xq(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}a(xq,"mixinProperties")});var zs=m($c=>{Object.defineProperty($c,"__esModule",{value:!0});var Sq=C(),Eq=tv(),wq=function(t){Sq.__extends(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return i.message=n,i.name=r.prototype.constructor.name,Eq.setPrototypeOf(i,r.prototype),i}return a(e,"SentryError"),e}(Error);$c.SentryError=wq});var nv=m(Jc=>{Object.defineProperty(Jc,"__esModule",{value:!0});var Tq=C(),Si=zs(),Oq=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Ei="Invalid Dsn",kq=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return a(t,"Dsn"),t.prototype.toString=function(e){e===void 0&&(e=!1);var n=this,r=n.host,i=n.path,s=n.pass,o=n.port,c=n.projectId,u=n.protocol,p=n.publicKey;return u+"://"+p+(e&&s?":"+s:"")+("@"+r+(o?":"+o:"")+"/"+(i&&i+"/")+c)},t.prototype._fromString=function(e){var n=Oq.exec(e);if(!n)throw new Si.SentryError(Ei);var r=Tq.__read(n.slice(1),6),i=r[0],s=r[1],o=r[2],c=o===void 0?"":o,u=r[3],p=r[4],l=p===void 0?"":p,d=r[5],f="",h=d,v=h.split("/");if(v.length>1&&(f=v.slice(0,-1).join("/"),h=v.pop()),h){var g=h.match(/^\d+/);g&&(h=g[0])}this._fromComponents({host:u,pass:c,path:f,projectId:h,port:l,protocol:i,publicKey:s})},t.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(n){if(!e[n])throw new Si.SentryError(Ei+": "+n+" missing")}),!this.projectId.match(/^\d+$/))throw new Si.SentryError(Ei+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new Si.SentryError(Ei+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Si.SentryError(Ei+": Invalid port "+this.port)},t}();Jc.Dsn=kq});var Vs=m((wi,Ys)=>{Object.defineProperty(wi,"__esModule",{value:!0});function qq(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}a(qq,"isNodeEnv");wi.isNodeEnv=qq;function Gs(t,e){return t.require(e)}a(Gs,"dynamicRequire");wi.dynamicRequire=Gs;function Cq(t){var e;try{e=Gs(Ys,t)}catch(r){}try{var n=Gs(Ys,"process").cwd;e=Gs(Ys,n()+"/node_modules/"+t)}catch(r){}return e}a(Cq,"loadModule");wi.loadModule=Cq});var Xs=m(mr=>{Object.defineProperty(mr,"__esModule",{value:!0});var rv=jn();function Iq(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}a(Iq,"truncate");mr.truncate=Iq;function Pq(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,r);return s>r-5&&(s=r),s===r&&(i=Math.max(s-140,0)),n=n.slice(i,s),i>0&&(n="'{snip} "+n),s<r&&(n+=" {snip}"),n}a(Pq,"snipLine");mr.snipLine=Pq;function Rq(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(s){n.push("[value cannot be serialized]")}}return n.join(e)}a(Rq,"safeJoin");mr.safeJoin=Rq;function Aq(t,e){return rv.isString(t)?rv.isRegExp(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}a(Aq,"isMatchingPattern");mr.isMatchingPattern=Aq});var hr=m(Oe=>{Object.defineProperty(Oe,"__esModule",{value:!0});var jq=Vs(),Wc=Xs(),Nq={};function zc(){return jq.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:Nq}a(zc,"getGlobalObject");Oe.getGlobalObject=zc;function Mq(){var t=zc(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var r=a(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,o=i==="x"?s:s&3|8;return o.toString(16)})}a(Mq,"uuid4");Oe.uuid4=Mq;function Bq(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}a(Bq,"parseUrl");Oe.parseUrl=Bq;function Dq(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}a(Dq,"getEventDescription");Oe.getEventDescription=Dq;function Kq(t){var e=zc(),n=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var r=e.console,i={};n.forEach(function(o){o in e.console&&r[o].__sentry_original__&&(i[o]=r[o],r[o]=r[o].__sentry_original__)});var s=t();return Object.keys(i).forEach(function(o){r[o]=i[o]}),s}a(Kq,"consoleSandbox");Oe.consoleSandbox=Kq;function Fq(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}a(Fq,"addExceptionTypeValue");Oe.addExceptionTypeValue=Fq;function Lq(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch(n){}}a(Lq,"addExceptionMechanism");Oe.addExceptionMechanism=Lq;function Hq(){try{return document.location.href}catch(t){return""}}a(Hq,"getLocationHref");Oe.getLocationHref=Hq;var Uq=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function $q(t){var e=t.match(Uq)||[],n=parseInt(e[1],10),r=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:e[4]}}a($q,"parseSemver");Oe.parseSemver=$q;var iv=60*1e3;function Jq(t,e){if(!e)return iv;var n=parseInt(""+e,10);if(!isNaN(n))return n*1e3;var r=Date.parse(""+e);return isNaN(r)?iv:r-t}a(Jq,"parseRetryAfterHeader");Oe.parseRetryAfterHeader=Jq;function Wq(t,e,n){n===void 0&&(n=5);var r=e.lineno||0,i=t.length,s=Math.max(Math.min(i,r-1),0);e.pre_context=t.slice(Math.max(0,s-n),s).map(function(o){return Wc.snipLine(o,0)}),e.context_line=Wc.snipLine(t[Math.min(i-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,i),s+1+n).map(function(o){return Wc.snipLine(o,0)})}a(Wq,"addContextToFrame");Oe.addContextToFrame=Wq;function zq(t){return t.split(/[\?#]/,1)[0]}a(zq,"stripUrlQueryAndFragment");Oe.stripUrlQueryAndFragment=zq});var Qs=m(Yc=>{Object.defineProperty(Yc,"__esModule",{value:!0});var Zs=hr(),Nn=Zs.getGlobalObject(),Gc="Sentry Logger ",Gq=function(){function t(){this._enabled=!1}return a(t,"Logger"),t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||Zs.consoleSandbox(function(){Nn.console.log(Gc+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||Zs.consoleSandbox(function(){Nn.console.warn(Gc+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||Zs.consoleSandbox(function(){Nn.console.error(Gc+"[Error]: "+e.join(" "))})},t}();Nn.__SENTRY__=Nn.__SENTRY__||{};var Yq=Nn.__SENTRY__.logger||(Nn.__SENTRY__.logger=new Gq);Yc.logger=Yq});var Xc=m(Vc=>{Object.defineProperty(Vc,"__esModule",{value:!0});var Vq=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return a(t,"Memo"),t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var n=0;n<this._inner.length;n++){var r=this._inner[n];if(r===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var n=0;n<this._inner.length;n++)if(this._inner[n]===e){this._inner.splice(n,1);break}},t}();Vc.Memo=Vq});var ea=m(Qc=>{Object.defineProperty(Qc,"__esModule",{value:!0});var Zc="<anonymous>";function Xq(t){try{return!t||typeof t!="function"?Zc:t.name||Zc}catch(e){return Zc}}a(Xq,"getFunctionName");Qc.getFunctionName=Xq});var nu=m(It=>{Object.defineProperty(It,"__esModule",{value:!0});var Zq=C(),sv=Hc(),Ct=jn(),Qq=Xc(),eC=ea(),av=Xs();function tC(t,e,n){if(e in t){var r=t[e],i=n(r);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(s){}t[e]=i}}a(tC,"fill");It.fill=tC;function nC(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}a(nC,"urlEncode");It.urlEncode=nC;function ov(t){if(Ct.isError(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(Ct.isEvent(t)){var i=t,s={};s.type=i.type;try{s.target=Ct.isElement(i.target)?sv.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(o){s.target="<unknown>"}try{s.currentTarget=Ct.isElement(i.currentTarget)?sv.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(o){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&Ct.isInstanceOf(t,CustomEvent)&&(s.detail=i.detail);for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i);return s}return t}a(ov,"getWalkSource");function rC(t){return~-encodeURI(t).split(/%..|./).length}a(rC,"utf8Length");function iC(t){return rC(JSON.stringify(t))}a(iC,"jsonSize");function cv(t,e,n){e===void 0&&(e=3),n===void 0&&(n=100*1024);var r=pv(t,e);return iC(r)>n?cv(t,e-1,n):r}a(cv,"normalizeToSize");It.normalizeToSize=cv;function sC(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var n=uv(t);return Ct.isPrimitive(n)?n:e}a(sC,"serializeValue");function uv(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":Ct.isSyntheticEvent(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+eC.getFunctionName(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}a(uv,"normalizeValue");function eu(t,e,n,r){if(n===void 0&&(n=Infinity),r===void 0&&(r=new Qq.Memo),n===0)return sC(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var i=uv(e,t);if(Ct.isPrimitive(i))return i;var s=ov(e),o=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var c in s)!Object.prototype.hasOwnProperty.call(s,c)||(o[c]=eu(c,s[c],n-1,r));return r.unmemoize(e),o}a(eu,"walk");It.walk=eu;function pv(t,e){try{return JSON.parse(JSON.stringify(t,function(n,r){return eu(n,r,e)}))}catch(n){return"**non-serializable**"}}a(pv,"normalize");It.normalize=pv;function aC(t,e){e===void 0&&(e=40);var n=Object.keys(ov(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return av.truncate(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:av.truncate(i,e)}return""}a(aC,"extractExceptionKeysForMessage");It.extractExceptionKeysForMessage=aC;function tu(t){var e,n;if(Ct.isPlainObject(t)){var r=t,i={};try{for(var s=Zq.__values(Object.keys(r)),o=s.next();!o.done;o=s.next()){var c=o.value;typeof r[c]!="undefined"&&(i[c]=tu(r[c]))}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(tu):t}a(tu,"dropUndefinedKeys");It.dropUndefinedKeys=tu});var su=m(tt=>{Object.defineProperty(tt,"__esModule",{value:!0});var oC=Qs(),ta=hr();function cC(){try{return new ErrorEvent(""),!0}catch(t){return!1}}a(cC,"supportsErrorEvent");tt.supportsErrorEvent=cC;function uC(){try{return new DOMError(""),!0}catch(t){return!1}}a(uC,"supportsDOMError");tt.supportsDOMError=uC;function pC(){try{return new DOMException(""),!0}catch(t){return!1}}a(pC,"supportsDOMException");tt.supportsDOMException=pC;function ru(){if(!("fetch"in ta.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}a(ru,"supportsFetch");tt.supportsFetch=ru;function iu(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}a(iu,"isNativeFetch");tt.isNativeFetch=iu;function lC(){if(!ru())return!1;var t=ta.getGlobalObject();if(iu(t.fetch))return!0;var e=!1,n=t.document;if(n&&typeof n.createElement=="function")try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=iu(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){oC.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}a(lC,"supportsNativeFetch");tt.supportsNativeFetch=lC;function dC(){return"ReportingObserver"in ta.getGlobalObject()}a(dC,"supportsReportingObserver");tt.supportsReportingObserver=dC;function fC(){if(!ru())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}a(fC,"supportsReferrerPolicy");tt.supportsReferrerPolicy=fC;function mC(){var t=ta.getGlobalObject(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}a(mC,"supportsHistory");tt.supportsHistory=mC});var hv=m(cu=>{Object.defineProperty(cu,"__esModule",{value:!0});var vr=C(),na=jn(),lv=Qs(),hC=hr(),Pt=nu(),vC=ea(),dv=su(),K=hC.getGlobalObject(),Ti={},fv={};function gC(t){if(!fv[t])switch(fv[t]=!0,t){case"console":_C();break;case"dom":qC();break;case"xhr":EC();break;case"fetch":bC();break;case"history":wC();break;case"error":CC();break;case"unhandledrejection":IC();break;default:lv.logger.warn("unknown instrumentation type:",t)}}a(gC,"instrument");function yC(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(Ti[t.type]=Ti[t.type]||[],Ti[t.type].push(t.callback),gC(t.type))}a(yC,"addInstrumentationHandler");cu.addInstrumentationHandler=yC;function nt(t,e){var n,r;if(!(!t||!Ti[t]))try{for(var i=vr.__values(Ti[t]||[]),s=i.next();!s.done;s=i.next()){var o=s.value;try{o(e)}catch(c){lv.logger.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+vC.getFunctionName(o)+`
Error: `+c)}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}a(nt,"triggerHandlers");function _C(){"console"in K&&["debug","info","warn","error","log","assert"].forEach(function(t){t in K.console&&Pt.fill(K.console,t,function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];nt("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,K.console,n)}})})}a(_C,"instrumentConsole");function bC(){!dv.supportsNativeFetch()||Pt.fill(K,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:xC(e),url:SC(e)},startTimestamp:Date.now()};return nt("fetch",vr.__assign({},r)),t.apply(K,e).then(function(i){return nt("fetch",vr.__assign(vr.__assign({},r),{endTimestamp:Date.now(),response:i})),i},function(i){throw nt("fetch",vr.__assign(vr.__assign({},r),{endTimestamp:Date.now(),error:i})),i})}})}a(bC,"instrumentFetch");function xC(t){return t===void 0&&(t=[]),"Request"in K&&na.isInstanceOf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}a(xC,"getFetchMethod");function SC(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in K&&na.isInstanceOf(t[0],Request)?t[0].url:String(t[0])}a(SC,"getFetchUrl");function EC(){if("XMLHttpRequest"in K){var t=[],e=[],n=XMLHttpRequest.prototype;Pt.fill(n,"open",function(r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=this,c=i[1];o.__sentry_xhr__={method:na.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},na.isString(c)&&o.__sentry_xhr__.method==="POST"&&c.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var u=a(function(){if(o.readyState===4){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(d){}try{var p=t.indexOf(o);if(p!==-1){t.splice(p);var l=e.splice(p)[0];o.__sentry_xhr__&&l[0]!==void 0&&(o.__sentry_xhr__.body=l[0])}}catch(d){}nt("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}},"onreadystatechangeHandler");return"onreadystatechange"in o&&typeof o.onreadystatechange=="function"?Pt.fill(o,"onreadystatechange",function(p){return function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return u(),p.apply(o,l)}}):o.addEventListener("readystatechange",u),r.apply(o,i)}}),Pt.fill(n,"send",function(r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return t.push(this),e.push(i),nt("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),r.apply(this,i)}})}}a(EC,"instrumentXHR");var ra;function wC(){if(!dv.supportsHistory())return;var t=K.onpopstate;K.onpopstate=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=K.location.href,s=ra;if(ra=i,nt("history",{from:s,to:i}),t)try{return t.apply(this,n)}catch(o){}};function e(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=r.length>2?r[2]:void 0;if(s){var o=ra,c=String(s);ra=c,nt("history",{from:o,to:c})}return n.apply(this,r)}}a(e,"historyReplacementFunction"),Pt.fill(K.history,"pushState",e),Pt.fill(K.history,"replaceState",e)}a(wC,"instrumentHistory");var TC=1e3,ia,sa;function OC(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(n){}return!1}a(OC,"shouldShortcircuitPreviousDebounce");function kC(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(n){}return!0}a(kC,"shouldSkipDOMEvent");function mv(t,e){return e===void 0&&(e=!1),function(n){if(!(!n||sa===n)&&!kC(n)){var r=n.type==="keypress"?"input":n.type;ia===void 0?(t({event:n,name:r,global:e}),sa=n):OC(sa,n)&&(t({event:n,name:r,global:e}),sa=n),clearTimeout(ia),ia=K.setTimeout(function(){ia=void 0},TC)}}}a(mv,"makeDOMEventHandler");function qC(){if("document"in K){var t=nt.bind(null,"dom"),e=mv(t,!0);K.document.addEventListener("click",e,!1),K.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(n){var r=K[n]&&K[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Pt.fill(r,"addEventListener",function(i){return function(s,o,c){if(s==="click"||s=="keypress")try{var u=this,p=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},l=p[s]=p[s]||{refCount:0};if(!l.handler){var d=mv(t);l.handler=d,i.call(this,s,d,c)}l.refCount+=1}catch(f){}return i.call(this,s,o,c)}}),Pt.fill(r,"removeEventListener",function(i){return function(s,o,c){if(s==="click"||s=="keypress")try{var u=this,p=u.__sentry_instrumentation_handlers__||{},l=p[s];l&&(l.refCount-=1,l.refCount<=0&&(i.call(this,s,l.handler,c),l.handler=void 0,delete p[s]),Object.keys(p).length===0&&delete u.__sentry_instrumentation_handlers__)}catch(d){}return i.call(this,s,o,c)}}))})}}a(qC,"instrumentDOM");var au=null;function CC(){au=K.onerror,K.onerror=function(t,e,n,r,i){return nt("error",{column:r,error:i,line:n,msg:t,url:e}),au?au.apply(this,arguments):!1}}a(CC,"instrumentError");var ou=null;function IC(){ou=K.onunhandledrejection,K.onunhandledrejection=function(t){return nt("unhandledrejection",t),ou?ou.apply(this,arguments):!0}}a(IC,"instrumentUnhandledRejection")});var xv=m(Rt=>{Object.defineProperty(Rt,"__esModule",{value:!0});function vv(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];i==="."?t.splice(r,1):i===".."?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}a(vv,"normalizeArray");var PC=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function gv(t){var e=PC.exec(t);return e?e.slice(1):[]}a(gv,"splitPath");function uu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=!1,i=t.length-1;i>=-1&&!r;i--){var s=i>=0?t[i]:"/";!s||(n=s+"/"+n,r=s.charAt(0)==="/")}return n=vv(n.split("/").filter(function(o){return!!o}),!r).join("/"),(r?"/":"")+n||"."}a(uu,"resolve");Rt.resolve=uu;function yv(t){for(var e=0;e<t.length&&t[e]==="";e++);for(var n=t.length-1;n>=0&&t[n]==="";n--);return e>n?[]:t.slice(e,n-e+1)}a(yv,"trim");function RC(t,e){t=uu(t).substr(1),e=uu(e).substr(1);for(var n=yv(t.split("/")),r=yv(e.split("/")),i=Math.min(n.length,r.length),s=i,o=0;o<i;o++)if(n[o]!==r[o]){s=o;break}for(var c=[],o=s;o<n.length;o++)c.push("..");return c=c.concat(r.slice(s)),c.join("/")}a(RC,"relative");Rt.relative=RC;function _v(t){var e=bv(t),n=t.substr(-1)==="/",r=vv(t.split("/").filter(function(i){return!!i}),!e).join("/");return!r&&!e&&(r="."),r&&n&&(r+="/"),(e?"/":"")+r}a(_v,"normalizePath");Rt.normalizePath=_v;function bv(t){return t.charAt(0)==="/"}a(bv,"isAbsolute");Rt.isAbsolute=bv;function AC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _v(t.join("/"))}a(AC,"join");Rt.join=AC;function jC(t){var e=gv(t),n=e[0],r=e[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)}a(jC,"dirname");Rt.dirname=jC;function NC(t,e){var n=gv(t)[2];return e&&n.substr(e.length*-1)===e&&(n=n.substr(0,n.length-e.length)),n}a(NC,"basename");Rt.basename=NC});var lu=m(pu=>{Object.defineProperty(pu,"__esModule",{value:!0});var MC=jn(),At;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(At||(At={}));var BC=function(){function t(e){var n=this;this._state=At.PENDING,this._handlers=[],this._resolve=function(r){n._setResult(At.RESOLVED,r)},this._reject=function(r){n._setResult(At.REJECTED,r)},this._setResult=function(r,i){if(n._state===At.PENDING){if(MC.isThenable(i)){i.then(n._resolve,n._reject);return}n._state=r,n._value=i,n._executeHandlers()}},this._attachHandler=function(r){n._handlers=n._handlers.concat(r),n._executeHandlers()},this._executeHandlers=function(){if(n._state!==At.PENDING){var r=n._handlers.slice();n._handlers=[],r.forEach(function(i){i.done||(n._state===At.RESOLVED&&i.onfulfilled&&i.onfulfilled(n._value),n._state===At.REJECTED&&i.onrejected&&i.onrejected(n._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}return a(t,"SyncPromise"),t.resolve=function(e){return new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.all=function(e){return new t(function(n,r){if(!Array.isArray(e)){r(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){n([]);return}var i=e.length,s=[];e.forEach(function(o,c){t.resolve(o).then(function(u){s[c]=u,i-=1,i===0&&n(s)}).then(null,r)})})},t.prototype.then=function(e,n){var r=this;return new t(function(i,s){r._attachHandler({done:!1,onfulfilled:function(o){if(!e){i(o);return}try{i(e(o));return}catch(c){s(c);return}},onrejected:function(o){if(!n){s(o);return}try{i(n(o));return}catch(c){s(c);return}}})})},t.prototype.catch=function(e){return this.then(function(n){return n},e)},t.prototype.finally=function(e){var n=this;return new t(function(r,i){var s,o;return n.then(function(c){o=!1,s=c,e&&e()},function(c){o=!0,s=c,e&&e()}).then(function(){if(o){i(s);return}r(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}();pu.SyncPromise=BC});var Sv=m(fu=>{Object.defineProperty(fu,"__esModule",{value:!0});var DC=zs(),du=lu(),KC=function(){function t(e){this._limit=e,this._buffer=[]}return a(t,"PromiseBuffer"),t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var n=this;if(!this.isReady())return du.SyncPromise.reject(new DC.SentryError("Not adding Promise due to buffer limit reached."));var r=e();return this._buffer.indexOf(r)===-1&&this._buffer.push(r),r.then(function(){return n.remove(r)}).then(null,function(){return n.remove(r).then(null,function(){})}),r},t.prototype.remove=function(e){var n=this._buffer.splice(this._buffer.indexOf(e),1)[0];return n},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var n=this;return new du.SyncPromise(function(r){var i=setTimeout(function(){e&&e>0&&r(!1)},e);du.SyncPromise.all(n._buffer).then(function(){clearTimeout(i),r(!0)}).then(null,function(){r(!0)})})},t}();fu.PromiseBuffer=KC});var kv=m(($e,Ov)=>{Object.defineProperty($e,"__esModule",{value:!0});var Ev=hr(),wv=Vs(),mu={nowSeconds:function(){return Date.now()/1e3}};function FC(){var t=Ev.getGlobalObject().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}a(FC,"getBrowserPerformance");function LC(){try{var t=wv.dynamicRequire(Ov,"perf_hooks");return t.performance}catch(e){return}}a(LC,"getNodePerformance");var aa=wv.isNodeEnv()?LC():FC(),Tv=aa===void 0?mu:{nowSeconds:function(){return(aa.timeOrigin+aa.now())/1e3}};$e.dateTimestampInSeconds=mu.nowSeconds.bind(mu);$e.timestampInSeconds=Tv.nowSeconds.bind(Tv);$e.timestampWithMs=$e.timestampInSeconds;$e.usingPerformanceAPI=aa!==void 0;$e.browserPerformanceTimeOrigin=function(){var t=Ev.getGlobalObject().performance;if(!t||!t.now){$e._browserPerformanceTimeOriginMode="none";return}var e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number",u=c?Math.abs(o+n-r):e,p=u<e;return s||p?i<=u?($e._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):($e._browserPerformanceTimeOriginMode="navigationStart",o):($e._browserPerformanceTimeOriginMode="dateNow",r)}()});var q=m(Y=>{Object.defineProperty(Y,"__esModule",{value:!0});var te=C();te.__exportStar(Qh(),Y);te.__exportStar(Hc(),Y);te.__exportStar(nv(),Y);te.__exportStar(zs(),Y);te.__exportStar(hv(),Y);te.__exportStar(jn(),Y);te.__exportStar(Qs(),Y);te.__exportStar(Xc(),Y);te.__exportStar(hr(),Y);te.__exportStar(Vs(),Y);te.__exportStar(nu(),Y);te.__exportStar(xv(),Y);te.__exportStar(Sv(),Y);te.__exportStar(ea(),Y);te.__exportStar(Xs(),Y);te.__exportStar(su(),Y);te.__exportStar(lu(),Y);te.__exportStar(kv(),Y)});var hu=m(oa=>{Object.defineProperty(oa,"__esModule",{value:!0});var O=C(),Oi=q(),qv=100,HC=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return a(t,"Scope"),t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=O.__spread(e._breadcrumbs),n._tags=O.__assign({},e._tags),n._extra=O.__assign({},e._extra),n._contexts=O.__assign({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=O.__spread(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=O.__assign(O.__assign({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,n){var r;return this._tags=O.__assign(O.__assign({},this._tags),(r={},r[e]=n,r)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=O.__assign(O.__assign({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,n){var r;return this._extra=O.__assign(O.__assign({},this._extra),(r={},r[e]=n,r)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,n){var r;return n===null?delete this._contexts[e]:this._contexts=O.__assign(O.__assign({},this._contexts),(r={},r[e]=n,r)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,n,r,i,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(n=s)===null||n===void 0?void 0:n.transaction;if((i=(r=s)===null||r===void 0?void 0:r.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=O.__assign(O.__assign({},this._tags),e._tags),this._extra=O.__assign(O.__assign({},this._extra),e._extra),this._contexts=O.__assign(O.__assign({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Oi.isPlainObject(e)&&(e=e,this._tags=O.__assign(O.__assign({},this._tags),e.tags),this._extra=O.__assign(O.__assign({},this._extra),e.extra),this._contexts=O.__assign(O.__assign({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,n){var r=typeof n=="number"?Math.min(n,qv):qv;if(r<=0)return this;var i=O.__assign({timestamp:Oi.dateTimestampInSeconds()},e);return this._breadcrumbs=O.__spread(this._breadcrumbs,[i]).slice(-r),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,n){var r;if(this._extra&&Object.keys(this._extra).length&&(e.extra=O.__assign(O.__assign({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=O.__assign(O.__assign({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=O.__assign(O.__assign({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=O.__assign(O.__assign({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=O.__assign({trace:this._span.getTraceContext()},e.contexts);var i=(r=this._span.transaction)===null||r===void 0?void 0:r.name;i&&(e.tags=O.__assign({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=O.__spread(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(O.__spread(Cv(),this._eventProcessors),e,n)},t.prototype._notifyEventProcessors=function(e,n,r,i){var s=this;return i===void 0&&(i=0),new Oi.SyncPromise(function(o,c){var u=e[i];if(n===null||typeof u!="function")o(n);else{var p=u(O.__assign({},n),r);Oi.isThenable(p)?p.then(function(l){return s._notifyEventProcessors(e,l,r,i+1).then(o)}).then(null,c):s._notifyEventProcessors(e,p,r,i+1).then(o).then(null,c)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();oa.Scope=HC;function Cv(){var t=Oi.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}a(Cv,"getGlobalEventProcessors");function UC(t){Cv().push(t)}a(UC,"addGlobalEventProcessor");oa.addGlobalEventProcessor=UC});var yu=m(gu=>{Object.defineProperty(gu,"__esModule",{value:!0});var vu=ye(),gr=q(),$C=function(){function t(e){this.errors=0,this.sid=gr.uuid4(),this.duration=0,this.status=vu.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var n=gr.timestampInSeconds();this.timestamp=n,this.started=n,e&&this.update(e)}return a(t,"Session"),t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||gr.timestampInSeconds(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:gr.uuid4()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var n=this.timestamp-this.started;this.duration=n>=0?n:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===vu.SessionStatus.Ok?this.update({status:vu.SessionStatus.Exited}):this.update()},t.prototype.toJSON=function(){return gr.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:gr.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}();gu.Session=$C});var xu=m(Pe=>{Object.defineProperty(Pe,"__esModule",{value:!0});var rt=C(),Iv=ye(),it=q(),_u=hu(),JC=yu();Pe.API_VERSION=4;var WC=100,ca=function(){function t(e,n,r){n===void 0&&(n=new _u.Scope),r===void 0&&(r=Pe.API_VERSION),this._version=r,this._stack=[{}],this.getStackTop().scope=n,this.bindClient(e)}return a(t,"Hub"),t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=_u.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var n=this.pushScope();try{e(n)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,n){var r=this._lastEventId=it.uuid4(),i=n;if(!n){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(o){s=o}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,rt.__assign(rt.__assign({},i),{event_id:r})),r},t.prototype.captureMessage=function(e,n,r){var i=this._lastEventId=it.uuid4(),s=r;if(!r){var o=void 0;try{throw new Error(e)}catch(c){o=c}s={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,n,rt.__assign(rt.__assign({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,n){var r=this._lastEventId=it.uuid4();return this._invokeClient("captureEvent",e,rt.__assign(rt.__assign({},n),{event_id:r})),r},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,n){var r=this.getStackTop(),i=r.scope,s=r.client;if(!(!i||!s)){var o=s.getOptions&&s.getOptions()||{},c=o.beforeBreadcrumb,u=c===void 0?null:c,p=o.maxBreadcrumbs,l=p===void 0?WC:p;if(!(l<=0)){var d=it.dateTimestampInSeconds(),f=rt.__assign({timestamp:d},e),h=u?it.consoleSandbox(function(){return u(f,n)}):f;h!==null&&i.addBreadcrumb(h,l)}}},t.prototype.setUser=function(e){var n=this.getScope();n&&n.setUser(e)},t.prototype.setTags=function(e){var n=this.getScope();n&&n.setTags(e)},t.prototype.setExtras=function(e){var n=this.getScope();n&&n.setExtras(e)},t.prototype.setTag=function(e,n){var r=this.getScope();r&&r.setTag(e,n)},t.prototype.setExtra=function(e,n){var r=this.getScope();r&&r.setExtra(e,n)},t.prototype.setContext=function(e,n){var r=this.getScope();r&&r.setContext(e,n)},t.prototype.configureScope=function(e){var n=this.getStackTop(),r=n.scope,i=n.client;r&&i&&e(r)},t.prototype.run=function(e){var n=bu(this);try{e(this)}finally{bu(n)}},t.prototype.getIntegration=function(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch(r){return it.logger.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,n){return this._callExtensionMethod("startTransaction",e,n)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,n,r,i,s;(r=(n=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||n===void 0?void 0:n.getSession())===null||r===void 0||r.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},t.prototype.startSession=function(e){var n=this.getStackTop(),r=n.scope,i=n.client,s=i&&i.getOptions()||{},o=s.release,c=s.environment,u=it.getGlobalObject(),p=(u.navigator||{}).userAgent,l=new JC.Session(rt.__assign(rt.__assign(rt.__assign({release:o,environment:c},r&&{user:r.getUser()}),p&&{userAgent:p}),e));if(r){var d=r.getSession&&r.getSession();d&&d.status===Iv.SessionStatus.Ok&&d.update({status:Iv.SessionStatus.Exited}),this.endSession(),r.setSession(l)}return l},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),n=e.scope,r=e.client;if(!!n){var i=n.getSession&&n.getSession();i&&r&&r.captureSession&&r.captureSession(i)}},t.prototype._invokeClient=function(e){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=this.getStackTop(),o=s.scope,c=s.client;c&&c[e]&&(n=c)[e].apply(n,rt.__spread(r,[o]))},t.prototype._callExtensionMethod=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=yr(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);it.logger.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();Pe.Hub=ca;function yr(){var t=it.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}a(yr,"getMainCarrier");Pe.getMainCarrier=yr;function bu(t){var e=yr(),n=jt(e);return ua(e,t),n}a(bu,"makeMain");Pe.makeMain=bu;function zC(){var t=yr();return(!Pv(t)||jt(t).isOlderThan(Pe.API_VERSION))&&ua(t,new ca),it.isNodeEnv()?YC(t):jt(t)}a(zC,"getCurrentHub");Pe.getCurrentHub=zC;function GC(){it.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var t=yr().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}a(GC,"getActiveDomain");Pe.getActiveDomain=GC;function YC(t){var e,n,r;try{var i=(r=(n=(e=yr().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||n===void 0?void 0:n.domain)===null||r===void 0?void 0:r.active;if(!i)return jt(t);if(!Pv(i)||jt(i).isOlderThan(Pe.API_VERSION)){var s=jt(t).getStackTop();ua(i,new ca(s.client,_u.Scope.clone(s.scope)))}return jt(i)}catch(o){return jt(t)}}a(YC,"getHubFromActiveDomain");function Pv(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}a(Pv,"hasHubOnCarrier");function jt(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new ca),t.__SENTRY__.hub}a(jt,"getHubFromCarrier");Pe.getHubFromCarrier=jt;function ua(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}a(ua,"setHubOnCarrier");Pe.setHubOnCarrier=ua});var Rv=m(wu=>{Object.defineProperty(wu,"__esModule",{value:!0});var Su=ye(),Eu=q(),VC=xu(),XC=function(){function t(e,n){var r=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=e,this._intervalId=setInterval(function(){return r.flush()},this.flushTimeout*1e3),this._sessionAttrs=n}return a(t,"SessionFlusher"),t.prototype.sendSessionAggregates=function(e){if(!this._transport.sendSession){Eu.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(n){Eu.logger.error("Error while sending session: "+n)})},t.prototype.flush=function(){var e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(e))},t.prototype.getSessionAggregates=function(){var e=this,n=Object.keys(this._pendingAggregates).map(function(i){return e._pendingAggregates[parseInt(i)]}),r={attrs:this._sessionAttrs,aggregates:n};return Eu.dropUndefinedKeys(r)},t.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},t.prototype.incrementSessionStatusCount=function(){var e,n;if(!!this._isEnabled){var r=VC.getCurrentHub().getScope(),i=(e=r)===null||e===void 0?void 0:e.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(n=r)===null||n===void 0||n.setRequestSession(void 0))}},t.prototype._incrementSessionStatusCount=function(e,n){var r=new Date(n).setSeconds(0,0);this._pendingAggregates[r]=this._pendingAggregates[r]||{};var i=this._pendingAggregates[r];switch(i.started||(i.started=new Date(r).toISOString()),e){case Su.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case Su.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case Su.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},t}();wu.SessionFlusher=XC});var Ae=m(Re=>{Object.defineProperty(Re,"__esModule",{value:!0});var Av=hu();Re.addGlobalEventProcessor=Av.addGlobalEventProcessor;Re.Scope=Av.Scope;var ZC=yu();Re.Session=ZC.Session;var QC=Rv();Re.SessionFlusher=QC.SessionFlusher;var Mn=xu();Re.getActiveDomain=Mn.getActiveDomain;Re.getCurrentHub=Mn.getCurrentHub;Re.getHubFromCarrier=Mn.getHubFromCarrier;Re.getMainCarrier=Mn.getMainCarrier;Re.Hub=Mn.Hub;Re.makeMain=Mn.makeMain;Re.setHubOnCarrier=Mn.setHubOnCarrier});var jv=m(de=>{Object.defineProperty(de,"__esModule",{value:!0});var pa=C(),eI=Ae();function ke(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=eI.getCurrentHub();if(r&&r[t])return r[t].apply(r,pa.__spread(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}a(ke,"callOnHub");function tI(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(r){n=r}return ke("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}a(tI,"captureException");de.captureException=tI;function nI(t,e){var n;try{throw new Error(t)}catch(s){n=s}var r=typeof e=="string"?e:void 0,i=typeof e!="string"?{captureContext:e}:void 0;return ke("captureMessage",t,r,pa.__assign({originalException:t,syntheticException:n},i))}a(nI,"captureMessage");de.captureMessage=nI;function rI(t){return ke("captureEvent",t)}a(rI,"captureEvent");de.captureEvent=rI;function iI(t){ke("configureScope",t)}a(iI,"configureScope");de.configureScope=iI;function sI(t){ke("addBreadcrumb",t)}a(sI,"addBreadcrumb");de.addBreadcrumb=sI;function aI(t,e){ke("setContext",t,e)}a(aI,"setContext");de.setContext=aI;function oI(t){ke("setExtras",t)}a(oI,"setExtras");de.setExtras=oI;function cI(t){ke("setTags",t)}a(cI,"setTags");de.setTags=cI;function uI(t,e){ke("setExtra",t,e)}a(uI,"setExtra");de.setExtra=uI;function pI(t,e){ke("setTag",t,e)}a(pI,"setTag");de.setTag=pI;function lI(t){ke("setUser",t)}a(lI,"setUser");de.setUser=lI;function dI(t){ke("withScope",t)}a(dI,"withScope");de.withScope=dI;function fI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ke.apply(void 0,pa.__spread(["_invokeClient",t],e))}a(fI,"_callOnClient");de._callOnClient=fI;function mI(t,e){return ke("startTransaction",pa.__assign({},t),e)}a(mI,"startTransaction");de.startTransaction=mI});var Bv=m(Tu=>{Object.defineProperty(Tu,"__esModule",{value:!0});var Nv=q(),Mv="7",hI=function(){function t(e,n,r){n===void 0&&(n={}),this.dsn=e,this._dsnObject=new Nv.Dsn(e),this.metadata=n,this._tunnel=r}return a(t,"API"),t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){var e=this.getDsn(),n=e.protocol?e.protocol+":":"",r=e.port?":"+e.port:"";return n+"//"+e.host+r+(e.path?"/"+e.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var e=this.getDsn();return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},t.prototype.getRequestHeaders=function(e,n){var r=this.getDsn(),i=["Sentry sentry_version="+Mv];return i.push("sentry_client="+e+"/"+n),i.push("sentry_key="+r.publicKey),r.pass&&i.push("sentry_secret="+r.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(e){e===void 0&&(e={});var n=this.getDsn(),r=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+n.toString());for(var s in e)if(s!=="dsn")if(s==="user"){if(!e.user)continue;e.user.name&&i.push("name="+encodeURIComponent(e.user.name)),e.user.email&&i.push("email="+encodeURIComponent(e.user.email))}else i.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return i.length?r+"?"+i.join("&"):r},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(e){if(this._tunnel)return this._tunnel;var n=this.getBaseApiEndpoint(),r=this.getDsn();return""+n+r.projectId+"/"+e+"/"},t.prototype._encodedAuth=function(){var e=this.getDsn(),n={sentry_key:e.publicKey,sentry_version:Mv};return Nv.urlEncode(n)},t}();Tu.API=hI});var Hv=m(sn=>{Object.defineProperty(sn,"__esModule",{value:!0});var la=C(),Dv=Ae(),vI=q();sn.installedIntegrations=[];function Kv(t){return t.reduce(function(e,n){return e.every(function(r){return n.name!==r.name})&&e.push(n),e},[])}a(Kv,"filterDuplicates");function Fv(t){var e=t.defaultIntegrations&&la.__spread(t.defaultIntegrations)||[],n=t.integrations,r=la.__spread(Kv(e));Array.isArray(n)?r=la.__spread(r.filter(function(o){return n.every(function(c){return c.name!==o.name})}),Kv(n)):typeof n=="function"&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map(function(o){return o.name}),s="Debug";return i.indexOf(s)!==-1&&r.push.apply(r,la.__spread(r.splice(i.indexOf(s),1))),r}a(Fv,"getIntegrationsToSetup");sn.getIntegrationsToSetup=Fv;function Lv(t){sn.installedIntegrations.indexOf(t.name)===-1&&(t.setupOnce(Dv.addGlobalEventProcessor,Dv.getCurrentHub),sn.installedIntegrations.push(t.name),vI.logger.log("Integration installed: "+t.name))}a(Lv,"setupIntegration");sn.setupIntegration=Lv;function gI(t){var e={};return Fv(t).forEach(function(n){e[n.name]=n,Lv(n)}),e}a(gI,"setupIntegrations");sn.setupIntegrations=gI});var $v=m(Ou=>{Object.defineProperty(Ou,"__esModule",{value:!0});var je=C(),yI=Ae(),Uv=ye(),A=q(),_I=Hv(),bI=function(){function t(e,n){this._integrations={},this._processing=0,this._backend=new e(n),this._options=n,n.dsn&&(this._dsn=new A.Dsn(n.dsn))}return a(t,"BaseClient"),t.prototype.captureException=function(e,n,r){var i=this,s=n&&n.event_id;return this._process(this._getBackend().eventFromException(e,n).then(function(o){return i._captureEvent(o,n,r)}).then(function(o){s=o})),s},t.prototype.captureMessage=function(e,n,r,i){var s=this,o=r&&r.event_id,c=A.isPrimitive(e)?this._getBackend().eventFromMessage(String(e),n,r):this._getBackend().eventFromException(e,r);return this._process(c.then(function(u){return s._captureEvent(u,r,i)}).then(function(u){o=u})),o},t.prototype.captureEvent=function(e,n,r){var i=n&&n.event_id;return this._process(this._captureEvent(e,n,r).then(function(s){i=s})),i},t.prototype.captureSession=function(e){if(!this._isEnabled()){A.logger.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?A.logger.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(e){var n=this;return this._isClientProcessing(e).then(function(r){return n._getBackend().getTransport().close(e).then(function(i){return r&&i})})},t.prototype.close=function(e){var n=this;return this.flush(e).then(function(r){return n.getOptions().enabled=!1,r})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=_I.setupIntegrations(this._options))},t.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(n){return A.logger.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(e,n){var r,i,s=!1,o=!1,c=n.exception&&n.exception.values;if(c){o=!0;try{for(var u=je.__values(c),p=u.next();!p.done;p=u.next()){var l=p.value,d=l.mechanism;if(d&&d.handled===!1){s=!0;break}}}catch(v){r={error:v}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}var f=e.status===Uv.SessionStatus.Ok,h=f&&e.errors===0||f&&s;h&&(e.update(je.__assign(je.__assign({},s&&{status:Uv.SessionStatus.Crashed}),{errors:e.errors||Number(o||s)})),this.captureSession(e))},t.prototype._sendSession=function(e){this._getBackend().sendSession(e)},t.prototype._isClientProcessing=function(e){var n=this;return new A.SyncPromise(function(r){var i=0,s=1,o=setInterval(function(){n._processing==0?(clearInterval(o),r(!0)):(i+=s,e&&i>=e&&(clearInterval(o),r(!1)))},s)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(e,n,r){var i=this,s=this.getOptions().normalizeDepth,o=s===void 0?3:s,c=je.__assign(je.__assign({},e),{event_id:e.event_id||(r&&r.event_id?r.event_id:A.uuid4()),timestamp:e.timestamp||A.dateTimestampInSeconds()});this._applyClientOptions(c),this._applyIntegrationsMetadata(c);var u=n;r&&r.captureContext&&(u=yI.Scope.clone(u).update(r.captureContext));var p=A.SyncPromise.resolve(c);return u&&(p=u.applyToEvent(c,r)),p.then(function(l){return typeof o=="number"&&o>0?i._normalizeEvent(l,o):l})},t.prototype._normalizeEvent=function(e,n){if(!e)return null;var r=je.__assign(je.__assign(je.__assign(je.__assign(je.__assign({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(i){return je.__assign(je.__assign({},i),i.data&&{data:A.normalize(i.data,n)})})}),e.user&&{user:A.normalize(e.user,n)}),e.contexts&&{contexts:A.normalize(e.contexts,n)}),e.extra&&{extra:A.normalize(e.extra,n)});return e.contexts&&e.contexts.trace&&(r.contexts.trace=e.contexts.trace),r},t.prototype._applyClientOptions=function(e){var n=this.getOptions(),r=n.environment,i=n.release,s=n.dist,o=n.maxValueLength,c=o===void 0?250:o;"environment"in e||(e.environment="environment"in n?r:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=A.truncate(e.message,c));var u=e.exception&&e.exception.values&&e.exception.values[0];u&&u.value&&(u.value=A.truncate(u.value,c));var p=e.request;p&&p.url&&(p.url=A.truncate(p.url,c))},t.prototype._applyIntegrationsMetadata=function(e){var n=Object.keys(this._integrations);n.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=je.__spread(e.sdk.integrations||[],n))},t.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},t.prototype._captureEvent=function(e,n,r){return this._processEvent(e,n,r).then(function(i){return i.event_id},function(i){A.logger.error(i)})},t.prototype._processEvent=function(e,n,r){var i=this,s=this.getOptions(),o=s.beforeSend,c=s.sampleRate;if(!this._isEnabled())return A.SyncPromise.reject(new A.SentryError("SDK not enabled, will not capture event."));var u=e.type==="transaction";return!u&&typeof c=="number"&&Math.random()>c?A.SyncPromise.reject(new A.SentryError("Discarding event because it's not included in the random sample (sampling rate = "+c+")")):this._prepareEvent(e,r,n).then(function(p){if(p===null)throw new A.SentryError("An event processor returned null, will not send event.");var l=n&&n.data&&n.data.__sentry__===!0;if(l||u||!o)return p;var d=o(p,n);return i._ensureBeforeSendRv(d)}).then(function(p){if(p===null)throw new A.SentryError("`beforeSend` returned `null`, will not send event.");var l=r&&r.getSession&&r.getSession();return!u&&l&&i._updateSessionFromEvent(l,p),i._sendEvent(p),p}).then(null,function(p){throw p instanceof A.SentryError?p:(i.captureException(p,{data:{__sentry__:!0},originalException:p}),new A.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+p))})},t.prototype._process=function(e){var n=this;this._processing+=1,e.then(function(r){return n._processing-=1,r},function(r){return n._processing-=1,r})},t.prototype._ensureBeforeSendRv=function(e){var n="`beforeSend` method has to return `null` or a valid event.";if(A.isThenable(e))return e.then(function(r){if(!(A.isPlainObject(r)||r===null))throw new A.SentryError(n);return r},function(r){throw new A.SentryError("beforeSend rejected with "+r)});if(!(A.isPlainObject(e)||e===null))throw new A.SentryError(n);return e},t}();Ou.BaseClient=bI});var qu=m(ku=>{Object.defineProperty(ku,"__esModule",{value:!0});var xI=ye(),Jv=q(),SI=function(){function t(){}return a(t,"NoopTransport"),t.prototype.sendEvent=function(e){return Jv.SyncPromise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:xI.Status.Skipped})},t.prototype.close=function(e){return Jv.SyncPromise.resolve(!0)},t}();ku.NoopTransport=SI});var Wv=m(Cu=>{Object.defineProperty(Cu,"__esModule",{value:!0});var _r=q(),EI=qu(),wI=function(){function t(e){this._options=e,this._options.dsn||_r.logger.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return a(t,"BaseBackend"),t.prototype.eventFromException=function(e,n){throw new _r.SentryError("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(e,n,r){throw new _r.SentryError("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(n){_r.logger.error("Error while sending event: "+n)})},t.prototype.sendSession=function(e){if(!this._transport.sendSession){_r.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(n){_r.logger.error("Error while sending session: "+n)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new EI.NoopTransport},t}();Cu.BaseBackend=wI});var Gv=m(da=>{Object.defineProperty(da,"__esModule",{value:!0});var Bn=C();function zv(t){if(!(!t.metadata||!t.metadata.sdk)){var e=t.metadata.sdk,n=e.name,r=e.version;return{name:n,version:r}}}a(zv,"getSdkMetadataForEnvelopeHeader");function TI(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=Bn.__spread(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=Bn.__spread(t.sdk.packages||[],e.packages||[])),t}a(TI,"enhanceEventWithSdkInfo");function OI(t,e){var n=zv(e),r=JSON.stringify(Bn.__assign(Bn.__assign({sent_at:new Date().toISOString()},n&&{sdk:n}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),i="aggregates"in t?"sessions":"session",s=JSON.stringify({type:i});return{body:r+`
`+s+`
`+JSON.stringify(t),type:i,url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}a(OI,"sessionToSentryRequest");da.sessionToSentryRequest=OI;function kI(t,e){var n=zv(e),r=t.type||"event",i=r==="transaction"||e.forceEnvelope(),s=t.debug_meta||{},o=s.transactionSampling,c=Bn.__rest(s,["transactionSampling"]),u=o||{},p=u.method,l=u.rate;Object.keys(c).length===0?delete t.debug_meta:t.debug_meta=c;var d={body:JSON.stringify(n?TI(t,e.metadata.sdk):t),type:r,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var f=JSON.stringify(Bn.__assign(Bn.__assign({event_id:t.event_id,sent_at:new Date().toISOString()},n&&{sdk:n}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),h=JSON.stringify({type:r,sample_rates:[{id:p,rate:l}]}),v=f+`
`+h+`
`+d.body;d.body=v}return d}a(kI,"eventToSentryRequest");da.eventToSentryRequest=kI});var Yv=m(Iu=>{Object.defineProperty(Iu,"__esModule",{value:!0});var qI=Ae(),CI=q();function II(t,e){var n;e.debug===!0&&CI.logger.enable();var r=qI.getCurrentHub();(n=r.getScope())===null||n===void 0||n.update(e.initialScope);var i=new t(e);r.bindClient(i)}a(II,"initAndBind");Iu.initAndBind=II});var Vv=m(Pu=>{Object.defineProperty(Pu,"__esModule",{value:!0});Pu.SDK_VERSION="6.8.0"});var Zv=m(Ru=>{Object.defineProperty(Ru,"__esModule",{value:!0});var Xv,PI=function(){function t(){this.name=t.id}return a(t,"FunctionToString"),t.prototype.setupOnce=function(){Xv=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.__sentry_original__||this;return Xv.apply(r,e)}},t.id="FunctionToString",t}();Ru.FunctionToString=PI});var eg=m(ju=>{Object.defineProperty(ju,"__esModule",{value:!0});var Au=C(),Qv=Ae(),be=q(),RI=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],AI=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id}return a(t,"InboundFilters"),t.prototype.setupOnce=function(){Qv.addGlobalEventProcessor(function(e){var n=Qv.getCurrentHub();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),s=i?i.getOptions():{},o=typeof r._mergeOptions=="function"?r._mergeOptions(s):{};return typeof r._shouldDropEvent!="function"?e:r._shouldDropEvent(e,o)?null:e}return e})},t.prototype._shouldDropEvent=function(e,n){return this._isSentryError(e,n)?(be.logger.warn(`Event dropped due to being internal Sentry Error.
Event: `+be.getEventDescription(e)),!0):this._isIgnoredError(e,n)?(be.logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+be.getEventDescription(e)),!0):this._isDeniedUrl(e,n)?(be.logger.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+be.getEventDescription(e)+`.
Url: `+this._getEventFilterUrl(e)),!0):this._isAllowedUrl(e,n)?!1:(be.logger.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+be.getEventDescription(e)+`.
Url: `+this._getEventFilterUrl(e)),!0)},t.prototype._isSentryError=function(e,n){if(!n.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].type==="SentryError"||!1}catch(r){return!1}},t.prototype._isIgnoredError=function(e,n){return!n.ignoreErrors||!n.ignoreErrors.length?!1:this._getPossibleEventMessages(e).some(function(r){return n.ignoreErrors.some(function(i){return be.isMatchingPattern(r,i)})})},t.prototype._isDeniedUrl=function(e,n){if(!n.denyUrls||!n.denyUrls.length)return!1;var r=this._getEventFilterUrl(e);return r?n.denyUrls.some(function(i){return be.isMatchingPattern(r,i)}):!1},t.prototype._isAllowedUrl=function(e,n){if(!n.allowUrls||!n.allowUrls.length)return!0;var r=this._getEventFilterUrl(e);return r?n.allowUrls.some(function(i){return be.isMatchingPattern(r,i)}):!0},t.prototype._mergeOptions=function(e){return e===void 0&&(e={}),{allowUrls:Au.__spread(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:Au.__spread(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:Au.__spread(this._options.ignoreErrors||[],e.ignoreErrors||[],RI),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},t.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var n=e.exception.values&&e.exception.values[0]||{},r=n.type,i=r===void 0?"":r,s=n.value,o=s===void 0?"":s;return[""+o,i+": "+o]}catch(c){return be.logger.error("Cannot extract message for event "+be.getEventDescription(e)),[]}return[]},t.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var n=e.stacktrace.frames;return n&&n[n.length-1].filename||null}if(e.exception){var r=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return r&&r[r.length-1].filename||null}return null}catch(i){return be.logger.error("Cannot extract url for event "+be.getEventDescription(e)),null}},t.id="InboundFilters",t}();ju.InboundFilters=AI});var tg=m(fa=>{Object.defineProperty(fa,"__esModule",{value:!0});var jI=Zv();fa.FunctionToString=jI.FunctionToString;var NI=eg();fa.InboundFilters=NI.InboundFilters});var ue=m(j=>{Object.defineProperty(j,"__esModule",{value:!0});var Ne=jv();j.addBreadcrumb=Ne.addBreadcrumb;j.captureException=Ne.captureException;j.captureEvent=Ne.captureEvent;j.captureMessage=Ne.captureMessage;j.configureScope=Ne.configureScope;j.startTransaction=Ne.startTransaction;j.setContext=Ne.setContext;j.setExtra=Ne.setExtra;j.setExtras=Ne.setExtras;j.setTag=Ne.setTag;j.setTags=Ne.setTags;j.setUser=Ne.setUser;j.withScope=Ne.withScope;var br=Ae();j.addGlobalEventProcessor=br.addGlobalEventProcessor;j.getCurrentHub=br.getCurrentHub;j.getHubFromCarrier=br.getHubFromCarrier;j.Hub=br.Hub;j.makeMain=br.makeMain;j.Scope=br.Scope;var MI=Bv();j.API=MI.API;var BI=$v();j.BaseClient=BI.BaseClient;var DI=Wv();j.BaseBackend=DI.BaseBackend;var ng=Gv();j.eventToSentryRequest=ng.eventToSentryRequest;j.sessionToSentryRequest=ng.sessionToSentryRequest;var KI=Yv();j.initAndBind=KI.initAndBind;var FI=qu();j.NoopTransport=FI.NoopTransport;var LI=Vv();j.SDK_VERSION=LI.SDK_VERSION;var HI=tg();j.Integrations=HI});var rg=m(ma=>{(function(t,e){let n=typeof ma=="object"?ma:typeof t=="object"?t:{};e(n),typeof define=="function"&&define.amd&&define("lru",n)})(ma,function(t){let e=Symbol("newer"),n=Symbol("older");function r(u,p){typeof u!="number"&&(p=u,u=0),this.size=0,this.limit=u,this.oldest=this.newest=void 0,this._keymap=new Map,p&&(this.assign(p),u<1&&(this.limit=this.size))}a(r,"LRUMap"),t.LRUMap=r;function i(u,p){this.key=u,this.value=p,this[e]=void 0,this[n]=void 0}a(i,"Entry"),r.prototype._markEntryAsUsed=function(u){u!==this.newest&&(u[e]&&(u===this.oldest&&(this.oldest=u[e]),u[e][n]=u[n]),u[n]&&(u[n][e]=u[e]),u[e]=void 0,u[n]=this.newest,this.newest&&(this.newest[e]=u),this.newest=u)},r.prototype.assign=function(u){let p,l=this.limit||Number.MAX_VALUE;this._keymap.clear();let d=u[Symbol.iterator]();for(let f=d.next();!f.done;f=d.next()){let h=new i(f.value[0],f.value[1]);if(this._keymap.set(h.key,h),p?(p[e]=h,h[n]=p):this.oldest=h,p=h,l--==0)throw new Error("overflow")}this.newest=p,this.size=this._keymap.size},r.prototype.get=function(u){var p=this._keymap.get(u);if(!!p)return this._markEntryAsUsed(p),p.value},r.prototype.set=function(u,p){var l=this._keymap.get(u);return l?(l.value=p,this._markEntryAsUsed(l),this):(this._keymap.set(u,l=new i(u,p)),this.newest?(this.newest[e]=l,l[n]=this.newest):this.oldest=l,this.newest=l,++this.size,this.size>this.limit&&this.shift(),this)},r.prototype.shift=function(){var u=this.oldest;if(u)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[n]=void 0):(this.oldest=void 0,this.newest=void 0),u[e]=u[n]=void 0,this._keymap.delete(u.key),--this.size,[u.key,u.value]},r.prototype.find=function(u){let p=this._keymap.get(u);return p?p.value:void 0},r.prototype.has=function(u){return this._keymap.has(u)},r.prototype.delete=function(u){var p=this._keymap.get(u);if(!!p)return this._keymap.delete(p.key),p[e]&&p[n]?(p[n][e]=p[e],p[e][n]=p[n]):p[e]?(p[e][n]=void 0,this.oldest=p[e]):p[n]?(p[n][e]=void 0,this.newest=p[n]):this.oldest=this.newest=void 0,this.size--,p.value},r.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()};function s(u){this.entry=u}a(s,"EntryIterator"),s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let u=this.entry;return u?(this.entry=u[e],{done:!1,value:[u.key,u.value]}):{done:!0,value:void 0}};function o(u){this.entry=u}a(o,"KeyIterator"),o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let u=this.entry;return u?(this.entry=u[e],{done:!1,value:u.key}):{done:!0,value:void 0}};function c(u){this.entry=u}a(c,"ValueIterator"),c.prototype[Symbol.iterator]=function(){return this},c.prototype.next=function(){let u=this.entry;return u?(this.entry=u[e],{done:!1,value:u.value}):{done:!0,value:void 0}},r.prototype.keys=function(){return new o(this.oldest)},r.prototype.values=function(){return new c(this.oldest)},r.prototype.entries=function(){return this},r.prototype[Symbol.iterator]=function(){return new s(this.oldest)},r.prototype.forEach=function(u,p){typeof p!="object"&&(p=this);let l=this.oldest;for(;l;)u.call(p,l.value,l.key,this),l=l[e]},r.prototype.toJSON=function(){for(var u=new Array(this.size),p=0,l=this.oldest;l;)u[p++]={key:l.key,value:l.value},l=l[e];return u},r.prototype.toString=function(){for(var u="",p=this.oldest;p;)u+=String(p.key)+":"+p.value,p=p[e],p&&(u+=" < ");return u}})});var ig=m(Nu=>{Object.defineProperty(Nu,"__esModule",{value:!0});function UI(t){if(!t.stack)return[];var e=t.stack.split(`
`).slice(1);return e.map(function(n){if(n.match(/^\s*[-]{4,}$/))return{columnNumber:null,fileName:n,functionName:null,lineNumber:null,methodName:null,native:null,typeName:null};var r=n.match(/at (?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!!r){var i=null,s=null,o=null,c=null,u=null,p=r[5]==="native";if(r[1]){o=r[1];var l=o.lastIndexOf(".");if(o[l-1]==="."&&l--,l>0){i=o.substr(0,l),s=o.substr(l+1);var d=i.indexOf(".Module");d>0&&(o=o.substr(d+1),i=i.substr(0,d))}c=null}s&&(c=i,u=s),s==="<anonymous>"&&(u=null,o=null);var f={columnNumber:parseInt(r[4],10)||null,fileName:r[2]||null,functionName:o,lineNumber:parseInt(r[3],10)||null,methodName:u,native:p,typeName:c};return f}}).filter(function(n){return!!n})}a(UI,"parse");Nu.parse=UI});var Bu=m(an=>{Object.defineProperty(an,"__esModule",{value:!0});var st=q(),$I=require("fs"),JI=rg(),WI=ig(),zI=7,Mu=new JI.LRUMap(100);function GI(){Mu.clear()}a(GI,"resetFileContentCache");an.resetFileContentCache=GI;function YI(t){try{return t.functionName||t.typeName+"."+(t.methodName||"<anonymous>")}catch(e){return"<anonymous>"}}a(YI,"getFunction");var VI=(require.main&&require.main.filename&&st.dirname(require.main.filename)||global.process.cwd())+"/";function XI(t,e){e||(e=VI);var n=st.basename(t,".js");t=st.dirname(t);var r=t.lastIndexOf("/node_modules/");if(r>-1)return t.substr(r+14).replace(/\//g,".")+":"+n;if(r=(t+"/").lastIndexOf(e,0),r===0){var i=t.substr(e.length).replace(/\//g,".");return i&&(i+=":"),i+=n,i}return n}a(XI,"getModule");function ZI(t){return t.length===0?st.SyncPromise.resolve({}):new st.SyncPromise(function(e){for(var n={},r=0,i=a(function(o){var c=t[o],u=Mu.get(c);if(u!==void 0)return u!==null&&(n[c]=u),r++,r===t.length&&e(n),"continue";$I.readFile(c,function(p,l){var d=p?null:l.toString();n[c]=d,Mu.set(c,d),r++,r===t.length&&e(n)})},"_loop_1"),s=0;s<t.length;s++)i(s)})}a(ZI,"readSourceFiles");function sg(t){var e=WI.parse(t);return e||[]}a(sg,"extractStackFromError");an.extractStackFromError=sg;function ag(t,e){var n=[],r=e&&e.frameContextLines!==void 0?e.frameContextLines:zI,i=t.map(function(s){var o,c={colno:s.columnNumber,filename:((o=s.fileName)===null||o===void 0?void 0:o.startsWith("file://"))?s.fileName.substr(7):s.fileName||"",function:YI(s),lineno:s.lineNumber},u=s.native||c.filename&&!c.filename.startsWith("/")&&!c.filename.startsWith(".")&&c.filename.indexOf(":\\")!==1;return c.in_app=!u&&c.filename!==void 0&&c.filename.indexOf("node_modules/")===-1,c.filename&&(c.module=XI(c.filename),!u&&r>0&&n.indexOf(c.filename)===-1&&n.push(c.filename)),c});if(r<=0)return st.SyncPromise.resolve(i);try{return QI(n,i,r)}catch(s){return st.SyncPromise.resolve(i)}}a(ag,"parseStack");an.parseStack=ag;function QI(t,e,n){return new st.SyncPromise(function(r){return ZI(t).then(function(i){var s=e.map(function(o){if(o.filename&&i[o.filename])try{var c=i[o.filename].split(`
`);st.addContextToFrame(c,o,n)}catch(u){}return o});r(s)})})}a(QI,"addPrePostContext");function og(t,e){var n=t.name||t.constructor.name,r=sg(t);return new st.SyncPromise(function(i){return ag(r,e).then(function(s){var o={stacktrace:{frames:cg(s)},type:n,value:t.message};i(o)})})}a(og,"getExceptionFromError");an.getExceptionFromError=og;function eP(t,e){return new st.SyncPromise(function(n){return og(t,e).then(function(r){n({exception:{values:[r]}})})})}a(eP,"parseError");an.parseError=eP;function cg(t){if(!t||!t.length)return[];var e=t,n=e[0].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(e=e.slice(1)),e.reverse()}a(cg,"prepareFramesForEvent");an.prepareFramesForEvent=cg});var Ku=m(Du=>{Object.defineProperty(Du,"__esModule",{value:!0});Du.SDK_NAME="sentry.javascript.node"});var ha=m(Lu=>{Object.defineProperty(Lu,"__esModule",{value:!0});var Nt=C(),ug=ue(),pg=ye(),on=q(),tP=require("fs"),nP=require("url"),rP=Ku(),Fu={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},iP=function(){function t(e){this.options=e,this._buffer=new on.PromiseBuffer(30),this._rateLimits={},this.urlParser=function(n){return new nP.URL(n)},this._api=new ug.API(e.dsn,e._metadata,e.tunnel)}return a(t,"BaseTransport"),t.prototype.sendEvent=function(e){throw new on.SentryError("Transport Class has to implement `sendEvent` method.")},t.prototype.close=function(e){return this._buffer.drain(e)},t.prototype._getProxy=function(e){var n,r,i=process.env,s=i.no_proxy,o=i.http_proxy,c=i.https_proxy,u=this.options,p=u.httpProxy,l=u.httpsProxy,d=e==="http"?p||o:l||p||c||o;if(!s)return d;var f=this._api.getDsn(),h=f.host,v=f.port;try{for(var g=Nt.__values(s.split(",")),y=g.next();!y.done;y=g.next()){var _=y.value;if(h.endsWith(_)||(h+":"+v).endsWith(_))return}}catch(x){n={error:x}}finally{try{y&&!y.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}return d},t.prototype._getRequestOptions=function(e){var n=Nt.__assign(Nt.__assign({},this._api.getRequestHeaders(rP.SDK_NAME,ug.SDK_VERSION)),this.options.headers),r=e.hostname,i=e.pathname,s=e.port,o=e.protocol,c=""+i;return Nt.__assign({agent:this.client,headers:n,hostname:r,method:"POST",path:c,port:s,protocol:o},this.options.caCerts&&{ca:tP.readFileSync(this.options.caCerts)})},t.prototype._disabledUntil=function(e){var n=Fu[e];return this._rateLimits[n]||this._rateLimits.all},t.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},t.prototype._handleRateLimit=function(e){var n,r,i,s,o=Date.now(),c=e["x-sentry-rate-limits"],u=e["retry-after"];if(c){try{for(var p=Nt.__values(c.trim().split(",")),l=p.next();!l.done;l=p.next()){var d=l.value,f=d.split(":",2),h=parseInt(f[0],10),v=(isNaN(h)?60:h)*1e3;try{for(var g=(i=void 0,Nt.__values(f[1]&&f[1].split(";")||["all"])),y=g.next();!y.done;y=g.next()){var _=y.value,x=Nt.__spread(Object.keys(Fu).map(function(S){return Fu[S]}),["all"]);x.includes(_)&&(this._rateLimits[_]=new Date(o+v))}}catch(S){i={error:S}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}}}catch(S){n={error:S}}finally{try{l&&!l.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}return!0}else if(u)return this._rateLimits.all=new Date(o+on.parseRetryAfterHeader(o,u)),!0;return!1},t.prototype._send=function(e,n){return Nt.__awaiter(this,void 0,void 0,function(){var r=this;return Nt.__generator(this,function(i){if(!this.module)throw new on.SentryError("No module available");return n&&this._isRateLimited(e.type)?[2,Promise.reject({payload:n,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})]:this._buffer.isReady()?[2,this._buffer.add(function(){return new Promise(function(s,o){if(!r.module)throw new on.SentryError("No module available");var c=r._getRequestOptions(r.urlParser(e.url)),u=r.module.request(c,function(p){var l=p.statusCode||500,d=pg.Status.fromHttpCode(l);p.setEncoding("utf8");var f=p.headers?p.headers["retry-after"]:"";f=Array.isArray(f)?f[0]:f;var h=p.headers?p.headers["x-sentry-rate-limits"]:"";h=Array.isArray(h)?h[0]:h;var v={"x-sentry-rate-limits":h,"retry-after":f},g=r._handleRateLimit(v);if(g&&on.logger.warn("Too many "+e.type+" requests, backing off until: "+r._disabledUntil(e.type)),d===pg.Status.Success)s({status:d});else{var y="HTTP Error ("+l+")";p.headers&&p.headers["x-sentry-error"]&&(y+=": "+p.headers["x-sentry-error"]),o(new on.SentryError(y))}p.on("data",function(){}),p.on("end",function(){})});u.on("error",o),u.end(e.body)})})]:[2,Promise.reject(new on.SentryError("Not adding Promise due to buffer limit reached."))]})})},t}();Lu.BaseTransport=iP});var dg=m((FW,lg)=>{var xr=1e3,Sr=xr*60,Er=Sr*60,Dn=Er*24,sP=Dn*7,aP=Dn*365.25;lg.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return oP(t);if(n==="number"&&isFinite(t))return e.long?uP(t):cP(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function oP(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*aP;case"weeks":case"week":case"w":return n*sP;case"days":case"day":case"d":return n*Dn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Er;case"minutes":case"minute":case"mins":case"min":case"m":return n*Sr;case"seconds":case"second":case"secs":case"sec":case"s":return n*xr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}a(oP,"parse");function cP(t){var e=Math.abs(t);return e>=Dn?Math.round(t/Dn)+"d":e>=Er?Math.round(t/Er)+"h":e>=Sr?Math.round(t/Sr)+"m":e>=xr?Math.round(t/xr)+"s":t+"ms"}a(cP,"fmtShort");function uP(t){var e=Math.abs(t);return e>=Dn?va(t,e,Dn,"day"):e>=Er?va(t,e,Er,"hour"):e>=Sr?va(t,e,Sr,"minute"):e>=xr?va(t,e,xr,"second"):t+" ms"}a(uP,"fmtLong");function va(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}a(va,"plural")});var Hu=m((LW,fg)=>{function pP(t){n.debug=n,n.default=n,n.coerce=u,n.disable=s,n.enable=i,n.enabled=o,n.humanize=dg(),n.destroy=p,Object.keys(t).forEach(l=>{n[l]=t[l]}),n.names=[],n.skips=[],n.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}a(e,"selectColor"),n.selectColor=e;function n(l){let d,f=null;function h(...v){if(!h.enabled)return;let g=h,y=Number(new Date),_=y-(d||y);g.diff=_,g.prev=d,g.curr=y,d=y,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let x=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(E,w)=>{if(E==="%%")return"%";x++;let T=n.formatters[w];if(typeof T=="function"){let D=v[x];E=T.call(g,D),v.splice(x,1),x--}return E}),n.formatArgs.call(g,v),(g.log||n.log).apply(g,v)}return a(h,"debug"),h.namespace=l,h.useColors=n.useColors(),h.color=n.selectColor(l),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f===null?n.enabled(l):f,set:v=>{f=v}}),typeof n.init=="function"&&n.init(h),h}a(n,"createDebug");function r(l,d){let f=n(this.namespace+(typeof d=="undefined"?":":d)+l);return f.log=this.log,f}a(r,"extend");function i(l){n.save(l),n.names=[],n.skips=[];let d,f=(typeof l=="string"?l:"").split(/[\s,]+/),h=f.length;for(d=0;d<h;d++)!f[d]||(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?n.skips.push(new RegExp("^"+l.substr(1)+"$")):n.names.push(new RegExp("^"+l+"$")))}a(i,"enable");function s(){let l=[...n.names.map(c),...n.skips.map(c).map(d=>"-"+d)].join(",");return n.enable(""),l}a(s,"disable");function o(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(l))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(l))return!0;return!1}a(o,"enabled");function c(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}a(c,"toNamespace");function u(l){return l instanceof Error?l.stack||l.message:l}a(u,"coerce");function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a(p,"destroy"),n.enable(n.load()),n}a(pP,"setup");fg.exports=pP});var mg=m((Me,ga)=>{Me.formatArgs=dP;Me.save=fP;Me.load=mP;Me.useColors=lP;Me.storage=hP();Me.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Me.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function lP(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}a(lP,"useColors");function dP(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ga.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}a(dP,"formatArgs");Me.log=console.debug||console.log||(()=>{});function fP(t){try{t?Me.storage.setItem("debug",t):Me.storage.removeItem("debug")}catch(e){}}a(fP,"save");function mP(){let t;try{t=Me.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}a(mP,"load");function hP(){try{return localStorage}catch(t){}}a(hP,"localstorage");ga.exports=Hu()(Me);var{formatters:vP}=ga.exports;vP.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var vg=m((HW,hg)=>{"use strict";hg.exports=(t,e)=>{e=e||process.argv;let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1?!0:r<i)}});var yg=m((UW,gg)=>{"use strict";var gP=require("os"),at=vg(),fe=process.env,wr;at("no-color")||at("no-colors")||at("color=false")?wr=!1:(at("color")||at("colors")||at("color=true")||at("color=always"))&&(wr=!0);"FORCE_COLOR"in fe&&(wr=fe.FORCE_COLOR.length===0||parseInt(fe.FORCE_COLOR,10)!==0);function yP(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}a(yP,"translateLevel");function _P(t){if(wr===!1)return 0;if(at("color=16m")||at("color=full")||at("color=truecolor"))return 3;if(at("color=256"))return 2;if(t&&!t.isTTY&&wr!==!0)return 0;let e=wr?1:0;if(process.platform==="win32"){let n=gP.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in fe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in fe)||fe.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in fe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(fe.TEAMCITY_VERSION)?1:0;if(fe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in fe){let n=parseInt((fe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(fe.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(fe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(fe.TERM)||"COLORTERM"in fe?1:(fe.TERM==="dumb",e)}a(_P,"supportsColor");function Uu(t){let e=_P(t);return yP(e)}a(Uu,"getSupportLevel");gg.exports={supportsColor:Uu,stdout:Uu(process.stdout),stderr:Uu(process.stderr)}});var bg=m((pe,_a)=>{var bP=require("tty"),ya=require("util");pe.init=kP;pe.log=wP;pe.formatArgs=SP;pe.save=TP;pe.load=OP;pe.useColors=xP;pe.destroy=ya.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");pe.colors=[6,2,3,4,5,1];try{let t=yg();t&&(t.stderr||t).level>=2&&(pe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}pe.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function xP(){return"colors"in pe.inspectOpts?Boolean(pe.inspectOpts.colors):bP.isatty(process.stderr.fd)}a(xP,"useColors");function SP(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,i="[3"+(r<8?r:"8;5;"+r),s=`  ${i};1m${e} [0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+_a.exports.humanize(this.diff)+"[0m")}else t[0]=EP()+e+" "+t[0]}a(SP,"formatArgs");function EP(){return pe.inspectOpts.hideDate?"":new Date().toISOString()+" "}a(EP,"getDate");function wP(...t){return process.stderr.write(ya.format(...t)+`
`)}a(wP,"log");function TP(t){t?process.env.DEBUG=t:delete process.env.DEBUG}a(TP,"save");function OP(){return process.env.DEBUG}a(OP,"load");function kP(t){t.inspectOpts={};let e=Object.keys(pe.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=pe.inspectOpts[e[n]]}a(kP,"init");_a.exports=Hu()(pe);var{formatters:_g}=_a.exports;_g.o=function(t){return this.inspectOpts.colors=this.useColors,ya.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};_g.O=function(t){return this.inspectOpts.colors=this.useColors,ya.inspect(t,this.inspectOpts)}});var ba=m(($W,$u)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?$u.exports=mg():$u.exports=bg()});var xg=m(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});function qP(t){return function(e,n){return new Promise((r,i)=>{t.call(this,e,n,(s,o)=>{s?i(s):r(o)})})}}a(qP,"promisify");Ju.default=qP});var wg=m((zu,Eg)=>{"use strict";var Sg=zu&&zu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},CP=require("events"),IP=Sg(ba()),PP=Sg(xg()),ki=IP.default("agent-base");function RP(t){return Boolean(t)&&typeof t.addRequest=="function"}a(RP,"isAgent");function Wu(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}a(Wu,"isSecureEndpoint");function xa(t,e){return new xa.Agent(t,e)}a(xa,"createAgent");(function(t){class e extends CP.EventEmitter{constructor(r,i){super();let s=i;typeof r=="function"?this.callback=r:r&&(s=r),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:Wu()?443:80}set defaultPort(r){this.explicitDefaultPort=r}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:Wu()?"https:":"http:"}set protocol(r){this.explicitProtocol=r}callback(r,i,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(r,i){let s=Object.assign({},i);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=Wu()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,r._last=!0,r.shouldKeepAlive=!1;let o=!1,c=null,u=s.timeout||this.timeout,p=a(h=>{r._hadError||(r.emit("error",h),r._hadError=!0)},"onerror"),l=a(()=>{c=null,o=!0;let h=new Error(`A "socket" was not created for HTTP request before ${u}ms`);h.code="ETIMEOUT",p(h)},"ontimeout"),d=a(h=>{o||(c!==null&&(clearTimeout(c),c=null),p(h))},"callbackError"),f=a(h=>{if(o)return;if(c!=null&&(clearTimeout(c),c=null),RP(h)){ki("Callback returned another Agent instance %o",h.constructor.name),h.addRequest(r,s);return}if(h){h.once("free",()=>{this.freeSocket(h,s)}),r.onSocket(h);return}let v=new Error(`no Duplex stream was returned to agent-base for \`${r.method} ${r.path}\``);p(v)},"onsocket");if(typeof this.callback!="function"){p(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(ki("Converting legacy callback function to promise"),this.promisifiedCallback=PP.default(this.callback)):this.promisifiedCallback=this.callback),typeof u=="number"&&u>0&&(c=setTimeout(l,u)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{ki("Resolving socket for %o request: %o",s.protocol,`${r.method} ${r.path}`),Promise.resolve(this.promisifiedCallback(r,s)).then(f,d)}catch(h){Promise.reject(h).catch(d)}}freeSocket(r,i){ki("Freeing socket %o %o",r.constructor.name,i),r.destroy()}destroy(){ki("Destroying agent %o",this.constructor.name)}}a(e,"Agent"),t.Agent=e,t.prototype=t.Agent.prototype})(xa||(xa={}));Eg.exports=xa});var Tg=m(Ci=>{"use strict";var AP=Ci&&Ci.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});var jP=AP(ba()),qi=jP.default("https-proxy-agent:parse-proxy-response");function NP(t){return new Promise((e,n)=>{let r=0,i=[];function s(){let d=t.read();d?l(d):t.once("readable",s)}a(s,"read");function o(){t.removeListener("end",u),t.removeListener("error",p),t.removeListener("close",c),t.removeListener("readable",s)}a(o,"cleanup");function c(d){qi("onclose had error %o",d)}a(c,"onclose");function u(){qi("onend")}a(u,"onend");function p(d){o(),qi("onerror %o",d),n(d)}a(p,"onerror");function l(d){i.push(d),r+=d.length;let f=Buffer.concat(i,r);if(f.indexOf(`\r
\r
`)===-1){qi("have not received end of HTTP headers yet..."),s();return}let v=f.toString("ascii",0,f.indexOf(`\r
`)),g=+v.split(" ")[1];qi("got proxy server response: %o",v),e({statusCode:g,buffered:f})}a(l,"ondata"),t.on("error",p),t.on("close",c),t.on("end",u),s()})}a(NP,"parseProxyResponse");Ci.default=NP});var qg=m(Kn=>{"use strict";var MP=Kn&&Kn.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return a(i,"adopt"),new(n||(n=Promise))(function(s,o){function c(l){try{p(r.next(l))}catch(d){o(d)}}a(c,"fulfilled");function u(l){try{p(r.throw(l))}catch(d){o(d)}}a(u,"rejected");function p(l){l.done?s(l.value):i(l.value).then(c,u)}a(p,"step"),p((r=r.apply(t,e||[])).next())})},Tr=Kn&&Kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kn,"__esModule",{value:!0});var Og=Tr(require("net")),kg=Tr(require("tls")),BP=Tr(require("url")),DP=Tr(require("assert")),KP=Tr(ba()),FP=wg(),LP=Tr(Tg()),Ii=KP.default("https-proxy-agent:agent"),Gu=class extends FP.Agent{constructor(e){let n;if(typeof e=="string"?n=BP.default.parse(e):n=e,!n)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Ii("creating new HttpsProxyAgent instance: %o",n),super(n);let r=Object.assign({},n);this.secureProxy=n.secureProxy||$P(r.protocol),r.host=r.hostname||r.host,typeof r.port=="string"&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,n){return MP(this,void 0,void 0,function*(){let{proxy:r,secureProxy:i}=this,s;i?(Ii("Creating `tls.Socket`: %o",r),s=kg.default.connect(r)):(Ii("Creating `net.Socket`: %o",r),s=Og.default.connect(r));let o=Object.assign({},r.headers),u=`CONNECT ${`${n.host}:${n.port}`} HTTP/1.1\r
`;r.auth&&(o["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`);let{host:p,port:l,secureEndpoint:d}=n;UP(l,d)||(p+=`:${l}`),o.Host=p,o.Connection="close";for(let y of Object.keys(o))u+=`${y}: ${o[y]}\r
`;let f=LP.default(s);s.write(`${u}\r
`);let{statusCode:h,buffered:v}=yield f;if(h===200){if(e.once("socket",HP),n.secureEndpoint){let y=n.servername||n.host;if(!y)throw new Error('Could not determine "servername"');return Ii("Upgrading socket connection to TLS"),kg.default.connect(Object.assign(Object.assign({},JP(n,"host","hostname","path","port")),{socket:s,servername:y}))}return s}s.destroy();let g=new Og.default.Socket;return g.readable=!0,e.once("socket",y=>{Ii("replaying proxy buffer for failed request"),DP.default(y.listenerCount("data")>0),y.push(v),y.push(null)}),g})}};a(Gu,"HttpsProxyAgent");Kn.default=Gu;function HP(t){t.resume()}a(HP,"resume");function UP(t,e){return Boolean(!e&&t===80||e&&t===443)}a(UP,"isDefaultPort");function $P(t){return typeof t=="string"?/^https:?$/i.test(t):!1}a($P,"isHTTPS");function JP(t,...e){let n={},r;for(r in t)e.includes(r)||(n[r]=t[r]);return n}a(JP,"omit")});var Zu=m((Xu,Cg)=>{"use strict";var WP=Xu&&Xu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Yu=WP(qg());function Vu(t){return new Yu.default(t)}a(Vu,"createHttpsProxyAgent");(function(t){t.HttpsProxyAgent=Yu.default,t.prototype=Yu.default.prototype})(Vu||(Vu={}));Cg.exports=Vu});var Rg=m(Qu=>{Object.defineProperty(Qu,"__esModule",{value:!0});var zP=C(),Ig=ue(),Pg=require("http"),GP=ha(),YP=function(t){zP.__extends(e,t);function e(n){var r=t.call(this,n)||this;r.options=n;var i=r._getProxy("http");return r.module=Pg,r.client=i?new(Zu())(i):new Pg.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),r}return a(e,"HTTPTransport"),e.prototype.sendEvent=function(n){return this._send(Ig.eventToSentryRequest(n,this._api),n)},e.prototype.sendSession=function(n){return this._send(Ig.sessionToSentryRequest(n,this._api),n)},e}(GP.BaseTransport);Qu.HTTPTransport=YP});var Ng=m(ep=>{Object.defineProperty(ep,"__esModule",{value:!0});var VP=C(),Ag=ue(),jg=require("https"),XP=ha(),ZP=function(t){VP.__extends(e,t);function e(n){var r=t.call(this,n)||this;r.options=n;var i=r._getProxy("https");return r.module=jg,r.client=i?new(Zu())(i):new jg.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),r}return a(e,"HTTPSTransport"),e.prototype.sendEvent=function(n){return this._send(Ag.eventToSentryRequest(n,this._api),n)},e.prototype.sendSession=function(n){return this._send(Ag.sessionToSentryRequest(n,this._api),n)},e}(XP.BaseTransport);ep.HTTPSTransport=ZP});var tp=m(Pi=>{Object.defineProperty(Pi,"__esModule",{value:!0});var QP=ha();Pi.BaseTransport=QP.BaseTransport;var eR=Rg();Pi.HTTPTransport=eR.HTTPTransport;var tR=Ng();Pi.HTTPSTransport=tR.HTTPSTransport});var rp=m(np=>{Object.defineProperty(np,"__esModule",{value:!0});var cn=C(),Mg=ue(),nR=ye(),Mt=q(),Sa=Bu(),Bg=tp(),rR=function(t){cn.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return a(e,"NodeBackend"),e.prototype.eventFromException=function(n,r){var i=this,s=n,o=r&&r.data&&r.data.mechanism,c=o||{handled:!0,type:"generic"};if(!Mt.isError(n)){if(Mt.isPlainObject(n)){var u="Non-Error exception captured with keys: "+Mt.extractExceptionKeysForMessage(n);Mg.getCurrentHub().configureScope(function(p){p.setExtra("__serialized__",Mt.normalizeToSize(n))}),s=r&&r.syntheticException||new Error(u),s.message=u}else s=r&&r.syntheticException||new Error(n),s.message=n;c.synthetic=!0}return new Mt.SyncPromise(function(p,l){return Sa.parseError(s,i._options).then(function(d){Mt.addExceptionTypeValue(d,void 0,void 0),Mt.addExceptionMechanism(d,c),p(cn.__assign(cn.__assign({},d),{event_id:r&&r.event_id}))}).then(null,l)})},e.prototype.eventFromMessage=function(n,r,i){var s=this;r===void 0&&(r=nR.Severity.Info);var o={event_id:i&&i.event_id,level:r,message:n};return new Mt.SyncPromise(function(c){if(s._options.attachStacktrace&&i&&i.syntheticException){var u=i.syntheticException?Sa.extractStackFromError(i.syntheticException):[];Sa.parseStack(u,s._options).then(function(p){o.stacktrace={frames:Sa.prepareFramesForEvent(p)},c(o)}).then(null,function(){c(o)})}else c(o)})},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var n=new Mt.Dsn(this._options.dsn),r=cn.__assign(cn.__assign(cn.__assign(cn.__assign(cn.__assign({},this._options.transportOptions),this._options.httpProxy&&{httpProxy:this._options.httpProxy}),this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy}),this._options.caCerts&&{caCerts:this._options.caCerts}),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(r):n.protocol==="http"?new Bg.HTTPTransport(r):new Bg.HTTPSTransport(r)},e}(Mg.BaseBackend);np.NodeBackend=rR});var ap=m(sp=>{Object.defineProperty(sp,"__esModule",{value:!0});var iR=C(),ip=ue(),sR=Ae(),Ea=ye(),Dg=q(),aR=rp(),oR=function(t){iR.__extends(e,t);function e(n){var r=this;return n._metadata=n._metadata||{},n._metadata.sdk=n._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:ip.SDK_VERSION}],version:ip.SDK_VERSION},r=t.call(this,aR.NodeBackend,n)||this,r}return a(e,"NodeClient"),e.prototype.captureException=function(n,r,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=i.getRequestSession();s&&s.status===Ea.RequestSessionStatus.Ok&&(s.status=Ea.RequestSessionStatus.Errored)}return t.prototype.captureException.call(this,n,r,i)},e.prototype.captureEvent=function(n,r,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var s=n.type||"exception",o=s==="exception"&&n.exception&&n.exception.values&&n.exception.values.length>0;if(o){var c=i.getRequestSession();c&&c.status===Ea.RequestSessionStatus.Ok&&(c.status=Ea.RequestSessionStatus.Errored)}}return t.prototype.captureEvent.call(this,n,r,i)},e.prototype.close=function(n){var r;return(r=this._sessionFlusher)===null||r===void 0||r.close(),t.prototype.close.call(this,n)},e.prototype.initSessionFlusher=function(){var n=this._options,r=n.release,i=n.environment;r?this._sessionFlusher=new sR.SessionFlusher(this._backend.getTransport(),{release:r,environment:i}):Dg.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")},e.prototype._prepareEvent=function(n,r,i){return n.platform=n.platform||"node",this.getOptions().serverName&&(n.server_name=this.getOptions().serverName),t.prototype._prepareEvent.call(this,n,r,i)},e.prototype._captureRequestSession=function(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():Dg.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")},e}(ip.BaseClient);sp.NodeClient=oR});var Hg=m(op=>{Object.defineProperty(op,"__esModule",{value:!0});var Kg=C(),Fg=ue(),Ri=ye(),cR=q(),uR=require("util"),Lg=function(){function t(){this.name=t.id}return a(t,"Console"),t.prototype.setupOnce=function(){var e,n;try{for(var r=Kg.__values(["debug","info","warn","error","log"]),i=r.next();!i.done;i=r.next()){var s=i.value;cR.fill(console,s,pR(s))}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.id="Console",t}();op.Console=Lg;function pR(t){return a(function(n){var r;switch(t){case"debug":r=Ri.Severity.Debug;break;case"error":r=Ri.Severity.Error;break;case"info":r=Ri.Severity.Info;break;case"warn":r=Ri.Severity.Warning;break;default:r=Ri.Severity.Log}return function(){Fg.getCurrentHub().getIntegration(Lg)&&Fg.getCurrentHub().addBreadcrumb({category:"console",level:r,message:uR.format.apply(void 0,arguments)},{input:Kg.__spread(arguments),level:t}),n.apply(this,arguments)}},"consoleWrapper")}a(pR,"createConsoleWrapper")});var Jg=m(Fn=>{Object.defineProperty(Fn,"__esModule",{value:!0});var cp=C(),lR=ue(),Ug=require("url");function dR(t){var e,n=(e=lR.getCurrentHub().getClient())===null||e===void 0?void 0:e.getDsn();return n?t.includes(n.host):!1}a(dR,"isSentryRequest");Fn.isSentryRequest=dR;function $g(t){var e=t.protocol||"",n=t.hostname||t.host||"",r=!t.port||t.port===80||t.port===443?"":":"+t.port,i=t.path?t.path:"/";return e+"//"+n+r+i}a($g,"extractUrl");Fn.extractUrl=$g;function fR(t,e,n){var r,i,s;if(!t)return t;var o=cp.__read(t.split(" "),2),c=o[0],u=o[1];return e.host&&!e.protocol&&(e.protocol=(i=(r=n)===null||r===void 0?void 0:r.agent)===null||i===void 0?void 0:i.protocol,u=$g(e)),((s=u)===null||s===void 0?void 0:s.startsWith("///"))&&(u=u.slice(2)),c+" "+u}a(fR,"cleanSpanDescription");Fn.cleanSpanDescription=fR;function up(t){var e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:""+(t.pathname||"")+(t.search||""),href:t.href};return t.port!==""&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=t.username+":"+t.password),e}a(up,"urlToOptions");Fn.urlToOptions=up;function mR(t){var e,n;return typeof t[t.length-1]=="function"&&(e=t.pop()),typeof t[0]=="string"?n=up(new Ug.URL(t[0])):t[0]instanceof Ug.URL?n=up(t[0]):n=t[0],t.length===2&&(n=cp.__assign(cp.__assign({},n),t[1])),e?[n,e]:[n]}a(mR,"normalizeRequestArgs");Fn.normalizeRequestArgs=mR});var Vg=m(lp=>{Object.defineProperty(lp,"__esModule",{value:!0});var Wg=C(),pp=ue(),Or=q(),Ai=Jg(),zg=Or.parseSemver(process.versions.node),Gg=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._breadcrumbs=typeof e.breadcrumbs=="undefined"?!0:e.breadcrumbs,this._tracing=typeof e.tracing=="undefined"?!1:e.tracing}return a(t,"Http"),t.prototype.setupOnce=function(){if(!(!this._breadcrumbs&&!this._tracing)){var e=hR(this._breadcrumbs,this._tracing),n=require("http");if(Or.fill(n,"get",e),Or.fill(n,"request",e),zg.major&&zg.major>8){var r=require("https");Or.fill(r,"get",e),Or.fill(r,"request",e)}}},t.id="Http",t}();lp.Http=Gg;function hR(t,e){return a(function(r){return a(function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var c=this,u=Ai.normalizeRequestArgs(s),p=u[0],l=Ai.extractUrl(p);if(Ai.isSentryRequest(l))return r.apply(c,u);var d,f,h=pp.getCurrentHub().getScope();if(h&&e&&(f=h.getSpan(),f)){d=f.startChild({description:(p.method||"GET")+" "+l,op:"request"});var v=d.toTraceparent();Or.logger.log("[Tracing] Adding sentry-trace header "+v+" to outgoing request to "+l+": "),p.headers=Wg.__assign(Wg.__assign({},p.headers),{"sentry-trace":v})}return r.apply(c,u).once("response",function(g){var y=this;t&&Yg("response",l,y,g),e&&d&&(g.statusCode&&d.setHttpStatus(g.statusCode),d.description=Ai.cleanSpanDescription(d.description,p,y),d.finish())}).once("error",function(){var g=this;t&&Yg("error",l,g),e&&d&&(d.setHttpStatus(500),d.description=Ai.cleanSpanDescription(d.description,p,g),d.finish())})},"wrappedMethod")},"wrappedRequestMethodFactory")}a(hR,"_createWrappedRequestMethodFactory");function Yg(t,e,n,r){!pp.getCurrentHub().getIntegration(Gg)||pp.getCurrentHub().addBreadcrumb({category:"http",data:{method:n.method,status_code:r&&r.statusCode,url:e},type:"http"},{event:t,request:n,response:r})}a(Yg,"addRequestBreadcrumb")});var mp=m(fp=>{Object.defineProperty(fp,"__esModule",{value:!0});var vR=ue(),dp=q(),gR=2e3;function yR(t){console.error(t&&t.stack?t.stack:t);var e=vR.getCurrentHub().getClient();if(e===void 0){dp.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);return}var n=e.getOptions(),r=n&&n.shutdownTimeout&&n.shutdownTimeout>0&&n.shutdownTimeout||gR;dp.forget(e.close(r).then(function(i){i||dp.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}))}a(yR,"logAndExitProcess");fp.logAndExitProcess=yR});var Qg=m(hp=>{Object.defineProperty(hp,"__esModule",{value:!0});var Xg=ue(),_R=ye(),bR=q(),Zg=mp(),xR=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id,this.handler=this._makeErrorHandler()}return a(t,"OnUncaughtException"),t.prototype.setupOnce=function(){global.process.on("uncaughtException",this.handler.bind(this))},t.prototype._makeErrorHandler=function(){var e=this,n=2e3,r=!1,i=!1,s=!1,o;return function(c){var u=Zg.logAndExitProcess,p=Xg.getCurrentHub().getClient();if(e._options.onFatalError?u=e._options.onFatalError:p&&p.getOptions().onFatalError&&(u=p.getOptions().onFatalError),r)s?(bR.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),Zg.logAndExitProcess(c)):i||(i=!0,setTimeout(function(){s||(s=!0,u(o,c))},n));else{var l=Xg.getCurrentHub();o=c,r=!0,l.getIntegration(t)?l.withScope(function(d){d.setLevel(_R.Severity.Fatal),l.captureException(c,{originalException:c,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),s||(s=!0,u(c))}):s||(s=!0,u(c))}}},t.id="OnUncaughtException",t}();hp.OnUncaughtException=xR});var ty=m(vp=>{Object.defineProperty(vp,"__esModule",{value:!0});var SR=ue(),ey=q(),ER=mp(),wR=function(){function t(e){e===void 0&&(e={mode:"warn"}),this._options=e,this.name=t.id}return a(t,"OnUnhandledRejection"),t.prototype.setupOnce=function(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))},t.prototype.sendUnhandledPromise=function(e,n){var r=SR.getCurrentHub();if(!r.getIntegration(t)){this._handleRejection(e);return}var i=n.domain&&n.domain.sentryContext||{};r.withScope(function(s){s.setExtra("unhandledPromiseRejection",!0),i.user&&s.setUser(i.user),i.tags&&s.setTags(i.tags),i.extra&&s.setExtras(i.extra),r.captureException(e,{originalException:n,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})}),this._handleRejection(e)},t.prototype._handleRejection=function(e){var n="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";this._options.mode==="warn"?ey.consoleSandbox(function(){console.warn(n),console.error(e&&e.stack?e.stack:e)}):this._options.mode==="strict"&&(ey.consoleSandbox(function(){console.warn(n)}),ER.logAndExitProcess(e))},t.id="OnUnhandledRejection",t}();vp.OnUnhandledRejection=wR});var iy=m(gp=>{Object.defineProperty(gp,"__esModule",{value:!0});var ny=C(),ry=ue(),kr=q(),TR=Bu(),OR="cause",kR=5,qR=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._key=e.key||OR,this._limit=e.limit||kR}return a(t,"LinkedErrors"),t.prototype.setupOnce=function(){ry.addGlobalEventProcessor(function(e,n){var r=ry.getCurrentHub().getIntegration(t);if(r){var i=r._handler&&r._handler.bind(r);return typeof i=="function"?i(e,n):e}return e})},t.prototype._handler=function(e,n){var r=this;return!e.exception||!e.exception.values||!n||!kr.isInstanceOf(n.originalException,Error)?kr.SyncPromise.resolve(e):new kr.SyncPromise(function(i){r._walkErrorTree(n.originalException,r._key).then(function(s){e&&e.exception&&e.exception.values&&(e.exception.values=ny.__spread(s,e.exception.values)),i(e)}).then(null,function(){i(e)})})},t.prototype._walkErrorTree=function(e,n,r){var i=this;return r===void 0&&(r=[]),!kr.isInstanceOf(e[n],Error)||r.length+1>=this._limit?kr.SyncPromise.resolve(r):new kr.SyncPromise(function(s,o){TR.getExceptionFromError(e[n]).then(function(c){i._walkErrorTree(e[n],n,ny.__spread([c],r)).then(s).then(null,function(){o()})}).then(null,function(){o()})})},t.id="LinkedErrors",t}();gp.LinkedErrors=qR});var cy=m(_p=>{Object.defineProperty(_p,"__esModule",{value:!0});var sy=C(),ay=require("fs"),oy=require("path"),yp;function CR(){try{return require.cache?Object.keys(require.cache):[]}catch(t){return[]}}a(CR,"getPaths");function IR(){var t=require.main&&require.main.paths||[],e=CR(),n={},r={};return e.forEach(function(i){var s=i,o=a(function(){var c=s;if(s=oy.dirname(c),!(!s||c===s||r[c])){if(t.indexOf(s)<0)return o();var u=oy.join(c,"package.json");if(r[c]=!0,!ay.existsSync(u))return o();try{var p=JSON.parse(ay.readFileSync(u,"utf8"));n[p.name]=p.version}catch(l){}}},"updir");o()}),n}a(IR,"collectModules");var PR=function(){function t(){this.name=t.id}return a(t,"Modules"),t.prototype.setupOnce=function(e,n){var r=this;e(function(i){return n().getIntegration(t)?sy.__assign(sy.__assign({},i),{modules:r._getModules()}):i})},t.prototype._getModules=function(){return yp||(yp=IR()),yp},t.id="Modules",t}();_p.Modules=PR});var bp=m(un=>{Object.defineProperty(un,"__esModule",{value:!0});var RR=Hg();un.Console=RR.Console;var AR=Vg();un.Http=AR.Http;var jR=Qg();un.OnUncaughtException=jR.OnUncaughtException;var NR=ty();un.OnUnhandledRejection=NR.OnUnhandledRejection;var MR=iy();un.LinkedErrors=MR.LinkedErrors;var BR=cy();un.Modules=BR.Modules});var xp=m(vt=>{Object.defineProperty(vt,"__esModule",{value:!0});var ji=C(),pn=ue(),uy=Ae(),py=ye(),DR=q(),KR=require("domain"),FR=ap(),Ni=bp();vt.defaultIntegrations=[new pn.Integrations.InboundFilters,new pn.Integrations.FunctionToString,new Ni.Console,new Ni.Http,new Ni.OnUncaughtException,new Ni.OnUnhandledRejection,new Ni.LinkedErrors];function LR(t){t===void 0&&(t={});var e,n=uy.getMainCarrier(),r=((e=n.__SENTRY__)===null||e===void 0?void 0:e.integrations)||[];if(t.defaultIntegrations=t.defaultIntegrations===!1?[]:ji.__spread(Array.isArray(t.defaultIntegrations)?t.defaultIntegrations:vt.defaultIntegrations,r),t.dsn===void 0&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN),t.tracesSampleRate===void 0&&process.env.SENTRY_TRACES_SAMPLE_RATE){var i=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(i)&&(t.tracesSampleRate=i)}if(t.release===void 0){var s=ly();s!==void 0?t.release=s:t.autoSessionTracking=!1}t.autoSessionTracking===void 0&&(t.autoSessionTracking=!1),t.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),KR.active&&uy.setHubOnCarrier(n,pn.getCurrentHub()),pn.initAndBind(FR.NodeClient,t),t.autoSessionTracking&&WR()}a(LR,"init");vt.init=LR;function HR(){return pn.getCurrentHub().lastEventId()}a(HR,"lastEventId");vt.lastEventId=HR;function UR(t){return ji.__awaiter(this,void 0,void 0,function(){var e;return ji.__generator(this,function(n){return e=pn.getCurrentHub().getClient(),e?[2,e.flush(t)]:[2,Promise.reject(!1)]})})}a(UR,"flush");vt.flush=UR;function $R(t){return ji.__awaiter(this,void 0,void 0,function(){var e;return ji.__generator(this,function(n){return e=pn.getCurrentHub().getClient(),e?[2,e.close(t)]:[2,Promise.reject(!1)]})})}a($R,"close");vt.close=$R;function JR(t){if(t===void 0)return!1;var e=t&&t.getOptions();return e&&e.autoSessionTracking!==void 0?e.autoSessionTracking:!1}a(JR,"isAutoSessionTrackingEnabled");vt.isAutoSessionTrackingEnabled=JR;function ly(t){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;var e=DR.getGlobalObject();return e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id?e.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||t}a(ly,"getSentryRelease");vt.getSentryRelease=ly;function WR(){var t=pn.getCurrentHub();t.startSession(),process.on("beforeExit",function(){var e,n=(e=t.getScope())===null||e===void 0?void 0:e.getSession(),r=[py.SessionStatus.Exited,py.SessionStatus.Crashed];n&&!r.includes(n.status)&&t.endSession()})}a(WR,"startSessionTracking")});var fy=m(Ep=>{Object.defineProperty(Ep,"__esModule",{value:!0});var dy=C(),wa=require("fs"),Sp=require("path");function zR(t){var e=Sp.resolve(t);if(!wa.existsSync(e))throw new Error("Cannot read contents of "+e+". Directory does not exist.");if(!wa.statSync(e).isDirectory())throw new Error("Cannot read contents of "+e+", because it is not a directory.");var n=a(function(r){return wa.readdirSync(r).reduce(function(i,s){var o=Sp.join(r,s);return wa.statSync(o).isDirectory()?dy.__spread(i,n(o)):dy.__spread(i,[o])},[])},"deepReadCurrentDir");return n(e).map(function(r){return Sp.relative(e,r)})}a(zR,"deepReadDirSync");Ep.deepReadDirSync=zR});var ln=m(qr=>{Object.defineProperty(qr,"__esModule",{value:!0});var my;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(my=qr.SpanStatus||(qr.SpanStatus={}));(function(t){function e(n){if(n<400)return t.Ok;if(n>=400&&n<500)switch(n){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(n>=500&&n<600)switch(n){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}a(e,"fromHttpCode"),t.fromHttpCode=e})(my=qr.SpanStatus||(qr.SpanStatus={}))});var dn=m(gt=>{Object.defineProperty(gt,"__esModule",{value:!0});var hy=Ae();gt.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function GR(t){t===void 0&&(t=(e=hy.getCurrentHub().getClient())===null||e===void 0?void 0:e.getOptions());var e;return t?"tracesSampleRate"in t||"tracesSampler"in t:!1}a(GR,"hasTracingEnabled");gt.hasTracingEnabled=GR;function YR(t){var e=t.match(gt.TRACEPARENT_REGEXP);if(e){var n=void 0;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}a(YR,"extractTraceparentData");gt.extractTraceparentData=YR;function VR(t){t===void 0&&(t=hy.getCurrentHub());var e,n;return(n=(e=t)===null||e===void 0?void 0:e.getScope())===null||n===void 0?void 0:n.getTransaction()}a(VR,"getActiveTransaction");gt.getActiveTransaction=VR;function XR(t){return t/1e3}a(XR,"msToSec");gt.msToSec=XR;function ZR(t){return t*1e3}a(ZR,"secToMs");gt.secToMs=ZR;var QR=q();gt.stripUrlQueryAndFragment=QR.stripUrlQueryAndFragment});var yy=m(Tp=>{Object.defineProperty(Tp,"__esModule",{value:!0});var wp=q(),vy=ln(),eA=dn();function tA(){wp.addInstrumentationHandler({callback:gy,type:"error"}),wp.addInstrumentationHandler({callback:gy,type:"unhandledrejection"})}a(tA,"registerErrorInstrumentation");Tp.registerErrorInstrumentation=tA;function gy(){var t=eA.getActiveTransaction();t&&(wp.logger.log("[Tracing] Transaction: "+vy.SpanStatus.InternalError+" -> Global error occured"),t.setStatus(vy.SpanStatus.InternalError))}a(gy,"errorCallback")});var Oa=m(Ta=>{Object.defineProperty(Ta,"__esModule",{value:!0});var Cr=C(),Ln=q(),Op=ln(),nA=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return a(t,"SpanRecorder"),t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}();Ta.SpanRecorder=nA;var rA=function(){function t(e){if(this.traceId=Ln.uuid4(),this.spanId=Ln.uuid4().substring(16),this.startTimestamp=Ln.timestampWithMs(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return a(t,"Span"),t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var n=new t(Cr.__assign(Cr.__assign({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(e,n){var r;return this.tags=Cr.__assign(Cr.__assign({},this.tags),(r={},r[e]=n,r)),this},t.prototype.setData=function(e,n){var r;return this.data=Cr.__assign(Cr.__assign({},this.data),(r={},r[e]=n,r)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var n=Op.SpanStatus.fromHttpCode(e);return n!==Op.SpanStatus.UnknownError&&this.setStatus(n),this},t.prototype.isSuccess=function(){return this.status===Op.SpanStatus.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:Ln.timestampWithMs()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return Ln.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var n,r,i,s,o;return this.data=(n=e.data,n!=null?n:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(r=e.spanId,r!=null?r:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(o=e.traceId,o!=null?o:this.traceId),this},t.prototype.getTraceContext=function(){return Ln.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Ln.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();Ta.Span=rA});var ka=m(kp=>{Object.defineProperty(kp,"__esModule",{value:!0});var Ir=C(),_y=Ae(),Pr=q(),by=Oa(),iA=function(t){Ir.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i._measurements={},i._hub=_y.getCurrentHub(),Pr.isInstanceOf(r,_y.Hub)&&(i._hub=r),i.name=n.name||"",i.metadata=n.metadata||{},i._trimEnd=n.trimEnd,i.transaction=i,i}return a(e,"Transaction"),e.prototype.setName=function(n){this.name=n},e.prototype.initSpanRecorder=function(n){n===void 0&&(n=1e3),this.spanRecorder||(this.spanRecorder=new by.SpanRecorder(n)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(n){this._measurements=Ir.__assign({},n)},e.prototype.setMetadata=function(n){this.metadata=Ir.__assign(Ir.__assign({},this.metadata),n)},e.prototype.finish=function(n){var r=this;if(this.endTimestamp===void 0){if(this.name||(Pr.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,n),this.sampled!==!0){Pr.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(c){return c!==r&&c.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(c,u){return c.endTimestamp&&u.endTimestamp?c.endTimestamp>u.endTimestamp?c:u:c}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},o=Object.keys(this._measurements).length>0;return o&&(Pr.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),Pr.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},e.prototype.toContext=function(){var n=t.prototype.toContext.call(this);return Pr.dropUndefinedKeys(Ir.__assign(Ir.__assign({},n),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(n){var r;return t.prototype.updateWithContext.call(this,n),this.name=(r=n.name,r!=null?r:""),this._trimEnd=n.trimEnd,this},e}(by.Span);kp.Transaction=iA});var qa=m(Rr=>{Object.defineProperty(Rr,"__esModule",{value:!0});var qp=C(),me=q(),sA=Oa(),xy=ln(),aA=ka();Rr.DEFAULT_IDLE_TIMEOUT=1e3;var Sy=function(t){qp.__extends(e,t);function e(n,r,i,s){i===void 0&&(i="");var o=t.call(this,s)||this;return o._pushActivity=n,o._popActivity=r,o.transactionSpanId=i,o}return a(e,"IdleTransactionSpanRecorder"),e.prototype.add=function(n){var r=this;n.spanId!==this.transactionSpanId&&(n.finish=function(i){n.endTimestamp=typeof i=="number"?i:me.timestampWithMs(),r._popActivity(n.spanId)},n.endTimestamp===void 0&&this._pushActivity(n.spanId)),t.prototype.add.call(this,n)},e}(sA.SpanRecorder);Rr.IdleTransactionSpanRecorder=Sy;var oA=function(t){qp.__extends(e,t);function e(n,r,i,s){i===void 0&&(i=Rr.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var o=t.call(this,n,r)||this;return o._idleHub=r,o._idleTimeout=i,o._onScope=s,o.activities={},o._heartbeatTimer=0,o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],r&&s&&(Ey(r),me.logger.log("Setting idle transaction on scope. Span ID: "+o.spanId),r.configureScope(function(c){return c.setSpan(o)})),o._initTimeout=setTimeout(function(){o._finished||o.finish()},o._idleTimeout),o}return a(e,"IdleTransaction"),e.prototype.finish=function(n){var r,i,s=this;if(n===void 0&&(n=me.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){me.logger.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);try{for(var o=qp.__values(this._beforeFinishCallbacks),c=o.next();!c.done;c=o.next()){var u=c.value;u(this,n)}}catch(p){r={error:p}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(p){if(p.spanId===s.spanId)return!0;p.endTimestamp||(p.endTimestamp=n,p.setStatus(xy.SpanStatus.Cancelled),me.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(p,void 0,2)));var l=p.startTimestamp<n;return l||me.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(p,void 0,2)),l}),me.logger.log("[Tracing] flushing IdleTransaction")}else me.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&Ey(this._idleHub),t.prototype.finish.call(this,n)},e.prototype.registerBeforeFinishCallback=function(n){this._beforeFinishCallbacks.push(n)},e.prototype.initSpanRecorder=function(n){var r=this;if(!this.spanRecorder){var i=a(function(o){r._finished||r._pushActivity(o)},"pushActivity"),s=a(function(o){r._finished||r._popActivity(o)},"popActivity");this.spanRecorder=new Sy(i,s,this.spanId,n),me.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(n){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),me.logger.log("[Tracing] pushActivity: "+n),this.activities[n]=!0,me.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(n){var r=this;if(this.activities[n]&&(me.logger.log("[Tracing] popActivity "+n),delete this.activities[n],me.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=me.timestampWithMs()+i/1e3;setTimeout(function(){r._finished||r.finish(s)},i)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var n=Object.keys(this.activities),r=n.length?n.reduce(function(i,s){return i+s}):"";r===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=r,this._heartbeatCounter>=3?(me.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(xy.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var n=this;me.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){n._beat()},5e3)},e}(aA.Transaction);Rr.IdleTransaction=oA;function Ey(t){if(t){var e=t.getScope();if(e){var n=e.getTransaction();n&&e.setSpan(void 0)}}}a(Ey,"clearActiveTransaction")});var Ia=m((Mi,Bi)=>{Object.defineProperty(Mi,"__esModule",{value:!0});var Cp=C(),wy=Ae(),Ca=ye(),Je=q(),cA=yy(),uA=qa(),pA=ka(),lA=dn();function dA(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}a(dA,"traceHeaders");function Ty(t,e,n){if(!lA.hasTracingEnabled())return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:Ca.TransactionSamplingMethod.Explicit}}),t;var r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:Ca.TransactionSamplingMethod.Sampler,rate:Number(r)}})):n.parentSampled!==void 0?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:Ca.TransactionSamplingMethod.Inheritance}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:Ca.TransactionSamplingMethod.Rate,rate:Number(r)}})),fA(r)?r?(t.sampled=Math.random()<r,t.sampled?(Je.logger.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(Je.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(Je.logger.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(Je.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}a(Ty,"sample");function fA(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(Je.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(Je.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}a(fA,"isValidSampleRate");function mA(t,e){var n,r,i=((n=this.getClient())===null||n===void 0?void 0:n.getOptions())||{},s=new pA.Transaction(t,this);return s=Ty(s,i,Cp.__assign({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder((r=i._experiments)===null||r===void 0?void 0:r.maxSpans),s}a(mA,"_startTransaction");function hA(t,e,n,r,i){var s,o,c=((s=t.getClient())===null||s===void 0?void 0:s.getOptions())||{},u=new uA.IdleTransaction(e,t,n,r);return u=Ty(u,c,Cp.__assign({parentSampled:e.parentSampled,transactionContext:e},i)),u.sampled&&u.initSpanRecorder((o=c._experiments)===null||o===void 0?void 0:o.maxSpans),u}a(hA,"startIdleTransaction");Mi.startIdleTransaction=hA;function Oy(){var t=wy.getMainCarrier();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=mA),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=dA))}a(Oy,"_addTracingExtensions");Mi._addTracingExtensions=Oy;function vA(){var t=wy.getMainCarrier();if(!!t.__SENTRY__){var e={mongodb:function(){var r=Je.dynamicRequire(Bi,"./integrations/mongo");return new r.Mongo},mongoose:function(){var r=Je.dynamicRequire(Bi,"./integrations/mongo");return new r.Mongo({mongoose:!0})},mysql:function(){var r=Je.dynamicRequire(Bi,"./integrations/mysql");return new r.Mysql},pg:function(){var r=Je.dynamicRequire(Bi,"./integrations/postgres");return new r.Postgres}},n=Object.keys(e).filter(function(r){return!!Je.loadModule(r)}).map(function(r){try{return e[r]()}catch(i){return}}).filter(function(r){return r});n.length>0&&(t.__SENTRY__.integrations=Cp.__spread(t.__SENTRY__.integrations||[],n))}}a(vA,"_autoloadDatabaseIntegrations");function gA(){Oy(),Je.isNodeEnv()&&vA(),cA.registerErrorInstrumentation()}a(gA,"addExtensionMethods");Mi.addExtensionMethods=gA});var qy=m(Pp=>{Object.defineProperty(Pp,"__esModule",{value:!0});var Ip=q(),ky=ln(),yA=dn(),Pa=Ip.getGlobalObject();function _A(){Pa&&Pa.document?Pa.document.addEventListener("visibilitychange",function(){var t=yA.getActiveTransaction();Pa.document.hidden&&t&&(Ip.logger.log("[Tracing] Transaction: "+ky.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(ky.SpanStatus.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):Ip.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}a(_A,"registerBackgroundTabDetection");Pp.registerBackgroundTabDetection=_A});var Ra=m(Rp=>{Object.defineProperty(Rp,"__esModule",{value:!0});Rp.bindReporter=function(t,e,n,r){var i;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||document.visibilityState==="hidden")&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||i===void 0)&&(t(e),i=e.value))}}});var Cy=m(Ap=>{Object.defineProperty(Ap,"__esModule",{value:!0});Ap.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var Aa=m(jp=>{Object.defineProperty(jp,"__esModule",{value:!0});var bA=Cy();jp.initMetric=function(t,e){return e===void 0&&(e=-1),{name:t,value:e,delta:0,entries:[],id:bA.generateUniqueID(),isFinal:!1}}});var ja=m(Np=>{Object.defineProperty(Np,"__esModule",{value:!0});Np.observe=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(r){return r.getEntries().map(e)});return n.observe({type:t,buffered:!0}),n}}catch(r){}}});var Di=m(Mp=>{Object.defineProperty(Mp,"__esModule",{value:!0});var Iy=!1,Py=!1,xA=a(function(t){Iy=!t.persisted},"onPageHide"),SA=a(function(){addEventListener("pagehide",xA),addEventListener("beforeunload",function(){})},"addListeners");Mp.onHidden=function(t,e){e===void 0&&(e=!1),Py||(SA(),Py=!0),addEventListener("visibilitychange",function(n){var r=n.timeStamp;document.visibilityState==="hidden"&&t({timeStamp:r,isUnloading:Iy})},{capture:!0,once:e})}});var Ry=m(Bp=>{Object.defineProperty(Bp,"__esModule",{value:!0});var EA=Ra(),wA=Aa(),TA=ja(),OA=Di();Bp.getCLS=function(t,e){e===void 0&&(e=!1);var n=wA.initMetric("CLS",0),r,i=a(function(o){o.hadRecentInput||(n.value+=o.value,n.entries.push(o),r())},"entryHandler"),s=TA.observe("layout-shift",i);s&&(r=EA.bindReporter(t,n,s,e),OA.onHidden(function(o){var c=o.isUnloading;s.takeRecords().map(i),c&&(n.isFinal=!0),r()}))}});var Ma=m(Dp=>{Object.defineProperty(Dp,"__esModule",{value:!0});var kA=Di(),Na;Dp.getFirstHidden=function(){return Na===void 0&&(Na=document.visibilityState==="hidden"?0:Infinity,kA.onHidden(function(t){var e=t.timeStamp;return Na=e},!0)),{get timeStamp(){return Na}}}});var Ay=m(Kp=>{Object.defineProperty(Kp,"__esModule",{value:!0});var qA=Ra(),CA=Ma(),IA=Aa(),PA=ja(),RA=Di();Kp.getFID=function(t){var e=IA.initMetric("FID"),n=CA.getFirstHidden(),r=a(function(o){o.startTime<n.timeStamp&&(e.value=o.processingStart-o.startTime,e.entries.push(o),e.isFinal=!0,s())},"entryHandler"),i=PA.observe("first-input",r),s=qA.bindReporter(t,e,i);i?RA.onHidden(function(){i.takeRecords().map(r),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(o,c){c.timeStamp<n.timeStamp&&(e.value=o,e.isFinal=!0,e.entries=[{entryType:"first-input",name:c.type,target:c.target,cancelable:c.cancelable,startTime:c.timeStamp,processingStart:c.timeStamp+o}],s())})}});var jy=m(Lp=>{Object.defineProperty(Lp,"__esModule",{value:!0});var Fp;Lp.whenInput=function(){return Fp||(Fp=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),Fp}});var Ny=m(Hp=>{Object.defineProperty(Hp,"__esModule",{value:!0});var AA=Ra(),jA=Ma(),NA=Aa(),MA=ja(),BA=Di(),DA=jy();Hp.getLCP=function(t,e){e===void 0&&(e=!1);var n=NA.initMetric("LCP"),r=jA.getFirstHidden(),i,s=a(function(u){var p=u.startTime;p<r.timeStamp?(n.value=p,n.entries.push(u)):n.isFinal=!0,i()},"entryHandler"),o=MA.observe("largest-contentful-paint",s);if(o){i=AA.bindReporter(t,n,o,e);var c=a(function(){n.isFinal||(o.takeRecords().map(s),n.isFinal=!0,i())},"onFinal");DA.whenInput().then(c),BA.onHidden(c,!0)}}});var Dy=m(Ki=>{Object.defineProperty(Ki,"__esModule",{value:!0});var My=C(),Q=q(),ne=dn(),KA=Ry(),FA=Ay(),LA=Ny(),HA=Ma(),Bt=Q.getGlobalObject(),UA=function(){function t(){var e;this._measurements={},this._performanceCursor=0,!Q.isNodeEnv()&&((e=Bt)===null||e===void 0?void 0:e.performance)&&(Bt.performance.mark&&Bt.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return a(t,"MetricsInstrumentation"),t.prototype.addPerformanceEntries=function(e){var n=this;if(!(!Bt||!Bt.performance||!Bt.performance.getEntries||!Q.browserPerformanceTimeOrigin)){Q.logger.log("[Tracing] Adding & adjusting spans using Performance API");var r=ne.msToSec(Q.browserPerformanceTimeOrigin),i;if(Bt.document){for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].dataset.entry==="true"){i=document.scripts[s].src;break}}var o,c,u,p;if(Bt.performance.getEntries().slice(this._performanceCursor).forEach(function(d){var f=ne.msToSec(d.startTime),h=ne.msToSec(d.duration);if(!(e.op==="navigation"&&r+f<e.startTimestamp))switch(d.entryType){case"navigation":{$A(e,d,r),u=r+ne.msToSec(d.responseStart),p=r+ne.msToSec(d.requestStart);break}case"mark":case"paint":case"measure":{var v=JA(e,d,f,h,r);c===void 0&&d.name==="sentry-tracing-init"&&(c=v);var g=HA.getFirstHidden(),y=d.startTime<g.timeStamp;d.name==="first-paint"&&y&&(Q.logger.log("[Measurements] Adding FP"),n._measurements.fp={value:d.startTime},n._measurements["mark.fp"]={value:v}),d.name==="first-contentful-paint"&&y&&(Q.logger.log("[Measurements] Adding FCP"),n._measurements.fcp={value:d.startTime},n._measurements["mark.fcp"]={value:v});break}case"resource":{var _=d.name.replace(window.location.origin,""),x=By(e,d,_,f,h,r);o===void 0&&(i||"").indexOf(_)>-1&&(o=x);break}default:}}),o!==void 0&&c!==void 0&&mn(e,{description:"evaluation",endTimestamp:c,op:"script",startTimestamp:o}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var l=ne.msToSec(Q.browserPerformanceTimeOrigin);typeof u=="number"&&(Q.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(u-e.startTimestamp)*1e3},typeof p=="number"&&p<=u&&(this._measurements["ttfb.requestTime"]={value:(u-p)*1e3})),["fcp","fp","lcp"].forEach(function(d){if(!(!n._measurements[d]||l>=e.startTimestamp)){var f=n._measurements[d].value,h=l+ne.msToSec(f),v=Math.abs((h-e.startTimestamp)*1e3),g=v-f;Q.logger.log("[Measurements] Normalized "+d+" from "+f+" to "+v+" ("+g+")"),n._measurements[d].value=v}}),this._measurements["mark.fid"]&&this._measurements.fid&&mn(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+ne.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},t.prototype._tagMetricInfo=function(e){this._lcpEntry&&(Q.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",Q.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&(Q.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(n,r){return e.setTag("cls.source."+(r+1),Q.htmlTreeAsString(n.node))}))},t.prototype._trackCLS=function(){var e=this;KA.getCLS(function(n){var r=n.entries.pop();!r||(Q.logger.log("[Measurements] Adding CLS"),e._measurements.cls={value:n.value},e._clsEntry=r)})},t.prototype._trackNavigator=function(e){var n=Bt.navigator;if(!!n){var r=n.connection;r&&(r.effectiveType&&e.setTag("effectiveConnectionType",r.effectiveType),r.type&&e.setTag("connectionType",r.type),Ba(r.rtt)&&(this._measurements["connection.rtt"]={value:r.rtt}),Ba(r.downlink)&&(this._measurements["connection.downlink"]={value:r.downlink})),Ba(n.deviceMemory)&&e.setTag("deviceMemory",String(n.deviceMemory)),Ba(n.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(n.hardwareConcurrency))}},t.prototype._trackLCP=function(){var e=this;LA.getLCP(function(n){var r=n.entries.pop();if(!!r){var i=ne.msToSec(Q.browserPerformanceTimeOrigin),s=ne.msToSec(r.startTime);Q.logger.log("[Measurements] Adding LCP"),e._measurements.lcp={value:n.value},e._measurements["mark.lcp"]={value:i+s},e._lcpEntry=r}})},t.prototype._trackFID=function(){var e=this;FA.getFID(function(n){var r=n.entries.pop();if(!!r){var i=ne.msToSec(Q.browserPerformanceTimeOrigin),s=ne.msToSec(r.startTime);Q.logger.log("[Measurements] Adding FID"),e._measurements.fid={value:n.value},e._measurements["mark.fid"]={value:i+s}}})},t}();Ki.MetricsInstrumentation=UA;function $A(t,e,n){fn({transaction:t,entry:e,event:"unloadEvent",timeOrigin:n}),fn({transaction:t,entry:e,event:"redirect",timeOrigin:n}),fn({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:n}),fn({transaction:t,entry:e,event:"loadEvent",timeOrigin:n}),fn({transaction:t,entry:e,event:"connect",timeOrigin:n}),fn({transaction:t,entry:e,event:"secureConnection",timeOrigin:n,eventEnd:"connectEnd",description:"TLS/SSL"}),fn({transaction:t,entry:e,event:"fetch",timeOrigin:n,eventEnd:"domainLookupStart",description:"cache"}),fn({transaction:t,entry:e,event:"domainLookup",timeOrigin:n,description:"DNS"}),WA(t,e,n)}a($A,"addNavigationSpans");function JA(t,e,n,r,i){var s=i+n,o=s+r;return mn(t,{description:e.name,endTimestamp:o,op:e.entryType,startTimestamp:s}),s}a(JA,"addMeasureSpans");function By(t,e,n,r,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize);var c=s+r,u=c+i;return mn(t,{description:n,endTimestamp:u,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:c,data:o}),u}}a(By,"addResourceSpans");Ki.addResourceSpans=By;function fn(t){var e=t.transaction,n=t.entry,r=t.event,i=t.timeOrigin,s=t.eventEnd,o=t.description,c=s?n[s]:n[r+"End"],u=n[r+"Start"];!u||!c||mn(e,{op:"browser",description:o!=null?o:r,startTimestamp:i+ne.msToSec(u),endTimestamp:i+ne.msToSec(c)})}a(fn,"addPerformanceNavigationTiming");function WA(t,e,n){mn(t,{op:"browser",description:"request",startTimestamp:n+ne.msToSec(e.requestStart),endTimestamp:n+ne.msToSec(e.responseEnd)}),mn(t,{op:"browser",description:"response",startTimestamp:n+ne.msToSec(e.responseStart),endTimestamp:n+ne.msToSec(e.responseEnd)})}a(WA,"addRequest");function mn(t,e){var n=e.startTimestamp,r=My.__rest(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(My.__assign({startTimestamp:n},r))}a(mn,"_startChild");Ki._startChild=mn;function Ba(t){return typeof t=="number"&&isFinite(t)}a(Ba,"isMeasurementValue")});var Up=m(Kt=>{Object.defineProperty(Kt,"__esModule",{value:!0});var Dt=C(),Fi=q(),zA=ln(),Da=dn();Kt.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];Kt.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:Kt.DEFAULT_TRACING_ORIGINS};function GA(t){var e=Dt.__assign(Dt.__assign({},Kt.defaultRequestInstrumentationOptions),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,o={},c=a(function(l){if(o[l])return o[l];var d=i;return o[l]=d.some(function(f){return Fi.isMatchingPattern(l,f)})&&!Fi.isMatchingPattern(l,"sentry_key"),o[l]},"defaultShouldCreateSpan"),u=c;typeof s=="function"&&(u=a(function(l){return c(l)&&s(l)},"shouldCreateSpan"));var p={};n&&Fi.addInstrumentationHandler({callback:function(l){Ky(l,u,p)},type:"fetch"}),r&&Fi.addInstrumentationHandler({callback:function(l){Fy(l,u,p)},type:"xhr"})}a(GA,"instrumentOutgoingRequests");Kt.instrumentOutgoingRequests=GA;function Ky(t,e,n){if(!(!Da.hasTracingEnabled()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp&&t.fetchData.__span){var r=n[t.fetchData.__span];r&&(t.response?r.setHttpStatus(t.response.status):t.error&&r.setStatus(zA.SpanStatus.InternalError),r.finish(),delete n[t.fetchData.__span]);return}var i=Da.getActiveTransaction();if(i){var r=i.startChild({data:Dt.__assign(Dt.__assign({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=r.spanId,n[r.spanId]=r;var s=t.args[0]=t.args[0],o=t.args[1]=t.args[1]||{},c=o.headers;Fi.isInstanceOf(s,Request)&&(c=s.headers),c?typeof c.append=="function"?c.append("sentry-trace",r.toTraceparent()):Array.isArray(c)?c=Dt.__spread(c,[["sentry-trace",r.toTraceparent()]]):c=Dt.__assign(Dt.__assign({},c),{"sentry-trace":r.toTraceparent()}):c={"sentry-trace":r.toTraceparent()},o.headers=c}}}a(Ky,"fetchCallback");Kt.fetchCallback=Ky;function Fy(t,e,n){var r,i;if(!(!Da.hasTracingEnabled()||((r=t.xhr)===null||r===void 0?void 0:r.__sentry_own_request__)||!(((i=t.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&e(t.xhr.__sentry_xhr__.url)))){var s=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){var o=n[t.xhr.__sentry_xhr_span_id__];o&&(o.setHttpStatus(s.status_code),o.finish(),delete n[t.xhr.__sentry_xhr_span_id__]);return}var c=Da.getActiveTransaction();if(c){var o=c.startChild({data:Dt.__assign(Dt.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=o.spanId,n[t.xhr.__sentry_xhr_span_id__]=o,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch(p){}}}}a(Fy,"xhrCallback");Kt.xhrCallback=Fy});var Ly=m($p=>{Object.defineProperty($p,"__esModule",{value:!0});var Ka=q(),Li=Ka.getGlobalObject();function YA(t,e,n){if(e===void 0&&(e=!0),n===void 0&&(n=!0),!Li||!Li.location){Ka.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var r=Li.location.href,i;e&&(i=t({name:Li.location.pathname,op:"pageload"})),n&&Ka.addInstrumentationHandler({callback:function(s){var o=s.to,c=s.from;if(c===void 0&&r&&r.indexOf(o)!==-1){r=void 0;return}c!==o&&(r=void 0,i&&(Ka.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:Li.location.pathname,op:"navigation"}))},type:"history"})}a(YA,"instrumentRoutingWithDefaults");$p.instrumentRoutingWithDefaults=YA});var Jy=m(Hn=>{Object.defineProperty(Hn,"__esModule",{value:!0});var Ft=C(),Ar=q(),VA=Ia(),XA=qa(),ZA=ln(),Hy=dn(),QA=qy(),ej=Dy(),Fa=Up(),tj=Ly();Hn.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var nj=Ft.__assign({idleTimeout:XA.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:Hn.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:tj.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Fa.defaultRequestInstrumentationOptions),rj=function(){function t(e){this.name=t.id,this._metrics=new ej.MetricsInstrumentation,this._emitOptionsWarning=!1;var n=Fa.defaultRequestInstrumentationOptions.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Ft.__assign(Ft.__assign(Ft.__assign({},nj),e),{tracingOrigins:n})}return a(t,"BrowserTracing"),t.prototype.setupOnce=function(e,n){var r=this;this._getCurrentHub=n,this._emitOptionsWarning&&(Ar.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Ar.logger.warn("[Tracing] We added a reasonable default for you: "+Fa.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,o=i.startTransactionOnLocationChange,c=i.startTransactionOnPageLoad,u=i.markBackgroundTransactions,p=i.traceFetch,l=i.traceXHR,d=i.tracingOrigins,f=i.shouldCreateSpanForRequest;s(function(h){return r._createRouteTransaction(h)},c,o),u&&QA.registerBackgroundTabDetection(),Fa.instrumentOutgoingRequests({traceFetch:p,traceXHR:l,tracingOrigins:d,shouldCreateSpanForRequest:f})},t.prototype._createRouteTransaction=function(e){var n=this;if(!this._getCurrentHub){Ar.logger.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var r=this.options,i=r.beforeNavigate,s=r.idleTimeout,o=r.maxTransactionDuration,c=e.op==="pageload"?Uy():void 0,u=Ft.__assign(Ft.__assign(Ft.__assign({},e),c),{trimEnd:!0}),p=typeof i=="function"?i(u):u,l=p===void 0?Ft.__assign(Ft.__assign({},u),{sampled:!1}):p;l.sampled===!1&&Ar.logger.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),Ar.logger.log("[Tracing] Starting "+l.op+" transaction on scope");var d=this._getCurrentHub(),f=Ar.getGlobalObject().location,h=VA.startIdleTransaction(d,l,s,!0,{location:f});return h.registerBeforeFinishCallback(function(v,g){n._metrics.addPerformanceEntries(v),ij(Hy.secToMs(o),v,g)}),h},t.id="BrowserTracing",t}();Hn.BrowserTracing=rj;function Uy(){var t=$y("sentry-trace");if(t)return Hy.extractTraceparentData(t)}a(Uy,"getHeaderContext");Hn.getHeaderContext=Uy;function $y(t){var e=document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}a($y,"getMetaContent");Hn.getMetaContent=$y;function ij(t,e,n){var r=n-e.startTimestamp,i=n&&(r>t||r<0);i&&(e.setStatus(ZA.SpanStatus.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}a(ij,"adjustTransactionDuration")});var Jp=m(Hi=>{Object.defineProperty(Hi,"__esModule",{value:!0});var sj=Jy();Hi.BrowserTracing=sj.BrowserTracing;var Wy=Up();Hi.instrumentOutgoingRequests=Wy.instrumentOutgoingRequests;Hi.defaultRequestInstrumentationOptions=Wy.defaultRequestInstrumentationOptions});var Gy=m(zp=>{Object.defineProperty(zp,"__esModule",{value:!0});var Wp=C(),aj=q(),oj=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return a(t,"Express"),t.prototype.setupOnce=function(){if(!this._router){aj.logger.error("ExpressIntegration is missing an Express instance");return}pj(this._router,this._methods)},t.id="Express",t}();zp.Express=oj;function zy(t,e){var n=t.length;switch(n){case 2:return function(r,i){var s=i.__sentry_transaction;if(s){var o=s.startChild({description:t.name,op:"middleware."+e});i.once("finish",function(){o.finish()})}return t.call(this,r,i)};case 3:return function(r,i,s){var o,c=i.__sentry_transaction,u=(o=c)===null||o===void 0?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,r,i,function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];var d;(d=u)===null||d===void 0||d.finish(),s.call.apply(s,Wp.__spread([this],p))})};case 4:return function(r,i,s,o){var c,u=s.__sentry_transaction,p=(c=u)===null||c===void 0?void 0:c.startChild({description:t.name,op:"middleware."+e});t.call(this,r,i,s,function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f;(f=p)===null||f===void 0||f.finish(),o.call.apply(o,Wp.__spread([this],l))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}a(zy,"wrap");function cj(t,e){return t.map(function(n){return typeof n=="function"?zy(n,e):Array.isArray(n)?n.map(function(r){return typeof r=="function"?zy(r,e):r}):n})}a(cj,"wrapMiddlewareArgs");function uj(t,e){var n=t[e];return t[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.call.apply(n,Wp.__spread([this],cj(r,e)))},t}a(uj,"patchMiddleware");function pj(t,e){e===void 0&&(e=[]),e.forEach(function(n){return uj(t,n)})}a(pj,"instrumentMiddlewares")});var Yy=m(Gp=>{Object.defineProperty(Gp,"__esModule",{value:!0});var La=q(),lj=function(){function t(){this.name=t.id}return a(t,"Postgres"),t.prototype.setupOnce=function(e,n){var r=La.loadModule("pg");if(!r){La.logger.error("Postgres Integration was unable to require `pg` package.");return}La.fill(r.Client.prototype,"query",function(i){return function(s,o,c){var u,p,l,d=n().getScope(),f=(u=d)===null||u===void 0?void 0:u.getSpan(),h=(p=f)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof c=="function")return i.call(this,s,o,function(g,y){var _;(_=h)===null||_===void 0||_.finish(),c(g,y)});if(typeof o=="function")return i.call(this,s,function(g,y){var _;(_=h)===null||_===void 0||_.finish(),o(g,y)});var v=typeof o!="undefined"?i.call(this,s,o):i.call(this,s);return La.isThenable(v)?v.then(function(g){var y;return(y=h)===null||y===void 0||y.finish(),g}):((l=h)===null||l===void 0||l.finish(),v)}})},t.id="Postgres",t}();Gp.Postgres=lj});var Vy=m(Vp=>{Object.defineProperty(Vp,"__esModule",{value:!0});var Yp=q(),dj=function(){function t(){this.name=t.id}return a(t,"Mysql"),t.prototype.setupOnce=function(e,n){var r=Yp.loadModule("mysql/lib/Connection.js");if(!r){Yp.logger.error("Mysql Integration was unable to require `mysql` package.");return}Yp.fill(r,"createQuery",function(i){return function(s,o,c){var u,p,l=n().getScope(),d=(u=l)===null||u===void 0?void 0:u.getSpan(),f=(p=d)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof c=="function"?i.call(this,s,o,function(h,v,g){var y;(y=f)===null||y===void 0||y.finish(),c(h,v,g)}):typeof o=="function"?i.call(this,s,function(h,v,g){var y;(y=f)===null||y===void 0||y.finish(),o(h,v,g)}):i.call(this,s,o,c)}})},t.id="Mysql",t}();Vp.Mysql=dj});var Xy=m(Zp=>{Object.defineProperty(Zp,"__esModule",{value:!0});var Xp=C(),Ha=q(),fj=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],mj={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},hj=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:fj,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}return a(t,"Mongo"),t.prototype.setupOnce=function(e,n){var r=this._useMongoose?"mongoose":"mongodb",i=Ha.loadModule(r);if(!i){Ha.logger.error("Mongo Integration was unable to require `"+r+"` package.");return}this._instrumentOperations(i.Collection,this._operations,n)},t.prototype._instrumentOperations=function(e,n,r){var i=this;n.forEach(function(s){return i._patchOperation(e,s,r)})},t.prototype._patchOperation=function(e,n,r){if(n in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);Ha.fill(e.prototype,n,function(s){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var u,p,l,d,f=o[o.length-1],h=r().getScope(),v=(u=h)===null||u===void 0?void 0:u.getSpan();if(typeof f!="function"||n==="mapReduce"&&o.length===2){var g=(p=v)===null||p===void 0?void 0:p.startChild(i(this,n,o)),y=s.call.apply(s,Xp.__spread([this],o));return Ha.isThenable(y)?y.then(function(x){var S;return(S=g)===null||S===void 0||S.finish(),x}):((l=g)===null||l===void 0||l.finish(),y)}var _=(d=v)===null||d===void 0?void 0:d.startChild(i(this,n,o.slice(0,-1)));return s.call.apply(s,Xp.__spread([this],o.slice(0,-1),[function(x,S){var E;(E=_)===null||E===void 0||E.finish(),f(x,S)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,n,r){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:n,data:i},o=mj[n],c=Array.isArray(this._describeOperations)?this._describeOperations.includes(n):this._describeOperations;if(!o||!c)return s;try{if(n==="mapReduce"){var u=Xp.__read(r,2),p=u[0],l=u[1];i[o[0]]=typeof p=="string"?p:p.name||"<anonymous>",i[o[1]]=typeof l=="string"?l:l.name||"<anonymous>"}else for(var d=0;d<o.length;d++)i[o[d]]=JSON.stringify(r[d])}catch(f){}return s},t.id="Mongo",t}();Zp.Mongo=hj});var Zy=m(jr=>{Object.defineProperty(jr,"__esModule",{value:!0});var vj=Gy();jr.Express=vj.Express;var gj=Yy();jr.Postgres=gj.Postgres;var yj=Vy();jr.Mysql=yj.Mysql;var _j=Xy();jr.Mongo=_j.Mongo});var n_=m(he=>{Object.defineProperty(he,"__esModule",{value:!0});var Qy=C(),bj=Jp(),e_=Ia();he.addExtensionMethods=e_.addExtensionMethods;var xj=Zy(),Sj=Qy.__assign(Qy.__assign({},xj),{BrowserTracing:bj.BrowserTracing});he.Integrations=Sj;var Ej=Oa();he.Span=Ej.Span;var wj=ka();he.Transaction=wj.Transaction;var t_=Jp();he.registerRequestInstrumentation=t_.instrumentOutgoingRequests;he.defaultRequestInstrumentationOptions=t_.defaultRequestInstrumentationOptions;var Tj=ln();he.SpanStatus=Tj.SpanStatus;var Oj=qa();he.IdleTransaction=Oj.IdleTransaction;var kj=Ia();he.startIdleTransaction=kj.startIdleTransaction;e_.addExtensionMethods();var Ui=dn();he.extractTraceparentData=Ui.extractTraceparentData;he.getActiveTransaction=Ui.getActiveTransaction;he.hasTracingEnabled=Ui.hasTracingEnabled;he.stripUrlQueryAndFragment=Ui.stripUrlQueryAndFragment;he.TRACEPARENT_REGEXP=Ui.TRACEPARENT_REGEXP});var r_=m(Qp=>{"use strict";Qp.parse=Pj;Qp.serialize=Rj;var qj=decodeURIComponent,Cj=encodeURIComponent,Ij=/; */,Ua=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Pj(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var n={},r=e||{},i=t.split(Ij),s=r.decode||qj,o=0;o<i.length;o++){var c=i[o],u=c.indexOf("=");if(!(u<0)){var p=c.substr(0,u).trim(),l=c.substr(++u,c.length).trim();l[0]=='"'&&(l=l.slice(1,-1)),n[p]==null&&(n[p]=Aj(l,s))}}return n}a(Pj,"parse");function Rj(t,e,n){var r=n||{},i=r.encode||Cj;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Ua.test(t))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!Ua.test(s))throw new TypeError("argument val is invalid");var o=t+"="+s;if(r.maxAge!=null){var c=r.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(c)}if(r.domain){if(!Ua.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!Ua.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var u=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}a(Rj,"serialize");function Aj(t,e){try{return e(t)}catch(n){return t}}a(Aj,"tryDecode")});var a_=m($n=>{Object.defineProperty($n,"__esModule",{value:!0});var yt=C(),Un=ue(),jj=n_(),i_=ye(),Nr=q(),Nj=r_(),Mj=require("domain"),Bj=require("os"),Dj=require("url"),$i=xp();function Kj(){return a(function(e,n,r){var i;e.headers&&Nr.isString(e.headers["sentry-trace"])&&(i=jj.extractTraceparentData(e.headers["sentry-trace"]));var s=Un.startTransaction(yt.__assign({name:$a(e,{path:!0,method:!0}),op:"http.server"},i),{request:Ja(e)});Un.getCurrentHub().configureScope(function(o){o.setSpan(s)}),n.__sentry_transaction=s,n.once("finish",function(){setImmediate(function(){Fj(s,e),s.setHttpStatus(n.statusCode),s.finish()})}),r()},"sentryTracingMiddleware")}a(Kj,"tracingHandler");$n.tracingHandler=Kj;function Fj(t,e){!t||(t.name=$a(e,{path:!0,method:!0}),t.setData("url",e.originalUrl),t.setData("baseUrl",e.baseUrl),t.setData("query",e.query))}a(Fj,"addExpressReqToTransaction");function $a(t,e){e===void 0&&(e={});var n,r=(n=t.method)===null||n===void 0?void 0:n.toUpperCase(),i="";t.route?i=""+(t.baseUrl||"")+t.route.path:(t.originalUrl||t.url)&&(i=Nr.stripUrlQueryAndFragment(t.originalUrl||t.url||""));var s="";return e.method&&r&&(s+=r),e.method&&e.path&&(s+=" "),e.path&&i&&(s+=i),s}a($a,"extractExpressTransactionName");function Lj(t,e){var n;switch(e){case"path":return $a(t,{path:!0});case"handler":return((n=t.route)===null||n===void 0?void 0:n.stack[0].name)||"<anonymous>";case"methodPath":default:return $a(t,{path:!0,method:!0})}}a(Lj,"extractTransaction");var Hj=["id","username","email"];function Uj(t,e){var n={},r=Array.isArray(e)?e:Hj;return r.forEach(function(i){t&&i in t&&(n[i]=t[i])}),n}a(Uj,"extractUserData");var $j=["cookies","data","headers","method","query_string","url"];function Ja(t,e){e===void 0&&(e=$j);var n={},r=t.headers||t.header||{},i=t.method,s=t.hostname||t.host||r.host||"<no host>",o=t.protocol==="https"||t.secure||(t.socket||{}).encrypted?"https":"http",c=t.originalUrl||t.url||"",u=o+"://"+s+c;return e.forEach(function(p){switch(p){case"headers":n.headers=r;break;case"method":n.method=i;break;case"url":n.url=u;break;case"cookies":n.cookies=t.cookies||Nj.parse(r.cookie||"");break;case"query_string":n.query_string=t.query||Dj.parse(c||"",!1).query;break;case"data":if(i==="GET"||i==="HEAD")break;t.body!==void 0&&(n.data=Nr.isString(t.body)?t.body:JSON.stringify(Nr.normalize(t.body)));break;default:({}).hasOwnProperty.call(t,p)&&(n[p]=t[p])}}),n}a(Ja,"extractRequestData");$n.extractRequestData=Ja;function s_(t,e,n){if(n=yt.__assign({ip:!1,request:!0,serverName:!0,transaction:!0,user:!0,version:!0},n),n.version&&(t.contexts=yt.__assign(yt.__assign({},t.contexts),{runtime:{name:"node",version:global.process.version}})),n.request){var r=Array.isArray(n.request)?Ja(e,n.request):Ja(e);t.request=yt.__assign(yt.__assign({},t.request),r)}if(n.serverName&&!t.server_name&&(t.server_name=global.process.env.SENTRY_NAME||Bj.hostname()),n.user){var i=e.user&&Nr.isPlainObject(e.user)?Uj(e.user,n.user):{};Object.keys(i)&&(t.user=yt.__assign(yt.__assign({},t.user),i))}if(n.ip){var s=e.ip||e.connection&&e.connection.remoteAddress;s&&(t.user=yt.__assign(yt.__assign({},t.user),{ip_address:s}))}return n.transaction&&!t.transaction&&(t.transaction=Lj(e,n.transaction)),t}a(s_,"parseRequest");$n.parseRequest=s_;function Jj(t){var e=Un.getCurrentHub(),n=e.getClient();if(n&&$i.isAutoSessionTrackingEnabled(n)){n.initSessionFlusher();var r=e.getScope();r&&r.getSession()&&r.setSession()}return a(function(s,o,c){if(t&&t.flushTimeout&&t.flushTimeout>0){var u=o.end;o.end=function(l,d,f){var h=this;$i.flush(t.flushTimeout).then(function(){u.call(h,l,d,f)}).then(null,function(v){Nr.logger.error(v)})}}var p=Mj.create();p.add(s),p.add(o),p.on("error",c),p.run(function(){var l=Un.getCurrentHub();l.configureScope(function(d){d.addEventProcessor(function(v){return s_(v,s,t)});var f=l.getClient();if($i.isAutoSessionTrackingEnabled(f)){var h=l.getScope();h&&h.setRequestSession({status:i_.RequestSessionStatus.Ok})}}),o.once("finish",function(){var d=l.getClient();$i.isAutoSessionTrackingEnabled(d)&&setImmediate(function(){d&&d._captureRequestSession()})}),c()})},"sentryRequestMiddleware")}a(Jj,"requestHandler");$n.requestHandler=Jj;function Wj(t){var e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}a(Wj,"getStatusCodeFromResponse");function zj(t){var e=Wj(t);return e>=500}a(zj,"defaultShouldHandleError");function Gj(t){return a(function(n,r,i,s){var o=t&&t.shouldHandleError||zj;if(o(n)){Un.withScope(function(c){var u=i.__sentry_transaction;u&&c.getSpan()===void 0&&c.setSpan(u);var p=Un.getCurrentHub().getClient();if(p&&$i.isAutoSessionTrackingEnabled(p)){var l=p._sessionFlusher!==void 0;if(l){var d=c.getRequestSession();d&&d.status!==void 0&&(d.status=i_.RequestSessionStatus.Crashed)}}var f=Un.captureException(n);i.sentry=f,s(n)});return}s(n)},"sentryErrorMiddleware")}a(Gj,"errorHandler");$n.errorHandler=Gj});var We=m(I=>{Object.defineProperty(I,"__esModule",{value:!0});var o_=C(),c_=ye();I.Severity=c_.Severity;I.Status=c_.Status;var V=ue();I.addGlobalEventProcessor=V.addGlobalEventProcessor;I.addBreadcrumb=V.addBreadcrumb;I.captureException=V.captureException;I.captureEvent=V.captureEvent;I.captureMessage=V.captureMessage;I.configureScope=V.configureScope;I.getHubFromCarrier=V.getHubFromCarrier;I.getCurrentHub=V.getCurrentHub;I.Hub=V.Hub;I.makeMain=V.makeMain;I.Scope=V.Scope;I.startTransaction=V.startTransaction;I.SDK_VERSION=V.SDK_VERSION;I.setContext=V.setContext;I.setExtra=V.setExtra;I.setExtras=V.setExtras;I.setTag=V.setTag;I.setTags=V.setTags;I.setUser=V.setUser;I.withScope=V.withScope;var Yj=rp();I.NodeBackend=Yj.NodeBackend;var Vj=ap();I.NodeClient=Vj.NodeClient;var Mr=xp();I.defaultIntegrations=Mr.defaultIntegrations;I.init=Mr.init;I.lastEventId=Mr.lastEventId;I.flush=Mr.flush;I.close=Mr.close;I.getSentryRelease=Mr.getSentryRelease;var Xj=fy();I.deepReadDirSync=Xj.deepReadDirSync;var Zj=Ku();I.SDK_NAME=Zj.SDK_NAME;var Qj=ue(),eN=Ae(),tN=require("domain"),nN=a_();I.Handlers=nN;var rN=bp(),iN=tp();I.Transports=iN;var sN=o_.__assign(o_.__assign({},Qj.Integrations),rN);I.Integrations=sN;var Ji=eN.getMainCarrier();Ji.__SENTRY__&&(Ji.__SENTRY__.extensions=Ji.__SENTRY__.extensions||{},Ji.__SENTRY__.extensions.domain=Ji.__SENTRY__.extensions.domain||tN)});var u_=m(el=>{Object.defineProperty(el,"__esModule",{value:!0});function aN(t){t.then(null,function(e){console.error(e)})}a(aN,"forget");el.forget=aN});var Jn=m(xe=>{Object.defineProperty(xe,"__esModule",{value:!0});function oN(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return Wa(t,Error)}}a(oN,"isError");xe.isError=oN;function cN(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}a(cN,"isErrorEvent");xe.isErrorEvent=cN;function uN(t){return Object.prototype.toString.call(t)==="[object DOMError]"}a(uN,"isDOMError");xe.isDOMError=uN;function pN(t){return Object.prototype.toString.call(t)==="[object DOMException]"}a(pN,"isDOMException");xe.isDOMException=pN;function lN(t){return Object.prototype.toString.call(t)==="[object String]"}a(lN,"isString");xe.isString=lN;function dN(t){return t===null||typeof t!="object"&&typeof t!="function"}a(dN,"isPrimitive");xe.isPrimitive=dN;function p_(t){return Object.prototype.toString.call(t)==="[object Object]"}a(p_,"isPlainObject");xe.isPlainObject=p_;function fN(t){return typeof Event!="undefined"&&Wa(t,Event)}a(fN,"isEvent");xe.isEvent=fN;function mN(t){return typeof Element!="undefined"&&Wa(t,Element)}a(mN,"isElement");xe.isElement=mN;function hN(t){return Object.prototype.toString.call(t)==="[object RegExp]"}a(hN,"isRegExp");xe.isRegExp=hN;function vN(t){return Boolean(t&&t.then&&typeof t.then=="function")}a(vN,"isThenable");xe.isThenable=vN;function gN(t){return p_(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}a(gN,"isSyntheticEvent");xe.isSyntheticEvent=gN;function Wa(t,e){try{return t instanceof e}catch(n){return!1}}a(Wa,"isInstanceOf");xe.isInstanceOf=Wa});var nl=m(tl=>{Object.defineProperty(tl,"__esModule",{value:!0});var yN=Jn();function _N(t,e){try{for(var n=t,r=5,i=80,s=[],o=0,c=0,u=" > ",p=u.length,l=void 0;n&&o++<r&&(l=bN(n,e),!(l==="html"||o>1&&c+s.length*p+l.length>=i));)s.push(l),c+=l.length,n=n.parentNode;return s.reverse().join(u)}catch(d){return"<unknown>"}}a(_N,"htmlTreeAsString");tl.htmlTreeAsString=_N;function bN(t,e){var n,r,i=t,s=[],o,c,u,p,l;if(!i||!i.tagName)return"";s.push(i.tagName.toLowerCase());var d=((n=e)===null||n===void 0?void 0:n.length)?e.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((r=d)===null||r===void 0?void 0:r.length)d.forEach(function(h){s.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&s.push("#"+i.id),o=i.className,o&&yN.isString(o))for(c=o.split(/\s+/),l=0;l<c.length;l++)s.push("."+c[l]);var f=["type","name","title","alt"];for(l=0;l<f.length;l++)u=f[l],p=i.getAttribute(u),p&&s.push("["+u+'="'+p+'"]');return s.join("")}a(bN,"_htmlElementAsString")});var l_=m(rl=>{Object.defineProperty(rl,"__esModule",{value:!0});rl.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?xN:SN);function xN(t,e){return t.__proto__=e,t}a(xN,"setProtoOf");function SN(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}a(SN,"mixinProperties")});var za=m(il=>{Object.defineProperty(il,"__esModule",{value:!0});var EN=J(),wN=l_(),TN=function(t){EN.__extends(e,t);function e(n){var r=this.constructor,i=t.call(this,n)||this;return i.message=n,i.name=r.prototype.constructor.name,wN.setPrototypeOf(i,r.prototype),i}return a(e,"SentryError"),e}(Error);il.SentryError=TN});var d_=m(sl=>{Object.defineProperty(sl,"__esModule",{value:!0});var ON=J(),Wi=za(),kN=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,zi="Invalid Dsn",qN=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return a(t,"Dsn"),t.prototype.toString=function(e){e===void 0&&(e=!1);var n=this,r=n.host,i=n.path,s=n.pass,o=n.port,c=n.projectId,u=n.protocol,p=n.publicKey;return u+"://"+p+(e&&s?":"+s:"")+("@"+r+(o?":"+o:"")+"/"+(i&&i+"/")+c)},t.prototype._fromString=function(e){var n=kN.exec(e);if(!n)throw new Wi.SentryError(zi);var r=ON.__read(n.slice(1),6),i=r[0],s=r[1],o=r[2],c=o===void 0?"":o,u=r[3],p=r[4],l=p===void 0?"":p,d=r[5],f="",h=d,v=h.split("/");if(v.length>1&&(f=v.slice(0,-1).join("/"),h=v.pop()),h){var g=h.match(/^\d+/);g&&(h=g[0])}this._fromComponents({host:u,pass:c,path:f,projectId:h,port:l,protocol:i,publicKey:s})},t.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(n){if(!e[n])throw new Wi.SentryError(zi+": "+n+" missing")}),!this.projectId.match(/^\d+$/))throw new Wi.SentryError(zi+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new Wi.SentryError(zi+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Wi.SentryError(zi+": Invalid port "+this.port)},t}();sl.Dsn=qN});var Va=m((Gi,Ya)=>{Object.defineProperty(Gi,"__esModule",{value:!0});function CN(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}a(CN,"isNodeEnv");Gi.isNodeEnv=CN;function Ga(t,e){return t.require(e)}a(Ga,"dynamicRequire");Gi.dynamicRequire=Ga;function IN(t){var e;try{e=Ga(Ya,t)}catch(r){}try{var n=Ga(Ya,"process").cwd;e=Ga(Ya,n()+"/node_modules/"+t)}catch(r){}return e}a(IN,"loadModule");Gi.loadModule=IN});var Xa=m(Br=>{Object.defineProperty(Br,"__esModule",{value:!0});var f_=Jn();function PN(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}a(PN,"truncate");Br.truncate=PN;function RN(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,r);return s>r-5&&(s=r),s===r&&(i=Math.max(s-140,0)),n=n.slice(i,s),i>0&&(n="'{snip} "+n),s<r&&(n+=" {snip}"),n}a(RN,"snipLine");Br.snipLine=RN;function AN(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(s){n.push("[value cannot be serialized]")}}return n.join(e)}a(AN,"safeJoin");Br.safeJoin=AN;function jN(t,e){return f_.isString(t)?f_.isRegExp(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}a(jN,"isMatchingPattern");Br.isMatchingPattern=jN});var Dr=m(qe=>{Object.defineProperty(qe,"__esModule",{value:!0});var NN=Va(),al=Xa(),MN={};function ol(){return NN.isNodeEnv()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:MN}a(ol,"getGlobalObject");qe.getGlobalObject=ol;function BN(){var t=ol(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var r=a(function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s},"pad");return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,o=i==="x"?s:s&3|8;return o.toString(16)})}a(BN,"uuid4");qe.uuid4=BN;function DN(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}a(DN,"parseUrl");qe.parseUrl=DN;function KN(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}a(KN,"getEventDescription");qe.getEventDescription=KN;function FN(t){var e=ol(),n=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var r=e.console,i={};n.forEach(function(o){o in e.console&&r[o].__sentry_original__&&(i[o]=r[o],r[o]=r[o].__sentry_original__)});var s=t();return Object.keys(i).forEach(function(o){r[o]=i[o]}),s}a(FN,"consoleSandbox");qe.consoleSandbox=FN;function LN(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}a(LN,"addExceptionTypeValue");qe.addExceptionTypeValue=LN;function HN(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch(n){}}a(HN,"addExceptionMechanism");qe.addExceptionMechanism=HN;function UN(){try{return document.location.href}catch(t){return""}}a(UN,"getLocationHref");qe.getLocationHref=UN;var $N=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function JN(t){var e=t.match($N)||[],n=parseInt(e[1],10),r=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:e[4]}}a(JN,"parseSemver");qe.parseSemver=JN;var m_=60*1e3;function WN(t,e){if(!e)return m_;var n=parseInt(""+e,10);if(!isNaN(n))return n*1e3;var r=Date.parse(""+e);return isNaN(r)?m_:r-t}a(WN,"parseRetryAfterHeader");qe.parseRetryAfterHeader=WN;function zN(t,e,n){n===void 0&&(n=5);var r=e.lineno||0,i=t.length,s=Math.max(Math.min(i,r-1),0);e.pre_context=t.slice(Math.max(0,s-n),s).map(function(o){return al.snipLine(o,0)}),e.context_line=al.snipLine(t[Math.min(i-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,i),s+1+n).map(function(o){return al.snipLine(o,0)})}a(zN,"addContextToFrame");qe.addContextToFrame=zN;function GN(t){return t.split(/[\?#]/,1)[0]}a(GN,"stripUrlQueryAndFragment");qe.stripUrlQueryAndFragment=GN});var Qa=m(ul=>{Object.defineProperty(ul,"__esModule",{value:!0});var Za=Dr(),Wn=Za.getGlobalObject(),cl="Sentry Logger ",YN=function(){function t(){this._enabled=!1}return a(t,"Logger"),t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||Za.consoleSandbox(function(){Wn.console.log(cl+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||Za.consoleSandbox(function(){Wn.console.warn(cl+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||Za.consoleSandbox(function(){Wn.console.error(cl+"[Error]: "+e.join(" "))})},t}();Wn.__SENTRY__=Wn.__SENTRY__||{};var VN=Wn.__SENTRY__.logger||(Wn.__SENTRY__.logger=new YN);ul.logger=VN});var ll=m(pl=>{Object.defineProperty(pl,"__esModule",{value:!0});var XN=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return a(t,"Memo"),t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var n=0;n<this._inner.length;n++){var r=this._inner[n];if(r===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var n=0;n<this._inner.length;n++)if(this._inner[n]===e){this._inner.splice(n,1);break}},t}();pl.Memo=XN});var eo=m(fl=>{Object.defineProperty(fl,"__esModule",{value:!0});var dl="<anonymous>";function ZN(t){try{return!t||typeof t!="function"?dl:t.name||dl}catch(e){return dl}}a(ZN,"getFunctionName");fl.getFunctionName=ZN});var vl=m(Ht=>{Object.defineProperty(Ht,"__esModule",{value:!0});var QN=J(),h_=nl(),Lt=Jn(),eM=ll(),tM=eo(),v_=Xa();function nM(t,e,n){if(e in t){var r=t[e],i=n(r);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(s){}t[e]=i}}a(nM,"fill");Ht.fill=nM;function rM(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}a(rM,"urlEncode");Ht.urlEncode=rM;function g_(t){if(Lt.isError(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(Lt.isEvent(t)){var i=t,s={};s.type=i.type;try{s.target=Lt.isElement(i.target)?h_.htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(o){s.target="<unknown>"}try{s.currentTarget=Lt.isElement(i.currentTarget)?h_.htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(o){s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&Lt.isInstanceOf(t,CustomEvent)&&(s.detail=i.detail);for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i);return s}return t}a(g_,"getWalkSource");function iM(t){return~-encodeURI(t).split(/%..|./).length}a(iM,"utf8Length");function sM(t){return iM(JSON.stringify(t))}a(sM,"jsonSize");function y_(t,e,n){e===void 0&&(e=3),n===void 0&&(n=100*1024);var r=b_(t,e);return sM(r)>n?y_(t,e-1,n):r}a(y_,"normalizeToSize");Ht.normalizeToSize=y_;function aM(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var n=__(t);return Lt.isPrimitive(n)?n:e}a(aM,"serializeValue");function __(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":Lt.isSyntheticEvent(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+tM.getFunctionName(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}a(__,"normalizeValue");function ml(t,e,n,r){if(n===void 0&&(n=Infinity),r===void 0&&(r=new eM.Memo),n===0)return aM(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var i=__(e,t);if(Lt.isPrimitive(i))return i;var s=g_(e),o=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var c in s)!Object.prototype.hasOwnProperty.call(s,c)||(o[c]=ml(c,s[c],n-1,r));return r.unmemoize(e),o}a(ml,"walk");Ht.walk=ml;function b_(t,e){try{return JSON.parse(JSON.stringify(t,function(n,r){return ml(n,r,e)}))}catch(n){return"**non-serializable**"}}a(b_,"normalize");Ht.normalize=b_;function oM(t,e){e===void 0&&(e=40);var n=Object.keys(g_(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return v_.truncate(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:v_.truncate(i,e)}return""}a(oM,"extractExceptionKeysForMessage");Ht.extractExceptionKeysForMessage=oM;function hl(t){var e,n;if(Lt.isPlainObject(t)){var r=t,i={};try{for(var s=QN.__values(Object.keys(r)),o=s.next();!o.done;o=s.next()){var c=o.value;typeof r[c]!="undefined"&&(i[c]=hl(r[c]))}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(hl):t}a(hl,"dropUndefinedKeys");Ht.dropUndefinedKeys=hl});var _l=m(ot=>{Object.defineProperty(ot,"__esModule",{value:!0});var cM=Qa(),to=Dr();function uM(){try{return new ErrorEvent(""),!0}catch(t){return!1}}a(uM,"supportsErrorEvent");ot.supportsErrorEvent=uM;function pM(){try{return new DOMError(""),!0}catch(t){return!1}}a(pM,"supportsDOMError");ot.supportsDOMError=pM;function lM(){try{return new DOMException(""),!0}catch(t){return!1}}a(lM,"supportsDOMException");ot.supportsDOMException=lM;function gl(){if(!("fetch"in to.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}a(gl,"supportsFetch");ot.supportsFetch=gl;function yl(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}a(yl,"isNativeFetch");ot.isNativeFetch=yl;function dM(){if(!gl())return!1;var t=to.getGlobalObject();if(yl(t.fetch))return!0;var e=!1,n=t.document;if(n&&typeof n.createElement=="function")try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=yl(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){cM.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}a(dM,"supportsNativeFetch");ot.supportsNativeFetch=dM;function fM(){return"ReportingObserver"in to.getGlobalObject()}a(fM,"supportsReportingObserver");ot.supportsReportingObserver=fM;function mM(){if(!gl())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}a(mM,"supportsReferrerPolicy");ot.supportsReferrerPolicy=mM;function hM(){var t=to.getGlobalObject(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}a(hM,"supportsHistory");ot.supportsHistory=hM});var T_=m(Sl=>{Object.defineProperty(Sl,"__esModule",{value:!0});var Kr=J(),no=Jn(),x_=Qa(),vM=Dr(),Ut=vl(),gM=eo(),S_=_l(),F=vM.getGlobalObject(),Yi={},E_={};function yM(t){if(!E_[t])switch(E_[t]=!0,t){case"console":bM();break;case"dom":CM();break;case"xhr":wM();break;case"fetch":xM();break;case"history":TM();break;case"error":IM();break;case"unhandledrejection":PM();break;default:x_.logger.warn("unknown instrumentation type:",t)}}a(yM,"instrument");function _M(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(Yi[t.type]=Yi[t.type]||[],Yi[t.type].push(t.callback),yM(t.type))}a(_M,"addInstrumentationHandler");Sl.addInstrumentationHandler=_M;function ct(t,e){var n,r;if(!(!t||!Yi[t]))try{for(var i=Kr.__values(Yi[t]||[]),s=i.next();!s.done;s=i.next()){var o=s.value;try{o(e)}catch(c){x_.logger.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+gM.getFunctionName(o)+`
Error: `+c)}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}a(ct,"triggerHandlers");function bM(){"console"in F&&["debug","info","warn","error","log","assert"].forEach(function(t){t in F.console&&Ut.fill(F.console,t,function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];ct("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,F.console,n)}})})}a(bM,"instrumentConsole");function xM(){!S_.supportsNativeFetch()||Ut.fill(F,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:SM(e),url:EM(e)},startTimestamp:Date.now()};return ct("fetch",Kr.__assign({},r)),t.apply(F,e).then(function(i){return ct("fetch",Kr.__assign(Kr.__assign({},r),{endTimestamp:Date.now(),response:i})),i},function(i){throw ct("fetch",Kr.__assign(Kr.__assign({},r),{endTimestamp:Date.now(),error:i})),i})}})}a(xM,"instrumentFetch");function SM(t){return t===void 0&&(t=[]),"Request"in F&&no.isInstanceOf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}a(SM,"getFetchMethod");function EM(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in F&&no.isInstanceOf(t[0],Request)?t[0].url:String(t[0])}a(EM,"getFetchUrl");function wM(){if("XMLHttpRequest"in F){var t=[],e=[],n=XMLHttpRequest.prototype;Ut.fill(n,"open",function(r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=this,c=i[1];o.__sentry_xhr__={method:no.isString(i[0])?i[0].toUpperCase():i[0],url:i[1]},no.isString(c)&&o.__sentry_xhr__.method==="POST"&&c.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var u=a(function(){if(o.readyState===4){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(d){}try{var p=t.indexOf(o);if(p!==-1){t.splice(p);var l=e.splice(p)[0];o.__sentry_xhr__&&l[0]!==void 0&&(o.__sentry_xhr__.body=l[0])}}catch(d){}ct("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}},"onreadystatechangeHandler");return"onreadystatechange"in o&&typeof o.onreadystatechange=="function"?Ut.fill(o,"onreadystatechange",function(p){return function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return u(),p.apply(o,l)}}):o.addEventListener("readystatechange",u),r.apply(o,i)}}),Ut.fill(n,"send",function(r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return t.push(this),e.push(i),ct("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),r.apply(this,i)}})}}a(wM,"instrumentXHR");var ro;function TM(){if(!S_.supportsHistory())return;var t=F.onpopstate;F.onpopstate=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=F.location.href,s=ro;if(ro=i,ct("history",{from:s,to:i}),t)try{return t.apply(this,n)}catch(o){}};function e(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=r.length>2?r[2]:void 0;if(s){var o=ro,c=String(s);ro=c,ct("history",{from:o,to:c})}return n.apply(this,r)}}a(e,"historyReplacementFunction"),Ut.fill(F.history,"pushState",e),Ut.fill(F.history,"replaceState",e)}a(TM,"instrumentHistory");var OM=1e3,io,so;function kM(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(n){}return!1}a(kM,"shouldShortcircuitPreviousDebounce");function qM(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(n){}return!0}a(qM,"shouldSkipDOMEvent");function w_(t,e){return e===void 0&&(e=!1),function(n){if(!(!n||so===n)&&!qM(n)){var r=n.type==="keypress"?"input":n.type;io===void 0?(t({event:n,name:r,global:e}),so=n):kM(so,n)&&(t({event:n,name:r,global:e}),so=n),clearTimeout(io),io=F.setTimeout(function(){io=void 0},OM)}}}a(w_,"makeDOMEventHandler");function CM(){if("document"in F){var t=ct.bind(null,"dom"),e=w_(t,!0);F.document.addEventListener("click",e,!1),F.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(n){var r=F[n]&&F[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Ut.fill(r,"addEventListener",function(i){return function(s,o,c){if(s==="click"||s=="keypress")try{var u=this,p=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},l=p[s]=p[s]||{refCount:0};if(!l.handler){var d=w_(t);l.handler=d,i.call(this,s,d,c)}l.refCount+=1}catch(f){}return i.call(this,s,o,c)}}),Ut.fill(r,"removeEventListener",function(i){return function(s,o,c){if(s==="click"||s=="keypress")try{var u=this,p=u.__sentry_instrumentation_handlers__||{},l=p[s];l&&(l.refCount-=1,l.refCount<=0&&(i.call(this,s,l.handler,c),l.handler=void 0,delete p[s]),Object.keys(p).length===0&&delete u.__sentry_instrumentation_handlers__)}catch(d){}return i.call(this,s,o,c)}}))})}}a(CM,"instrumentDOM");var bl=null;function IM(){bl=F.onerror,F.onerror=function(t,e,n,r,i){return ct("error",{column:r,error:i,line:n,msg:t,url:e}),bl?bl.apply(this,arguments):!1}}a(IM,"instrumentError");var xl=null;function PM(){xl=F.onunhandledrejection,F.onunhandledrejection=function(t){return ct("unhandledrejection",t),xl?xl.apply(this,arguments):!0}}a(PM,"instrumentUnhandledRejection")});var P_=m($t=>{Object.defineProperty($t,"__esModule",{value:!0});function O_(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];i==="."?t.splice(r,1):i===".."?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}a(O_,"normalizeArray");var RM=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function k_(t){var e=RM.exec(t);return e?e.slice(1):[]}a(k_,"splitPath");function El(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=!1,i=t.length-1;i>=-1&&!r;i--){var s=i>=0?t[i]:"/";!s||(n=s+"/"+n,r=s.charAt(0)==="/")}return n=O_(n.split("/").filter(function(o){return!!o}),!r).join("/"),(r?"/":"")+n||"."}a(El,"resolve");$t.resolve=El;function q_(t){for(var e=0;e<t.length&&t[e]==="";e++);for(var n=t.length-1;n>=0&&t[n]==="";n--);return e>n?[]:t.slice(e,n-e+1)}a(q_,"trim");function AM(t,e){t=El(t).substr(1),e=El(e).substr(1);for(var n=q_(t.split("/")),r=q_(e.split("/")),i=Math.min(n.length,r.length),s=i,o=0;o<i;o++)if(n[o]!==r[o]){s=o;break}for(var c=[],o=s;o<n.length;o++)c.push("..");return c=c.concat(r.slice(s)),c.join("/")}a(AM,"relative");$t.relative=AM;function C_(t){var e=I_(t),n=t.substr(-1)==="/",r=O_(t.split("/").filter(function(i){return!!i}),!e).join("/");return!r&&!e&&(r="."),r&&n&&(r+="/"),(e?"/":"")+r}a(C_,"normalizePath");$t.normalizePath=C_;function I_(t){return t.charAt(0)==="/"}a(I_,"isAbsolute");$t.isAbsolute=I_;function jM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C_(t.join("/"))}a(jM,"join");$t.join=jM;function NM(t){var e=k_(t),n=e[0],r=e[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)}a(NM,"dirname");$t.dirname=NM;function MM(t,e){var n=k_(t)[2];return e&&n.substr(e.length*-1)===e&&(n=n.substr(0,n.length-e.length)),n}a(MM,"basename");$t.basename=MM});var Tl=m(wl=>{Object.defineProperty(wl,"__esModule",{value:!0});var BM=Jn(),Jt;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(Jt||(Jt={}));var DM=function(){function t(e){var n=this;this._state=Jt.PENDING,this._handlers=[],this._resolve=function(r){n._setResult(Jt.RESOLVED,r)},this._reject=function(r){n._setResult(Jt.REJECTED,r)},this._setResult=function(r,i){if(n._state===Jt.PENDING){if(BM.isThenable(i)){i.then(n._resolve,n._reject);return}n._state=r,n._value=i,n._executeHandlers()}},this._attachHandler=function(r){n._handlers=n._handlers.concat(r),n._executeHandlers()},this._executeHandlers=function(){if(n._state!==Jt.PENDING){var r=n._handlers.slice();n._handlers=[],r.forEach(function(i){i.done||(n._state===Jt.RESOLVED&&i.onfulfilled&&i.onfulfilled(n._value),n._state===Jt.REJECTED&&i.onrejected&&i.onrejected(n._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}return a(t,"SyncPromise"),t.resolve=function(e){return new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.all=function(e){return new t(function(n,r){if(!Array.isArray(e)){r(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){n([]);return}var i=e.length,s=[];e.forEach(function(o,c){t.resolve(o).then(function(u){s[c]=u,i-=1,i===0&&n(s)}).then(null,r)})})},t.prototype.then=function(e,n){var r=this;return new t(function(i,s){r._attachHandler({done:!1,onfulfilled:function(o){if(!e){i(o);return}try{i(e(o));return}catch(c){s(c);return}},onrejected:function(o){if(!n){s(o);return}try{i(n(o));return}catch(c){s(c);return}}})})},t.prototype.catch=function(e){return this.then(function(n){return n},e)},t.prototype.finally=function(e){var n=this;return new t(function(r,i){var s,o;return n.then(function(c){o=!1,s=c,e&&e()},function(c){o=!0,s=c,e&&e()}).then(function(){if(o){i(s);return}r(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}();wl.SyncPromise=DM});var R_=m(kl=>{Object.defineProperty(kl,"__esModule",{value:!0});var KM=za(),Ol=Tl(),FM=function(){function t(e){this._limit=e,this._buffer=[]}return a(t,"PromiseBuffer"),t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var n=this;if(!this.isReady())return Ol.SyncPromise.reject(new KM.SentryError("Not adding Promise due to buffer limit reached."));var r=e();return this._buffer.indexOf(r)===-1&&this._buffer.push(r),r.then(function(){return n.remove(r)}).then(null,function(){return n.remove(r).then(null,function(){})}),r},t.prototype.remove=function(e){var n=this._buffer.splice(this._buffer.indexOf(e),1)[0];return n},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var n=this;return new Ol.SyncPromise(function(r){var i=setTimeout(function(){e&&e>0&&r(!1)},e);Ol.SyncPromise.all(n._buffer).then(function(){clearTimeout(i),r(!0)}).then(null,function(){r(!0)})})},t}();kl.PromiseBuffer=FM});var B_=m((ze,M_)=>{Object.defineProperty(ze,"__esModule",{value:!0});var A_=Dr(),j_=Va(),ql={nowSeconds:function(){return Date.now()/1e3}};function LM(){var t=A_.getGlobalObject().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}a(LM,"getBrowserPerformance");function HM(){try{var t=j_.dynamicRequire(M_,"perf_hooks");return t.performance}catch(e){return}}a(HM,"getNodePerformance");var ao=j_.isNodeEnv()?HM():LM(),N_=ao===void 0?ql:{nowSeconds:function(){return(ao.timeOrigin+ao.now())/1e3}};ze.dateTimestampInSeconds=ql.nowSeconds.bind(ql);ze.timestampInSeconds=N_.nowSeconds.bind(N_);ze.timestampWithMs=ze.timestampInSeconds;ze.usingPerformanceAPI=ao!==void 0;ze.browserPerformanceTimeOrigin=function(){var t=A_.getGlobalObject().performance;if(!t||!t.now){ze._browserPerformanceTimeOriginMode="none";return}var e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number",u=c?Math.abs(o+n-r):e,p=u<e;return s||p?i<=u?(ze._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(ze._browserPerformanceTimeOriginMode="navigationStart",o):(ze._browserPerformanceTimeOriginMode="dateNow",r)}()});var N=m(X=>{Object.defineProperty(X,"__esModule",{value:!0});var re=J();re.__exportStar(u_(),X);re.__exportStar(nl(),X);re.__exportStar(d_(),X);re.__exportStar(za(),X);re.__exportStar(T_(),X);re.__exportStar(Jn(),X);re.__exportStar(Qa(),X);re.__exportStar(ll(),X);re.__exportStar(Dr(),X);re.__exportStar(Va(),X);re.__exportStar(vl(),X);re.__exportStar(P_(),X);re.__exportStar(R_(),X);re.__exportStar(eo(),X);re.__exportStar(Xa(),X);re.__exportStar(_l(),X);re.__exportStar(Tl(),X);re.__exportStar(B_(),X)});var Cl=m(oo=>{Object.defineProperty(oo,"__esModule",{value:!0});var k=J(),Vi=N(),D_=100,UM=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return a(t,"Scope"),t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=k.__spread(e._breadcrumbs),n._tags=k.__assign({},e._tags),n._extra=k.__assign({},e._extra),n._contexts=k.__assign({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=k.__spread(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=k.__assign(k.__assign({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,n){var r;return this._tags=k.__assign(k.__assign({},this._tags),(r={},r[e]=n,r)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=k.__assign(k.__assign({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,n){var r;return this._extra=k.__assign(k.__assign({},this._extra),(r={},r[e]=n,r)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,n){var r;return n===null?delete this._contexts[e]:this._contexts=k.__assign(k.__assign({},this._contexts),(r={},r[e]=n,r)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,n,r,i,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(n=s)===null||n===void 0?void 0:n.transaction;if((i=(r=s)===null||r===void 0?void 0:r.spanRecorder)===null||i===void 0?void 0:i.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=k.__assign(k.__assign({},this._tags),e._tags),this._extra=k.__assign(k.__assign({},this._extra),e._extra),this._contexts=k.__assign(k.__assign({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Vi.isPlainObject(e)&&(e=e,this._tags=k.__assign(k.__assign({},this._tags),e.tags),this._extra=k.__assign(k.__assign({},this._extra),e.extra),this._contexts=k.__assign(k.__assign({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,n){var r=typeof n=="number"?Math.min(n,D_):D_;if(r<=0)return this;var i=k.__assign({timestamp:Vi.dateTimestampInSeconds()},e);return this._breadcrumbs=k.__spread(this._breadcrumbs,[i]).slice(-r),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,n){var r;if(this._extra&&Object.keys(this._extra).length&&(e.extra=k.__assign(k.__assign({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=k.__assign(k.__assign({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=k.__assign(k.__assign({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=k.__assign(k.__assign({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=k.__assign({trace:this._span.getTraceContext()},e.contexts);var i=(r=this._span.transaction)===null||r===void 0?void 0:r.name;i&&(e.tags=k.__assign({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=k.__spread(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(k.__spread(K_(),this._eventProcessors),e,n)},t.prototype._notifyEventProcessors=function(e,n,r,i){var s=this;return i===void 0&&(i=0),new Vi.SyncPromise(function(o,c){var u=e[i];if(n===null||typeof u!="function")o(n);else{var p=u(k.__assign({},n),r);Vi.isThenable(p)?p.then(function(l){return s._notifyEventProcessors(e,l,r,i+1).then(o)}).then(null,c):s._notifyEventProcessors(e,p,r,i+1).then(o).then(null,c)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();oo.Scope=UM;function K_(){var t=Vi.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}a(K_,"getGlobalEventProcessors");function $M(t){K_().push(t)}a($M,"addGlobalEventProcessor");oo.addGlobalEventProcessor=$M});var F_=m(co=>{Object.defineProperty(co,"__esModule",{value:!0});var JM;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"})(JM=co.LogLevel||(co.LogLevel={}))});var L_=m(Fr=>{Object.defineProperty(Fr,"__esModule",{value:!0});var WM;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(WM=Fr.SessionStatus||(Fr.SessionStatus={}));var zM;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})(zM=Fr.RequestSessionStatus||(Fr.RequestSessionStatus={}))});var U_=m(Lr=>{Object.defineProperty(Lr,"__esModule",{value:!0});var H_;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(H_=Lr.Severity||(Lr.Severity={}));(function(t){function e(n){switch(n){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}a(e,"fromString"),t.fromString=e})(H_=Lr.Severity||(Lr.Severity={}))});var J_=m(Hr=>{Object.defineProperty(Hr,"__esModule",{value:!0});var $_;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})($_=Hr.Status||(Hr.Status={}));(function(t){function e(n){return n>=200&&n<300?t.Success:n===429?t.RateLimit:n>=400&&n<500?t.Invalid:n>=500?t.Failed:t.Unknown}a(e,"fromHttpCode"),t.fromHttpCode=e})($_=Hr.Status||(Hr.Status={}))});var W_=m(uo=>{Object.defineProperty(uo,"__esModule",{value:!0});var GM;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(GM=uo.TransactionSamplingMethod||(uo.TransactionSamplingMethod={}))});var Xi=m(hn=>{Object.defineProperty(hn,"__esModule",{value:!0});var YM=F_();hn.LogLevel=YM.LogLevel;var z_=L_();hn.SessionStatus=z_.SessionStatus;hn.RequestSessionStatus=z_.RequestSessionStatus;var VM=U_();hn.Severity=VM.Severity;var XM=J_();hn.Status=XM.Status;var ZM=W_();hn.TransactionSamplingMethod=ZM.TransactionSamplingMethod});var Rl=m(Pl=>{Object.defineProperty(Pl,"__esModule",{value:!0});var Il=Xi(),Ur=N(),QM=function(){function t(e){this.errors=0,this.sid=Ur.uuid4(),this.duration=0,this.status=Il.SessionStatus.Ok,this.init=!0,this.ignoreDuration=!1;var n=Ur.timestampInSeconds();this.timestamp=n,this.started=n,e&&this.update(e)}return a(t,"Session"),t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Ur.timestampInSeconds(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:Ur.uuid4()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var n=this.timestamp-this.started;this.duration=n>=0?n:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===Il.SessionStatus.Ok?this.update({status:Il.SessionStatus.Exited}):this.update()},t.prototype.toJSON=function(){return Ur.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:Ur.dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}();Pl.Session=QM});var Nl=m(Be=>{Object.defineProperty(Be,"__esModule",{value:!0});var ut=J(),G_=Xi(),pt=N(),Al=Cl(),eB=Rl();Be.API_VERSION=4;var tB=100,po=function(){function t(e,n,r){n===void 0&&(n=new Al.Scope),r===void 0&&(r=Be.API_VERSION),this._version=r,this._stack=[{}],this.getStackTop().scope=n,this.bindClient(e)}return a(t,"Hub"),t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=Al.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var n=this.pushScope();try{e(n)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,n){var r=this._lastEventId=pt.uuid4(),i=n;if(!n){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(o){s=o}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,ut.__assign(ut.__assign({},i),{event_id:r})),r},t.prototype.captureMessage=function(e,n,r){var i=this._lastEventId=pt.uuid4(),s=r;if(!r){var o=void 0;try{throw new Error(e)}catch(c){o=c}s={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,n,ut.__assign(ut.__assign({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,n){var r=this._lastEventId=pt.uuid4();return this._invokeClient("captureEvent",e,ut.__assign(ut.__assign({},n),{event_id:r})),r},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,n){var r=this.getStackTop(),i=r.scope,s=r.client;if(!(!i||!s)){var o=s.getOptions&&s.getOptions()||{},c=o.beforeBreadcrumb,u=c===void 0?null:c,p=o.maxBreadcrumbs,l=p===void 0?tB:p;if(!(l<=0)){var d=pt.dateTimestampInSeconds(),f=ut.__assign({timestamp:d},e),h=u?pt.consoleSandbox(function(){return u(f,n)}):f;h!==null&&i.addBreadcrumb(h,l)}}},t.prototype.setUser=function(e){var n=this.getScope();n&&n.setUser(e)},t.prototype.setTags=function(e){var n=this.getScope();n&&n.setTags(e)},t.prototype.setExtras=function(e){var n=this.getScope();n&&n.setExtras(e)},t.prototype.setTag=function(e,n){var r=this.getScope();r&&r.setTag(e,n)},t.prototype.setExtra=function(e,n){var r=this.getScope();r&&r.setExtra(e,n)},t.prototype.setContext=function(e,n){var r=this.getScope();r&&r.setContext(e,n)},t.prototype.configureScope=function(e){var n=this.getStackTop(),r=n.scope,i=n.client;r&&i&&e(r)},t.prototype.run=function(e){var n=jl(this);try{e(this)}finally{jl(n)}},t.prototype.getIntegration=function(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch(r){return pt.logger.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,n){return this._callExtensionMethod("startTransaction",e,n)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,n,r,i,s;(r=(n=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||n===void 0?void 0:n.getSession())===null||r===void 0||r.close(),this._sendSessionUpdate(),(s=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||s===void 0||s.setSession()},t.prototype.startSession=function(e){var n=this.getStackTop(),r=n.scope,i=n.client,s=i&&i.getOptions()||{},o=s.release,c=s.environment,u=pt.getGlobalObject(),p=(u.navigator||{}).userAgent,l=new eB.Session(ut.__assign(ut.__assign(ut.__assign({release:o,environment:c},r&&{user:r.getUser()}),p&&{userAgent:p}),e));if(r){var d=r.getSession&&r.getSession();d&&d.status===G_.SessionStatus.Ok&&d.update({status:G_.SessionStatus.Exited}),this.endSession(),r.setSession(l)}return l},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),n=e.scope,r=e.client;if(!!n){var i=n.getSession&&n.getSession();i&&r&&r.captureSession&&r.captureSession(i)}},t.prototype._invokeClient=function(e){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=this.getStackTop(),o=s.scope,c=s.client;c&&c[e]&&(n=c)[e].apply(n,ut.__spread(r,[o]))},t.prototype._callExtensionMethod=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=$r(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);pt.logger.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();Be.Hub=po;function $r(){var t=pt.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}a($r,"getMainCarrier");Be.getMainCarrier=$r;function jl(t){var e=$r(),n=Wt(e);return lo(e,t),n}a(jl,"makeMain");Be.makeMain=jl;function nB(){var t=$r();return(!Y_(t)||Wt(t).isOlderThan(Be.API_VERSION))&&lo(t,new po),pt.isNodeEnv()?iB(t):Wt(t)}a(nB,"getCurrentHub");Be.getCurrentHub=nB;function rB(){pt.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var t=$r().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}a(rB,"getActiveDomain");Be.getActiveDomain=rB;function iB(t){var e,n,r;try{var i=(r=(n=(e=$r().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||n===void 0?void 0:n.domain)===null||r===void 0?void 0:r.active;if(!i)return Wt(t);if(!Y_(i)||Wt(i).isOlderThan(Be.API_VERSION)){var s=Wt(t).getStackTop();lo(i,new po(s.client,Al.Scope.clone(s.scope)))}return Wt(i)}catch(o){return Wt(t)}}a(iB,"getHubFromActiveDomain");function Y_(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}a(Y_,"hasHubOnCarrier");function Wt(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new po),t.__SENTRY__.hub}a(Wt,"getHubFromCarrier");Be.getHubFromCarrier=Wt;function lo(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}a(lo,"setHubOnCarrier");Be.setHubOnCarrier=lo});var V_=m(Dl=>{Object.defineProperty(Dl,"__esModule",{value:!0});var Ml=Xi(),Bl=N(),sB=Nl(),aB=function(){function t(e,n){var r=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=e,this._intervalId=setInterval(function(){return r.flush()},this.flushTimeout*1e3),this._sessionAttrs=n}return a(t,"SessionFlusher"),t.prototype.sendSessionAggregates=function(e){if(!this._transport.sendSession){Bl.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(n){Bl.logger.error("Error while sending session: "+n)})},t.prototype.flush=function(){var e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(e))},t.prototype.getSessionAggregates=function(){var e=this,n=Object.keys(this._pendingAggregates).map(function(i){return e._pendingAggregates[parseInt(i)]}),r={attrs:this._sessionAttrs,aggregates:n};return Bl.dropUndefinedKeys(r)},t.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},t.prototype.incrementSessionStatusCount=function(){var e,n;if(!!this._isEnabled){var r=sB.getCurrentHub().getScope(),i=(e=r)===null||e===void 0?void 0:e.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(n=r)===null||n===void 0||n.setRequestSession(void 0))}},t.prototype._incrementSessionStatusCount=function(e,n){var r=new Date(n).setSeconds(0,0);this._pendingAggregates[r]=this._pendingAggregates[r]||{};var i=this._pendingAggregates[r];switch(i.started||(i.started=new Date(r).toISOString()),e){case Ml.RequestSessionStatus.Errored:return i.errored=(i.errored||0)+1,i.errored;case Ml.RequestSessionStatus.Ok:return i.exited=(i.exited||0)+1,i.exited;case Ml.RequestSessionStatus.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},t}();Dl.SessionFlusher=aB});var fo=m(De=>{Object.defineProperty(De,"__esModule",{value:!0});var X_=Cl();De.addGlobalEventProcessor=X_.addGlobalEventProcessor;De.Scope=X_.Scope;var oB=Rl();De.Session=oB.Session;var cB=V_();De.SessionFlusher=cB.SessionFlusher;var zn=Nl();De.getActiveDomain=zn.getActiveDomain;De.getCurrentHub=zn.getCurrentHub;De.getHubFromCarrier=zn.getHubFromCarrier;De.getMainCarrier=zn.getMainCarrier;De.Hub=zn.Hub;De.makeMain=zn.makeMain;De.setHubOnCarrier=zn.setHubOnCarrier});var vn=m(Jr=>{Object.defineProperty(Jr,"__esModule",{value:!0});var Z_;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(Z_=Jr.SpanStatus||(Jr.SpanStatus={}));(function(t){function e(n){if(n<400)return t.Ok;if(n>=400&&n<500)switch(n){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(n>=500&&n<600)switch(n){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}a(e,"fromHttpCode"),t.fromHttpCode=e})(Z_=Jr.SpanStatus||(Jr.SpanStatus={}))});var gn=m(_t=>{Object.defineProperty(_t,"__esModule",{value:!0});var Q_=fo();_t.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function uB(t){t===void 0&&(t=(e=Q_.getCurrentHub().getClient())===null||e===void 0?void 0:e.getOptions());var e;return t?"tracesSampleRate"in t||"tracesSampler"in t:!1}a(uB,"hasTracingEnabled");_t.hasTracingEnabled=uB;function pB(t){var e=t.match(_t.TRACEPARENT_REGEXP);if(e){var n=void 0;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}a(pB,"extractTraceparentData");_t.extractTraceparentData=pB;function lB(t){t===void 0&&(t=Q_.getCurrentHub());var e,n;return(n=(e=t)===null||e===void 0?void 0:e.getScope())===null||n===void 0?void 0:n.getTransaction()}a(lB,"getActiveTransaction");_t.getActiveTransaction=lB;function dB(t){return t/1e3}a(dB,"msToSec");_t.msToSec=dB;function fB(t){return t*1e3}a(fB,"secToMs");_t.secToMs=fB;var mB=N();_t.stripUrlQueryAndFragment=mB.stripUrlQueryAndFragment});var nb=m(Fl=>{Object.defineProperty(Fl,"__esModule",{value:!0});var Kl=N(),eb=vn(),hB=gn();function vB(){Kl.addInstrumentationHandler({callback:tb,type:"error"}),Kl.addInstrumentationHandler({callback:tb,type:"unhandledrejection"})}a(vB,"registerErrorInstrumentation");Fl.registerErrorInstrumentation=vB;function tb(){var t=hB.getActiveTransaction();t&&(Kl.logger.log("[Tracing] Transaction: "+eb.SpanStatus.InternalError+" -> Global error occured"),t.setStatus(eb.SpanStatus.InternalError))}a(tb,"errorCallback")});var ho=m(mo=>{Object.defineProperty(mo,"__esModule",{value:!0});var Wr=J(),Gn=N(),Ll=vn(),gB=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return a(t,"SpanRecorder"),t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}();mo.SpanRecorder=gB;var yB=function(){function t(e){if(this.traceId=Gn.uuid4(),this.spanId=Gn.uuid4().substring(16),this.startTimestamp=Gn.timestampWithMs(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return a(t,"Span"),t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var n=new t(Wr.__assign(Wr.__assign({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(e,n){var r;return this.tags=Wr.__assign(Wr.__assign({},this.tags),(r={},r[e]=n,r)),this},t.prototype.setData=function(e,n){var r;return this.data=Wr.__assign(Wr.__assign({},this.data),(r={},r[e]=n,r)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var n=Ll.SpanStatus.fromHttpCode(e);return n!==Ll.SpanStatus.UnknownError&&this.setStatus(n),this},t.prototype.isSuccess=function(){return this.status===Ll.SpanStatus.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:Gn.timestampWithMs()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return Gn.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var n,r,i,s,o;return this.data=(n=e.data,n!=null?n:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(r=e.spanId,r!=null?r:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(s=e.tags,s!=null?s:{}),this.traceId=(o=e.traceId,o!=null?o:this.traceId),this},t.prototype.getTraceContext=function(){return Gn.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Gn.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}();mo.Span=yB});var vo=m(Hl=>{Object.defineProperty(Hl,"__esModule",{value:!0});var zr=J(),rb=fo(),Gr=N(),ib=ho(),_B=function(t){zr.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i._measurements={},i._hub=rb.getCurrentHub(),Gr.isInstanceOf(r,rb.Hub)&&(i._hub=r),i.name=n.name||"",i.metadata=n.metadata||{},i._trimEnd=n.trimEnd,i.transaction=i,i}return a(e,"Transaction"),e.prototype.setName=function(n){this.name=n},e.prototype.initSpanRecorder=function(n){n===void 0&&(n=1e3),this.spanRecorder||(this.spanRecorder=new ib.SpanRecorder(n)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(n){this._measurements=zr.__assign({},n)},e.prototype.setMetadata=function(n){this.metadata=zr.__assign(zr.__assign({},this.metadata),n)},e.prototype.finish=function(n){var r=this;if(this.endTimestamp===void 0){if(this.name||(Gr.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,n),this.sampled!==!0){Gr.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(c){return c!==r&&c.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(c,u){return c.endTimestamp&&u.endTimestamp?c.endTimestamp>u.endTimestamp?c:u:c}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},o=Object.keys(this._measurements).length>0;return o&&(Gr.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),Gr.logger.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},e.prototype.toContext=function(){var n=t.prototype.toContext.call(this);return Gr.dropUndefinedKeys(zr.__assign(zr.__assign({},n),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(n){var r;return t.prototype.updateWithContext.call(this,n),this.name=(r=n.name,r!=null?r:""),this._trimEnd=n.trimEnd,this},e}(ib.Span);Hl.Transaction=_B});var go=m(Yr=>{Object.defineProperty(Yr,"__esModule",{value:!0});var Ul=J(),ve=N(),bB=ho(),sb=vn(),xB=vo();Yr.DEFAULT_IDLE_TIMEOUT=1e3;var ab=function(t){Ul.__extends(e,t);function e(n,r,i,s){i===void 0&&(i="");var o=t.call(this,s)||this;return o._pushActivity=n,o._popActivity=r,o.transactionSpanId=i,o}return a(e,"IdleTransactionSpanRecorder"),e.prototype.add=function(n){var r=this;n.spanId!==this.transactionSpanId&&(n.finish=function(i){n.endTimestamp=typeof i=="number"?i:ve.timestampWithMs(),r._popActivity(n.spanId)},n.endTimestamp===void 0&&this._pushActivity(n.spanId)),t.prototype.add.call(this,n)},e}(bB.SpanRecorder);Yr.IdleTransactionSpanRecorder=ab;var SB=function(t){Ul.__extends(e,t);function e(n,r,i,s){i===void 0&&(i=Yr.DEFAULT_IDLE_TIMEOUT),s===void 0&&(s=!1);var o=t.call(this,n,r)||this;return o._idleHub=r,o._idleTimeout=i,o._onScope=s,o.activities={},o._heartbeatTimer=0,o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],r&&s&&(ob(r),ve.logger.log("Setting idle transaction on scope. Span ID: "+o.spanId),r.configureScope(function(c){return c.setSpan(o)})),o._initTimeout=setTimeout(function(){o._finished||o.finish()},o._idleTimeout),o}return a(e,"IdleTransaction"),e.prototype.finish=function(n){var r,i,s=this;if(n===void 0&&(n=ve.timestampWithMs()),this._finished=!0,this.activities={},this.spanRecorder){ve.logger.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);try{for(var o=Ul.__values(this._beforeFinishCallbacks),c=o.next();!c.done;c=o.next()){var u=c.value;u(this,n)}}catch(p){r={error:p}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(p){if(p.spanId===s.spanId)return!0;p.endTimestamp||(p.endTimestamp=n,p.setStatus(sb.SpanStatus.Cancelled),ve.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(p,void 0,2)));var l=p.startTimestamp<n;return l||ve.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(p,void 0,2)),l}),ve.logger.log("[Tracing] flushing IdleTransaction")}else ve.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&ob(this._idleHub),t.prototype.finish.call(this,n)},e.prototype.registerBeforeFinishCallback=function(n){this._beforeFinishCallbacks.push(n)},e.prototype.initSpanRecorder=function(n){var r=this;if(!this.spanRecorder){var i=a(function(o){r._finished||r._pushActivity(o)},"pushActivity"),s=a(function(o){r._finished||r._popActivity(o)},"popActivity");this.spanRecorder=new ab(i,s,this.spanId,n),ve.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(n){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),ve.logger.log("[Tracing] pushActivity: "+n),this.activities[n]=!0,ve.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(n){var r=this;if(this.activities[n]&&(ve.logger.log("[Tracing] popActivity "+n),delete this.activities[n],ve.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,s=ve.timestampWithMs()+i/1e3;setTimeout(function(){r._finished||r.finish(s)},i)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var n=Object.keys(this.activities),r=n.length?n.reduce(function(i,s){return i+s}):"";r===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=r,this._heartbeatCounter>=3?(ve.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(sb.SpanStatus.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var n=this;ve.logger.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){n._beat()},5e3)},e}(xB.Transaction);Yr.IdleTransaction=SB;function ob(t){if(t){var e=t.getScope();if(e){var n=e.getTransaction();n&&e.setSpan(void 0)}}}a(ob,"clearActiveTransaction")});var _o=m((Zi,Qi)=>{Object.defineProperty(Zi,"__esModule",{value:!0});var $l=J(),cb=fo(),yo=Xi(),Ge=N(),EB=nb(),wB=go(),TB=vo(),OB=gn();function kB(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}a(kB,"traceHeaders");function ub(t,e,n){if(!OB.hasTracingEnabled())return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:yo.TransactionSamplingMethod.Explicit}}),t;var r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:yo.TransactionSamplingMethod.Sampler,rate:Number(r)}})):n.parentSampled!==void 0?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:yo.TransactionSamplingMethod.Inheritance}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:yo.TransactionSamplingMethod.Rate,rate:Number(r)}})),qB(r)?r?(t.sampled=Math.random()<r,t.sampled?(Ge.logger.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(Ge.logger.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(Ge.logger.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(Ge.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}a(ub,"sample");function qB(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(Ge.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(Ge.logger.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}a(qB,"isValidSampleRate");function CB(t,e){var n,r,i=((n=this.getClient())===null||n===void 0?void 0:n.getOptions())||{},s=new TB.Transaction(t,this);return s=ub(s,i,$l.__assign({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder((r=i._experiments)===null||r===void 0?void 0:r.maxSpans),s}a(CB,"_startTransaction");function IB(t,e,n,r,i){var s,o,c=((s=t.getClient())===null||s===void 0?void 0:s.getOptions())||{},u=new wB.IdleTransaction(e,t,n,r);return u=ub(u,c,$l.__assign({parentSampled:e.parentSampled,transactionContext:e},i)),u.sampled&&u.initSpanRecorder((o=c._experiments)===null||o===void 0?void 0:o.maxSpans),u}a(IB,"startIdleTransaction");Zi.startIdleTransaction=IB;function pb(){var t=cb.getMainCarrier();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=CB),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=kB))}a(pb,"_addTracingExtensions");Zi._addTracingExtensions=pb;function PB(){var t=cb.getMainCarrier();if(!!t.__SENTRY__){var e={mongodb:function(){var r=Ge.dynamicRequire(Qi,"./integrations/mongo");return new r.Mongo},mongoose:function(){var r=Ge.dynamicRequire(Qi,"./integrations/mongo");return new r.Mongo({mongoose:!0})},mysql:function(){var r=Ge.dynamicRequire(Qi,"./integrations/mysql");return new r.Mysql},pg:function(){var r=Ge.dynamicRequire(Qi,"./integrations/postgres");return new r.Postgres}},n=Object.keys(e).filter(function(r){return!!Ge.loadModule(r)}).map(function(r){try{return e[r]()}catch(i){return}}).filter(function(r){return r});n.length>0&&(t.__SENTRY__.integrations=$l.__spread(t.__SENTRY__.integrations||[],n))}}a(PB,"_autoloadDatabaseIntegrations");function RB(){pb(),Ge.isNodeEnv()&&PB(),EB.registerErrorInstrumentation()}a(RB,"addExtensionMethods");Zi.addExtensionMethods=RB});var db=m(Wl=>{Object.defineProperty(Wl,"__esModule",{value:!0});var Jl=N(),lb=vn(),AB=gn(),bo=Jl.getGlobalObject();function jB(){bo&&bo.document?bo.document.addEventListener("visibilitychange",function(){var t=AB.getActiveTransaction();bo.document.hidden&&t&&(Jl.logger.log("[Tracing] Transaction: "+lb.SpanStatus.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(lb.SpanStatus.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):Jl.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}a(jB,"registerBackgroundTabDetection");Wl.registerBackgroundTabDetection=jB});var xo=m(zl=>{Object.defineProperty(zl,"__esModule",{value:!0});zl.bindReporter=function(t,e,n,r){var i;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||document.visibilityState==="hidden")&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||i===void 0)&&(t(e),i=e.value))}}});var fb=m(Gl=>{Object.defineProperty(Gl,"__esModule",{value:!0});Gl.generateUniqueID=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)}});var So=m(Yl=>{Object.defineProperty(Yl,"__esModule",{value:!0});var NB=fb();Yl.initMetric=function(t,e){return e===void 0&&(e=-1),{name:t,value:e,delta:0,entries:[],id:NB.generateUniqueID(),isFinal:!1}}});var Eo=m(Vl=>{Object.defineProperty(Vl,"__esModule",{value:!0});Vl.observe=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(r){return r.getEntries().map(e)});return n.observe({type:t,buffered:!0}),n}}catch(r){}}});var es=m(Xl=>{Object.defineProperty(Xl,"__esModule",{value:!0});var mb=!1,hb=!1,MB=a(function(t){mb=!t.persisted},"onPageHide"),BB=a(function(){addEventListener("pagehide",MB),addEventListener("beforeunload",function(){})},"addListeners");Xl.onHidden=function(t,e){e===void 0&&(e=!1),hb||(BB(),hb=!0),addEventListener("visibilitychange",function(n){var r=n.timeStamp;document.visibilityState==="hidden"&&t({timeStamp:r,isUnloading:mb})},{capture:!0,once:e})}});var vb=m(Zl=>{Object.defineProperty(Zl,"__esModule",{value:!0});var DB=xo(),KB=So(),FB=Eo(),LB=es();Zl.getCLS=function(t,e){e===void 0&&(e=!1);var n=KB.initMetric("CLS",0),r,i=a(function(o){o.hadRecentInput||(n.value+=o.value,n.entries.push(o),r())},"entryHandler"),s=FB.observe("layout-shift",i);s&&(r=DB.bindReporter(t,n,s,e),LB.onHidden(function(o){var c=o.isUnloading;s.takeRecords().map(i),c&&(n.isFinal=!0),r()}))}});var To=m(Ql=>{Object.defineProperty(Ql,"__esModule",{value:!0});var HB=es(),wo;Ql.getFirstHidden=function(){return wo===void 0&&(wo=document.visibilityState==="hidden"?0:Infinity,HB.onHidden(function(t){var e=t.timeStamp;return wo=e},!0)),{get timeStamp(){return wo}}}});var gb=m(ed=>{Object.defineProperty(ed,"__esModule",{value:!0});var UB=xo(),$B=To(),JB=So(),WB=Eo(),zB=es();ed.getFID=function(t){var e=JB.initMetric("FID"),n=$B.getFirstHidden(),r=a(function(o){o.startTime<n.timeStamp&&(e.value=o.processingStart-o.startTime,e.entries.push(o),e.isFinal=!0,s())},"entryHandler"),i=WB.observe("first-input",r),s=UB.bindReporter(t,e,i);i?zB.onHidden(function(){i.takeRecords().map(r),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(o,c){c.timeStamp<n.timeStamp&&(e.value=o,e.isFinal=!0,e.entries=[{entryType:"first-input",name:c.type,target:c.target,cancelable:c.cancelable,startTime:c.timeStamp,processingStart:c.timeStamp+o}],s())})}});var yb=m(nd=>{Object.defineProperty(nd,"__esModule",{value:!0});var td;nd.whenInput=function(){return td||(td=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),td}});var _b=m(rd=>{Object.defineProperty(rd,"__esModule",{value:!0});var GB=xo(),YB=To(),VB=So(),XB=Eo(),ZB=es(),QB=yb();rd.getLCP=function(t,e){e===void 0&&(e=!1);var n=VB.initMetric("LCP"),r=YB.getFirstHidden(),i,s=a(function(u){var p=u.startTime;p<r.timeStamp?(n.value=p,n.entries.push(u)):n.isFinal=!0,i()},"entryHandler"),o=XB.observe("largest-contentful-paint",s);if(o){i=GB.bindReporter(t,n,o,e);var c=a(function(){n.isFinal||(o.takeRecords().map(s),n.isFinal=!0,i())},"onFinal");QB.whenInput().then(c),ZB.onHidden(c,!0)}}});var Sb=m(ts=>{Object.defineProperty(ts,"__esModule",{value:!0});var bb=J(),ee=N(),ie=gn(),eD=vb(),tD=gb(),nD=_b(),rD=To(),zt=ee.getGlobalObject(),iD=function(){function t(){var e;this._measurements={},this._performanceCursor=0,!ee.isNodeEnv()&&((e=zt)===null||e===void 0?void 0:e.performance)&&(zt.performance.mark&&zt.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return a(t,"MetricsInstrumentation"),t.prototype.addPerformanceEntries=function(e){var n=this;if(!(!zt||!zt.performance||!zt.performance.getEntries||!ee.browserPerformanceTimeOrigin)){ee.logger.log("[Tracing] Adding & adjusting spans using Performance API");var r=ie.msToSec(ee.browserPerformanceTimeOrigin),i;if(zt.document){for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].dataset.entry==="true"){i=document.scripts[s].src;break}}var o,c,u,p;if(zt.performance.getEntries().slice(this._performanceCursor).forEach(function(d){var f=ie.msToSec(d.startTime),h=ie.msToSec(d.duration);if(!(e.op==="navigation"&&r+f<e.startTimestamp))switch(d.entryType){case"navigation":{sD(e,d,r),u=r+ie.msToSec(d.responseStart),p=r+ie.msToSec(d.requestStart);break}case"mark":case"paint":case"measure":{var v=aD(e,d,f,h,r);c===void 0&&d.name==="sentry-tracing-init"&&(c=v);var g=rD.getFirstHidden(),y=d.startTime<g.timeStamp;d.name==="first-paint"&&y&&(ee.logger.log("[Measurements] Adding FP"),n._measurements.fp={value:d.startTime},n._measurements["mark.fp"]={value:v}),d.name==="first-contentful-paint"&&y&&(ee.logger.log("[Measurements] Adding FCP"),n._measurements.fcp={value:d.startTime},n._measurements["mark.fcp"]={value:v});break}case"resource":{var _=d.name.replace(window.location.origin,""),x=xb(e,d,_,f,h,r);o===void 0&&(i||"").indexOf(_)>-1&&(o=x);break}default:}}),o!==void 0&&c!==void 0&&_n(e,{description:"evaluation",endTimestamp:c,op:"script",startTimestamp:o}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var l=ie.msToSec(ee.browserPerformanceTimeOrigin);typeof u=="number"&&(ee.logger.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(u-e.startTimestamp)*1e3},typeof p=="number"&&p<=u&&(this._measurements["ttfb.requestTime"]={value:(u-p)*1e3})),["fcp","fp","lcp"].forEach(function(d){if(!(!n._measurements[d]||l>=e.startTimestamp)){var f=n._measurements[d].value,h=l+ie.msToSec(f),v=Math.abs((h-e.startTimestamp)*1e3),g=v-f;ee.logger.log("[Measurements] Normalized "+d+" from "+f+" to "+v+" ("+g+")"),n._measurements[d].value=v}}),this._measurements["mark.fid"]&&this._measurements.fid&&_n(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+ie.msToSec(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},t.prototype._tagMetricInfo=function(e){this._lcpEntry&&(ee.logger.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",ee.htmlTreeAsString(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&(ee.logger.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.map(function(n,r){return e.setTag("cls.source."+(r+1),ee.htmlTreeAsString(n.node))}))},t.prototype._trackCLS=function(){var e=this;eD.getCLS(function(n){var r=n.entries.pop();!r||(ee.logger.log("[Measurements] Adding CLS"),e._measurements.cls={value:n.value},e._clsEntry=r)})},t.prototype._trackNavigator=function(e){var n=zt.navigator;if(!!n){var r=n.connection;r&&(r.effectiveType&&e.setTag("effectiveConnectionType",r.effectiveType),r.type&&e.setTag("connectionType",r.type),Oo(r.rtt)&&(this._measurements["connection.rtt"]={value:r.rtt}),Oo(r.downlink)&&(this._measurements["connection.downlink"]={value:r.downlink})),Oo(n.deviceMemory)&&e.setTag("deviceMemory",String(n.deviceMemory)),Oo(n.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(n.hardwareConcurrency))}},t.prototype._trackLCP=function(){var e=this;nD.getLCP(function(n){var r=n.entries.pop();if(!!r){var i=ie.msToSec(ee.browserPerformanceTimeOrigin),s=ie.msToSec(r.startTime);ee.logger.log("[Measurements] Adding LCP"),e._measurements.lcp={value:n.value},e._measurements["mark.lcp"]={value:i+s},e._lcpEntry=r}})},t.prototype._trackFID=function(){var e=this;tD.getFID(function(n){var r=n.entries.pop();if(!!r){var i=ie.msToSec(ee.browserPerformanceTimeOrigin),s=ie.msToSec(r.startTime);ee.logger.log("[Measurements] Adding FID"),e._measurements.fid={value:n.value},e._measurements["mark.fid"]={value:i+s}}})},t}();ts.MetricsInstrumentation=iD;function sD(t,e,n){yn({transaction:t,entry:e,event:"unloadEvent",timeOrigin:n}),yn({transaction:t,entry:e,event:"redirect",timeOrigin:n}),yn({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:n}),yn({transaction:t,entry:e,event:"loadEvent",timeOrigin:n}),yn({transaction:t,entry:e,event:"connect",timeOrigin:n}),yn({transaction:t,entry:e,event:"secureConnection",timeOrigin:n,eventEnd:"connectEnd",description:"TLS/SSL"}),yn({transaction:t,entry:e,event:"fetch",timeOrigin:n,eventEnd:"domainLookupStart",description:"cache"}),yn({transaction:t,entry:e,event:"domainLookup",timeOrigin:n,description:"DNS"}),oD(t,e,n)}a(sD,"addNavigationSpans");function aD(t,e,n,r,i){var s=i+n,o=s+r;return _n(t,{description:e.name,endTimestamp:o,op:e.entryType,startTimestamp:s}),s}a(aD,"addMeasureSpans");function xb(t,e,n,r,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize);var c=s+r,u=c+i;return _n(t,{description:n,endTimestamp:u,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:c,data:o}),u}}a(xb,"addResourceSpans");ts.addResourceSpans=xb;function yn(t){var e=t.transaction,n=t.entry,r=t.event,i=t.timeOrigin,s=t.eventEnd,o=t.description,c=s?n[s]:n[r+"End"],u=n[r+"Start"];!u||!c||_n(e,{op:"browser",description:o!=null?o:r,startTimestamp:i+ie.msToSec(u),endTimestamp:i+ie.msToSec(c)})}a(yn,"addPerformanceNavigationTiming");function oD(t,e,n){_n(t,{op:"browser",description:"request",startTimestamp:n+ie.msToSec(e.requestStart),endTimestamp:n+ie.msToSec(e.responseEnd)}),_n(t,{op:"browser",description:"response",startTimestamp:n+ie.msToSec(e.responseStart),endTimestamp:n+ie.msToSec(e.responseEnd)})}a(oD,"addRequest");function _n(t,e){var n=e.startTimestamp,r=bb.__rest(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(bb.__assign({startTimestamp:n},r))}a(_n,"_startChild");ts._startChild=_n;function Oo(t){return typeof t=="number"&&isFinite(t)}a(Oo,"isMeasurementValue")});var id=m(Yt=>{Object.defineProperty(Yt,"__esModule",{value:!0});var Gt=J(),ns=N(),cD=vn(),ko=gn();Yt.DEFAULT_TRACING_ORIGINS=["localhost",/^\//];Yt.defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:Yt.DEFAULT_TRACING_ORIGINS};function uD(t){var e=Gt.__assign(Gt.__assign({},Yt.defaultRequestInstrumentationOptions),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,s=e.shouldCreateSpanForRequest,o={},c=a(function(l){if(o[l])return o[l];var d=i;return o[l]=d.some(function(f){return ns.isMatchingPattern(l,f)})&&!ns.isMatchingPattern(l,"sentry_key"),o[l]},"defaultShouldCreateSpan"),u=c;typeof s=="function"&&(u=a(function(l){return c(l)&&s(l)},"shouldCreateSpan"));var p={};n&&ns.addInstrumentationHandler({callback:function(l){Eb(l,u,p)},type:"fetch"}),r&&ns.addInstrumentationHandler({callback:function(l){wb(l,u,p)},type:"xhr"})}a(uD,"instrumentOutgoingRequests");Yt.instrumentOutgoingRequests=uD;function Eb(t,e,n){if(!(!ko.hasTracingEnabled()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp&&t.fetchData.__span){var r=n[t.fetchData.__span];r&&(t.response?r.setHttpStatus(t.response.status):t.error&&r.setStatus(cD.SpanStatus.InternalError),r.finish(),delete n[t.fetchData.__span]);return}var i=ko.getActiveTransaction();if(i){var r=i.startChild({data:Gt.__assign(Gt.__assign({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=r.spanId,n[r.spanId]=r;var s=t.args[0]=t.args[0],o=t.args[1]=t.args[1]||{},c=o.headers;ns.isInstanceOf(s,Request)&&(c=s.headers),c?typeof c.append=="function"?c.append("sentry-trace",r.toTraceparent()):Array.isArray(c)?c=Gt.__spread(c,[["sentry-trace",r.toTraceparent()]]):c=Gt.__assign(Gt.__assign({},c),{"sentry-trace":r.toTraceparent()}):c={"sentry-trace":r.toTraceparent()},o.headers=c}}}a(Eb,"fetchCallback");Yt.fetchCallback=Eb;function wb(t,e,n){var r,i;if(!(!ko.hasTracingEnabled()||((r=t.xhr)===null||r===void 0?void 0:r.__sentry_own_request__)||!(((i=t.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&e(t.xhr.__sentry_xhr__.url)))){var s=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){var o=n[t.xhr.__sentry_xhr_span_id__];o&&(o.setHttpStatus(s.status_code),o.finish(),delete n[t.xhr.__sentry_xhr_span_id__]);return}var c=ko.getActiveTransaction();if(c){var o=c.startChild({data:Gt.__assign(Gt.__assign({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=o.spanId,n[t.xhr.__sentry_xhr_span_id__]=o,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch(p){}}}}a(wb,"xhrCallback");Yt.xhrCallback=wb});var Tb=m(sd=>{Object.defineProperty(sd,"__esModule",{value:!0});var qo=N(),rs=qo.getGlobalObject();function pD(t,e,n){if(e===void 0&&(e=!0),n===void 0&&(n=!0),!rs||!rs.location){qo.logger.warn("Could not initialize routing instrumentation due to invalid location");return}var r=rs.location.href,i;e&&(i=t({name:rs.location.pathname,op:"pageload"})),n&&qo.addInstrumentationHandler({callback:function(s){var o=s.to,c=s.from;if(c===void 0&&r&&r.indexOf(o)!==-1){r=void 0;return}c!==o&&(r=void 0,i&&(qo.logger.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:rs.location.pathname,op:"navigation"}))},type:"history"})}a(pD,"instrumentRoutingWithDefaults");sd.instrumentRoutingWithDefaults=pD});var Cb=m(Yn=>{Object.defineProperty(Yn,"__esModule",{value:!0});var Vt=J(),Vr=N(),lD=_o(),dD=go(),fD=vn(),Ob=gn(),mD=db(),hD=Sb(),Co=id(),vD=Tb();Yn.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS=600;var gD=Vt.__assign({idleTimeout:dD.DEFAULT_IDLE_TIMEOUT,markBackgroundTransactions:!0,maxTransactionDuration:Yn.DEFAULT_MAX_TRANSACTION_DURATION_SECONDS,routingInstrumentation:vD.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Co.defaultRequestInstrumentationOptions),yD=function(){function t(e){this.name=t.id,this._metrics=new hD.MetricsInstrumentation,this._emitOptionsWarning=!1;var n=Co.defaultRequestInstrumentationOptions.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Vt.__assign(Vt.__assign(Vt.__assign({},gD),e),{tracingOrigins:n})}return a(t,"BrowserTracing"),t.prototype.setupOnce=function(e,n){var r=this;this._getCurrentHub=n,this._emitOptionsWarning&&(Vr.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Vr.logger.warn("[Tracing] We added a reasonable default for you: "+Co.defaultRequestInstrumentationOptions.tracingOrigins));var i=this.options,s=i.routingInstrumentation,o=i.startTransactionOnLocationChange,c=i.startTransactionOnPageLoad,u=i.markBackgroundTransactions,p=i.traceFetch,l=i.traceXHR,d=i.tracingOrigins,f=i.shouldCreateSpanForRequest;s(function(h){return r._createRouteTransaction(h)},c,o),u&&mD.registerBackgroundTabDetection(),Co.instrumentOutgoingRequests({traceFetch:p,traceXHR:l,tracingOrigins:d,shouldCreateSpanForRequest:f})},t.prototype._createRouteTransaction=function(e){var n=this;if(!this._getCurrentHub){Vr.logger.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var r=this.options,i=r.beforeNavigate,s=r.idleTimeout,o=r.maxTransactionDuration,c=e.op==="pageload"?kb():void 0,u=Vt.__assign(Vt.__assign(Vt.__assign({},e),c),{trimEnd:!0}),p=typeof i=="function"?i(u):u,l=p===void 0?Vt.__assign(Vt.__assign({},u),{sampled:!1}):p;l.sampled===!1&&Vr.logger.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),Vr.logger.log("[Tracing] Starting "+l.op+" transaction on scope");var d=this._getCurrentHub(),f=Vr.getGlobalObject().location,h=lD.startIdleTransaction(d,l,s,!0,{location:f});return h.registerBeforeFinishCallback(function(v,g){n._metrics.addPerformanceEntries(v),_D(Ob.secToMs(o),v,g)}),h},t.id="BrowserTracing",t}();Yn.BrowserTracing=yD;function kb(){var t=qb("sentry-trace");if(t)return Ob.extractTraceparentData(t)}a(kb,"getHeaderContext");Yn.getHeaderContext=kb;function qb(t){var e=document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}a(qb,"getMetaContent");Yn.getMetaContent=qb;function _D(t,e,n){var r=n-e.startTimestamp,i=n&&(r>t||r<0);i&&(e.setStatus(fD.SpanStatus.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}a(_D,"adjustTransactionDuration")});var ad=m(is=>{Object.defineProperty(is,"__esModule",{value:!0});var bD=Cb();is.BrowserTracing=bD.BrowserTracing;var Ib=id();is.instrumentOutgoingRequests=Ib.instrumentOutgoingRequests;is.defaultRequestInstrumentationOptions=Ib.defaultRequestInstrumentationOptions});var Rb=m(cd=>{Object.defineProperty(cd,"__esModule",{value:!0});var od=J(),xD=N(),SD=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return a(t,"Express"),t.prototype.setupOnce=function(){if(!this._router){xD.logger.error("ExpressIntegration is missing an Express instance");return}TD(this._router,this._methods)},t.id="Express",t}();cd.Express=SD;function Pb(t,e){var n=t.length;switch(n){case 2:return function(r,i){var s=i.__sentry_transaction;if(s){var o=s.startChild({description:t.name,op:"middleware."+e});i.once("finish",function(){o.finish()})}return t.call(this,r,i)};case 3:return function(r,i,s){var o,c=i.__sentry_transaction,u=(o=c)===null||o===void 0?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,r,i,function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];var d;(d=u)===null||d===void 0||d.finish(),s.call.apply(s,od.__spread([this],p))})};case 4:return function(r,i,s,o){var c,u=s.__sentry_transaction,p=(c=u)===null||c===void 0?void 0:c.startChild({description:t.name,op:"middleware."+e});t.call(this,r,i,s,function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f;(f=p)===null||f===void 0||f.finish(),o.call.apply(o,od.__spread([this],l))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}a(Pb,"wrap");function ED(t,e){return t.map(function(n){return typeof n=="function"?Pb(n,e):Array.isArray(n)?n.map(function(r){return typeof r=="function"?Pb(r,e):r}):n})}a(ED,"wrapMiddlewareArgs");function wD(t,e){var n=t[e];return t[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.call.apply(n,od.__spread([this],ED(r,e)))},t}a(wD,"patchMiddleware");function TD(t,e){e===void 0&&(e=[]),e.forEach(function(n){return wD(t,n)})}a(TD,"instrumentMiddlewares")});var Ab=m(ud=>{Object.defineProperty(ud,"__esModule",{value:!0});var Io=N(),OD=function(){function t(){this.name=t.id}return a(t,"Postgres"),t.prototype.setupOnce=function(e,n){var r=Io.loadModule("pg");if(!r){Io.logger.error("Postgres Integration was unable to require `pg` package.");return}Io.fill(r.Client.prototype,"query",function(i){return function(s,o,c){var u,p,l,d=n().getScope(),f=(u=d)===null||u===void 0?void 0:u.getSpan(),h=(p=f)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof c=="function")return i.call(this,s,o,function(g,y){var _;(_=h)===null||_===void 0||_.finish(),c(g,y)});if(typeof o=="function")return i.call(this,s,function(g,y){var _;(_=h)===null||_===void 0||_.finish(),o(g,y)});var v=typeof o!="undefined"?i.call(this,s,o):i.call(this,s);return Io.isThenable(v)?v.then(function(g){var y;return(y=h)===null||y===void 0||y.finish(),g}):((l=h)===null||l===void 0||l.finish(),v)}})},t.id="Postgres",t}();ud.Postgres=OD});var jb=m(ld=>{Object.defineProperty(ld,"__esModule",{value:!0});var pd=N(),kD=function(){function t(){this.name=t.id}return a(t,"Mysql"),t.prototype.setupOnce=function(e,n){var r=pd.loadModule("mysql/lib/Connection.js");if(!r){pd.logger.error("Mysql Integration was unable to require `mysql` package.");return}pd.fill(r,"createQuery",function(i){return function(s,o,c){var u,p,l=n().getScope(),d=(u=l)===null||u===void 0?void 0:u.getSpan(),f=(p=d)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.sql,op:"db"});return typeof c=="function"?i.call(this,s,o,function(h,v,g){var y;(y=f)===null||y===void 0||y.finish(),c(h,v,g)}):typeof o=="function"?i.call(this,s,function(h,v,g){var y;(y=f)===null||y===void 0||y.finish(),o(h,v,g)}):i.call(this,s,o,c)}})},t.id="Mysql",t}();ld.Mysql=kD});var Nb=m(fd=>{Object.defineProperty(fd,"__esModule",{value:!0});var dd=J(),Po=N(),qD=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],CD={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},ID=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:qD,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}return a(t,"Mongo"),t.prototype.setupOnce=function(e,n){var r=this._useMongoose?"mongoose":"mongodb",i=Po.loadModule(r);if(!i){Po.logger.error("Mongo Integration was unable to require `"+r+"` package.");return}this._instrumentOperations(i.Collection,this._operations,n)},t.prototype._instrumentOperations=function(e,n,r){var i=this;n.forEach(function(s){return i._patchOperation(e,s,r)})},t.prototype._patchOperation=function(e,n,r){if(n in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);Po.fill(e.prototype,n,function(s){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var u,p,l,d,f=o[o.length-1],h=r().getScope(),v=(u=h)===null||u===void 0?void 0:u.getSpan();if(typeof f!="function"||n==="mapReduce"&&o.length===2){var g=(p=v)===null||p===void 0?void 0:p.startChild(i(this,n,o)),y=s.call.apply(s,dd.__spread([this],o));return Po.isThenable(y)?y.then(function(x){var S;return(S=g)===null||S===void 0||S.finish(),x}):((l=g)===null||l===void 0||l.finish(),y)}var _=(d=v)===null||d===void 0?void 0:d.startChild(i(this,n,o.slice(0,-1)));return s.call.apply(s,dd.__spread([this],o.slice(0,-1),[function(x,S){var E;(E=_)===null||E===void 0||E.finish(),f(x,S)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,n,r){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:n,data:i},o=CD[n],c=Array.isArray(this._describeOperations)?this._describeOperations.includes(n):this._describeOperations;if(!o||!c)return s;try{if(n==="mapReduce"){var u=dd.__read(r,2),p=u[0],l=u[1];i[o[0]]=typeof p=="string"?p:p.name||"<anonymous>",i[o[1]]=typeof l=="string"?l:l.name||"<anonymous>"}else for(var d=0;d<o.length;d++)i[o[d]]=JSON.stringify(r[d])}catch(f){}return s},t.id="Mongo",t}();fd.Mongo=ID});var Mb=m(Xr=>{Object.defineProperty(Xr,"__esModule",{value:!0});var PD=Rb();Xr.Express=PD.Express;var RD=Ab();Xr.Postgres=RD.Postgres;var AD=jb();Xr.Mysql=AD.Mysql;var jD=Nb();Xr.Mongo=jD.Mongo});var md=m(ge=>{Object.defineProperty(ge,"__esModule",{value:!0});var Bb=J(),ND=ad(),Db=_o();ge.addExtensionMethods=Db.addExtensionMethods;var MD=Mb(),BD=Bb.__assign(Bb.__assign({},MD),{BrowserTracing:ND.BrowserTracing});ge.Integrations=BD;var DD=ho();ge.Span=DD.Span;var KD=vo();ge.Transaction=KD.Transaction;var Kb=ad();ge.registerRequestInstrumentation=Kb.instrumentOutgoingRequests;ge.defaultRequestInstrumentationOptions=Kb.defaultRequestInstrumentationOptions;var FD=vn();ge.SpanStatus=FD.SpanStatus;var LD=go();ge.IdleTransaction=LD.IdleTransaction;var HD=_o();ge.startIdleTransaction=HD.startIdleTransaction;Db.addExtensionMethods();var ss=gn();ge.extractTraceparentData=ss.extractTraceparentData;ge.getActiveTransaction=ss.getActiveTransaction;ge.hasTracingEnabled=ss.hasTracingEnabled;ge.stripUrlQueryAndFragment=ss.stripUrlQueryAndFragment;ge.TRACEPARENT_REGEXP=ss.TRACEPARENT_REGEXP});var vd=m(hd=>{Object.defineProperty(hd,"__esModule",{value:!0});var UD=We(),$D=N(),Zr=class{constructor(e={}){this.name=Zr.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("aws-sdk/global");$D.fill(e.Service.prototype,"makeRequest",JD)}catch(e){if(!this._optional)throw e}}};a(Zr,"AWSServices");hd.AWSServices=Zr;Zr.id="AWSServices";function JD(t){return function(e,n,r){let i,s,o=UD.getCurrentHub().getScope();o&&(i=o.getTransaction());let c=t.call(this,e,n);return c.on("afterBuild",()=>{i&&(s=i.startChild({description:WD(this,e,n),op:"aws.request"}))}),c.on("complete",()=>{s&&s.finish()}),r&&c.send(r),c}}a(JD,"wrapMakeRequest");function WD(t,e,n){let r=`aws.${t.serviceIdentifier}.${e}`;if(n===void 0)return r;switch(t.serviceIdentifier){case"s3":r+=GD(e,n);break;case"lambda":r+=zD(e,n);break}return r}a(WD,"describe");function zD(t,e){let n="";return"FunctionName"in e&&(n+=` ${e.FunctionName}`),n}a(zD,"describeLambdaOperation");function GD(t,e){let n="";return"Bucket"in e&&(n+=` ${e.Bucket}`),n}a(GD,"describeS3Operation")});var ei=m(Qr=>{Object.defineProperty(Qr,"__esModule",{value:!0});var YD=N(),Fb=require("domain");function VD(t){return YD.addExceptionMechanism(t,{handled:!1}),t}a(VD,"serverlessEventProcessor");Qr.serverlessEventProcessor=VD;function Lb(){return Fb.active}a(Lb,"getActiveDomain");Qr.getActiveDomain=Lb;function XD(t){return(...e)=>Lb()?t(...e):Fb.create().run(()=>t(...e))}a(XD,"domainify");Qr.domainify=XD;function ZD(t,e,n){let r=e(t),i={apply:(s,o,c)=>r.apply(o,c)};return n&&(i.get=(s,o)=>n.hasOwnProperty(o)?n[o]:s[o]),new Proxy(t,i)}a(ZD,"proxyFunction");Qr.proxyFunction=ZD});var Wb=m(bn=>{Object.defineProperty(bn,"__esModule",{value:!0});var QD=J(),Vn=We(),as=We(),e2=md(),os=N(),Hb=require("fs"),t2=require("os"),Ub=require("path"),$b=require("perf_hooks"),n2=require("util"),r2=vd(),i2=ei();QD.__exportStar(We(),bn);var{isPromise:s2}=n2.types;bn.defaultIntegrations=[...as.defaultIntegrations,new r2.AWSServices({optional:!0})];function a2(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=bn.defaultIntegrations),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.serverless",integrations:["AWSLambda"],packages:[{name:"npm:@sentry/serverless",version:as.SDK_VERSION}],version:as.SDK_VERSION},as.init(t),as.addGlobalEventProcessor(i2.serverlessEventProcessor)}a(a2,"init");bn.init=a2;function o2(t,e,n){let r=Ub.resolve(t,e,n);return Hb.existsSync(r)||Hb.existsSync(`${r}.js`)?require(r):require(require.resolve(n,{paths:[t,e]}))}a(o2,"tryRequire");function c2(t,e){let n=Ub.basename(e),r=n.match(/^([^.]*)\.(.*)$/);if(!r){os.logger.error(`Bad handler ${n}`);return}let[,i,s]=r,o;try{let p=e.substring(0,e.indexOf(n));o=o2(t,p,i)}catch(p){os.logger.error(`Cannot require ${e} in ${t}`,p);return}let c,u;if(s.split(".").forEach(p=>{c=o,o=o&&o[p],u=p}),!o){os.logger.error(`${e} is undefined or not exported`);return}if(typeof o!="function"){os.logger.error(`${e} is not a function`);return}c[u]=Jb(o)}a(c2,"tryPatchHandler");bn.tryPatchHandler=c2;function gd(t){return typeof t.getRemainingTimeInMillis=="function"?t.getRemainingTimeInMillis():0}a(gd,"tryGetRemainingTimeInMillis");function u2(t,e,n){t.setTransactionName(e.functionName),t.setTag("server_name",process.env._AWS_XRAY_DAEMON_ADDRESS||process.env.SENTRY_NAME||t2.hostname()),t.setTag("url",`awslambda:///${e.functionName}`),t.setContext("runtime",{name:"node",version:global.process.version}),t.setContext("aws.lambda",{aws_request_id:e.awsRequestId,function_name:e.functionName,function_version:e.functionVersion,invoked_function_arn:e.invokedFunctionArn,execution_duration_in_millis:$b.performance.now()-n,remaining_time_in_millis:gd(e),"sys.argv":process.argv}),t.setContext("aws.cloudwatch.logs",{log_group:e.logGroupName,log_stream:e.logStreamName,url:`https://console.aws.amazon.com/cloudwatch/home?region=${process.env.AWS_REGION}#logsV2:log-groups/log-group/${encodeURIComponent(e.logGroupName)}/log-events/${encodeURIComponent(e.logStreamName)}`})}a(u2,"enhanceScopeWithEnvironmentData");function Jb(t,e={}){let n=$b.performance.now(),r=b({flushTimeout:2e3,rethrowAfterCapture:!0,callbackWaitsForEmptyEventLoop:!1,captureTimeoutWarning:!0,timeoutWarningLimit:500},e),i,s=t.length>2?(o,c)=>new Promise((u,p)=>{let l=t(o,c,(d,f)=>{d==null?u(f):p(d)});s2(l)&&l.then(u,p)}):t;return async(o,c)=>{c.callbackWaitsForEmptyEventLoop=r.callbackWaitsForEmptyEventLoop;let u=Math.ceil(gd(c)/1e3),p=Math.floor(u/60),l=u%60,d=p>0?`${p}m${l}s`:`${l}s`;if(r.captureTimeoutWarning){let x=gd(c)-r.timeoutWarningLimit;i=setTimeout(()=>{Vn.withScope(S=>{S.setTag("timeout",d),Vn.captureMessage(`Possible function timeout: ${c.functionName}`,Vn.Severity.Warning)})},x)}let f,h=o;h.headers&&os.isString(h.headers["sentry-trace"])&&(f=e2.extractTraceparentData(h.headers["sentry-trace"]));let v=Vn.startTransaction(b({name:c.functionName,op:"awslambda.handler"},f)),g=Vn.getCurrentHub(),y=g.pushScope(),_;try{u2(y,c,n),y.setSpan(v),_=await s(o,c)}catch(x){if(Vn.captureException(x),r.rethrowAfterCapture)throw x}finally{clearTimeout(i),v.finish(),g.popScope(),await Vn.flush(r.flushTimeout)}return _}}a(Jb,"wrapHandler");bn.wrapHandler=Jb});var Gb=m(yd=>{Object.defineProperty(yd,"__esModule",{value:!0});var p2=We(),zb=N(),ti=class{constructor(e={}){this.name=ti.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("google-gax");zb.fill(e.GrpcClient.prototype,"createStub",l2)}catch(e){if(!this._optional)throw e}}};a(ti,"GoogleCloudGrpc");yd.GoogleCloudGrpc=ti;ti.id="GoogleCloudGrpc";function l2(t){return async function(...e){var n;let r=(n=e[1])===null||n===void 0?void 0:n.servicePath;if(r==null||r==null)return t.apply(this,e);let i=f2(r),s=await t.apply(this,e);for(let o of Object.keys(Object.getPrototypeOf(s)))d2(s,i,o);return s}}a(l2,"wrapCreateStub");function d2(t,e,n){let r=t[n];if(typeof r!="function")return;let i=!r.requestStream&&!r.responseStream?"unary call":r.requestStream&&!r.responseStream?"client stream":!r.requestStream&&r.responseStream?"server stream":"bidi stream";i=="unary call"&&zb.fill(t,n,s=>(...o)=>{var c;let u=s.apply(t,o);if(typeof((c=u)===null||c===void 0?void 0:c.on)!="function")return u;let p,l,d=p2.getCurrentHub().getScope();return d&&(p=d.getTransaction()),p&&(l=p.startChild({description:`${i} ${n}`,op:`gcloud.grpc.${e}`})),u.on("status",()=>{l&&l.finish()}),u})}a(d2,"fillGrpcFunction");function f2(t){let e=t.match(/^(\w+)\.googleapis.com$/);return e?e[1]:t}a(f2,"identifyService")});var Yb=m(_d=>{Object.defineProperty(_d,"__esModule",{value:!0});var m2=We(),h2=N(),ni=class{constructor(e={}){this.name=ni.id,this._optional=e.optional||!1}setupOnce(){try{let e=require("@google-cloud/common");h2.fill(e.Service.prototype,"request",v2)}catch(e){if(!this._optional)throw e}}};a(ni,"GoogleCloudHttp");_d.GoogleCloudHttp=ni;ni.id="GoogleCloudHttp";function v2(t){return function(e,n){let r,i,s=m2.getCurrentHub().getScope();if(s&&(r=s.getTransaction()),r){let o=e.method||"GET";i=r.startChild({description:`${o} ${e.uri}`,op:`gcloud.http.${g2(this.apiEndpoint)}`})}t.call(this,e,(...o)=>{i&&i.finish(),n(...o)})}}a(v2,"wrapRequestFunction");function g2(t){let e=t.match(/^https:\/\/(\w+)\.googleapis.com$/);return e?e[1]:t.replace(/^(http|https)?:\/\//,"")}a(g2,"identifyService")});var Vb=m(xd=>{Object.defineProperty(xd,"__esModule",{value:!0});var cs=We(),y2=md(),bd=N(),Ro=ei(),{parseRequest:_2}=cs.Handlers;function b2(t,e={}){let n=a(s=>Ro.domainify(x2(s,e)),"wrap"),r,i=t.__emulator_func;return i&&(r={__emulator_func:Ro.proxyFunction(i,n)}),Ro.proxyFunction(t,n,r)}a(b2,"wrapHttpFunction");xd.wrapHttpFunction=b2;function x2(t,e={}){let n=b({flushTimeout:2e3,parseRequestOptions:{}},e);return(r,i)=>{let s=(r.method||"").toUpperCase(),o=bd.stripUrlQueryAndFragment(r.originalUrl||r.url||""),c,u=r;u.headers&&bd.isString(u.headers["sentry-trace"])&&(c=y2.extractTraceparentData(u.headers["sentry-trace"]));let p=cs.startTransaction(b({name:`${s} ${o}`,op:"gcp.function.http"},c));cs.getCurrentHub().configureScope(d=>{d.addEventProcessor(f=>_2(f,r,n.parseRequestOptions)),d.setSpan(p)}),i.__sentry_transaction=p,Ro.getActiveDomain().on("error",d=>{cs.captureException(d)});let l=i.end;return i.end=function(d,f,h){p.setHttpStatus(i.statusCode),p.finish(),cs.flush(n.flushTimeout).then(()=>{l.call(this,d,f,h)}).then(null,v=>{bd.logger.error(v)})},t(r,i)}}a(x2,"_wrapHttpFunction")});var Ed=m(Sd=>{Object.defineProperty(Sd,"__esModule",{value:!0});var S2=require("os");function E2(t,e){t.setContext("runtime",{name:"node",version:global.process.version}),t.setTag("server_name",process.env.SENTRY_NAME||S2.hostname()),t.setContext("gcp.function.context",b({},e))}a(E2,"configureScopeWithContext");Sd.configureScopeWithContext=E2});var Xb=m(Td=>{Object.defineProperty(Td,"__esModule",{value:!0});var us=We(),w2=N(),wd=ei(),T2=Ed();function O2(t,e={}){return wd.proxyFunction(t,n=>wd.domainify(k2(n,e)))}a(O2,"wrapEventFunction");Td.wrapEventFunction=O2;function k2(t,e={}){let n=b({flushTimeout:2e3},e);return(r,i,s)=>{let o=us.startTransaction({name:i.eventType,op:"gcp.function.event"});us.getCurrentHub().configureScope(p=>{T2.configureScopeWithContext(p,i),p.setSpan(o)});let c=wd.getActiveDomain();c.on("error",us.captureException);let u=c.bind((...p)=>{p[0]!==null&&p[0]!==void 0&&us.captureException(p[0]),o.finish(),us.flush(n.flushTimeout).then(()=>{s(...p)}).then(null,l=>{w2.logger.error(l)})});return t.length>2?t(r,i,u):Promise.resolve().then(()=>t(r,i)).then(p=>u(null,p),p=>u(p,void 0))}}a(k2,"_wrapEventFunction")});var Zb=m(kd=>{Object.defineProperty(kd,"__esModule",{value:!0});var ps=We(),q2=N(),Od=ei(),C2=Ed();function I2(t,e={}){return Od.proxyFunction(t,n=>Od.domainify(P2(n,e)))}a(I2,"wrapCloudEventFunction");kd.wrapCloudEventFunction=I2;function P2(t,e={}){let n=b({flushTimeout:2e3},e);return(r,i)=>{let s=ps.startTransaction({name:r.type||"<unknown>",op:"gcp.function.cloud_event"});ps.getCurrentHub().configureScope(u=>{C2.configureScopeWithContext(u,r),u.setSpan(s)});let o=Od.getActiveDomain();o.on("error",ps.captureException);let c=o.bind((...u)=>{u[0]!==null&&u[0]!==void 0&&ps.captureException(u[0]),s.finish(),ps.flush(n.flushTimeout).then(()=>{i(...u)}).then(null,p=>{q2.logger.error(p)})});return t.length>1?t(r,c):Promise.resolve().then(()=>t(r)).then(u=>c(null,u),u=>c(u,void 0))}}a(P2,"_wrapCloudEventFunction")});var Qb=m(xn=>{Object.defineProperty(xn,"__esModule",{value:!0});var qd=J(),ls=We(),R2=Gb(),A2=Yb(),j2=ei();qd.__exportStar(Vb(),xn);qd.__exportStar(Xb(),xn);qd.__exportStar(Zb(),xn);xn.defaultIntegrations=[...ls.defaultIntegrations,new A2.GoogleCloudHttp({optional:!0}),new R2.GoogleCloudGrpc({optional:!0})];function N2(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=xn.defaultIntegrations),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.serverless",integrations:["GCPFunction"],packages:[{name:"npm:@sentry/serverless",version:ls.SDK_VERSION}],version:ls.SDK_VERSION},ls.init(t),ls.addGlobalEventProcessor(j2.serverlessEventProcessor)}a(N2,"init");xn.init=N2});var tx=m(ri=>{Object.defineProperty(ri,"__esModule",{value:!0});var ex=J(),M2=Wb();ri.AWSLambda=M2;var B2=Qb();ri.GCPFunction=B2;ex.__exportStar(vd(),ri);ex.__exportStar(We(),ri)});var dx=m((px,lx)=>{function F2(t){if(!t)return!1;typeof t=="string"&&(t=new Date(t)),typeof t=="number"&&(t=new Date(t));var e=(t.valueOf()-new Date().valueOf())/1e3;return"Expires="+t.toGMTString()+";Max-Age="+Math.round(e)}a(F2,"printExpires");var L2={stringify:function(t){var e;try{e=encodeURIComponent(t.value)}catch(n){e=t.value}return[t.name+"="+e,typeof t.expires!="undefined"&&t.expires?F2(t.expires):"",typeof t.path!="undefined"?t.path?"Path="+t.path:"":"Path=/",typeof t.domain!="undefined"&&t.domain?"Domain="+t.domain:"",typeof t.secure!="undefined"&&t.secure?"secure":"",typeof t.httponly!="undefined"&&t.httponly?"HttpOnly":"",typeof t.samesite!="undefined"&&t.samesite?"SameSite="+t.samesite:""].join(";").replace(/;+/g,";").replace(/;$/,"").replace(/;/g,"; ")},parse:function(t,e,n){var r=t.replace(/;\s+/g,";").split(";").map(function(p){return p.replace(/\s+\s+/g,"=").split("=")}),i=r.shift(),s={};s.expires=!1,s.httponly=!1,s.secure=!1,s.path=e||"/",s.domain=n||"",s.samesite="";var o,c={httponly:function(){s.httponly=!0},secure:function(){s.secure=!0},expires:function(p){s.expires=new Date(p)},"max-age":function(p){s.expires||(s.expires=new Date(new Date().valueOf()+p*1e3))},path:function(p){s.path=p},domain:function(p){s.domain=p},samesite:function(p){s.samesite=p}};for(var u in r)o=r[u][0].toLowerCase(),typeof c[o]!="undefined"&&c[o](r[u].length==2?r[u][1]:"");return s.expires||(s.expires=0),s.name=i.shift(),i=i.map(p=>{var l;try{l=decodeURIComponent(p)}catch(d){l=p}return p}),s.value=i.join("="),s},tokenize:function(t){return t.map(function(e){return e.name+"="+e.value}).join("; ")}};lx.exports=px=L2});var fx=m((c8,ds)=>{function H2(t){return t&&t.__esModule?t:{default:t}}a(H2,"_interopRequireDefault");ds.exports=H2;ds.exports.default=ds.exports,ds.exports.__esModule=!0});var Z=m((u8,lt)=>{lt.exports.KEYOBJECT=Symbol("KEYOBJECT");lt.exports.PRIVATE_MEMBERS=Symbol("PRIVATE_MEMBERS");lt.exports.PUBLIC_MEMBERS=Symbol("PUBLIC_MEMBERS");lt.exports.THUMBPRINT_MATERIAL=Symbol("THUMBPRINT_MATERIAL");lt.exports.JWK_MEMBERS=Symbol("JWK_MEMBERS");lt.exports.KEY_MANAGEMENT_ENCRYPT=Symbol("KEY_MANAGEMENT_ENCRYPT");lt.exports.KEY_MANAGEMENT_DECRYPT=Symbol("KEY_MANAGEMENT_DECRYPT");var Ao={sig:new Set(["sign","verify"]),enc:new Set(["encrypt","decrypt","wrapKey","unwrapKey","deriveKey"])},U2=new Set([...Ao.sig,...Ao.enc]),$2=new Set(Object.keys(Ao));lt.exports.USES_MAPPING=Ao;lt.exports.OPS=U2;lt.exports.USES=$2});var Xn=m((p8,Pd)=>{var{deprecate:J2}=require("util"),W2=J2(()=>{},'"P-256K" EC curve name is deprecated');Pd.exports={name:"secp256k1",rename(t){t!=="secp256k1"&&W2(),Pd.exports.name=t}}});var hx=m((l8,mx)=>{var{getCurves:jo}=require("crypto"),{name:z2}=Xn(),fs=new Set;jo().includes("prime256v1")&&fs.add("P-256");jo().includes("secp256k1")&&fs.add(z2);jo().includes("secp384r1")&&fs.add("P-384");jo().includes("secp521r1")&&fs.add("P-521");mx.exports=fs});var gx=m((d8,vx)=>{vx.exports=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]])});var _x=m((f8,yx)=>{yx.exports={sign:new Map,verify:new Map,keyManagementEncrypt:new Map,keyManagementDecrypt:new Map,encrypt:new Map,decrypt:new Map}});var xx=m((m8,bx)=>{bx.exports={oct:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},EC:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},RSA:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}},OKP:{decrypt:{},deriveKey:{},encrypt:{},sign:{},unwrapKey:{},verify:{},wrapKey:{}}}});var Ex=m((h8,Sx)=>{Sx.exports=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]])});var Tx=m((v8,wx)=>{var No=new Set(["Ed25519"]);"electron"in process.versions||(No.add("Ed448"),No.add("X25519"),No.add("X448"));wx.exports=No});var kx=m((g8,Ox)=>{Ox.exports=new Map});var bt=m((y8,qx)=>{var G2=hx(),Y2=gx(),V2=_x(),X2=xx(),Z2=Ex(),Q2=Tx(),eK=kx();qx.exports={EC_CURVES:G2,ECDH_DERIVE_LENGTHS:eK,IVLENGTHS:Y2,JWA:V2,JWK:X2,KEYLENGTHS:Z2,OKP_CURVES:Q2}});var Rd=m((_8,Cx)=>{var{randomBytes:tK}=require("crypto"),{IVLENGTHS:nK}=bt();Cx.exports=t=>tK(nK.get(t)/8)});var Se=m((b8,Zn)=>{var Ix=a(t=>t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),"fromBase64"),Px=a((t,e="utf8")=>Ix(Buffer.from(t,e).toString("base64")),"encode"),Rx=a(t=>Ix(t.toString("base64")),"encodeBuffer"),Ax=a(t=>Buffer.from(t,"base64"),"decodeToBuffer"),Ad=a((t,e="utf8")=>Ax(t).toString(e),"decode"),jd={encode:t=>Px(JSON.stringify(t)),decode:(t,e="utf8")=>JSON.parse(Ad(t,e))};jd.decode.try=(t,e="utf8")=>{try{return jd.decode(t,e)}catch(n){return Ad(t,e)}};var rK=a(t=>{let e=BigInt(t).toString(16);e.length%2&&(e=`0${e}`);let n=e.length/2,r=new Uint8Array(n),i=0,s=0;for(;i<n;)r[i]=parseInt(e.slice(s,s+2),16),i+=1,s+=2;return r},"bnToBuf"),iK=a(t=>Rx(Buffer.from(rK(t))),"encodeBigInt");Zn.exports.decode=Ad;Zn.exports.decodeToBuffer=Ax;Zn.exports.encode=Px;Zn.exports.encodeBuffer=Rx;Zn.exports.JSON=jd;Zn.exports.encodeBigInt=iK});var L=m((N8,ae)=>{var sK={JOSEAlgNotWhitelisted:"ERR_JOSE_ALG_NOT_WHITELISTED",JOSECritNotUnderstood:"ERR_JOSE_CRIT_NOT_UNDERSTOOD",JOSEInvalidEncoding:"ERR_JOSE_INVALID_ENCODING",JOSEMultiError:"ERR_JOSE_MULTIPLE_ERRORS",JOSENotSupported:"ERR_JOSE_NOT_SUPPORTED",JWEDecryptionFailed:"ERR_JWE_DECRYPTION_FAILED",JWEInvalid:"ERR_JWE_INVALID",JWKImportFailed:"ERR_JWK_IMPORT_FAILED",JWKInvalid:"ERR_JWK_INVALID",JWKKeySupport:"ERR_JWK_KEY_SUPPORT",JWKSNoMatchingKey:"ERR_JWKS_NO_MATCHING_KEY",JWSInvalid:"ERR_JWS_INVALID",JWSVerificationFailed:"ERR_JWS_VERIFICATION_FAILED",JWTClaimInvalid:"ERR_JWT_CLAIM_INVALID",JWTExpired:"ERR_JWT_EXPIRED",JWTMalformed:"ERR_JWT_MALFORMED"},aK={JWEDecryptionFailed:"decryption operation failed",JWEInvalid:"JWE invalid",JWKSNoMatchingKey:"no matching key found in the KeyStore",JWSInvalid:"JWS invalid",JWSVerificationFailed:"signature verification failed"},se=class extends Error{constructor(e){super(e);e===void 0&&(this.message=aK[this.constructor.name]),this.name=this.constructor.name,this.code=sK[this.constructor.name],Error.captureStackTrace(this,this.constructor)}};a(se,"JOSEError");var oK=a(t=>t instanceof Mo,"isMulti"),Mo=class extends se{constructor(e){super();let n;for(;(n=e.findIndex(oK))&&n!==-1;)e.splice(n,1,...e[n]);Object.defineProperty(this,"errors",{value:e})}*[Symbol.iterator](){for(let e of this.errors)yield e}};a(Mo,"JOSEMultiError");ae.exports.JOSEError=se;ae.exports.JOSEAlgNotWhitelisted=a(class extends se{},"JOSEAlgNotWhitelisted");ae.exports.JOSECritNotUnderstood=a(class extends se{},"JOSECritNotUnderstood");ae.exports.JOSEInvalidEncoding=a(class extends se{},"JOSEInvalidEncoding");ae.exports.JOSEMultiError=Mo;ae.exports.JOSENotSupported=a(class extends se{},"JOSENotSupported");ae.exports.JWEDecryptionFailed=a(class extends se{},"JWEDecryptionFailed");ae.exports.JWEInvalid=a(class extends se{},"JWEInvalid");ae.exports.JWKImportFailed=a(class extends se{},"JWKImportFailed");ae.exports.JWKInvalid=a(class extends se{},"JWKInvalid");ae.exports.JWKKeySupport=a(class extends se{},"JWKKeySupport");ae.exports.JWKSNoMatchingKey=a(class extends se{},"JWKSNoMatchingKey");ae.exports.JWSInvalid=a(class extends se{},"JWSInvalid");ae.exports.JWSVerificationFailed=a(class extends se{},"JWSVerificationFailed");var Bo=class extends se{constructor(e,n="unspecified",r="unspecified"){super(e);this.claim=n,this.reason=r}};a(Bo,"JWTClaimInvalid");ae.exports.JWTClaimInvalid=Bo;ae.exports.JWTExpired=a(class extends Bo{},"JWTExpired");ae.exports.JWTMalformed=a(class extends se{},"JWTMalformed")});var Fe=m((M8,jx)=>{var{diffieHellman:cK,KeyObject:uK,sign:pK,verify:lK}=require("crypto"),[ii,Nd]=process.version.substr(1).split(".").map(t=>parseInt(t,10));jx.exports={oaepHashSupported:ii>12||ii===12&&Nd>=9,keyObjectSupported:!!uK&&ii>=12,edDSASupported:!!pK&&!!lK,dsaEncodingSupported:ii>13||ii===13&&Nd>=2||ii===12&&Nd>=16,improvedDH:!!cK}});var Ye=m((B8,Nx)=>{Nx.exports=t=>!!t&&t.constructor===Object});var Do=m(Mx=>{var{inherits:dK}=require("util");function Ve(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}a(Ve,"Reporter");Ve.prototype.isError=a(function(e){return e instanceof si},"isError");Ve.prototype.save=a(function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},"save");Ve.prototype.restore=a(function(e){let n=this._reporterState;n.obj=e.obj,n.path=n.path.slice(0,e.pathLen)},"restore");Ve.prototype.enterKey=a(function(e){return this._reporterState.path.push(e)},"enterKey");Ve.prototype.exitKey=a(function(e){let n=this._reporterState;n.path=n.path.slice(0,e-1)},"exitKey");Ve.prototype.leaveKey=a(function(e,n,r){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[n]=r)},"leaveKey");Ve.prototype.path=a(function(){return this._reporterState.path.join("/")},"path");Ve.prototype.enterObject=a(function(){let e=this._reporterState,n=e.obj;return e.obj={},n},"enterObject");Ve.prototype.leaveObject=a(function(e){let n=this._reporterState,r=n.obj;return n.obj=e,r},"leaveObject");Ve.prototype.error=a(function(e){let n,r=this._reporterState,i=e instanceof si;if(i?n=e:n=new si(r.path.map(function(s){return`[${JSON.stringify(s)}]`}).join(""),e.message||e,e.stack),!r.options.partial)throw n;return i||r.errors.push(n),n},"error");Ve.prototype.wrapResult=a(function(e){let n=this._reporterState;return n.options.partial?{result:this.isError(e)?null:e,errors:n.errors}:e},"wrapResult");function si(t,e){this.path=t,this.rethrow(e)}a(si,"ReporterError");dK(si,Error);si.prototype.rethrow=a(function(e){if(this.message=`${e} at: ${this.path||"(shallow)"}`,Error.captureStackTrace&&Error.captureStackTrace(this,si),!this.stack)try{throw new Error(this.message)}catch(n){this.stack=n.stack}return this},"rethrow");Mx.Reporter=Ve});var Fo=m((K8,Bx)=>{var{inherits:fK}=require("util"),{Reporter:Ko}=Do();function Xe(t,e){if(Ko.call(this,e),!Buffer.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}a(Xe,"DecoderBuffer");fK(Xe,Ko);Xe.isDecoderBuffer=a(function(e){return e instanceof Xe?!0:typeof e=="object"&&Buffer.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"},"isDecoderBuffer");Xe.prototype.save=a(function(){return{offset:this.offset,reporter:Ko.prototype.save.call(this)}},"save");Xe.prototype.restore=a(function(e){let n=new Xe(this.base);return n.offset=e.offset,n.length=this.offset,this.offset=e.offset,Ko.prototype.restore.call(this,e.reporter),n},"restore");Xe.prototype.isEmpty=a(function(){return this.offset===this.length},"isEmpty");Xe.prototype.readUInt8=a(function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},"readUInt8");Xe.prototype.skip=a(function(e,n){if(!(this.offset+e<=this.length))return this.error(n||"DecoderBuffer overrun");let r=new Xe(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},"skip");Xe.prototype.raw=a(function(e){return this.base.slice(e?e.offset:this.offset,this.length)},"raw");function ai(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(n){return ai.isEncoderBuffer(n)||(n=new ai(n,e)),this.length+=n.length,n},this);else if(typeof t=="number"){if(!(t>=0&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Buffer.byteLength(t);else if(Buffer.isBuffer(t))this.value=t,this.length=t.length;else return e.error(`Unsupported type: ${typeof t}`)}a(ai,"EncoderBuffer");ai.isEncoderBuffer=a(function(e){return e instanceof ai?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"},"isEncoderBuffer");ai.prototype.join=a(function(e,n){return e||(e=Buffer.alloc(this.length)),n||(n=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,n),n+=r.length}):(typeof this.value=="number"?e[n]=this.value:typeof this.value=="string"?e.write(this.value,n):Buffer.isBuffer(this.value)&&this.value.copy(e,n),n+=this.length)),e},"join");Bx.exports={DecoderBuffer:Xe,EncoderBuffer:ai}});var Lo=m((F8,Kx)=>{var{strict:Ee}=require("assert"),{Reporter:mK}=Do(),{DecoderBuffer:hK,EncoderBuffer:vK}=Fo(),Dx=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],gK=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Dx),yK=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function M(t,e,n){let r={};this._baseState=r,r.name=n,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}a(M,"Node");var _K=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];M.prototype.clone=a(function(){let e=this._baseState,n={};_K.forEach(function(i){n[i]=e[i]});let r=new this.constructor(n.parent);return r._baseState=n,r},"clone");M.prototype._wrap=a(function(){let e=this._baseState;gK.forEach(function(n){this[n]=a(function(){let i=new this.constructor(this);return e.children.push(i),i[n].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");M.prototype._init=a(function(e){let n=this._baseState;Ee(n.parent===null),e.call(this),n.children=n.children.filter(function(r){return r._baseState.parent===this},this),Ee.equal(n.children.length,1,"Root node can have only one child")},"init");M.prototype._useArgs=a(function(e){let n=this._baseState,r=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),r.length!==0&&(Ee(n.children===null),n.children=r,r.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Ee(n.args===null),n.args=e,n.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(o){o==(o|0)&&(o|=0);let c=i[o];s[c]=o}),s}))},"useArgs");yK.forEach(function(t){M.prototype[t]=a(function(){let n=this._baseState;throw new Error(`${t} not implemented for encoding: ${n.enc}`)},"_overrided")});Dx.forEach(function(t){M.prototype[t]=a(function(){let n=this._baseState,r=Array.prototype.slice.call(arguments);return Ee(n.tag===null),n.tag=t,this._useArgs(r),this},"_tagMethod")});M.prototype.use=a(function(e){Ee(e);let n=this._baseState;return Ee(n.use===null),n.use=e,this},"use");M.prototype.optional=a(function(){let e=this._baseState;return e.optional=!0,this},"optional");M.prototype.def=a(function(e){let n=this._baseState;return Ee(n.default===null),n.default=e,n.optional=!0,this},"def");M.prototype.explicit=a(function(e){let n=this._baseState;return Ee(n.explicit===null&&n.implicit===null),n.explicit=e,this},"explicit");M.prototype.implicit=a(function(e){let n=this._baseState;return Ee(n.explicit===null&&n.implicit===null),n.implicit=e,this},"implicit");M.prototype.obj=a(function(){let e=this._baseState,n=Array.prototype.slice.call(arguments);return e.obj=!0,n.length!==0&&this._useArgs(n),this},"obj");M.prototype.key=a(function(e){let n=this._baseState;return Ee(n.key===null),n.key=e,this},"key");M.prototype.any=a(function(){let e=this._baseState;return e.any=!0,this},"any");M.prototype.choice=a(function(e){let n=this._baseState;return Ee(n.choice===null),n.choice=e,this._useArgs(Object.keys(e).map(function(r){return e[r]})),this},"choice");M.prototype.contains=a(function(e){let n=this._baseState;return Ee(n.use===null),n.contains=e,this},"contains");M.prototype._decode=a(function(e,n){let r=this._baseState;if(r.parent===null)return e.wrapResult(r.children[0]._decode(e,n));let i=r.default,s=!0,o=null;if(r.key!==null&&(o=e.enterKey(r.key)),r.optional){let u=null;if(r.explicit!==null?u=r.explicit:r.implicit!==null?u=r.implicit:r.tag!==null&&(u=r.tag),u===null&&!r.any){let p=e.save();try{r.choice===null?this._decodeGeneric(r.tag,e,n):this._decodeChoice(e,n),s=!0}catch(l){s=!1}e.restore(p)}else if(s=this._peekTag(e,u,r.any),e.isError(s))return s}let c;if(r.obj&&s&&(c=e.enterObject()),s){if(r.explicit!==null){let p=this._decodeTag(e,r.explicit);if(e.isError(p))return p;e=p}let u=e.offset;if(r.use===null&&r.choice===null){let p;r.any&&(p=e.save());let l=this._decodeTag(e,r.implicit!==null?r.implicit:r.tag,r.any);if(e.isError(l))return l;r.any?i=e.raw(p):e=l}if(n&&n.track&&r.tag!==null&&n.track(e.path(),u,e.length,"tagged"),n&&n.track&&r.tag!==null&&n.track(e.path(),e.offset,e.length,"content"),r.any||(r.choice===null?i=this._decodeGeneric(r.tag,e,n):i=this._decodeChoice(e,n)),e.isError(i))return i;if(!r.any&&r.choice===null&&r.children!==null&&r.children.forEach(a(function(l){l._decode(e,n)},"decodeChildren")),r.contains&&(r.tag==="octstr"||r.tag==="bitstr")){let p=new hK(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(p,n)}}return r.obj&&s&&(i=e.leaveObject(c)),r.key!==null&&(i!==null||s===!0)?e.leaveKey(o,r.key,i):o!==null&&e.exitKey(o),i},"decode");M.prototype._decodeGeneric=a(function(e,n,r){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(n,e,i.args[0],r):/str$/.test(e)?this._decodeStr(n,e,r):e==="objid"&&i.args?this._decodeObjid(n,i.args[0],i.args[1],r):e==="objid"?this._decodeObjid(n,null,null,r):e==="gentime"||e==="utctime"?this._decodeTime(n,e,r):e==="null_"?this._decodeNull(n,r):e==="bool"?this._decodeBool(n,r):e==="objDesc"?this._decodeStr(n,e,r):e==="int"||e==="enum"?this._decodeInt(n,i.args&&i.args[0],r):i.use!==null?this._getUse(i.use,n._reporterState.obj)._decode(n,r):n.error(`unknown tag: ${e}`)},"decodeGeneric");M.prototype._getUse=a(function(e,n){let r=this._baseState;return r.useDecoder=this._use(e,n),Ee(r.useDecoder._baseState.parent===null),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},"_getUse");M.prototype._decodeChoice=a(function(e,n){let r=this._baseState,i=null,s=!1;return Object.keys(r.choice).some(function(o){let c=e.save(),u=r.choice[o];try{let p=u._decode(e,n);if(e.isError(p))return!1;i={type:o,value:p},s=!0}catch(p){return e.restore(c),!1}return!0},this),s?i:e.error("Choice not matched")},"decodeChoice");M.prototype._createEncoderBuffer=a(function(e){return new vK(e,this.reporter)},"createEncoderBuffer");M.prototype._encode=a(function(e,n,r){let i=this._baseState;if(i.default!==null&&i.default===e)return;let s=this._encodeValue(e,n,r);if(s!==void 0&&!this._skipDefault(s,n,r))return s},"encode");M.prototype._encodeValue=a(function(e,n,r){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,n||new mK);let s=null;if(this.reporter=n,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let o=null,c=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,n);else if(i.contains)o=this._getUse(i.contains,r)._encode(e,n),c=!0;else if(i.children)o=i.children.map(function(u){if(u._baseState.tag==="null_")return u._encode(null,n,e);if(u._baseState.key===null)return n.error("Child should have a key");let p=n.enterKey(u._baseState.key);if(typeof e!="object")return n.error("Child expected, but input is not object");let l=u._encode(e[u._baseState.key],n,e);return n.leaveKey(p),l},this).filter(function(u){return u}),o=this._createEncoderBuffer(o);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return n.error(`Too many args for: ${i.tag}`);if(!Array.isArray(e))return n.error("seqof/setof, but data is not Array");let u=this.clone();u._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(p){let l=this._baseState;return this._getUse(l.args[0],e)._encode(p,n)},u))}else i.use!==null?s=this._getUse(i.use,r)._encode(e,n):(o=this._encodePrimitive(i.tag,e),c=!0);if(!i.any&&i.choice===null){let u=i.implicit!==null?i.implicit:i.tag,p=i.implicit===null?"universal":"context";u===null?i.use===null&&n.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(u,c,p,o))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");M.prototype._encodeChoice=a(function(e,n){let r=this._baseState,i=r.choice[e.type];return i||Ee(!1,`${e.type} not found in ${JSON.stringify(Object.keys(r.choice))}`),i._encode(e.value,n)},"encodeChoice");M.prototype._encodePrimitive=a(function(e,n){let r=this._baseState;if(/str$/.test(e))return this._encodeStr(n,e);if(e==="objid"&&r.args)return this._encodeObjid(n,r.reverseArgs[0],r.args[1]);if(e==="objid")return this._encodeObjid(n,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(n,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(n,r.args&&r.reverseArgs[0]);if(e==="bool")return this._encodeBool(n);if(e==="objDesc")return this._encodeStr(n,e);throw new Error(`Unsupported tag: ${e}`)},"encodePrimitive");M.prototype._isNumstr=a(function(e){return/^[0-9 ]*$/.test(e)},"isNumstr");M.prototype._isPrintstr=a(function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)},"isPrintstr");Kx.exports=M});var Ho=m(Qn=>{function Fx(t){let e={};return Object.keys(t).forEach(function(n){(n|0)==n&&(n=n|0);let r=t[n];e[r]=n}),e}a(Fx,"reverse");Qn.tagClass={0:"universal",1:"application",2:"context",3:"private"};Qn.tagClassByName=Fx(Qn.tagClass);Qn.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Qn.tagByName=Fx(Qn.tag)});var Bd=m((H8,Ux)=>{var{inherits:bK}=require("util"),Lx=Lo(),Md=Ho();function Hx(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new dt,this.tree._init(t.body)}a(Hx,"DEREncoder");Hx.prototype.encode=a(function(e,n){return this.tree._encode(e,n).join()},"encode");function dt(t){Lx.call(this,"der",t)}a(dt,"DERNode");bK(dt,Lx);dt.prototype._encodeComposite=a(function(e,n,r,i){let s=SK(e,n,r,this.reporter);if(i.length<128){let u=Buffer.alloc(2);return u[0]=s,u[1]=i.length,this._createEncoderBuffer([u,i])}let o=1;for(let u=i.length;u>=256;u>>=8)o++;let c=Buffer.alloc(1+1+o);c[0]=s,c[1]=128|o;for(let u=1+o,p=i.length;p>0;u--,p>>=8)c[u]=p&255;return this._createEncoderBuffer([c,i])},"encodeComposite");dt.prototype._encodeStr=a(function(e,n){if(n==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(n==="bmpstr"){let r=Buffer.alloc(e.length*2);for(let i=0;i<e.length;i++)r.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(r)}else return n==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):n==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(n)?this._createEncoderBuffer(e):n==="objDesc"?this._createEncoderBuffer(e):this.reporter.error(`Encoding of string type: ${n} unsupported`)},"encodeStr");dt.prototype._encodeObjid=a(function(e,n,r){if(typeof e=="string"){if(!n)return this.reporter.error("string objid given, but no values map found");if(!Object.prototype.hasOwnProperty.call(n,e))return this.reporter.error("objid not found in values map");e=n[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error(`objid() should be either array or string, got: ${JSON.stringify(e)}`);if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let c=0;c<e.length;c++){let u=e[c];for(i++;u>=128;u>>=7)i++}let s=Buffer.alloc(i),o=s.length-1;for(let c=e.length-1;c>=0;c--){let u=e[c];for(s[o--]=u&127;(u>>=7)>0;)s[o--]=128|u&127}return this._createEncoderBuffer(s)},"encodeObjid");function Ze(t){return t<10?`0${t}`:t}a(Ze,"two");dt.prototype._encodeTime=a(function(e,n){let r,i=new Date(e);return n==="gentime"?r=[Ze(i.getUTCFullYear()),Ze(i.getUTCMonth()+1),Ze(i.getUTCDate()),Ze(i.getUTCHours()),Ze(i.getUTCMinutes()),Ze(i.getUTCSeconds()),"Z"].join(""):n==="utctime"?r=[Ze(i.getUTCFullYear()%100),Ze(i.getUTCMonth()+1),Ze(i.getUTCDate()),Ze(i.getUTCHours()),Ze(i.getUTCMinutes()),Ze(i.getUTCSeconds()),"Z"].join(""):this.reporter.error(`Encoding ${n} time is not supported yet`),this._encodeStr(r,"octstr")},"encodeTime");dt.prototype._encodeNull=a(function(){return this._createEncoderBuffer("")},"encodeNull");function xK(t){var e=BigInt(t).toString(16);e.length%2&&(e="0"+e);for(var n=e.length/2,r=new Uint8Array(n),i=0,s=0;i<n;)r[i]=parseInt(e.slice(s,s+2),16),i+=1,s+=2;return r}a(xK,"bnToBuf");dt.prototype._encodeInt=a(function(e,n){if(typeof e=="string"){if(!n)return this.reporter.error("String int or enum given, but no values map");if(!Object.prototype.hasOwnProperty.call(n,e))return this.reporter.error(`Values map doesn't contain: ${JSON.stringify(e)}`);e=n[e]}if(typeof e=="bigint"){let s=[...xK(e)];s[0]&128&&s.unshift(0),e=Buffer.from(s)}if(Buffer.isBuffer(e)){let s=e.length;e.length===0&&s++;let o=Buffer.alloc(s);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let s=e;s>=256;s>>=8)r++;let i=new Array(r);for(let s=i.length-1;s>=0;s--)i[s]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Buffer.from(i))},"encodeInt");dt.prototype._encodeBool=a(function(e){return this._createEncoderBuffer(e?255:0)},"encodeBool");dt.prototype._use=a(function(e,n){return typeof e=="function"&&(e=e(n)),e._getEncoder("der").tree},"use");dt.prototype._skipDefault=a(function(e,n,r){let i=this._baseState,s;if(i.default===null)return!1;let o=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,n,r).join()),o.length!==i.defaultBuffer.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function SK(t,e,n,r){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),Object.prototype.hasOwnProperty.call(Md.tagByName,t))i=Md.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return r.error(`Unknown tag: ${t}`);return i>=31?r.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=Md.tagClassByName[n||"universal"]<<6,i)}a(SK,"encodeTag");Ux.exports=Hx});var Jx=m((U8,$x)=>{var{inherits:EK}=require("util"),Dd=Bd();function Kd(t){Dd.call(this,t),this.enc="pem"}a(Kd,"PEMEncoder");EK(Kd,Dd);Kd.prototype.encode=a(function(e,n){let i=Dd.prototype.encode.call(this,e).toString("base64"),s=[`-----BEGIN ${n.label}-----`];for(let o=0;o<i.length;o+=64)s.push(i.slice(o,o+64));return s.push(`-----END ${n.label}-----`),s.join(`
`)},"encode");$x.exports=Kd});var Fd=m(($8,Wx)=>{Wx.exports={der:Bd(),pem:Jx()}});var Hd=m((J8,Zx)=>{var{inherits:wK}=require("util"),{DecoderBuffer:zx}=Fo(),Gx=Lo(),Yx=Ho();function Vx(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Le,this.tree._init(t.body)}a(Vx,"DERDecoder");Vx.prototype.decode=a(function(e,n){return zx.isDecoderBuffer(e)||(e=new zx(e,n)),this.tree._decode(e,n)},"decode");function Le(t){Gx.call(this,"der",t)}a(Le,"DERNode");wK(Le,Gx);Le.prototype._peekTag=a(function(e,n,r){if(e.isEmpty())return!1;let i=e.save(),s=Ld(e,`Failed to peek tag: "${n}"`);return e.isError(s)?s:(e.restore(i),s.tag===n||s.tagStr===n||s.tagStr+"of"===n||r)},"peekTag");Le.prototype._decodeTag=a(function(e,n,r){let i=Ld(e,`Failed to decode tag of "${n}"`);if(e.isError(i))return i;let s=Xx(e,i.primitive,`Failed to get length of "${n}"`);if(e.isError(s))return s;if(!r&&i.tag!==n&&i.tagStr!==n&&i.tagStr+"of"!==n)return e.error(`Failed to match tag: "${n}"`);if(i.primitive||s!==null)return e.skip(s,`Failed to match body of: "${n}"`);let o=e.save(),c=this._skipUntilEnd(e,`Failed to skip indefinite length body: "${this.tag}"`);return e.isError(c)?c:(s=e.offset-o.offset,e.restore(o),e.skip(s,`Failed to match body of: "${n}"`))},"decodeTag");Le.prototype._skipUntilEnd=a(function(e,n){for(;;){let r=Ld(e,n);if(e.isError(r))return r;let i=Xx(e,r.primitive,n);if(e.isError(i))return i;let s;if(r.primitive||i!==null?s=e.skip(i):s=this._skipUntilEnd(e,n),e.isError(s))return s;if(r.tagStr==="end")break}},"skipUntilEnd");Le.prototype._decodeList=a(function(e,n,r,i){let s=[];for(;!e.isEmpty();){let o=this._peekTag(e,"end");if(e.isError(o))return o;let c=r.decode(e,"der",i);if(e.isError(c)&&o)break;s.push(c)}return s},"decodeList");Le.prototype._decodeStr=a(function(e,n){if(n==="bitstr"){let r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}else if(n==="bmpstr"){let r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<r.length/2;s++)i+=String.fromCharCode(r.readUInt16BE(s*2));return i}else if(n==="numstr"){let r=e.raw().toString("ascii");return this._isNumstr(r)?r:e.error("Decoding of string type: numstr unsupported characters")}else{if(n==="octstr")return e.raw();if(n==="objDesc")return e.raw();if(n==="printstr"){let r=e.raw().toString("ascii");return this._isPrintstr(r)?r:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(n)?e.raw().toString():e.error(`Decoding of string type: ${n} unsupported`)}},"decodeStr");Le.prototype._decodeObjid=a(function(e,n,r){let i,s=[],o=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),o<<=7,o|=c&127,(c&128)==0&&(s.push(o),o=0);c&128&&s.push(o);let u=s[0]/40|0,p=s[0]%40;if(r?i=s:i=[u,p].concat(s.slice(1)),n){let l=n[i.join(" ")];l===void 0&&(l=n[i.join(".")]),l!==void 0&&(i=l)}return i},"decodeObjid");Le.prototype._decodeTime=a(function(e,n){let r=e.raw().toString(),i,s,o,c,u,p;if(n==="gentime")i=r.slice(0,4)|0,s=r.slice(4,6)|0,o=r.slice(6,8)|0,c=r.slice(8,10)|0,u=r.slice(10,12)|0,p=r.slice(12,14)|0;else if(n==="utctime")i=r.slice(0,2)|0,s=r.slice(2,4)|0,o=r.slice(4,6)|0,c=r.slice(6,8)|0,u=r.slice(8,10)|0,p=r.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error(`Decoding ${n} time is not supported yet`);return Date.UTC(i,s-1,o,c,u,p,0)},"decodeTime");Le.prototype._decodeNull=a(function(){return null},"decodeNull");Le.prototype._decodeBool=a(function(e){let n=e.readUInt8();return e.isError(n)?n:n!==0},"decodeBool");Le.prototype._decodeInt=a(function(e,n){let r=e.raw(),i=BigInt(`0x${r.toString("hex")}`);return n&&(i=n[i.toString(10)]||i),i},"decodeInt");Le.prototype._use=a(function(e,n){return typeof e=="function"&&(e=e(n)),e._getDecoder("der").tree},"use");function Ld(t,e){let n=t.readUInt8(e);if(t.isError(n))return n;let r=Yx.tagClass[n>>6],i=(n&32)==0;if((n&31)==31){let o=n;for(n=0;(o&128)==128;){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=o&127}}else n&=31;let s=Yx.tag[n];return{cls:r,primitive:i,tag:n,tagStr:s}}a(Ld,"derDecodeTag");function Xx(t,e,n){let r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&r===128)return null;if((r&128)==0)return r;let i=r&127;if(i>4)return t.error("length octect is too long");r=0;for(let s=0;s<i;s++){r<<=8;let o=t.readUInt8(n);if(t.isError(o))return o;r|=o}return r}a(Xx,"derDecodeLen");Zx.exports=Vx});var eS=m((W8,Qx)=>{var{inherits:TK}=require("util"),Ud=Hd();function $d(t){Ud.call(this,t),this.enc="pem"}a($d,"PEMDecoder");TK($d,Ud);$d.prototype.decode=a(function(e,n){let r=e.toString().split(/[\r\n]+/g),i=n.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,c=-1;for(let l=0;l<r.length;l++){let d=r[l].match(s);if(d!==null&&d[2]===i)if(o===-1){if(d[1]!=="BEGIN")break;o=l}else{if(d[1]!=="END")break;c=l;break}}if(o===-1||c===-1)throw new Error(`PEM section not found for: ${i}`);let u=r.slice(o+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");let p=Buffer.from(u,"base64");return Ud.prototype.decode.call(this,p,n)},"decode");Qx.exports=$d});var Jd=m((z8,tS)=>{tS.exports={der:Hd(),pem:eS()}});var rS=m((G8,nS)=>{var{inherits:OK}=require("util"),kK=Fd(),qK=Jd();nS.exports.define=a(function(e,n){return new oi(e,n)},"define");function oi(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}a(oi,"Entity");oi.prototype._createNamed=a(function(e){let n=this.name;function r(i){this._initNamed(i,n)}return a(r,"Generated"),OK(r,e),r.prototype._initNamed=a(function(s,o){e.call(this,s,o)},"_initNamed"),new r(this)},"createNamed");oi.prototype._getDecoder=a(function(e){return e=e||"der",Object.prototype.hasOwnProperty.call(this.decoders,e)||(this.decoders[e]=this._createNamed(qK[e])),this.decoders[e]},"_getDecoder");oi.prototype.decode=a(function(e,n,r){return this._getDecoder(n).decode(e,r)},"decode");oi.prototype._getEncoder=a(function(e){return e=e||"der",Object.prototype.hasOwnProperty.call(this.encoders,e)||(this.encoders[e]=this._createNamed(kK[e])),this.encoders[e]},"_getEncoder");oi.prototype.encode=a(function(e,n,r){return this._getEncoder(n).encode(e,r)},"encode")});var sS=m((Y8,iS)=>{var{Reporter:CK}=Do(),{DecoderBuffer:IK,EncoderBuffer:PK}=Fo(),RK=Lo();iS.exports={DecoderBuffer:IK,EncoderBuffer:PK,Node:RK,Reporter:CK}});var oS=m((V8,aS)=>{aS.exports={der:Ho()}});var uS=m((X8,cS)=>{var{define:AK}=rS(),jK=sS(),NK=oS(),MK=Jd(),BK=Fd();cS.exports={base:jK,constants:NK,decoders:MK,define:AK,encoders:BK}});var Wd=m((Z8,pS)=>{var{name:DK}=Xn(),KK={"1 2 840 10045 3 1 7":"P-256","1 3 132 0 10":DK,"1 3 132 0 34":"P-384","1 3 132 0 35":"P-521","1 2 840 10045 2 1":"ecPublicKey","1 2 840 113549 1 1 1":"rsaEncryption","1 3 101 110":"X25519","1 3 101 111":"X448","1 3 101 112":"Ed25519","1 3 101 113":"Ed448"};pS.exports=KK});var fS=m((Q8,dS)=>{var lS=Wd();dS.exports=function(){this.seq().obj(this.key("algorithm").objid(lS),this.key("parameters").optional().choice({namedCurve:this.objid(lS),null:this.null_()}))}});var hS=m((eG,mS)=>{var FK=Wd();mS.exports=function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().choice({namedCurve:this.objid(FK)}),this.key("publicKey").explicit(1).optional().bitstr())}});var gS=m((tG,vS)=>{vS.exports=t=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(t),this.key("privateKey").octstr())}});var _S=m((nG,yS)=>{yS.exports=t=>function(){this.seq().obj(this.key("algorithm").use(t),this.key("publicKey").bitstr())}});var xS=m((rG,bS)=>{bS.exports=function(){this.octstr().contains().obj(this.key("privateKey").octstr())}});var ES=m((iG,SS)=>{SS.exports=(t,e)=>function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(t),this.key("privateKey").use(e))}});var TS=m((sG,wS)=>{wS.exports=function(){this.seq().obj(this.key("version").int({0:"two-prime",1:"multi"}),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int())}});var kS=m((aG,OS)=>{OS.exports=function(){this.seq().obj(this.key("n").int(),this.key("e").int())}});var zd=m((oG,CS)=>{var Sn=uS(),Xt=new Map,Uo=Sn.define("AlgorithmIdentifier",fS());Xt.set("AlgorithmIdentifier",Uo);var LK=Sn.define("ECPrivateKey",hS());Xt.set("ECPrivateKey",LK);var HK=Sn.define("PrivateKeyInfo",gS()(Uo));Xt.set("PrivateKeyInfo",HK);var UK=Sn.define("PublicKeyInfo",_S()(Uo));Xt.set("PublicKeyInfo",UK);var qS=Sn.define("PrivateKey",xS());Xt.set("PrivateKey",qS);var $K=Sn.define("OneAsymmetricKey",ES()(Uo,qS));Xt.set("OneAsymmetricKey",$K);var JK=Sn.define("RSAPrivateKey",TS());Xt.set("RSAPrivateKey",JK);var WK=Sn.define("RSAPublicKey",kS());Xt.set("RSAPublicKey",WK);CS.exports=Xt});var oe=m((uG,IS)=>{var{keyObjectSupported:zK}=Fe(),xt,En,$o,St,Gd;if(zK)({createPublicKey:xt,createPrivateKey:En,createSecretKey:$o,KeyObject:St}=require("crypto")),Gd=a(t=>t,"asInput");else{let{EOL:t}=require("os"),e=L(),n=Ye(),r=zd(),i=Symbol("toInput"),s=Symbol("namedCurve");Gd=a((p,l)=>p instanceof St?p[i](l):$o(p)[i](l),"asInput");let o=a(p=>Buffer.from(p.replace(/(?:-----(?:BEGIN|END)(?: (?:RSA|EC))? (?:PRIVATE|PUBLIC) KEY-----|\s)/g,""),"base64"),"pemToDer"),c=a((p,l)=>`-----BEGIN ${l}-----${t}${(p.toString("base64").match(/.{1,64}/g)||[]).join(t)}${t}-----END ${l}-----`,"derToPem"),u=a(p=>{let l=typeof p=="string"?p:`OID ${p.join(".")}`;throw new e.JOSENotSupported(`${l} is not supported in your Node.js runtime version`)},"unsupported");St=a(class{export({cipher:l,passphrase:d,type:f,format:h}={}){if(this._type==="secret")return this._buffer;if(this._type==="public"){if(this.asymmetricKeyType==="rsa")switch(f){case"pkcs1":return h==="pem"?this._pem:o(this._pem);case"spki":{let g=r.get("PublicKeyInfo").encode({algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}},publicKey:{unused:0,data:o(this._pem)}},"pem",{label:"PUBLIC KEY"});return h==="pem"?g:o(g)}default:throw new TypeError(`The value ${f} is invalid for option "type"`)}if(this.asymmetricKeyType==="ec"){if(f!=="spki")throw new TypeError(`The value ${f} is invalid for option "type"`);return h==="pem"?this._pem:o(this._pem)}}if(this._type==="private"){if(d!==void 0||l!==void 0)throw new e.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if(f==="pkcs8"){if(this._pkcs8)return h==="der"&&typeof this._pkcs8=="string"?o(this._pkcs8):h==="pem"&&Buffer.isBuffer(this._pkcs8)?c(this._pkcs8,"PRIVATE KEY"):this._pkcs8;if(this.asymmetricKeyType==="rsa"){let v=this._asn1,y=r.get("RSAPrivateKey").encode(v),x=r.get("PrivateKeyInfo").encode({version:0,privateKey:y,algorithm:{algorithm:"rsaEncryption",parameters:{type:"null"}}});return this._pkcs8=x,this.export({type:f,format:h})}if(this.asymmetricKeyType==="ec"){let v=this._asn1,y=r.get("ECPrivateKey").encode({version:v.version,privateKey:v.privateKey,publicKey:v.publicKey}),x=r.get("PrivateKeyInfo").encode({version:0,privateKey:y,algorithm:{algorithm:"ecPublicKey",parameters:this._asn1.parameters}});return this._pkcs8=x,this.export({type:f,format:h})}}if(this.asymmetricKeyType==="rsa"&&f==="pkcs1")return h==="pem"?this._pem:o(this._pem);if(this.asymmetricKeyType==="ec"&&f==="sec1")return h==="pem"?this._pem:o(this._pem);throw new TypeError(`The value ${f} is invalid for option "type"`)}}get type(){return this._type}get asymmetricKeyType(){return this._asymmetricKeyType}get symmetricKeySize(){return this._symmetricKeySize}[i](l){switch(this._type){case"secret":return this._buffer;case"public":return this._pem;default:return l?("_pub"in this||(this._pub=xt(this)),this._pub[i](!1)):this._pem}}},"KeyObject"),$o=a(p=>{if(!Buffer.isBuffer(p)||!p.length)throw new TypeError("input must be a non-empty Buffer instance");let l=new St;return l._buffer=Buffer.from(p),l._symmetricKeySize=p.length,l._type="secret",l},"createSecretKey"),xt=a(p=>{if(p instanceof St){if(p.type!=="private")throw new TypeError(`Invalid key object type ${p.type}, expected private.`);switch(p.asymmetricKeyType){case"ec":{let y=r.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:p._asn1.parameters},publicKey:p._asn1.publicKey});return xt({key:y,format:"der",type:"spki"})}case"rsa":{let y=r.get("RSAPublicKey").encode(p._asn1);return xt({key:y,format:"der",type:"pkcs1"})}}}if((typeof p=="string"||Buffer.isBuffer(p))&&(p={key:p,format:"pem"}),!n(p))throw new TypeError("input must be a string, Buffer or an object");let{format:l,passphrase:d}=p,{key:f,type:h}=p;if(typeof f!="string"&&!Buffer.isBuffer(f))throw new TypeError("key must be a string or Buffer");if(l!=="pem"&&l!=="der")throw new TypeError('format must be one of "pem" or "der"');let v;if(l==="pem")switch(f=f.toString(),f.split(/\r?\n/g)[0].toString()){case"-----BEGIN PUBLIC KEY-----":h="spki",v="PUBLIC KEY";break;case"-----BEGIN RSA PUBLIC KEY-----":h="pkcs1",v="RSA PUBLIC KEY";break;case"-----BEGIN CERTIFICATE-----":throw new e.JOSENotSupported("X.509 certificates are not supported in your Node.js runtime version");case"-----BEGIN PRIVATE KEY-----":case"-----BEGIN EC PRIVATE KEY-----":case"-----BEGIN RSA PRIVATE KEY-----":return xt(En(f));default:throw new TypeError("unknown/unsupported PEM type")}switch(h){case"spki":{let g=r.get("PublicKeyInfo"),y=g.decode(f,l,{label:v}),_,x;switch(y.algorithm.algorithm){case"ecPublicKey":{x=new St,x._asn1=y,x._asymmetricKeyType="ec",x._type="public",x._pem=g.encode(y,"pem",{label:"PUBLIC KEY"});break}case"rsaEncryption":{_="pkcs1",x=xt({type:_,key:y.publicKey.data,format:"der"});break}default:u(y.algorithm.algorithm)}return x}case"pkcs1":{let g=r.get("RSAPublicKey"),y=g.decode(f,l,{label:v});if(y.n===BigInt(0))return xt(En({key:f,format:l,type:h,passphrase:d}));let _=new St;return _._asn1=y,_._asymmetricKeyType="rsa",_._type="public",_._pem=g.encode(y,"pem",{label:"RSA PUBLIC KEY"}),_}case"pkcs8":case"sec1":return xt(En({format:l,key:f,type:h,passphrase:d}));default:throw new TypeError(`The value ${h} is invalid for option "type"`)}},"createPublicKey"),En=a((p,l)=>{if((typeof p=="string"||Buffer.isBuffer(p))&&(p={key:p,format:"pem"}),!n(p))throw new TypeError("input must be a string, Buffer or an object");let{format:d,passphrase:f}=p,{key:h,type:v}=p;if(typeof h!="string"&&!Buffer.isBuffer(h))throw new TypeError("key must be a string or Buffer");if(f!==void 0)throw new e.JOSENotSupported("encrypted private keys are not supported in your Node.js runtime version");if(d!=="pem"&&d!=="der")throw new TypeError('format must be one of "pem" or "der"');let g;if(d==="pem")switch(h=h.toString(),h.split(/\r?\n/g)[0].toString()){case"-----BEGIN PRIVATE KEY-----":v="pkcs8",g="PRIVATE KEY";break;case"-----BEGIN EC PRIVATE KEY-----":v="sec1",g="EC PRIVATE KEY";break;case"-----BEGIN RSA PRIVATE KEY-----":v="pkcs1",g="RSA PRIVATE KEY";break;default:throw new TypeError("unknown/unsupported PEM type")}switch(v){case"pkcs8":{let _=r.get("PrivateKeyInfo").decode(h,d,{label:g}),x,S;switch(_.algorithm.algorithm){case"ecPublicKey":{x="sec1",S=En({type:x,key:_.privateKey,format:"der"},{[s]:_.algorithm.parameters.value});break}case"rsaEncryption":{x="pkcs1",S=En({type:x,key:_.privateKey,format:"der"});break}default:u(_.algorithm.algorithm)}return S._pkcs8=h,S}case"pkcs1":{let y=r.get("RSAPrivateKey"),_=y.decode(h,d,{label:g}),x=new St;return x._asn1=_,x._asymmetricKeyType="rsa",x._type="private",x._pem=y.encode(_,"pem",{label:"RSA PRIVATE KEY"}),x}case"sec1":{let y=r.get("ECPrivateKey"),_=y.decode(h,d,{label:g});if(!("parameters"in _)&&!l[s])throw new Error("invalid sec1");"parameters"in _||(_=R(b({},_),{parameters:{type:"namedCurve",value:l[s]}}));let x=new St;return x._asn1=_,x._asymmetricKeyType="ec",x._type="private",x._pem=y.encode(_,"pem",{label:"EC PRIVATE KEY"}),x}default:throw new TypeError(`The value ${v} is invalid for option "type"`)}},"createPrivateKey")}IS.exports={createPublicKey:xt,createPrivateKey:En,createSecretKey:$o,KeyObject:St,asInput:Gd}});var RS=m((pG,PS)=>{var{randomBytes:GK}=require("crypto"),Jo=Se(),Yd=L(),ci=BigInt(0),le=BigInt(1),ms=BigInt(2),hs=a(t=>{let e=t.toString(16);return Jo.encodeBuffer(Buffer.from(e.length%2?`0${e}`:e,"hex"))},"toJWKParameter"),Wo=a(t=>BigInt(`0x${t.toString("hex")}`),"fromBuffer"),YK=a(t=>t.toString(2).length,"bitLength"),VK=a((t,e)=>{let n=ci,r=le,i=le,s=ci;for(;t!==ci;){let o=e/t,c=e%t,u=n-i*o,p=r-s*o;e=t,t=c,n=i,r=s,i=u,s=p}return n},"eGcdX"),XK=a((t,e)=>{let n=ci;for(;!((t|e)&le);)t>>=le,e>>=le,n++;for(;!(t&le);)t>>=le;do{for(;!(e&le);)e>>=le;if(t>e){let r=t;t=e,e=r}e-=t}while(e);return t<<n},"gcd"),ZK=a((t,e,n)=>{t=Vd(t,n);let r=le,i=t;for(;e>0;){var s=e%ms;e=e/ms,s===le&&(r=r*i,r=r%n),i=i*i,i=i%n}return r},"modPow"),QK=a((t,e)=>{let n=e-t,r=YK(n),i;do i=Wo(eF(r));while(i>n);return i+t},"randBetween"),eF=a(t=>{let e=Math.ceil(t/8),n=GK(e);return n[0]=n[0]&2**(t%8)-1,n},"randBits"),Vd=a((t,e)=>(t=t%e,t<0?t+e:t),"toZn"),tF=a(t=>{let e=t;for(;e%ms===ci;)e=e/ms;return e},"odd"),nF=30,rF=22,iF=a((t,e,n)=>{let r=tF(t*e-le),i=0,s;do{if(i++,i===nF)throw new Yd.JWKImportFailed("failed to calculate missing primes");let u=0,p=ZK(QK(ms,n),r,n),l=ci;for(;p!==le;){if(u++,u===rF)throw new Yd.JWKImportFailed("failed to calculate missing primes");l=p,p=p*p%n}l!==n-le&&(s=l)}while(!s);let o=XK(s-le,n),c=n/o;return o>c?{p:o,q:c}:{p:c,q:o}},"getPrimeFactors");PS.exports=t=>{let e=Wo(Jo.decodeToBuffer(t.e)),n=Wo(Jo.decodeToBuffer(t.d)),r=Wo(Jo.decodeToBuffer(t.n));if(n>=r)throw new Yd.JWKInvalid("invalid RSA private exponent");let{p:i,q:s}=iF(e,n,r),o=n%(i-le),c=n%(s-le),u=Vd(VK(Vd(s,i),i),i);return R(b({},t),{p:hs(i),q:hs(s),dp:hs(o),dq:hs(c),qi:hs(u)})}});var ef=m((lG,Qd)=>{var{EOL:Xd}=require("os"),wn=L(),{keyObjectSupported:sF}=Fe(),{createPublicKey:AS}=oe(),P=Se(),we=zd(),aF=RS(),{OKP_CURVES:oF,EC_CURVES:cF}=bt(),uF=a((t,e)=>`-----BEGIN ${e} KEY-----${Xd}${(t.match(/.{1,64}/g)||[]).join(Xd)}${Xd}-----END ${e} KEY-----`,"formatPem"),Zt={private(t,e){let n=e.export({type:"pkcs8",format:"der"}),r=we.get("OneAsymmetricKey"),{privateKey:{privateKey:i}}=r.decode(n);return R(b({},Zt.public(t,AS(e))),{d:P.encodeBuffer(i)})},public(t,e){let n=e.export({type:"spki",format:"der"}),r=we.get("PublicKeyInfo"),{publicKey:{data:i}}=r.decode(n);return{kty:"OKP",crv:t,x:P.encodeBuffer(i)}}},Zd={rsa:{private(t){let e=t.export({type:"pkcs8",format:"der"}),n=we.get("PrivateKeyInfo"),r=we.get("RSAPrivateKey"),{privateKey:i}=n.decode(e),{version:s,n:o,e:c,d:u,p,q:l,dp:d,dq:f,qi:h}=r.decode(i);if(s!=="two-prime")throw new wn.JOSENotSupported("Private RSA keys with more than two primes are not supported");return{kty:"RSA",n:P.encodeBigInt(o),e:P.encodeBigInt(c),d:P.encodeBigInt(u),p:P.encodeBigInt(p),q:P.encodeBigInt(l),dp:P.encodeBigInt(d),dq:P.encodeBigInt(f),qi:P.encodeBigInt(h)}},public(t){let e=t.export({type:"spki",format:"der"}),n=we.get("PublicKeyInfo"),r=we.get("RSAPublicKey"),{publicKey:{data:i}}=n.decode(e),{n:s,e:o}=r.decode(i);return{kty:"RSA",n:P.encodeBigInt(s),e:P.encodeBigInt(o)}}},ec:{private(t){let e=t.export({type:"pkcs8",format:"der"}),n=we.get("PrivateKeyInfo"),r=we.get("ECPrivateKey"),{privateKey:i,algorithm:{parameters:{value:s}}}=n.decode(e),{privateKey:o,publicKey:c}=r.decode(i);if(typeof c=="undefined"){if(sF)return R(b({},Zd.ec.public(AS(t))),{d:P.encodeBuffer(o)});throw new wn.JOSENotSupported("Private EC keys without the public key embedded are not supported in your Node.js runtime version")}let u=c.data.slice(1,(c.data.length-1)/2+1),p=c.data.slice((c.data.length-1)/2+1);return{kty:"EC",crv:s,d:P.encodeBuffer(o),x:P.encodeBuffer(u),y:P.encodeBuffer(p)}},public(t){let e=t.export({type:"spki",format:"der"}),n=we.get("PublicKeyInfo"),{publicKey:{data:r},algorithm:{parameters:{value:i}}}=n.decode(e),s=r.slice(1,(r.length-1)/2+1),o=r.slice((r.length-1)/2+1);return{kty:"EC",crv:i,x:P.encodeBuffer(s),y:P.encodeBuffer(o)}}},ed25519:{private(t){return Zt.private("Ed25519",t)},public(t){return Zt.public("Ed25519",t)}},ed448:{private(t){return Zt.private("Ed448",t)},public(t){return Zt.public("Ed448",t)}},x25519:{private(t){return Zt.private("X25519",t)},public(t){return Zt.public("X25519",t)}},x448:{private(t){return Zt.private("X448",t)},public(t){return Zt.public("X448",t)}}};Qd.exports.keyObjectToJWK=t=>t.type==="private"?Zd[t.asymmetricKeyType].private(t):Zd[t.asymmetricKeyType].public(t);var jS=a((t,e)=>({unused:0,data:Buffer.concat([Buffer.alloc(1,4),P.decodeToBuffer(t),P.decodeToBuffer(e)])}),"concatEcPublicKey"),NS={RSA:{private(t,{calculateMissingRSAPrimes:e}){let n=we.get("RSAPrivateKey");if("oth"in t)throw new wn.JOSENotSupported("Private RSA keys with more than two primes are not supported");if(t.p||t.q||t.dp||t.dq||t.qi){if(!(t.p&&t.q&&t.dp&&t.dq&&t.qi))throw new wn.JWKInvalid("all other private key parameters must be present when any one of them is present")}else if(e)t=aF(t);else if(!e)throw new wn.JOSENotSupported("importing private RSA keys without all other private key parameters is not enabled, see documentation and its advisory on how and when its ok to enable it");return n.encode({version:0,n:BigInt(`0x${P.decodeToBuffer(t.n).toString("hex")}`),e:BigInt(`0x${P.decodeToBuffer(t.e).toString("hex")}`),d:BigInt(`0x${P.decodeToBuffer(t.d).toString("hex")}`),p:BigInt(`0x${P.decodeToBuffer(t.p).toString("hex")}`),q:BigInt(`0x${P.decodeToBuffer(t.q).toString("hex")}`),dp:BigInt(`0x${P.decodeToBuffer(t.dp).toString("hex")}`),dq:BigInt(`0x${P.decodeToBuffer(t.dq).toString("hex")}`),qi:BigInt(`0x${P.decodeToBuffer(t.qi).toString("hex")}`)},"pem",{label:"RSA PRIVATE KEY"})},public(t){return we.get("RSAPublicKey").encode({version:0,n:BigInt(`0x${P.decodeToBuffer(t.n).toString("hex")}`),e:BigInt(`0x${P.decodeToBuffer(t.e).toString("hex")}`)},"pem",{label:"RSA PUBLIC KEY"})}},EC:{private(t){return we.get("ECPrivateKey").encode({version:1,privateKey:P.decodeToBuffer(t.d),parameters:{type:"namedCurve",value:t.crv},publicKey:jS(t.x,t.y)},"pem",{label:"EC PRIVATE KEY"})},public(t){return we.get("PublicKeyInfo").encode({algorithm:{algorithm:"ecPublicKey",parameters:{type:"namedCurve",value:t.crv}},publicKey:jS(t.x,t.y)},"pem",{label:"PUBLIC KEY"})}},OKP:{private(t){let n=we.get("OneAsymmetricKey").encode({version:0,privateKey:{privateKey:P.decodeToBuffer(t.d)},algorithm:{algorithm:t.crv}},"der");return n.write("04",12,1,"hex"),uF(n.toString("base64"),"PRIVATE")},public(t){return we.get("PublicKeyInfo").encode({algorithm:{algorithm:t.crv},publicKey:{unused:0,data:P.decodeToBuffer(t.x)}},"pem",{label:"PUBLIC KEY"})}}};Qd.exports.jwkToPem=(t,{calculateMissingRSAPrimes:e=!1}={})=>{switch(t.kty){case"EC":if(!cF.has(t.crv))throw new wn.JOSENotSupported(`unsupported EC key curve: ${t.crv}`);break;case"OKP":if(!oF.has(t.crv))throw new wn.JOSENotSupported(`unsupported OKP key curve: ${t.crv}`);break;case"RSA":break;default:throw new wn.JOSENotSupported(`unsupported key type: ${t.kty}`)}return t.d?NS[t.kty].private(t,{calculateMissingRSAPrimes:e}):NS[t.kty].public(t)}});var KS=m((dG,zo)=>{var{createHash:MS}=require("crypto"),BS=Se(),DS=a((t,e)=>BS.encodeBuffer(MS(t).update(Buffer.from(e,"base64")).digest()),"x5t");zo.exports.kid=t=>BS.encodeBuffer(MS("sha256").update(JSON.stringify(t)).digest());zo.exports.x5t=DS.bind(void 0,"sha1");zo.exports["x5t#S256"]=DS.bind(void 0,"sha256")});var Et=m((fG,JS)=>{var{strict:pF}=require("assert"),{inspect:FS}=require("util"),{EOL:tf}=require("os"),{keyObjectSupported:LS}=Fe(),{createPublicKey:nf}=oe(),{keyObjectToJWK:lF}=ef(),{THUMBPRINT_MATERIAL:HS,PUBLIC_MEMBERS:vs,PRIVATE_MEMBERS:rf,JWK_MEMBERS:dF,KEYOBJECT:gs,USES_MAPPING:US,OPS:fF,USES:mF}=Z(),hF=Ye(),sf=KS(),Go=L(),$S=Symbol("privateApi"),{JWK:vF}=bt(),af=class{constructor(e,{alg:n,use:r,kid:i,key_ops:s,x5c:o,x5t:c,"x5t#S256":u}={}){if(r!==void 0&&(typeof r!="string"||!mF.has(r)))throw new TypeError('`use` must be either "sig" or "enc" string when provided');if(n!==void 0&&(typeof n!="string"||!n))throw new TypeError("`alg` must be a non-empty string when provided");if(i!==void 0&&(typeof i!="string"||!i))throw new TypeError("`kid` must be a non-empty string when provided");if(s!==void 0){if(!Array.isArray(s)||!s.length||s.some(p=>typeof p!="string"))throw new TypeError("`key_ops` must be a non-empty array of strings when provided");s=Array.from(new Set(s)).filter(p=>fF.has(p))}if(s&&r&&(r==="enc"&&s.some(p=>US.sig.has(p))||r==="sig"&&s.some(p=>US.enc.has(p))))throw new Go.JWKInvalid('inconsistent JWK "use" and "key_ops"');if(LS&&o!==void 0){if(!Array.isArray(o)||!o.length||o.some(p=>typeof p!="string"))throw new TypeError("`x5c` must be an array of one or more PKIX certificates when provided");o.forEach((p,l)=>{let d;try{d=nf({key:`-----BEGIN CERTIFICATE-----${tf}${(p.match(/.{1,64}/g)||[]).join(tf)}${tf}-----END CERTIFICATE-----`,format:"pem"})}catch(f){throw new Go.JWKInvalid(`\`x5c\` member at index ${l} is not a valid base64-encoded DER PKIX certificate`)}if(l===0)try{pF.deepEqual(d.export({type:"spki",format:"der"}),(e.type==="public"?e:nf(e)).export({type:"spki",format:"der"}))}catch(f){throw new Go.JWKInvalid("The key in the first `x5c` certificate MUST match the public key represented by the JWK")}})}Object.defineProperties(this,R(b(b({[gs]:{value:hF(e)?void 0:e},keyObject:{get(){if(!LS)throw new Go.JOSENotSupported("KeyObject class is not supported in your Node.js runtime version");return this[gs]}},type:{value:e.type},private:{value:e.type==="private"},public:{value:e.type==="public"},secret:{value:e.type==="secret"},alg:{value:n,enumerable:n!==void 0},use:{value:r,enumerable:r!==void 0},x5c:b({enumerable:o!==void 0},o?{get(){return[...o]}}:{value:void 0}),key_ops:b({enumerable:s!==void 0},s?{get(){return[...s]}}:{value:void 0}),kid:b({enumerable:!0},i?{value:i}:{get(){return Object.defineProperty(this,"kid",{value:this.thumbprint,configurable:!1}),this.kid},configurable:!0})},o?{x5t:b({enumerable:!0},c?{value:c}:{get(){return Object.defineProperty(this,"x5t",{value:sf.x5t(this.x5c[0]),configurable:!1}),this.x5t},configurable:!0})}:void 0),o?{"x5t#S256":b({enumerable:!0},u?{value:u}:{get(){return Object.defineProperty(this,"x5t#S256",{value:sf["x5t#S256"](this.x5c[0]),configurable:!1}),this["x5t#S256"]},configurable:!0})}:void 0),{thumbprint:{get(){return Object.defineProperty(this,"thumbprint",{value:sf.kid(this[HS]()),configurable:!1}),this.thumbprint},configurable:!0}}))}toPEM(e=!1,n={}){if(this.secret)throw new TypeError("symmetric keys cannot be exported as PEM");if(e&&this.public===!0)throw new TypeError("public key cannot be exported as private");let{type:r=e?"pkcs8":"spki",cipher:i,passphrase:s}=n,o=this[gs];if(!e&&(this.private&&(o=nf(o)),i||s))throw new TypeError("cipher and passphrase can only be applied when exporting private keys");return e?o.export({format:"pem",type:r,cipher:i,passphrase:s}):o.export({format:"pem",type:r})}toJWK(e=!1){if(e&&this.public===!0)throw new TypeError("public key cannot be exported as private");let n=[...this.constructor[e?rf:vs]].map(i=>[i,this[i]]),r={};return Object.keys(n).forEach(i=>{let[s,o]=n[i];r[s]=o}),r.kty=this.kty,r.kid=this.kid,this.alg&&(r.alg=this.alg),this.key_ops&&this.key_ops.length&&(r.key_ops=this.key_ops),this.use&&(r.use=this.use),this.x5c&&(r.x5c=this.x5c),this.x5t&&(r.x5t=this.x5t),this["x5t#S256"]&&(r["x5t#S256"]=this["x5t#S256"]),r}[dF](){let e=this[gs].type==="private"?this.constructor[rf]:this.constructor[vs];Object.defineProperties(this,[...e].reduce((n,r)=>(n[r]={get(){let i=lF(this[gs]);return Object.defineProperties(this,Object.entries(i).filter(([s])=>e.has(s)).reduce((s,[o,c])=>(s[o]={value:c,enumerable:this.constructor[vs].has(o),configurable:!1},s),{})),this[r]},enumerable:this.constructor[vs].has(r),configurable:!0},n),{}))}[FS.custom](){return`${this.constructor.name} ${FS(this.toJWK(!1),{depth:Infinity,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}[HS](){throw new Error(`"[THUMBPRINT_MATERIAL]()" is not implemented on ${this.constructor.name}`)}algorithms(e,n,r){let{use:i=this.use,alg:s=this.alg,key_ops:o=this.key_ops}=n===$S?r:{};if(s)return new Set(this.algorithms(e,$S,{alg:null,use:i,key_ops:o}).has(s)?[s]:void 0);if(typeof e=="symbol")try{return this[e]()}catch(c){return new Set}if(e&&o&&!o.includes(e))return new Set;switch(e){case"decrypt":case"deriveKey":case"encrypt":case"sign":case"unwrapKey":case"verify":case"wrapKey":return new Set(Object.entries(vF[this.kty][e]).map(([c,u])=>u(this)?c:void 0).filter(Boolean));case void 0:return new Set([...this.algorithms("sign"),...this.algorithms("verify"),...this.algorithms("decrypt"),...this.algorithms("encrypt"),...this.algorithms("unwrapKey"),...this.algorithms("wrapKey"),...this.algorithms("deriveKey")]);default:throw new TypeError("invalid key operation")}}static async generate(){throw new Error(`"static async generate()" is not implemented on ${this.name}`)}static generateSync(){throw new Error(`"static generateSync()" is not implemented on ${this.name}`)}static get[vs](){throw new Error(`"static get [PUBLIC_MEMBERS]()" is not implemented on ${this.name}`)}static get[rf](){throw new Error(`"static get [PRIVATE_MEMBERS]()" is not implemented on ${this.name}`)}};a(af,"Key");JS.exports=af});var uf=m((mG,ZS)=>{var{generateKeyPairSync:WS,generateKeyPair:gF}=require("crypto"),{promisify:yF}=require("util"),{THUMBPRINT_MATERIAL:_F,JWK_MEMBERS:bF,PUBLIC_MEMBERS:xF,PRIVATE_MEMBERS:SF,KEY_MANAGEMENT_DECRYPT:EF,KEY_MANAGEMENT_ENCRYPT:wF}=Z(),{keyObjectSupported:zS}=Fe(),{createPublicKey:GS,createPrivateKey:YS}=oe(),TF=Et(),VS=yF(gF),of=new Set(["e","n"]);Object.freeze(of);var XS=new Set([...of,"d","p","q","dp","dq","qi"]);Object.freeze(XS);var cf=class extends TF{constructor(...e){super(...e);this[bF](),Object.defineProperties(this,{kty:{value:"RSA",enumerable:!0},length:{get(){return Object.defineProperty(this,"length",{value:Buffer.byteLength(this.n,"base64")*8,configurable:!1}),this.length},configurable:!0}})}static get[xF](){return of}static get[SF](){return XS}[_F](){return{e:this.e,kty:"RSA",n:this.n}}[wF](){return this.algorithms("wrapKey")}[EF](){return this.algorithms("unwrapKey")}static async generate(e=2048,n=!0){if(!Number.isSafeInteger(e)||e<512||e%8!=0||"electron"in process.versions&&e%128!=0)throw new TypeError("invalid bit length");let r,i;return zS?({privateKey:r,publicKey:i}=await VS("rsa",{modulusLength:e}),n?r:i):({privateKey:r,publicKey:i}=await VS("rsa",{modulusLength:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),n?YS(r):GS(i))}static generateSync(e=2048,n=!0){if(!Number.isSafeInteger(e)||e<512||e%8!=0||"electron"in process.versions&&e%128!=0)throw new TypeError("invalid bit length");let r,i;return zS?({privateKey:r,publicKey:i}=WS("rsa",{modulusLength:e}),n?r:i):({privateKey:r,publicKey:i}=WS("rsa",{modulusLength:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),n?YS(r):GS(i))}};a(cf,"RSAKey");ZS.exports=cf});var mf=m((hG,aE)=>{var{generateKeyPairSync:QS,generateKeyPair:OF}=require("crypto"),{promisify:kF}=require("util"),{THUMBPRINT_MATERIAL:qF,JWK_MEMBERS:CF,PUBLIC_MEMBERS:IF,PRIVATE_MEMBERS:PF,KEY_MANAGEMENT_DECRYPT:RF,KEY_MANAGEMENT_ENCRYPT:AF}=Z(),{EC_CURVES:pf}=bt(),{keyObjectSupported:eE}=Fe(),{createPublicKey:tE,createPrivateKey:nE}=oe(),lf=L(),{name:rE}=Xn(),jF=Et(),iE=kF(OF),df=new Set(["crv","x","y"]);Object.freeze(df);var sE=new Set([...df,"d"]);Object.freeze(sE);var ff=class extends jF{constructor(...e){super(...e);if(this[CF](),Object.defineProperty(this,"kty",{value:"EC",enumerable:!0}),!pf.has(this.crv))throw new lf.JOSENotSupported("unsupported EC key curve")}static get[IF](){return df}static get[PF](){return sE}[qF](){return{crv:this.crv,kty:"EC",x:this.x,y:this.y}}[AF](){return this.algorithms("deriveKey")}[RF](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(e="P-256",n=!0){if(!pf.has(e))throw new lf.JOSENotSupported(`unsupported EC key curve: ${e}`);e===rE&&e!=="secp256k1"&&(e="secp256k1");let r,i;return eE?({privateKey:r,publicKey:i}=await iE("ec",{namedCurve:e}),n?r:i):({privateKey:r,publicKey:i}=await iE("ec",{namedCurve:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),n?nE(r):tE(i))}static generateSync(e="P-256",n=!0){if(!pf.has(e))throw new lf.JOSENotSupported(`unsupported EC key curve: ${e}`);e===rE&&e!=="secp256k1"&&(e="secp256k1");let r,i;return eE?({privateKey:r,publicKey:i}=QS("ec",{namedCurve:e}),n?r:i):({privateKey:r,publicKey:i}=QS("ec",{namedCurve:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),n?nE(r):tE(i))}};a(ff,"ECKey");aE.exports=ff});var yf=m((vG,uE)=>{var{generateKeyPairSync:NF,generateKeyPair:MF}=require("crypto"),{promisify:BF}=require("util"),{THUMBPRINT_MATERIAL:DF,JWK_MEMBERS:KF,PUBLIC_MEMBERS:FF,PRIVATE_MEMBERS:LF,KEY_MANAGEMENT_DECRYPT:HF,KEY_MANAGEMENT_ENCRYPT:UF}=Z(),{OKP_CURVES:hf}=bt(),{edDSASupported:oE}=Fe(),ys=L(),$F=Et(),JF=BF(MF),vf=new Set(["crv","x"]);Object.freeze(vf);var cE=new Set([...vf,"d"]);Object.freeze(cE);var gf=class extends $F{constructor(...e){super(...e);if(this[KF](),Object.defineProperty(this,"kty",{value:"OKP",enumerable:!0}),!hf.has(this.crv))throw new ys.JOSENotSupported("unsupported OKP key curve")}static get[FF](){return vf}static get[LF](){return cE}[DF](){return{crv:this.crv,kty:"OKP",x:this.x}}[UF](){return this.algorithms("deriveKey")}[HF](){return this.public?new Set:this.algorithms("deriveKey")}static async generate(e="Ed25519",n=!0){if(!oE)throw new ys.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!hf.has(e))throw new ys.JOSENotSupported(`unsupported OKP key curve: ${e}`);let{privateKey:r,publicKey:i}=await JF(e.toLowerCase());return n?r:i}static generateSync(e="Ed25519",n=!0){if(!oE)throw new ys.JOSENotSupported("OKP keys are not supported in your Node.js runtime version");if(!hf.has(e))throw new ys.JOSENotSupported(`unsupported OKP key curve: ${e}`);let{privateKey:r,publicKey:i}=NF(e.toLowerCase());return n?r:i}};a(gf,"OKPKey");uE.exports=gf});var Yo=m((gG,mE)=>{var{randomBytes:WF}=require("crypto"),{createSecretKey:zF}=oe(),GF=Se(),{THUMBPRINT_MATERIAL:YF,PUBLIC_MEMBERS:VF,PRIVATE_MEMBERS:XF,KEY_MANAGEMENT_DECRYPT:ZF,KEY_MANAGEMENT_ENCRYPT:pE,KEYOBJECT:ui}=Z(),lE=Et(),dE=new Set;Object.freeze(dE);var fE=new Set(["k"]);Object.freeze(fE);var _f=class extends lE{constructor(...e){super(...e);Object.defineProperties(this,{kty:{value:"oct",enumerable:!0},length:{value:this[ui]?this[ui].symmetricKeySize*8:void 0},k:{enumerable:!1,get(){return this[ui]?Object.defineProperty(this,"k",{value:GF.encodeBuffer(this[ui].export()),configurable:!1}):Object.defineProperty(this,"k",{value:void 0,configurable:!1}),this.k},configurable:!0}})}static get[VF](){return dE}static get[XF](){return fE}[YF](){if(!this[ui])throw new TypeError('reference "oct" keys without "k" cannot have their thumbprint calculated');return{k:this.k,kty:"oct"}}[pE](){return new Set([...this.algorithms("wrapKey"),...this.algorithms("deriveKey")])}[ZF](){return this[pE]()}algorithms(...e){return this[ui]?lE.prototype.algorithms.call(this,...e):new Set}static async generate(...e){return this.generateSync(...e)}static generateSync(e=256,n=!0){if(!n)throw new TypeError('"oct" keys cannot be generated as public');if(!Number.isSafeInteger(e)||!e||e%8!=0)throw new TypeError("invalid bit length");return zF(WF(e/8))}};a(_f,"OctKey");mE.exports=_f});var pi=m((yG,yE)=>{var{deprecate:QF}=require("util"),{createPublicKey:hE,createPrivateKey:vE,createSecretKey:gE,KeyObject:e3}=oe(),t3=Se(),n3=Ye(),{jwkToPem:r3}=ef(),_s=L(),i3=uf(),s3=mf(),a3=yf(),o3=Yo(),c3=new Set(["string","buffer","object"]),bf=a((t={},e={})=>b({alg:e.alg,key_ops:e.key_ops,kid:e.kid,use:e.use,x5c:e.x5c,x5t:e.x5t,"x5t#S256":e["x5t#S256"]},t),"mergedParameters"),u3=/^[a-zA-Z0-9-]+ AAAA(?:[0-9A-Za-z+/])+(?:==|=)?(?: .*)?$/,xf=a((t,e,{calculateMissingRSAPrimes:n=!1}={})=>{let r,i,s;if(!c3.has(typeof t))throw new TypeError("key argument must be a string, buffer or an object");if(e!==void 0&&!n3(e))throw new TypeError("parameters argument must be a plain object when provided");if(t instanceof e3)switch(t.type){case"private":r=t;break;case"public":i=t;break;case"secret":s=t;break}else if(typeof t=="object"&&t&&"kty"in t&&t.kty==="oct"){try{s=gE(t3.decodeToBuffer(t.k))}catch(c){"k"in t||(s={type:"secret"})}e=bf(e,t)}else if(typeof t=="object"&&t&&"kty"in t){({calculateMissingRSAPrimes:n=!1}=e||{calculateMissingRSAPrimes:n});let c;try{c=r3(t,{calculateMissingRSAPrimes:n})}catch(u){if(u instanceof _s.JOSEError)throw u}c&&t.d?r=vE(c):c&&(i=hE(c)),e=bf({},t)}else if(t&&(typeof t=="object"||typeof t=="string")){try{r=vE(t)}catch(c){if(c instanceof _s.JOSEError)throw c}try{i=hE(t),t.startsWith("-----BEGIN CERTIFICATE-----")&&(!e||!("x5c"in e))&&(e=bf(e,{x5c:[t.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,"")]}))}catch(c){if(c instanceof _s.JOSEError)throw c}try{!t.includes("-----BEGIN")&&!u3.test(t.toString("ascii").replace(/[\r\n]/g,""))&&(s=gE(Buffer.isBuffer(t)?t:Buffer.from(t)))}catch(c){}}let o=r||i||s;if(r||i)switch(o.asymmetricKeyType){case"rsa":return new i3(o,e);case"ec":return new s3(o,e);case"ed25519":case"ed448":case"x25519":case"x448":return new a3(o,e);default:throw new _s.JOSENotSupported("only RSA, EC and OKP asymmetric keys are supported")}else if(s)return new o3(o,e);throw new _s.JWKImportFailed("key import failed")},"asKey");yE.exports=xf;Object.defineProperty(xf,"deprecated",{value:QF((t,e)=>xf(t,e,{calculateMissingRSAPrimes:!0}),"JWK.importKey() is deprecated, use JWK.asKey() instead"),enumerable:!1})});var bs=m((_G,Sf)=>{var _E=L(),Tn=pi(),bE=uf(),xE=mf(),SE=yf(),EE=Yo(),p3=a(async(t,e,n,r=!0)=>{switch(t){case"RSA":return Tn(await bE.generate(e,r),n);case"EC":return Tn(await xE.generate(e,r),n);case"OKP":return Tn(await SE.generate(e,r),n);case"oct":return Tn(await EE.generate(e,r),n);default:throw new _E.JOSENotSupported(`unsupported key type: ${t}`)}},"generate"),l3=a((t,e,n,r=!0)=>{switch(t){case"RSA":return Tn(bE.generateSync(e,r),n);case"EC":return Tn(xE.generateSync(e,r),n);case"OKP":return Tn(SE.generateSync(e,r),n);case"oct":return Tn(EE.generateSync(e,r),n);default:throw new _E.JOSENotSupported(`unsupported key type: ${t}`)}},"generateSync");Sf.exports.generate=p3;Sf.exports.generateSync=l3});var TE=m((bG,wE)=>{var{inspect:d3}=require("util"),f3=Et(),Ef=class extends f3{constructor(){super({type:"unsecured"},{alg:"none"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[d3.custom](){return"None {}"}algorithms(e){switch(e){case"sign":case"verify":case void 0:return new Set(["none"]);default:return new Set}}};a(Ef,"NoneKey");wE.exports=new Ef});var kE=m((xG,OE)=>{var{inspect:m3}=require("util"),h3=Et(),wf=class extends h3{constructor(){super({type:"embedded"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[m3.custom](){return"Embedded.JWK {}"}algorithms(){return new Set}};a(wf,"EmbeddedJWK");OE.exports=new wf});var CE=m((SG,qE)=>{var{inspect:v3}=require("util"),g3=Et(),Tf=class extends g3{constructor(){super({type:"embedded"});Object.defineProperties(this,{kid:{value:void 0},kty:{value:void 0},thumbprint:{value:void 0},toJWK:{value:void 0},toPEM:{value:void 0}})}[v3.custom](){return"Embedded.X5C {}"}algorithms(){return new Set}};a(Tf,"EmbeddedX5C");qE.exports=new Tf});var xs=m((EG,Of)=>{var y3=Et(),_3=TE(),b3=kE(),x3=CE(),IE=pi(),S3=bs();Of.exports=R(b({},S3),{asKey:IE,isKey:t=>t instanceof y3,None:_3,EmbeddedJWK:b3,EmbeddedX5C:x3});Object.defineProperty(Of.exports,"importKey",{value:IE.deprecated,enumerable:!1})});var qf=m((wG,NE)=>{var{deprecate:E3,inspect:PE}=require("util"),RE=Ye(),{generate:w3,generateSync:T3}=bs(),{USES_MAPPING:O3}=Z(),{isKey:kf,asKey:k3}=xs(),AE=a((t,{alg:e,use:n,ops:r})=>{let i=0;return e&&t.alg&&i++,n&&t.use&&i++,r&&t.key_ops&&i++,i},"keyscore"),Ss=class{constructor(...e){for(;e.some(Array.isArray);)e=e.flat?e.flat():e.reduce((n,r)=>Array.isArray(r)?[...n,...r]:(n.push(r),n),[]);if(e.some(n=>!kf(n)||!n.kty))throw new TypeError("all keys must be instances of a key instantiated by JWK.asKey");this._keys=new Set(e)}all({alg:e,kid:n,thumbprint:r,use:i,kty:s,key_ops:o,x5t:c,"x5t#S256":u,crv:p}={}){if(o!==void 0&&(!Array.isArray(o)||!o.length||o.some(d=>typeof d!="string")))throw new TypeError("`key_ops` must be a non-empty array of strings");let l={alg:e,use:i,ops:o};return[...this._keys].filter(d=>{let f=!0;if(f&&n!==void 0&&d.kid!==n&&(f=!1),f&&r!==void 0&&d.thumbprint!==r&&(f=!1),f&&c!==void 0&&d.x5t!==c&&(f=!1),f&&u!==void 0&&d["x5t#S256"]!==u&&(f=!1),f&&s!==void 0&&d.kty!==s&&(f=!1),f&&p!==void 0&&d.crv!==p&&(f=!1),e!==void 0&&!d.algorithms().has(e)&&(f=!1),f&&i!==void 0&&d.use!==void 0&&d.use!==i&&(f=!1),f&&o!==void 0&&(d.key_ops!==void 0||d.use!==void 0)){let h;d.key_ops?h=new Set(d.key_ops):h=O3[d.use],o.some(v=>!h.has(v))&&(f=!1)}return f}).sort((d,f)=>AE(f,l)-AE(d,l))}get(...e){return this.all(...e)[0]}add(e){if(!kf(e)||!e.kty)throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.add(e)}remove(e){if(!kf(e))throw new TypeError("key must be an instance of a key instantiated by JWK.asKey");this._keys.delete(e)}toJWKS(e=!1){return{keys:[...this._keys.values()].map(n=>n.toJWK(e&&(n.private||n.secret&&n.k)))}}async generate(...e){this._keys.add(await w3(...e))}generateSync(...e){this._keys.add(T3(...e))}get size(){return this._keys.size}[PE.custom](){return`${this.constructor.name} ${PE(this.toJWKS(!1),{depth:Infinity,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}*[Symbol.iterator](){for(let e of this._keys)yield e}};a(Ss,"KeyStore");function jE(t,{ignoreErrors:e=!1,calculateMissingRSAPrimes:n=!1}={}){if(!RE(t)||!Array.isArray(t.keys)||t.keys.some(i=>!RE(i)||!("kty"in i)))throw new TypeError("jwks must be a JSON Web Key Set formatted object");let r=t.keys.map(i=>{try{return k3(i,{calculateMissingRSAPrimes:n})}catch(s){if(!e)throw s}}).filter(Boolean);return new Ss(...r)}a(jE,"asKeyStore");Object.defineProperty(Ss,"fromJWKS",{value:E3(t=>jE(t,{calculateMissingRSAPrimes:!0}),"JWKS.KeyStore.fromJWKS() is deprecated, use JWKS.asKeyStore() instead"),enumerable:!1});NE.exports={KeyStore:Ss,asKeyStore:jE}});var er=m((TG,BE)=>{var ME=L(),q3=Et(),C3=pi(),{KeyStore:I3}=qf();BE.exports=(t,e=!1)=>{if(t instanceof q3)return t;if(t instanceof I3){if(!e)throw new TypeError("key argument for this operation must not be a JWKS.KeyStore instance");return t}try{return C3(t)}catch(n){if(n instanceof ME.JOSEError&&!(n instanceof ME.JWKImportFailed))throw n;let r;throw e?r="key must be an instance of a key instantiated by JWK.asKey, a valid JWK.asKey input, or a JWKS.KeyStore instance":r="key must be an instance of a key instantiated by JWK.asKey, or a valid JWK.asKey input",new TypeError(r)}}});var Cf=m((OG,DE)=>{DE.exports=t=>JSON.parse(JSON.stringify(t))});var If=m((kG,FE)=>{var{timingSafeEqual:P3}=require("crypto"),KE=a((t,e)=>{if(t.length===e)return t;let n=Buffer.alloc(e);return t.copy(n),n},"paddedBuffer"),R3=a((t,e)=>{let n=Math.max(t.length,e.length);return P3(KE(t,n),KE(e,n))},"timingSafeEqual");FE.exports=R3});var Es=m((qG,LE)=>{LE.exports=t=>`sha${t.substr(2,3)}`});var $E=m((CG,UE)=>{var{createHmac:A3}=require("crypto"),{KEYOBJECT:j3}=Z(),N3=If(),M3=Es(),{asInput:B3}=oe(),HE=a((t,e,{[j3]:n},r)=>{let i=A3(e,B3(n,!1));return i.update(r),i.digest()},"sign"),D3=a((t,e,n,r,i)=>{let s=HE(t,e,n,r);return N3(i,s)},"verify");UE.exports=(t,e)=>{["HS256","HS384","HS512"].forEach(n=>{let r=M3(n);t.sign.set(n,HE.bind(void 0,n,r)),t.verify.set(n,D3.bind(void 0,n,r)),e.oct.sign[n]=e.oct.verify[n]=i=>i.use==="sig"||i.use===void 0})}});var GE=m((IG,Pf)=>{var Vo=128,JE=0,K3=32,F3=16,L3=2,WE=F3|K3|JE<<6,Xo=L3|JE<<6,Zo=a(t=>(t/8|0)+(t%8==0?0:1),"getParamSize"),Qo={ES256:Zo(256),ES256K:Zo(256),ES384:Zo(384),ES512:Zo(521)},zE=a((t,e,n)=>{let r=0;for(;e+r<n&&t[e+r]===0;)++r;return t[e+r]>=Vo&&--r,r},"countPadding");Pf.exports.derToJose=(t,e)=>{if(!Buffer.isBuffer(t))throw new TypeError("ECDSA signature must be a Buffer");if(!Qo[e])throw new Error(`Unknown algorithm "${e}"`);let n=Qo[e],r=n+1,i=t.length,s=0;if(t[s++]!==WE)throw new Error('Could not find expected "seq"');let o=t[s++];if(o===(Vo|1)&&(o=t[s++]),i-s<o)throw new Error(`"seq" specified length of ${o}", only ${i-s}" remaining`);if(t[s++]!==Xo)throw new Error('Could not find expected "int" for "r"');let c=t[s++];if(i-s-2<c)throw new Error(`"r" specified length of "${c}", only "${i-s-2}" available`);if(r<c)throw new Error(`"r" specified length of "${c}", max of "${r}" is acceptable`);let u=s;if(s+=c,t[s++]!==Xo)throw new Error('Could not find expected "int" for "s"');let p=t[s++];if(i-s!==p)throw new Error(`"s" specified length of "${p}", expected "${i-s}"`);if(r<p)throw new Error(`"s" specified length of "${p}", max of "${r}" is acceptable`);let l=s;if(s+=p,s!==i)throw new Error(`Expected to consume entire buffer, but "${i-s}" bytes remain`);let d=n-c,f=n-p,h=Buffer.allocUnsafe(d+c+f+p);for(s=0;s<d;++s)h[s]=0;t.copy(h,s,u+Math.max(-d,0),u+c),s=n;for(let v=s;s<v+f;++s)h[s]=0;return t.copy(h,s,l+Math.max(-f,0),l+p),h};Pf.exports.joseToDer=(t,e)=>{if(!Buffer.isBuffer(t))throw new TypeError("ECDSA signature must be a Buffer");if(!Qo[e])throw new TypeError(`Unknown algorithm "${e}"`);let n=Qo[e],r=t.length;if(r!==n*2)throw new Error(`"${e}" signatures must be "${n*2}" bytes, saw "${r}"`);let i=zE(t,0,n),s=zE(t,n,t.length),o=n-i,c=n-s,u=1+1+o+1+1+c,p=u<Vo,l=Buffer.allocUnsafe((p?2:3)+u),d=0;return l[d++]=WE,p?l[d++]=u:(l[d++]=Vo|1,l[d++]=u&255),l[d++]=Xo,l[d++]=o,i<0?(l[d++]=0,d+=t.copy(l,d,0,n)):d+=t.copy(l,d,i,n),l[d++]=Xo,l[d++]=c,s<0?(l[d++]=0,t.copy(l,d,n)):t.copy(l,d,n+s),l}});var VE=m((PG,YE)=>{var{sign:H3,verify:U3,createSign:$3,createVerify:J3,getCurves:ec}=require("crypto"),{derToJose:W3,joseToDer:z3}=GE(),{KEYOBJECT:tc}=Z(),G3=Es(),{asInput:nc}=oe(),{dsaEncodingSupported:Y3}=Fe(),{name:V3}=Xn(),Rf,Af;Y3?(Rf=a((t,e,{[tc]:n},r)=>(typeof r=="string"&&(r=Buffer.from(r)),H3(e,r,{key:nc(n,!1),dsaEncoding:"ieee-p1363"})),"sign"),Af=a((t,e,{[tc]:n},r,i)=>{try{return U3(e,r,{key:nc(n,!0),dsaEncoding:"ieee-p1363"},i)}catch(s){return!1}},"verify")):(Rf=a((t,e,{[tc]:n},r)=>W3($3(e).update(r).sign(nc(n,!1)),t),"sign"),Af=a((t,e,{[tc]:n},r,i)=>{try{return J3(e).update(r).verify(nc(n,!0),z3(i,t))}catch(s){return!1}},"verify"));var X3=a(t=>{switch(t){case"P-256":return"ES256";case V3:return"ES256K";case"P-384":return"ES384";case"P-521":return"ES512"}},"crvToAlg");YE.exports=(t,e)=>{let n=[];ec().includes("prime256v1")&&n.push("ES256"),ec().includes("secp256k1")&&n.push("ES256K"),ec().includes("secp384r1")&&n.push("ES384"),ec().includes("secp521r1")&&n.push("ES512"),n.forEach(r=>{let i=G3(r);t.sign.set(r,Rf.bind(void 0,r,i)),t.verify.set(r,Af.bind(void 0,r,i)),e.EC.sign[r]=s=>s.private&&e.EC.verify[r](s),e.EC.verify[r]=s=>(s.use==="sig"||s.use===void 0)&&X3(s.crv)===r})}});var QE=m((RG,ZE)=>{var{sign:Z3,verify:Q3}=require("crypto"),{KEYOBJECT:XE}=Z(),{edDSASupported:eL}=Fe(),tL=a(({[XE]:t},e)=>(typeof e=="string"&&(e=Buffer.from(e)),Z3(void 0,e,t)),"sign"),nL=a(({[XE]:t},e,n)=>Q3(void 0,e,t,n),"verify");ZE.exports=(t,e)=>{eL&&(t.sign.set("EdDSA",tL),t.verify.set("EdDSA",nL),e.OKP.sign.EdDSA=n=>n.private&&e.OKP.verify.EdDSA(n),e.OKP.verify.EdDSA=n=>(n.use==="sig"||n.use===void 0)&&n.keyObject.asymmetricKeyType.startsWith("ed"))}});var rw=m((AG,nw)=>{var{createSign:rL,createVerify:iL,constants:rc}=require("crypto"),{KEYOBJECT:ew}=Z(),sL=Es(),{asInput:tw}=oe(),aL=a((t,{[ew]:e},n)=>{let r=tw(e,!1);return rL(t).update(n).sign({key:r,padding:rc.RSA_PKCS1_PSS_PADDING,saltLength:rc.RSA_PSS_SALTLEN_DIGEST})},"sign"),oL=a((t,{[ew]:e},n,r)=>{let i=tw(e,!0);return iL(t).update(n).verify({key:i,padding:rc.RSA_PKCS1_PSS_PADDING,saltLength:rc.RSA_PSS_SALTLEN_DIGEST},r)},"verify"),cL={PS256:528,PS384:784,PS512:1040};nw.exports=(t,e)=>{["PS256","PS384","PS512"].forEach(n=>{let r=sL(n);t.sign.set(n,aL.bind(void 0,r)),t.verify.set(n,oL.bind(void 0,r)),e.RSA.sign[n]=i=>i.private&&e.RSA.verify[n](i),e.RSA.verify[n]=i=>(i.use==="sig"||i.use===void 0)&&i.length>=cL[n]})}});var ow=m((jG,aw)=>{var{createSign:uL,createVerify:pL}=require("crypto"),{KEYOBJECT:iw}=Z(),lL=Es(),{asInput:sw}=oe(),dL=a((t,{[iw]:e},n)=>uL(t).update(n).sign(sw(e,!1)),"sign"),fL=a((t,{[iw]:e},n,r)=>pL(t).update(n).verify(sw(e,!0),r),"verify"),mL={RS256:0,RS384:624,RS512:752};aw.exports=(t,e)=>{["RS256","RS384","RS512"].forEach(n=>{let r=lL(n);t.sign.set(n,dL.bind(void 0,r)),t.verify.set(n,fL.bind(void 0,r)),e.RSA.sign[n]=i=>i.private&&e.RSA.verify[n](i),e.RSA.verify[n]=i=>(i.use==="sig"||i.use===void 0)&&i.length>=mL[n]})}});var uw=m((NG,cw)=>{var hL=a(()=>Buffer.from(""),"sign"),vL=a((t,e,n)=>!n.length,"verify");cw.exports=(t,e)=>{t.sign.set("none",hL),t.verify.set("none",vL)}});var dw=m((MG,lw)=>{var pw=Math.pow(2,32);lw.exports=(t,e=Buffer.allocUnsafe(8))=>{let n=Math.floor(t/pw),r=t%pw;return e.writeUInt32BE(n,0),e.writeUInt32BE(r,4),e}});var yw=m((BG,gw)=>{var{createCipheriv:gL,createDecipheriv:yL,getCiphers:_L}=require("crypto"),fw=dw(),bL=If(),{KEYOBJECT:ic}=Z(),{JWEInvalid:mw,JWEDecryptionFailed:hw}=L(),vw=a(function(t,e,n){if(e.length!==16)throw new mw("invalid iv");if(arguments.length===3&&n.length!==t/8)throw new mw("invalid tag")},"checkInput"),xL=a((t,e,{[ic]:n},r,{iv:i,aad:s=Buffer.alloc(0)})=>{let o=n.export();vw(t,i);let c=t/8,u=o.slice(c),p=gL(`aes-${t}-cbc`,u,i),l=Buffer.concat([p.update(r),p.final()]),d=Buffer.concat([s,i,l,fw(s.length*8)]),f=o.slice(0,c),h=e({[ic]:f},d).slice(0,c);return{ciphertext:l,tag:h}},"encrypt"),SL=a((t,e,{[ic]:n},r,{iv:i,tag:s=Buffer.alloc(0),aad:o=Buffer.alloc(0)})=>{vw(t,i,s);let c=t/8,u=n.export(),p=u.slice(c),l=u.slice(0,c),d=Buffer.concat([o,i,r,fw(o.length*8)]),f=e({[ic]:l},d,s).slice(0,c);if(!bL(s,f))throw new hw;let v;try{let g=yL(`aes-${t}-cbc`,p,i);v=Buffer.concat([g.update(r),g.final()])}catch(g){}if(!v)throw new hw;return v},"decrypt");gw.exports=(t,e)=>{["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach(n=>{let r=parseInt(n.substr(1,3),10),i=t.sign.get(`HS${r*2}`);_L().includes(`aes-${r}-cbc`)&&(t.encrypt.set(n,xL.bind(void 0,r,i)),t.decrypt.set(n,SL.bind(void 0,r,i)),e.oct.encrypt[n]=e.oct.decrypt[n]=s=>(s.use==="enc"||s.use===void 0)&&s.length/2===r)})}});var ww=m((DG,Ew)=>{var{createCipheriv:EL,createDecipheriv:wL,getCiphers:TL}=require("crypto"),{KEYOBJECT:_w}=Z(),{JWEInvalid:bw,JWEDecryptionFailed:OL}=L(),{asInput:xw}=oe(),Sw=a(function(t,e,n){if(e.length!==12)throw new bw("invalid iv");if(arguments.length===3&&n.length!==16)throw new bw("invalid tag")},"checkInput"),kL=a((t,{[_w]:e},n,{iv:r,aad:i=Buffer.alloc(0)})=>{let s=xw(e,!1);Sw(t,r);let o=EL(`aes-${t}-gcm`,s,r,{authTagLength:16});o.setAAD(i);let c=Buffer.concat([o.update(n),o.final()]),u=o.getAuthTag();return{ciphertext:c,tag:u}},"encrypt"),qL=a((t,{[_w]:e},n,{iv:r,tag:i=Buffer.alloc(0),aad:s=Buffer.alloc(0)})=>{let o=xw(e,!1);Sw(t,r,i);try{let c=wL(`aes-${t}-gcm`,o,r,{authTagLength:16});return c.setAuthTag(i),c.setAAD(s),Buffer.concat([c.update(n),c.final()])}catch(c){throw new OL}},"decrypt");Ew.exports=(t,e)=>{["A128GCM","A192GCM","A256GCM"].forEach(n=>{let r=parseInt(n.substr(1,3),10);TL().includes(`aes-${r}-gcm`)&&(t.encrypt.set(n,kL.bind(void 0,r)),t.decrypt.set(n,qL.bind(void 0,r)),e.oct.encrypt[n]=e.oct.decrypt[n]=i=>(i.use==="enc"||i.use===void 0)&&i.length===r)})}});var Iw=m((KG,Cw)=>{var{publicEncrypt:CL,privateDecrypt:IL,constants:Tw}=require("crypto"),{oaepHashSupported:PL}=Fe(),{KEYOBJECT:Ow}=Z(),{asInput:kw}=oe(),RL=a(t=>{switch(t){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return Tw.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return Tw.RSA_PKCS1_PADDING}},"resolvePadding"),AL=a(t=>{switch(t){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}},"resolveOaepHash"),jL=a((t,e,{[Ow]:n},r)=>{let i=kw(n,!0);return{wrapped:CL({key:i,oaepHash:e,padding:t},r)}},"wrapKey"),NL=a((t,e,{[Ow]:n},r)=>{let i=kw(n,!1);return IL({key:i,oaepHash:e,padding:t},r)},"unwrapKey"),qw={RSA1_5:0,"RSA-OAEP":592,"RSA-OAEP-256":784,"RSA-OAEP-384":1040,"RSA-OAEP-512":1296};Cw.exports=(t,e)=>{let n=["RSA-OAEP","RSA1_5"];PL&&n.splice(1,0,"RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"),n.forEach(r=>{let i=RL(r),s=AL(r);t.keyManagementEncrypt.set(r,jL.bind(void 0,i,s)),t.keyManagementDecrypt.set(r,NL.bind(void 0,i,s)),e.RSA.wrapKey[r]=o=>(o.use==="enc"||o.use===void 0)&&o.length>=qw[r],e.RSA.unwrapKey[r]=o=>o.private&&(o.use==="enc"||o.use===void 0)&&o.length>=qw[r]})}});var jw=m((FG,Aw)=>{var{createCipheriv:ML,createDecipheriv:BL,getCiphers:DL}=require("crypto"),{KEYOBJECT:Pw}=Z(),{asInput:Rw}=oe(),KL=a(t=>{if(t!==void 0&&t.length%8!=0)throw new Error("invalid data length")},"checkInput"),FL=a((t,{[Pw]:e},n)=>{let r=Rw(e,!1),i=ML(t,r,Buffer.alloc(8,"a6","hex"));return{wrapped:Buffer.concat([i.update(n),i.final()])}},"wrapKey"),LL=a((t,{[Pw]:e},n)=>{let r=Rw(e,!1);KL(n);let i=BL(t,r,Buffer.alloc(8,"a6","hex"));return Buffer.concat([i.update(n),i.final()])},"unwrapKey");Aw.exports=(t,e)=>{["A128KW","A192KW","A256KW"].forEach(n=>{let r=parseInt(n.substr(1,3),10),i=`aes${r}-wrap`;DL().includes(i)&&(t.keyManagementEncrypt.set(n,FL.bind(void 0,i)),t.keyManagementDecrypt.set(n,LL.bind(void 0,i)),e.oct.wrapKey[n]=e.oct.unwrapKey[n]=s=>(s.use==="enc"||s.use===void 0)&&s.length===r)})}});var Bw=m((LG,Mw)=>{var HL=Rd(),Nw=Se();Mw.exports=(t,e)=>{["A128GCMKW","A192GCMKW","A256GCMKW"].forEach(n=>{let r=n.substr(0,7),i=parseInt(n.substr(1,3),10),s=t.encrypt.get(r),o=t.decrypt.get(r);s&&o&&(t.keyManagementEncrypt.set(n,(c,u)=>{let p=HL(n),{ciphertext:l,tag:d}=s(c,u,{iv:p});return{wrapped:l,header:{tag:Nw.encodeBuffer(d),iv:Nw.encodeBuffer(p)}}}),t.keyManagementDecrypt.set(n,o),e.oct.wrapKey[n]=e.oct.unwrapKey[n]=c=>(c.use==="enc"||c.use===void 0)&&c.length===i)})}});var Lw=m((HG,Fw)=>{var{pbkdf2Sync:Dw,randomBytes:UL}=require("crypto"),{KEYOBJECT:sc}=Z(),$L=Se(),JL=16,WL=Buffer.alloc(1,0),Kw=a((t,e)=>Buffer.concat([Buffer.from(t,"utf8"),WL,e]),"concatSalt"),zL=a((t,e,n,r,{[sc]:i},s)=>{let o=Math.floor(Math.random()*2049+2048),c=UL(JL),u=n(c),p=Dw(i.export(),u,o,t,e),l=r({[sc]:p},s);return l.header=l.header||{},Object.assign(l.header,{p2c:o,p2s:$L.encodeBuffer(c)}),l},"wrapKey"),GL=a((t,e,n,r,{[sc]:i},s,o)=>{let{p2s:c,p2c:u}=o,p=n(c),l=Dw(i.export(),p,u,t,e);return r({[sc]:l},s,o)},"unwrapKey");Fw.exports=(t,e)=>{["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach(n=>{let r=n.substr(-6),i=t.keyManagementEncrypt.get(r),s=t.keyManagementDecrypt.get(r),o=parseInt(n.substr(13,3),10)/8,c=`sha${n.substr(8,3)}`;i&&s&&(t.keyManagementEncrypt.set(n,zL.bind(void 0,o,c,Kw.bind(void 0,n),i)),t.keyManagementDecrypt.set(n,GL.bind(void 0,o,c,Kw.bind(void 0,n),s)),e.oct.deriveKey[n]=u=>u.use==="enc"||u.use===void 0)})}});var Hw=m((UG,jf)=>{var{improvedDH:YL}=Fe();if(YL){let{diffieHellman:t}=require("crypto"),{KeyObject:e}=oe(),n=pi();jf.exports=({keyObject:r},i)=>(i instanceof e||({keyObject:i}=n(i)),t({privateKey:r,publicKey:i}))}else{let{createECDH:t,constants:{POINT_CONVERSION_UNCOMPRESSED:e}}=require("crypto"),n=Se(),r=a(o=>{switch(o){case"P-256":return"prime256v1";case"P-384":return"secp384r1";case"P-521":return"secp521r1"}},"crvToCurve"),i=Buffer.alloc(1,e),s=a((o,c)=>Buffer.concat([i,n.decodeToBuffer(o),n.decodeToBuffer(c)]),"pubToBuffer");jf.exports=({crv:o,d:c},{x:u,y:p})=>{let l=r(o),d=t(l);return d.setPrivateKey(n.decodeToBuffer(c)),d.computeSecret(s(u,p))}}});var Mf=m(($G,Jw)=>{var{createHash:Uw}=require("crypto"),VL=Hw(),XL=a((t,e,n)=>{let r=Math.ceil(e/32),i;for(let s=1;s<=r;s++){let o=Buffer.allocUnsafe(4+t.length+n.length);o.writeUInt32BE(s,0),t.copy(o,4),n.copy(o,4+t.length),i?i=Buffer.concat([i,Uw("sha256").update(o).digest()]):i=Uw("sha256").update(o).digest()}return i.slice(0,e)},"concat"),$w=a((t,e=Buffer.allocUnsafe(4))=>(e.writeUInt32BE(t),e),"uint32be"),Nf=a(t=>Buffer.concat([$w(t.length),t]),"lengthAndInput");Jw.exports=(t,e,n,r,{apu:i=Buffer.alloc(0),apv:s=Buffer.alloc(0)}={},o=VL)=>{let c=Buffer.concat([Nf(Buffer.from(t)),Nf(i),Nf(s),$w(e)]),u=o(n,r);return XL(u,e/8,c)}});var Yw=m((JG,Gw)=>{var{improvedDH:ZL}=Fe(),{KEYLENGTHS:Ww}=bt(),{generateSync:QL}=bs(),{name:eH}=Xn(),zw=Mf(),tH=a((t,e,{enc:n})=>{let r=QL(t.kty,t.crv);return{wrapped:zw(n,Ww.get(n),r,t),header:{epk:{kty:t.kty,crv:t.crv,x:r.x,y:r.y}}}},"wrapKey"),nH=a((t,e,n)=>{let{enc:r,epk:i}=n;return zw(r,Ww.get(r),t,i,n)},"unwrapKey");Gw.exports=(t,e)=>{t.keyManagementEncrypt.set("ECDH-ES",tH),t.keyManagementDecrypt.set("ECDH-ES",nH),e.EC.deriveKey["ECDH-ES"]=n=>(n.use==="enc"||n.use===void 0)&&n.crv!==eH,ZL&&(e.OKP.deriveKey["ECDH-ES"]=n=>(n.use==="enc"||n.use===void 0)&&n.keyObject.asymmetricKeyType.startsWith("x"))}});var e0=m((WG,ac)=>{var{improvedDH:rH}=Fe(),{KEYOBJECT:Vw}=Z(),{generateSync:iH}=bs(),{name:sH}=Xn(),{ECDH_DERIVE_LENGTHS:aH}=bt(),Xw=Mf(),Zw=a((t,e,n,r)=>{let i=iH(n.kty,n.crv),s=e(i,n,r),o=t({[Vw]:s},r);return o.header=o.header||{},Object.assign(o.header,{epk:{kty:n.kty,crv:n.crv,x:i.x,y:i.y}}),o},"wrapKey"),Qw=a((t,e,n,r,i)=>{let{epk:s}=i,o=e(n,s,i);return t({[Vw]:o},r,i)},"unwrapKey");ac.exports=(t,e)=>{["ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach(n=>{let r=n.substr(-6),i=t.keyManagementEncrypt.get(r),s=t.keyManagementDecrypt.get(r),o=parseInt(n.substr(9,3),10);aH.set(n,o),i&&s&&(t.keyManagementEncrypt.set(n,Zw.bind(void 0,i,Xw.bind(void 0,n,o))),t.keyManagementDecrypt.set(n,Qw.bind(void 0,s,Xw.bind(void 0,n,o))),e.EC.deriveKey[n]=c=>(c.use==="enc"||c.use===void 0)&&c.crv!==sH,rH&&(e.OKP.deriveKey[n]=c=>(c.use==="enc"||c.use===void 0)&&c.keyObject.asymmetricKeyType.startsWith("x")))})};ac.exports.wrapKey=Zw;ac.exports.unwrapKey=Qw});var ws=m((zG,t0)=>{var{JWKKeySupport:oH,JOSENotSupported:cH}=L(),{KEY_MANAGEMENT_ENCRYPT:uH,KEY_MANAGEMENT_DECRYPT:pH}=Z(),{JWA:W,JWK:He}=bt();$E()(W,He);VE()(W,He);QE()(W,He);rw()(W,He);ow()(W,He);uw()(W);yw()(W,He);ww()(W,He);Iw()(W,He);jw()(W,He);Bw()(W,He);Lw()(W,He);Yw()(W,He);e0()(W,He);var On=a((t,e,n)=>{let r=`_${e}_${n}`,i,s;if(e==="keyManagementEncrypt"?(i="key management (encryption)",s=uH):e==="keyManagementDecrypt"&&(i="key management (decryption)",s=pH),r in t){if(t[r])return;throw new oH(`the key does not support ${n} ${i||e} algorithm`)}let o=!0;if(W[e].has(n))t.algorithms(s).has(n)||(o=!1);else throw new cH(`unsupported ${i||e} alg: ${n}`);if(Object.defineProperty(t,r,{value:o,enumerable:!1}),!o)return On(t,e,n)},"check");t0.exports={check:On,sign:(t,e,n)=>(On(e,"sign",t),W.sign.get(t)(e,n)),verify:(t,e,n,r)=>(On(e,"verify",t),W.verify.get(t)(e,n,r)),keyManagementEncrypt:(t,e,n,r)=>(On(e,"keyManagementEncrypt",t),W.keyManagementEncrypt.get(t)(e,n,r)),keyManagementDecrypt:(t,e,n,r)=>(On(e,"keyManagementDecrypt",t),W.keyManagementDecrypt.get(t)(e,n,r)),encrypt:(t,e,n,r)=>(On(e,"encrypt",t),W.encrypt.get(t)(e,n,r)),decrypt:(t,e,n,r)=>(On(e,"decrypt",t),W.decrypt.get(t)(e,n,r))}});var Ts=m((GG,r0)=>{var{JOSECritNotUnderstood:lH,JWSInvalid:n0}=L(),dH=new Set(["alg","jku","jwk","kid","x5u","x5c","x5t","x5t#S256","typ","cty","crit","enc","zip","epk","apu","apv","iv","tag","p2s","p2c"]);r0.exports=a(function(e,n,r,i){if(n&&"crit"in n){if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(c=>typeof c!="string"||!c))throw new e('"crit" Header Parameter MUST be an array of non-empty strings when present');let s=new Set(i),o=b(b({},n),r);n.crit.forEach(c=>{if(dH.has(c))throw new e(`The critical list contains a non-extension Header Parameter ${c}`);if(!s.has(c))throw new lH(`critical "${c}" is not understood`);if(c==="b64"){if(!("b64"in n))throw new n0('"b64" critical parameter must be integrity protected');if(typeof n.b64!="boolean")throw new n0('"b64" critical parameter must be a boolean')}else if(!(c in o))throw new e(`critical parameter "${c}" is missing`)})}if(r&&"crit"in r)throw new e('"crit" Header Parameter MUST be integrity protected when present')},"validateCrit")});var Bf=m((YG,o0)=>{var Os=Ye(),ks=Ts(),{JWEInvalid:oc}=L();ks=ks.bind(void 0,oc);var i0=a((t,[e])=>`${t.protected}.${e.encrypted_key}.${t.iv}.${t.ciphertext}.${t.tag}`,"compactSerializer");i0.validate=(t,e,n,{0:{header:r},length:i})=>{if(i!==1||n||e||r)throw new oc("JWE Compact Serialization doesn't support multiple recipients, JWE unprotected headers or AAD");ks(t,e,t?t.crit:void 0)};var s0=a((t,[e])=>{let{header:n,encrypted_key:r}=e;return R(b(b(b(b(b({},t.protected?{protected:t.protected}:void 0),t.unprotected?{unprotected:t.unprotected}:void 0),n?{header:n}:void 0),r?{encrypted_key:r}:void 0),t.aad?{aad:t.aad}:void 0),{iv:t.iv,ciphertext:t.ciphertext,tag:t.tag})},"flattenedSerializer");s0.validate=(t,e,n,{0:{header:r},length:i})=>{if(i!==1)throw new oc("Flattened JWE JSON Serialization doesn't support multiple recipients");ks(t,b(b({},e),r),t?t.crit:void 0)};var a0=a((t,e)=>{let n=R(b(R(b(b({},t.protected?{protected:t.protected}:void 0),t.unprotected?{unprotected:t.unprotected}:void 0),{recipients:e.map(({header:r,encrypted_key:i,generatedHeader:s})=>!r&&!i&&!s?!1:b(b({},r||s?{header:b(b({},r),s)}:void 0),i?{encrypted_key:i}:void 0)).filter(Boolean)}),t.aad?{aad:t.aad}:void 0),{iv:t.iv,ciphertext:t.ciphertext,tag:t.tag});return n.recipients.length||delete n.recipients,n},"generalSerializer");a0.validate=(t,e,n,r)=>{r.forEach(({header:i})=>{ks(t,b(b({},i),e),t?t.crit:void 0)})};var fH=a(t=>Os(t)&&typeof t.ciphertext=="string"&&typeof t.iv=="string"&&typeof t.tag=="string"&&(t.unprotected===void 0||Os(t.unprotected))&&(t.protected===void 0||typeof t.protected=="string")&&(t.aad===void 0||typeof t.aad=="string"),"isJSON"),mH=a(t=>(t.encrypted_key===void 0||typeof t.encrypted_key=="string")&&(t.header===void 0||Os(t.header)),"isSingleRecipient"),hH=a(t=>Os(t)&&typeof t.encrypted_key=="string"&&(t.header===void 0||Os(t.header)),"isValidRecipient"),vH=a(t=>!!(Array.isArray(t.recipients)&&t.recipients.every(hH)),"isMultiRecipient"),gH=a(t=>{if(typeof t=="string"&&t.split(".").length===5)return"compact";if(fH(t)){if(vH(t))return"general";if(mH(t))return"flattened"}throw new oc("JWE malformed or invalid serialization")},"detect");o0.exports={compact:i0,flattened:s0,general:a0,detect:gH}});var Df=m((VG,u0)=>{var{randomBytes:yH}=require("crypto"),{createSecretKey:_H}=oe(),{KEYLENGTHS:bH}=bt(),c0=Yo();u0.exports=t=>{let e=bH.get(t);return e?new c0(_H(yH(e/8)),{use:"enc",alg:t}):new c0({type:"secret"})}});var cc=m((XG,p0)=>{p0.exports=(t={},e={})=>{let n=Object.keys(t),r=new Set(Object.keys(e));return!n.some(i=>r.has(i))}});var Lf=m((ZG,l0)=>{var Kf=cc(),xH=Se(),Ff=Ts(),{JWEInvalid:Qt,JOSENotSupported:SH}=L();Ff=Ff.bind(void 0,Qt);l0.exports=(t,e,n,r,i)=>{if(typeof t=="string")try{t=xH.JSON.decode(t)}catch(c){throw new Qt("could not parse JWE protected header")}let s=[],o=new Set;if(!Kf(t,e)||!n.every(({header:c})=>{typeof c=="object"&&(s.push(c.alg),o.add(c.enc));let u=b(b({},e),c);if(Ff(t,u,i),"zip"in u)throw new Qt('"zip" Header Parameter MUST be integrity protected');if(t&&"zip"in t&&t.zip!=="DEF")throw new SH('only "DEF" compression algorithm is supported');return Kf(c,t)&&Kf(c,e)}))throw new Qt("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");if(typeof t=="object"&&(s.push(t.alg),o.add(t.enc)),typeof e=="object"&&(s.push(e.alg),o.add(e.enc)),s=s.filter(Boolean),o.delete(void 0),n.length!==1&&(s.includes("dir")||s.includes("ECDH-ES")))throw new Qt("dir and ECDH-ES alg may only be used with a single recipient");if(r){if(s.length!==n.length)throw new Qt("missing Key Management algorithm");if(o.size===0)throw new Qt("missing Content Encryption algorithm");if(o.size!==1)throw new Qt("there must only be one Content Encryption algorithm")}else if(o.size>1)throw new Qt("there must only be one Content Encryption algorithm");return[...o][0]}});var g0=m((QG,v0)=>{var{deflateRawSync:EH}=require("zlib"),{KEYOBJECT:d0}=Z(),wH=Rd(),li=Se(),TH=er(),Hf=Ye(),{createSecretKey:OH}=oe(),Uf=Cf(),f0=pi(),{JWEInvalid:m0}=L(),{check:$f,keyManagementEncrypt:kH,encrypt:qH}=ws(),CH=Bf(),IH=Df(),PH=Lf(),h0=Symbol("PROCESS_RECIPIENT"),Jf=class{constructor(e,n,r,i){if(!Buffer.isBuffer(e)&&typeof e!="string")throw new TypeError("cleartext argument must be a Buffer or a string");if(e=Buffer.from(e),i!==void 0&&!Buffer.isBuffer(i)&&typeof i!="string")throw new TypeError("aad argument must be a Buffer or a string when provided");if(i=i?Buffer.from(i):void 0,n!==void 0&&!Hf(n))throw new TypeError("protectedHeader argument must be a plain object when provided");if(r!==void 0&&!Hf(r))throw new TypeError("unprotectedHeader argument must be a plain object when provided");this._recipients=[],this._cleartext=e,this._aad=i,this._unprotected=r?Uf(r):void 0,this._protected=n?Uf(n):void 0}recipient(e,n){if(e=TH(e),n!==void 0&&!Hf(n))throw new TypeError("header argument must be a plain object when provided");return this._recipients.push({key:e,header:n?Uf(n):void 0}),this}[h0](e){let n=this._unprotected,r=this._protected,{length:i}=this._recipients,s=b(b(b({},r),n),e.header),{key:o}=e,c=s.enc,u=s.alg;if(o.use==="sig")throw new TypeError('a key with "use":"sig" is not usable for encryption');if(u==="dir")$f(o,"encrypt",c);else if(u)$f(o,"keyManagementEncrypt",u);else{if(u=o.alg||[...o.algorithms("wrapKey")][0]||[...o.algorithms("deriveKey")][0],u==="ECDH-ES"&&i!==1&&(u=[...o.algorithms("deriveKey")][1]),!u)throw new m0('could not resolve a usable "alg" for a recipient');i===1?r?r.alg=u:this._protected={alg:u}:e.header?e.header.alg=u:e.header={alg:u}}let p,l;o.kty==="oct"&&u==="dir"?this._cek=f0(o[d0],{use:"enc",alg:c}):($f(this._cek,"encrypt",c),{wrapped:p,header:l}=kH(u,o,this._cek[d0].export(),{enc:c,alg:u}),u==="ECDH-ES"&&(this._cek=f0(OH(p),{use:"enc",alg:c}))),u==="dir"||u==="ECDH-ES"?e.encrypted_key="":e.encrypted_key=li.encodeBuffer(p),l&&(e.generatedHeader=l)}encrypt(e){let n=CH[e];if(!n)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new m0("missing recipients");n.validate(this._protected,this._unprotected,this._aad,this._recipients);let r=PH(this._protected,this._unprotected,this._recipients,!1,this._protected?this._protected.crit:void 0);r||(r="A128CBC-HS256",this._protected?this._protected.enc=r:this._protected={enc:r});let i={};this._cek=IH(r);for(let l of this._recipients)this[h0](l);let s=wH(r);if(i.iv=li.encodeBuffer(s),this._recipients.length===1&&this._recipients[0].generatedHeader){let[{generatedHeader:l}]=this._recipients;delete this._recipients[0].generatedHeader,this._protected=b(b({},this._protected),l)}this._protected&&(i.protected=li.JSON.encode(this._protected)),i.unprotected=this._unprotected;let o;this._aad?(i.aad=li.encode(this._aad),o=Buffer.concat([Buffer.from(i.protected||""),Buffer.from("."),Buffer.from(i.aad)])):o=Buffer.from(i.protected||"");let c=this._cleartext;this._protected&&"zip"in this._protected&&(c=EH(c));let{ciphertext:u,tag:p}=qH(r,this._cek,c,{iv:s,aad:o});return i.tag=li.encodeBuffer(p),i.ciphertext=li.encodeBuffer(u),n(i,this._recipients)}};a(Jf,"Encrypt");v0.exports=Jf});var uc=m((eY,y0)=>{var RH=qf();y0.exports=RH});var E0=m((tY,S0)=>{var{inflateRawSync:AH}=require("zlib"),ft=Se(),jH=er(),{KeyStore:NH}=uc(),wt=L(),{check:MH,decrypt:BH,keyManagementDecrypt:_0}=ws(),Wf=xs(),{createSecretKey:b0}=oe(),DH=Df(),x0=Lf(),{detect:KH}=Bf(),FH=new Set(["compact","flattened"]),LH=a((t={},e={},n={})=>{typeof t=="string"&&(t=ft.JSON.decode(t));let r=t.p2s||e.p2s||n.p2s,i=t.apu||e.apu||n.apu,s=t.apv||e.apv||n.apv,o=t.iv||e.iv||n.iv,c=t.tag||e.tag||n.tag;return b(b(b(b(b(b(b(b({},t),e),n),typeof r=="string"?{p2s:ft.decodeToBuffer(r)}:void 0),typeof i=="string"?{apu:ft.decodeToBuffer(i)}:void 0),typeof s=="string"?{apv:ft.decodeToBuffer(s)}:void 0),typeof o=="string"?{iv:ft.decodeToBuffer(o)}:void 0),typeof c=="string"?{tag:ft.decodeToBuffer(c)}:void 0)},"combineHeader"),zf=a((t,e,n,r,{crit:i=[],complete:s=!1,algorithms:o}={})=>{if(r=jH(r,!0),o!==void 0&&(!Array.isArray(o)||o.some(B=>typeof B!="string"||!B)))throw new TypeError('"algorithms" option must be an array of non-empty strings');if(o&&(o=new Set(o)),!Array.isArray(i)||i.some(B=>typeof B!="string"||!B))throw new TypeError('"crit" option must be an array of non-empty strings');e||(e=KH(n));let c,u,p,l,d,f,h,v,g,y,_,x;if(e==="general"&&n.recipients.length===1){e="flattened";let D=n,{recipients:B}=D,Ie=ht(D,["recipients"]);n=b(b({},Ie),B[0])}if(FH.has(e)){if(e==="compact"?[h,l,d,u,v]=n.split("."):{protected:h,encrypted_key:l,iv:d,ciphertext:u,tag:v,unprotected:g,aad:_,header:x}=n,t||x0(h,g,[{header:x}],!0,i),f=LH(h,g,x),{alg:c,enc:p}=f,o&&!o.has(c==="dir"?p:c))throw new wt.JOSEAlgNotWhitelisted("alg not whitelisted");if(r instanceof NH){let G=r,Te;switch(f.alg==="dir"?Te=G.all({kid:f.kid,alg:f.enc,key_ops:["decrypt"]}):Te=G.all({kid:f.kid,alg:f.alg,key_ops:["unwrapKey"]}),Te.length){case 0:throw new wt.JWKSNoMatchingKey;case 1:r=Te[0];break;default:{let Ue=[];for(let Mc of Te)try{return zf(!0,e,n,Mc,{crit:i,complete:s,algorithms:o?[...o]:void 0})}catch(Hk){Ue.push(Hk);continue}let nn=new wt.JOSEMultiError(Ue);throw[...nn].some(Mc=>Mc instanceof wt.JWEDecryptionFailed)?new wt.JWEDecryptionFailed:nn}}}MH(r,...c==="dir"?["decrypt",p]:["keyManagementDecrypt",c]);try{if(c==="dir")y=Wf.asKey(r,{alg:p,use:"enc"});else if(c==="ECDH-ES"){let G=_0(c,r,void 0,f);y=Wf.asKey(b0(G),{alg:p,use:"enc"})}else{let G=_0(c,r,ft.decodeToBuffer(l),f);y=Wf.asKey(b0(G),{alg:p,use:"enc"})}}catch(G){y=DH(p)}let B;_?B=Buffer.concat([Buffer.from(h||""),Buffer.from("."),Buffer.from(_)]):B=Buffer.from(h||"");try{d=ft.decodeToBuffer(d)}catch(G){}try{v=ft.decodeToBuffer(v)}catch(G){}let Ie=BH(p,y,ft.decodeToBuffer(u),{iv:d,tag:v,aad:B});if(f.zip&&(Ie=AH(Ie)),s){let G={cleartext:Ie,key:r,cek:y};return _&&(G.aad=_),x&&(G.header=x),g&&(G.unprotected=g),h&&(G.protected=ft.JSON.decode(h)),G}return Ie}x0(n.protected,n.unprotected,n.recipients.map(({header:B})=>({header:B})),!0,i);let H=n,{recipients:S}=H,E=ht(H,["recipients"]),w=[];for(let B of S)try{return zf(!0,"flattened",b(b({},E),B),r,{crit:i,complete:s,algorithms:o?[...o]:void 0})}catch(Ie){w.push(Ie);continue}let T=new wt.JOSEMultiError(w);throw[...T].some(B=>B instanceof wt.JWEDecryptionFailed)?new wt.JWEDecryptionFailed:[...T].every(B=>B instanceof wt.JWKSNoMatchingKey)?new wt.JWKSNoMatchingKey:T},"jweDecrypt");S0.exports=zf.bind(void 0,!1,void 0)});var T0=m((nY,di)=>{var w0=g0(),HH=E0(),Gf=a((t,e,n,r,i,s)=>new w0(e,r,i,s).recipient(n).encrypt(t),"single");di.exports.Encrypt=w0;di.exports.encrypt=Gf.bind(void 0,"compact");di.exports.encrypt.flattened=Gf.bind(void 0,"flattened");di.exports.encrypt.general=Gf.bind(void 0,"general");di.exports.decrypt=HH});var Vf=m((rY,I0)=>{var Yf=Ye(),qs=Ts(),{JWSInvalid:Cs}=L();qs=qs.bind(void 0,Cs);var O0=a((t,[e])=>`${e.protected}.${t}.${e.signature}`,"compactSerializer");O0.validate=(t,{0:{unprotectedHeader:e,protectedHeader:n},length:r})=>{if(r!==1||e)throw new Cs("JWS Compact Serialization doesn't support multiple recipients or JWS unprotected headers");qs(n,e,n?n.crit:void 0)};var k0=a((t,[e])=>{let{header:n,signature:r,protected:i}=e;return R(b(b({payload:t},i?{protected:i}:void 0),n?{header:n}:void 0),{signature:r})},"flattenedSerializer");k0.validate=(t,{0:{unprotectedHeader:e,protectedHeader:n},length:r})=>{if(r!==1)throw new Cs("Flattened JWS JSON Serialization doesn't support multiple recipients");qs(n,e,n?n.crit:void 0)};var q0=a((t,e)=>({payload:t,signatures:e.map(({header:n,signature:r,protected:i})=>R(b(b({},i?{protected:i}:void 0),n?{header:n}:void 0),{signature:r}))}),"generalSerializer");q0.validate=(t,e)=>{let n=!1;if(e.forEach(({protectedHeader:r,unprotectedHeader:i})=>{r&&!n&&"b64"in r&&(n=!0),qs(r,i,r?r.crit:void 0)}),n&&!e.map(({protectedHeader:i})=>i&&i.b64).every((i,s,[o])=>i===o))throw new Cs('the "b64" Header Parameter value MUST be the same for all recipients')};var UH=a(t=>Yf(t)&&(typeof t.payload=="string"||Buffer.isBuffer(t.payload)),"isJSON"),C0=a(t=>Yf(t)&&typeof t.signature=="string"&&(t.header===void 0||Yf(t.header))&&(t.protected===void 0||typeof t.protected=="string"),"isValidRecipient"),$H=a(t=>!!(Array.isArray(t.signatures)&&t.signatures.every(C0)),"isMultiRecipient"),JH=a(t=>{if(typeof t=="string"&&t.split(".").length===3)return"compact";if(UH(t)){if($H(t))return"general";if(C0(t))return"flattened"}throw new Cs("JWS malformed or invalid serialization")},"detect");I0.exports={compact:O0,flattened:k0,general:q0,detect:JH}});var j0=m((iY,A0)=>{var tr=Se(),WH=cc(),Xf=Ye(),P0=Cf(),{JWSInvalid:Zf}=L(),{sign:zH}=ws(),GH=er(),YH=Vf(),R0=Symbol("PROCESS_RECIPIENT"),Qf=class{constructor(e){if(typeof e=="string")e=tr.encode(e);else if(Buffer.isBuffer(e))e=tr.encodeBuffer(e),this._binary=!0;else if(Xf(e))e=tr.JSON.encode(e);else throw new TypeError("payload argument must be a Buffer, string or an object");this._payload=e,this._recipients=[]}recipient(e,n,r){if(e=GH(e),n!==void 0&&!Xf(n))throw new TypeError("protectedHeader argument must be a plain object when provided");if(r!==void 0&&!Xf(r))throw new TypeError("unprotectedHeader argument must be a plain object when provided");if(!WH(n,r))throw new Zf("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");return this._recipients.push({key:e,protectedHeader:n?P0(n):void 0,unprotectedHeader:r?P0(r):void 0}),this}[R0](e,n){let{key:r,protectedHeader:i,unprotectedHeader:s}=e;if(r.use==="enc")throw new TypeError('a key with "use":"enc" is not usable for signing');let o={protected:i||{},unprotected:s||{}},c=o.protected.alg||o.unprotected.alg;if(c||(c=r.alg||[...r.algorithms("sign")][0],e.protectedHeader?o.protected.alg=e.protectedHeader.alg=c:o.protected=e.protectedHeader={alg:c}),!c)throw new Zf('could not resolve a usable "alg" for a recipient');e.header=s,e.protected=Object.keys(o.protected).length?tr.JSON.encode(o.protected):"",n&&o.protected.crit&&o.protected.crit.includes("b64")&&o.protected.b64===!1&&(this._binary?this._payload=tr.decodeToBuffer(this._payload):this._payload=tr.decode(this._payload));let u=Buffer.concat([Buffer.from(e.protected||""),Buffer.from("."),Buffer.from(this._payload)]);e.signature=tr.encodeBuffer(zH(c,r,u))}sign(e){let n=YH[e];if(!n)throw new TypeError('serialization must be one of "compact", "flattened", "general"');if(!this._recipients.length)throw new Zf("missing recipients");return n.validate(this,this._recipients),this._recipients.forEach((r,i)=>{this[R0](r,i===0)}),n(this._payload,this._recipients)}};a(Qf,"Sign");A0.exports=Qf});var nm=m((sY,N0)=>{var{EOL:em}=require("os"),pc=Se(),VH=cc(),XH=Ye(),tm=Ts(),ZH=er(),{KeyStore:QH}=uc(),ce=L(),{check:eU,verify:tU}=ws(),lc=xs(),{detect:nU}=Vf();tm=tm.bind(void 0,ce.JWSInvalid);var rU=new Set(["compact","flattened","preparsed"]),dc=a((t,e,n,r,{crit:i=[],complete:s=!1,algorithms:o,parse:c=!0,encoding:u="utf8"}={})=>{if(r=ZH(r,!0),o!==void 0&&(!Array.isArray(o)||o.some(w=>typeof w!="string"||!w)))throw new TypeError('"algorithms" option must be an array of non-empty strings');if(o&&(o=new Set(o)),!Array.isArray(i)||i.some(w=>typeof w!="string"||!w))throw new TypeError('"crit" option must be an array of non-empty strings');e||(e=nU(n));let p,l,d,f,h;if(e==="general"&&n.signatures.length===1){e="flattened";let S=n,{signatures:w}=S,T=ht(S,["signatures"]);n=b(b({},T),w[0])}let v;if(rU.has(e)){let w={};switch(e){case"compact":[p,d,f]=n.split(".");break;case"flattened":({protected:p,payload:d,signature:f,header:l}=n);break;case"preparsed":{({decoded:v}=n),[p,d,f]=n.token.split(".");break}}if(l||(t=!0),v)w=v.header;else if(p)try{w=pc.JSON.decode(p)}catch(H){throw new ce.JWSInvalid("could not parse JWS protected header")}else t=t||!0;if(!t&&!VH(w,l))throw new ce.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let T=b(b({},w),l);if(tm(w,l,i),h=w.alg||l&&l.alg,h){if(o&&!o.has(h))throw new ce.JOSEAlgNotWhitelisted("alg not whitelisted")}else throw new ce.JWSInvalid("missing JWS signature algorithm");if(r instanceof QH){let B=r.all({kid:T.kid,alg:T.alg,key_ops:["verify"]});switch(B.length){case 0:throw new ce.JWKSNoMatchingKey;case 1:r=B[0];break;default:{let Ie=[];for(let Te of B)try{return dc(!0,e,n,Te,{crit:i,complete:s,encoding:u,parse:c,algorithms:o?[...o]:void 0})}catch(Ue){Ie.push(Ue);continue}let G=new ce.JOSEMultiError(Ie);throw[...G].some(Te=>Te instanceof ce.JWSVerificationFailed)?new ce.JWSVerificationFailed:G}}}if(r===lc.EmbeddedJWK){if(!XH(T.jwk))throw new ce.JWSInvalid('JWS Header Parameter "jwk" must be a JSON object');if(r=lc.asKey(T.jwk),r.type!=="public")throw new ce.JWSInvalid('JWS Header Parameter "jwk" must be a public key')}else if(r===lc.EmbeddedX5C){if(!Array.isArray(T.x5c)||!T.x5c.length||T.x5c.some(H=>typeof H!="string"||!H))throw new ce.JWSInvalid('JWS Header Parameter "x5c" must be a JSON array of certificate value strings');r=lc.asKey(`-----BEGIN CERTIFICATE-----${em}${(T.x5c[0].match(/.{1,64}/g)||[]).join(em)}${em}-----END CERTIFICATE-----`,{x5c:T.x5c})}eU(r,"verify",h);let D=Buffer.concat([Buffer.from(p||""),Buffer.from("."),Buffer.isBuffer(d)?d:Buffer.from(d)]);if(!tU(h,r,D,pc.decodeToBuffer(f)))throw new ce.JWSVerificationFailed;if((!T.crit||!T.crit.includes("b64")||T.b64)&&(c?d=v?v.payload:pc.JSON.decode.try(d,u):d=pc.decodeToBuffer(d)),s){let H={payload:d,key:r};return p&&(H.protected=w),l&&(H.header=l),H}return d}let E=n,{signatures:g}=E,y=ht(E,["signatures"]),_=[];for(let w of g)try{return dc(!1,"flattened",b(b({},y),w),r,{crit:i,complete:s,encoding:u,parse:c,algorithms:o?[...o]:void 0})}catch(T){_.push(T);continue}let x=new ce.JOSEMultiError(_);throw[...x].some(w=>w instanceof ce.JWSVerificationFailed)?new ce.JWSVerificationFailed:[...x].every(w=>w instanceof ce.JWKSNoMatchingKey)?new ce.JWKSNoMatchingKey:x},"jwsVerify");N0.exports={bare:dc,verify:dc.bind(void 0,!1,void 0)}});var im=m((aY,fi)=>{var M0=j0(),{verify:iU}=nm(),rm=a((t,e,n,r,i)=>new M0(e).recipient(n,r,i).sign(t),"single");fi.exports.Sign=M0;fi.exports.sign=rm.bind(void 0,"compact");fi.exports.sign.flattened=rm.bind(void 0,"flattened");fi.exports.sign.general=rm.bind(void 0,"general");fi.exports.verify=iU});var sm=m((oY,K0)=>{var B0=Se(),D0=L();K0.exports=(t,{complete:e=!1}={})=>{if(typeof t!="string"||!t)throw new TypeError("JWT must be a string");let{0:n,1:r,2:i,length:s}=t.split(".");if(s===5)throw new TypeError("JWTs must be decrypted first");if(s!==3)throw new D0.JWTMalformed("JWTs must have three components");try{let o={header:B0.JSON.decode(n),payload:B0.JSON.decode(r),signature:i};return e?o:o.payload}catch(o){throw new D0.JWTMalformed("JWT is malformed")}}});var om=m((cY,H0)=>{var F0=60,L0=F0*60,am=L0*24,sU=am*7,aU=am*365.25,oU=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;H0.exports=t=>{let e=oU.exec(t);if(!e)throw new TypeError(`invalid time period format ("${t}")`);let n=parseFloat(e[1]);switch(e[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(n*F0);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(n*L0);case"day":case"days":case"d":return Math.round(n*am);case"week":case"weeks":case"w":return Math.round(n*sU);case"year":case"years":case"yr":case"yrs":case"y":return Math.round(n*aU)}}});var cm=m((uY,U0)=>{U0.exports=t=>Math.floor(t.getTime()/1e3)});var pm=m((pY,um)=>{var $0=a(t=>typeof t!="string"||t.length===0,"isNotString");um.exports.isNotString=$0;um.exports.isString=a(function(e,n,r,i,s=!1){if(s&&n===void 0)throw new e(`${r} is missing`,i,"missing");if(n!==void 0&&$0(n))throw new e(`${r} must be a string`,i,"invalid")},"isString")});var z0=m((lY,W0)=>{var lm=Ye(),J0=om(),cU=cm(),uU=er(),pU=im(),nr=pm().isString.bind(void 0,TypeError),lU=a(t=>{if(typeof t.iat!="boolean")throw new TypeError("options.iat must be a boolean");if(typeof t.kid!="boolean")throw new TypeError("options.kid must be a boolean");if(nr(t.subject,"options.subject"),nr(t.issuer,"options.issuer"),t.audience!==void 0&&(typeof t.audience!="string"||!t.audience)&&(!Array.isArray(t.audience)||t.audience.length===0||t.audience.some(e=>!e||typeof e!="string")))throw new TypeError("options.audience must be a string or an array of strings");if(!lm(t.header))throw new TypeError("options.header must be an object");if(nr(t.algorithm,"options.algorithm"),nr(t.expiresIn,"options.expiresIn"),nr(t.notBefore,"options.notBefore"),nr(t.jti,"options.jti"),nr(t.nonce,"options.nonce"),t.now!==void 0&&(!(t.now instanceof Date)||!t.now.getTime()))throw new TypeError("options.now must be a valid Date object")},"validateOptions");W0.exports=(t,e,n={})=>{if(!lm(n))throw new TypeError("options must be an object");let{algorithm:r,audience:i,expiresIn:s,header:o={},iat:c=!0,issuer:u,jti:p,kid:l=!0,nonce:d,notBefore:f,subject:h,now:v}=n;if(lU({algorithm:r,audience:i,expiresIn:s,header:o,iat:c,issuer:u,jti:p,kid:l,nonce:d,notBefore:f,now:v,subject:h}),!lm(t))throw new TypeError("payload must be an object");let g;(s||f||c)&&(g=cU(v||new Date)),t=R(b({},t),{sub:h||t.sub,aud:i||t.aud,iss:u||t.iss,jti:p||t.jti,iat:c?g:t.iat,nonce:d||t.nonce,exp:s?g+J0(s):t.exp,nbf:f?g+J0(f):t.nbf}),e=uU(e);let y;return typeof n.kid=="boolean"?y=l:y=!e.secret,pU.sign(JSON.stringify(t),e,R(b({},o),{alg:r||o.alg,kid:y?e.kid:o.kid}))}});var hm=m((dY,Z0)=>{var dm=Ye(),dU=cm(),fm=om(),fU=er(),{bare:G0}=nm(),{JWTClaimInvalid:U,JWTExpired:Y0}=L(),{isString:V0,isNotString:fc}=pm(),mU=sm(),en=V0.bind(void 0,U),kn=V0.bind(void 0,TypeError),mi="id_token",mc="logout_token",rr="at+JWT",hc=a((t,e,n=!1)=>{if(n&&t===void 0)throw new U(`"${e}" claim is missing`,e,"missing");if(t!==void 0&&typeof t!="number")throw new U(`"${e}" claim must be a JSON numeric value`,e,"invalid")},"isTimestamp"),mm=a((t,e,n=!1)=>{if(n&&t===void 0)throw new U(`"${e}" claim is missing`,e,"missing");if(t!==void 0&&fc(t)&&Is(t))throw new U(`"${e}" claim must be a string or array of strings`,e,"invalid")},"isStringOrArrayOfStrings"),Is=a(t=>!Array.isArray(t)||t.length===0||t.some(fc),"isNotArrayOfStrings"),X0=a(t=>t.toLowerCase().replace(/^application\//,""),"normalizeTyp"),hU=a(({algorithms:t,audience:e,clockTolerance:n,complete:r=!1,crit:i,ignoreExp:s=!1,ignoreIat:o=!1,ignoreNbf:c=!1,issuer:u,jti:p,maxAuthAge:l,maxTokenAge:d,nonce:f,now:h=new Date,profile:v,subject:g,typ:y})=>{if(kn(v,"options.profile"),typeof r!="boolean")throw new TypeError("options.complete must be a boolean");if(typeof s!="boolean")throw new TypeError("options.ignoreExp must be a boolean");if(typeof c!="boolean")throw new TypeError("options.ignoreNbf must be a boolean");if(typeof o!="boolean")throw new TypeError("options.ignoreIat must be a boolean");if(kn(d,"options.maxTokenAge"),kn(g,"options.subject"),kn(l,"options.maxAuthAge"),kn(p,"options.jti"),kn(n,"options.clockTolerance"),kn(y,"options.typ"),u!==void 0&&fc(u)&&Is(u))throw new TypeError("options.issuer must be a string or an array of strings");if(e!==void 0&&fc(e)&&Is(e))throw new TypeError("options.audience must be a string or an array of strings");if(t!==void 0&&Is(t))throw new TypeError("options.algorithms must be an array of strings");if(kn(f,"options.nonce"),!(h instanceof Date)||!h.getTime())throw new TypeError("options.now must be a valid Date object");if(o&&d!==void 0)throw new TypeError("options.ignoreIat and options.maxTokenAge cannot used together");if(i!==void 0&&Is(i))throw new TypeError("options.crit must be an array of strings");switch(v){case mi:if(!u)throw new TypeError('"issuer" option is required to validate an ID Token');if(!e)throw new TypeError('"audience" option is required to validate an ID Token');break;case rr:if(!u)throw new TypeError('"issuer" option is required to validate a JWT Access Token');if(!e)throw new TypeError('"audience" option is required to validate a JWT Access Token');y=rr;break;case mc:if(!u)throw new TypeError('"issuer" option is required to validate a Logout Token');if(!e)throw new TypeError('"audience" option is required to validate a Logout Token');break;case void 0:break;default:throw new TypeError(`unsupported options.profile value "${v}"`)}return{algorithms:t,audience:e,clockTolerance:n,complete:r,crit:i,ignoreExp:s,ignoreIat:o,ignoreNbf:c,issuer:u,jti:p,maxAuthAge:l,maxTokenAge:d,nonce:f,now:h,profile:v,subject:g,typ:y}},"validateOptions"),vU=a(({header:t,payload:e},n,r)=>{if(en(t.alg,'"alg" header parameter',"alg",!0),hc(e.iat,"iat",n===mi||n===mc||n===rr||!!r.maxTokenAge),hc(e.exp,"exp",n===mi||n===rr),hc(e.auth_time,"auth_time",!!r.maxAuthAge),hc(e.nbf,"nbf"),en(e.jti,'"jti" claim',"jti",n===mc||n===rr||!!r.jti),en(e.acr,'"acr" claim',"acr"),en(e.nonce,'"nonce" claim',"nonce",!!r.nonce),mm(e.iss,"iss",!!r.issuer),en(e.sub,'"sub" claim',"sub",n===mi||n===rr||!!r.subject),mm(e.aud,"aud",!!r.audience),en(e.azp,'"azp" claim',"azp",n===mi&&Array.isArray(e.aud)&&e.aud.length>1),mm(e.amr,"amr"),en(t.typ,'"typ" header parameter',"typ",!!r.typ),n===rr&&en(e.client_id,'"client_id" claim',"client_id",!0),n===mc){if(en(e.sid,'"sid" claim',"sid"),!("sid"in e)&&!("sub"in e))throw new U('either "sid" or "sub" (or both) claims must be present');if("nonce"in e)throw new U('"nonce" claim is prohibited',"nonce","prohibited");if(!("events"in e))throw new U('"events" claim is missing',"events","missing");if(!dm(e.events))throw new U('"events" claim must be an object',"events","invalid");if(!("http://schemas.openid.net/event/backchannel-logout"in e.events))throw new U('"http://schemas.openid.net/event/backchannel-logout" member is missing in the "events" claim',"events","invalid");if(!dm(e.events["http://schemas.openid.net/event/backchannel-logout"]))throw new U('"http://schemas.openid.net/event/backchannel-logout" member in the "events" claim must be an object',"events","invalid")}},"validateTypes"),gU=a((t,e,n)=>typeof t=="string"?e.includes(t):(t=new Set(t),e.some(Set.prototype.has.bind(t))),"checkAudiencePresence");Z0.exports=(t,e,n={})=>{if(!dm(n))throw new TypeError("options must be an object");let{algorithms:r,audience:i,clockTolerance:s,complete:o,crit:c,ignoreExp:u,ignoreIat:p,ignoreNbf:l,issuer:d,jti:f,maxAuthAge:h,maxTokenAge:v,nonce:g,now:y,profile:_,subject:x,typ:S}=n=hU(n),E=mU(t,{complete:!0});e=fU(e,!0),o?({key:e}=G0(!0,"preparsed",{decoded:E,token:t},e,{crit:c,algorithms:r,complete:!0}),E.key=e):G0(!0,"preparsed",{decoded:E,token:t},e,{crit:c,algorithms:r});let w=dU(y);if(vU(E,_,n),d&&(typeof E.payload.iss!="string"||!(typeof d=="string"?[d]:d).includes(E.payload.iss)))throw new U('unexpected "iss" claim value',"iss","check_failed");if(g&&E.payload.nonce!==g)throw new U('unexpected "nonce" claim value',"nonce","check_failed");if(x&&E.payload.sub!==x)throw new U('unexpected "sub" claim value',"sub","check_failed");if(f&&E.payload.jti!==f)throw new U('unexpected "jti" claim value',"jti","check_failed");if(i&&!gU(E.payload.aud,typeof i=="string"?[i]:i,_))throw new U('unexpected "aud" claim value',"aud","check_failed");if(S&&X0(E.header.typ)!==X0(S))throw new U('unexpected "typ" JWT header value',"typ","check_failed");let T=s?fm(s):0;if(h){let D=fm(h);if(E.payload.auth_time+D<w-T)throw new U('"auth_time" claim timestamp check failed (too much time has elapsed since the last End-User authentication)',"auth_time","check_failed")}if(!p&&!("exp"in E.payload)&&"iat"in E.payload&&E.payload.iat>w+T)throw new U('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed");if(!l&&"nbf"in E.payload&&E.payload.nbf>w+T)throw new U('"nbf" claim timestamp check failed',"nbf","check_failed");if(!u&&"exp"in E.payload&&E.payload.exp<=w-T)throw new Y0('"exp" claim timestamp check failed',"exp","check_failed");if(v){let D=w-E.payload.iat,H=fm(v);if(D-T>H)throw new Y0('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(D<0-T)throw new U('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(_===mi&&Array.isArray(E.payload.aud)&&E.payload.aud.length>1&&E.payload.azp!==i)throw new U('unexpected "azp" claim value',"azp","check_failed");return o?E:E.payload}});var eT=m((fY,Q0)=>{var vm=hm();Q0.exports={IdToken:{verify:(t,e,n)=>vm(t,e,R(b({},n),{profile:"id_token"}))},LogoutToken:{verify:(t,e,n)=>vm(t,e,R(b({},n),{profile:"logout_token"}))},AccessToken:{verify:(t,e,n)=>vm(t,e,R(b({},n),{profile:"at+JWT"}))}}});var nT=m((mY,tT)=>{var yU=sm(),_U=z0(),bU=hm(),xU=eT();tT.exports=b({decode:yU,sign:_U,verify:bU},xU)});var iT=m((hY,rT)=>{rT.exports={JWE:T0(),JWK:xs(),JWKS:uc(),JWS:im(),JWT:nT(),errors:L()}});var sT=m(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.setLogger=SU;hi.proxyLogger=wU;hi.default=void 0;var ir={error(t,...e){console.error(`[next-auth][error][${t.toLowerCase()}]`,`
https://next-auth.js.org/errors#${t.toLowerCase()}`,...e)},warn(t,...e){console.warn(`[next-auth][warn][${t.toLowerCase()}]`,`
https://next-auth.js.org/warnings#${t.toLowerCase()}`,...e)},debug(t,...e){var n,r;!((n=process)!==null&&n!==void 0&&(r=n.env)!==null&&r!==void 0&&r._NEXTAUTH_DEBUG)||console.log(`[next-auth][debug][${t.toLowerCase()}]`,...e)}};function SU(t={}){t.error&&(ir.error=t.error),t.warn&&(ir.warn=t.warn),t.debug&&(ir.debug=t.debug)}a(SU,"setLogger");var EU=ir;hi.default=EU;function wU(t=ir,e){try{if(typeof window=="undefined")return t;let n={};for(let r in t)n[r]=(i,...s)=>{ir[r](i,...s);let o=`${e}/_log`,c=new URLSearchParams({level:r,code:i,message:JSON.stringify(s.map(u=>u instanceof Error?{name:u.name,message:u.message,stack:u.stack}:u))});return navigator.sendBeacon?navigator.sendBeacon(o,c):fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:c})};return n}catch(n){return ir}}a(wU,"proxyLogger")});var fT=m((gY,dT)=>{"use strict";var{createHash:TU,createHmac:aT}=require("crypto"),oT={},cT=a(t=>{switch(t){case"sha256":return 32;case"sha512":return 64;case"sha224":return 28;case"sha384":return 48;case"sha3-256":return 32;case"sha3-512":return 64;case"sha3-224":return 28;case"sha3-384":return 48;case"blake2s256":return 32;case"blake2b512":return 64;case"sha1":return 20;case"md5":return 16;default:{let e=oT[t];return e===void 0&&(e=TU(t).digest().length,oT[t]=e),e}}},"hash_length"),uT=a((t,e,n,r)=>{let i=Buffer.isBuffer(n)?n:Buffer.from(n),s=r&&r.length?Buffer.from(r):Buffer.alloc(e,0);return aT(t,s).update(i).digest()},"hkdf_extract"),pT=a((t,e,n,r,i)=>{let s=Buffer.from(i||""),o=s.length,c=Math.ceil(r/e);if(c>255)throw new Error(`OKM length ${r} is too long for ${t} hash`);let u=Buffer.alloc(e*c+o+1);for(let p=1,l=0,d=0;p<=c;++p)s.copy(u,d),u[d+o]=p,aT(t,n).update(u.slice(l,d+o+1)).digest().copy(u,d),l=d,d+=e;return u.slice(0,r)},"hkdf_expand");function lT(t,e,{salt:n="",info:r="",hash:i="SHA-256"}={}){i=i.toLowerCase().replace("-","");let s=cT(i),o=uT(i,s,t,n);return pT(i,s,o,e,r)}a(lT,"hkdf");Object.defineProperties(lT,{hash_length:{configurable:!1,enumerable:!1,writable:!1,value:cT},extract:{configurable:!1,enumerable:!1,writable:!1,value:uT},expand:{configurable:!1,enumerable:!1,writable:!1,value:pT}});dT.exports=lT});var bm=m(sr=>{"use strict";var gm=fx();Object.defineProperty(sr,"__esModule",{value:!0});sr.encode=_T;sr.decode=_m;sr.getToken=bT;sr.default=void 0;var mT=gm(require("crypto")),Tt=gm(iT()),hT=gm(sT()),vT="HS512",ym="A256GCM",gT=!1,yT=30*24*60*60;async function _T({token:t={},maxAge:e=yT,secret:n,signingKey:r,signingOptions:i={expiresIn:`${e}s`},encryptionKey:s,encryptionOptions:o={alg:"dir",enc:ym,zip:"DEF"},encryption:c=gT}={}){let u=r?Tt.default.JWK.asKey(JSON.parse(r)):wT(n),p=Tt.default.JWT.sign(t,u,i);if(c){let l=s?Tt.default.JWK.asKey(JSON.parse(s)):TT(n);return Tt.default.JWE.encrypt(p,l,o)}return p}a(_T,"encode");async function _m({secret:t,token:e,maxAge:n=yT,signingKey:r,verificationKey:i=r,verificationOptions:s={maxTokenAge:`${n}s`,algorithms:[vT]},encryptionKey:o,decryptionKey:c=o,decryptionOptions:u={algorithms:[ym]},encryption:p=gT}={}){if(!e)return null;let l=e;if(p){let f=c?Tt.default.JWK.asKey(JSON.parse(c)):TT(t);l=Tt.default.JWE.decrypt(e,f,u).toString("utf8")}let d=i?Tt.default.JWK.asKey(JSON.parse(i)):wT(t);return Tt.default.JWT.verify(l,d,s)}a(_m,"decode");async function bT(t){var e;let{req:n,secureCookie:r=!(!process.env.NEXTAUTH_URL||process.env.NEXTAUTH_URL.startsWith("http://")),cookieName:i=r?"__Secure-next-auth.session-token":"next-auth.session-token",raw:s=!1,decode:o=_m}=t;if(!n)throw new Error("Must pass `req` to JWT getToken()");let c=n.cookies[i];if(!c&&((e=n.headers.authorization)===null||e===void 0?void 0:e.split(" ")[0])==="Bearer"){let u=n.headers.authorization.split(" ")[1];c=decodeURIComponent(u)}if(s)return c;try{return o(b({token:c},t))}catch(u){return null}}a(bT,"getToken");var xT=!1,ST=!1;function ET(t,{byteLength:e,encryptionInfo:n,digest:r="sha256"}){return mT.default.hkdfSync?Buffer.from(mT.default.hkdfSync(r,t,Buffer.alloc(0),n,e)):fT()(t,e,{info:n,hash:r})}a(ET,"hkdf");function wT(t){xT||(hT.default.warn("JWT_AUTO_GENERATED_SIGNING_KEY"),xT=!0);let e=ET(t,{byteLength:64,encryptionInfo:"NextAuth.js Generated Signing Key"});return Tt.default.JWK.asKey(e,{alg:vT,use:"sig",kid:"nextauth-auto-generated-signing-key"})}a(wT,"getDerivedSigningKey");function TT(t){ST||(hT.default.warn("JWT_AUTO_GENERATED_ENCRYPTION_KEY"),ST=!0);let e=ET(t,{byteLength:32,encryptionInfo:"NextAuth.js Generated Encryption Key"});return Tt.default.JWK.asKey(e,{alg:ym,use:"enc",kid:"nextauth-auto-generated-encryption-key"})}a(TT,"getDerivedEncryptionKey");var OU={encode:_T,decode:_m,getToken:bT};sr.default=OU});var xm=m((_Y,OT)=>{OT.exports=a(function(e=""){return e.split(";").map(i=>i.trim()).filter(Boolean).reverse().find(i=>i.startsWith("_idx="))||""},"getIdx")});var Em=m(Sm=>{"use strict";Sm.parse=IU;Sm.serialize=PU;var kU=decodeURIComponent,qU=encodeURIComponent,CU=/; */,vc=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function IU(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var n={},r=e||{},i=t.split(CU),s=r.decode||kU,o=0;o<i.length;o++){var c=i[o],u=c.indexOf("=");if(!(u<0)){var p=c.substr(0,u).trim(),l=c.substr(++u,c.length).trim();l[0]=='"'&&(l=l.slice(1,-1)),n[p]==null&&(n[p]=RU(l,s))}}return n}a(IU,"parse");function PU(t,e,n){var r=n||{},i=r.encode||qU;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!vc.test(t))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!vc.test(s))throw new TypeError("argument val is invalid");var o=t+"="+s;if(r.maxAge!=null){var c=r.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(c)}if(r.domain){if(!vc.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!vc.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var u=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}a(PU,"serialize");function RU(t,e){try{return e(t)}catch(n){return t}}a(RU,"tryDecode")});var qT=m(wm=>{var vi="Could not extract parameters from DER signature";wm.derToConcat=(t,e)=>{let n=0;if(t[n++]!==48)throw new Error(vi);let r=t[n++];if(r===129&&(r=t[n++]),r>t.length-n||t[n++]!==2)throw new Error(vi);let i=t[n++];if(i>t.length-n-2||i>e+1)throw new Error(vi);let s=n;if(n+=i,t[n++]!==2)throw new Error(vi);let o=t[n++];if(o!==t.length-n||o>e+1)throw new Error(vi);let c=n;if(n+=o,n!==t.length)throw new Error(vi);let u=e-i,p=e-o,l=Buffer.allocUnsafe(u+i+p+o);for(n=0;n<u;n++)l[n]=0;let d=Math.max(-u,0);t.copy(l,n,s+d,s+i),n=e;for(let h=n;n<h+p;n++)l[n]=0;let f=Math.max(-p,0);return t.copy(l,n,c+f,c+o),l};wm.concatToDer=(t,e)=>{let n=kT(t,0,e),r=kT(t,e,t.length),i=e-n,s=e-r,o=i+s+4,c=o<128,u=Buffer.allocUnsafe((c?2:3)+o),p=0;return u[p++]=48,c?u[p++]=o:(u[p++]=129,u[p++]=o&255),u[p++]=2,u[p++]=i,n<0?(u[p++]=0,p+=t.copy(u,p,0,e)):p+=t.copy(u,p,n,e),u[p++]=2,u[p++]=s,r<0?(u[p++]=0,t.copy(u,p,e)):t.copy(u,p,e+r),u};function kT(t,e,n){let r=0;for(;e+r<n&&t[e+r]===0;)r++;return t[e+r]>=128?--r:r}a(kT,"countPadding")});var yc=m(gc=>{gc.buf2b64url=t=>t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");function qn(t,e,n){if(n)n(t,e);else{if(t)throw t;return e}}a(qn,"responder");gc.responder=qn;gc.payloadVerifications=(t,e)=>{if(t.audList){if(t.payload.aud===void 0)return t.error={message:"Missing aud claim in payload"},qn(null,t,e);if(!t.audList.includes(t.payload.aud))return t.error={message:"Mismatching aud claim in payload"},qn(null,t,e)}if(t.issList){if(t.payload.iss===void 0)return t.error={message:"Missing iss claim in payload"},qn(null,t,e);if(!t.issList.includes(t.payload.iss))return t.error={message:"Mismatching iss claim in payload"},qn(null,t,e)}let n=Number(t.payload.iat);if(!n)return t.error={message:"Missing or invalid iat claim in payload"},qn(null,t,e);let r=Number(t.payload.exp);if(t.lifetime){let i=n+t.lifetime;(!r||i<r)&&(r=i)}return r&&Date.now()>r*1e3?(t.expired=r,qn(null,t,e)):(t.valid=!0,qn(null,t,e))}});var PT=m(Tm=>{var ar=require("crypto"),CT=qT(),{responder:Ot,buf2b64url:Ps,payloadVerifications:AU}=yc(),IT=/^(HS|RS|ES)(256|384|512)$/;Tm.generate=(t,e,...n)=>{let r,i,s={alg:t};if(n[0].constructor!==Object)r=n[0],i=typeof n[1]=="function"?n[1]:void 0;else if(s.kid=n[1],r=n[0][n[1]],i=typeof n[2]=="function"?n[2]:void 0,!r)return Ot(new TypeError("Invalid key identifier"),null,i);let o=typeof t=="string"?t.match(IT):null;if(!o)return Ot(new TypeError("Unrecognized algorithm"),null,i);let c;o[1]==="HS"?c=jU:o[1]==="RS"?c=MU:c=DU,e.iat=Math.floor(Date.now()/1e3);let u=Ps(Buffer.from(JSON.stringify(s))),p=Ps(Buffer.from(JSON.stringify(e))),l;try{l=c(`${u}.${p}`,+o[2],r)}catch(d){return Ot(d,null,i)}return Ot(null,l,i)};Tm.verify=(t,e,n)=>{if(t.error)return Ot(null,t,n);if(typeof t.header.alg!="string")return t.error={message:"Missing or invalid alg claim in header"},Ot(null,t,n);let r=t.header.alg.match(IT);if(!r)return t.error={message:`Unrecognized algorithm ${t.header.alg}`},Ot(null,t,n);if(t.algList&&!t.algList.includes(t.header.alg))return t.error={message:`Unwanted algorithm ${t.header.alg}`},Ot(null,t,n);let i=`${t.parts[0]}.${t.parts[1]}`,s;r[1]==="HS"?s=NU:r[1]==="RS"?s=BU:s=KU;let o;try{o=s(i,t.parts[2],+r[2],e)}catch(c){return t.error={message:`Could not verify integrity. ${c.message}`},Ot(null,t,n)}return o?AU(t,n):(t.error={message:"Integrity check failed"},Ot(null,t,n))};function jU(t,e,n){if(typeof n=="string")n=Buffer.from(n,"base64");else if(!(n instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");let r=e>>3;if(n.length<r)throw new TypeError(`Key length must be at least ${r} bytes`);let i=ar.createHmac(`SHA${e}`,n),s=Ps(i.update(t).digest());return`${t}.${s}`}a(jU,"generateHsJws");function NU(t,e,n,r){if(typeof r=="string")r=Buffer.from(r,"base64");else if(!(r instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");let i=n>>3;if(r.length<i)throw new TypeError(`Key length must be at least ${i} bytes`);let s=ar.createHmac(`SHA${n}`,r);return s.update(t),ar.timingSafeEqual(s.digest(),Buffer.from(e,"base64"))}a(NU,"verifyHsJws");function MU(t,e,n){if(n instanceof Buffer)n=n.toString();else if(typeof n!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!n.includes("-----BEGIN")||!n.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted RSA private key");let r=ar.createSign(`SHA${e}`),i=Ps(r.update(t).sign(n));return`${t}.${i}`}a(MU,"generateRsJws");function BU(t,e,n,r){if(r instanceof Buffer)r=r.toString();else if(typeof r!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!r.includes("-----BEGIN")||!(r.includes("KEY-----")||r.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted RSA public key");let i=ar.createVerify(`SHA${n}`);return i.update(t),i.verify(r,e,"base64")}a(BU,"verifyRsJws");function DU(t,e,n){if(n instanceof Buffer)n=n.toString();else if(typeof n!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!n.includes("-----BEGIN")||!n.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted EC private key");let r=ar.createSign(`SHA${e}`);r.update(t);let i=32;e===384?i=48:e===512&&(i=66);let s=Ps(CT.derToConcat(r.sign(n),i));return`${t}.${s}`}a(DU,"generateEsJws");function KU(t,e,n,r){if(r instanceof Buffer)r=r.toString();else if(typeof r!="string")throw new TypeError("Key must be a buffer or a UTF-8 string");if(!r.includes("-----BEGIN")||!(r.includes("KEY-----")||r.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted EC public key");e=Buffer.from(e,"base64");let i=32;if(n===384?i=48:n===512&&(i=66),e.length!==i<<1)return!1;let s=ar.createVerify(`SHA${n}`);return s.update(t),s.verify(r,CT.concatToDer(e,i))}a(KU,"verifyEsJws")});var MT=m(Om=>{var z=require("crypto"),{responder:$,buf2b64url:kt,payloadVerifications:FU}=yc(),RT=/^(PBES2-HS(256|384|512)\053)?(RSA-OAEP|dir|A(128|192|256)KW)$/,AT=/^A(128|192|256)(GCM|CBC-HS(256|384|512))$/;Om.generate=(t,e,n,...r)=>{let i,s,o={alg:t,enc:e};if(r[0].constructor!==Object)i=r[0],s=typeof r[1]=="function"?r[1]:void 0;else if(o.kid=r[1],i=r[0][r[1]],s=typeof r[2]=="function"?r[2]:void 0,!i)return $(new TypeError("Invalid key identifier"),null,s);let c=typeof t=="string"?t.match(RT):null;if(!c||c[2]&&+c[2]!=c[4]*2){let f=new TypeError("Unrecognized key management algorithm");return $(f,null,s)}let u=typeof e=="string"?e.match(AT):null;if(!u||u[3]&&+u[3]!=u[1]*2){let f=new TypeError("Unrecognized content encryption algorithm");return $(f,null,s)}let p;if(c[2]){let f=z.randomBytes(16);if(o.p2c=1024,o.p2s=kt(f),p=Buffer.concat([Buffer.from(t),Buffer.from([0]),f]),!s){let h=Number(c[2]);i=z.pbkdf2Sync(i,p,o.p2c,h>>4,`sha${h}`)}}let l=kt(Buffer.from(JSON.stringify(o)));if(!c[2]||!s)return jT(c,u,l,n,i,s);let d=Number(c[2]);z.pbkdf2(i,p,o.p2c,d>>4,`sha${d}`,(f,h)=>{if(f)return s(f);jT(c,u,l,n,h,s)})};function jT(t,e,n,r,i,s){let o=e[3]?+e[1]>>2:+e[1]>>3,c=e[3]?UU:LU,u,p;if(t[0]!=="dir"){u=z.randomBytes(o);let d=t[4]?zU:JU;try{p=d(u,i,+t[4])}catch(f){return $(f,null,s)}}else{if(typeof i=="string")i=Buffer.from(i,"base64");else if(!(i instanceof Buffer)){let d=new TypeError("Key must be a buffer or a base64 string");return $(d,null,s)}if(i.length<o){let d=new TypeError(`Key must be at least ${o} bytes`);return $(d,null,s)}u=i.slice(0,o),p=""}r.iat=Math.floor(Date.now()/1e3);let l=c(n,u,p,JSON.stringify(r),+e[1]);return $(null,l,s)}a(jT,"generateJwe");Om.verify=(t,e,n)=>{if(t.error)return $(null,t,n);if(typeof t.header.alg!="string")return t.error={message:"Missing or invalid alg claim in header"},$(null,t,n);if(typeof t.header.enc!="string")return t.error={message:"Missing or invalid enc claim in header"},$(null,t,n);let r=t.header.alg.match(RT);if(!r||r[2]&&+r[2]!=r[4]*2)return t.error={message:`Unrecognized key management algorithm ${t.header.alg}`},$(null,t,n);if(t.algList&&!t.algList.includes(t.header.alg))return t.error={message:`Unwanted key management algorithm ${t.header.alg}`},$(null,t,n);let i=t.header.enc.match(AT);if(!i||i[3]&&+i[3]!=i[1]*2)return t.error={message:`Unrecognized content encryption algorithm ${t.header.enc}`},$(null,t,n);if(t.encList&&!t.encList.includes(t.header.enc))return t.error={message:`Unwanted content encryption algorithm ${t.header.enc}`},$(null,t,n);let s,o;if(r[2]){if(o=t.header.p2c,!Number.isInteger(o)||o<1||o>16384)return t.error={message:"Missing or invalid p2c claim in header"},$(null,t,n);if(!n&&o>1024)return t.error={message:"p2c value too large for synchronous mode"},$(null,t,n);if(typeof t.header.p2s!="string")return t.error={message:"Missing or invalid p2s claim in header"},$(null,t,n);let u=Buffer.from(t.header.p2s,"base64"),p=t.header.alg;if(s=Buffer.concat([Buffer.from(p),Buffer.from([0]),u]),!n){let l=Number(r[2]);e=z.pbkdf2Sync(e,s,o,l>>4,`sha${l}`)}}if(!r[2]||!n)return NT(t,r,i,e,n);let c=Number(r[2]);z.pbkdf2(e,s,o,c>>4,`sha${c}`,(u,p)=>{if(u)return n(u);NT(t,r,i,p,n)})};function NT(t,e,n,r,i){let s=Buffer.from(t.parts[0]),o=Buffer.from(t.parts[1],"base64"),c=Buffer.from(t.parts[2],"base64"),u=Buffer.from(t.parts[3],"base64"),p=Buffer.from(t.parts[4],"base64"),l=n[3]?+n[1]>>2:+n[1]>>3,d=n[3]?$U:HU,f;if(e[0]!=="dir"){let v=e[4]?GU:WU;try{f=v(o,r,+e[4])}catch(g){return t.error={message:`Could not decrypt token. ${g.message}`},$(null,t,i)}}else{if(typeof r=="string")r=Buffer.from(r,"base64");else if(!(r instanceof Buffer))return t.error={message:"Invalid key"},$(null,t,i);if(r.length<l)return t.error={message:`Invalid key length. Must be at least ${l} bytes`},$(null,t,i);f=r.slice(0,l)}let h;try{h=d(u,s,p,f,c,+n[1])}catch(v){return t.error={message:`Could not decrypt token. ${v.message}`},$(null,t,i)}try{t.payload=JSON.parse(h)}catch(v){return t.error={message:`Non parsable payload. ${v.message}`},$(null,t,i)}return FU(t,i)}a(NT,"decryptJwe");function LU(t,e,n,r,i){let s=z.randomBytes(12),o=z.createCipheriv(`id-aes${i}-GCM`,e,s);o.setAutoPadding(!1),o.setAAD(Buffer.from(t));let c=kt(Buffer.concat([o.update(r),o.final()])),u=kt(o.getAuthTag());return`${t}.${n}.${kt(s)}.${c}.${u}`}a(LU,"contentEncryptGcm");function HU(t,e,n,r,i,s){let o=z.createDecipheriv(`id-aes${s}-GCM`,r,i);return o.setAutoPadding(!1),o.setAAD(e),o.setAuthTag(n),Buffer.concat([o.update(t),o.final()])}a(HU,"contentDecryptGcm");function UU(t,e,n,r,i){let s=z.randomBytes(16),o=i>>3,c=z.createCipheriv(`AES-${i}-CBC`,e.slice(o),s),u=Buffer.concat([c.update(r),c.final()]),p=t.length<<3,l=Buffer.from(`000000000000000${p.toString(16)}`.slice(-16),"hex"),d=z.createHmac(`SHA${i<<1}`,e.slice(0,o));d.update(Buffer.from(t)).update(s).update(u).update(l);let f=kt(d.digest().slice(0,o));return`${t}.${n}.${kt(s)}.${kt(u)}.${f}`}a(UU,"contentEncryptCbc");function $U(t,e,n,r,i,s){let o=s>>3,c=e.length<<3,u=Buffer.from(`000000000000000${c.toString(16)}`.slice(-16),"hex"),p=z.createHmac(`SHA${s<<1}`,r.slice(0,o));if(p.update(e).update(i).update(t).update(u),!z.timingSafeEqual(p.digest().slice(0,o),n))throw new Error("Authentication of encrypted data failed");let l=r.slice(o),d=z.createDecipheriv(`AES-${s}-CBC`,l,i);return Buffer.concat([d.update(t),d.final()])}a($U,"contentDecryptCbc");function JU(t,e){if(e instanceof Buffer)e=e.toString();else if(typeof e!="string")throw new TypeError("Key must be a buffer or a string");if(!e.includes("-----BEGIN")||!(e.includes("KEY-----")||e.includes("CERTIFICATE-----")))throw new TypeError("Key must be a PEM formatted RSA public key");let n={key:e,padding:z.constants.RSA_PKCS1_OAEP_PADDING};return kt(z.publicEncrypt(n,t))}a(JU,"rsaOaepEncrypt");function WU(t,e){if(e instanceof Buffer&&(e=e.toString()),typeof e!="string"||!e.includes("-----BEGIN")||!e.includes("KEY-----"))throw new TypeError("Key must be a PEM formatted RSA private key");let n={key:e,padding:z.constants.RSA_PKCS1_OAEP_PADDING};return z.privateDecrypt(n,t)}a(WU,"rsaOaepDecrypt");function zU(t,e,n){let r=n>>3;if(typeof e=="string")e=Buffer.from(e,"base64");else if(!(e instanceof Buffer))throw new TypeError("Key must be a buffer or a base64-encoded string");if(e.length<r)throw new TypeError(`Key length must be at least ${r} bytes`);e=e.slice(0,r);let i=[];for(let u=0;u<t.length;u+=8)i.push(t.slice(u,u+8));let s=Buffer.alloc(16),o=Buffer.from("A6A6A6A6A6A6A6A6","hex"),c=1;for(let u=0;u<6;u++)for(let p=0;p<i.length;p++){let l=z.createCipheriv(`AES${n}`,e,s),d=`000000000000000${c.toString(16)}`.slice(-16),f=l.update(Buffer.concat([o,i[p]]));o=Buffer.from(d,"hex");for(let h=0;h<8;h++)o[h]^=f[h];i[p]=f.slice(8,16),c++}return kt(Buffer.concat([o].concat(i)))}a(zU,"aesKeyWrap");function GU(t,e,n){let r=n>>3;if(typeof e=="string")e=Buffer.from(e,"base64");else if(!(e instanceof Buffer))throw new TypeError("Key must be a buffer or a base64 string");if(e.length<r)throw new TypeError(`Key must be at least ${r} bytes`);e=e.slice(0,r);let i=t.slice(0,8),s=[];for(let u=8;u<t.length;u+=8)s.push(t.slice(u,u+8));let o=Buffer.alloc(16),c=6*s.length;for(let u=5;u>=0;u--)for(let p=s.length-1;p>=0;p--){let l=`000000000000000${c.toString(16)}`.slice(-16);l=Buffer.from(l,"hex");for(let h=0;h<8;h++)i[h]^=l[h];let f=z.createDecipheriv(`AES${n}`,e,o).update(Buffer.concat([i,s[p],o]));i=f.slice(0,8),s[p]=f.slice(8,16),c--}if(!i.equals(Buffer.from("A6A6A6A6A6A6A6A6","hex")))throw new Error("Key unwrapping failed");return Buffer.concat(s)}a(GU,"aesKeyUnwrap")});var KT=m(qm=>{var BT=PT(),DT=MT(),{responder:km}=yc();qm.generate=(t,...e)=>{if(e[0].constructor===Object)return BT.generate(t,...e);if(e[1].constructor===Object)return DT.generate(t,...e);let n=e.length-1;if(n>1&&n<5&&typeof e[n]=="function")e[n](error);else throw error};qm.parse=t=>new gi(t);function gi(t){if(this.parts=typeof t=="string"?t.split("."):[],this.parts.length===3)this.type="JWS";else if(this.parts.length===5)this.type="JWE";else{this.error={message:"Invalid token"};return}try{this.header=JSON.parse(Buffer.from(this.parts[0],"base64"))}catch(e){this.error={message:`Non parsable header. ${e.message}`};return}if(this.type==="JWS")try{this.payload=JSON.parse(Buffer.from(this.parts[1],"base64"))}catch(e){this.error={message:`Non parsable payload. ${e.message}`}}}a(gi,"ParsedToken");gi.prototype.setAlgorithmList=function(t,e){return typeof t=="string"?this.algList=[t]:Array.isArray(t)&&(this.algList=t),typeof e=="string"?this.encList=[e]:Array.isArray(e)&&(this.encList=e),this};gi.prototype.setTokenLifetime=function(t){return Number.isInteger(t)&&t>0&&(this.lifetime=t),this};gi.prototype.setAudience=function(t){return typeof t=="string"?this.audList=[t]:Array.isArray(t)&&(this.audList=t),this};gi.prototype.setIssuer=function(t){return typeof t=="string"?this.issList=[t]:Array.isArray(t)&&(this.issList=t),this};gi.prototype.verify=function(t,e){if(e=typeof e=="function"?e:void 0,this.error)return km(null,this,e);let n;if(t.constructor!==Object)n=t;else{if(this.header.kid===void 0)return this.error={message:"Missing kid claim in header"},km(null,this,e);if(t[this.header.kid]===void 0)return this.error={message:"Key with id not found",kid:this.header.kid},km(null,this,e);n=t[this.header.kid]}return(this.type==="JWS"?BT.verify:DT.verify)(this,n,e)}});var Cm=m((OY,$T)=>{var YU=xm(),FT=Em(),LT=KT(),VU="dir",XU="A128GCM",ZU=Buffer.from("1234567890123456").toString("base64"),HT=process.env.ARC_APP_SECRET||ZU,UT={create(t){return LT.generate(VU,XU,t,HT)},parse(t){let e=604800;return LT.parse(t).setTokenLifetime(e).verify(HT)}};function QU(t,e){let n;e||(n=new Promise(a(function(u,p){e=a(function(d,f){d?p(d):u(f)},"errback")},"argh")));let r=t.headers&&(t.headers.cookie||t.headers.Cookie);!r&&t.cookies&&(r=t.cookies.join(";"));let i=YU(r),s=FT.parse(i)._idx,o=UT.parse(s);return e(null,o.valid?o.payload:{}),n}a(QU,"read");function e6(t,e){let n;e||(n=new Promise(a(function(p,l){e=a(function(f,h){f?l(f):p(h)},"errback")},"ugh")));let r="_idx",i=UT.create(t),s=process.env.SESSION_TTL||7884e5,o=process.env.ARC_SESSION_SAME_SITE||"lax",c={maxAge:s,expires:new Date(Date.now()+s*1e3),secure:!0,httpOnly:!0,path:"/",sameSite:o};return process.env.SESSION_DOMAIN&&(c.domain=process.env.SESSION_DOMAIN),process.env.NODE_ENV==="testing"&&delete c.secure,e(null,FT.serialize(r,i,c)),n}a(e6,"write");$T.exports={read:QU,write:e6}});var WT=m(_c=>{var JT=require("crypto");_c.sign=function(t,e){if(typeof t!="string")throw new TypeError("Cookie value must be provided as a string.");if(typeof e!="string")throw new TypeError("Secret string must be provided.");return t+"."+JT.createHmac("sha256",e).update(t).digest("base64").replace(/\=+$/,"")};_c.unsign=function(t,e){if(typeof t!="string")throw new TypeError("Signed cookie string must be provided.");if(typeof e!="string")throw new TypeError("Secret string must be provided.");var n=t.slice(0,t.lastIndexOf(".")),r=_c.sign(n,e),i=Buffer.from(r),s=Buffer.alloc(i.length);return s.write(t),JT.timingSafeEqual(i,s)?n:!1}});var yi=m((qY,zT)=>{var bc=require("aws-sdk"),t6=require("https");function Rs(t,e){if(!t)throw ReferenceError("Must supply Dynamo service interface type");let n=process.env.NODE_ENV==="testing",r=process.env.ARC_LOCAL,i=process.env.ARC_TABLES_PORT||5e3,s={endpoint:new bc.Endpoint(`http://localhost:${i}`),region:process.env.AWS_REGION||"us-west-2"},o=bc.DynamoDB,c=bc.DynamoDB.DocumentClient,u;if(!n&&!r){let p=new t6.Agent({keepAlive:!0,maxSockets:50,rejectUnauthorized:!0});bc.config.update({httpOptions:{agent:p}})}if(t==="db"&&(u=n?new o(s):new o),t==="doc"&&(u=n?new c(s):new c),t==="session"){let p=!process.env.SESSION_TABLE_NAME;u=n?new c(s):p?{get(d,f){f()},put(d,f){f()}}:new c}if(e)e(null,u);else return u}a(Rs,"getDynamo");zT.exports={db:Rs.bind({},"db"),doc:Rs.bind({},"doc"),session:Rs.bind({},"session"),direct:{db:Rs("db"),doc:Rs("doc")}}});var GT=m((CY,Rm)=>{"use strict";var xc=require("crypto"),Im=xc.randomBytes===xc.pseudoRandomBytes?1:3;Rm.exports=n6;Rm.exports.sync=r6;function n6(t,e){if(e!==void 0&&typeof e!="function")throw new TypeError("argument callback must be a function");if(!e&&!global.Promise)throw new TypeError("argument callback is required");return e?Pm(t,Im,e):new Promise(a(function(r,i){Pm(t,Im,a(function(o,c){if(o)return i(o);r(c)},"onRandomBytes"))},"executor"))}a(n6,"randomBytes");function r6(t){for(var e=null,n=0;n<Im;n++)try{return xc.randomBytes(t)}catch(r){e=r}throw e}a(r6,"randomBytesSync");function Pm(t,e,n){xc.randomBytes(t,a(function(i,s){if(!i)return n(null,s);if(!--e)return n(i);setTimeout(Pm.bind(null,t,e,n),10)},"onRandomBytes"))}a(Pm,"generateRandomBytes")});var jm=m((IY,Am)=>{"use strict";var YT=GT(),i6=/=+$/,s6=/\+/g,a6=/\//g;Am.exports=o6;Am.exports.sync=c6;function o6(t,e){if(e!==void 0&&typeof e!="function")throw new TypeError("argument callback must be a function");if(!e&&!global.Promise)throw new TypeError("argument callback is required");return e?VT(t,e):new Promise(a(function(r,i){VT(t,a(function(o,c){if(o)return i(o);r(c)},"onUid"))},"executor"))}a(o6,"uid");function c6(t){return XT(YT.sync(t))}a(c6,"uidSync");function VT(t,e){YT(t,function(n,r){if(n)return e(n);e(null,XT(r))})}a(VT,"generateUid");function XT(t){return t.toString("base64").replace(i6,"").replace(s6,"-").replace(a6,"_")}a(XT,"toString")});var Nm=m((PY,ZT)=>{ZT.exports=a(function(){return Date.now()/1e3+604800},"_weekFromNow")});var tO=m((or,eO)=>{var QT=require("assert"),u6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",p6="abcdefghijklmnopqrstuvwxyz0123456789",l6="0123456789";or=eO.exports=Sc(u6);or.base62=or;or.base36=Sc(p6);or.base10=Sc(l6);or.create=Sc;function Sc(t){QT(typeof t=="string","the list of characters must be a string!");var e=Buffer.byteLength(t);return a(function(r){r=r||10,QT(typeof r=="number"&&r>=0,"the length of the random string must be a number!");for(var i="",s=0;s<r;s++)i+=t[Math.floor(e*Math.random())];return i},"rndm")}a(Sc,"create")});var rO=m((RY,nO)=>{"use strict";var As=require("crypto");function d6(t,e){if(t.length!==e.length)return!1;if(As.timingSafeEqual)return As.timingSafeEqual(t,e);for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}a(d6,"bufferEqual");function f6(t,e){var n=String(t),r=String(e),i=As.pseudoRandomBytes(32),s=As.createHmac("sha256",i).update(n).digest(),o=As.createHmac("sha256",i).update(r).digest();return d6(s,o)&&t===e}a(f6,"timeSafeCompare");nO.exports=f6});var aO=m((AY,sO)=>{"use strict";var m6=tO(),iO=jm(),h6=rO(),v6=require("crypto"),g6=/=/g,y6=/\+/g,_6=/\//g;sO.exports=Cn;function Cn(t){if(!(this instanceof Cn))return new Cn(t);var e=t||{},n=e.saltLength!==void 0?e.saltLength:8;if(typeof n!="number"||!isFinite(n)||n<1)throw new TypeError("option saltLength must be finite number > 1");var r=e.secretLength!==void 0?e.secretLength:18;if(typeof r!="number"||!isFinite(r)||r<1)throw new TypeError("option secretLength must be finite number > 1");this.saltLength=n,this.secretLength=r}a(Cn,"Tokens");Cn.prototype.create=a(function(e){if(!e||typeof e!="string")throw new TypeError("argument secret is required");return this._tokenize(e,m6(this.saltLength))},"create");Cn.prototype.secret=a(function(e){return iO(this.secretLength,e)},"secret");Cn.prototype.secretSync=a(function(){return iO.sync(this.secretLength)},"secretSync");Cn.prototype._tokenize=a(function(e,n){return n+"-"+b6(n+"-"+e)},"tokenize");Cn.prototype.verify=a(function(e,n){if(!e||typeof e!="string"||!n||typeof n!="string")return!1;var r=n.indexOf("-");if(r===-1)return!1;var i=n.substr(0,r),s=this._tokenize(e,i);return h6(n,s)},"verify");function b6(t){return v6.createHash("sha1").update(t,"ascii").digest("base64").replace(y6,"-").replace(_6,"_").replace(g6,"")}a(b6,"hash")});var uO=m((jY,cO)=>{var oO;cO.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):t=>(oO||(oO=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var cr=m((NY,pO)=>{pO.exports=S6;var x6=uO();function S6(t,e){let n,r,i,s=!0;Array.isArray(t)?(n=[],r=t.length):(i=Object.keys(t),n={},r=i.length);function o(u){function p(){e&&e(u,n),e=null}a(p,"end"),s?x6(p):p()}a(o,"done");function c(u,p,l){n[u]=l,(--r==0||p)&&o(p)}a(c,"each"),r?i?i.forEach(function(u){t[u](function(p,l){c(u,p,l)})}):t.forEach(function(u,p){u(function(l,d){c(p,l,d)})}):o(null),s=!1}a(S6,"runParallel")});var Mm=m((MY,lO)=>{var E6=jm(),w6=Nm(),T6=yi().session,O6=aO(),k6=cr();lO.exports=a(function(e,n,r){k6([a(function(s){E6(18,a(function(c,u){c?s(c):s(null,{_idx:u})},"_uid"))},"_key"),a(function(s){new O6().secret(a(function(c,u){c?s(c):s(null,{_secret:u})},"_uid"))},"_secret")],a(function(s,o){if(s)throw s;o.push({_ttl:w6()});let c=o.reduce((p,l)=>Object.assign(p,l)),u=Object.assign(n,c);T6(a(function(l,d){l?r(l):d.put({TableName:e,Item:u},a(function(h){h?r(h):r(null,u)},"_create"))},"_gotDB"))},"_put"))},"_create")});var fO=m((BY,dO)=>{var q6=yi().session,C6=Mm();dO.exports=a(function(e,n,r){q6(a(function(s,o){s?r(s):o.get({TableName:e,ConsistentRead:!0,Key:{_idx:n}},a(function(u,p){if(u)r(u);else{let l=typeof p=="undefined"?!1:p.Item;l&&l._secret?r(null,l):C6(e,{},r)}},"_get"))},"_gotDB"))},"_find")});var hO=m((DY,mO)=>{var I6=yi().session,P6=Nm();mO.exports=a(function(e,n,r){let i=P6(),s=Object.assign(n,{_ttl:i});I6(a(function(c,u){c?r(c):u.put({TableName:e,Item:s},a(function(l){l?r(l):r(null,s)},"_create"))},"_gotDB"))},"_update")});var Bm=m((KY,yO)=>{var vO=Em(),R6=xm(),{unsign:A6,sign:j6}=WT(),N6=fO(),M6=Mm(),B6=hO();yO.exports={read:D6,write:K6};function D6(t,e){let n;e||(n=new Promise(function(d,f){e=a(function(h,v){h?f(h):d(v)},"callback")}));let r=process.env.SESSION_TABLE_NAME||gO("arc-sessions"),i=process.env.ARC_APP_SECRET||process.env.ARC_APP_NAME||"fallback",s=t.headers&&(t.headers.Cookie||t.headers.cookie);!s&&t.cookies&&(s=t.cookies.join(";"));let o=R6(s),c=vO.parse(o)._idx,u=A6(c||"",i);return(c&&u?N6.bind({},r):M6.bind({},r))(c&&u?u:{},e),n}a(D6,"read");function K6(t,e){let n;e||(n=new Promise(function(s,o){e=a(function(c,u){c?o(c):s(u)},"callback")}));let r=process.env.SESSION_TABLE_NAME||gO("arc-sessions"),i=process.env.ARC_APP_SECRET||process.env.ARC_APP_NAME||"fallback";return B6(r,t,a(function(o){if(o)e(o);else{let c=process.env.SESSION_TTL||7884e5,u={maxAge:c,expires:new Date(Date.now()+c*1e3),secure:!0,httpOnly:!0,path:"/",sameSite:"lax"};process.env.SESSION_DOMAIN&&(u.domain=process.env.SESSION_DOMAIN),process.env.NODE_ENV==="testing"&&delete u.secure;let p=vO.serialize("_idx",j6(t._idx,i),u);e(null,p)}},"_update")),n}a(K6,"write");function gO(t){let e=process.env.NODE_ENV==="production"?"production":"staging";return`${process.env.ARC_APP_NAME}-${e}-${t}`}a(gO,"tableLogicalId")});var Ec=m((FY,_O)=>{var F6=Cm(),L6=Bm();_O.exports=a(function(e,n){return process.env.SESSION_TABLE_NAME==="jwe"?F6.read(e,n):L6.read(e,n)},"read")});var wc=m((LY,bO)=>{var H6=Cm(),U6=Bm();bO.exports=a(function(e,n){return process.env.SESSION_TABLE_NAME==="jwe"?H6.write(e,n):U6.write(e,n)},"write")});var Tc=m((HY,xO)=>{var $6=require("querystring");xO.exports=a(function(e){let n=e.headers["Content-Type"]||e.headers["content-type"];if(!e.body||!e.headers||!n||!Object.getOwnPropertyNames(e.body).length)return e.body;{let i=JSON.parse(JSON.stringify(e)),s=i.headers,o=a(v=>s&&s["Content-Type"]&&s["Content-Type"].includes(v)||s&&s["content-type"]&&s["content-type"].includes(v),"contentType"),c=typeof i.body=="string",u=i.isBase64Encoded,p=c&&u,l=(o("application/json")||o("application/vnd.api+json"))&&c,d=o("application/x-www-form-urlencoded")&&p,f=o("multipart/form-data")&&p,h=o("application/octet-stream")&&p;if(l)try{let v=u?Buffer.from(i.body,"base64").toString():i.body;i.body=JSON.parse(v)||{}}catch(v){throw Error("Invalid request body encoding or invalid JSON")}if(d){let v=new Buffer.from(i.body,"base64").toString();i.body=$6.parse(v)}return(f||h)&&(i.body=i.body.base64?i.body:{base64:i.body}),i.body}},"parseBody")});var Oc=m((UY,SO)=>{SO.exports=a(function(e){if(e.version&&e.version==="2.0"){let{requestContext:i}=e;i&&i.http&&i.http.method&&(e.httpMethod=i.http.method),["body","pathParameters","queryStringParameters"].forEach(o=>{e[o]===void 0&&(e[o]={})}),e.resource=e.routeKey.split(" ")[1]||e.routeKey,e.path=e.rawPath}["body","pathParameters","queryStringParameters","multiValueQueryStringParameters"].forEach(i=>{e[i]===null&&(e[i]={})}),e.method||(e.method=e.httpMethod),e.params||(e.params=e.pathParameters),e.query||(e.query=e.queryStringParameters);let r=/\{\w+\}/g;if(r.test(e.path)){let i=e.path.match(r),s=i.map(c=>c.replace(/\{|\}/g,"")),o=0;i.forEach(c=>{e.path=e.path.replace(c,e.params[s[o]]),o+=1})}return e},"interpolateParams")});var _i=m(($Y,wO)=>{wO.exports={httpError:EO,proxyConfig:J6()};function J6(){return EO({title:"Index not found",message:`No static asset bucket or <code>get /</code> function found in your project. Possible solutions:<br?
<ul>
  <li>Add <code>@static</code> to your project manifest</li>
  <li>Add <code>get /</code> to the <code>@http</code> pragma of your project manifest</li>
  <li>Manually specify an S3 bucket (containing an <code>index.html</code> file) with the <code>ARC_STATIC_BUCKET</code> env var</li>
  <li>If using <code>arc.http.proxy</code>, pass in a valid config object</li>
</ul>
<a href="https://arc.codes/primitives/static" target="_blank">Learn more</a>`})}a(J6,"proxyConfig");function EO({statusCode:t=502,title:e="Unknown error",message:n=""}){return e=e==="Error"?`${t} error`:`${t} error: ${e}`,{statusCode:t,headers:{"Content-Type":"text/html; charset=utf8;","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"},body:`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>${e}</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    }
    code {
      font-size: 1.25rem;
      color: #00c26e;
    }
    .max-width-320 {
      max-width: 20rem;
    }
    .margin-left-8 {
      margin-left: 0.5rem;
    }
    .margin-bottom-16 {
      margin-bottom: 1rem;
    }
    .margin-bottom-8 {
      margin-bottom: 0.5rem;
    }
    .padding-32 {
      padding: 2rem;
    }
    .padding-top-16 {
      padding-top: 1rem;
    }
    a, a:hover {
      color: #333;
    }
    p, li {
      padding-bottom: 0.5rem;
    }
  </style>
</head>
<body class="padding-32">
  <div>
    <div class="margin-left-8">
      <div class="margin-bottom-16">
        <h1 class="margin-bottom-16">
          ${e}
        </h1>
        <p>
          ${n}
        </p>
      </div>
      <div class="padding-top-16">
        <p>
          View Architect documentation at:
        </p>
        <a href="https://arc.codes">https://arc.codes</a>
      </div>
    </div>
  </div>
</body>
</html>
`}}a(EO,"httpError")});var kc=m((JY,TO)=>{TO.exports=["application/octet-stream","application/epub+zip","application/msword","application/pdf","application/rtf","application/vnd.amazon.ebook","application/vnd.ms-excel","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","font/otf","font/woff","font/woff2","image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/vnd.microsoft.icon","image/webp","audio/3gpp","audio/aac","audio/basic","audio/mpeg","audio/ogg","audio/wavaudio/webm","audio/x-aiff","audio/x-midi","audio/x-wav","video/3gpp","video/mp2t","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-msvideo","application/java-archive","application/vnd.apple.installer+xml","application/x-7z-compressed","application/x-apple-diskimage","application/x-bzip","application/x-bzip2","application/x-gzip","application/x-java-archive","application/x-rar-compressed","application/x-tar","application/x-zip","application/zip"]});var Dm=m((WY,OO)=>{var{httpError:W6}=_i(),z6=kc();OO.exports=a(function(e,n){if(e.version&&e.version==="2.0"){let T=["statusCode","body","headers","isBase64Encoded","cookies"],D=a(Ue=>T.some(nn=>nn===Ue),"hasKnownParams"),H=["code","cookie","cors","location","session","status"],B=a(Ue=>H.some(nn=>nn===Ue),"hasTidyParams"),Ie=["html","css","js","text","json","xml"],G=a(Ue=>Ie.some(nn=>nn===Ue),"isStaticallyBound"),Te=a(Ue=>typeof n===Ue,"is");Te("object")&&n!==null&&!Array.isArray(n)&&Object.keys.length===1&&(Object.keys(n).some(D)||Object.keys(n).some(B)||Object.keys(n).some(G))||(Te("number")||Te("object")&&n!==null||Te("string")&&n||Array.isArray(n)||n instanceof Buffer?n={body:JSON.stringify(n)}:n||(n={}))}let r=n instanceof Error,i,s=n.body&&n.body instanceof Buffer;s&&(i=n.body),r||(n=JSON.parse(JSON.stringify(n))),s&&(n.body=i);let o=n.body||"",c=n.cacheControl||n.headers&&n.headers["Cache-Control"]||n.headers&&n.headers["cache-control"]||"";n.headers&&n.headers["cache-control"]&&delete n.headers["cache-control"];let u=n.type||n.headers&&n.headers["Content-Type"]||n.headers&&n.headers["content-type"]||"application/json; charset=utf8";n.headers&&n.headers["content-type"]&&delete n.headers["content-type"];let p=n.cors;n.html?(u="text/html; charset=utf8",o=n.html):n.css?(u="text/css; charset=utf8",o=n.css):n.js?(u="text/javascript; charset=utf8",o=n.js):n.text?(u="text/plain; charset=utf8",o=n.text):n.json?(u="application/json; charset=utf8",o=JSON.stringify(n.json)):n.xml&&(u="application/xml; charset=utf8",o=n.xml);let l=n.status||n.code||n.statusCode,d=l||200,f={headers:Object.assign({},{"Content-Type":u},n.headers||{}),statusCode:d,body:o};if(n.multiValueHeaders&&(f.multiValueHeaders=n.multiValueHeaders),n.cookies&&(f.cookies=n.cookies),r){let T=l||500,D=n.name,H=`
      ${n.message}<br>
      <pre>${n.stack}<pre>
    `;f=W6({statusCode:T,title:D,message:H})}let h=!process.env.ARC_CLOUDFORMATION,v=!process.env.ARC_HTTP||process.env.ARC_HTTP==="aws",g=h&&v,y=!e.resource||e.resource&&e.resource!=="/{proxy+}";g&&y&&(f.type=u);let _=f.headers;c&&(_["Cache-Control"]=c);let x=u.includes("text/html")||u.includes("application/json")||u.includes("application/vnd.api+json");_&&!_["Cache-Control"]&&x?_["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0, s-maxage=0":_&&!_["Cache-Control"]&&(_["Cache-Control"]="max-age=86400"),p&&(_["Access-Control-Allow-Origin"]="*"),n.isBase64Encoded&&(f.isBase64Encoded=!0),n.location&&(f.statusCode=l||302,f.headers.Location=n.location);let S=z6.some(T=>f.headers["Content-Type"].includes(T)),E=typeof f.body=="string",w=a(T=>new Buffer.from(T).toString("base64"),"b64enc");return s&&(f.body=w(f.body),f.isBase64Encoded=!0),E&&S&&(f.isBase64Encoded=!0),f},"responseFormatter")});var qO=m((zY,kO)=>{var G6=Ec(),Y6=wc(),V6=Tc(),X6=Oc(),Z6=Dm();kO.exports=a(function(...e){return e.forEach(n=>{if(typeof n!="function")throw TypeError(n+" not a function")}),a(function(r,i,s){r.headers||(r.headers={});let o=e.slice();G6(r,a(function(u,p){if(u)throw u;let l=X6(Object.assign({},r,{session:p}));l.body=V6(l);let d=Q6.bind({},l,s);a(function f(h){function v(){throw Error("next() called from last function")}a(v,"fail");let g=f.bind({},o.shift()||v);h.call({},l,d,g)},"iterator")(o.shift())},"_read"))},"lambda")},"http");function Q6(t,e,n){let r=Z6(t,n);if(n&&n.cookie&&(r.headers["Set-Cookie"]=n.cookie),n&&n.session){let{_idx:i,_secret:s,_ttl:o}=t.session,c=b({_idx:i,_secret:s,_ttl:o},n.session);Y6(c,a(function(p,l){p?e(p):(r.headers["Set-Cookie"]=l,e(null,r))},"_write"))}else e(null,r)}a(Q6,"response")});var Km=m((GY,CO)=>{var{readFileSync:e4,existsSync:t4}=require("fs"),{join:n4}=require("path");CO.exports=a(function(e,n={}){let r=e[0]==="/"?e.substring(1):e,i=e==="/",s=n4(process.cwd(),"node_modules","@architect","shared","static.json"),o=t4(s),c=process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL,p=`${n.stagePath&&!c?"/"+process.env.NODE_ENV:""}/_static`;if(!c&&o&&!i){let l=a(h=>e4(h).toString(),"read"),f=JSON.parse(l(s))[r];if(!f)throw ReferenceError(`Could not find asset in static.json (asset fingerprint manifest): ${r}`);return`${p}/${f}`}return`${p}/${i?"":r}`},"_static")});var PO=m((YY,IO)=>{IO.exports=a(function t(t){let e=process.env.NODE_ENV==="staging",n=process.env.NODE_ENV==="production";return!process.env.ARC_LOCAL&&(e||n)?`/${process.env.NODE_ENV}${t}`:t},"url")});var AO=m((VY,RO)=>{var r4=Ec(),i4=wc(),s4=Tc(),a4=Oc(),o4=Dm();RO.exports=a(function(...e){e.forEach(r=>{if(typeof r!="function")throw TypeError(r+" not a function")});async function n(r,i){let s,o=!0;for(let u of e){if(o){o=!1;let d=await r4(r),f=a4(Object.assign({},r,{session:d}));f.body=s4(f),r=f}let p=await u(r,i);if(p&&p.httpMethod)r=p;else if(p){s=p;break}}let c=r.version&&r.version==="2.0";if(!s&&!c)throw new Error("Finished all functions without returning a response.");return c4(r,s)}return a(n,"combined"),n},"httpAsync");async function c4(t,e){let n=o4(t,e);if(e&&e.cookie&&(n.headers["Set-Cookie"]=e.cookie),e&&e.session){let{_idx:r,_secret:i,_ttl:s}=t.session,o=b({_idx:r,_secret:i,_ttl:s},e.session),c=await i4(o);n.headers["Set-Cookie"]=c}return n}a(c4,"response")});var MO=m((XY,NO)=>{"use strict";NO.exports=In;function In(t,e,n){return(!n||typeof n!="object")&&(n={}),n.hasOwnProperty("allowOverflow")||(n.allowOverflow=!0),e>In.maxNumber(t)&&!n.allowOverflow?!1:jO(t,e)}a(In,"binaryCase");In.iterator=function(t,e){let n=In.maxNumber(t);if((!e||typeof e!="object")&&(e={}),e.hasOwnProperty("startIndex")||(e.startIndex=0),typeof e.startIndex!="number"||!Number.isInteger(e.startIndex)||e.startIndex<0)throw Error("Option startIndex must be a non-negative integer.");let r=e.startIndex;return{next:function(){return r>n?{done:!0}:{done:!1,value:jO(t,r++)}}}};In.maxNumber=function(t){let e=t.match(/[a-z]/ig).length;return Math.pow(2,e)-1};In.variations=function(t){let e=[],n=In.maxNumber(t);for(let r=0;r<=n;r++)e.push(In(t,r));return e};function jO(t,e){let n="";for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=65&&i<=90?(n+=e&1?String.fromCharCode(i+32):String.fromCharCode(i),e>>>=1):i>=97&&i<=122?(n+=e&1?String.fromCharCode(i-32):String.fromCharCode(i),e>>>=1):n+=String.fromCharCode(i),e===0)return n+t.substr(r+1)}return n}a(jO,"getBinaryCase")});var FO=m(Fm=>{var BO=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,u4=/^[\u0020-\u007e\u0080-\u00ff]+$/,DO=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,p4=/\\([\u0000-\u007f])/g,l4=/([\\"])/g,d4=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,KO=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,f4=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;Fm.format=m4;Fm.parse=h4;function m4(t){if(!t||typeof t!="object")throw new TypeError("argument obj is required");var e=t.parameters,n=t.subtype,r=t.suffix,i=t.type;if(!i||!KO.test(i))throw new TypeError("invalid type");if(!n||!d4.test(n))throw new TypeError("invalid subtype");var s=i+"/"+n;if(r){if(!KO.test(r))throw new TypeError("invalid suffix");s+="+"+r}if(e&&typeof e=="object")for(var o,c=Object.keys(e).sort(),u=0;u<c.length;u++){if(o=c[u],!DO.test(o))throw new TypeError("invalid parameter name");s+="; "+o+"="+g4(e[o])}return s}a(m4,"format");function h4(t){if(!t)throw new TypeError("argument string is required");if(typeof t=="object"&&(t=v4(t)),typeof t!="string")throw new TypeError("argument string is required to be a string");var e=t.indexOf(";"),n=e!==-1?t.substr(0,e):t,r,i,s=y4(n),o={},c;for(BO.lastIndex=e;i=BO.exec(t);){if(i.index!==e)throw new TypeError("invalid parameter format");e+=i[0].length,r=i[1].toLowerCase(),c=i[2],c[0]==='"'&&(c=c.substr(1,c.length-2).replace(p4,"$1")),o[r]=c}if(e!==-1&&e!==t.length)throw new TypeError("invalid parameter format");return s.parameters=o,s}a(h4,"parse");function v4(t){if(typeof t.getHeader=="function")return t.getHeader("content-type");if(typeof t.headers=="object")return t.headers&&t.headers["content-type"]}a(v4,"getcontenttype");function g4(t){var e=String(t);if(DO.test(e))return e;if(e.length>0&&!u4.test(e))throw new TypeError("invalid parameter value");return'"'+e.replace(l4,"\\$1")+'"'}a(g4,"qstring");function y4(t){var e=f4.exec(t.toLowerCase());if(!e)throw new TypeError("invalid media type");var n=e[1],r=e[2],i,s=r.lastIndexOf("+");s!==-1&&(i=r.substr(s+1),r=r.substr(0,s));var o={type:n,subtype:r,suffix:i};return o}a(y4,"splitType")});var LO=m((QY,_4)=>{_4.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var UO=m((eV,HO)=>{HO.exports=LO()});var js=m(Ce=>{"use strict";var qc=UO(),b4=require("path").extname,$O=/^\s*([^;\s]*)(?:;|\s|$)/,x4=/^text\//i;Ce.charset=JO;Ce.charsets={lookup:JO};Ce.contentType=S4;Ce.extension=E4;Ce.extensions=Object.create(null);Ce.lookup=w4;Ce.types=Object.create(null);T4(Ce.extensions,Ce.types);function JO(t){if(!t||typeof t!="string")return!1;var e=$O.exec(t),n=e&&qc[e[1].toLowerCase()];return n&&n.charset?n.charset:e&&x4.test(e[1])?"UTF-8":!1}a(JO,"charset");function S4(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Ce.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var n=Ce.charset(e);n&&(e+="; charset="+n.toLowerCase())}return e}a(S4,"contentType");function E4(t){if(!t||typeof t!="string")return!1;var e=$O.exec(t),n=e&&Ce.extensions[e[1].toLowerCase()];return!n||!n.length?!1:n[0]}a(E4,"extension");function w4(t){if(!t||typeof t!="string")return!1;var e=b4("x."+t).toLowerCase().substr(1);return e&&Ce.types[e]||!1}a(w4,"lookup");function T4(t,e){var n=["nginx","apache",void 0,"iana"];Object.keys(qc).forEach(a(function(i){var s=qc[i],o=s.extensions;if(!(!o||!o.length)){t[i]=o;for(var c=0;c<o.length;c++){var u=o[c];if(e[u]){var p=n.indexOf(qc[e[u]].source),l=n.indexOf(s.source);if(e[u]!=="application/octet-stream"&&(p>l||p===l&&e[u].substr(0,12)==="application/"))continue}e[u]=i}}},"forEachMimeType"))}a(T4,"populateMaps")});var XO=m((nV,bi)=>{"use strict";var WO=FO(),O4=js();bi.exports=k4;bi.exports.is=zO;bi.exports.hasBody=GO;bi.exports.normalize=YO;bi.exports.match=VO;function zO(t,e){var n,r=e,i=C4(t);if(!i)return!1;if(r&&!Array.isArray(r))for(r=new Array(arguments.length-1),n=0;n<r.length;n++)r[n]=arguments[n+1];if(!r||!r.length)return i;var s;for(n=0;n<r.length;n++)if(VO(YO(s=r[n]),i))return s[0]==="+"||s.indexOf("*")!==-1?i:s;return!1}a(zO,"typeis");function GO(t){return t.headers["transfer-encoding"]!==void 0||!isNaN(t.headers["content-length"])}a(GO,"hasbody");function k4(t,e){var n=e;if(!GO(t))return null;if(arguments.length>2){n=new Array(arguments.length-1);for(var r=0;r<n.length;r++)n[r]=arguments[r+1]}var i=t.headers["content-type"];return zO(i,n)}a(k4,"typeofrequest");function YO(t){if(typeof t!="string")return!1;switch(t){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return t[0]==="+"?"*/*"+t:t.indexOf("/")===-1?O4.lookup(t):t}a(YO,"normalize");function VO(t,e){if(t===!1)return!1;var n=e.split("/"),r=t.split("/");return n.length!==2||r.length!==2||r[0]!=="*"&&r[0]!==n[0]?!1:r[1].substr(0,2)==="*+"?r[1].length<=n[1].length+1&&r[1].substr(1)===n[1].substr(1-r[1].length):!(r[1]!=="*"&&r[1]!==n[1])}a(VO,"mimeMatch");function q4(t){var e=WO.parse(t);return e.parameters=void 0,WO.format(e)}a(q4,"normalizeType");function C4(t){if(!t)return null;try{return q4(t)}catch(e){return null}}a(C4,"tryNormalizeType")});var o1=m(Qe=>{"use strict";var ZO=require("http"),I4=require("url"),P4=MO(),R4=XO();function QO(t){return I4.format({pathname:t.path,query:t.queryStringParameters})}a(QO,"getPathWithQueryStringParams");function e1(t){return Buffer.from(t.body,t.isBase64Encoded?"base64":"utf8")}a(e1,"getEventBody");function A4(t){return JSON.parse(JSON.stringify(t))}a(A4,"clone");function j4(t){return t.contentTypeHeader?t.contentTypeHeader.split(";")[0]:""}a(j4,"getContentType");function N4(t){return t.binaryMimeTypes.length>0&&!!R4.is(t.contentType,t.binaryMimeTypes)}a(N4,"isContentTypeBinaryMimeType");function t1(t,e,n){let r=Object.assign({},t.headers);if(t.body&&!r["Content-Length"]){let s=e1(t);r["Content-Length"]=Buffer.byteLength(s)}let i=A4(t);return delete i.body,r["x-apigateway-event"]=encodeURIComponent(JSON.stringify(i)),r["x-apigateway-context"]=encodeURIComponent(JSON.stringify(e)),{method:t.httpMethod,path:QO(t),headers:r,socketPath:n}}a(t1,"mapApiGatewayEventToHttpRequest");function n1(t,e,n){let r=[];e.on("data",i=>r.push(i)).on("end",()=>{let i=Buffer.concat(r),s=e.statusCode,o=e.headers;o["transfer-encoding"]==="chunked"&&delete o["transfer-encoding"],Object.keys(o).forEach(d=>{Array.isArray(o[d])&&(d.toLowerCase()==="set-cookie"?(o[d].forEach((f,h)=>{o[P4(d,h+1)]=f}),delete o[d]):o[d]=o[d].join(","))});let c=j4({contentTypeHeader:o["content-type"]}),u=N4({contentType:c,binaryMimeTypes:t._binaryTypes}),p=i.toString(u?"base64":"utf8"),l={statusCode:s,body:p,headers:o,isBase64Encoded:u};n.succeed({response:l})})}a(n1,"forwardResponseToApiGateway");function r1(t,e){console.log("ERROR: @vendia/serverless-express connection error"),console.error(t);let n={statusCode:502,body:"",headers:{}};e.succeed({response:n})}a(r1,"forwardConnectionErrorResponseToApiGateway");function i1(t,e){console.log("ERROR: @vendia/serverless-express error"),console.error(t);let n={statusCode:500,body:"",headers:{}};e.succeed({response:n})}a(i1,"forwardLibraryErrorResponseToApiGateway");function Cc(t,e,n,r){try{let i=t1(e,n,Pc(t._socketPathSuffix)),s=ZO.request(i,o=>n1(t,o,r));if(e.body){let o=e1(e);s.write(o)}s.on("error",o=>r1(o,r)).end()}catch(i){return i1(i,r),t}}a(Cc,"forwardRequestToNodeServer");function Ic(t){return t.listen(Pc(t._socketPathSuffix))}a(Ic,"startServer");function Pc(t){return/^win/.test(process.platform)?require("path").join("\\\\?\\pipe",process.cwd(),`server-${t}`):`/tmp/server-${t}.sock`}a(Pc,"getSocketPath");function s1(){return Math.random().toString(36).substring(2,15)}a(s1,"getRandomString");function M4(t,e,n){let r=ZO.createServer(t);return r._socketPathSuffix=s1(),r._binaryTypes=n?n.slice():[],r.on("listening",()=>{r._isListening=!0,e&&e()}),r.on("close",()=>{r._isListening=!1}).on("error",i=>{if(i.code==="EADDRINUSE")return console.warn(`WARNING: Attempting to listen on socket ${Pc(r._socketPathSuffix)}, but it is already in use. This is likely as a result of a previous invocation error or timeout. Check the logs for the invocation(s) immediately prior to this for root cause, and consider increasing the timeout and/or cpu/memory allocation if this is purely as a result of a timeout. @vendia/serverless-express will restart the Node.js server listening on a new port and continue with this request.`),r._socketPathSuffix=s1(),r.close(()=>Ic(r));console.log("ERROR: server error"),console.error(i)}),r}a(M4,"createServer");function a1(t,e,n,r,i){if(!r){let s=Lm({context:n,resolutionMode:"CONTEXT_SUCCEED"});return t._isListening?(Cc(t,e,n,s),t):Ic(t).on("listening",()=>a1(t,e,n))}return{promise:new Promise((s,o)=>{let u=Lm({context:n,callback:i,promise:{resolve:s,reject:o},resolutionMode:r});t._isListening?Cc(t,e,n,u):Ic(t).on("listening",()=>Cc(t,e,n,u))})}}a(a1,"proxy");function Lm(t){return{succeed:e=>{if(t.resolutionMode==="CONTEXT_SUCCEED")return t.context.succeed(e.response);if(t.resolutionMode==="CALLBACK")return t.callback(null,e.response);if(t.resolutionMode==="PROMISE")return t.promise.resolve(e.response)}}}a(Lm,"makeResolver");Qe.createServer=M4;Qe.proxy=a1;process.env.NODE_ENV==="test"&&(Qe.getPathWithQueryStringParams=QO,Qe.mapApiGatewayEventToHttpRequest=t1,Qe.forwardResponseToApiGateway=n1,Qe.forwardConnectionErrorResponseToApiGateway=r1,Qe.forwardLibraryErrorResponseToApiGateway=i1,Qe.forwardRequestToNodeServer=Cc,Qe.startServer=Ic,Qe.getSocketPath=Pc,Qe.makeResolver=Lm)});var u1=m((iV,c1)=>{"use strict";c1.exports=o1()});var p1=m(et=>{var mt=u1();et.createServer=mt.createServer;et.proxy=mt.proxy;process.env.NODE_ENV==="test"&&(et.getPathWithQueryStringParams=mt.getPathWithQueryStringParams,et.mapApiGatewayEventToHttpRequest=mt.mapApiGatewayEventToHttpRequest,et.forwardResponseToApiGateway=mt.forwardResponseToApiGateway,et.forwardConnectionErrorResponseToApiGateway=mt.forwardConnectionErrorResponseToApiGateway,et.forwardLibraryErrorResponseToApiGateway=mt.forwardLibraryErrorResponseToApiGateway,et.forwardRequestToNodeServer=mt.forwardRequestToNodeServer,et.startServer=mt.startServer,et.getSocketPath=mt.getSocketPath,et.makeResolver=mt.makeResolver)});var d1=m((aV,l1)=>{"use strict";l1.exports=p1()});var m1=m((oV,f1)=>{var Hm=d1();f1.exports=a(function(e){let n=Hm.createServer(e);return a(function(i,s,o){return process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?Hm.proxy(n,i,s,"CALLBACK",o):Hm.proxy(n,i,s)},"http")},"unexpress")});var Um=m((cV,h1)=>{h1.exports=a(function({Key:e,config:n,isBinary:r,defaults:i}){let s=e.split(".").pop(),o=n.plugins?n.plugins[s]||[]:[];return o.length===0||r?i:(i.body=i.body.toString(),o.reduce(a(function(u,p){return(typeof p=="function"?p:require(p))(e,u,n)},"run"),i))},"transform")});var $m=m((uV,v1)=>{v1.exports=a(function(e){let{isBinary:n,assets:r,response:i,isLocal:s=!1}=e;if(n)return i;{let o=/\${(STATIC|arc\.static)\(.*\)}/g,c=i.body instanceof Buffer?i.body.toString():i.body;return i.body=c.replace(o,a(function(p){let l=p.startsWith("${STATIC(")?10:14,d=p.slice(l,p.length-3),f=d.startsWith("/"),h=f?d.substr(1):d;return r&&r[h]&&!s&&(d=r[h],d=f?`/${d}`:d),d},"fingerprint")),i.body=Buffer.from(i.body),i}},"templatizeResponse")});var Jm=m((pV,y1)=>{var{gzipSync:B4,gunzipSync:D4,brotliCompressSync:K4,brotliDecompressSync:F4,deflateSync:L4,inflateSync:H4}=require("zlib");function g1(t,e,n){let r=t==="compress",i={gzip:r?B4:D4,br:r?K4:F4,deflate:r?L4:H4};if(!i[e])throw ReferenceError("Invalid compression type specified, must be gzip, br, or deflate");return i[e](n)}a(g1,"compressor");y1.exports={compress:g1.bind({},"compress"),decompress:g1.bind({},"decompress")}});var Wm=m((lV,_1)=>{var U4=js(),$4=require("path"),{compress:J4}=Jm();_1.exports=a(function(e){let{response:n,result:r,Key:i,isProxy:s,contentEncoding:o,config:c}=e,u=["text/html","application/json","application/vnd.api+json"];n.headers=n.headers||{};let p=n.headers["Content-Type"]||n.headers["content-type"]||r&&r.ContentType||U4.contentType($4.extname(i));n.headers["Content-Type"]=p;let l=u.some(g=>p.includes(g));c.cacheControl?n.headers["Cache-Control"]=c.cacheControl:l?n.headers["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0, s-maxage=0":r&&r.CacheControl?n.headers["Cache-Control"]=r.CacheControl:n.headers["Cache-Control"]="public, max-age=0, must-revalidate",c.headers&&Object.keys(c.headers).forEach(g=>n.headers[g]=c.headers[g]),n.headers["content-type"]&&(n.headers["Content-Type"]=n.headers["content-type"],delete n.headers["content-type"]),n.headers["cache-control"]&&(n.headers["Cache-Control"]=n.headers["cache-control"],delete n.headers["cache-control"]);let d=!process.env.ARC_CLOUDFORMATION,f=!process.env.ARC_HTTP||process.env.ARC_HTTP==="aws",h=d&&f,v=n.headers["Content-Type"].includes("text/html");return h&&v&&!s?(n.body=Buffer.from(n.body).toString(),n.type=n.headers["Content-Type"]):(o&&(n.body=J4(o,n.body),n.headers["Content-Encoding"]=o),n.body=Buffer.from(n.body).toString("base64"),n.isBase64Encoded=!0),n.headers.ETag=r.ETag,n},"normalizeResponse")});var zm=m((dV,b1)=>{var W4=require("aws-sdk"),{existsSync:z4,readFileSync:G4}=require("fs"),{join:Y4}=require("path"),{httpError:V4}=_i();b1.exports=a(async function(e){let{Bucket:n,Key:r,assets:i,headers:s,isFolder:o,prefix:c}=e,{ARC_LOCAL:u,ARC_SANDBOX_PATH_TO_STATIC:p,NODE_ENV:l}=process.env,d=l==="testing"||u,f=new W4.S3;function h(S){let E=S.replace(c+"/","");return i&&i[E]&&(S=i[E],S=c?`${c}/${S}`:S),S}a(h,"getKey");async function v(S){let E=p;if(S.startsWith(E)||(S=Y4(E,S)),z4(S))return{Body:G4(S)};{let w=ReferenceError(`NoSuchKey: ${r} not found`);throw w.name="NoSuchKey",w}}a(v,"getLocal");async function g(S){return await f.getObject({Bucket:n,Key:S}).promise()}a(g,"getS3");async function y(S){let E=d?v:g;try{return await E(S)}catch(w){return w.name==="NoSuchKey"?(w.statusCode=404,w):(w.statusCode=500,w)}}if(a(y,"get"),o&&!r.endsWith("/")){let S=h(`${r}/index.html`),E=await y(S);if(E.Body){let w=E.Body.toString();return{headers:s,statusCode:200,body:w}}}let _=h("404.html"),x=await y(_);if(x.Body){let S=x.Body.toString();return{headers:{"Content-Type":"text/html; charset=utf8;","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"},statusCode:404,body:S}}else{let S=x,{statusCode:E}=S,w=S.name,T=`
      ${S.message} <pre><b>${r}</b></pre><br>
      <pre>${S.stack}</pre>
    `;return V4({statusCode:E,title:w,message:T})}},"pretty")});var T1=m((fV,w1)=>{var{existsSync:x1,readFileSync:S1}=require("fs"),{extname:X4,join:Gm,sep:Z4}=require("path"),Q4=js(),e$=require("crypto"),t$=kc(),{httpError:n$}=_i(),r$=Um(),i$=$m(),s$=Wm(),E1=zm();w1.exports=a(async function(e){let{ARC_SANDBOX_PATH_TO_STATIC:n,ARC_STATIC_PREFIX:r,ARC_STATIC_FOLDER:i}=process.env,{Key:s,IfNoneMatch:o,isFolder:c,isProxy:u,config:p}=e,l={},d={},f,h=n||Gm(process.cwd(),"..","..","..","public"),v=Gm(h,"static.json");x1(v)&&(f=JSON.parse(S1(v)));let g=p.assets||f,y=Gm(h,s),_=r||i;y.includes(_)&&(y=y.replace(`${_}${Z4}`,""));try{let x=!1,S=Q4.contentType(X4(s));if(!x1(y))return await E1({Key:y,config:p,isFolder:c});let E=S1(y),w=e$.createHash("sha256").update(E).digest("hex"),T={ContentType:S,ETag:w};if(o===w&&(x=!0,l.ETag=o,d={statusCode:304,headers:l}),!x){let D=t$.some(H=>T.ContentType.includes(H)||S.includes(H));d=r$({Key:s,config:p,isBinary:D,defaults:{headers:l,body:E}}),d=i$({isBinary:D,assets:g,response:d,isLocal:!0}),d=s$({response:d,result:T,Key:s,isProxy:u,config:p}),d.headers.ETag=T.ETag}return d.statusCode||(d.statusCode=200),d}catch(x){if(x.name==="NoSuchKey")return await E1({Key:y,config:p,isFolder:c});{let E=x.name,w=`
        ${x.message}<br>
        <pre>${x.stack}</pre>
      `;return n$({statusCode:500,title:E,message:w})}}},"readLocal")});var q1=m((mV,k1)=>{var{existsSync:a$,readFileSync:o$}=require("fs"),{extname:c$,join:u$}=require("path"),p$=js(),l$=require("aws-sdk"),d$=kc(),{httpError:f$}=_i(),m$=Um(),h$=$m(),v$=Wm(),g$=zm(),{decompress:y$}=Jm();k1.exports=a(async function(e){let{Bucket:n,Key:r,IfNoneMatch:i,isFolder:s,isProxy:o,config:c,rootPath:u}=e,{ARC_STATIC_PREFIX:p,ARC_STATIC_FOLDER:l}=process.env,d=p||l||c.bucket&&c.bucket.folder,f=c.assets||Ns,h={},v={};try{let g=!1,y=new l$.S3,_=p$.contentType(c$(r)),S=["text/html","application/json"].some(T=>_.includes(T));if(f&&f[r]&&S&&(r=f[r]),f&&f[r]&&!S){let T=u?`/${u}/_static/${f[r]}`:`/_static/${f[r]}`;return{statusCode:302,headers:{location:T,"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"}}}d&&(r=`${d}/${r}`);let E={Bucket:n,Key:r};i&&(E.IfNoneMatch=i);let w=await y.getObject(E).promise().catch(T=>{if(T.code==="NotModified")g=!0,h.ETag=i,v={statusCode:304,headers:h};else throw T});if(!g){let T=w.ContentEncoding;T&&(w.Body=y$(T,w.Body));let D=d$.some(H=>w.ContentType.includes(H)||_.includes(H));v=m$({Key:r,config:c,isBinary:D,defaults:{headers:h,body:w.Body}}),v=h$({isBinary:D,assets:f,response:v}),v=v$({response:v,result:w,Key:r,isProxy:o,contentEncoding:T,config:c})}return v.statusCode||(v.statusCode=200),v}catch(g){if(g.name==="NoSuchKey")return await g$({Bucket:n,Key:r,assets:f,headers:h,isFolder:s,prefix:d});{let _=g.name,x=`
        ${g.message}<br>
        <pre>${g.stack}</pre>
      `;return f$({statusCode:500,title:_,message:x})}}},"readS3");var Ns,O1=u$(process.cwd(),"node_modules","@architect","shared","static.json");Ns===!1||(a$(O1)&&!Ns?Ns=JSON.parse(o$(O1)):Ns=!1)});var I1=m((hV,C1)=>{var _$=T1(),b$=q1();function x$(){let{ARC_LOCAL:t,NODE_ENV:e}=process.env;return e==="testing"||t?_$:b$}a(x$,"read");C1.exports=x$()});var A1=m((vV,R1)=>{var P1=I1(),S$=_i();function E$(t={}){return a(async function(n){let{ARC_STATIC_BUCKET:r,ARC_STATIC_SPA:i,NODE_ENV:s}=process.env,o=n.version===void 0||n.version==="1.0",c=s==="production",u=o?n.path:n.rawPath,p=u.split("/").pop().indexOf(".")===-1,l,d=t.bucket,f=c?d&&d.production:d&&d.staging,h=r||f;if(!h)return S$.proxyConfig;let v=i==="false"?!1:t&&t.spa;if(v||(t.spa=!1),v)l=p?"index.html":u.substring(1);else{let w=u.split("/").filter(Boolean).pop(),T=w?w.includes("."):!1,D=u==="/";l=D?"index.html":u.substring(1),D===!1&&T===!1&&(l=`${l.replace(/\/$/,"")}/index.html`)}t&&t.alias&&t.alias[u]&&(l=t.alias[u].substring(1)),l.startsWith("staging/")&&(l=l.replace("staging/","")),l.startsWith("production/")&&(l=l.replace("production/",""));let y,_=n.requestContext&&n.requestContext.path;o&&_&&(_&&_.startsWith("/staging/")&&(y="staging"),_&&_.startsWith("/production/")&&(y="production"));let x=a(w=>w.toLowerCase()==="if-none-match","find"),S=n.headers&&n.headers[Object.keys(n.headers).find(x)],E=n.resource==="/{proxy+}"||!!n.rawPath;return await P1({Key:l,Bucket:h,IfNoneMatch:S,isFolder:p,isProxy:E,config:t,rootPath:y})},"httpProxy")}a(E$,"proxy");R1.exports={proxy:E$,read:P1}});var M1=m((gV,N1)=>{var tn=qO(),w$=Tc(),T$=Oc(),O$=Km(),k$=PO(),q$=Ec(),C$=wc(),j1=AO(),I$=m1(),Ym=A1();tn.helpers={bodyParser:w$,interpolate:T$,static:O$,url:k$};tn.session={read:q$,write:C$};tn.async=j1;tn.express=I$;tn.proxy=Ym.proxy;tn.proxy.public=Ym.proxy;tn.proxy.read=Ym.read;tn.middleware=j1;N1.exports=tn});var K1=m((yV,D1)=>{var B1=require("aws-sdk"),P$=require("http");D1.exports=a(function(e){let n=`/${process.env.ARC_CLOUDFORMATION}`,r=!0,i=[],s=process.env.NODE_ENV==="testing",o;if(s){let p=process.env.ARC_INTERNAL||3332,l=process.env.AWS_REGION||"us-west-2";o={endpoint:new B1.Endpoint(`http://localhost:${p}/_arc/ssm`),region:l,httpOptions:{agent:new P$.Agent}}}let c=new B1.SSM(o);function u(p){c.getParametersByPath(p,a(function(d,f){d?e(d):f.NextToken?(i=i.concat(f.Parameters),u({Path:n,Recursive:r,NextToken:f.NextToken})):(i=i.concat(f.Parameters),e(null,i.reduce((h,v)=>{let g=v.Name.split("/");g.shift(),g.shift();let y=g.shift();h[y]||(h[y]={});let _=h[y],x,S,E;for(;x=g.shift();)_[x]||(_[x]={}),E=_,_=_[x],S=x;return E[S]=v.Value,h},{})))},"done"))}a(u,"getParams"),u({Path:n,Recursive:r})},"lookup")});var L1=m((_V,F1)=>{var R$=require("http");F1.exports=a(function({id:e,payload:n},r){let i=process.env.PORT||3333,s=JSON.stringify({id:e,payload:n}),o=R$.request({method:"POST",port:i,path:"/__arc",headers:{"Content-Type":"application/json","Content-Length":Buffer.byteLength(s)}});o.on("error",r),o.on("close",()=>r()),o.write(s),o.end()},"send")});var U1=m((bV,H1)=>{var A$=require("aws-sdk");H1.exports=a(function({id:e,payload:n},r){let i,s=process.env.ARC_WSS_URL;s.startsWith("wss://")?i=`https://${s.replace("wss://","")}`:i=`https://${s}/${process.env.NODE_ENV}`,new A$.ApiGatewayManagementApi({apiVersion:"2018-11-29",endpoint:i}).postToConnection({ConnectionId:e,Data:JSON.stringify(n)},a(function(u){u?r(u):r()},"postToConnection"))},"send")});var J1=m((xV,$1)=>{var j$=L1(),N$=U1();$1.exports=a(function({id:e,payload:n},r){let i;return r||(i=new Promise(function(c,u){r=a(function(p,l){p?u(p):c(l)},"callback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?j$:N$)({id:e,payload:n},r),i},"send")});var Vm=m((SV,W1)=>{W1.exports=M$;function M$(t,e){var n=0,r=!0;function i(o,c){function u(){c=c?[].concat(o,c):[o],e&&e.apply(void 0,c)}a(u,"end"),r?process.nextTick(u):u()}a(i,"done");function s(o){var c=Array.prototype.slice.call(arguments,1);++n>=t.length||o?i(o,c):t[n].apply(void 0,[].concat(c,s))}a(s,"each"),t.length?t[0](s):i(null),r=!1}a(M$,"runWaterfall")});var G1=m((EV,z1)=>{var B$=cr();function Pn(t,e){return a(function(r,i){var s=r.Records.map(function(o){return a(function(u){var p=t.indexOf(o.eventName)>-1;p?e(o,u):u()},"__actualHandler")});B$(s,a(function(c,u){c?i.fail(c):i.succeed(u)},"__processedRecords"))},"__lambdaSignature")}a(Pn,"__trigger");z1.exports={insert:Pn.bind({},["INSERT"]),modify:Pn.bind({},["MODIFY"]),update:Pn.bind({},["MODIFY"]),remove:Pn.bind({},["REMOVE"]),destroy:Pn.bind({},["REMOVE"]),all:Pn.bind({},["INSERT","MODIFY","REMOVE"]),save:Pn.bind({},["INSERT","MODIFY"]),change:Pn.bind({},["INSERT","REMOVE"])}});var Xm=m((wV,Y1)=>{Y1.exports=a(function(e){var n={};return Object.keys(e).forEach(r=>{n[r]=D$(e[r])}),n},"pfy");function D$(t){return a(function(n,r){if(r)t(n,r);else return new Promise(function(i,s){t(n,function(o,c){o?s(o):i(c)})})},"_promisified")}a(D$,"promised")});var X1=m((TV,V1)=>{var K$=yi(),F$=Xm(),L$=cr();V1.exports=a(function(e,n){let{db:r,doc:i}=K$;L$({db:r,doc:i},a(function(o,{db:c,doc:u}){if(o)throw o;{let f=function(h){return F$({delete(v,g){let y={};y.TableName=h,y.Key=v,u.delete(y,g)},get(v,g){let y={};y.TableName=h,y.Key=v,u.get(y,a(function(x,S){x?g(x):g(null,S.Item)},"_get"))},put(v,g){let y={};y.TableName=h,y.Item=v,u.put(y,a(function(x){x?g(x):g(null,v)},"_put"))},query(v,g){v.TableName=h,u.query(v,g)},scan(v,g){v.TableName=h,u.scan(v,g)},update(v,g){v.TableName=h,u.update(v,g)}})};var p=f;a(f,"factory");let l=Object.keys(e).reduce((h,v)=>(h[v]=f(e[v]),h),{});Object.defineProperty(l,"_db",{enumerable:!1,value:c}),Object.defineProperty(l,"_doc",{enumerable:!1,value:u}),l.reflect=a(async function(){return e},"reflect");let d=a(h=>e[h],"_name");l.name=d,l._name=d,n(null,l)}},"done"))},"reflectFactory")});var Q1=m((OV,Z1)=>{var H$=Xm(),U$=cr(),$$=a(t=>!t.includes("-production-"),"stagingTables");function J$(t,e){return H$({delete(r,i){let s={};s.TableName=e,s.Key=r,t.delete(s,i)},get(r,i){let s={};s.TableName=e,s.Key=r,t.get(s,a(function(c,u){c?i(c):i(null,u.Item)},"_get"))},put(r,i){let s={};s.TableName=e,s.Item=r,t.put(s,a(function(c){c?i(c):i(null,r)},"_put"))},query(r,i){r.TableName=e,t.query(r,i)},scan(r,i){r.TableName=e,t.scan(r,i)},update(r,i){r.TableName=e,t.update(r,i)}})}a(J$,"client");Z1.exports=a(function(e,n){function r(i,s){if(i)return n(i);let o=s[0],c=s[1];o.listTables({},a(function(p,l){if(p)return n(p);let d=l.TableNames.filter($$),f={},h={};d.forEach(g=>{let y=g.replace(/.+-staging-/,"");h[y]=g,f[y]=J$(c,g)}),Object.defineProperty(f,"_db",{enumerable:!1,value:o}),Object.defineProperty(f,"_doc",{enumerable:!1,value:c}),f.reflect=async()=>h;let v=a(g=>h[g],"_name");f.name=v,f._name=v,n(null,f)},"listed"))}a(r,"done"),U$([e.db,e.doc],r)},"sandbox")});var tk=m((kV,ek)=>{var W$=Vm(),Rn=G1(),z$=X1(),G$=Q1(),Zm=yi(),Rc=!1;function Y$(t){function e(n){let r;return n||(r=new Promise(a(function(o,c){n=a(function(p,l){p?c(p):o(l)},"errback")},"ugh"))),process.env.NODE_ENV==="testing"?G$(Zm,n):Rc?n(null,Rc):W$([function(s){t.services().then(function(o){s(null,o.tables)}).catch(s)},z$,function(s,o){Rc=s,o(null,Rc)}],n),r}return a(e,"api"),e.doc=Zm.direct.doc,e.db=Zm.direct.db,e.insert=Rn.insert,e.modify=Rn.modify,e.update=Rn.update,e.remove=Rn.remove,e.destroy=Rn.destroy,e.all=Rn.all,e.save=Rn.save,e.change=Rn.change,e}a(Y$,"tables");ek.exports=Y$});var rk=m((qV,nk)=>{var V$=require("http"),X$=Vm(),Z$=require("aws-sdk");nk.exports=a(function(e,n){if(!e.name)throw ReferenceError("missing params.name");if(!e.payload)throw ReferenceError("missing params.payload");let r=`${process.env.ARC_APP_NAME}-${process.env.NODE_ENV}-${e.name}`,i=e.payload,s;if(n||(s=new Promise((c,u)=>{n=a(function(l,d){l?u(l):c(d)},"errback")})),process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL){let c=process.env.ARC_EVENTS_PORT||3334,u=V$.request({method:"POST",port:c,path:"/queues"},a(function(l){let d=[];l.resume(),l.on("data",f=>d.push(f)),l.on("end",()=>{let f=Buffer.concat(d).toString(),h=`${l.statusCode}`;h.startsWith(2)?n(null,f):n(Error(`${f} (${h})`))})},"done"));u.write(JSON.stringify(e)),u.end(`
`)}else{let c=new Z$.SQS;X$([a(function(p){c.getQueueUrl({QueueName:r},p)},"reads"),a(function(p,l){let d=p.QueueUrl,f=e.delaySeconds||0;c.sendMessage({QueueUrl:d,DelaySeconds:f,MessageBody:JSON.stringify(i)},l)},"publishes")],a(function(p,l){if(p)throw p;n(null,l)},"_published"))}return s},"_publish")});var sk=m((CV,ik)=>{var Q$=cr();ik.exports=a(function(e){return e.constructor.name==="AsyncFunction"?a(async function(r){return await Promise.all(r.Records.map(async i=>{try{let s=JSON.parse(i.body);return await e(s)}catch(s){throw console.log("Queue subscribe error:",s),s}}))},"lambda"):a(function(r,i,s){Q$(r.Records.map(a(function(c){return a(function(p){try{e(JSON.parse(c.body),p)}catch(l){p(l)}},"_actualHandler")},"_iterator")),s)},"_lambdaSignature")},"_subscribe")});var ok=m((IV,ak)=>{var eJ=require("http");ak.exports=a(function(e,n){let r=process.env.ARC_EVENTS_PORT||3334,i=eJ.request({method:"POST",port:r,path:"/queues"},a(function(o){let c=[];o.resume(),o.on("data",u=>c.push(u)),o.on("end",()=>{let u=Buffer.concat(c).toString(),p=`${o.statusCode}`;p.startsWith(2)?n(null,u):n(Error(`${u} (${p})`))})},"done"));i.write(JSON.stringify(e)),i.end(`
`)},"sandbox")});var uk=m((PV,ck)=>{var tJ=require("aws-sdk"),Ms={};ck.exports=a(function(e){return a(function({name:r,payload:i,delaySeconds:s,groupID:o},c){function u(d,f,h){let v=new tJ.SQS,g={QueueUrl:d,DelaySeconds:s||0,MessageBody:JSON.stringify(f)};d.endsWith(".fifo")&&(g.MessageGroupId=o||r),v.sendMessage(g,h)}a(u,"publish");function p(d){Ms=d.queues,Ms[r]?u(Ms[r],i,c):c(ReferenceError(`${r} queue not found`))}a(p,"cacheLedgerAndPublish"),Ms[r]?u(Ms[r],i,c):e.services().then(p).catch(c)},"live")},"liveFactory")});var lk=m((RV,pk)=>{var nJ=ok(),rJ=uk();pk.exports=a(function(e){let n=rJ(e);return a(function(i,s){if(!i.name)throw ReferenceError("missing params.name");if(!i.payload)throw ReferenceError("missing params.payload");let o;return s||(o=new Promise((p,l)=>{s=a(function(f,h){f?l(f):p(h)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?nJ:n)(i,s),o},"publish")},"publishFactory")});var fk=m((AV,dk)=>{var iJ=rk(),sJ=sk(),aJ=lk();dk.exports=a(function(e){let n=aJ(e);return{publish(r,i){return process.env.ARC_CLOUDFORMATION?n(r,i):iJ(r,i)},subscribe:sJ}},"queueFactory")});var gk=m((jV,vk)=>{var oJ=require("http"),mk=require("aws-sdk"),cJ=new mk.SNS,Ac={};function hk(t,e,n){cJ.publish({TopicArn:t,Message:JSON.stringify(e)},a(function(i,s){if(i)throw i;n(null,s)},"_published"))}a(hk,"__publish");vk.exports=a(function(e,n){if(!e.name)throw ReferenceError("missing params.name");if(!e.payload)throw ReferenceError("missing params.payload");let r;return n||(r=new Promise((o,c)=>{n=a(function(p,l){p?c(p):o(l)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?pJ:uJ)(e,n),r},"_publish");function uJ(t,e){let{name:n,payload:r}=t;if(Ac[n])hk(Ac[n],r,e);else{let o=`${t.app?t.app:process.env.ARC_APP_NAME}-${process.env.NODE_ENV}-${n}`;lJ({eventName:o},a(function(u,p){if(u)throw u;Ac[n]=p,hk(Ac[n],r,e)},"_scan"))}}a(uJ,"_live");function pJ(t,e){let n=process.env.ARC_EVENTS_PORT||3334,r=oJ.request({method:"POST",port:n,path:"/events"},a(function(s){let o=[];s.resume(),s.on("data",c=>o.push(c)),s.on("end",()=>{let c=Buffer.concat(o).toString(),u=`${s.statusCode}`;u.startsWith(2)?e(null,c):e(Error(`${c} (${u})`))})},"done"));r.write(JSON.stringify(t)),r.end(`
`)}a(pJ,"_local");function lJ({eventName:t},e){let n=new mk.SNS;a(function r(i={},s){n.listTopics(i,a(function(c,u){if(c)throw c;let p=u.Topics.find(l=>{let d=l.TopicArn.split(":");return d[d.length-1]===t});p?s(null,p.TopicArn):u.NextToken?setTimeout(()=>{r({NextToken:u.NextToken},s)},50):s(Error(`topic ${t} not found`))},"_listTopics"))},"__scanner")({},e)}a(lJ,"_scan")});var bk=m((NV,_k)=>{var dJ=cr(),yk={Records:[{Sns:{Message:JSON.stringify({})}}]};_k.exports=a(function(e){return e.constructor.name==="AsyncFunction"?a(async function(r){return r=r&&Object.keys(r).length?r:yk,await Promise.all(r.Records.map(async i=>{try{let s=JSON.parse(i.Sns.Message);return await e(s)}catch(s){throw console.log("Event subscribe error:",s),s}}))},"lambda"):a(function(r,i,s){r=r&&Object.keys(r).length?r:yk,dJ(r.Records.map(a(function(c){return a(function(p){try{e(JSON.parse(c.Sns.Message),p)}catch(l){p(l)}},"_actualHandler")},"_iterator")),s)},"_lambdaSignature")},"_subscribe")});var Sk=m((MV,xk)=>{var fJ=require("http");xk.exports=a(function(e,n){let r=process.env.ARC_EVENTS_PORT||3334,i=fJ.request({method:"POST",port:r,path:"/events"},a(function(o){let c=[];o.resume(),o.on("data",u=>c.push(u)),o.on("end",()=>{let u=Buffer.concat(c).toString(),p=`${o.statusCode}`;p.startsWith(2)?n(null,u):n(Error(`${u} (${p})`))})},"done"));i.write(JSON.stringify(e)),i.end(`
`)},"publishLocal")});var wk=m((BV,Ek)=>{var mJ=require("aws-sdk"),Bs={};Ek.exports=a(function(e){return a(function({name:r,payload:i},s){function o(p,l,d){new mJ.SNS().publish({TopicArn:p,Message:JSON.stringify(l)},d)}a(o,"publish");function c(p){Bs=p.events,Bs[r]?o(Bs[r],i,s):s(ReferenceError(`${r} event not found`))}a(c,"cacheLedgerAndPublish"),Bs[r]?o(Bs[r],i,s):e.services().then(c).catch(s)},"live")},"liveFactory")});var Ok=m((DV,Tk)=>{var hJ=Sk(),vJ=wk();Tk.exports=a(function(e){let n=vJ(e);return a(function(i,s){if(!i.name)throw ReferenceError("missing params.name");if(!i.payload)throw ReferenceError("missing params.payload");let o;return s||(o=new Promise((p,l)=>{s=a(function(f,h){f?l(f):p(h)},"errback")})),(process.env.NODE_ENV==="testing"||process.env.ARC_LOCAL?hJ:n)(i,s),o},"publish")},"publishFactory")});var qk=m((KV,kk)=>{var gJ=gk(),yJ=bk(),_J=Ok();kk.exports=a(function(e){let n=_J(e);return{publish(r,i){return process.env.ARC_CLOUDFORMATION?n(r,i):gJ(r,i)},subscribe:yJ}},"eventFactory")});var Ik=m((FV,Ck)=>{var Qm=process.env.NODE_ENV,bJ=Qm!=="staging"&&Qm!=="production";(!Qm||bJ)&&(process.env.NODE_ENV="testing");var eh=M1(),xJ=Km(),SJ=K1(),jc,EJ=J1(),qt={http:eh,static:xJ,ws:{send:EJ},services:function(){return new Promise(function(t,e){jc?t(jc):SJ(function(n,r){n?e(n):(jc=r,t(jc))})})}};qt.tables=tk()(qt);qt.queues=fk()(qt);qt.events=qk()(qt);qt.proxy={};qt.proxy.public=eh.proxy.public;qt.middleware=eh.middleware;Ck.exports=qt});var Cd=An(tx());var nx=An(require("assert"));function rx(){return{endpoint:Ke("DECI_S3_ENDPOINT","localhost:4568"),accessKeyId:Ke("DECI_S3_ACCESS_KEY_ID"),secretAccessKey:Ke("DECI_S3_SECRET_ACCESS_KEY"),buckets:{pads:Ke("DECI_S3_PADS_BUCKET"),attachments:Ke("DECI_S3_ATTACHMENTS_BUCKET")}}}a(rx,"s3");function ix(){return{sentry:{dsn:Ke("SENTRY_DSN","")}}}a(ix,"monitor");function sx(){return{userKeyValidationExpirationSeconds:Number(Ke("DECI_KEY_VALIDATION_EXPIRATION_SECONDS","2592000")),inviteExpirationSeconds:Number(Ke("DECI_INVITE_EXPIRATION_SECONDS","86400")),jwt:{secret:Ke("JWT_SECRET"),signingKey:Buffer.from(Ke("JWT_SIGNING_PRIVATE_KEY"),"base64").toString(),maxAge:Number(Ke("JWT_MAX_AGE","2592000"))},providers:{github:{clientId:Ke("GITHUB_CLIENT_ID"),clientSecret:Ke("GITHUB_CLIENT_SECRET")}}}}a(sx,"auth");function Ke(t,e=void 0){let n=process.env[t];return n==null&&(e!==void 0?n=e:(0,nx.fail)(`${t} env var must be defined`)),n}a(Ke,"env");var ax="0.0.1";var{sentry:{dsn:Id}}=ix();Id&&Cd.AWSLambda.init({dsn:Id,tracesSampleRate:1,environment:process.env.NODE_ENV,release:ax});function ox(t,e={}){if(Id){let{rethrow:n=!0}=e;return Cd.AWSLambda.wrapHandler(t,{rethrowAfterCapture:n})}return t}a(ox,"wrapHandler");var cx=a(t=>ox(async e=>{try{let n=await t(e);return n==null?{statusCode:404}:typeof n=="string"?{statusCode:ux(e),body:n,headers:{"content-type":"text/plain"}}:K2(n)?n:{statusCode:ux(e),headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify(n)}}catch(n){return console.error(n),{statusCode:500,json:{name:n.name,message:n.message,stack:n.stack}}}}),"default");function K2(t){return!!t.statusCode||!!t.json}a(K2,"isFullReturnObject");function ux(t){switch(t.routeKey.split(" ")[0]){case"PUT":case"DELETE":return 202;case"POST":return 201}return 200}a(ux,"okStatusCodeFor");var Ak=An(dx()),jk=An(bm());var Nc=An(Ik());function th(){return Math.round(Date.now()/1e3)}a(th,"timestamp");var wJ=["users","userkeys","permissions","workspaces","pads","workspaceroles","invites","futurefileattachments","fileattachments"],TJ=["userkeys","permissions","tags","usertaggedresources","fileattachments"],Pk;async function Ds(){return Pk||new Promise((e,n)=>{Nc.default.tables().then(r=>{let i=r;for(let s of wJ)CJ(i,s);for(let s of TJ)OJ(i,s);e(i)}).catch(n)})}a(Ds,"tables");function OJ(t,e){let n=t[e];if(!n)throw new Error("No table named "+e);n.__deci_observed__||(n.__deci_observed__=!0,n.put=kJ(n,e,n.put),n.delete=qJ(n,e,n.delete))}a(OJ,"observe");function kJ(t,e,n){return a(async function(i){let s=await n.call(t,i);return await Nc.default.queues.publish({name:`${e}-changes`,payload:{table:e,action:"put",args:i}}),s},"putReplacer")}a(kJ,"putReplacer");function qJ(t,e,n){return a(async function(i){let s=await t.get({id:i.id}),o=await n.call(t,i);return await Nc.default.queues.publish({name:`${e}-changes`,payload:{table:e,action:"delete",args:i,recordBeforeDelete:s}}),o},"deleteReplacer")}a(qJ,"deleteReplacer");function CJ(t,e){let n=t[e];if(!n)throw new Error("No table named "+e);typeof n.create!="function"&&(n.create=a(async function(i){return i.createdAt||(i.createdAt=th()),n.put(i)},"create"))}a(CJ,"enhance");var nh=An(bm());var IJ=sx().jwt,Rk=R(b({},IJ),{encode:nh.default.encode,decode:nh.default.decode});var Nk=["next-auth.session-token","__Secure-next-auth.session-token"];async function PJ(t){let{token:e,gotFromSecProtocolHeader:n}=RJ(t),r=null,i=null;if(e){let{decode:o}=jk.default;try{let c=await o(R(b({},Rk),{token:e}));if(c.accessToken){let u=await jJ(c.accessToken);if(u){let s=u,{secret:p}=s,l=ht(s,["secret"]);i=p,r=l}}}catch(c){console.error(c.message)}}return{user:r,token:e,secret:i,gotFromSecProtocolHeader:n}}a(PJ,"auth");function RJ(t){let e=!1,n=AJ(t.headers.Cookie||t.cookies||[]),r=n[Nk[0]]||n[Nk[1]]||t.headers.authorization||t.headers.Authorization;if(!r){let i=t.headers["sec-websocket-protocol"]||t.headers["Sec-WebSocket-Protocol"];if(i){let s=i.split(",").map(o=>o.trim()).filter(o=>o!=="graphql-transport-ws");s.length===1&&(r=s[0],e=!0)}}return r&&r.startsWith("Bearer ")&&(r=r.substring("Bearer ".length)),{token:r,gotFromSecProtocolHeader:e}}a(RJ,"getSessionToken");function AJ(t){return t||(t=[]),Array.isArray(t)||(t=[t]),t.reduce((e,n)=>{let{name:r,value:i}=(0,Ak.parse)(n);return e[r]=i,e},{})}a(AJ,"parseCookies");async function jJ(t){return(await(await Ds()).users.query({IndexName:"bySecret",KeyConditionExpression:"secret = :secret",ExpressionAttributeValues:{":secret":t}})).Items[0]}a(jJ,"findUserByAccessToken");var Mk=PJ;async function Bk(t,e,n="READ"){return(await(await Ds()).permissions.query({IndexName:"byResourceAndUser",KeyConditionExpression:"user_id = :user_id and resource_uri = :resource_uri",ExpressionAttributeValues:{":user_id":e.id,":resource_uri":MJ(t)}})).Items.some(NJ(n))}a(Bk,"isAuthorized");function NJ(t){return e=>t==="READ"?!0:t==="WRITE"?e.type==="WRITE"||e.type==="ADMIN":e.type===t}a(NJ,"isEnoughPermissionFor");function MJ(t){let[e,n]=t.split("/").filter(BJ);return`/${e}/${n}`}a(MJ,"canonizeResource");function BJ(t){return t.length>0}a(BJ,"notEmpty");function Dk(t){let e=(t||"").replace(/:/g,"/");return e.startsWith("/")||(e="/"+e),e}a(Dk,"decode");var Kk=An(require("aws-sdk/clients/s3"));var Lk=rx(),{buckets:DJ}=Lk,KJ=ht(Lk,["buckets"]),FJ=R(b({},KJ),{sslEnabled:process.env.NODE_ENV!=="testing",s3ForcePathStyle:!0,signatureVersion:"v4"}),LJ=DJ.pads,HJ=new Kk.default(FJ);function Fk(t){let e={Bucket:LJ,Key:UJ(t)};return HJ.getObject(e).promise().catch(n=>{if(n.statusCode===404||n.statusCode===403)return null;throw console.log(`Error getting ${t}:`,n),n}).then(n=>(n==null?void 0:n.Body)?n.Body.toString("utf-8"):null)}a(Fk,"get");function UJ(t){return encodeURIComponent(t)}a(UJ,"encodeId");exports.handler=cx(async t=>{let{user:e}=await Mk(t);if(!t.pathParameters)return{statusCode:401,body:"missing parameters"};let n=Dk(t.pathParameters.id);if(!e||!await Bk(n,e,"READ"))return{status:403,body:"Forbidden"};let r=await Fk(n);return r||{statusCode:403,body:"Not found"}});
//# sourceMappingURL=index.js.map
