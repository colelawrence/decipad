import { Meta, Story, Canvas, Props } from '@storybook/addon-docs/blocks';

import { Type } from '@decipad/language';
import { Result } from './Result.component';

<Meta
  title="Result"
  parameters={{
    docs: {
      source: {
        code: `<Result type={/* Type class from @decipad/language */} value={[[1234]]} />`,
      },
    },
  }}
  component={Result}
/>

# Result

The Result component is one of the most important components for our editor, this is where the user will do all of their calculations and decisions. The Result component gets automatic syntax highlighting once it is plugged into slate. The component itself is a slate specific component where it requires a result to be either undefined or a string to output the calculation's result.

export const Template = (args) => <Result {...args} />;

<Canvas>
  <Story
    name="Numeric result"
    args={{
      value: [1234],
      type: Type.build({ type: 'number' }),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="String result"
    args={{
      value: ['ayyy'],
      type: Type.build({ type: 'string' }),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Column result"
    args={{
      value: [[1, 2, 3]],
      type: Type.buildColumn(Type.build({ type: 'number' }), 3),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Errored result"
    args={{
      value: [[1, 2, 3]],
      type: Type.Impossible.withErrorCause('Oops! Some error occurred'),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
