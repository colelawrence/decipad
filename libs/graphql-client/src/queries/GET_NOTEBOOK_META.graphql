fragment UserAccessMeta on UserAccess {
  user {
    id
    name
    email
    image
  }
  permission
  canComment
}

fragment NotebookMetaData on Pad {
  id
  name
  status
  myPermissionType
  isPublic
  createdAt
  initialState
  gist
  workspace {
    id
    name
    isPremium
    plan
    myPermissionType
    access {
      id
      users {
        ...UserAccessMeta
      }
    }
    membersCount
    resourceUsages {
      id
      resourceType
      consumption
      quotaLimit
    }
  }
  snapshots {
    snapshotName
    createdAt
    updatedAt
    version
  }
  archived
  access {
    id
    users {
      ...UserAccessMeta
    }
  }
}

fragment NotebookWorkspacesData on Workspace {
  id
  name
}

query GetNotebookMeta($id: ID!) {
  getPadById(id: $id) {
    ...NotebookMetaData
  }
  workspaces {
    ...NotebookWorkspacesData
  }
}
