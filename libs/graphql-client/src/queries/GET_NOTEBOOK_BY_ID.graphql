fragment NotebookSnapshot on PadSnapshot {
  snapshotName
  createdAt
  updatedAt
  data
  version
}

fragment Collaborator on User {
  id
  image
  name
  email
  username
  onboarded
  emailValidatedAt
}

fragment WorkspaceExecutedQueryData on WorkspaceExecutedQuery {
  queryCount
  quotaLimit
}

fragment WorkspaceSubscriptionData on WorkspaceSubscription {
  id
  credits
  queries
  storage
  seats
}

fragment EditorNotebook on Pad {
  id
  name
  myPermissionType
  icon
  status
  isPublic
  createdAt
  archived
  gist
  canPublicDuplicate
  workspace {
    id
    name
    isPremium
    plan
    workspaceExecutedQuery {
      ...WorkspaceExecutedQueryData
    }
    workspaceSubscription {
      ...WorkspaceSubscriptionData
    }
  }
  padConnectionParams {
    url
    token
  }
  initialState
}

query GetNotebookById($id: ID!, $snapshotName: String) {
  getPadById(id: $id, snapshotName: $snapshotName) {
    ...EditorNotebook
  }
}
